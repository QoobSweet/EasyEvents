(()=>{var dK=Object.create,Ef=Object.defineProperty;var vO=Object.getOwnPropertyDescriptor;var fK=Object.getOwnPropertyNames;var hK=Object.getPrototypeOf,pK=Object.prototype.hasOwnProperty;var mK=t=>Ef(t,"__esModule",{value:!0});var Bm=(t,e)=>()=>(t&&(e=t(t=0)),e),De=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Bw=(t,e)=>{for(var n in e)Ef(t,n,{get:e[n],enumerable:!0})},vK=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of fK(e))!pK.call(t,r)&&r!=="default"&&Ef(t,r,{get:()=>e[r],enumerable:!(n=vO(e,r))||n.enumerable});return t},ei=t=>vK(mK(Ef(t!=null?dK(hK(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),J=(t,e,n,r)=>{for(var i=r>1?void 0:r?vO(e,n):e,o=t.length-1,a;o>=0;o--)(a=t[o])&&(i=(r?a(e,n,i):a(i))||i);return r&&i&&Ef(e,n,i),i};var Qw=De((gve,$m)=>{var GO,KO,$O,YO,XO,QO,JO,ZO,e1,Gm,Xw,t1,n1,r1,Vc,i1,o1,s1,a1,l1,c1,u1,d1,Km;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof $m=="object"&&typeof $m.exports=="object"?t(n(e,n($m.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(o,a){return r[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])};GO=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},KO=Object.assign||function(r){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},$O=function(r,i){var o={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(o[a[l]]=r[a[l]]);return o},YO=function(r,i,o,a){var l=arguments.length,c=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,o,a);else for(var f=r.length-1;f>=0;f--)(d=r[f])&&(c=(l<3?d(c):l>3?d(i,o,c):d(i,o))||c);return l>3&&c&&Object.defineProperty(i,o,c),c},XO=function(r,i){return function(o,a){i(o,a,r)}},QO=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},JO=function(r,i,o,a){function l(c){return c instanceof o?c:new o(function(d){d(c)})}return new(o||(o=Promise))(function(c,d){function f(g){try{m(a.next(g))}catch(y){d(y)}}function p(g){try{m(a.throw(g))}catch(y){d(y)}}function m(g){g.done?c(g.value):l(g.value).then(f,p)}m((a=a.apply(r,i||[])).next())})},ZO=function(r,i){var o={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(g){return p([m,g])}}function p(m){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,l=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(c=o.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){o.label=m[1];break}if(m[0]===6&&o.label<c[1]){o.label=c[1],c=m;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(m);break}c[2]&&o.ops.pop(),o.trys.pop();continue}m=i.call(r,o)}catch(g){m=[6,g],l=0}finally{a=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},e1=function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Km(i,r,o)},Km=Object.create?function(r,i,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]},Gm=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&r[i],a=0;if(o)return o.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Xw=function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var a=o.call(r),l,c=[],d;try{for(;(i===void 0||i-- >0)&&!(l=a.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(d)throw d.error}}return c},t1=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(Xw(arguments[i]));return r},n1=function(){for(var r=0,i=0,o=arguments.length;i<o;i++)r+=arguments[i].length;for(var a=Array(r),l=0,i=0;i<o;i++)for(var c=arguments[i],d=0,f=c.length;d<f;d++,l++)a[l]=c[d];return a},r1=function(r,i){for(var o=0,a=i.length,l=r.length;o<a;o++,l++)r[l]=i[o];return r},Vc=function(r){return this instanceof Vc?(this.v=r,this):new Vc(r)},i1=function(r,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(r,i||[]),l,c=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l;function d(_){a[_]&&(l[_]=function(w){return new Promise(function(S,C){c.push([_,w,S,C])>1||f(_,w)})})}function f(_,w){try{p(a[_](w))}catch(S){y(c[0][3],S)}}function p(_){_.value instanceof Vc?Promise.resolve(_.value.v).then(m,g):y(c[0][2],_)}function m(_){f("next",_)}function g(_){f("throw",_)}function y(_,w){_(w),c.shift(),c.length&&f(c[0][0],c[0][1])}},o1=function(r){var i,o;return i={},a("next"),a("throw",function(l){throw l}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(l,c){i[l]=r[l]?function(d){return(o=!o)?{value:Vc(r[l](d)),done:l==="return"}:c?c(d):d}:c}},s1=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],o;return i?i.call(r):(r=typeof Gm=="function"?Gm(r):r[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=r[c]&&function(d){return new Promise(function(f,p){d=r[c](d),l(f,p,d.done,d.value)})}}function l(c,d,f,p){Promise.resolve(p).then(function(m){c({value:m,done:f})},d)}},a1=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var n=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};l1=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&Km(i,r,o);return n(i,r),i},c1=function(r){return r&&r.__esModule?r:{default:r}},u1=function(r,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(r):a?a.value:i.get(r)},d1=function(r,i,o,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!l:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(r,o):l?l.value=o:i.set(r,o),o},t("__extends",GO),t("__assign",KO),t("__rest",$O),t("__decorate",YO),t("__param",XO),t("__metadata",QO),t("__awaiter",JO),t("__generator",ZO),t("__exportStar",e1),t("__createBinding",Km),t("__values",Gm),t("__read",Xw),t("__spread",t1),t("__spreadArrays",n1),t("__spreadArray",r1),t("__await",Vc),t("__asyncGenerator",i1),t("__asyncDelegator",o1),t("__asyncValues",s1),t("__makeTemplateObject",a1),t("__importStar",l1),t("__importDefault",c1),t("__classPrivateFieldGet",u1),t("__classPrivateFieldSet",d1)})});var f1,N,I,yve,D,bve,_ve,P,O,wve,Eve,mt,Ft,Sve,Oe,me,xve,Tve,Cve,Ive,Rve,Ave,kve,Dve,Nve,ie=Bm(()=>{f1=ei(Qw()),{__extends:N,__assign:I,__rest:yve,__decorate:D,__param:bve,__metadata:_ve,__awaiter:P,__generator:O,__exportStar:wve,__createBinding:Eve,__values:mt,__read:Ft,__spread:Sve,__spreadArrays:Oe,__spreadArray:me,__await:xve,__asyncGenerator:Tve,__asyncDelegator:Cve,__asyncValues:Ive,__makeTemplateObject:Rve,__importStar:Ave,__importDefault:kve,__classPrivateFieldGet:Dve,__classPrivateFieldSet:Nve}=f1.default});var v1={};Bw(v1,{CONSTANTS:()=>Ym,Deferred:()=>_n,ErrorFactory:()=>Kn,FirebaseError:()=>Di,MAX_VALUE_MILLIS:()=>p1,RANDOM_FACTOR:()=>m1,Sha1:()=>aE,areCookiesEnabled:()=>Qm,assert:()=>K,assertionError:()=>Cs,async:()=>OK,base64:()=>Xa,base64Decode:()=>Zw,base64Encode:()=>Jw,calculateBackoffMillis:()=>$c,contains:()=>On,createMockUserToken:()=>If,createSubscribe:()=>lE,decode:()=>Af,deepCopy:()=>Cf,deepExtend:()=>Qa,errorPrefix:()=>wn,extractQuerystring:()=>DK,getGlobal:()=>xK,getModularInstance:()=>ve,getUA:()=>Vo,isAdmin:()=>oE,isBrowser:()=>eE,isBrowserExtension:()=>qc,isElectron:()=>tE,isEmpty:()=>kf,isIE:()=>nE,isIndexedDBAvailable:()=>zc,isMobileCordova:()=>jc,isNode:()=>Xm,isNodeSdk:()=>ti,isReactNative:()=>Rf,isSafari:()=>SK,isUWP:()=>rE,isValidFormat:()=>iE,isValidTimestamp:()=>RK,issuedAtTime:()=>AK,jsonEval:()=>Ja,map:()=>Gc,ordinal:()=>UK,querystring:()=>sE,querystringDecode:()=>kK,safeGet:()=>jo,stringLength:()=>Kc,stringToByteArray:()=>uE,stringify:()=>Ut,validateArgCount:()=>de,validateCallback:()=>zt,validateContextObject:()=>Jm,validateIndexedDBOpenable:()=>Wc,validateNamespace:()=>MK});function Cf(t){return Qa(void 0,t)}function Qa(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!EK(r)||(t[r]=Qa(t[r],e[r]));return t}function EK(t){return t!=="__proto__"}function If(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=I({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Xa.encodeString(JSON.stringify(n),!1),Xa.encodeString(JSON.stringify(a),!1),l].join(".")}function Vo(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jc(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vo())}function Xm(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(t){return!1}}function eE(){return typeof self=="object"&&self.self===self}function qc(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tE(){return Vo().indexOf("Electron/")>=0}function nE(){var t=Vo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rE(){return Vo().indexOf("MSAppHost/")>=0}function ti(){return Ym.NODE_CLIENT===!0||Ym.NODE_ADMIN===!0}function SK(){return!Xm()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zc(){return"indexedDB"in self&&indexedDB!=null}function Wc(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function Qm(){return!(!navigator||!navigator.cookieEnabled)}function xK(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}function CK(t,e){return t.replace(IK,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}function Ja(t){return JSON.parse(t)}function Ut(t){return JSON.stringify(t)}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gc(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function sE(t){for(var e=[],n=function(c,d){Array.isArray(d)?d.forEach(function(f){e.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}):e.push(encodeURIComponent(c)+"="+encodeURIComponent(d))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],l=o[1];n(a,l)}return e.length?"&"+e.join("&"):""}function kK(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(r){if(r){var i=r.split("="),o=i[0],a=i[1];e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function DK(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lE(t,e){var n=new NK(t,e);return n.subscribe.bind(n)}function OK(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(i){e&&e(i)})}}function PK(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function cE(){}function wn(t,e){return t+" failed: "+e+" argument "}function MK(t,e,n){if(!(n&&!e)&&typeof e!="string")throw new Error(wn(t,"namespace")+"must be a valid firebase namespace.")}function zt(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(wn(t,e)+"must be a valid function.")}function Jm(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(wn(t,e)+"must be a valid context object.")}function $c(t,e,n){e===void 0&&(e=LK),n===void 0&&(n=FK);var r=e*Math.pow(n,t),i=Math.round(m1*r*(Math.random()-.5)*2);return Math.min(p1,r+i)}function UK(t){return Number.isFinite(t)?t+BK(t):""+t}function BK(t){t=Math.abs(t);var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return n===1?"st":n===2?"nd":n===3?"rd":"th"}function ve(t){return t&&t._delegate?t._delegate:t}var Ym,K,Cs,h1,wK,Xa,Jw,Zw,_n,TK,Di,Kn,IK,Af,RK,AK,iE,oE,aE,NK,de,uE,Kc,LK,FK,p1,m1,mr=Bm(()=>{ie();Ym={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};K=function(t,e){if(!t)throw Cs(e)},Cs=function(t){return new Error("Firebase Database ("+Ym.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};h1=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)==55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wK=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Xa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4,m=(l&15)<<2|d>>6,g=d&63;c||(g=64,a||(m=64)),r.push(n[f],n[p],n[m],n[g])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h1(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,l=a?n[t.charAt(i)]:0;++i;var c=i<t.length,d=c?n[t.charAt(i)]:64;++i;var f=i<t.length,p=f?n[t.charAt(i)]:64;if(++i,o==null||l==null||d==null||p==null)throw Error();var m=o<<2|l>>4;if(r.push(m),d!==64){var g=l<<4&240|d>>2;if(r.push(g),p!==64){var y=d<<6&192|p;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Jw=function(t){var e=h1(t);return Xa.encodeByteArray(e,!0)},Zw=function(t){try{return Xa.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};_n=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();TK="FirebaseError",Di=function(t){N(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=TK,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Kn.prototype.create),o}return e}(Error),Kn=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],l=a?CK(a,i):"Error",c=this.serviceName+": "+l+" ("+o+").",d=new Di(o,c,i);return d},t}();IK=/\{\$([^}]+)}/g;Af=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Ja(Zw(o[0])||""),n=Ja(Zw(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},RK=function(t){var e=Af(t).claims,n=Math.floor(new Date().getTime()/1e3),r=0,i=0;return typeof e=="object"&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),e.hasOwnProperty("exp")?i=e.exp:i=r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},AK=function(t){var e=Af(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},iE=function(t){var e=Af(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oE=function(t){var e=Af(t).claims;return typeof e=="object"&&e.admin===!0};aE=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,m,i=0;i<80;i++){i<40?i<20?(p=d^l&(c^d),m=1518500249):(p=l^c^d,m=1859775393):i<60?(p=l&c|d&(l|c),m=2400959708):(p=l^c^d,m=3395469782);var o=(a<<5|a>>>27)+p+f+m+r[i]&4294967295;f=d,d=c,c=(l<<30|l>>>2)&4294967295,l=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();NK=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PK(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=cE),o.error===void 0&&(o.error=cE),o.complete===void 0&&(o.complete=cE);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch(l){}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();de=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};uE=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kc=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};LK=1e3,FK=2,p1=4*60*60*1e3,m1=.5;});var g1={};Bw(g1,{Component:()=>ct,ComponentContainer:()=>Df,Provider:()=>Zm});function HK(t){return t===Is?void 0:t}function VK(t){return t.instantiationMode==="EAGER"}var ct,Is,Zm,Df,ni=Bm(()=>{ie();mr();ct=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();Is="[DEFAULT]";Zm=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(e){e===void 0&&(e=Is);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new _n;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(o){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=I({identifier:Is,optional:!1},e),r=n.identifier,i=n.optional,o=this.normalizeInstanceIdentifier(r);if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(VK(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch(p){}try{for(var i=mt(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Ft(o.value,2),l=a[0],c=a[1],d=this.normalizeInstanceIdentifier(l);try{var f=this.getOrInitializeService({instanceIdentifier:d});c.resolve(f)}catch(p){}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Is),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(me(me([],Ft(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ft(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=Is),this.instances.has(e)},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.instanceIdentifier,o=i===void 0?Is:i,a=e.options,l=a===void 0?{}:a,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var d=this.getOrInitializeService({instanceIdentifier:c,options:l});try{for(var f=mt(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var m=Ft(p.value,2),g=m[0],y=m[1],_=this.normalizeInstanceIdentifier(g);c===_&&y.resolve(d)}}catch(w){n={error:w}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(d,c),d},t.prototype.onInit=function(e){var n=this;return this.onInitCallbacks.add(e),function(){n.onInitCallbacks.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i;try{for(var o=mt(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,n)}catch(c){}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:HK(n),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Is:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();Df=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new Zm(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()});var ro=De(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});function Ni(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}var Za,dE=[];(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge.LogLevel||(Ge.LogLevel={}));var y1={debug:Ge.LogLevel.DEBUG,verbose:Ge.LogLevel.VERBOSE,info:Ge.LogLevel.INFO,warn:Ge.LogLevel.WARN,error:Ge.LogLevel.ERROR,silent:Ge.LogLevel.SILENT},jK=Ge.LogLevel.INFO,qK=(Za={},Za[Ge.LogLevel.DEBUG]="log",Za[Ge.LogLevel.VERBOSE]="log",Za[Ge.LogLevel.INFO]="info",Za[Ge.LogLevel.WARN]="warn",Za[Ge.LogLevel.ERROR]="error",Za),zK=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=qK[e];if(o)console[o].apply(console,Ni(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},WK=function(){function t(e){this.name=e,this._logLevel=jK,this._logHandler=zK,this._userLogHandler=null,dE.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ge.LogLevel))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?y1[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ni([this,Ge.LogLevel.DEBUG],e)),this._logHandler.apply(this,Ni([this,Ge.LogLevel.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ni([this,Ge.LogLevel.VERBOSE],e)),this._logHandler.apply(this,Ni([this,Ge.LogLevel.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ni([this,Ge.LogLevel.INFO],e)),this._logHandler.apply(this,Ni([this,Ge.LogLevel.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ni([this,Ge.LogLevel.WARN],e)),this._logHandler.apply(this,Ni([this,Ge.LogLevel.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ni([this,Ge.LogLevel.ERROR],e)),this._logHandler.apply(this,Ni([this,Ge.LogLevel.ERROR],e))},t}();function GK(t){dE.forEach(function(e){e.setLogLevel(t)})}function KK(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=y1[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(c,d){for(var f=[],p=2;p<arguments.length;p++)f[p-2]=arguments[p];var m=f.map(function(g){if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch(y){return null}}).filter(function(g){return g}).join(" ");d>=(l??c.logLevel)&&t({level:Ge.LogLevel[d].toLowerCase(),message:m,args:f,type:c.name})}},r=0,i=dE;r<i.length;r++){var o=i[r];n(o)}}Ge.Logger=WK;Ge.setLogLevel=GK;Ge.setUserLogHandler=KK});var w1={};Bw(w1,{default:()=>Z,firebase:()=>pE});function u$(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:d,setLogLevel:Yc.setLogLevel,onLog:f,apps:null,SDK_VERSION:c$,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:p}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete e[m]}function o(m){if(m=m||ev,!On(e,m))throw Xc.create("no-app",{appName:m});return e[m]}o.App=t;function a(m,g){if(g===void 0&&(g={}),typeof g!="object"||g===null){var y=g;g={name:y}}var _=g;_.name===void 0&&(_.name=ev);var w=_.name;if(typeof w!="string"||!w)throw Xc.create("bad-app-name",{appName:String(w)});if(On(e,w))throw Xc.create("duplicate-app",{appName:w});var S=new t(m,_,r);return e[w]=S,S}function l(){return Object.keys(e).map(function(m){return e[m]})}function c(m){var g=m.name;if(n.has(g))return Qc.debug("There were multiple attempts to register component "+g+"."),m.type==="PUBLIC"?r[g]:null;if(n.set(g,m),m.type==="PUBLIC"){var y=function(C){if(C===void 0&&(C=o()),typeof C[g]!="function")throw Xc.create("invalid-app-argument",{appName:g});return C[g]()};m.serviceProps!==void 0&&Qa(y,m.serviceProps),r[g]=y,t.prototype[g]=function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];var k=this._getService.bind(this,g);return k.apply(this,m.multipleInstances?C:[])}}for(var _=0,w=Object.keys(e);_<w.length;_++){var S=w[_];e[S]._addComponent(m)}return m.type==="PUBLIC"?r[g]:null}function d(m,g,y){var _,w=(_=l$[m])!==null&&_!==void 0?_:m;y&&(w+="-"+y);var S=w.match(/\s|\//),C=g.match(/\s|\//);if(S||C){var R=['Unable to register library "'+w+'" with version "'+g+'":'];S&&R.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),S&&C&&R.push("and"),C&&R.push('version name "'+g+'" contains illegal characters (whitespace or "/")'),Qc.warn(R.join(" "));return}c(new ct(w+"-version",function(){return{library:w,version:g}},"VERSION"))}function f(m,g){if(m!==null&&typeof m!="function")throw Xc.create("invalid-log-argument");(0,Yc.setUserLogHandler)(m,g)}function p(m,g){if(g==="serverAuth")return null;var y=g;return y}return r}function _1(){var t=u$(tv);t.INTERNAL=I(I({},t.INTERNAL),{createFirebaseNamespace:_1,extendNamespace:e,createSubscribe:lE,ErrorFactory:Kn,deepExtend:Qa});function e(n){Qa(t,n)}return t}function f$(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}function h$(t,e){t.INTERNAL.registerComponent(new ct("platform-logger",function(n){return new d$(n)},"PRIVATE")),t.registerVersion(b1,YK,e),t.registerVersion("fire-js","")}var Yc,Rs,$K,Xc,b1,YK,XK,QK,JK,ZK,e$,t$,n$,r$,i$,o$,s$,a$,Pn,ev,l$,Qc,tv,c$,fE,d$,hE,p$,pE,Z,vr=Bm(()=>{ie();mr();ni();Yc=ei(ro());$K=(Rs={},Rs["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Rs["bad-app-name"]="Illegal App name: '{$appName}",Rs["duplicate-app"]="Firebase App named '{$appName}' already exists",Rs["app-deleted"]="Firebase App named '{$appName}' already deleted",Rs["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Rs["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Rs),Xc=new Kn("app","Firebase",$K),b1="@firebase/app",YK="0.6.22",XK="@firebase/analytics",QK="@firebase/app-check",JK="@firebase/auth",ZK="@firebase/database",e$="@firebase/functions",t$="@firebase/installations",n$="@firebase/messaging",r$="@firebase/performance",i$="@firebase/remote-config",o$="@firebase/storage",s$="@firebase/firestore",a$="firebase-wrapper";ev="[DEFAULT]",l$=(Pn={},Pn[b1]="fire-core",Pn[XK]="fire-analytics",Pn[QK]="fire-app-check",Pn[JK]="fire-auth",Pn[ZK]="fire-rtdb",Pn[e$]="fire-fn",Pn[t$]="fire-iid",Pn[n$]="fire-fcm",Pn[r$]="fire-perf",Pn[i$]="fire-rc",Pn[o$]="fire-gcs",Pn[s$]="fire-fst",Pn["fire-js"]="fire-js",Pn[a$]="fire-js-all",Pn);Qc=new Yc.Logger("@firebase/app");tv=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=Cf(e),this.container=new Df(n.name),this._addComponent(new ct("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=ev),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=ev),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Qc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Xc.create("app-deleted",{appName:this.name_})},t}();tv.prototype.name&&tv.prototype.options||tv.prototype.delete||console.log("dc");c$="8.6.1";fE=_1();d$=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(f$(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();eE()&&self.firebase!==void 0&&(Qc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),hE=self.firebase.SDK_VERSION,hE&&hE.indexOf("LITE")>=0&&Qc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));p$=fE.initializeApp;fE.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xm()&&Qc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),p$.apply(void 0,t)};pE=fE;h$(pE);Z=pE});var CT=De((Kg,iB)=>{(function(t,e){typeof Kg=="object"&&typeof iB!="undefined"?e(Kg):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.idb={}))})(Kg,function(t){"use strict";function e(S){return Array.prototype.slice.call(S)}function n(S){return new Promise(function(C,R){S.onsuccess=function(){C(S.result)},S.onerror=function(){R(S.error)}})}function r(S,C,R){var k,F=new Promise(function(L,W){k=S[C].apply(S,R),n(k).then(L,W)});return F.request=k,F}function i(S,C,R){var k=r(S,C,R);return k.then(function(F){if(!!F)return new f(F,k.request)})}function o(S,C,R){R.forEach(function(k){Object.defineProperty(S.prototype,k,{get:function(){return this[C][k]},set:function(F){this[C][k]=F}})})}function a(S,C,R,k){k.forEach(function(F){F in R.prototype&&(S.prototype[F]=function(){return r(this[C],F,arguments)})})}function l(S,C,R,k){k.forEach(function(F){F in R.prototype&&(S.prototype[F]=function(){return this[C][F].apply(this[C],arguments)})})}function c(S,C,R,k){k.forEach(function(F){F in R.prototype&&(S.prototype[F]=function(){return i(this[C],F,arguments)})})}function d(S){this._index=S}o(d,"_index",["name","keyPath","multiEntry","unique"]),a(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(d,"_index",IDBIndex,["openCursor","openKeyCursor"]);function f(S,C){this._cursor=S,this._request=C}o(f,"_cursor",["direction","key","primaryKey","value"]),a(f,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(S){S in IDBCursor.prototype&&(f.prototype[S]=function(){var C=this,R=arguments;return Promise.resolve().then(function(){return C._cursor[S].apply(C._cursor,R),n(C._request).then(function(k){if(!!k)return new f(k,C._request)})})})});function p(S){this._store=S}p.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},o(p,"_store",["name","keyPath","indexNames","autoIncrement"]),a(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(p,"_store",IDBObjectStore,["deleteIndex"]);function m(S){this._tx=S,this.complete=new Promise(function(C,R){S.oncomplete=function(){C()},S.onerror=function(){R(S.error)},S.onabort=function(){R(S.error)}})}m.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},o(m,"_tx",["objectStoreNames","mode"]),l(m,"_tx",IDBTransaction,["abort"]);function g(S,C,R){this._db=S,this.oldVersion=C,this.transaction=new m(R)}g.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},o(g,"_db",["name","version","objectStoreNames"]),l(g,"_db",IDBDatabase,["deleteObjectStore","close"]);function y(S){this._db=S}y.prototype.transaction=function(){return new m(this._db.transaction.apply(this._db,arguments))},o(y,"_db",["name","version","objectStoreNames"]),l(y,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(S){[p,d].forEach(function(C){S in C.prototype&&(C.prototype[S.replace("open","iterate")]=function(){var R=e(arguments),k=R[R.length-1],F=this._store||this._index,L=F[S].apply(F,R.slice(0,-1));L.onsuccess=function(){k(L.result)}})})}),[d,p].forEach(function(S){S.prototype.getAll||(S.prototype.getAll=function(C,R){var k=this,F=[];return new Promise(function(L){k.iterateCursor(C,function(W){if(!W){L(F);return}if(F.push(W.value),R!==void 0&&F.length==R){L(F);return}W.continue()})})})});function _(S,C,R){var k=r(indexedDB,"open",[S,C]),F=k.request;return F&&(F.onupgradeneeded=function(L){R&&R(new g(F.result,L.oldVersion,F.transaction))}),k.then(function(L){return new y(L)})}function w(S){return r(indexedDB,"deleteDatabase",[S])}t.openDb=_,t.deleteDb=w,Object.defineProperty(t,"__esModule",{value:!0})})});var gC=De((cye,oV)=>{var Toe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Coe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];oV.exports=function(e){var n=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=Toe.exec(e||""),a={},l=14;l--;)a[Coe[l]]=o[l]||"";return r!=-1&&i!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Ioe(a,a.path),a.queryKey=Roe(a,a.query),a};function Ioe(t,e){var n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function Roe(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}});var aV=De((uye,sV)=>{var Ju=1e3,Zu=Ju*60,ed=Zu*60,Ul=ed*24,Aoe=Ul*7,koe=Ul*365.25;sV.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Doe(t);if(n==="number"&&isFinite(t))return e.long?Ooe(t):Noe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Doe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*koe;case"weeks":case"week":case"w":return n*Aoe;case"days":case"day":case"d":return n*Ul;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ed;case"minutes":case"minute":case"mins":case"min":case"m":return n*Zu;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ju;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Noe(t){var e=Math.abs(t);return e>=Ul?Math.round(t/Ul)+"d":e>=ed?Math.round(t/ed)+"h":e>=Zu?Math.round(t/Zu)+"m":e>=Ju?Math.round(t/Ju)+"s":t+"ms"}function Ooe(t){var e=Math.abs(t);return e>=Ul?gy(t,e,Ul,"day"):e>=ed?gy(t,e,ed,"hour"):e>=Zu?gy(t,e,Zu,"minute"):e>=Ju?gy(t,e,Ju,"second"):t+" ms"}function gy(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var cV=De((dye,lV)=>{function Poe(t){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=i,n.enabled=a,n.humanize=aV(),n.destroy=d,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let p=0;for(let m=0;m<f.length;m++)p=(p<<5)-p+f.charCodeAt(m),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=e;function n(f){let p,m=null;function g(...y){if(!g.enabled)return;let _=g,w=Number(new Date),S=w-(p||w);_.diff=S,_.prev=p,_.curr=w,p=w,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(k,F)=>{if(k==="%%")return"%";C++;let L=n.formatters[F];if(typeof L=="function"){let W=y[C];k=L.call(_,W),y.splice(C,1),C--}return k}),n.formatArgs.call(_,y),(_.log||n.log).apply(_,y)}return g.namespace=f,g.useColors=n.useColors(),g.color=n.selectColor(f),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>m===null?n.enabled(f):m,set:y=>{m=y}}),typeof n.init=="function"&&n.init(g),g}function r(f,p){let m=n(this.namespace+(typeof p=="undefined"?":":p)+f);return m.log=this.log,m}function i(f){n.save(f),n.names=[],n.skips=[];let p,m=(typeof f=="string"?f:"").split(/[\s,]+/),g=m.length;for(p=0;p<g;p++)!m[p]||(f=m[p].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.substr(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...n.names.map(l),...n.skips.map(l).map(p=>"-"+p)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let p,m;for(p=0,m=n.skips.length;p<m;p++)if(n.skips[p].test(f))return!1;for(p=0,m=n.names.length;p<m;p++)if(n.names[p].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}lV.exports=Poe});var ji=De((qr,yy)=>{qr.formatArgs=Loe;qr.save=Foe;qr.load=Uoe;qr.useColors=Moe;qr.storage=Boe();qr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();qr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Moe(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Loe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+yy.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}qr.log=console.debug||console.log||(()=>{});function Foe(t){try{t?qr.storage.setItem("debug",t):qr.storage.removeItem("debug")}catch(e){}}function Uoe(){let t;try{t=qr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Boe(){try{return localStorage}catch(t){}}yy.exports=cV()(qr);var{formatters:Hoe}=yy.exports;Hoe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var dV=De(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});by.url=void 0;var Voe=gC(),uV=ji()("socket.io-client:url");function joe(t,e="",n){let r=t;n=n||typeof location!="undefined"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(uV("protocol-less url %s",t),typeof n!="undefined"?t=n.protocol+"//"+t:t="https://"+t),uV("parse %s",t),r=Voe(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}by.url=joe});var fV=De((hye,yC)=>{try{yC.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){yC.exports=!1}});var Jh=De((pye,hV)=>{hV.exports=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())()});var bC=De((mye,pV)=>{var qoe=fV(),zoe=Jh();pV.exports=function(t){let e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||qoe))return new XMLHttpRequest}catch(i){}try{if(typeof XDomainRequest!="undefined"&&!n&&r)return new XDomainRequest}catch(i){}if(!e)try{return new zoe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(i){}}});var _C=De((vye,vV)=>{var yo=Object.create(null);yo.open="0";yo.close="1";yo.ping="2";yo.pong="3";yo.message="4";yo.upgrade="5";yo.noop="6";var mV=Object.create(null);Object.keys(yo).forEach(t=>{mV[yo[t]]=t});var Woe={type:"error",data:"parser error"};vV.exports={PACKET_TYPES:yo,PACKET_TYPES_REVERSE:mV,ERROR_PACKET:Woe}});var bV=De((gye,yV)=>{var{PACKET_TYPES:Goe}=_C(),Koe=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",$oe=typeof ArrayBuffer=="function",Yoe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Xoe=({type:t,data:e},n,r)=>Koe&&e instanceof Blob?n?r(e):gV(e,r):$oe&&(e instanceof ArrayBuffer||Yoe(e))?n?r(e instanceof ArrayBuffer?e:e.buffer):gV(new Blob([e]),r):r(Goe[t]+(e||"")),gV=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+r)},n.readAsDataURL(t)};yV.exports=Xoe});var _V=De(wC=>{(function(t){"use strict";wC.encode=function(e){var n=new Uint8Array(e),r,i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(n[r]&3)<<4|n[r+1]>>4],o+=t[(n[r+1]&15)<<2|n[r+2]>>6],o+=t[n[r+2]&63];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},wC.decode=function(e){var n=e.length*.75,r=e.length,i,o=0,a,l,c,d;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var f=new ArrayBuffer(n),p=new Uint8Array(f);for(i=0;i<r;i+=4)a=t.indexOf(e[i]),l=t.indexOf(e[i+1]),c=t.indexOf(e[i+2]),d=t.indexOf(e[i+3]),p[o++]=a<<2|l>>4,p[o++]=(l&15)<<4|c>>2,p[o++]=(c&3)<<6|d&63;return f}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")});var SV=De((bye,EV)=>{var{PACKET_TYPES_REVERSE:EC,ERROR_PACKET:Qoe}=_C(),Joe=typeof ArrayBuffer=="function",SC;Joe&&(SC=_V());var Zoe=(t,e)=>{if(typeof t!="string")return{type:"message",data:wV(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:ese(t.substring(1),e)}:EC[n]?t.length>1?{type:EC[n],data:t.substring(1)}:{type:EC[n]}:Qoe},ese=(t,e)=>{if(SC){let n=SC.decode(t);return wV(n,e)}else return{base64:!0,data:t}},wV=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};EV.exports=Zoe});var td=De((_ye,IV)=>{var xV=bV(),TV=SV(),CV=String.fromCharCode(30),tse=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((o,a)=>{xV(o,!1,l=>{r[a]=l,++i===n&&e(r.join(CV))})})},nse=(t,e)=>{let n=t.split(CV),r=[];for(let i=0;i<n.length;i++){let o=TV(n[i],e);if(r.push(o),o.type==="error")break}return r};IV.exports={protocol:4,encodePacket:xV,encodePayload:tse,decodePacket:TV,decodePayload:nse}});var nd=De((wye,xC)=>{typeof xC!="undefined"&&(xC.exports=zr);function zr(t){if(t)return rse(t)}function rse(t){for(var e in zr.prototype)t[e]=zr.prototype[e];return t}zr.prototype.on=zr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};zr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};zr.prototype.off=zr.prototype.removeListener=zr.prototype.removeAllListeners=zr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};zr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};zr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};zr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var _y=De((Eye,AV)=>{var ise=td(),ose=nd(),sse=ji()("engine.io-client:transport"),RV=class extends ose{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n){let r=new Error(e);return r.type="TransportError",r.description=n,this.emit("error",r),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):sse("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let n=ise.decodePacket(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}};AV.exports=RV});var wy=De(TC=>{TC.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e};TC.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}});var RC=De((xye,PV)=>{"use strict";var kV="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ey=64,DV={},NV=0,sa=0,OV;function CC(t){var e="";do e=kV[t%Ey]+e,t=Math.floor(t/Ey);while(t>0);return e}function ase(t){var e=0;for(sa=0;sa<t.length;sa++)e=e*Ey+DV[t.charAt(sa)];return e}function IC(){var t=CC(+new Date);return t!==OV?(NV=0,OV=t):t+"."+CC(NV++)}for(;sa<Ey;sa++)DV[kV[sa]]=sa;IC.encode=CC;IC.decode=ase;PV.exports=IC});var AC=De((Tye,FV)=>{var lse=_y(),cse=wy(),MV=td(),use=RC(),qi=ji()("engine.io-client:polling"),LV=class extends lse{get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let n=()=>{qi("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(qi("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){qi("pre-pause polling complete"),--r||n()})),this.writable||(qi("we are currently writing - waiting to pause"),r++,this.once("drain",function(){qi("pre-pause writing complete"),--r||n()}))}else n()}poll(){qi("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){qi("polling got data %s",e);let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose(),!1;this.onPacket(r)};MV.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():qi('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{qi("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(qi("transport open - closing"),e()):(qi("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,MV.encodePayload(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},n=this.opts.secure?"https":"http",r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=use()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=cse.encode(e),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+e}};FV.exports=LV});var kC=De((Cye,UV)=>{UV.exports.pick=(t,...e)=>e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})});var qV=De((Iye,NC)=>{var BV=bC(),dse=AC(),fse=nd(),{pick:hse}=kC(),pse=Jh(),DC=ji()("engine.io-client:polling-xhr");function HV(){}var mse=function(){return new BV({xdomain:!1}).responseType!=null}(),VV=class extends dse{constructor(e){super(e);if(typeof location!="undefined"){let r=location.protocol==="https:",i=location.port;i||(i=r?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}let n=e&&e.forceBase64;this.supportsBinary=mse&&!n}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new pi(this.uri(),e)}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",i=>{this.onError("xhr post error",i)})}doPoll(){DC("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",n=>{this.onError("xhr poll error",n)}),this.pollXhr=e}},pi=class extends fse{constructor(e,n){super();this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){let e=hse(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let n=this.xhr=new BV(e);try{DC("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch(r){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),this.hasXDR()?(n.onload=()=>{this.onLoad()},n.onerror=()=>{this.onError(n.responseText)}):n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():setTimeout(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},DC("xhr data %s",this.data),n.send(this.data)}catch(r){setTimeout(()=>{this.onError(r)},0);return}typeof document!="undefined"&&(this.index=pi.requestsCount++,pi.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=HV:this.xhr.onreadystatechange=HV,e)try{this.xhr.abort()}catch(n){}typeof document!="undefined"&&delete pi.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};pi.requestsCount=0;pi.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",jV);else if(typeof addEventListener=="function"){let t="onpagehide"in pse?"pagehide":"unload";addEventListener(t,jV,!1)}}function jV(){for(let t in pi.requests)pi.requests.hasOwnProperty(t)&&pi.requests[t].abort()}NC.exports=VV;NC.exports.Request=pi});var KV=De((Rye,GV)=>{var vse=AC(),zV=Jh(),gse=/\n/g,yse=/\\n/g,Sy,WV=class extends vse{constructor(e){super(e);this.query=this.query||{},Sy||(Sy=zV.___eio=zV.___eio||[]),this.index=Sy.length,Sy.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=i=>{this.onError("jsonp poll error",i)};let n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)}doWrite(e,n){let r;if(!this.form){let a=document.createElement("form"),l=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),l.name="d",a.appendChild(l),document.body.appendChild(a),this.form=a,this.area=l}this.form.action=this.uri();function i(){o(),n()}let o=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(a){this.onError("jsonp polling iframe removal error",a)}try{let a='<iframe src="javascript:0" name="'+this.iframeId+'">';r=document.createElement(a)}catch(a){r=document.createElement("iframe"),r.name=this.iframeId,r.src="javascript:0"}r.id=this.iframeId,this.form.appendChild(r),this.iframe=r};o(),e=e.replace(yse,`\\
`),this.area.value=e.replace(gse,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{this.iframe.readyState==="complete"&&i()}:this.iframe.onload=i}};GV.exports=WV});var XV=De((Aye,YV)=>{var $V=Jh();YV.exports={WebSocket:$V.WebSocket||$V.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}});var e4=De((kye,ZV)=>{var QV=_y(),bse=td(),_se=wy(),wse=RC(),{pick:Ese}=kC(),{WebSocket:Zh,usingBrowserWebSocket:OC,defaultBinaryType:Sse}=XV(),xse=ji()("engine.io-client:websocket"),JV=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",xy=class extends QV{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),n=this.opts.protocols,r=JV?{}:Ese(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=OC&&!JV?n?new Zh(e,n):new Zh(e):new Zh(e,n,r)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||Sse,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;bse.encodePacket(r,this.supportsBinary,o=>{let a={};OC||(r.options&&(a.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof o=="string"?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(a.compress=!1));try{OC?this.ws.send(o):this.ws.send(o,a)}catch(l){xse("websocket closed before onclose event")}i&&setTimeout(()=>{this.writable=!0,this.emit("drain")},0)})}}onClose(){QV.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},n=this.opts.secure?"wss":"ws",r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=wse()),this.supportsBinary||(e.b64=1),e=_se.encode(e),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+e}check(){return!!Zh&&!("__initialize"in Zh&&this.name===xy.prototype.name)}};ZV.exports=xy});var MC=De(PC=>{var Tse=bC(),Cse=qV(),Ise=KV(),Rse=e4();PC.polling=Ase;PC.websocket=Rse;function Ase(t){let e,n=!1,r=!1,i=t.jsonp!==!1;if(typeof location!="undefined"){let o=location.protocol==="https:",a=location.port;a||(a=o?443:80),n=t.hostname!==location.hostname||a!==t.port,r=t.secure!==o}if(t.xdomain=n,t.xscheme=r,e=new Tse(t),"open"in e&&!t.forceJSONP)return new Cse(t);if(!i)throw new Error("JSONP disabled");return new Ise(t)}});var i4=De((Nye,r4)=>{var kse=MC(),Dse=nd(),Bt=ji()("engine.io-client:socket"),t4=td(),n4=gC(),Nse=wy(),bo=class extends Dse{constructor(e,n={}){super();e&&typeof e=="object"&&(n=e,e=null),e?(e=n4(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=n4(n.host).host),this.secure=n.secure!=null?n.secure:typeof location!="undefined"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=n.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Nse.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Bt('creating transport "%s"',e);let n=Ose(this.opts.query);n.EIO=t4.protocol,n.transport=e,this.id&&(n.sid=this.id);let r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Bt("options: %j",r),new kse[e](r)}open(){let e;if(this.opts.rememberUpgrade&&bo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){setTimeout(()=>{this.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(n){Bt("error while creating transport: %s",n),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Bt("setting transport %s",e.name),this.transport&&(Bt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){Bt('probing transport "%s"',e);let n=this.createTransport(e,{probe:1}),r=!1;bo.priorWebsocketSuccess=!1;let i=()=>{r||(Bt('probe transport "%s" opened',e),n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(Bt('probe transport "%s" pong',e),this.upgrading=!0,this.emit("upgrading",n),!n)return;bo.priorWebsocketSuccess=n.name==="websocket",Bt('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||this.readyState!=="closed"&&(Bt("changing transport and sending upgrade packet"),f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emit("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{Bt('probe transport "%s" failed',e);let m=new Error("probe error");m.transport=n.name,this.emit("upgradeError",m)}}))};function o(){r||(r=!0,f(),n.close(),n=null)}let a=p=>{let m=new Error("probe error: "+p);m.transport=n.name,o(),Bt('probe transport "%s" failed because of error: %s',e,p),this.emit("upgradeError",m)};function l(){a("transport closed")}function c(){a("socket closed")}function d(p){n&&p.name!==n.name&&(Bt('"%s" works - aborting "%s"',p.name,n.name),o())}let f=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",l),this.removeListener("close",c),this.removeListener("upgrading",d)};n.once("open",i),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",d),n.open()}onOpen(){if(Bt("socket open"),this.readyState="open",bo.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Bt("starting upgrade probes");let e=0,n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Bt('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Bt('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Bt("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let o={type:e,data:n,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),Bt("socket closing - telling transport to close"),this.transport.close()},n=()=>{this.removeListener("upgrade",n),this.removeListener("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Bt("socket error %j",e),bo.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(Bt('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let n=[],r=0,i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};bo.priorWebsocketSuccess=!1;bo.protocol=t4.protocol;function Ose(t){let e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}r4.exports=bo});var o4=De((Oye,Bl)=>{var LC=i4();Bl.exports=(t,e)=>new LC(t,e);Bl.exports.Socket=LC;Bl.exports.protocol=LC.protocol;Bl.exports.Transport=_y();Bl.exports.transports=MC();Bl.exports.parser=td()});var FC=De(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.hasBinary=rd.isBinary=void 0;var Pse=typeof ArrayBuffer=="function",Mse=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,s4=Object.prototype.toString,Lse=typeof Blob=="function"||typeof Blob!="undefined"&&s4.call(Blob)==="[object BlobConstructor]",Fse=typeof File=="function"||typeof File!="undefined"&&s4.call(File)==="[object FileConstructor]";function a4(t){return Pse&&(t instanceof ArrayBuffer||Mse(t))||Lse&&t instanceof Blob||Fse&&t instanceof File}rd.isBinary=a4;function Ty(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Ty(t[n]))return!0;return!1}if(a4(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ty(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ty(t[n]))return!0;return!1}rd.hasBinary=Ty});var l4=De(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.reconstructPacket=id.deconstructPacket=void 0;var Use=FC();function Bse(t){let e=[],n=t.data,r=t;return r.data=UC(n,e),r.attachments=e.length,{packet:r,buffers:e}}id.deconstructPacket=Bse;function UC(t,e){if(!t)return t;if(Use.isBinary(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=UC(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)t.hasOwnProperty(r)&&(n[r]=UC(t[r],e));return n}return t}function Hse(t,e){return t.data=BC(t.data,e),t.attachments=void 0,t}id.reconstructPacket=Hse;function BC(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=BC(t[n],e);else if(typeof t=="object")for(let n in t)t.hasOwnProperty(n)&&(t[n]=BC(t[n],e));return t}});var Iy=De(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.Decoder=zi.Encoder=zi.PacketType=zi.protocol=void 0;var Vse=nd(),c4=l4(),u4=FC(),HC=ji()("socket.io-parser");zi.protocol=5;var Yt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Yt=zi.PacketType||(zi.PacketType={}));var d4=class{encode(e){return HC("encoding packet %j",e),(e.type===Yt.EVENT||e.type===Yt.ACK)&&u4.hasBinary(e)?(e.type=e.type===Yt.EVENT?Yt.BINARY_EVENT:Yt.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Yt.BINARY_EVENT||e.type===Yt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data)),HC("encoded %j as %s",e,n),n}encodeAsBinary(e){let n=c4.deconstructPacket(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};zi.Encoder=d4;var Cy=class extends Vse{constructor(){super()}add(e){let n;if(typeof e=="string")n=this.decodeString(e),n.type===Yt.BINARY_EVENT||n.type===Yt.BINARY_ACK?(this.reconstructor=new f4(n),n.attachments===0&&super.emit("decoded",n)):super.emit("decoded",n);else if(u4.isBinary(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emit("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if(Yt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Yt.BINARY_EVENT||r.type===Yt.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let a=e.substring(o,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=jse(e.substr(n));if(Cy.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return HC("decoded %s as %j",e,r),r}static isPayloadValid(e,n){switch(e){case Yt.CONNECT:return typeof n=="object";case Yt.DISCONNECT:return n===void 0;case Yt.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Yt.EVENT:case Yt.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Yt.ACK:case Yt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};zi.Decoder=Cy;function jse(t){try{return JSON.parse(t)}catch(e){return!1}}var f4=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=c4.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var VC=De(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});Ry.on=void 0;function qse(t,e,n){return t.on(e,n),function(){t.off(e,n)}}Ry.on=qse});var jC=De(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.StrictEventEmitter=void 0;var zse=nd(),h4=class extends zse{on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}emit(e,...n){return super.emit(e,...n),this}emitReserved(e,...n){return super.emit(e,...n),this}listeners(e){return super.listeners(e)}};Ay.StrictEventEmitter=h4});var qC=De(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});Dy.Socket=void 0;var mi=Iy(),ky=VC(),Wse=jC(),vi=ji()("socket.io-client:socket"),Gse=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),p4=class extends Wse.StrictEventEmitter{constructor(e,n,r){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let e=this.io;this.subs=[ky.on(e,"open",this.onopen.bind(this)),ky.on(e,"packet",this.onpacket.bind(this)),ky.on(e,"error",this.onerror.bind(this)),ky.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Gse.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);let r={type:mi.PacketType.EVENT,data:n};r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"&&(vi("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),r.id=this.ids++);let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?vi("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){vi("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this.packet({type:mi.PacketType.CONNECT,data:e})}):this.packet({type:mi.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){vi("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case mi.PacketType.CONNECT:if(e.data&&e.data.sid){let i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mi.PacketType.EVENT:this.onevent(e);break;case mi.PacketType.BINARY_EVENT:this.onevent(e);break;case mi.PacketType.ACK:this.onack(e);break;case mi.PacketType.BINARY_ACK:this.onack(e);break;case mi.PacketType.DISCONNECT:this.ondisconnect();break;case mi.PacketType.CONNECT_ERROR:let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];vi("emitting event %j",n),e.id!=null&&(vi("attaching ack callback to event"),n.push(this.ack(e.id))),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e)}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,vi("sending ack %j",i),n.packet({type:mi.PacketType.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"?(vi("calling ack %s with %j",e.id,e.data),n.apply(this,e.data),delete this.acks[e.id]):vi("bad ack %s",e.id)}onconnect(e){vi("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){vi("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(vi("performing disconnect (%s)",this.nsp),this.packet({type:mi.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}};Dy.Socket=p4});var v4=De((Hye,m4)=>{m4.exports=od;function od(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}od.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};od.prototype.reset=function(){this.attempts=0};od.prototype.setMin=function(t){this.ms=t};od.prototype.setMax=function(t){this.max=t};od.prototype.setJitter=function(t){this.jitter=t}});var zC=De(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});Ny.Manager=void 0;var Kse=o4(),$se=qC(),Yse=Iy(),Hl=VC(),Xse=v4(),Qse=jC(),Rn=ji()("socket.io-client:manager"),g4=class extends Qse.StrictEventEmitter{constructor(e,n){super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||Infinity),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(n.randomizationFactor||.5),this.backoff=new Xse({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let r=n.parser||Yse;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(Rn("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Rn("opening %s",this.uri),this.engine=Kse(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Hl.on(n,"open",function(){r.onopen(),e&&e()}),o=Hl.on(n,"error",a=>{Rn("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",a),e?e(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){let a=this._timeout;Rn("connect attempt will timeout after %d",a),a===0&&i();let l=setTimeout(()=>{Rn("connect attempt timed out after %d",a),i(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){Rn("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Hl.on(e,"ping",this.onping.bind(this)),Hl.on(e,"data",this.ondata.bind(this)),Hl.on(e,"error",this.onerror.bind(this)),Hl.on(e,"close",this.onclose.bind(this)),Hl.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){Rn("error",e),this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r||(r=new $se.Socket(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active){Rn("socket %s is still active, skipping close",r);return}this._close()}_packet(e){Rn("writing packet %j",e);let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){Rn("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){Rn("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){Rn("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Rn("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();Rn("will wait %dms before reconnect attempt",n),this._reconnecting=!0;let r=setTimeout(()=>{e.skipReconnect||(Rn("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(Rn("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(Rn("reconnect success"),e.onreconnect())}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};Ny.Manager=g4});var w4=De((wr,_4)=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.io=wr.Socket=wr.Manager=wr.protocol=void 0;var Jse=dV(),y4=zC(),b4=ji()("socket.io-client");_4.exports=wr=Oy;var ep=wr.managers={};function Oy(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=Jse.url(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=ep[i]&&o in ep[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a,c;return l?(b4("ignoring socket cache for %s",r),c=new y4.Manager(r,e)):(ep[i]||(b4("new io instance for %s",r),ep[i]=new y4.Manager(r,e)),c=ep[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}wr.io=Oy;var Zse=Iy();Object.defineProperty(wr,"protocol",{enumerable:!0,get:function(){return Zse.protocol}});wr.connect=Oy;var eae=zC();Object.defineProperty(wr,"Manager",{enumerable:!0,get:function(){return eae.Manager}});var tae=qC();Object.defineProperty(wr,"Socket",{enumerable:!0,get:function(){return tae.Socket}});wr.default=Oy});var Hm=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gO=Symbol(),Vm=class{constructor(e,n){if(n!==gO)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return Hm&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}},yO=new Map,bO=t=>{let e=yO.get(t);return e===void 0&&yO.set(t,e=new Vm(t,gO)),e},_O=t=>bO(typeof t=="string"?t:t+""),Et=(t,...e)=>{let n=t.length===1?t[0]:e.reduce((r,i,o)=>r+(a=>{if(a instanceof Vm)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return bO(n)},Hw=(t,e)=>{Hm?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{let r=document.createElement("style");r.textContent=n.cssText,t.appendChild(r)})},jm=Hm?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(let r of e.cssRules)n+=r.cssText;return _O(n)})(t):t;var wO,Vw,jw,EO,qw={toAttribute(t,e){switch(e){case Boolean:t=t?"":null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(r){n=null}}return n}},SO=(t,e)=>e!==t&&(e==e||t==t),zw={attribute:!0,type:String,converter:qw,reflect:!1,hasChanged:SO},xs=class extends HTMLElement{constructor(){super(),this.\u03A0i=new Map,this.\u03A0o=void 0,this.\u03A0l=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.\u03A0h=null,this.u()}static addInitializer(e){var n;(n=this.v)!==null&&n!==void 0||(this.v=[]),this.v.push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((n,r)=>{let i=this.\u03A0p(r,n);i!==void 0&&(this.\u03A0m.set(i,r),e.push(i))}),e}static createProperty(e,n=zw){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let o=this[e];this[n]=i,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||zw}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this.\u03A0m=new Map,this.hasOwnProperty("properties")){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let n=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let i of r)n.unshift(jm(i))}else e!==void 0&&n.push(jm(e));return n}static \u03A0p(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this.\u03A0g=new Promise(n=>this.enableUpdating=n),this.L=new Map,this.\u03A0_(),this.requestUpdate(),(e=this.constructor.v)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this.\u03A0U)!==null&&n!==void 0?n:this.\u03A0U=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this.\u03A0U)===null||n===void 0||n.splice(this.\u03A0U.indexOf(e)>>>0,1)}\u03A0_(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this.\u03A0i.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;let n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Hw(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this.\u03A0U)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)}),this.\u03A0l&&(this.\u03A0l(),this.\u03A0o=this.\u03A0l=void 0)}enableUpdating(e){}disconnectedCallback(){var e;(e=this.\u03A0U)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)}),this.\u03A0o=new Promise(n=>this.\u03A0l=n)}attributeChangedCallback(e,n,r){this.K(e,r)}\u03A0j(e,n,r=zw){var i,o;let a=this.constructor.\u03A0p(e,r);if(a!==void 0&&r.reflect===!0){let l=((o=(i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==null&&o!==void 0?o:qw.toAttribute)(n,r.type);this.\u03A0h=e,l==null?this.removeAttribute(a):this.setAttribute(a,l),this.\u03A0h=null}}K(e,n){var r,i,o;let a=this.constructor,l=a.\u03A0m.get(e);if(l!==void 0&&this.\u03A0h!==l){let c=a.getPropertyOptions(l),d=c.converter,f=(o=(i=(r=d)===null||r===void 0?void 0:r.fromAttribute)!==null&&i!==void 0?i:typeof d=="function"?d:null)!==null&&o!==void 0?o:qw.fromAttribute;this.\u03A0h=l,this[l]=f(n,c.type),this.\u03A0h=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||SO)(this[e],n)?(this.L.has(e)||this.L.set(e,n),r.reflect===!0&&this.\u03A0h!==e&&(this.\u03A0k===void 0&&(this.\u03A0k=new Map),this.\u03A0k.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this.\u03A0g=this.\u03A0q())}async \u03A0q(){this.isUpdatePending=!0;try{for(await this.\u03A0g;this.\u03A0o;)await this.\u03A0o}catch(n){Promise.reject(n)}let e=this.performUpdate();return e!=null&&await e,!this.isUpdatePending}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this.\u03A0i&&(this.\u03A0i.forEach((i,o)=>this[o]=i),this.\u03A0i=void 0);let n=!1,r=this.L;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this.\u03A0U)===null||e===void 0||e.forEach(i=>{var o;return(o=i.hostUpdate)===null||o===void 0?void 0:o.call(i)}),this.update(r)):this.\u03A0$()}catch(i){throw n=!1,this.\u03A0$(),i}n&&this.E(r)}willUpdate(e){}E(e){var n;(n=this.\u03A0U)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}\u03A0$(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.\u03A0g}shouldUpdate(e){return!0}update(e){this.\u03A0k!==void 0&&(this.\u03A0k.forEach((n,r)=>this.\u03A0j(r,this[r],n)),this.\u03A0k=void 0),this.\u03A0$()}updated(e){}firstUpdated(e){}};xs.finalized=!0,xs.elementProperties=new Map,xs.elementStyles=[],xs.shadowRootOptions={mode:"open"},(Vw=(wO=globalThis).reactiveElementPlatformSupport)===null||Vw===void 0||Vw.call(wO,{ReactiveElement:xs}),((jw=(EO=globalThis).reactiveElementVersions)!==null&&jw!==void 0?jw:EO.reactiveElementVersions=[]).push("1.0.0-rc.2");var xO,Ww,Gw,TO,qm=globalThis.trustedTypes,CO=qm?qm.createPolicy("lit-html",{createHTML:t=>t}):void 0,Ts=`lit$${(Math.random()+"").slice(9)}$`,IO="?"+Ts,gK=`<${IO}>`,Lc=document,Sf=(t="")=>Lc.createComment(t),zm=t=>t===null||typeof t!="object"&&typeof t!="function",RO=Array.isArray,yK=t=>{var e;return RO(t)||typeof((e=t)===null||e===void 0?void 0:e[Symbol.iterator])=="function"},xf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,AO=/-->/g,kO=/>/g,$a=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,DO=/'/g,NO=/"/g,OO=/^(?:script|style|textarea)$/i,PO=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),ee=PO(1),Mme=PO(2),Ya=Symbol.for("lit-noChange"),bn=Symbol.for("lit-nothing"),MO=new WeakMap,LO=(t,e,n)=>{var r,i;let o=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e,a=o._$litPart$;if(a===void 0){let l=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;o._$litPart$=a=new Hc(e.insertBefore(Sf(),l),l,void 0,n)}return a.I(t),a},Fc=Lc.createTreeWalker(Lc,129,null,!1),bK=(t,e)=>{let n=t.length-1,r=[],i,o=e===2?"<svg>":"",a=xf;for(let c=0;c<n;c++){let d=t[c],f,p,m=-1,g=0;for(;g<d.length&&(a.lastIndex=g,p=a.exec(d),p!==null);)g=a.lastIndex,a===xf?p[1]==="!--"?a=AO:p[1]!==void 0?a=kO:p[2]!==void 0?(OO.test(p[2])&&(i=RegExp("</"+p[2],"g")),a=$a):p[3]!==void 0&&(a=$a):a===$a?p[0]===">"?(a=i??xf,m=-1):p[1]===void 0?m=-2:(m=a.lastIndex-p[2].length,f=p[1],a=p[3]===void 0?$a:p[3]==='"'?NO:DO):a===NO||a===DO?a=$a:a===AO||a===kO?a=xf:(a=$a,i=void 0);let y=a===$a&&t[c+1].startsWith("/>")?" ":"";o+=a===xf?d+gK:m>=0?(r.push(f),d.slice(0,m)+"$lit$"+d.slice(m)+Ts+y):d+Ts+(m===-2?(r.push(void 0),c):y)}let l=o+(t[n]||"<?>")+(e===2?"</svg>":"");return[CO!==void 0?CO.createHTML(l):l,r]},Uc=class{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,a=0,l=e.length-1,c=this.parts,[d,f]=bK(e,n);if(this.el=Uc.createElement(d,r),Fc.currentNode=this.el.content,n===2){let p=this.el.content,m=p.firstChild;m.remove(),p.append(...m.childNodes)}for(;(i=Fc.nextNode())!==null&&c.length<l;){if(i.nodeType===1){if(i.hasAttributes()){let p=[];for(let m of i.getAttributeNames())if(m.endsWith("$lit$")||m.startsWith(Ts)){let g=f[a++];if(p.push(m),g!==void 0){let y=i.getAttribute(g.toLowerCase()+"$lit$").split(Ts),_=/([.?@])?(.*)/.exec(g);c.push({type:1,index:o,name:_[2],strings:y,ctor:_[1]==="."?UO:_[1]==="?"?BO:_[1]==="@"?HO:Tf})}else c.push({type:6,index:o})}for(let m of p)i.removeAttribute(m)}if(OO.test(i.tagName)){let p=i.textContent.split(Ts),m=p.length-1;if(m>0){i.textContent=qm?qm.emptyScript:"";for(let g=0;g<m;g++)i.append(p[g],Sf()),Fc.nextNode(),c.push({type:2,index:++o});i.append(p[m],Sf())}}}else if(i.nodeType===8)if(i.data===IO)c.push({type:2,index:o});else{let p=-1;for(;(p=i.data.indexOf(Ts,p+1))!==-1;)c.push({type:7,index:o}),p+=Ts.length-1}o++}}static createElement(e,n){let r=Lc.createElement("template");return r.innerHTML=e,r}};function Bc(t,e,n=t,r){var i,o,a,l;if(e===Ya)return e;let c=r!==void 0?(i=n.\u03A3i)===null||i===void 0?void 0:i[r]:n.\u03A3o,d=zm(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==d&&((o=c==null?void 0:c.O)===null||o===void 0||o.call(c,!1),d===void 0?c=void 0:(c=new d(t),c.T(t,n,r)),r!==void 0?((a=(l=n).\u03A3i)!==null&&a!==void 0?a:l.\u03A3i=[])[r]=c:n.\u03A3o=c),c!==void 0&&(e=Bc(t,c.S(t,e.values),c,r)),e}var FO=class{constructor(e,n){this.l=[],this.N=void 0,this.D=e,this.M=n}u(e){var n;let{el:{content:r},parts:i}=this.D,o=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Lc).importNode(r,!0);Fc.currentNode=o;let a=Fc.nextNode(),l=0,c=0,d=i[0];for(;d!==void 0;){if(l===d.index){let f;d.type===2?f=new Hc(a,a.nextSibling,this,e):d.type===1?f=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(f=new VO(a,this,e)),this.l.push(f),d=i[++c]}l!==(d==null?void 0:d.index)&&(a=Fc.nextNode(),l++)}return o}v(e){let n=0;for(let r of this.l)r!==void 0&&(r.strings!==void 0?(r.I(e,r,n),n+=r.strings.length-2):r.I(e[n])),n++}},Hc=class{constructor(e,n,r,i){this.type=2,this.N=void 0,this.A=e,this.B=n,this.M=r,this.options=i}setConnected(e){var n;(n=this.P)===null||n===void 0||n.call(this,e)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(e,n=this){e=Bc(this,e,n),zm(e)?e===bn||e==null||e===""?(this.H!==bn&&this.R(),this.H=bn):e!==this.H&&e!==Ya&&this.m(e):e._$litType$!==void 0?this._(e):e.nodeType!==void 0?this.$(e):yK(e)?this.g(e):this.m(e)}k(e,n=this.B){return this.A.parentNode.insertBefore(e,n)}$(e){this.H!==e&&(this.R(),this.H=this.k(e))}m(e){let n=this.A.nextSibling;n!==null&&n.nodeType===3&&(this.B===null?n.nextSibling===null:n===this.B.previousSibling)?n.data=e:this.$(Lc.createTextNode(e)),this.H=e}_(e){var n;let{values:r,_$litType$:i}=e,o=typeof i=="number"?this.C(e):(i.el===void 0&&(i.el=Uc.createElement(i.h,this.options)),i);if(((n=this.H)===null||n===void 0?void 0:n.D)===o)this.H.v(r);else{let a=new FO(o,this),l=a.u(this.options);a.v(r),this.$(l),this.H=a}}C(e){let n=MO.get(e.strings);return n===void 0&&MO.set(e.strings,n=new Uc(e)),n}g(e){RO(this.H)||(this.H=[],this.R());let n=this.H,r,i=0;for(let o of e)i===n.length?n.push(r=new Hc(this.k(Sf()),this.k(Sf()),this,this.options)):r=n[i],r.I(o),i++;i<n.length&&(this.R(r&&r.B.nextSibling,i),n.length=i)}R(e=this.A.nextSibling,n){var r;for((r=this.P)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this.B;){let i=e.nextSibling;e.remove(),e=i}}},Tf=class{constructor(e,n,r,i,o){this.type=1,this.H=bn,this.N=void 0,this.V=void 0,this.element=e,this.name=n,this.M=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this.H=Array(r.length-1).fill(bn),this.strings=r):this.H=bn}get tagName(){return this.element.tagName}I(e,n=this,r,i){let o=this.strings,a=!1;if(o===void 0)e=Bc(this,e,n,0),a=!zm(e)||e!==this.H&&e!==Ya,a&&(this.H=e);else{let l=e,c,d;for(e=o[0],c=0;c<o.length-1;c++)d=Bc(this,l[r+c],n,c),d===Ya&&(d=this.H[c]),a||(a=!zm(d)||d!==this.H[c]),d===bn?e=bn:e!==bn&&(e+=(d??"")+o[c+1]),this.H[c]=d}a&&!i&&this.W(e)}W(e){e===bn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},UO=class extends Tf{constructor(){super(...arguments),this.type=3}W(e){this.element[this.name]=e===bn?void 0:e}},BO=class extends Tf{constructor(){super(...arguments),this.type=4}W(e){e&&e!==bn?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}},HO=class extends Tf{constructor(){super(...arguments),this.type=5}I(e,n=this){var r;if((e=(r=Bc(this,e,n,0))!==null&&r!==void 0?r:bn)===Ya)return;let i=this.H,o=e===bn&&i!==bn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,a=e!==bn&&(i===bn||o);o&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,e),this.H=e}handleEvent(e){var n,r;typeof this.H=="function"?this.H.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this.H.handleEvent(e)}},VO=class{constructor(e,n,r){this.element=e,this.type=6,this.N=void 0,this.V=void 0,this.M=n,this.options=r}I(e){Bc(this,e)}};(Ww=(xO=globalThis).litHtmlPlatformSupport)===null||Ww===void 0||Ww.call(xO,Uc,Hc),((Gw=(TO=globalThis).litHtmlVersions)!==null&&Gw!==void 0?Gw:TO.litHtmlVersions=[]).push("2.0.0-rc.3");var Kw,jO,$w,qO,Yw,zO;((Kw=(zO=globalThis).litElementVersions)!==null&&Kw!==void 0?Kw:zO.litElementVersions=[]).push("3.0.0-rc.2");var We=class extends xs{constructor(){super(...arguments),this.renderOptions={host:this},this.\u03A6t=void 0}createRenderRoot(){var e,n;let r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){let n=this.render();super.update(e),this.\u03A6t=LO(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this.\u03A6t)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.\u03A6t)===null||e===void 0||e.setConnected(!1)}render(){return Ya}};We.finalized=!0,We._$litElement$=!0,($w=(jO=globalThis).litElementHydrateSupport)===null||$w===void 0||$w.call(jO,{LitElement:We}),(Yw=(qO=globalThis).litElementPlatformSupport)===null||Yw===void 0||Yw.call(qO,{LitElement:We});var rt=t=>e=>typeof e=="function"?((n,r)=>(window.customElements.define(n,r),r))(t,e):((n,r)=>{let{kind:i,elements:o}=r;return{kind:i,elements:o,finisher(a){window.customElements.define(n,a)}}})(t,e);var _K=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function fe(t){return(e,n)=>n!==void 0?((r,i,o)=>{i.constructor.createProperty(o,r)})(t,e,n):_K(t,e)}function nn(t){return fe({...t,state:!0,attribute:!1})}var WO=Element.prototype,sve=WO.msMatchesSelector||WO.webkitMatchesSelector;vr();vr();vr();(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,u,h){s!=Array.prototype&&s!=Object.prototype&&(s[u]=h.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var u=0;u<s.length;++u){var h=s[u];if(h&&h.Math==Math)return h}return globalThis}var r=n(this);function i(s,u){if(u){var h=r;s=s.split(".");for(var v=0;v<s.length-1;v++){var b=s[v];b in h||(h[b]={}),h=h[b]}s=s[s.length-1],v=h[s],u=u(v),u!=v&&u!=null&&e(h,s,{configurable:!0,writable:!0,value:u})}}function o(s){var u=0;return function(){return u<s.length?{done:!1,value:s[u++]}:{done:!0}}}function a(s){var u=typeof Symbol!="undefined"&&Symbol.iterator&&s[Symbol.iterator];return u?u.call(s):{next:o(s)}}i("Promise",function(s){function u(T){this.b=0,this.c=void 0,this.a=[];var A=this.f();try{T(A.resolve,A.reject)}catch(H){A.reject(H)}}function h(){this.a=null}function v(T){return T instanceof u?T:new u(function(A){A(T)})}if(s)return s;h.prototype.b=function(T){if(this.a==null){this.a=[];var A=this;this.c(function(){A.g()})}this.a.push(T)};var b=r.setTimeout;h.prototype.c=function(T){b(T,0)},h.prototype.g=function(){for(;this.a&&this.a.length;){var T=this.a;this.a=[];for(var A=0;A<T.length;++A){var H=T[A];T[A]=null;try{H()}catch(j){this.f(j)}}}this.a=null},h.prototype.f=function(T){this.c(function(){throw T})},u.prototype.f=function(){function T(j){return function(pe){H||(H=!0,j.call(A,pe))}}var A=this,H=!1;return{resolve:T(this.m),reject:T(this.g)}},u.prototype.m=function(T){if(T===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(T instanceof u)this.s(T);else{e:switch(typeof T){case"object":var A=T!=null;break e;case"function":A=!0;break e;default:A=!1}A?this.v(T):this.h(T)}},u.prototype.v=function(T){var A=void 0;try{A=T.then}catch(H){this.g(H);return}typeof A=="function"?this.u(A,T):this.h(T)},u.prototype.g=function(T){this.i(2,T)},u.prototype.h=function(T){this.i(1,T)},u.prototype.i=function(T,A){if(this.b!=0)throw Error("Cannot settle("+T+", "+A+"): Promise already settled in state"+this.b);this.b=T,this.c=A,this.l()},u.prototype.l=function(){if(this.a!=null){for(var T=0;T<this.a.length;++T)E.b(this.a[T]);this.a=null}};var E=new h;return u.prototype.s=function(T){var A=this.f();T.Qa(A.resolve,A.reject)},u.prototype.u=function(T,A){var H=this.f();try{T.call(A,H.resolve,H.reject)}catch(j){H.reject(j)}},u.prototype.then=function(T,A){function H(Be,un){return typeof Be=="function"?function(Ho){try{j(Be(Ho))}catch(Uw){pe(Uw)}}:un}var j,pe,Ye=new u(function(Be,un){j=Be,pe=un});return this.Qa(H(T,j),H(A,pe)),Ye},u.prototype.catch=function(T){return this.then(void 0,T)},u.prototype.Qa=function(T,A){function H(){switch(j.b){case 1:T(j.c);break;case 2:A(j.c);break;default:throw Error("Unexpected state: "+j.b)}}var j=this;this.a==null?E.b(H):this.a.push(H)},u.resolve=v,u.reject=function(T){return new u(function(A,H){H(T)})},u.race=function(T){return new u(function(A,H){for(var j=a(T),pe=j.next();!pe.done;pe=j.next())v(pe.value).Qa(A,H)})},u.all=function(T){var A=a(T),H=A.next();return H.done?v([]):new u(function(j,pe){function Ye(Ho){return function(Uw){Be[Ho]=Uw,un--,un==0&&j(Be)}}var Be=[],un=0;do Be.push(void 0),un++,v(H.value).Qa(Ye(Be.length-1),pe),H=A.next();while(!H.done)})},u});var l=l||{},c=this||self,d=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&d.test(s)?s:""}function m(){}function g(s){var u=typeof s;return u!="object"?u:s?Array.isArray(s)?"array":u:"null"}function y(s){var u=g(s);return u=="array"||u=="object"&&typeof s.length=="number"}function _(s){return g(s)=="function"}function w(s){var u=typeof s;return u=="object"&&s!=null||u=="function"}function S(s){return Object.prototype.hasOwnProperty.call(s,C)&&s[C]||(s[C]=++R)}var C="closure_uid_"+(1e9*Math.random()>>>0),R=0;function k(s,u,h){return s.call.apply(s.bind,arguments)}function F(s,u,h){if(!s)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,v),s.apply(u,b)}}return function(){return s.apply(u,arguments)}}function L(s,u,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=k:L=F,L.apply(null,arguments)}function W(s,u){var h=Array.prototype.slice.call(arguments,1);return function(){var v=h.slice();return v.push.apply(v,arguments),s.apply(this,v)}}var $=Date.now;function z(s,u){function h(){}h.prototype=u.prototype,s.ab=u.prototype,s.prototype=new h,s.prototype.constructor=s}function ke(s){return s}function M(s,u,h){this.code=lt+s,this.message=u||Yr[s]||"",this.a=h||null}z(M,Error),M.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},M.prototype.toJSON=function(){return this.w()};function Tt(s){var u=s&&s.code;return u?new M(u.substring(lt.length),s.message,s.serverResponse):null}var lt="auth/",Yr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},cr={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Po(s){for(var u in cr)if(cr[u].id===s)return s=cr[u],{firebaseEndpoint:s.Ta,secureTokenEndpoint:s.Za,identityPlatformEndpoint:s.Wa};return null}var Si;Si=Po("__EID__")?"__EID__":void 0;function wA(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch(u){return!1}}function kr(s){if(Error.captureStackTrace)Error.captureStackTrace(this,kr);else{var u=Error().stack;u&&(this.stack=u)}s&&(this.message=String(s))}z(kr,Error),kr.prototype.name="CustomError";function a_(s,u){s=s.split("%s");for(var h="",v=s.length-1,b=0;b<v;b++)h+=s[b]+(b<u.length?u[b]:"%s");kr.call(this,h+s[v])}z(a_,kr),a_.prototype.name="AssertionError";function uc(s,u){throw new a_("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function l_(s,u){this.c=s,this.f=u,this.b=0,this.a=null}l_.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function EA(s,u){s.f(u),100>s.b&&(s.b++,u.next=s.a,s.a=u)}function SA(){this.b=this.a=null}var xA=new l_(function(){return new c_},function(s){s.reset()});SA.prototype.add=function(s,u){var h=xA.get();h.set(s,u),this.b?this.b.next=h:this.a=h,this.b=h};function aW(){var s=QA,u=null;return s.a&&(u=s.a,s.a=s.a.next,s.a||(s.b=null),u.next=null),u}function c_(){this.next=this.b=this.a=null}c_.prototype.set=function(s,u){this.a=s,this.b=u,this.next=null},c_.prototype.reset=function(){this.next=this.b=this.a=null};var TA=Array.prototype.indexOf?function(s,u){return Array.prototype.indexOf.call(s,u,void 0)}:function(s,u){if(typeof s=="string")return typeof u!="string"||u.length!=1?-1:s.indexOf(u,0);for(var h=0;h<s.length;h++)if(h in s&&s[h]===u)return h;return-1},_t=Array.prototype.forEach?function(s,u,h){Array.prototype.forEach.call(s,u,h)}:function(s,u,h){for(var v=s.length,b=typeof s=="string"?s.split(""):s,E=0;E<v;E++)E in b&&u.call(h,b[E],E,s)};function lW(s,u){for(var h=typeof s=="string"?s.split(""):s,v=s.length-1;0<=v;--v)v in h&&u.call(void 0,h[v],v,s)}var cW=Array.prototype.filter?function(s,u){return Array.prototype.filter.call(s,u,void 0)}:function(s,u){for(var h=s.length,v=[],b=0,E=typeof s=="string"?s.split(""):s,T=0;T<h;T++)if(T in E){var A=E[T];u.call(void 0,A,T,s)&&(v[b++]=A)}return v},Up=Array.prototype.map?function(s,u){return Array.prototype.map.call(s,u,void 0)}:function(s,u){for(var h=s.length,v=Array(h),b=typeof s=="string"?s.split(""):s,E=0;E<h;E++)E in b&&(v[E]=u.call(void 0,b[E],E,s));return v},uW=Array.prototype.some?function(s,u){return Array.prototype.some.call(s,u,void 0)}:function(s,u){for(var h=s.length,v=typeof s=="string"?s.split(""):s,b=0;b<h;b++)if(b in v&&u.call(void 0,v[b],b,s))return!0;return!1};function dW(s){e:{for(var u=zG,h=s.length,v=typeof s=="string"?s.split(""):s,b=0;b<h;b++)if(b in v&&u.call(void 0,v[b],b,s)){u=b;break e}u=-1}return 0>u?null:typeof s=="string"?s.charAt(u):s[u]}function Mo(s,u){return 0<=TA(s,u)}function Bp(s,u){u=TA(s,u);var h;return(h=0<=u)&&Array.prototype.splice.call(s,u,1),h}function xi(s,u){var h=0;lW(s,function(v,b){u.call(void 0,v,b,s)&&Array.prototype.splice.call(s,b,1).length==1&&h++})}function u_(s){return Array.prototype.concat.apply([],arguments)}function Ia(s){var u=s.length;if(0<u){for(var h=Array(u),v=0;v<u;v++)h[v]=s[v];return h}return[]}var CA=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},fW=/&/g,hW=/</g,pW=/>/g,mW=/"/g,vW=/'/g,gW=/\x00/g,yW=/[\x00&<>"']/;function nt(s,u){return s.indexOf(u)!=-1}function d_(s,u){return s<u?-1:s>u?1:0}var dc;e:{var IA=c.navigator;if(IA){var RA=IA.userAgent;if(RA){dc=RA;break e}}dc=""}function en(s){return nt(dc,s)}function AA(s,u){for(var h in s)u.call(void 0,s[h],h,s)}function Ra(s){for(var u in s)return!1;return!0}function ms(s){var u={},h;for(h in s)u[h]=s[h];return u}var kA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ur(s,u){for(var h,v,b=1;b<arguments.length;b++){v=arguments[b];for(h in v)s[h]=v[h];for(var E=0;E<kA.length;E++)h=kA[E],Object.prototype.hasOwnProperty.call(v,h)&&(s[h]=v[h])}}function DA(s,u){e:{try{var h=s&&s.ownerDocument,v=h&&(h.defaultView||h.parentWindow);if(v=v||c,v.Element&&v.Location){var b=v;break e}}catch(T){}b=null}if(b&&typeof b[u]!="undefined"&&(!s||!(s instanceof b[u])&&(s instanceof b.Location||s instanceof b.Element))){if(w(s))try{var E=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch(T){E="<object could not be stringified>"}else E=s===void 0?"undefined":s===null?"null":typeof s;uc("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,E)}}function Yi(s,u){this.a=s===Hp&&u||"",this.b=NA}Yi.prototype.sa=!0,Yi.prototype.ra=function(){return this.a},Yi.prototype.toString=function(){return"Const{"+this.a+"}"};function f_(s){return s instanceof Yi&&s.constructor===Yi&&s.b===NA?s.a:(uc("expected object of type Const, got '"+s+"'"),"type_error:Const")}var NA={},Hp={},Vp;function OA(){if(Vp===void 0){var s=null,u=c.trustedTypes;if(u&&u.createPolicy){try{s=u.createPolicy("goog#html",{createHTML:ke,createScript:ke,createScriptURL:ke})}catch(h){c.console&&c.console.error(h.message)}Vp=s}else Vp=s}return Vp}function fc(s,u){this.a=u===MA?s:""}fc.prototype.sa=!0,fc.prototype.ra=function(){return this.a.toString()},fc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function PA(s){return s instanceof fc&&s.constructor===fc?s.a:(uc("expected object of type TrustedResourceUrl, got '"+s+"' of type "+g(s)),"type_error:TrustedResourceUrl")}function h_(s,u){var h=f_(s);if(!_W.test(h))throw Error("Invalid TrustedResourceUrl format: "+h);return s=h.replace(bW,function(v,b){if(!Object.prototype.hasOwnProperty.call(u,b))throw Error('Found marker, "'+b+'", in format string, "'+h+'", but no valid label mapping found in args: '+JSON.stringify(u));return v=u[b],v instanceof Yi?f_(v):encodeURIComponent(String(v))}),wW(s)}var bW=/%{(\w+)}/g,_W=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,MA={};function wW(s){var u=OA();return s=u?u.createScriptURL(s):s,new fc(s,MA)}function dr(s,u){this.a=u===Bd?s:""}dr.prototype.sa=!0,dr.prototype.ra=function(){return this.a.toString()},dr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function jp(s){return s instanceof dr&&s.constructor===dr?s.a:(uc("expected object of type SafeUrl, got '"+s+"' of type "+g(s)),"type_error:SafeUrl")}var EW=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,SW=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,LA=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function FA(s){if(s instanceof dr)return s;if(s=typeof s=="object"&&s.sa?s.ra():String(s),LA.test(s))s=new dr(s,Bd);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var u=s.match(SW);s=u&&EW.test(u[1])?new dr(s,Bd):null}return s}function UA(s){return s instanceof dr?s:(s=typeof s=="object"&&s.sa?s.ra():String(s),LA.test(s)||(s="about:invalid#zClosurez"),new dr(s,Bd))}var Bd={},BA=new dr("about:invalid#zClosurez",Bd);function hc(s,u,h){this.a=h===HA?s:""}hc.prototype.sa=!0,hc.prototype.ra=function(){return this.a.toString()},hc.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function xW(s){return s instanceof hc&&s.constructor===hc?s.a:(uc("expected object of type SafeHtml, got '"+s+"' of type "+g(s)),"type_error:SafeHtml")}var HA={};function TW(s,u){DA(s,"HTMLScriptElement"),s.src=PA(u),(u=s.ownerDocument&&s.ownerDocument.defaultView)&&u!=c?u=p(u.document):(f===null&&(f=p(c.document)),u=f),u&&s.setAttribute("nonce",u)}function VA(s,u,h,v){return s=s instanceof dr?s:UA(s),u=u||c,h=h instanceof Yi?f_(h):h||"",u.open(jp(s),h,v,void 0)}function jA(s,u){for(var h=s.split("%s"),v="",b=Array.prototype.slice.call(arguments,1);b.length&&1<h.length;)v+=h.shift()+b.shift();return v+h.join("%s")}function p_(s){return yW.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(fW,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(hW,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(pW,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(mW,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(vW,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(gW,"&#0;"))),s}function m_(s){return m_[" "](s),s}m_[" "]=m;function CW(s,u){var h=kW;return Object.prototype.hasOwnProperty.call(h,s)?h[s]:h[s]=u(s)}var IW=en("Opera"),Ti=en("Trident")||en("MSIE"),qA=en("Edge"),RW=qA||Ti,zA=en("Gecko")&&!(nt(dc.toLowerCase(),"webkit")&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),AW=nt(dc.toLowerCase(),"webkit")&&!en("Edge");function WA(){var s=c.document;return s?s.documentMode:void 0}var qp;e:{var v_="",g_=function(){var s=dc;if(zA)return/rv:([^\);]+)(\)|;)/.exec(s);if(qA)return/Edge\/([\d\.]+)/.exec(s);if(Ti)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(AW)return/WebKit\/(\S+)/.exec(s);if(IW)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(g_&&(v_=g_?g_[1]:""),Ti){var y_=WA();if(y_!=null&&y_>parseFloat(v_)){qp=String(y_);break e}}qp=v_}var kW={};function GA(s){return CW(s,function(){for(var u=0,h=CA(String(qp)).split("."),v=CA(String(s)).split("."),b=Math.max(h.length,v.length),E=0;u==0&&E<b;E++){var T=h[E]||"",A=v[E]||"";do{if(T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],T[0].length==0&&A[0].length==0)break;u=d_(T[1].length==0?0:parseInt(T[1],10),A[1].length==0?0:parseInt(A[1],10))||d_(T[2].length==0,A[2].length==0)||d_(T[2],A[2]),T=T[3],A=A[3]}while(u==0)}return 0<=u})}var b_;if(c.document&&Ti){var KA=WA();b_=KA||parseInt(qp,10)||void 0}else b_=void 0;var vs=b_;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(s){}var DW=!Ti||9<=Number(vs);function Hd(s){var u=document;return typeof s=="string"?u.getElementById(s):s}function $A(s,u){AA(u,function(h,v){h&&typeof h=="object"&&h.sa&&(h=h.ra()),v=="style"?s.style.cssText=h:v=="class"?s.className=h:v=="for"?s.htmlFor=h:YA.hasOwnProperty(v)?s.setAttribute(YA[v],h):v.lastIndexOf("aria-",0)==0||v.lastIndexOf("data-",0)==0?s.setAttribute(v,h):s[v]=h})}var YA={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function NW(s,u,h){var v=arguments,b=document,E=String(v[0]),T=v[1];if(!DW&&T&&(T.name||T.type)){if(E=["<",E],T.name&&E.push(' name="',p_(T.name),'"'),T.type){E.push(' type="',p_(T.type),'"');var A={};ur(A,T),delete A.type,T=A}E.push(">"),E=E.join("")}return E=zp(b,E),T&&(typeof T=="string"?E.className=T:Array.isArray(T)?E.className=T.join(" "):$A(E,T)),2<v.length&&OW(b,E,v),E}function OW(s,u,h){function v(A){A&&u.appendChild(typeof A=="string"?s.createTextNode(A):A)}for(var b=2;b<h.length;b++){var E=h[b];if(!y(E)||w(E)&&0<E.nodeType)v(E);else{e:{if(E&&typeof E.length=="number"){if(w(E)){var T=typeof E.item=="function"||typeof E.item=="string";break e}if(_(E)){T=typeof E.item=="function";break e}}T=!1}_t(T?Ia(E):E,v)}}}function zp(s,u){return u=String(u),s.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),s.createElement(u)}function XA(s){c.setTimeout(function(){throw s},0)}var __;function PW(){var s=c.MessageChannel;if(typeof s=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!en("Presto")&&(s=function(){var b=zp(document,"IFRAME");b.style.display="none",document.documentElement.appendChild(b);var E=b.contentWindow;b=E.document,b.open(),b.close();var T="callImmediate"+Math.random(),A=E.location.protocol=="file:"?"*":E.location.protocol+"//"+E.location.host;b=L(function(H){(A=="*"||H.origin==A)&&H.data==T&&this.port1.onmessage()},this),E.addEventListener("message",b,!1),this.port1={},this.port2={postMessage:function(){E.postMessage(T,A)}}}),typeof s!="undefined"&&!en("Trident")&&!en("MSIE")){var u=new s,h={},v=h;return u.port1.onmessage=function(){if(h.next!==void 0){h=h.next;var b=h.Gb;h.Gb=null,b()}},function(b){v.next={Gb:b},v=v.next,u.port2.postMessage(0)}}return function(b){c.setTimeout(b,0)}}function Wp(s,u){Gp||MW(),w_||(Gp(),w_=!0),QA.add(s,u)}var Gp;function MW(){if(c.Promise&&c.Promise.resolve){var s=c.Promise.resolve(void 0);Gp=function(){s.then(JA)}}else Gp=function(){var u=JA;!_(c.setImmediate)||c.Window&&c.Window.prototype&&!en("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(__||(__=PW()),__(u)):c.setImmediate(u)}}var w_=!1,QA=new SA;function JA(){for(var s;s=aW();){try{s.a.call(s.b)}catch(u){XA(u)}EA(xA,s)}w_=!1}function Ne(s,u){if(this.a=Aa,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=m)try{var h=this;s.call(u,function(v){ka(h,Vd,v)},function(v){if(!(v instanceof pc))try{throw v instanceof Error?v:Error("Promise rejected.")}catch(b){}ka(h,Lo,v)})}catch(v){ka(this,Lo,v)}}var Aa=0,Vd=2,Lo=3;function ZA(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ZA.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ek=new l_(function(){return new ZA},function(s){s.reset()});function E_(s,u,h){var v=ek.get();return v.g=s,v.b=u,v.f=h,v}function ue(s){if(s instanceof Ne)return s;var u=new Ne(m);return ka(u,Vd,s),u}function ht(s){return new Ne(function(u,h){h(s)})}function tk(s,u,h){ok(s,u,h,null)||Wp(W(u,s))}function LW(s){return new Ne(function(u,h){var v=s.length,b=[];if(v)for(var E=function(j,pe){v--,b[j]=pe,v==0&&u(b)},T=function(j){h(j)},A=0,H;A<s.length;A++)H=s[A],tk(H,W(E,A),T);else u(b)})}function nk(s){return new Ne(function(u){var h=s.length,v=[];if(h)for(var b=function(A,H,j){h--,v[A]=H?{Pb:!0,value:j}:{Pb:!1,reason:j},h==0&&u(v)},E=0,T;E<s.length;E++)T=s[E],tk(T,W(b,E,!0),W(b,E,!1));else u(v)})}Ne.prototype.then=function(s,u,h){return ik(this,_(s)?s:null,_(u)?u:null,h)},Ne.prototype.$goog_Thenable=!0,t=Ne.prototype,t.oa=function(s,u){return s=E_(s,s,u),s.c=!0,S_(this,s),this},t.o=function(s,u){return ik(this,null,s,u)},t.cancel=function(s){if(this.a==Aa){var u=new pc(s);Wp(function(){rk(this,u)},this)}};function rk(s,u){if(s.a==Aa)if(s.c){var h=s.c;if(h.b){for(var v=0,b=null,E=null,T=h.b;T&&(T.c||(v++,T.a==s&&(b=T),!(b&&1<v)));T=T.next)b||(E=T);b&&(h.a==Aa&&v==1?rk(h,u):(E?(v=E,v.next==h.f&&(h.f=v),v.next=v.next.next):ak(h),lk(h,b,Lo,u)))}s.c=null}else ka(s,Lo,u)}function S_(s,u){s.b||s.a!=Vd&&s.a!=Lo||sk(s),s.f?s.f.next=u:s.b=u,s.f=u}function ik(s,u,h,v){var b=E_(null,null,null);return b.a=new Ne(function(E,T){b.g=u?function(A){try{var H=u.call(v,A);E(H)}catch(j){T(j)}}:E,b.b=h?function(A){try{var H=h.call(v,A);H===void 0&&A instanceof pc?T(A):E(H)}catch(j){T(j)}}:T}),b.a.c=s,S_(s,b),b.a}t.$c=function(s){this.a=Aa,ka(this,Vd,s)},t.ad=function(s){this.a=Aa,ka(this,Lo,s)};function ka(s,u,h){s.a==Aa&&(s===h&&(u=Lo,h=new TypeError("Promise cannot resolve to itself")),s.a=1,ok(h,s.$c,s.ad,s)||(s.i=h,s.a=u,s.c=null,sk(s),u!=Lo||h instanceof pc||UW(s,h)))}function ok(s,u,h,v){if(s instanceof Ne)return S_(s,E_(u||m,h||null,v)),!0;if(wA(s))return s.then(u,h,v),!0;if(w(s))try{var b=s.then;if(_(b))return FW(s,b,u,h,v),!0}catch(E){return h.call(v,E),!0}return!1}function FW(s,u,h,v,b){function E(H){A||(A=!0,v.call(b,H))}function T(H){A||(A=!0,h.call(b,H))}var A=!1;try{u.call(s,T,E)}catch(H){E(H)}}function sk(s){s.h||(s.h=!0,Wp(s.gc,s))}function ak(s){var u=null;return s.b&&(u=s.b,s.b=u.next,u.next=null),s.b||(s.f=null),u}t.gc=function(){for(var s;s=ak(this);)lk(this,s,this.a,this.i);this.h=!1};function lk(s,u,h,v){if(h==Lo&&u.b&&!u.c)for(;s&&s.g;s=s.c)s.g=!1;if(u.a)u.a.c=null,ck(u,h,v);else try{u.c?u.g.call(u.f):ck(u,h,v)}catch(b){uk.call(null,b)}EA(ek,u)}function ck(s,u,h){u==Vd?s.g.call(s.f,h):s.b&&s.b.call(s.f,h)}function UW(s,u){s.g=!0,Wp(function(){s.g&&uk.call(null,u)})}var uk=XA;function pc(s){kr.call(this,s)}z(pc,kr),pc.prototype.name="cancel";function Kp(){x_!=0&&(dk[S(this)]=this),this.xa=this.xa,this.pa=this.pa}var x_=0,dk={};Kp.prototype.xa=!1;function fk(s){if(!s.xa&&(s.xa=!0,s.Da(),x_!=0)){var u=S(s);if(x_!=0&&s.pa&&0<s.pa.length)throw Error(s+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete dk[u]}}Kp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var BW=Object.freeze||function(s){return s},hk=!Ti||9<=Number(vs),HW=Ti&&!GA("9"),VW=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,u=Object.defineProperty({},"passive",{get:function(){s=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch(h){}return s}();function fr(s,u){this.type=s,this.b=this.target=u,this.defaultPrevented=!1}fr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Da(s,u){if(fr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var h=this.type=s.type,v=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=u,u=s.relatedTarget){if(zA){e:{try{m_(u.nodeName);var b=!0;break e}catch(E){}b=!1}b||(u=null)}}else h=="mouseover"?u=s.fromElement:h=="mouseout"&&(u=s.toElement);this.relatedTarget=u,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:jW[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}z(Da,fr);var jW=BW({2:"touch",3:"pen",4:"mouse"});Da.prototype.preventDefault=function(){Da.ab.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,HW)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch(u){}},Da.prototype.g=function(){return this.a};var jd="closure_listenable_"+(1e6*Math.random()|0),qW=0;function zW(s,u,h,v,b){this.listener=s,this.proxy=null,this.src=u,this.type=h,this.capture=!!v,this.Va=b,this.key=++qW,this.va=this.Pa=!1}function $p(s){s.va=!0,s.listener=null,s.proxy=null,s.src=null,s.Va=null}function Yp(s){this.src=s,this.a={},this.b=0}Yp.prototype.add=function(s,u,h,v,b){var E=s.toString();s=this.a[E],s||(s=this.a[E]=[],this.b++);var T=C_(s,u,v,b);return-1<T?(u=s[T],h||(u.Pa=!1)):(u=new zW(u,this.src,E,!!v,b),u.Pa=h,s.push(u)),u};function T_(s,u){var h=u.type;h in s.a&&Bp(s.a[h],u)&&($p(u),s.a[h].length==0&&(delete s.a[h],s.b--))}function C_(s,u,h,v){for(var b=0;b<s.length;++b){var E=s[b];if(!E.va&&E.listener==u&&E.capture==!!h&&E.Va==v)return b}return-1}var I_="closure_lm_"+(1e6*Math.random()|0),R_={},pk=0;function Xr(s,u,h,v,b){if(v&&v.once)A_(s,u,h,v,b);else if(Array.isArray(u))for(var E=0;E<u.length;E++)Xr(s,u[E],h,v,b);else h=D_(h),s&&s[jd]?_k(s,u,h,w(v)?!!v.capture:!!v,b):mk(s,u,h,!1,v,b)}function mk(s,u,h,v,b,E){if(!u)throw Error("Invalid event type");var T=w(b)?!!b.capture:!!b,A=Xp(s);if(A||(s[I_]=A=new Yp(s)),h=A.add(u,h,v,T,E),!h.proxy){if(v=WW(),h.proxy=v,v.src=s,v.listener=h,s.addEventListener)VW||(b=T),b===void 0&&(b=!1),s.addEventListener(u.toString(),v,b);else if(s.attachEvent)s.attachEvent(gk(u.toString()),v);else if(s.addListener&&s.removeListener)s.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");pk++}}function WW(){var s=GW,u=hk?function(h){return s.call(u.src,u.listener,h)}:function(h){if(h=s.call(u.src,u.listener,h),!h)return h};return u}function A_(s,u,h,v,b){if(Array.isArray(u))for(var E=0;E<u.length;E++)A_(s,u[E],h,v,b);else h=D_(h),s&&s[jd]?N_(s,u,h,w(v)?!!v.capture:!!v,b):mk(s,u,h,!0,v,b)}function Dr(s,u,h,v,b){if(Array.isArray(u))for(var E=0;E<u.length;E++)Dr(s,u[E],h,v,b);else v=w(v)?!!v.capture:!!v,h=D_(h),s&&s[jd]?(s=s.v,u=String(u).toString(),u in s.a&&(E=s.a[u],h=C_(E,h,v,b),-1<h&&($p(E[h]),Array.prototype.splice.call(E,h,1),E.length==0&&(delete s.a[u],s.b--)))):s&&(s=Xp(s))&&(u=s.a[u.toString()],s=-1,u&&(s=C_(u,h,v,b)),(h=-1<s?u[s]:null)&&vk(h))}function vk(s){if(typeof s!="number"&&s&&!s.va){var u=s.src;if(u&&u[jd])T_(u.v,s);else{var h=s.type,v=s.proxy;u.removeEventListener?u.removeEventListener(h,v,s.capture):u.detachEvent?u.detachEvent(gk(h),v):u.addListener&&u.removeListener&&u.removeListener(v),pk--,(h=Xp(u))?(T_(h,s),h.b==0&&(h.src=null,u[I_]=null)):$p(s)}}}function gk(s){return s in R_?R_[s]:R_[s]="on"+s}function yk(s,u,h,v){var b=!0;if((s=Xp(s))&&(u=s.a[u.toString()]))for(u=u.concat(),s=0;s<u.length;s++){var E=u[s];E&&E.capture==h&&!E.va&&(E=bk(E,v),b=b&&E!==!1)}return b}function bk(s,u){var h=s.listener,v=s.Va||s.src;return s.Pa&&vk(s),h.call(v,u)}function GW(s,u){if(s.va)return!0;if(!hk){if(!u)e:{u=["window","event"];for(var h=c,v=0;v<u.length;v++)if(h=h[u[v]],h==null){u=null;break e}u=h}if(v=u,u=new Da(v,this),h=!0,!(0>v.keyCode||v.returnValue!=null)){e:{var b=!1;if(v.keyCode==0)try{v.keyCode=-1;break e}catch(T){b=!0}(b||v.returnValue==null)&&(v.returnValue=!0)}for(v=[],b=u.b;b;b=b.parentNode)v.push(b);for(s=s.type,b=v.length-1;0<=b;b--){u.b=v[b];var E=yk(v[b],s,!0,u);h=h&&E}for(b=0;b<v.length;b++)u.b=v[b],E=yk(v[b],s,!1,u),h=h&&E}return h}return bk(s,new Da(u,this))}function Xp(s){return s=s[I_],s instanceof Yp?s:null}var k_="__closure_events_fn_"+(1e9*Math.random()>>>0);function D_(s){return _(s)?s:(s[k_]||(s[k_]=function(u){return s.handleEvent(u)}),s[k_])}function Wn(){Kp.call(this),this.v=new Yp(this),this.ac=this,this.gb=null}z(Wn,Kp),Wn.prototype[jd]=!0,Wn.prototype.addEventListener=function(s,u,h,v){Xr(this,s,u,h,v)},Wn.prototype.removeEventListener=function(s,u,h,v){Dr(this,s,u,h,v)},Wn.prototype.dispatchEvent=function(s){var u,h=this.gb;if(h)for(u=[];h;h=h.gb)u.push(h);h=this.ac;var v=s.type||s;if(typeof s=="string")s=new fr(s,h);else if(s instanceof fr)s.target=s.target||h;else{var b=s;s=new fr(v,h),ur(s,b)}if(b=!0,u)for(var E=u.length-1;0<=E;E--){var T=s.b=u[E];b=Qp(T,v,!0,s)&&b}if(T=s.b=h,b=Qp(T,v,!0,s)&&b,b=Qp(T,v,!1,s)&&b,u)for(E=0;E<u.length;E++)T=s.b=u[E],b=Qp(T,v,!1,s)&&b;return b},Wn.prototype.Da=function(){if(Wn.ab.Da.call(this),this.v){var s=this.v,u=0,h;for(h in s.a){for(var v=s.a[h],b=0;b<v.length;b++)++u,$p(v[b]);delete s.a[h],s.b--}}this.gb=null};function _k(s,u,h,v,b){s.v.add(String(u),h,!1,v,b)}function N_(s,u,h,v,b){s.v.add(String(u),h,!0,v,b)}function Qp(s,u,h,v){if(u=s.v.a[String(u)],!u)return!0;u=u.concat();for(var b=!0,E=0;E<u.length;++E){var T=u[E];if(T&&!T.va&&T.capture==h){var A=T.listener,H=T.Va||T.src;T.Pa&&T_(s.v,T),b=A.call(H,v)!==!1&&b}}return b&&!v.defaultPrevented}function O_(s,u,h){if(_(s))h&&(s=L(s,h));else if(s&&typeof s.handleEvent=="function")s=L(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(s,u||0)}function mc(s){var u=null;return new Ne(function(h,v){u=O_(function(){h(void 0)},s),u==-1&&v(Error("Failed to schedule timer."))}).o(function(h){throw c.clearTimeout(u),h})}function wk(s){if(s.W&&typeof s.W=="function")return s.W();if(typeof s=="string")return s.split("");if(y(s)){for(var u=[],h=s.length,v=0;v<h;v++)u.push(s[v]);return u}u=[],h=0;for(v in s)u[h++]=s[v];return u}function Ek(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.W||typeof s.W!="function"){if(y(s)||typeof s=="string"){var u=[];s=s.length;for(var h=0;h<s;h++)u.push(h);return u}u=[],h=0;for(var v in s)u[h++]=v;return u}}function KW(s,u){if(s.forEach&&typeof s.forEach=="function")s.forEach(u,void 0);else if(y(s)||typeof s=="string")_t(s,u,void 0);else for(var h=Ek(s),v=wk(s),b=v.length,E=0;E<b;E++)u.call(void 0,v[E],h&&h[E],s)}function vc(s,u){this.b={},this.a=[],this.c=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var v=0;v<h;v+=2)this.set(arguments[v],arguments[v+1])}else if(s)if(s instanceof vc)for(h=s.Y(),v=0;v<h.length;v++)this.set(h[v],s.get(h[v]));else for(v in s)this.set(v,s[v])}t=vc.prototype,t.W=function(){P_(this);for(var s=[],u=0;u<this.a.length;u++)s.push(this.b[this.a[u]]);return s},t.Y=function(){return P_(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function P_(s){if(s.c!=s.a.length){for(var u=0,h=0;u<s.a.length;){var v=s.a[u];Na(s.b,v)&&(s.a[h++]=v),u++}s.a.length=h}if(s.c!=s.a.length){var b={};for(h=u=0;u<s.a.length;)v=s.a[u],Na(b,v)||(s.a[h++]=v,b[v]=1),u++;s.a.length=h}}t.get=function(s,u){return Na(this.b,s)?this.b[s]:u},t.set=function(s,u){Na(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=u},t.forEach=function(s,u){for(var h=this.Y(),v=0;v<h.length;v++){var b=h[v],E=this.get(b);s.call(u,E,b,this)}};function Na(s,u){return Object.prototype.hasOwnProperty.call(s,u)}var Sk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $W(s,u){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var v=s[h].indexOf("="),b=null;if(0<=v){var E=s[h].substring(0,v);b=s[h].substring(v+1)}else E=s[h];u(E,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function gs(s,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var h;s instanceof gs?(this.i=u!==void 0?u:s.i,qd(this,s.c),this.l=s.l,this.a=s.a,zd(this,s.g),this.f=s.f,M_(this,Ik(s.b)),this.h=s.h):s&&(h=String(s).match(Sk))?(this.i=!!u,qd(this,h[1]||"",!0),this.l=Wd(h[2]||""),this.a=Wd(h[3]||"",!0),zd(this,h[4]),this.f=Wd(h[5]||"",!0),M_(this,h[6]||"",!0),this.h=Wd(h[7]||"")):(this.i=!!u,this.b=new Oa(null,this.i))}gs.prototype.toString=function(){var s=[],u=this.c;u&&s.push(Gd(u,xk,!0),":");var h=this.a;return(h||u=="file")&&(s.push("//"),(u=this.l)&&s.push(Gd(u,xk,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.g,h!=null&&s.push(":",String(h))),(h=this.f)&&(this.a&&h.charAt(0)!="/"&&s.push("/"),s.push(Gd(h,h.charAt(0)=="/"?QW:XW,!0))),(h=this.b.toString())&&s.push("?",h),(h=this.h)&&s.push("#",Gd(h,ZW)),s.join("")},gs.prototype.resolve=function(s){var u=new gs(this),h=!!s.c;h?qd(u,s.c):h=!!s.l,h?u.l=s.l:h=!!s.a,h?u.a=s.a:h=s.g!=null;var v=s.f;if(h)zd(u,s.g);else if(h=!!s.f){if(v.charAt(0)!="/")if(this.a&&!this.f)v="/"+v;else{var b=u.f.lastIndexOf("/");b!=-1&&(v=u.f.substr(0,b+1)+v)}if(b=v,b==".."||b==".")v="";else if(nt(b,"./")||nt(b,"/.")){v=b.lastIndexOf("/",0)==0,b=b.split("/");for(var E=[],T=0;T<b.length;){var A=b[T++];A=="."?v&&T==b.length&&E.push(""):A==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),v&&T==b.length&&E.push("")):(E.push(A),v=!0)}v=E.join("/")}else v=b}return h?u.f=v:h=s.b.toString()!=="",h?M_(u,Ik(s.b)):h=!!s.h,h&&(u.h=s.h),u};function qd(s,u,h){s.c=h?Wd(u,!0):u,s.c&&(s.c=s.c.replace(/:$/,""))}function zd(s,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);s.g=u}else s.g=null}function M_(s,u,h){u instanceof Oa?(s.b=u,eG(s.b,s.i)):(h||(u=Gd(u,JW)),s.b=new Oa(u,s.i))}function Pt(s,u,h){s.b.set(u,h)}function Qr(s,u){return s.b.get(u)}function hr(s){return s instanceof gs?new gs(s):new gs(s,void 0)}function Jp(s,u,h,v){var b=new gs(null,void 0);return s&&qd(b,s),u&&(b.a=u),h&&zd(b,h),v&&(b.f=v),b}function Wd(s,u){return s?u?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Gd(s,u,h){return typeof s=="string"?(s=encodeURI(s).replace(u,YW),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function YW(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var xk=/[#\/\?@]/g,XW=/[#\?:]/g,QW=/[#\?]/g,JW=/[#\?@]/g,ZW=/#/g;function Oa(s,u){this.b=this.a=null,this.c=s||null,this.f=!!u}function ys(s){s.a||(s.a=new vc,s.b=0,s.c&&$W(s.c,function(u,h){s.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}function Tk(s){var u=Ek(s);if(typeof u=="undefined")throw Error("Keys are undefined");var h=new Oa(null,void 0);s=wk(s);for(var v=0;v<u.length;v++){var b=u[v],E=s[v];Array.isArray(E)?Ck(h,b,E):h.add(b,E)}return h}t=Oa.prototype,t.add=function(s,u){ys(this),this.c=null,s=gc(this,s);var h=this.a.get(s);return h||this.a.set(s,h=[]),h.push(u),this.b+=1,this};function Xi(s,u){ys(s),u=gc(s,u),Na(s.a.b,u)&&(s.c=null,s.b-=s.a.get(u).length,s=s.a,Na(s.b,u)&&(delete s.b[u],s.c--,s.a.length>2*s.c&&P_(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function L_(s,u){return ys(s),u=gc(s,u),Na(s.a.b,u)}t.forEach=function(s,u){ys(this),this.a.forEach(function(h,v){_t(h,function(b){s.call(u,b,v,this)},this)},this)},t.Y=function(){ys(this);for(var s=this.a.W(),u=this.a.Y(),h=[],v=0;v<u.length;v++)for(var b=s[v],E=0;E<b.length;E++)h.push(u[v]);return h},t.W=function(s){ys(this);var u=[];if(typeof s=="string")L_(this,s)&&(u=u_(u,this.a.get(gc(this,s))));else{s=this.a.W();for(var h=0;h<s.length;h++)u=u_(u,s[h])}return u},t.set=function(s,u){return ys(this),this.c=null,s=gc(this,s),L_(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[u]),this.b+=1,this},t.get=function(s,u){return s?(s=this.W(s),0<s.length?String(s[0]):u):u};function Ck(s,u,h){Xi(s,u),0<h.length&&(s.c=null,s.a.set(gc(s,u),Ia(h)),s.b+=h.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],u=this.a.Y(),h=0;h<u.length;h++){var v=u[h],b=encodeURIComponent(String(v));v=this.W(v);for(var E=0;E<v.length;E++){var T=b;v[E]!==""&&(T+="="+encodeURIComponent(String(v[E]))),s.push(T)}}return this.c=s.join("&")};function Ik(s){var u=new Oa;return u.c=s.c,s.a&&(u.a=new vc(s.a),u.b=s.b),u}function gc(s,u){return u=String(u),s.f&&(u=u.toLowerCase()),u}function eG(s,u){u&&!s.f&&(ys(s),s.c=null,s.a.forEach(function(h,v){var b=v.toLowerCase();v!=b&&(Xi(this,v),Ck(this,b,h))},s)),s.f=u}function Rk(s){var u=[];return F_(new tG,s,u),u.join("")}function tG(){}function F_(s,u,h){if(u==null)h.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var v=u;u=v.length,h.push("[");for(var b="",E=0;E<u;E++)h.push(b),F_(s,v[E],h),b=",";h.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{h.push("{"),b="";for(v in u)Object.prototype.hasOwnProperty.call(u,v)&&(E=u[v],typeof E!="function"&&(h.push(b),kk(v,h),h.push(":"),F_(s,E,h),b=","));h.push("}");return}}switch(typeof u){case"string":kk(u,h);break;case"number":h.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":h.push(String(u));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Ak={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},nG=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function kk(s,u){u.push('"',s.replace(nG,function(h){var v=Ak[h];return v||(v="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),Ak[h]=v),v}),'"')}function U_(){var s=yn();return Ti&&!!vs&&vs==11||/Edge\/\d+/.test(s)}function Kd(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function Dk(s,u){u=u||c.window;var h="about:blank";s&&(h=jp(FA(s)||BA)),u.location.href=h}function Nk(s,u){var h=[],v;for(v in s)v in u?typeof s[v]!=typeof u[v]?h.push(v):typeof s[v]=="object"&&s[v]!=null&&u[v]!=null?0<Nk(s[v],u[v]).length&&h.push(v):s[v]!==u[v]&&h.push(v):h.push(v);for(v in u)v in s||h.push(v);return h}function rG(){var s=yn();return s=yc(s)!=Lk?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!Ti||!vs||9<vs}function Ok(s){return s=(s||yn()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function Pa(s){s=s||c.window;try{s.close()}catch(u){}}function Pk(s,u,h){var v=Math.floor(1e9*Math.random()).toString();u=u||500,h=h||600;var b=(window.screen.availHeight-h)/2,E=(window.screen.availWidth-u)/2;u={width:u,height:h,top:0<b?b:0,left:0<E?E:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},h=yn().toLowerCase(),v&&(u.target=v,nt(h,"crios/")&&(u.target="_blank")),yc(yn())==V_&&(s=s||"http://localhost",u.scrollbars=!0),h=s||"",(s=u)||(s={}),v=window,u=h instanceof dr?h:FA(typeof h.href!="undefined"?h.href:String(h))||BA,h=s.target||h.target,b=[];for(T in s)switch(T){case"width":case"height":case"top":case"left":b.push(T+"="+s[T]);break;case"target":case"noopener":case"noreferrer":break;default:b.push(T+"="+(s[T]?1:0))}var T=b.join(",");if((en("iPhone")&&!en("iPod")&&!en("iPad")||en("iPad")||en("iPod"))&&v.navigator&&v.navigator.standalone&&h&&h!="_self"?(T=zp(document,"A"),DA(T,"HTMLAnchorElement"),u=u instanceof dr?u:UA(u),T.href=jp(u),T.setAttribute("target",h),s.noreferrer&&T.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,v,1),T.dispatchEvent(s),T={}):s.noreferrer?(T=VA("",v,h,T),s=jp(u),T&&(RW&&nt(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),T.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+p_(s)+'">',s=(v=OA())?v.createHTML(s):s,s=new hc(s,null,HA),v=T.document)&&(v.write(xW(s)),v.close())):(T=VA(u,v,h,T))&&s.noopener&&(T.opener=null),T)try{T.focus()}catch(A){}return T}function iG(s){return new Ne(function(u){function h(){mc(2e3).then(function(){if(!s||s.closed)u();else return h()})}return h()})}var oG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sG=/^[^@]+@[^@]+$/;function Zp(){var s=null;return new Ne(function(u){c.document.readyState=="complete"?u():(s=function(){u()},A_(window,"load",s))}).o(function(u){throw Dr(window,"load",s),u})}function aG(){return B_(void 0)?Zp().then(function(){return new Ne(function(s,u){var h=c.document,v=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);h.addEventListener("deviceready",function(){clearTimeout(v),s()},!1)})}):ht(Error("Cordova must run in an Android or iOS file scheme."))}function B_(s){return s=s||yn(),!(_c()!=="file:"&&_c()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function H_(){var s=c.window;try{return!(!s||s==s.top)}catch(u){return!1}}function Ci(){return typeof c.WorkerGlobalScope!="undefined"&&typeof c.importScripts=="function"}function Qi(){return Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Z.INTERNAL.hasOwnProperty("node")?"Node":Ci()?"Worker":"Browser"}function Mk(){var s=Qi();return s==="ReactNative"||s==="Node"}function lG(){for(var s=50,u=[];0<s;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return u.join("")}var V_="Firefox",Lk="Chrome";function yc(s){var u=s.toLowerCase();if(nt(u,"opera/")||nt(u,"opr/")||nt(u,"opios/"))return"Opera";if(nt(u,"iemobile"))return"IEMobile";if(nt(u,"msie")||nt(u,"trident/"))return"IE";if(nt(u,"edge/"))return"Edge";if(nt(u,"firefox/"))return V_;if(nt(u,"silk/"))return"Silk";if(nt(u,"blackberry"))return"Blackberry";if(nt(u,"webos"))return"Webos";if(!nt(u,"safari/")||nt(u,"chrome/")||nt(u,"crios/")||nt(u,"android"))if(!nt(u,"chrome/")&&!nt(u,"crios/")||nt(u,"edge/")){if(nt(u,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return Lk;else return"Safari";return"Other"}var Fk={md:"FirebaseCore-web",od:"FirebaseUI-web"};function bc(s,u){u=u||[];var h=[],v={},b;for(b in Fk)v[Fk[b]]=!0;for(b=0;b<u.length;b++)typeof v[u[b]]!="undefined"&&(delete v[u[b]],h.push(u[b]));return h.sort(),u=h,u.length||(u=["FirebaseCore-web"]),h=Qi(),h==="Browser"?(v=yn(),h=yc(v)):h==="Worker"&&(v=yn(),h=yc(v)+"-"+h),h+"/JsCore/"+s+"/"+u.join(",")}function yn(){return c.navigator&&c.navigator.userAgent||""}function pt(s,u){s=s.split("."),u=u||c;for(var h=0;h<s.length&&typeof u=="object"&&u!=null;h++)u=u[s[h]];return h!=s.length&&(u=void 0),u}function j_(){try{var s=c.localStorage,u=La();if(s)return s.setItem(u,"1"),s.removeItem(u),U_()?!!c.indexedDB:!0}catch(h){return Ci()&&!!c.indexedDB}return!1}function Ma(){return(em()||_c()==="chrome-extension:"||B_())&&!Mk()&&j_()&&!Ci()}function em(){return _c()==="http:"||_c()==="https:"}function _c(){return c.location&&c.location.protocol||null}function $d(s){return s=s||yn(),!(Ok(s)||yc(s)==V_)}function Yd(s){return typeof s=="undefined"?null:Rk(s)}function Uk(s){var u={},h;for(h in s)s.hasOwnProperty(h)&&s[h]!==null&&s[h]!==void 0&&(u[h]=s[h]);return u}function wc(s){if(s!==null)return JSON.parse(s)}function La(s){return s||Math.floor(1e9*Math.random()).toString()}function Bk(s){return s=s||yn(),!(yc(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function Hk(){var s=c.___jsl;if(s&&s.H){for(var u in s.H)if(s.H[u].r=s.H[u].r||[],s.H[u].L=s.H[u].L||[],s.H[u].r=s.H[u].L.concat(),s.CP)for(var h=0;h<s.CP.length;h++)s.CP[h]=null}}function bs(s,u){if(s>u)throw Error("Short delay should be less than long delay!");this.a=s,this.c=u,s=yn(),u=Qi(),this.b=Ok(s)||u==="ReactNative"}bs.prototype.get=function(){var s=c.navigator;return(s&&typeof s.onLine=="boolean"&&(em()||_c()==="chrome-extension:"||typeof s.connection!="undefined")?s.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function q_(){var s=c.document;return s&&typeof s.visibilityState!="undefined"?s.visibilityState=="visible":!0}function cG(){var s=c.document,u=null;return q_()||!s?ue():new Ne(function(h){u=function(){q_()&&(s.removeEventListener("visibilitychange",u,!1),h())},s.addEventListener("visibilitychange",u,!1)}).o(function(h){throw s.removeEventListener("visibilitychange",u,!1),h})}function Xd(s){try{var u=new Date(parseInt(s,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(s))return u.toUTCString()}catch(h){}return null}function Vk(){return!(!pt("fireauth.oauthhelper",c)&&!pt("fireauth.iframe",c))}function uG(){var s=c.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function dG(){var s=c.navigator;return s&&s.serviceWorker?ue().then(function(){return s.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ue(null)}var jk={};function z_(s){jk[s]||(jk[s]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(s))}var W_;try{var G_={};Object.defineProperty(G_,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(G_,"abcd",{configurable:!0,enumerable:!0,value:2}),W_=G_.abcd==2}catch(s){W_=!1}function re(s,u,h){W_?Object.defineProperty(s,u,{configurable:!0,enumerable:!0,value:h}):s[u]=h}function Gn(s,u){if(u)for(var h in u)u.hasOwnProperty(h)&&re(s,h,u[h])}function Ji(s){var u={};return Gn(u,s),u}function fG(s){var u={},h;for(h in s)s.hasOwnProperty(h)&&(u[h]=s[h]);return u}function hG(s,u){if(!u||!u.length)return!0;if(!s)return!1;for(var h=0;h<u.length;h++){var v=s[u[h]];if(v==null||v==="")return!1}return!0}function K_(s){var u=s;if(typeof s=="object"&&s!=null){u="length"in s?[]:{};for(var h in s)re(u,h,K_(s[h]))}return u}function $_(s){var u=s&&(s[J_]?"phone":null);if(u&&s&&s[Q_]){re(this,"uid",s[Q_]),re(this,"displayName",s[qk]||null);var h=null;s[X_]&&(h=new Date(s[X_]).toUTCString()),re(this,"enrollmentTime",h),re(this,"factorId",u)}else throw new M("internal-error","Internal assert: invalid MultiFactorInfo object")}$_.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Y_(s){try{var u=new Qd(s)}catch(h){u=null}return u}var qk="displayName",X_="enrolledAt",Q_="mfaEnrollmentId",J_="phoneInfo";function Qd(s){$_.call(this,s),re(this,"phoneNumber",s[J_])}z(Qd,$_),Qd.prototype.w=function(){var s=Qd.ab.w.call(this);return s.phoneNumber=this.phoneNumber,s};function pG(s){var u={},h=s[mG],v=s[gG],b=s[yG];if(s=Y_(s[vG]),!b||b!=tm&&b!=Jd&&!h||b==Jd&&!v||b==Z_&&!s)throw Error("Invalid checkActionCode response!");b==Jd?(u[Wk]=h||null,u[Gk]=h||null,u[zk]=v):(u[Wk]=v||null,u[Gk]=v||null,u[zk]=h||null),u[bG]=s||null,re(this,wG,b),re(this,_G,K_(u))}var Z_="REVERT_SECOND_FACTOR_ADDITION",tm="EMAIL_SIGNIN",Jd="VERIFY_AND_CHANGE_EMAIL",mG="email",vG="mfaInfo",gG="newEmail",yG="requestType",zk="email",Wk="fromEmail",bG="multiFactorInfo",Gk="previousEmail",_G="data",wG="operation";function e0(s){s=hr(s);var u=Qr(s,Kk)||null,h=Qr(s,$k)||null,v=Qr(s,Yk)||null;if(v=v&&TG[v]||null,!u||!h||!v)throw new M("argument-error",Kk+", "+$k+"and "+Yk+" are required in a valid action code URL.");Gn(this,{apiKey:u,operation:v,code:h,continueUrl:Qr(s,EG)||null,languageCode:Qr(s,SG)||null,tenantId:Qr(s,xG)||null})}var Kk="apiKey",$k="oobCode",EG="continueUrl",SG="languageCode",Yk="mode",xG="tenantId",TG={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Z_,signIn:tm,verifyAndChangeEmail:Jd,verifyEmail:"VERIFY_EMAIL"};function Xk(s){try{return new e0(s)}catch(u){return null}}function nm(s){var u=s[CG];if(typeof u=="undefined")throw new M("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new M("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var h=s[Qk];if(h&&typeof h=="object"){u=h[nD];var v=h[eD];if(h=h[tD],typeof u=="string"&&u.length){if(this.a=u,typeof v!="undefined"&&typeof v!="boolean")throw new M("argument-error",eD+" property must be a boolean when specified.");if(this.g=!!v,typeof h!="undefined"&&(typeof h!="string"||typeof h=="string"&&!h.length))throw new M("argument-error",tD+" property must be a non empty string when specified.");this.b=h||null}else{if(typeof u!="undefined")throw new M("argument-error",nD+" property must be a non empty string when specified.");if(typeof v!="undefined"||typeof h!="undefined")throw new M("missing-android-pkg-name")}}else if(typeof h!="undefined")throw new M("argument-error",Qk+" property must be a non null object when specified.");if(this.f=null,(u=s[Zk])&&typeof u=="object"){if(u=u[rD],typeof u=="string"&&u.length)this.f=u;else if(typeof u!="undefined")throw new M("argument-error",rD+" property must be a non empty string when specified.")}else if(typeof u!="undefined")throw new M("argument-error",Zk+" property must be a non null object when specified.");if(u=s[t0],typeof u!="undefined"&&typeof u!="boolean")throw new M("argument-error",t0+" property must be a boolean when specified.");if(this.c=!!u,s=s[Jk],typeof s!="undefined"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new M("argument-error",Jk+" property must be a non empty string when specified.");this.i=s||null}var Qk="android",Jk="dynamicLinkDomain",t0="handleCodeInApp",Zk="iOS",CG="url",eD="installApp",tD="minimumVersion",nD="packageName",rD="bundleId";function rm(s){var u={};u.continueUrl=s.h,u.canHandleCodeInApp=s.c,(u.androidPackageName=s.a)&&(u.androidMinimumVersion=s.b,u.androidInstallApp=s.g),u.iOSBundleId=s.f,u.dynamicLinkDomain=s.i;for(var h in u)u[h]===null&&delete u[h];return u}function IG(s){return Up(s,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Zd=null;function RG(s){var u=[];return AG(s,function(h){u.push(h)}),u}function AG(s,u){function h(H){for(;v<s.length;){var j=s.charAt(v++),pe=Zd[j];if(pe!=null)return pe;if(!/^[\s\xa0]*$/.test(j))throw Error("Unknown base64 encoding at char: "+j)}return H}kG();for(var v=0;;){var b=h(-1),E=h(0),T=h(64),A=h(64);if(A===64&&b===-1)break;u(b<<2|E>>4),T!=64&&(u(E<<4&240|T>>2),A!=64&&u(T<<6&192|A))}}function kG(){if(!Zd){Zd={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],h=0;5>h;h++)for(var v=s.concat(u[h].split("")),b=0;b<v.length;b++){var E=v[b];Zd[E]===void 0&&(Zd[E]=b)}}}function im(s){var u=iD(s);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=s,this.a=u.exp,this.i=u.sub,s=Date.now()/1e3,this.g=u.iat||(s>this.a?this.a:s),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}im.prototype.T=function(){return this.f},im.prototype.l=function(){return this.c},im.prototype.toString=function(){return this.h};function om(s){try{return new im(s)}catch(u){return null}}function iD(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var u=(4-s.length%4)%4,h=0;h<u;h++)s+=".";try{var v=RG(s);for(s=[],h=u=0;u<v.length;){var b=v[u++];if(128>b)s[h++]=String.fromCharCode(b);else if(191<b&&224>b){var E=v[u++];s[h++]=String.fromCharCode((b&31)<<6|E&63)}else if(239<b&&365>b){E=v[u++];var T=v[u++],A=v[u++],H=((b&7)<<18|(E&63)<<12|(T&63)<<6|A&63)-65536;s[h++]=String.fromCharCode(55296+(H>>10)),s[h++]=String.fromCharCode(56320+(H&1023))}else E=v[u++],T=v[u++],s[h++]=String.fromCharCode((b&15)<<12|(E&63)<<6|T&63)}return JSON.parse(s.join(""))}catch(j){}return null}var oD="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),sm=["client_id","response_type","scope","redirect_uri","state"],n0={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:sm},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:sm},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:sm},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:oD},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function r0(s){for(var u in n0)if(n0[u].fa==s)return n0[u];return null}function sD(s){var u={};u["facebook.com"]=lD,u["google.com"]=uD,u["github.com"]=cD,u["twitter.com"]=dD;var h=s&&s[aD];try{if(h)return u[h]?new u[h](s):new Zi(s);if(typeof s[i0]!="undefined")return new o0(s)}catch(v){}return null}var i0="idToken",aD="providerId";function o0(s){var u=s[aD];if(!u&&s[i0]){var h=om(s[i0]);h&&h.b&&(u=h.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),h=!1,typeof s.isNewUser!="undefined"?h=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(h=!0),re(this,"providerId",u),re(this,"isNewUser",h)}function Zi(s){o0.call(this,s),s=wc(s.rawUserInfo||"{}"),re(this,"profile",K_(s||{}))}z(Zi,o0);function lD(s){if(Zi.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(lD,Zi);function cD(s){if(Zi.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");re(this,"username",this.profile&&this.profile.login||null)}z(cD,Zi);function uD(s){if(Zi.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(uD,Zi);function dD(s){if(Zi.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");re(this,"username",s.screenName||null)}z(dD,Zi);function fD(s){var u=hr(s),h=Qr(u,"link"),v=Qr(hr(h),"link");return u=Qr(u,"deep_link_id"),Qr(hr(u),"link")||u||v||h||s}function am(s,u){if(!s&&!u)throw new M("internal-error","Internal assert: no raw session string available");if(s&&u)throw new M("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=u||null,this.type=this.a?ef:lm}var ef="enroll",lm="signin";am.prototype.Ha=function(){return this.a?ue(this.a):ue(this.b)},am.prototype.w=function(){return this.type==ef?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ec(){}Ec.prototype.ka=function(){},Ec.prototype.b=function(){},Ec.prototype.c=function(){},Ec.prototype.w=function(){};function Sc(s,u){return s.then(function(h){if(h[Ai]){var v=om(h[Ai]);if(!v||u!=v.i)throw new M("user-mismatch");return h}throw new M("user-mismatch")}).o(function(h){throw h&&h.code&&h.code==lt+"user-not-found"?new M("user-mismatch"):h})}function Fa(s,u){if(u)this.a=u;else throw new M("internal-error","failed to construct a credential");re(this,"providerId",s),re(this,"signInMethod",s)}Fa.prototype.ka=function(s){return A0(s,s0(this))},Fa.prototype.b=function(s,u){var h=s0(this);return h.idToken=u,k0(s,h)},Fa.prototype.c=function(s,u){return Sc(D0(s,s0(this)),u)};function s0(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Fa.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function DG(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Fa(s.providerId,s.pendingToken)}catch(u){}return null}function Fo(s,u,h){if(this.a=null,u.idToken||u.accessToken)u.idToken&&re(this,"idToken",u.idToken),u.accessToken&&re(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&re(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)re(this,"accessToken",u.oauthToken),re(this,"secret",u.oauthTokenSecret);else throw new M("internal-error","failed to construct a credential");re(this,"providerId",s),re(this,"signInMethod",h)}Fo.prototype.ka=function(s){return A0(s,a0(this))},Fo.prototype.b=function(s,u){var h=a0(this);return h.idToken=u,k0(s,h)},Fo.prototype.c=function(s,u){var h=a0(this);return Sc(D0(s,h),u)};function a0(s){var u={};return s.idToken&&(u.id_token=s.idToken),s.accessToken&&(u.access_token=s.accessToken),s.secret&&(u.oauth_token_secret=s.secret),u.providerId=s.providerId,s.nonce&&!s.a&&(u.nonce=s.nonce),u={postBody:Tk(u).toString(),requestUri:"http://localhost"},s.a&&(delete u.postBody,u.pendingToken=s.a),u}Fo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function NG(s){if(s&&s.providerId&&s.signInMethod){var u={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Fo(s.providerId,u,s.signInMethod)}catch(h){}}return null}function Ua(s,u){this.Qc=u||[],Gn(this,{providerId:s,isOAuthProvider:!0}),this.Ib={},this.pb=(r0(s)||{}).Ja||null,this.ob=null}Ua.prototype.Ka=function(s){return this.Ib=ms(s),this};function hD(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new M("argument-error",'SAML provider IDs must be prefixed with "saml."');Ua.call(this,s,[])}z(hD,Ua);function Nr(s){Ua.call(this,s,sm),this.a=[]}z(Nr,Ua),Nr.prototype.Ca=function(s){return Mo(this.a,s)||this.a.push(s),this},Nr.prototype.Qb=function(){return Ia(this.a)},Nr.prototype.credential=function(s,u){var h;if(w(s)?h={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:h={idToken:s||null,accessToken:u||null},!h.idToken&&!h.accessToken)throw new M("argument-error","credential failed: must provide the ID token and/or the access token.");return new Fo(this.providerId,h,this.providerId)};function Ba(){Nr.call(this,"facebook.com")}z(Ba,Nr),re(Ba,"PROVIDER_ID","facebook.com"),re(Ba,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function pD(s){if(!s)throw new M("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=s;return w(s)&&(u=s.accessToken),new Ba().credential({accessToken:u})}function Ha(){Nr.call(this,"github.com")}z(Ha,Nr),re(Ha,"PROVIDER_ID","github.com"),re(Ha,"GITHUB_SIGN_IN_METHOD","github.com");function mD(s){if(!s)throw new M("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=s;return w(s)&&(u=s.accessToken),new Ha().credential({accessToken:u})}function Va(){Nr.call(this,"google.com"),this.Ca("profile")}z(Va,Nr),re(Va,"PROVIDER_ID","google.com"),re(Va,"GOOGLE_SIGN_IN_METHOD","google.com");function vD(s,u){var h=s;return w(s)&&(h=s.idToken,u=s.accessToken),new Va().credential({idToken:h,accessToken:u})}function xc(){Ua.call(this,"twitter.com",oD)}z(xc,Ua),re(xc,"PROVIDER_ID","twitter.com"),re(xc,"TWITTER_SIGN_IN_METHOD","twitter.com");function gD(s,u){var h=s;if(w(h)||(h={oauthToken:s,oauthTokenSecret:u}),!h.oauthToken||!h.oauthTokenSecret)throw new M("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Fo("twitter.com",h,"twitter.com")}function _s(s,u,h){this.a=s,this.f=u,re(this,"providerId","password"),re(this,"signInMethod",h===Jr.EMAIL_LINK_SIGN_IN_METHOD?Jr.EMAIL_LINK_SIGN_IN_METHOD:Jr.EMAIL_PASSWORD_SIGN_IN_METHOD)}_s.prototype.ka=function(s){return this.signInMethod==Jr.EMAIL_LINK_SIGN_IN_METHOD?Me(s,g5,{email:this.a,oobCode:this.f}):Me(s,WD,{email:this.a,password:this.f})},_s.prototype.b=function(s,u){return this.signInMethod==Jr.EMAIL_LINK_SIGN_IN_METHOD?Me(s,y5,{idToken:u,email:this.a,oobCode:this.f}):Me(s,zD,{idToken:u,email:this.a,password:this.f})},_s.prototype.c=function(s,u){return Sc(this.ka(s),u)},_s.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function OG(s){return s&&s.email&&s.password?new _s(s.email,s.password,s.signInMethod):null}function Jr(){Gn(this,{providerId:"password",isOAuthProvider:!1})}function yD(s,u){if(u=l0(u),!u)throw new M("argument-error","Invalid email link!");return new _s(s,u.code,Jr.EMAIL_LINK_SIGN_IN_METHOD)}function l0(s){return s=fD(s),(s=Xk(s))&&s.operation===tm?s:null}Gn(Jr,{PROVIDER_ID:"password"}),Gn(Jr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Gn(Jr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ws(s){if(!(s.eb&&s.cb||s.La&&s.ea))throw new M("internal-error");this.a=s,re(this,"providerId","phone"),this.fa="phone",re(this,"signInMethod","phone")}ws.prototype.ka=function(s){return s.fb(tf(this))},ws.prototype.b=function(s,u){var h=tf(this);return h.idToken=u,Me(s,U5,h)},ws.prototype.c=function(s,u){var h=tf(this);return h.operation="REAUTH",s=Me(s,B5,h),Sc(s,u)},ws.prototype.w=function(){var s={providerId:"phone"};return this.a.eb&&(s.verificationId=this.a.eb),this.a.cb&&(s.verificationCode=this.a.cb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function PG(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var u={};return _t(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(h){s[h]&&(u[h]=s[h])}),new ws(u)}return null}function tf(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.eb,code:s.a.cb}}function Uo(s){try{this.a=s||Z.auth()}catch(u){throw new M("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Gn(this,{providerId:"phone",isOAuthProvider:!1})}Uo.prototype.fb=function(s,u){var h=this.a.a;return ue(u.verify()).then(function(v){if(typeof v!="string")throw new M("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var b=w(s)?s.session:null,E=w(s)?s.phoneNumber:s,T;return b&&b.type==ef?T=b.Ha().then(function(A){return l5(h,{idToken:A,phoneEnrollmentInfo:{phoneNumber:E,recaptchaToken:v}})}):b&&b.type==lm?T=b.Ha().then(function(A){return c5(h,{mfaPendingCredential:A,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:v}})}):T=a5(h,{phoneNumber:E,recaptchaToken:v}),T.then(function(A){return typeof u.reset=="function"&&u.reset(),A},function(A){throw typeof u.reset=="function"&&u.reset(),A});default:throw new M("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function bD(s,u){if(!s)throw new M("missing-verification-id");if(!u)throw new M("missing-verification-code");return new ws({eb:s,cb:u})}Gn(Uo,{PROVIDER_ID:"phone"}),Gn(Uo,{PHONE_SIGN_IN_METHOD:"phone"});function c0(s){if(s.temporaryProof&&s.phoneNumber)return new ws({La:s.temporaryProof,ea:s.phoneNumber});var u=s&&s.providerId;if(!u||u==="password")return null;var h=s&&s.oauthAccessToken,v=s&&s.oauthTokenSecret,b=s&&s.nonce,E=s&&s.oauthIdToken,T=s&&s.pendingToken;try{switch(u){case"google.com":return vD(E,h);case"facebook.com":return pD(h);case"github.com":return mD(h);case"twitter.com":return gD(h,v);default:return h||v||E||T?T?u.indexOf("saml.")==0?new Fa(u,T):new Fo(u,{pendingToken:T,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},u):new Nr(u).credential({idToken:E,accessToken:h,rawNonce:b}):null}}catch(A){return null}}function u0(s){if(!s.isOAuthProvider)throw new M("invalid-oauth-provider")}function Ii(s,u,h,v,b,E,T){if(this.c=s,this.b=u||null,this.g=h||null,this.f=v||null,this.i=E||null,this.h=T||null,this.a=b||null,this.g||this.a){if(this.g&&this.a)throw new M("invalid-auth-event");if(this.g&&!this.f)throw new M("invalid-auth-event")}else throw new M("invalid-auth-event")}Ii.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},Ii.prototype.T=function(){return this.h},Ii.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function _D(s){return s=s||{},s.type?new Ii(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&Tt(s.error),s.postBody,s.tenantId):null}function MG(){this.b=null,this.a=[]}var d0=null;function LG(s){var u=d0;u.a.push(s),u.b||(u.b=function(h){for(var v=0;v<u.a.length;v++)u.a[v](h)},s=pt("universalLinks.subscribe",c),typeof s=="function"&&s(null,u.b))}function f0(s){var u="unauthorized-domain",h=void 0,v=hr(s);s=v.a,v=v.c,v=="chrome-extension"?h=jA("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):v=="http"||v=="https"?h=jA("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):u="operation-not-supported-in-this-environment",M.call(this,u,h)}z(f0,M);function nf(s,u,h){M.call(this,s,h),s=u||{},s.Jb&&re(this,"email",s.Jb),s.ea&&re(this,"phoneNumber",s.ea),s.credential&&re(this,"credential",s.credential),s.Zb&&re(this,"tenantId",s.Zb)}z(nf,M),nf.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&ur(s,u),s},nf.prototype.toJSON=function(){return this.w()};function cm(s){if(s.code){var u=s.code||"";u.indexOf(lt)==0&&(u=u.substring(lt.length));var h={credential:c0(s),Zb:s.tenantId};if(s.email)h.Jb=s.email;else if(s.phoneNumber)h.ea=s.phoneNumber;else if(!h.credential)return new M(u,s.message||void 0);return new nf(u,h,s.message)}return null}function rf(){}rf.prototype.c=null;function wD(s){return s.c||(s.c=s.b())}var h0;function um(){}z(um,rf),um.prototype.a=function(){var s=ED(this);return s?new ActiveXObject(s):new XMLHttpRequest},um.prototype.b=function(){var s={};return ED(this)&&(s[0]=!0,s[1]=!0),s};function ED(s){if(!s.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],h=0;h<u.length;h++){var v=u[h];try{return new ActiveXObject(v),s.f=v}catch(b){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}h0=new um;function dm(){}z(dm,rf),dm.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest!="undefined")return new SD;throw Error("Unsupported browser")},dm.prototype.b=function(){return{}};function SD(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.qc,this),this.a.onerror=L(this.Sb,this),this.a.onprogress=L(this.rc,this),this.a.ontimeout=L(this.vc,this)}t=SD.prototype,t.open=function(s,u,h){if(h!=null&&!h)throw Error("Only async requests are supported.");this.a.open(s,u)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,p0(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",p0(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,p0(this,1)};function p0(s,u){s.readyState=u,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function m0(s,u,h){this.reset(s,u,h,void 0,void 0)}m0.prototype.a=null;var FG=0;m0.prototype.reset=function(s,u,h,v,b){typeof b=="number"||FG++,v||$(),delete this.a};function v0(s){this.f=s,this.b=this.c=this.a=null}function of(s,u){this.name=s,this.value=u}of.prototype.toString=function(){return this.name};var xD=new of("SEVERE",1e3),g0=new of("WARNING",900),UG=new of("CONFIG",700),BG=new of("FINE",500);function TD(s){return s.c?s.c:s.a?TD(s.a):(uc("Root logger has no level set."),null)}v0.prototype.log=function(s,u,h){if(s.value>=TD(this).value)for(_(u)&&(u=u()),s=new m0(s,String(u),this.f),h&&(s.a=h),h=this;h;)h=h.a};var y0={},fm=null;function b0(s){fm||(fm=new v0(""),y0[""]=fm,fm.c=UG);var u;if(!(u=y0[s])){u=new v0(s);var h=s.lastIndexOf("."),v=s.substr(h+1);h=b0(s.substr(0,h)),h.b||(h.b={}),h.b[v]=u,u.a=h,y0[s]=u}return u}function Zr(s,u){s&&s.log(BG,u,void 0)}function hm(s){this.f=s}z(hm,rf),hm.prototype.a=function(){return new pm(this.f)},hm.prototype.b=function(s){return function(){return s}}({});function pm(s){Wn.call(this),this.u=s,this.h=void 0,this.readyState=_0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=b0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}z(pm,Wn);var _0=0;t=pm.prototype,t.open=function(s,u){if(this.readyState!=_0)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=u,this.readyState=1,af(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(u.body=s),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,sf(this)),this.readyState=_0},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,af(this)),this.a&&(this.readyState=3,af(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream!="undefined"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,CD(this)):s.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function CD(s){s.c.read().then(s.pc.bind(s)).catch(s.Ua.bind(s))}t.pc=function(s){if(this.a){var u=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});u&&(this.response=this.responseText+=u),s.done?sf(this):af(this),this.readyState==3&&CD(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,sf(this))},t.sc=function(s){this.a&&(this.response=s,sf(this))},t.Ua=function(s){var u=this.i;u&&u.log(g0,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&sf(this)};function sf(s){s.readyState=4,s.g=null,s.c=null,s.m=null,af(s)}t.setRequestHeader=function(s,u){this.l.append(s,u)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(g0,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(g0,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var u=this.b.entries(),h=u.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=u.next();return s.join(`\r
`)};function af(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(pm.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function lf(s){Wn.call(this),this.headers=new vc,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ID,this.u=this.S=!1}z(lf,Wn);var ID="";lf.prototype.b=b0("goog.net.XhrIo");var HG=/^https?$/i,VG=["POST","PUT"];function jG(s,u,h,v,b){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+u);h=h?h.toUpperCase():"GET",s.l=u,s.h="",s.R=h,s.J=!1,s.c=!0,s.a=s.D?s.D.a():h0.a(),s.C=s.D?wD(s.D):wD(h0),s.a.onreadystatechange=L(s.Vb,s);try{Zr(s.b,Bo(s,"Opening Xhr")),s.O=!0,s.a.open(h,String(u),!0),s.O=!1}catch(T){Zr(s.b,Bo(s,"Error opening Xhr: "+T.message)),RD(s,T);return}u=v||"";var E=new vc(s.headers);b&&KW(b,function(T,A){E.set(A,T)}),b=dW(E.Y()),v=c.FormData&&u instanceof c.FormData,!Mo(VG,h)||b||v||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),E.forEach(function(T,A){this.a.setRequestHeader(A,T)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{DD(s),0<s.g&&(s.u=qG(s.a),Zr(s.b,Bo(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=L(s.Ma,s)):s.s=O_(s.Ma,s.g,s)),Zr(s.b,Bo(s,"Sending request")),s.i=!0,s.a.send(u),s.i=!1}catch(T){Zr(s.b,Bo(s,"Send error: "+T.message)),RD(s,T)}}function qG(s){return Ti&&GA(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function zG(s){return s.toLowerCase()=="content-type"}t=lf.prototype,t.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Zr(this.b,Bo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function RD(s,u){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=u,AD(s),mm(s)}function AD(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Zr(this.b,Bo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mm(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mm(this,!0)),lf.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?kD(this):this.Jc())},t.Jc=function(){kD(this)};function kD(s){if(s.c&&typeof l!="undefined"){if(s.C[1]&&cf(s)==4&&vm(s)==2)Zr(s.b,Bo(s,"Local request error detected and ignored"));else if(s.i&&cf(s)==4)O_(s.Vb,0,s);else if(s.dispatchEvent("readystatechange"),cf(s)==4){Zr(s.b,Bo(s,"Request complete")),s.c=!1;try{var u=vm(s);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var v;if(!(v=h)){var b;if(b=u===0){var E=String(s.l).match(Sk)[1]||null;if(!E&&c.self&&c.self.location){var T=c.self.location.protocol;E=T.substr(0,T.length-1)}b=!HG.test(E?E.toLowerCase():"")}v=b}if(v)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var A=2<cf(s)?s.a.statusText:""}catch(H){Zr(s.b,"Can not get status: "+H.message),A=""}s.h=A+" ["+vm(s)+"]",AD(s)}}finally{mm(s)}}}}function mm(s,u){if(s.a){DD(s);var h=s.a,v=s.C[0]?m:null;s.a=null,s.C=null,u||s.dispatchEvent("ready");try{h.onreadystatechange=v}catch(b){(s=s.b)&&s.log(xD,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}}function DD(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(c.clearTimeout(s.s),s.s=null)}function cf(s){return s.a?s.a.readyState:0}function vm(s){try{return 2<cf(s)?s.a.status:-1}catch(u){return-1}}function WG(s){try{return s.a?s.a.responseText:""}catch(u){return Zr(s.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ID:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(xD,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Zr(this.b,"Can not get response: "+u.message),null}};function Bo(s,u){return u+" ["+s.R+" "+s.l+" "+vm(s)+"]"}function ja(s){var u=$G;this.g=[],this.u=u,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ja.prototype.cancel=function(s){if(this.a)this.c instanceof ja&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,s?u.cancel(s):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new df(this),gm(this),uf(this,!1,s))}},ja.prototype.m=function(s,u){this.i=!1,uf(this,s,u)};function uf(s,u,h){s.a=!0,s.c=h,s.f=!u,OD(s)}function gm(s){if(s.a){if(!s.v)throw new ym(s);s.v=!1}}function GG(s,u){w0(s,null,u,void 0)}function w0(s,u,h,v){s.g.push([u,h,v]),s.a&&OD(s)}ja.prototype.then=function(s,u,h){var v,b,E=new Ne(function(T,A){v=T,b=A});return w0(this,v,function(T){T instanceof df?E.cancel():b(T)}),E.then(s,u,h)},ja.prototype.$goog_Thenable=!0;function ND(s){return uW(s.g,function(u){return _(u[1])})}function OD(s){if(s.h&&s.a&&ND(s)){var u=s.h,h=bm[u];h&&(c.clearTimeout(h.a),delete bm[u]),s.h=0}s.b&&(s.b.l--,delete s.b),u=s.c;for(var v=h=!1;s.g.length&&!s.i;){var b=s.g.shift(),E=b[0],T=b[1];if(b=b[2],E=s.f?T:E)try{var A=E.call(b||s.s,u);A!==void 0&&(s.f=s.f&&(A==u||A instanceof Error),s.c=u=A),(wA(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(v=!0,s.i=!0)}catch(H){u=H,s.f=!0,ND(s)||(h=!0)}}s.c=u,v&&(A=L(s.m,s,!0),v=L(s.m,s,!1),u instanceof ja?(w0(u,A,v),u.C=!0):u.then(A,v)),h&&(u=new PD(u),bm[u.a]=u,s.h=u.a)}function ym(){kr.call(this)}z(ym,kr),ym.prototype.message="Deferred has already fired",ym.prototype.name="AlreadyCalledError";function df(){kr.call(this)}z(df,kr),df.prototype.message="Deferred was canceled",df.prototype.name="CanceledError";function PD(s){this.a=c.setTimeout(L(this.c,this),0),this.b=s}PD.prototype.c=function(){throw delete bm[this.a],this.b};var bm={};function E0(s){var u={},h=u.document||document,v=PA(s).toString(),b=zp(document,"SCRIPT"),E={Wb:b,Ma:void 0},T=new ja(E),A=null,H=u.timeout!=null?u.timeout:5e3;return 0<H&&(A=window.setTimeout(function(){_m(b,!0);var j=new S0(XG,"Timeout reached for loading script "+v);gm(T),uf(T,!1,j)},H),E.Ma=A),b.onload=b.onreadystatechange=function(){b.readyState&&b.readyState!="loaded"&&b.readyState!="complete"||(_m(b,u.xd||!1,A),gm(T),uf(T,!0,null))},b.onerror=function(){_m(b,!0,A);var j=new S0(YG,"Error while loading script "+v);gm(T),uf(T,!1,j)},E=u.attributes||{},ur(E,{type:"text/javascript",charset:"UTF-8"}),$A(b,E),TW(b,s),KG(h).appendChild(b),T}function KG(s){var u;return(u=(s||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:s.documentElement}function $G(){if(this&&this.Wb){var s=this.Wb;s&&s.tagName=="SCRIPT"&&_m(s,!0,this.Ma)}}function _m(s,u,h){h!=null&&c.clearTimeout(h),s.onload=m,s.onerror=m,s.onreadystatechange=m,u&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var YG=0,XG=1;function S0(s,u){var h="Jsloader error (code #"+s+")";u&&(h+=": "+u),kr.call(this,h),this.code=s}z(S0,kr);function wm(s){this.f=s}z(wm,rf),wm.prototype.a=function(){return new this.f},wm.prototype.b=function(){return{}};function Ri(s,u,h){if(this.c=s,s=u||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||QG,this.g=ms(s.secureTokenHeaders||JG),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||ZG,this.a=ms(s.firebaseHeaders||e5),h&&(this.a["X-Client-Version"]=h,this.g["X-Client-Version"]=h),h=Qi()=="Node",h=c.XMLHttpRequest||h&&Z.INTERNAL.node&&Z.INTERNAL.node.XMLHttpRequest,!h&&!Ci())throw new M("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ci()?this.f=new hm(self):Mk()?this.f=new wm(h):this.f=new dm,this.b=null}var x0,Ai="idToken",QG=new bs(3e4,6e4),JG={"Content-Type":"application/x-www-form-urlencoded"},ZG=new bs(3e4,6e4),e5={"Content-Type":"application/json"};function MD(s,u){u?s.a["X-Firebase-Locale"]=u:delete s.a["X-Firebase-Locale"]}function Tc(s,u){u&&(s.l=T0("https://securetoken.googleapis.com/v1/token",u),s.h=T0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),s.i=T0("https://identitytoolkit.googleapis.com/v2/",u))}function T0(s,u){return s=hr(s),u=hr(u.url),s.f=s.a+s.f,qd(s,u.c),s.a=u.a,zd(s,u.g),s.toString()}function LD(s,u){u?(s.a["X-Client-Version"]=u,s.g["X-Client-Version"]=u):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}Ri.prototype.T=function(){return this.b};function FD(s,u,h,v,b,E,T){rG()||Ci()?s=L(s.u,s):(x0||(x0=new Ne(function(A,H){n5(A,H)})),s=L(s.s,s)),s(u,h,v,b,E,T)}Ri.prototype.u=function(s,u,h,v,b,E){if(Ci()&&(typeof c.fetch=="undefined"||typeof c.Headers=="undefined"||typeof c.Request=="undefined"))throw new M("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var T=new lf(this.f);if(E){T.g=Math.max(0,E);var A=setTimeout(function(){T.dispatchEvent("timeout")},E)}_k(T,"complete",function(){A&&clearTimeout(A);var H=null;try{H=JSON.parse(WG(this))||null}catch(j){H=null}u&&u(H)}),N_(T,"ready",function(){A&&clearTimeout(A),fk(this)}),N_(T,"timeout",function(){A&&clearTimeout(A),fk(this),u&&u(null)}),jG(T,s,h,v,b)};var t5=new Yi(Hp,"https://apis.google.com/js/client.js?onload=%{onload}"),UD="__fcb"+Math.floor(1e6*Math.random()).toString();function n5(s,u){if(((window.gapi||{}).client||{}).request)s();else{c[UD]=function(){((window.gapi||{}).client||{}).request?s():u(Error("CORS_UNSUPPORTED"))};var h=h_(t5,{onload:UD});GG(E0(h),function(){u(Error("CORS_UNSUPPORTED"))})}}Ri.prototype.s=function(s,u,h,v,b){var E=this;x0.then(function(){window.gapi.client.setApiKey(E.c);var T=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:h,body:v,headers:b,authType:"none",callback:function(A){window.gapi.auth.setToken(T),u&&u(A)}})}).o(function(T){u&&u({error:{message:T&&T.message||"CORS_UNSUPPORTED"}})})};function r5(s,u){return new Ne(function(h,v){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?FD(s,s.l+"?key="+encodeURIComponent(s.c),function(b){b?b.error?v(O0(b)):b.access_token&&b.refresh_token?h(b):v(new M("internal-error")):v(new M("network-request-failed"))},"POST",Tk(u).toString(),s.g,s.m.get()):v(new M("internal-error"))})}function BD(s,u,h,v,b,E,T){var A=hr(u+h);Pt(A,"key",s.c),T&&Pt(A,"cb",Date.now().toString());var H=v=="GET";if(H)for(var j in b)b.hasOwnProperty(j)&&Pt(A,j,b[j]);return new Ne(function(pe,Ye){FD(s,A.toString(),function(Be){Be?Be.error?Ye(O0(Be,E||{})):pe(Be):Ye(new M("network-request-failed"))},v,H?void 0:Rk(Uk(b)),s.a,s.v.get())})}function qa(s){if(s=s.email,typeof s!="string"||!sG.test(s))throw new M("invalid-email")}function HD(s){"email"in s&&qa(s)}function i5(s,u){return Me(s,p5,{identifier:u,continueUri:em()?Kd():"http://localhost"}).then(function(h){return h.signinMethods||[]})}function o5(s){return Me(s,C5,{}).then(function(u){return u.authorizedDomains||[]})}function pr(s){if(!s[Ai])throw s.mfaPendingCredential?new M("multi-factor-auth-required",null,ms(s)):new M("internal-error")}function C0(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new M("internal-error")}else{if(!s.sessionInfo)throw new M("missing-verification-id");if(!s.code)throw new M("missing-verification-code")}}Ri.prototype.zb=function(){return Me(this,k5,{})},Ri.prototype.Bb=function(s,u){return Me(this,qD,{idToken:s,email:u})},Ri.prototype.Cb=function(s,u){return Me(this,zD,{idToken:s,password:u})};var s5={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Ri.prototype,t.Db=function(s,u){var h={idToken:s},v=[];return AA(s5,function(b,E){var T=u[E];T===null?v.push(b):E in u&&(h[E]=T)}),v.length&&(h.deleteAttribute=v),Me(this,qD,h)},t.vb=function(s,u){return s={requestType:"PASSWORD_RESET",email:s},ur(s,u),Me(this,T5,s)},t.wb=function(s,u){return s={requestType:"EMAIL_SIGNIN",email:s},ur(s,u),Me(this,E5,s)},t.ub=function(s,u){return s={requestType:"VERIFY_EMAIL",idToken:s},ur(s,u),Me(this,S5,s)},t.Eb=function(s,u,h){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:u},ur(s,h),Me(this,x5,s)};function a5(s,u){return Me(s,A5,u)}t.fb=function(s){return Me(this,F5,s)};function l5(s,u){return Me(s,D5,u).then(function(h){return h.phoneSessionInfo.sessionInfo})}function VD(s){if(!s.phoneVerificationInfo)throw new M("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new M("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new M("missing-verification-code")}function c5(s,u){return Me(s,N5,u).then(function(h){return h.phoneResponseInfo.sessionInfo})}function u5(s,u,h){return Me(s,v5,{idToken:u,deleteProvider:h})}function I0(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new M("internal-error")}function R0(s,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(s.sessionId?u.nonce=s.sessionId:s.postBody&&(s=new Oa(s.postBody),L_(s,"nonce")&&(u.nonce=s.get("nonce")))),u}function jD(s){var u=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",u=cm(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",u=cm(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",u=cm(s)):s.errorMessage&&(u=GD(s.errorMessage)),u)throw u;pr(s)}function A0(s,u){return u.returnIdpCredential=!0,Me(s,O5,u)}function k0(s,u){return u.returnIdpCredential=!0,Me(s,M5,u)}function D0(s,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Me(s,P5,u)}function N0(s){if(!s.oobCode)throw new M("invalid-action-code")}t.nb=function(s,u){return Me(this,R5,{oobCode:s,newPassword:u})},t.Ra=function(s){return Me(this,f5,{oobCode:s})},t.jb=function(s){return Me(this,d5,{oobCode:s})};var d5={endpoint:"setAccountInfo",A:N0,Z:"email",B:!0},f5={endpoint:"resetPassword",A:N0,G:function(s){var u=s.requestType;if(!u||!s.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new M("internal-error")},B:!0},h5={endpoint:"signupNewUser",A:function(s){if(qa(s),!s.password)throw new M("weak-password")},G:pr,V:!0,B:!0},p5={endpoint:"createAuthUri",B:!0},m5={endpoint:"deleteAccount",N:["idToken"]},v5={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new M("internal-error")}},g5={endpoint:"emailLinkSignin",N:["email","oobCode"],A:qa,G:pr,V:!0,B:!0},y5={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:qa,G:pr,V:!0},b5={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:VD,G:pr,B:!0,Na:!0},_5={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:VD,G:pr,B:!0,Na:!0},w5={endpoint:"getAccountInfo"},E5={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new M("internal-error");qa(s)},Z:"email",B:!0},S5={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new M("internal-error")},Z:"email",B:!0},x5={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new M("internal-error")},Z:"email",B:!0},T5={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new M("internal-error");qa(s)},Z:"email",B:!0},C5={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},I5={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new M("internal-error")}},R5={endpoint:"resetPassword",A:N0,Z:"email",B:!0},A5={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qD={endpoint:"setAccountInfo",N:["idToken"],A:HD,V:!0},zD={endpoint:"setAccountInfo",N:["idToken"],A:function(s){if(HD(s),!s.password)throw new M("weak-password")},G:pr,V:!0},k5={endpoint:"signupNewUser",G:pr,V:!0,B:!0},D5={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new M("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new M("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new M("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new M("internal-error")},B:!0,Na:!0},N5={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new M("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new M("internal-error")},B:!0,Na:!0},O5={endpoint:"verifyAssertion",A:I0,Ya:R0,G:jD,V:!0,B:!0},P5={endpoint:"verifyAssertion",A:I0,Ya:R0,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new M("user-not-found");if(s.errorMessage)throw GD(s.errorMessage);pr(s)},V:!0,B:!0},M5={endpoint:"verifyAssertion",A:function(s){if(I0(s),!s.idToken)throw new M("internal-error")},Ya:R0,G:jD,V:!0},L5={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new M("invalid-custom-token")},G:pr,V:!0,B:!0},WD={endpoint:"verifyPassword",A:function(s){if(qa(s),!s.password)throw new M("wrong-password")},G:pr,V:!0,B:!0},F5={endpoint:"verifyPhoneNumber",A:C0,G:pr,B:!0},U5={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new M("internal-error");C0(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",cm(s);pr(s)}},B5={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:C0,G:pr,B:!0},H5={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[Ai]^!!s.refreshToken)throw new M("internal-error")},B:!0,Na:!0};function Me(s,u,h){if(!hG(h,u.N))return ht(new M("internal-error"));var v=!!u.Na,b=u.Ub||"POST",E;return ue(h).then(u.A).then(function(){return u.V&&(h.returnSecureToken=!0),u.B&&s.b&&typeof h.tenantId=="undefined"&&(h.tenantId=s.b),v?BD(s,s.i,u.endpoint,b,h,u.Hb,u.lb||!1):BD(s,s.h,u.endpoint,b,h,u.Hb,u.lb||!1)}).then(function(T){return E=T,u.Ya?u.Ya(h,E):E}).then(u.G).then(function(){if(!u.Z)return E;if(!(u.Z in E))throw new M("internal-error");return E[u.Z]})}function GD(s){return O0({error:{errors:[{message:s}],code:400,message:s}})}function O0(s,u){var h=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",v={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(h=v[h]?new M(v[h]):null)return h;h=s.error&&s.error.message||"",v={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},ur(v,u||{}),u=(u=h.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var b in v)if(h.indexOf(b)===0)return new M(v[b],u);return!u&&s&&(u=Yd(s)),new M("internal-error",u)}function V5(s){this.b=s,this.a=null,this.rb=j5(this)}function j5(s){return $5().then(function(){return new Ne(function(u,h){pt("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:pt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(v){function b(){clearTimeout(E),u()}s.a=v,s.a.restyle({setHideOnLeave:!1});var E=setTimeout(function(){h(Error("Network Error"))},K5.get());v.ping(b).then(b,function(){h(Error("Network Error"))})})})})}function q5(s,u){return s.rb.then(function(){return new Ne(function(h){s.a.send(u.type,u,h,pt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function z5(s,u){s.rb.then(function(){s.a.register("authEvent",u,pt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var W5=new Yi(Hp,"https://apis.google.com/js/api.js?onload=%{onload}"),G5=new bs(3e4,6e4),K5=new bs(5e3,15e3),Em=null;function $5(){return Em||(Em=new Ne(function(s,u){function h(){Hk(),pt("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){Hk(),u(Error("Network Error"))},timeout:G5.get()})}if(pt("gapi.iframes.Iframe"))s();else if(pt("gapi.load"))h();else{var v="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[v]=function(){pt("gapi.load")?h():u(Error("Network Error"))},v=h_(W5,{onload:v}),ue(E0(v)).o(function(){u(Error("Network Error"))})}}).o(function(s){throw Em=null,s}))}function KD(s,u,h,v){this.l=s,this.h=u,this.i=h,this.g=v,this.f=null,this.g?(s=hr(this.g.url),s=Jp(s.c,s.a,s.g,"/emulator/auth/iframe")):s=Jp("https",this.l,null,"/__/auth/iframe"),this.a=s,Pt(this.a,"apiKey",this.h),Pt(this.a,"appName",this.i),this.b=null,this.c=[]}KD.prototype.toString=function(){return this.f?Pt(this.a,"v",this.f):Xi(this.a.b,"v"),this.b?Pt(this.a,"eid",this.b):Xi(this.a.b,"eid"),this.c.length?Pt(this.a,"fw",this.c.join(",")):Xi(this.a.b,"fw"),this.a.toString()};function P0(s,u,h,v,b,E){this.u=s,this.s=u,this.c=h,this.m=v,this.v=E,this.i=this.g=this.l=null,this.a=b,this.h=this.f=null}P0.prototype.yb=function(s){return this.h=s,this},P0.prototype.toString=function(){if(this.v){var s=hr(this.v.url);s=Jp(s.c,s.a,s.g,"/emulator/auth/handler")}else s=Jp("https",this.u,null,"/__/auth/handler");if(Pt(s,"apiKey",this.s),Pt(s,"appName",this.c),Pt(s,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var h=Z.app(this.c).auth().la()}catch(A){h=null}u.ob=h,Pt(s,"providerId",this.a.providerId),h=this.a,u=Uk(h.Ib);for(var v in u)u[v]=u[v].toString();v=h.Qc,u=ms(u);for(var b=0;b<v.length;b++){var E=v[b];E in u&&delete u[E]}h.pb&&h.ob&&!u[h.pb]&&(u[h.pb]=h.ob),Ra(u)||Pt(s,"customParameters",Yd(u))}if(typeof this.a.Qb=="function"&&(h=this.a.Qb(),h.length&&Pt(s,"scopes",h.join(","))),this.l?Pt(s,"redirectUrl",this.l):Xi(s.b,"redirectUrl"),this.g?Pt(s,"eventId",this.g):Xi(s.b,"eventId"),this.i?Pt(s,"v",this.i):Xi(s.b,"v"),this.b)for(var T in this.b)this.b.hasOwnProperty(T)&&!Qr(s,T)&&Pt(s,T,this.b[T]);return this.h?Pt(s,"tid",this.h):Xi(s.b,"tid"),this.f?Pt(s,"eid",this.f):Xi(s.b,"eid"),T=M0(this.c),T.length&&Pt(s,"fw",T.join(",")),s.toString()};function M0(s){try{return Z.app(s).auth().Ga()}catch(u){return[]}}function $D(s,u,h,v,b,E){this.s=s,this.g=u,this.b=h,this.f=E,this.c=v||null,this.i=b||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function YD(s){var u=Kd();return o5(s).then(function(h){e:{var v=hr(u),b=v.c;v=v.a;for(var E=0;E<h.length;E++){var T=h[E],A=v,H=b;if(T.indexOf("chrome-extension://")==0?A=hr(T).a==A&&H=="chrome-extension":H!="http"&&H!="https"?A=!1:oG.test(T)?A=A==T:(T=T.split(".").join("\\."),A=new RegExp("^(.+\\."+T+"|"+T+")$","i").test(A)),A){h=!0;break e}}h=!1}if(!h)throw new f0(Kd())})}function XD(s){return s.m||(s.m=Zp().then(function(){if(!s.u){var u=s.c,h=s.i,v=M0(s.b),b=new KD(s.s,s.g,s.b,s.f);b.f=u,b.b=h,b.c=Ia(v||[]),s.u=b.toString()}s.v=new V5(s.u),Y5(s)})),s.m}t=$D.prototype,t.Ob=function(s,u,h){var v=new M("popup-closed-by-user"),b=new M("web-storage-unsupported"),E=this,T=!1;return this.ma().then(function(){X5(E).then(function(A){A||(s&&Pa(s),u(b),T=!0)})}).o(function(){}).then(function(){if(!T)return iG(s)}).then(function(){if(!T)return mc(h).then(function(){u(v)})})},t.Xb=function(){var s=yn();return!$d(s)&&!Bk(s)},t.Tb=function(){return!1},t.Mb=function(s,u,h,v,b,E,T,A){if(!s)return ht(new M("popup-blocked"));if(T&&!$d())return this.ma().o(function(j){Pa(s),b(j)}),v(),ue();this.a||(this.a=YD(QD(this)));var H=this;return this.a.then(function(){var j=H.ma().o(function(pe){throw Pa(s),b(pe),pe});return v(),j}).then(function(){if(u0(h),!T){var j=ff(H.s,H.g,H.b,u,h,null,E,H.c,void 0,H.i,A,H.f);Dk(j,s)}}).o(function(j){throw j.code=="auth/network-request-failed"&&(H.a=null),j})};function QD(s){return s.l||(s.C=s.c?bc(s.c,M0(s.b)):null,s.l=new Ri(s.g,Po(s.i),s.C),s.f&&Tc(s.l,s.f)),s.l}t.Nb=function(s,u,h,v){this.a||(this.a=YD(QD(this)));var b=this;return this.a.then(function(){u0(u);var E=ff(b.s,b.g,b.b,s,u,Kd(),h,b.c,void 0,b.i,v,b.f);Dk(E)}).o(function(E){throw E.code=="auth/network-request-failed"&&(b.a=null),E})},t.ma=function(){var s=this;return XD(this).then(function(){return s.v.rb}).o(function(){throw s.a=null,new M("network-request-failed")})},t.$b=function(){return!0};function ff(s,u,h,v,b,E,T,A,H,j,pe,Ye){return s=new P0(s,u,h,v,b,Ye),s.l=E,s.g=T,s.i=A,s.b=ms(H||null),s.f=j,s.yb(pe).toString()}function Y5(s){if(!s.v)throw Error("IfcHandler must be initialized!");z5(s.v,function(u){var h={};if(u&&u.authEvent){var v=!1;for(u=_D(u.authEvent),h=0;h<s.h.length;h++)v=s.h[h](u)||v;return h={},h.status=v?"ACK":"ERROR",ue(h)}return h.status="ERROR",ue(h)})}function X5(s){var u={type:"webStorageSupport"};return XD(s).then(function(){return q5(s.v,u)}).then(function(h){if(h&&h.length&&typeof h[0].webStorageSupport!="undefined")return h[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Sa=function(s){xi(this.h,function(u){return u==s})};function JD(s){if(this.a=s||Z.INTERNAL.reactNative&&Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new M("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=JD.prototype,t.get=function(s){return ue(this.a.getItem(s)).then(function(u){return u&&wc(u)})},t.set=function(s,u){return ue(this.a.setItem(s,Yd(u)))},t.U=function(s){return ue(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function ZD(s){this.b=s,this.a={},this.f=L(this.c,this)}var eN=[];function Q5(){var s=Ci()?self:null;if(_t(eN,function(h){h.b==s&&(u=h)}),!u){var u=new ZD(s);eN.push(u)}return u}ZD.prototype.c=function(s){var u=s.data.eventType,h=s.data.eventId,v=this.a[u];if(v&&0<v.length){s.ports[0].postMessage({status:"ack",eventId:h,eventType:u,response:null});var b=[];_t(v,function(E){b.push(ue().then(function(){return E(s.origin,s.data.data)}))}),nk(b).then(function(E){var T=[];_t(E,function(A){T.push({fulfilled:A.Pb,value:A.value,reason:A.reason?A.reason.message:void 0})}),_t(T,function(A){for(var H in A)typeof A[H]=="undefined"&&delete A[H]}),s.ports[0].postMessage({status:"done",eventId:h,eventType:u,response:T})})}};function tN(s,u,h){Ra(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[u]=="undefined"&&(s.a[u]=[]),s.a[u].push(h)}function nN(s){this.a=s}nN.prototype.postMessage=function(s,u){this.a.postMessage(s,u)};function rN(s){this.c=s,this.b=!1,this.a=[]}function iN(s,u,h,v){var b,E=h||{},T,A,H,j=null;if(s.b)return ht(Error("connection_unavailable"));var pe=v?800:50,Ye=typeof MessageChannel!="undefined"?new MessageChannel:null;return new Ne(function(Be,un){Ye?(b=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ye.port1.start(),A=setTimeout(function(){un(Error("unsupported_event"))},pe),T=function(Ho){Ho.data.eventId===b&&(Ho.data.status==="ack"?(clearTimeout(A),H=setTimeout(function(){un(Error("timeout"))},3e3)):Ho.data.status==="done"?(clearTimeout(H),typeof Ho.data.response!="undefined"?Be(Ho.data.response):un(Error("unknown_error"))):(clearTimeout(A),clearTimeout(H),un(Error("invalid_response"))))},j={messageChannel:Ye,onMessage:T},s.a.push(j),Ye.port1.addEventListener("message",T),s.c.postMessage({eventType:u,eventId:b,data:E},[Ye.port2])):un(Error("connection_unavailable"))}).then(function(Be){return L0(s,j),Be}).o(function(Be){throw L0(s,j),Be})}function L0(s,u){if(u){var h=u.messageChannel,v=u.onMessage;h&&(h.port1.removeEventListener("message",v),h.port1.close()),xi(s.a,function(b){return b==u})}}rN.prototype.close=function(){for(;0<this.a.length;)L0(this,this.a[0]);this.b=!0};function oN(){if(!B0())throw new M("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;Ci()&&self?(this.v=Q5(),tN(this.v,"keyChanged",function(u,h){return lN(s).then(function(v){return 0<v.length&&_t(s.a,function(b){b(v)}),{keyProcessed:Mo(v,h.key)}})}),tN(this.v,"ping",function(){return ue(["keyChanged"])})):dG().then(function(u){(s.h=u)&&(s.g=new rN(new nN(u)),iN(s.g,"ping",null,!0).then(function(h){h[0].fulfilled&&Mo(h[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var F0;function J5(s){return new Ne(function(u,h){var v=s.m.deleteDatabase("firebaseLocalStorageDb");v.onsuccess=function(){u()},v.onerror=function(b){h(Error(b.target.error))}})}function sN(s){return new Ne(function(u,h){var v=s.m.open("firebaseLocalStorageDb",1);v.onerror=function(b){try{b.preventDefault()}catch(E){}h(Error(b.target.error))},v.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(E){h(E)}},v.onsuccess=function(b){b=b.target.result,b.objectStoreNames.contains("firebaseLocalStorage")?u(b):J5(s).then(function(){return sN(s)}).then(function(E){u(E)}).o(function(E){h(E)})}})}function U0(s){return s.i||(s.i=sN(s)),s.i}function Sm(s,u){function h(b,E){U0(s).then(u).then(b).o(function(T){if(3<++v)E(T);else return U0(s).then(function(A){return A.close(),s.i=void 0,h(b,E)}).o(function(A){E(A)})})}var v=0;return new Ne(h)}function B0(){try{return!!c.indexedDB}catch(s){return!1}}function hf(s){return s.objectStore("firebaseLocalStorage")}function pf(s,u){return s.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Cc(s){return new Ne(function(u,h){s.onsuccess=function(v){v&&v.target?u(v.target.result):u()},s.onerror=function(v){h(v.target.error)}})}t=oN.prototype,t.set=function(s,u){var h=this,v=!1;return Sm(this,function(b){return b=hf(pf(b,!0)),Cc(b.get(s))}).then(function(b){return Sm(h,function(E){if(E=hf(pf(E,!0)),b)return b.value=u,Cc(E.put(b));h.b++,v=!0;var T={};return T.fbase_key=s,T.value=u,Cc(E.add(T))})}).then(function(){return h.c[s]=u,aN(h,s)}).oa(function(){v&&h.b--})};function aN(s,u){return s.g&&s.h&&uG()===s.h?iN(s.g,"keyChanged",{key:u},s.s).then(function(){}).o(function(){}):ue()}t.get=function(s){return Sm(this,function(u){return Cc(hf(pf(u,!1)).get(s))}).then(function(u){return u&&u.value})},t.U=function(s){var u=this,h=!1;return Sm(this,function(v){return h=!0,u.b++,Cc(hf(pf(v,!0)).delete(s))}).then(function(){return delete u.c[s],aN(u,s)}).oa(function(){h&&u.b--})};function lN(s){return U0(s).then(function(u){var h=hf(pf(u,!1));return h.getAll?Cc(h.getAll()):new Ne(function(v,b){var E=[],T=h.openCursor();T.onsuccess=function(A){(A=A.target.result)?(E.push(A.value),A.continue()):v(E)},T.onerror=function(A){b(A.target.error)}})}).then(function(u){var h={},v=[];if(s.b==0){for(v=0;v<u.length;v++)h[u[v].fbase_key]=u[v].value;v=Nk(s.c,h),s.c=h}return v})}t.ca=function(s){this.a.length==0&&Z5(this),this.a.push(s)},t.ia=function(s){xi(this.a,function(u){return u==s}),this.a.length==0&&cN(this)};function Z5(s){function u(){s.f=setTimeout(function(){s.l=lN(s).then(function(h){0<h.length&&_t(s.a,function(v){v(h)})}).then(function(){u()}).o(function(h){h.message!="STOP_EVENT"&&u()})},800)}cN(s),u()}function cN(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function uN(s){var u=this,h=null;this.a=[],this.type="indexedDB",this.c=s,this.b=ue().then(function(){if(B0()){var v=La(),b="__sak"+v;return F0||(F0=new oN),h=F0,h.set(b,v).then(function(){return h.get(b)}).then(function(E){if(E!==v)throw Error("indexedDB not supported!");return h.U(b)}).then(function(){return h}).o(function(){return u.c})}return u.c}).then(function(v){return u.type=v.type,v.ca(function(b){_t(u.a,function(E){E(b)})}),v})}t=uN.prototype,t.get=function(s){return this.b.then(function(u){return u.get(s)})},t.set=function(s,u){return this.b.then(function(h){return h.set(s,u)})},t.U=function(s){return this.b.then(function(u){return u.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){xi(this.a,function(u){return u==s})};function mf(){this.a={},this.type="inMemory"}t=mf.prototype,t.get=function(s){return ue(this.a[s])},t.set=function(s,u){return this.a[s]=u,ue()},t.U=function(s){return delete this.a[s],ue()},t.ca=function(){},t.ia=function(){};function xm(){if(!e6())throw Qi()=="Node"?new M("internal-error","The LocalStorage compatibility library was not found."):new M("web-storage-unsupported");this.a=dN()||Z.INTERNAL.node.localStorage,this.type="localStorage"}function dN(){try{var s=c.localStorage,u=La();return s&&(s.setItem(u,"1"),s.removeItem(u)),s}catch(h){return null}}function e6(){var s=Qi()=="Node";if(s=dN()||s&&Z.INTERNAL.node&&Z.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(u){return!1}}t=xm.prototype,t.get=function(s){var u=this;return ue().then(function(){var h=u.a.getItem(s);return wc(h)})},t.set=function(s,u){var h=this;return ue().then(function(){var v=Yd(u);v===null?h.U(s):h.a.setItem(s,v)})},t.U=function(s){var u=this;return ue().then(function(){u.a.removeItem(s)})},t.ca=function(s){c.window&&Xr(c.window,"storage",s)},t.ia=function(s){c.window&&Dr(c.window,"storage",s)};function H0(){this.type="nullStorage"}t=H0.prototype,t.get=function(){return ue(null)},t.set=function(){return ue()},t.U=function(){return ue()},t.ca=function(){},t.ia=function(){};function V0(){if(!t6())throw Qi()=="Node"?new M("internal-error","The SessionStorage compatibility library was not found."):new M("web-storage-unsupported");this.a=fN()||Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function fN(){try{var s=c.sessionStorage,u=La();return s&&(s.setItem(u,"1"),s.removeItem(u)),s}catch(h){return null}}function t6(){var s=Qi()=="Node";if(s=fN()||s&&Z.INTERNAL.node&&Z.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(u){return!1}}t=V0.prototype,t.get=function(s){var u=this;return ue().then(function(){var h=u.a.getItem(s);return wc(h)})},t.set=function(s,u){var h=this;return ue().then(function(){var v=Yd(u);v===null?h.U(s):h.a.setItem(s,v)})},t.U=function(s){var u=this;return ue().then(function(){u.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function n6(){var s={};s.Browser=r6,s.Node=i6,s.ReactNative=o6,s.Worker=s6,this.a=s[Qi()]}var j0,r6={F:xm,bb:V0},i6={F:xm,bb:V0},o6={F:JD,bb:H0},s6={F:xm,bb:H0},Ic={rd:"local",NONE:"none",td:"session"};function a6(s){var u=new M("invalid-persistence-type"),h=new M("unsupported-persistence-type");e:{for(v in Ic)if(Ic[v]==s){var v=!0;break e}v=!1}if(!v||typeof s!="string")throw u;switch(Qi()){case"ReactNative":if(s==="session")throw h;break;case"Node":if(s!=="none")throw h;break;case"Worker":if(s==="session"||!B0()&&s!=="none")throw h;break;default:if(!j_()&&s!=="none")throw h}}function hN(){var s=!!(!Bk(yn())&&H_()),u=$d(),h=j_();this.m=s,this.h=u,this.l=h,this.a={},j0||(j0=new n6),s=j0;try{this.g=!U_()&&Vk()||!c.indexedDB?new s.a.F:new uN(Ci()?new mf:new s.a.F)}catch(v){this.g=new mf,this.h=!0}try{this.i=new s.a.bb}catch(v){this.i=new mf}this.v=new mf,this.f=L(this.Yb,this),this.b={}}var q0;function vf(){return q0||(q0=new hN),q0}function za(s,u){switch(u){case"session":return s.i;case"none":return s.v;default:return s.g}}function Rc(s,u){return"firebase:"+s.name+(u?":"+u:"")}function l6(s,u,h){var v=Rc(u,h),b=za(s,u.F);return s.get(u,h).then(function(E){var T=null;try{T=wc(c.localStorage.getItem(v))}catch(A){}if(T&&!E)return c.localStorage.removeItem(v),s.set(u,T,h);T&&E&&b.type!="localStorage"&&c.localStorage.removeItem(v)})}t=hN.prototype,t.get=function(s,u){return za(this,s.F).get(Rc(s,u))};function Ac(s,u,h){return h=Rc(u,h),u.F=="local"&&(s.b[h]=null),za(s,u.F).U(h)}t.set=function(s,u,h){var v=Rc(s,h),b=this,E=za(this,s.F);return E.set(v,u).then(function(){return E.get(v)}).then(function(T){s.F=="local"&&(b.b[v]=T)})},t.addListener=function(s,u,h){s=Rc(s,u),this.l&&(this.b[s]=c.localStorage.getItem(s)),Ra(this.a)&&(za(this,"local").ca(this.f),this.h||(U_()||!Vk())&&c.indexedDB||!this.l||c6(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(h)},t.removeListener=function(s,u,h){s=Rc(s,u),this.a[s]&&(xi(this.a[s],function(v){return v==h}),this.a[s].length==0&&delete this.a[s]),Ra(this.a)&&(za(this,"local").ia(this.f),z0(this))};function c6(s){z0(s),s.c=setInterval(function(){for(var u in s.a){var h=c.localStorage.getItem(u),v=s.b[u];h!=v&&(s.b[u]=h,h=new Da({type:"storage",key:u,target:window,oldValue:v,newValue:h,a:!0}),s.Yb(h))}},1e3)}function z0(s){s.c&&(clearInterval(s.c),s.c=null)}t.Yb=function(s){if(s&&s.g){var u=s.a.key;if(u==null)for(var h in this.a){var v=this.b[h];typeof v=="undefined"&&(v=null);var b=c.localStorage.getItem(h);b!==v&&(this.b[h]=b,this.mb(h))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof s.a.a!="undefined"?za(this,"local").ia(this.f):z0(this),this.m){if(h=c.localStorage.getItem(u),v=s.a.newValue,v!==h)v!==null?c.localStorage.setItem(u,v):c.localStorage.removeItem(u);else if(this.b[u]===v&&typeof s.a.a=="undefined")return}var E=this;h=function(){(typeof s.a.a!="undefined"||E.b[u]!==c.localStorage.getItem(u))&&(E.b[u]=c.localStorage.getItem(u),E.mb(u))},Ti&&vs&&vs==10&&c.localStorage.getItem(u)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(h,10):h()}}else _t(s,L(this.mb,this))},t.mb=function(s){this.a[s]&&_t(this.a[s],function(u){u()})};function u6(s){this.a=s,this.b=vf()}var W0={name:"authEvent",F:"local"};function d6(s){return s.b.get(W0,s.a).then(function(u){return _D(u)})}function f6(){this.a=vf()}function h6(){this.b=-1}function Tm(s,u){this.b=pN,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Cm===void 0&&(c.Int32Array?Cm=new Int32Array(gN):Cm=gN),this.reset()}var Cm;z(Tm,h6);for(var pN=64,p6=pN-1,mN=[],G0=0;G0<p6;G0++)mN[G0]=0;var vN=u_(128,mN);Tm.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):Ia(this.h)};function K0(s){for(var u=s.f,h=s.l,v=0,b=0;b<u.length;)h[v++]=u[b]<<24|u[b+1]<<16|u[b+2]<<8|u[b+3],b=4*v;for(u=16;64>u;u++){b=h[u-15]|0,v=h[u-2]|0;var E=(h[u-16]|0)+((b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3)|0,T=(h[u-7]|0)+((v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)|0;h[u]=E+T|0}v=s.a[0]|0,b=s.a[1]|0;var A=s.a[2]|0,H=s.a[3]|0,j=s.a[4]|0,pe=s.a[5]|0,Ye=s.a[6]|0;for(E=s.a[7]|0,u=0;64>u;u++){var Be=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&b^v&A^b&A)|0;T=j&pe^~j&Ye,E=E+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0,T=T+(Cm[u]|0)|0,T=E+(T+(h[u]|0)|0)|0,E=Ye,Ye=pe,pe=j,j=H+T|0,H=A,A=b,b=v,v=T+Be|0}s.a[0]=s.a[0]+v|0,s.a[1]=s.a[1]+b|0,s.a[2]=s.a[2]+A|0,s.a[3]=s.a[3]+H|0,s.a[4]=s.a[4]+j|0,s.a[5]=s.a[5]+pe|0,s.a[6]=s.a[6]+Ye|0,s.a[7]=s.a[7]+E|0}function $0(s,u,h){h===void 0&&(h=u.length);var v=0,b=s.c;if(typeof u=="string")for(;v<h;)s.f[b++]=u.charCodeAt(v++),b==s.b&&(K0(s),b=0);else if(y(u))for(;v<h;){var E=u[v++];if(!(typeof E=="number"&&0<=E&&255>=E&&E==(E|0)))throw Error("message must be a byte array");s.f[b++]=E,b==s.b&&(K0(s),b=0)}else throw Error("message must be string or array");s.c=b,s.g+=h}var gN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yN(){Tm.call(this,8,m6)}z(yN,Tm);var m6=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bN(s,u,h,v,b,E){this.v=s,this.i=u,this.l=h,this.m=v||null,this.u=b||null,this.s=E,this.h=u+":"+h,this.C=new f6,this.g=new u6(this.h),this.f=null,this.b=[],this.a=this.c=null}function Im(s){return new M("invalid-cordova-configuration",s)}t=bN.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=aG().then(function(){if(typeof pt("universalLinks.subscribe",c)!="function")throw Im("cordova-universal-links-plugin-fix is not installed");if(typeof pt("BuildInfo.packageName",c)=="undefined")throw Im("cordova-plugin-buildinfo is not installed");if(typeof pt("cordova.plugins.browsertab.openUrl",c)!="function")throw Im("cordova-plugin-browsertab is not installed");if(typeof pt("cordova.InAppBrowser.open",c)!="function")throw Im("cordova-plugin-inappbrowser is not installed")},function(){throw new M("cordova-not-ready")})};function v6(){for(var s=20,u=[];0<s;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return u.join("")}function g6(s){var u=new yN;$0(u,s),s=[];var h=8*u.g;56>u.c?$0(u,vN,56-u.c):$0(u,vN,u.b-(u.c-56));for(var v=63;56<=v;v--)u.f[v]=h&255,h/=256;for(K0(u),v=h=0;v<u.i;v++)for(var b=24;0<=b;b-=8)s[h++]=u.a[v]>>b&255;return IG(s)}t.Ob=function(s,u){return u(new M("operation-not-supported-in-this-environment")),ue()},t.Mb=function(){return ht(new M("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(s,u,h,v){if(this.c)return ht(new M("redirect-operation-pending"));var b=this,E=c.document,T=null,A=null,H=null,j=null;return this.c=ue().then(function(){return u0(u),wN(b)}).then(function(){return y6(b,s,u,h,v)}).then(function(){return new Ne(function(pe,Ye){A=function(){var Be=pt("cordova.plugins.browsertab.close",c);return pe(),typeof Be=="function"&&Be(),b.a&&typeof b.a.close=="function"&&(b.a.close(),b.a=null),!1},b.Ea(A),H=function(){T||(T=mc(2e3).then(function(){Ye(new M("redirect-cancelled-by-user"))}))},j=function(){q_()&&H()},E.addEventListener("resume",H,!1),yn().toLowerCase().match(/android/)||E.addEventListener("visibilitychange",j,!1)}).o(function(pe){return Y0(b).then(function(){throw pe})})}).oa(function(){H&&E.removeEventListener("resume",H,!1),j&&E.removeEventListener("visibilitychange",j,!1),T&&T.cancel(),A&&b.Sa(A),b.c=null})};function y6(s,u,h,v,b){var E=v6(),T=new Ii(u,v,null,E,new M("no-auth-event"),null,b),A=pt("BuildInfo.packageName",c);if(typeof A!="string")throw new M("invalid-cordova-configuration");var H=pt("BuildInfo.displayName",c),j={};if(yn().toLowerCase().match(/iphone|ipad|ipod/))j.ibi=A;else if(yn().toLowerCase().match(/android/))j.apn=A;else return ht(new M("operation-not-supported-in-this-environment"));H&&(j.appDisplayName=H),E=g6(E),j.sessionId=E;var pe=ff(s.v,s.i,s.l,u,h,null,v,s.m,j,s.u,b,s.s);return s.ma().then(function(){var Ye=s.h;return s.C.a.set(W0,T.w(),Ye)}).then(function(){var Ye=pt("cordova.plugins.browsertab.isAvailable",c);if(typeof Ye!="function")throw new M("invalid-cordova-configuration");var Be=null;Ye(function(un){if(un){if(Be=pt("cordova.plugins.browsertab.openUrl",c),typeof Be!="function")throw new M("invalid-cordova-configuration");Be(pe)}else{if(Be=pt("cordova.InAppBrowser.open",c),typeof Be!="function")throw new M("invalid-cordova-configuration");un=yn(),s.a=Be(pe,un.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||un.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function _N(s,u){for(var h=0;h<s.b.length;h++)try{s.b[h](u)}catch(v){}}function wN(s){return s.f||(s.f=s.ma().then(function(){return new Ne(function(u){function h(v){return u(v),s.Sa(h),!1}s.Ea(h),b6(s)})})),s.f}function Y0(s){var u=null;return d6(s.g).then(function(h){return u=h,h=s.g,Ac(h.b,W0,h.a)}).then(function(){return u})}function b6(s){function u(T){v=!0,b&&b.cancel(),Y0(s).then(function(A){var H=h;if(A&&T&&T.url){var j=null;H=fD(T.url),H.indexOf("/__/auth/callback")!=-1&&(j=hr(H),j=wc(Qr(j,"firebaseError")||null),j=(j=typeof j=="object"?Tt(j):null)?new Ii(A.c,A.b,null,null,j,null,A.T()):new Ii(A.c,A.b,H,A.f,null,null,A.T())),H=j||h}_N(s,H)})}var h=new Ii("unknown",null,null,null,new M("no-auth-event")),v=!1,b=mc(500).then(function(){return Y0(s).then(function(){v||_N(s,h)})}),E=c.handleOpenURL;c.handleOpenURL=function(T){if(T.toLowerCase().indexOf(pt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:T}),typeof E=="function")try{E(T)}catch(A){console.error(A)}},d0||(d0=new MG),LG(u)}t.Ea=function(s){this.b.push(s),wN(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Ii("unknown",null,null,null,new M("no-auth-event")),s(u))})},t.Sa=function(s){xi(this.b,function(u){return u==s})};function _6(s){this.a=s,this.b=vf()}var X0={name:"pendingRedirect",F:"session"};function w6(s){return s.b.set(X0,"pending",s.a)}function Q0(s){return Ac(s.b,X0,s.a)}function E6(s){return s.b.get(X0,s.a).then(function(u){return u=="pending"})}function Rm(s,u,h,v){this.i={},this.u=0,this.D=s,this.v=u,this.m=h,this.J=v,this.h=[],this.f=!1,this.l=L(this.s,this),this.b=new Am,this.C=new ON,this.g=new _6(AN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=EN(this.D,this.v,this.m,Si,this.J)}function EN(s,u,h,v,b){var E=Z.SDK_VERSION||null;return B_()?new bN(s,u,h,E,v,b):new $D(s,u,h,E,v,b)}Rm.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=EN(this.D,this.v,this.m,null,this.J),this.i={}};function SN(s){s.f||(s.f=!0,s.a.Ea(s.l));var u=s.a;return s.a.ma().o(function(h){throw s.a==u&&s.reset(),h})}function xN(s){s.a.Xb()&&SN(s).o(function(u){var h=new Ii("unknown",null,null,null,new M("operation-not-supported-in-this-environment"));Z0(u)&&s.s(h)}),s.a.Tb()||DN(s.b)}function J0(s,u){Mo(s.h,u)||s.h.push(u),s.f||E6(s.g).then(function(h){h?Q0(s.g).then(function(){SN(s).o(function(v){var b=new Ii("unknown",null,null,null,new M("operation-not-supported-in-this-environment"));Z0(v)&&s.s(b)})}):xN(s)}).o(function(){xN(s)})}function TN(s,u){xi(s.h,function(h){return h==u})}Rm.prototype.s=function(s){if(!s)throw new M("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var u=!1,h=0;h<this.h.length;h++){var v=this.h[h];if(v.Fb(s.c,s.b)){(u=this.c[s.c])&&(u.h(s,v),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),u=!0;break}}return DN(this.b),u};var S6=new bs(2e3,1e4),x6=new bs(3e4,6e4);Rm.prototype.qa=function(){return this.b.qa()};function CN(s,u,h,v,b,E,T){return s.a.Mb(u,h,v,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},b,E,T)}function Z0(s){return!!(s&&s.code=="auth/cordova-not-ready")}function IN(s,u,h,v,b){var E;return w6(s.g).then(function(){return s.a.Nb(u,h,v,b).o(function(T){if(Z0(T))throw new M("operation-not-supported-in-this-environment");return E=T,Q0(s.g).then(function(){throw E})}).then(function(){return s.a.$b()?new Ne(function(){}):Q0(s.g).then(function(){return s.qa()}).then(function(){}).o(function(){})})})}function RN(s,u,h,v,b){return s.a.Ob(v,function(E){u.na(h,null,E,b)},S6.get())}var ew={};function AN(s,u,h){return s=s+":"+u,h&&(s=s+":"+h.url),s}function kN(s,u,h,v){var b=AN(u,h,v);return ew[b]||(ew[b]=new Rm(s,u,h,v)),ew[b]}function Am(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Am.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Am.prototype.h=function(s,u){if(s){this.reset(),this.g=!0;var h=s.c,v=s.b,b=s.a&&s.a.code=="auth/web-storage-unsupported",E=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!b&&!E),h!="unknown"||b||E?s.a?(Wa(this,!0,null,s.a),ue()):u.Fa(h,v)?T6(this,s,u):ht(new M("invalid-auth-event")):(Wa(this,!1,null,null),ue())}else ht(new M("invalid-auth-event"))};function DN(s){s.g||(s.g=!0,Wa(s,!1,null,null))}function km(s){s.g&&!s.i&&Wa(s,!1,null,null)}function T6(s,u,h){h=h.Fa(u.c,u.b);var v=u.g,b=u.f,E=u.i,T=u.T(),A=!!u.c.match(/Redirect$/);h(v,b,T,E).then(function(H){Wa(s,A,H,null)}).o(function(H){Wa(s,A,null,H)})}function C6(s,u){if(s.b=function(){return ht(u)},s.c.length)for(var h=0;h<s.c.length;h++)s.c[h](u)}function NN(s,u){if(s.b=function(){return ue(u)},s.f.length)for(var h=0;h<s.f.length;h++)s.f[h](u)}function Wa(s,u,h,v){u?v?C6(s,v):NN(s,h):NN(s,{user:null}),s.f=[],s.c=[]}Am.prototype.qa=function(){var s=this;return new Ne(function(u,h){s.b?s.b().then(u,h):(s.f.push(u),s.c.push(h),I6(s))})};function I6(s){var u=new M("timeout");s.a&&s.a.cancel(),s.a=mc(x6.get()).then(function(){s.b||(s.g=!0,Wa(s,!0,null,u))})}function ON(){}ON.prototype.h=function(s,u){if(s){var h=s.c,v=s.b;s.a?(u.na(s.c,null,s.a,s.b),ue()):u.Fa(h,v)?R6(s,u):ht(new M("invalid-auth-event"))}else ht(new M("invalid-auth-event"))};function R6(s,u){var h=s.b,v=s.c;u.Fa(v,h)(s.g,s.f,s.T(),s.i).then(function(b){u.na(v,b,null,h)}).o(function(b){u.na(v,null,b,h)})}function PN(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(s){this.ib=s},enumerable:!1})}function tw(s,u){this.a=u,re(this,"verificationId",s)}tw.prototype.confirm=function(s){return s=bD(this.verificationId,s),this.a(s)};function nw(s,u,h,v){return new Uo(s).fb(u,h).then(function(b){return new tw(b,v)})}function A6(s){var u=iD(s);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new M("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Gn(this,{token:s,expirationTime:Xd(1e3*u.exp),authTime:Xd(1e3*u.auth_time),issuedAtTime:Xd(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function rw(s,u,h){var v=u&&u[LN];if(!v)throw new M("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=ms(u),this.g=h,this.c=new am(null,v),this.b=[];var b=this;_t(u[MN]||[],function(E){(E=Y_(E))&&b.b.push(E)}),re(this,"auth",this.a),re(this,"session",this.c),re(this,"hints",this.b)}var MN="mfaInfo",LN="mfaPendingCredential";rw.prototype.Rc=function(s){var u=this;return s.sb(this.a.a,this.c).then(function(h){var v=ms(u.f);return delete v[MN],delete v[LN],ur(v,h),u.g(v)})};function iw(s,u,h,v){M.call(this,"multi-factor-auth-required",v,u),this.b=new rw(s,u,h),re(this,"resolver",this.b)}z(iw,M);function FN(s,u,h){if(s&&w(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new iw(u,s.serverResponse,h,s.message)}catch(v){}return null}function UN(){}UN.prototype.sb=function(s,u,h){return u.type==ef?k6(this,s,u,h):D6(this,s,u)};function k6(s,u,h,v){return h.Ha().then(function(b){return b={idToken:b},typeof v!="undefined"&&(b.displayName=v),ur(b,{phoneVerificationInfo:tf(s.a)}),Me(u,b5,b)})}function D6(s,u,h){return h.Ha().then(function(v){return v={mfaPendingCredential:v},ur(v,{phoneVerificationInfo:tf(s.a)}),Me(u,_5,v)})}function ow(s){re(this,"factorId",s.fa),this.a=s}z(ow,UN);function BN(s){if(ow.call(this,s),this.a.fa!=Uo.PROVIDER_ID)throw new M("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(BN,ow);function kc(s,u){fr.call(this,s);for(var h in u)this[h]=u[h]}z(kc,fr);function sw(s,u){this.a=s,this.b=[],this.c=L(this.yc,this),Xr(this.a,"userReloaded",this.c);var h=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&_t(u.multiFactor.enrolledFactors,function(v){var b=null,E={};if(v){v.uid&&(E[Q_]=v.uid),v.displayName&&(E[qk]=v.displayName),v.enrollmentTime&&(E[X_]=new Date(v.enrollmentTime).toISOString()),v.phoneNumber&&(E[J_]=v.phoneNumber);try{b=new Qd(E)}catch(T){}v=b}else v=null;v&&h.push(v)}),Dm(this,h)}function N6(s){var u=[];return _t(s.mfaInfo||[],function(h){(h=Y_(h))&&u.push(h)}),u}t=sw.prototype,t.yc=function(s){Dm(this,N6(s.hd))};function Dm(s,u){s.b=u,re(s,"enrolledFactors",u)}t.Rb=function(){return this.a.I().then(function(s){return new am(s,null)})},t.fc=function(s,u){var h=this,v=this.a.a;return this.Rb().then(function(b){return s.sb(v,b,u)}).then(function(b){return eo(h.a,b),h.a.reload()})},t.bd=function(s){var u=this,h=typeof s=="string"?s:s.uid,v=this.a.a;return this.a.I().then(function(b){return Me(v,H5,{idToken:b,mfaEnrollmentId:h})}).then(function(b){var E=cW(u.b,function(T){return T.uid!=h});return Dm(u,E),eo(u.a,b),u.a.reload().o(function(T){if(T.code!="auth/user-token-expired")throw T})})},t.w=function(){return{multiFactor:{enrolledFactors:Up(this.b,function(s){return s.w()})}}};function aw(s,u,h){if(this.h=s,this.i=u,this.g=h,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}aw.prototype.start=function(){this.a=this.c,lw(this,!0)};function O6(s,u){return u?(s.a=s.c,s.g()):(u=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),u)}function lw(s,u){s.stop(),s.b=mc(O6(s,u)).then(function(){return cG()}).then(function(){return s.h()}).then(function(){lw(s,!0)}).o(function(h){s.i(h)&&lw(s,!1)})}aw.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function cw(s){this.f=s,this.b=this.a=null,this.c=Date.now()}cw.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function HN(s,u){typeof u=="undefined"&&(s.b?(u=s.b,u=u.a-u.g):u=0),s.c=Date.now()+1e3*u}function VN(s,u){s.b=om(u[Ai]||""),s.a=u.refreshToken,u=u.expiresIn,HN(s,typeof u!="undefined"?Number(u):void 0)}function P6(s,u){s.b=u.b,s.a=u.a,s.c=u.c}function M6(s,u){return r5(s.f,u).then(function(h){return s.b=om(h.access_token),s.a=h.refresh_token,HN(s,h.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(h){throw h.code=="auth/user-token-expired"&&(s.a=null),h})}cw.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?ht(new M("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?M6(this,{grant_type:"refresh_token",refresh_token:this.a}):ue(null):ue({accessToken:this.b.toString(),refreshToken:this.a})};function Nm(s,u){this.a=s||null,this.b=u||null,Gn(this,{lastSignInTime:Xd(u||null),creationTime:Xd(s||null)})}function L6(s){return new Nm(s.a,s.b)}Nm.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function F6(s,u,h,v,b,E){Gn(this,{uid:s,displayName:v||null,photoURL:b||null,email:h||null,phoneNumber:E||null,providerId:u})}function Or(s,u,h){this.J=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var v=Z.SDK_VERSION?bc(Z.SDK_VERSION):null;this.a=new Ri(this.l,Po(Si),v),s.emulatorConfig&&Tc(this.a,s.emulatorConfig),this.b=new cw(this.a),mw(this,u[Ai]),VN(this.b,u),re(this,"refreshToken",this.b.a),qN(this,h||{}),Wn.call(this),this.R=!1,this.s&&Ma()&&(this.i=kN(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=U6(this),this.aa=L(this.hb,this);var b=this;this.ya=null,this.Oa=function(E){b.wa(E.h)},this.ja=null,this.Aa=function(E){Tc(b.a,E.c)},this.X=null,this.$=[],this.Ba=function(E){gf(b,E.f)},this.ba=null,this.O=new sw(this,h),re(this,"multiFactor",this.O)}z(Or,Wn),Or.prototype.wa=function(s){this.ya=s,MD(this.a,s)},Or.prototype.la=function(){return this.ya};function uw(s,u){s.ja&&Dr(s.ja,"languageCodeChanged",s.Oa),(s.ja=u)&&Xr(u,"languageCodeChanged",s.Oa)}function dw(s,u){s.X&&Dr(s.X,"emulatorConfigChanged",s.Aa),(s.X=u)&&Xr(u,"emulatorConfigChanged",s.Aa)}function gf(s,u){s.$=u,LD(s.a,Z.SDK_VERSION?bc(Z.SDK_VERSION,s.$):null)}Or.prototype.Ga=function(){return Ia(this.$)};function fw(s,u){s.ba&&Dr(s.ba,"frameworkChanged",s.Ba),(s.ba=u)&&Xr(u,"frameworkChanged",s.Ba)}Or.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function hw(s){try{return Z.app(s.m).auth()}catch(u){throw new M("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function U6(s){return new aw(function(){return s.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=s.b.c-Date.now()-3e5;return 0<u?u:0})}function jN(s){s.D||s.u.b||(s.u.start(),Dr(s,"tokenChanged",s.aa),Xr(s,"tokenChanged",s.aa))}function pw(s){Dr(s,"tokenChanged",s.aa),s.u.stop()}function mw(s,u){s.za=u,re(s,"_lat",u)}function B6(s,u){xi(s.S,function(h){return h==u})}function Ga(s){for(var u=[],h=0;h<s.S.length;h++)u.push(s.S[h](s));return nk(u).then(function(){return s})}function yf(s){s.i&&!s.R&&(s.R=!0,J0(s.i,s))}function qN(s,u){Gn(s,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Nm(u.createdAt,u.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}re(Or.prototype,"providerId","firebase");function zN(){}function vw(s){return ue().then(function(){if(s.D)throw new M("app-deleted")})}function gw(s){return Up(s.providerData,function(u){return u.providerId})}function yw(s,u){u&&(WN(s,u.providerId),s.providerData.push(u))}function WN(s,u){xi(s.providerData,function(h){return h.providerId==u})}function Es(s,u,h){(u!="uid"||h)&&s.hasOwnProperty(u)&&re(s,u,h)}function Om(s,u){s!=u&&(Gn(s,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?re(s,"metadata",L6(u.metadata)):re(s,"metadata",new Nm),_t(u.providerData,function(h){yw(s,h)}),P6(s.b,u.b),re(s,"refreshToken",s.b.a),Dm(s.O,u.O.b))}t=Or.prototype,t.reload=function(){var s=this;return tn(this,vw(this).then(function(){return bw(s).then(function(){return Ga(s)}).then(zN)}))};function bw(s){return s.I().then(function(u){var h=s.isAnonymous;return H6(s,u).then(function(){return h||Es(s,"isAnonymous",!1),u})})}t.oc=function(s){return this.I(s).then(function(u){return new A6(u)})},t.I=function(s){var u=this;return tn(this,vw(this).then(function(){return u.b.getToken(s)}).then(function(h){if(!h)throw new M("internal-error");return h.accessToken!=u.za&&(mw(u,h.accessToken),u.dispatchEvent(new kc("tokenChanged"))),Es(u,"refreshToken",h.refreshToken),h.accessToken}))};function eo(s,u){u[Ai]&&s.za!=u[Ai]&&(VN(s.b,u),s.dispatchEvent(new kc("tokenChanged")),mw(s,u[Ai]),Es(s,"refreshToken",s.b.a))}function H6(s,u){return Me(s.a,w5,{idToken:u}).then(L(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new M("internal-error");s=s[0],qN(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var u=V6(s),h=0;h<u.length;h++)yw(this,u[h]);Es(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new kc("userReloaded",{hd:s}))};function V6(s){return(s=s.providerUserInfo)&&s.length?Up(s,function(u){return new F6(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(s){return z_("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(s)},t.tb=function(s){var u=this,h=null;return tn(this,s.c(this.a,this.uid).then(function(v){return eo(u,v),h=bf(u,v,"reauthenticate"),u.h=null,u.reload()}).then(function(){return h}),!0)};function Pm(s,u){return bw(s).then(function(){if(Mo(gw(s),u))return Ga(s).then(function(){throw new M("provider-already-linked")})})}t.Cc=function(s){return z_("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(s)},t.qb=function(s){var u=this,h=null;return tn(this,Pm(this,s.providerId).then(function(){return u.I()}).then(function(v){return s.b(u.a,v)}).then(function(v){return h=bf(u,v,"link"),GN(u,v)}).then(function(){return h}))},t.Dc=function(s,u){var h=this;return tn(this,Pm(this,"phone").then(function(){return nw(hw(h),s,u,L(h.qb,h))}))},t.Mc=function(s,u){var h=this;return tn(this,ue().then(function(){return nw(hw(h),s,u,L(h.tb,h))}),!0)};function bf(s,u,h){var v=c0(u);return u=sD(u),Ji({user:s,credential:v,additionalUserInfo:u,operationType:h})}function GN(s,u){return eo(s,u),s.reload().then(function(){return s})}t.Bb=function(s){var u=this;return tn(this,this.I().then(function(h){return u.a.Bb(h,s)}).then(function(h){return eo(u,h),u.reload()}))},t.ed=function(s){var u=this;return tn(this,this.I().then(function(h){return s.b(u.a,h)}).then(function(h){return eo(u,h),u.reload()}))},t.Cb=function(s){var u=this;return tn(this,this.I().then(function(h){return u.a.Cb(h,s)}).then(function(h){return eo(u,h),u.reload()}))},t.Db=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return vw(this);var u=this;return tn(this,this.I().then(function(h){return u.a.Db(h,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(h){return eo(u,h),Es(u,"displayName",h.displayName||null),Es(u,"photoURL",h.photoUrl||null),_t(u.providerData,function(v){v.providerId==="password"&&(re(v,"displayName",u.displayName),re(v,"photoURL",u.photoURL))}),Ga(u)}).then(zN))},t.cd=function(s){var u=this;return tn(this,bw(this).then(function(h){return Mo(gw(u),s)?u5(u.a,h,[s]).then(function(v){var b={};return _t(v.providerUserInfo||[],function(E){b[E.providerId]=!0}),_t(gw(u),function(E){b[E]||WN(u,E)}),b[Uo.PROVIDER_ID]||re(u,"phoneNumber",null),Ga(u)}):Ga(u).then(function(){throw new M("no-such-provider")})}))},t.delete=function(){var s=this;return tn(this,this.I().then(function(u){return Me(s.a,m5,{idToken:u})}).then(function(){s.dispatchEvent(new kc("userDeleted"))})).then(function(){for(var u=0;u<s.J.length;u++)s.J[u].cancel("app-deleted");uw(s,null),dw(s,null),fw(s,null),s.J=[],s.D=!0,pw(s),re(s,"refreshToken",null),s.i&&TN(s.i,s)})},t.Fb=function(s,u){return!!(s=="linkViaPopup"&&(this.g||null)==u&&this.f||s=="reauthViaPopup"&&(this.g||null)==u&&this.f||s=="linkViaRedirect"&&(this.ga||null)==u||s=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(s,u,h,v){s!="linkViaPopup"&&s!="reauthViaPopup"||v!=(this.g||null)||(h&&this.C?this.C(h):u&&!h&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,u){return s=="linkViaPopup"&&u==(this.g||null)?L(this.Kb,this):s=="reauthViaPopup"&&u==(this.g||null)?L(this.Lb,this):s=="linkViaRedirect"&&(this.ga||null)==u?L(this.Kb,this):s=="reauthViaRedirect"&&(this.ga||null)==u?L(this.Lb,this):null},t.Ec=function(s){var u=this;return KN(this,"linkViaPopup",s,function(){return Pm(u,s.providerId).then(function(){return Ga(u)})},!1)},t.Nc=function(s){return KN(this,"reauthViaPopup",s,function(){return ue()},!0)};function KN(s,u,h,v,b){if(!Ma())return ht(new M("operation-not-supported-in-this-environment"));if(s.h&&!b)return ht(s.h);var E=r0(h.providerId),T=La(s.uid+":::"),A=null;(!$d()||H_())&&s.s&&h.isOAuthProvider&&(A=ff(s.s,s.l,s.m,u,h,null,T,Z.SDK_VERSION||null,null,null,s.tenantId));var H=Pk(A,E&&E.ua,E&&E.ta);return v=v().then(function(){if(YN(s),!b)return s.I().then(function(){})}).then(function(){return CN(s.i,H,u,h,T,!!A,s.tenantId)}).then(function(){return new Ne(function(j,pe){s.na(u,null,new M("cancelled-popup-request"),s.g||null),s.f=j,s.C=pe,s.g=T,s.c=RN(s.i,s,u,H,T)})}).then(function(j){return H&&Pa(H),j?Ji(j):null}).o(function(j){throw H&&Pa(H),j}),tn(s,v,b)}t.Fc=function(s){var u=this;return $N(this,"linkViaRedirect",s,function(){return Pm(u,s.providerId)},!1)},t.Oc=function(s){return $N(this,"reauthViaRedirect",s,function(){return ue()},!0)};function $N(s,u,h,v,b){if(!Ma())return ht(new M("operation-not-supported-in-this-environment"));if(s.h&&!b)return ht(s.h);var E=null,T=La(s.uid+":::");return v=v().then(function(){if(YN(s),!b)return s.I().then(function(){})}).then(function(){return s.ga=T,Ga(s)}).then(function(A){return s.ha&&(A=s.ha,A=A.b.set(_w,s.w(),A.a)),A}).then(function(){return IN(s.i,u,h,T,s.tenantId)}).o(function(A){if(E=A,s.ha)return QN(s.ha);throw E}).then(function(){if(E)throw E}),tn(s,v,b)}function YN(s){if(!s.i||!s.R)throw s.i&&!s.R?new M("internal-error"):new M("auth-domain-config-required")}t.Kb=function(s,u,h,v){var b=this;this.c&&(this.c.cancel(),this.c=null);var E=null;return h=this.I().then(function(T){return k0(b.a,{requestUri:s,postBody:v,sessionId:u,idToken:T})}).then(function(T){return E=bf(b,T,"link"),GN(b,T)}).then(function(){return E}),tn(this,h)},t.Lb=function(s,u,h,v){var b=this;this.c&&(this.c.cancel(),this.c=null);var E=null,T=ue().then(function(){return Sc(D0(b.a,{requestUri:s,sessionId:u,postBody:v,tenantId:h}),b.uid)}).then(function(A){return E=bf(b,A,"reauthenticate"),eo(b,A),b.h=null,b.reload()}).then(function(){return E});return tn(this,T,!0)},t.ub=function(s){var u=this,h=null;return tn(this,this.I().then(function(v){return h=v,typeof s=="undefined"||Ra(s)?{}:rm(new nm(s))}).then(function(v){return u.a.ub(h,v)}).then(function(v){if(u.email!=v)return u.reload()}).then(function(){}))},t.Eb=function(s,u){var h=this,v=null;return tn(this,this.I().then(function(b){return v=b,typeof u=="undefined"||Ra(u)?{}:rm(new nm(u))}).then(function(b){return h.a.Eb(v,s,b)}).then(function(b){if(h.email!=b)return h.reload()}).then(function(){}))};function tn(s,u,h){var v=j6(s,u,h);return s.J.push(v),v.oa(function(){Bp(s.J,v)}),v.o(function(b){var E=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(E=FN(b.w(),hw(s),L(s.jc,s))),E||b})}t.jc=function(s){var u=null,h=this;return s=Sc(ue(s),h.uid).then(function(v){return u=bf(h,v,"reauthenticate"),eo(h,v),h.h=null,h.reload()}).then(function(){return u}),tn(this,s,!0)};function j6(s,u,h){return s.h&&!h?(u.cancel(),ht(s.h)):u.o(function(v){throw!v||v.code!="auth/user-disabled"&&v.code!="auth/user-token-expired"||(s.h||s.dispatchEvent(new kc("userInvalidated")),s.h=v),v})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ur(s,this.metadata.w()),_t(this.providerData,function(u){s.providerData.push(fG(u))}),ur(s,this.O.w()),s};function XN(s){if(!s.apiKey)return null;var u={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},h={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){h[Ai]=s.stsTokenManager.accessToken,h.refreshToken=s.stsTokenManager.refreshToken||null;var v=s.stsTokenManager.expirationTime;v&&(h.expiresIn=(v-Date.now())/1e3)}else return null;var b=new Or(u,h,s);return s.providerData&&_t(s.providerData,function(E){E&&yw(b,Ji(E))}),s.redirectEventId&&(b.ga=s.redirectEventId),b}function q6(s,u,h,v){var b=new Or(s,u);return h&&(b.ha=h),v&&gf(b,v),b.reload().then(function(){return b})}function z6(s,u,h,v){var b=s.b,E={};return E[Ai]=b.b&&b.b.toString(),E.refreshToken=b.a,u=new Or(u||{apiKey:s.l,authDomain:s.s,appName:s.m},E),h&&(u.ha=h),v&&gf(u,v),Om(u,s),u}function W6(s){this.a=s,this.b=vf()}var _w={name:"redirectUser",F:"session"};function QN(s){return Ac(s.b,_w,s.a)}function G6(s,u){return s.b.get(_w,s.a).then(function(h){return h&&u&&(h.authDomain=u),XN(h||{})})}function ww(s){this.a=s,this.b=vf(),this.c=null,this.f=K6(this),this.b.addListener(to("local"),this.a,L(this.g,this))}ww.prototype.g=function(){var s=this,u=to("local");Dc(this,function(){return ue().then(function(){return s.c&&s.c.F!="local"?s.b.get(u,s.a):null}).then(function(h){if(h)return Ew(s,"local").then(function(){s.c=u})})})};function Ew(s,u){var h=[],v;for(v in Ic)Ic[v]!==u&&h.push(Ac(s.b,to(Ic[v]),s.a));return h.push(Ac(s.b,Sw,s.a)),LW(h)}function K6(s){var u=to("local"),h=to("session"),v=to("none");return l6(s.b,u,s.a).then(function(){return s.b.get(h,s.a)}).then(function(b){return b?h:s.b.get(v,s.a).then(function(E){return E?v:s.b.get(u,s.a).then(function(T){return T?u:s.b.get(Sw,s.a).then(function(A){return A?to(A):u})})})}).then(function(b){return s.c=b,Ew(s,b.F)}).o(function(){s.c||(s.c=u)})}var Sw={name:"persistence",F:"session"};function to(s){return{name:"authUser",F:s}}ww.prototype.xb=function(s){var u=null,h=this;return a6(s),Dc(this,function(){return s!=h.c.F?h.b.get(h.c,h.a).then(function(v){return u=v,Ew(h,s)}).then(function(){if(h.c=to(s),u)return h.b.set(h.c,u,h.a)}):ue()})};function $6(s){return Dc(s,function(){return s.b.set(Sw,s.c.F,s.a)})}function JN(s,u){return Dc(s,function(){return s.b.set(s.c,u.w(),s.a)})}function ZN(s){return Dc(s,function(){return Ac(s.b,s.c,s.a)})}function eO(s,u,h){return Dc(s,function(){return s.b.get(s.c,s.a).then(function(v){return v&&u&&(v.authDomain=u),v&&h&&(v.emulatorConfig=h),XN(v||{})})})}function Dc(s,u){return s.f=s.f.then(u,u),s.f}function ki(s){if(this.l=!1,re(this,"settings",new PN),re(this,"app",s),Je(this).options&&Je(this).options.apiKey)s=Z.SDK_VERSION?bc(Z.SDK_VERSION):null,this.a=new Ri(Je(this).options&&Je(this).options.apiKey,Po(Si),s);else throw new M("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=Z.INTERNAL.createSubscribe(L(this.zc,this)),this.X=void 0,this.bc=Z.INTERNAL.createSubscribe(L(this.Ac,this)),Nc(this,null),this.i=new ww(Je(this).options.apiKey+":"+Je(this).name),this.D=new W6(Je(this).options.apiKey+":"+Je(this).name),this.$=Ct(this,eK(this)),this.h=Ct(this,tK(this)),this.ba=!1,this.ja=L(this.Zc,this),this.Ba=L(this.da,this),this.ya=L(this.mc,this),this.za=L(this.wc,this),this.Aa=L(this.xc,this),this.b=null,Q6(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Gc,this),this.u=0,Wn.call(this),X6(this),this.J=[],this.P=null}z(ki,Wn);function tO(s){fr.call(this,"languageCodeChanged"),this.h=s}z(tO,fr);function nO(s){fr.call(this,"emulatorConfigChanged"),this.c=s}z(nO,fr);function rO(s){fr.call(this,"frameworkChanged"),this.f=s}z(rO,fr),t=ki.prototype,t.xb=function(s){return s=this.i.xb(s),Ct(this,s)},t.wa=function(s){this.aa===s||this.l||(this.aa=s,MD(this.a,this.aa),this.dispatchEvent(new tO(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=c.navigator;this.wa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,u){if(!this.P){if(!/^https?:\/\//.test(s))throw new M("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Y6(u),this.P={url:s,ec:u},this.settings.ib=!0,Tc(this.a,this.P),this.dispatchEvent(new nO(this.P))}};function Y6(s){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!s&&Zp().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}t.Gc=function(s){this.J.push(s),LD(this.a,Z.SDK_VERSION?bc(Z.SDK_VERSION,this.J):null),this.dispatchEvent(new rO(this.J))},t.Ga=function(){return Ia(this.J)},t.yb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function X6(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.P){var u=hr(this.P.url);u=Ji({protocol:u.c,host:u.a,port:u.g,options:Ji({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:Je(this).options.apiKey,authDomain:Je(this).options.authDomain,appName:Je(this).name,currentUser:Te(this)&&Te(this).w()}};function xw(s){return s.Oa||ht(new M("auth-domain-config-required"))}function Q6(s){var u=Je(s).options.authDomain,h=Je(s).options.apiKey;u&&Ma()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=kN(u,h,Je(s).name,s.P),J0(s.b,s),Te(s)&&yf(Te(s)),s.m){yf(s.m);var v=s.m;v.wa(s.la()),uw(v,s),v=s.m,gf(v,s.J),fw(v,s),v=s.m,Tc(v.a,s.P),dw(v,s),s.m=null}return s.b}}))}t.Fb=function(s,u){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(s,u,h,v){s=="signInViaPopup"&&this.g==v&&(h&&this.C?this.C(h):u&&!h&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,u){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==u&&this.f?L(this.ic,this):null},t.ic=function(s,u,h,v){var b=this,E={requestUri:s,postBody:v,sessionId:u,tenantId:h};return this.c&&(this.c.cancel(),this.c=null),b.$.then(function(){return Ka(b,A0(b.a,E))})},t.Xc=function(s){if(!Ma())return ht(new M("operation-not-supported-in-this-environment"));var u=this,h=r0(s.providerId),v=La(),b=null;(!$d()||H_())&&Je(this).options.authDomain&&s.isOAuthProvider&&(b=ff(Je(this).options.authDomain,Je(this).options.apiKey,Je(this).name,"signInViaPopup",s,null,v,Z.SDK_VERSION||null,null,null,this.T(),this.P));var E=Pk(b,h&&h.ua,h&&h.ta);return h=xw(this).then(function(T){return CN(T,E,"signInViaPopup",s,v,!!b,u.T())}).then(function(){return new Ne(function(T,A){u.na("signInViaPopup",null,new M("cancelled-popup-request"),u.g),u.f=T,u.C=A,u.g=v,u.c=RN(u.b,u,"signInViaPopup",E,v)})}).then(function(T){return E&&Pa(E),T?Ji(T):null}).o(function(T){throw E&&Pa(E),T}),Ct(this,h)},t.Yc=function(s){if(!Ma())return ht(new M("operation-not-supported-in-this-environment"));var u=this,h=xw(this).then(function(){return $6(u.i)}).then(function(){return IN(u.b,"signInViaRedirect",s,void 0,u.T())});return Ct(this,h)};function iO(s){if(!Ma())return ht(new M("operation-not-supported-in-this-environment"));var u=xw(s).then(function(){return s.b.qa()}).then(function(h){return h?Ji(h):null});return Ct(s,u)}t.qa=function(){var s=this;return iO(this).then(function(u){return s.b&&km(s.b.b),u}).o(function(u){throw s.b&&km(s.b.b),u})},t.dd=function(s){if(!s)return ht(new M("null-user"));if(this.S!=s.tenantId)return ht(new M("tenant-id-mismatch"));var u=this,h={};h.apiKey=Je(this).options.apiKey,h.authDomain=Je(this).options.authDomain,h.appName=Je(this).name;var v=z6(s,h,u.D,u.Ga());return Ct(this,this.h.then(function(){if(Je(u).options.apiKey!=s.l)return v.reload()}).then(function(){return Te(u)&&s.uid==Te(u).uid?(Om(Te(u),s),u.da(s)):(Nc(u,v),yf(v),u.da(v))}).then(function(){_f(u)}))};function J6(s,u){var h={};return h.apiKey=Je(s).options.apiKey,h.authDomain=Je(s).options.authDomain,h.appName=Je(s).name,s.P&&(h.emulatorConfig=s.P),s.$.then(function(){return q6(h,u,s.D,s.Ga())}).then(function(v){return Te(s)&&v.uid==Te(s).uid?(Om(Te(s),v),s.da(v)):(Nc(s,v),yf(v),s.da(v))}).then(function(){_f(s)})}function Nc(s,u){Te(s)&&(B6(Te(s),s.Ba),Dr(Te(s),"tokenChanged",s.ya),Dr(Te(s),"userDeleted",s.za),Dr(Te(s),"userInvalidated",s.Aa),pw(Te(s))),u&&(u.S.push(s.Ba),Xr(u,"tokenChanged",s.ya),Xr(u,"userDeleted",s.za),Xr(u,"userInvalidated",s.Aa),0<s.u&&jN(u)),re(s,"currentUser",u),u&&(u.wa(s.la()),uw(u,s),gf(u,s.J),fw(u,s),Tc(u.a,s.P),dw(u,s))}t.Ab=function(){var s=this,u=this.h.then(function(){return s.b&&km(s.b.b),Te(s)?(Nc(s,null),ZN(s.i).then(function(){_f(s)})):ue()});return Ct(this,u)};function Z6(s){var u=G6(s.D,Je(s).options.authDomain).then(function(h){return(s.m=h)&&(h.ha=s.D),QN(s.D)});return Ct(s,u)}function eK(s){var u=Je(s).options.authDomain,h=Z6(s).then(function(){return eO(s.i,u,s.P)}).then(function(v){return v?(v.ha=s.D,s.m&&(s.m.ga||null)==(v.ga||null)?v:v.reload().then(function(){return JN(s.i,v).then(function(){return v})}).o(function(b){return b.code=="auth/network-request-failed"?v:ZN(s.i)})):null}).then(function(v){Nc(s,v||null)});return Ct(s,h)}function tK(s){return s.$.then(function(){return iO(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var u=s.i;u.b.addListener(to("local"),u.a,s.ja)}})}t.Zc=function(){var s=this;return eO(this.i,Je(this).options.authDomain).then(function(u){if(!s.l){var h;if(h=Te(s)&&u){h=Te(s).uid;var v=u.uid;h=h==null||h===""||v===void 0||v===null||v===""?!1:h==v}if(h)return Om(Te(s),u),Te(s).I();(Te(s)||u)&&(Nc(s,u),u&&(yf(u),u.ha=s.D),s.b&&J0(s.b,s),_f(s))}})},t.da=function(s){return JN(this.i,s)},t.mc=function(){_f(this),this.da(Te(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function Ka(s,u){var h=null,v=null;return Ct(s,u.then(function(b){return h=c0(b),v=sD(b),J6(s,b)},function(b){var E=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(E=FN(b.w(),s,L(s.kc,s))),E||b}).then(function(){return Ji({user:Te(s),credential:h,additionalUserInfo:v,operationType:"signIn"})}))}t.kc=function(s){var u=this;return this.h.then(function(){return Ka(u,ue(s))})},t.zc=function(s){var u=this;this.addAuthTokenListener(function(){s.next(Te(u))})},t.Ac=function(s){var u=this;nK(this,function(){s.next(Te(u))})},t.Ic=function(s,u,h){var v=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(Te(v)):typeof s.next=="function"&&s.next(Te(v))}),this.hb(s,u,h)},t.Hc=function(s,u,h){var v=this;return this.ba&&Promise.resolve().then(function(){v.X=v.getUid(),typeof s=="function"?s(Te(v)):typeof s.next=="function"&&s.next(Te(v))}),this.bc(s,u,h)},t.nc=function(s){var u=this,h=this.h.then(function(){return Te(u)?Te(u).I(s).then(function(v){return{accessToken:v}}):null});return Ct(this,h)},t.Tc=function(s){var u=this;return this.h.then(function(){return Ka(u,Me(u.a,L5,{token:s}))}).then(function(h){var v=h.user;return Es(v,"isAnonymous",!1),u.da(v),h})},t.Uc=function(s,u){var h=this;return this.h.then(function(){return Ka(h,Me(h.a,WD,{email:s,password:u}))})},t.dc=function(s,u){var h=this;return this.h.then(function(){return Ka(h,Me(h.a,h5,{email:s,password:u}))})},t.$a=function(s){var u=this;return this.h.then(function(){return Ka(u,s.ka(u.a))})},t.Sc=function(s){return z_("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(s)},t.zb=function(){var s=this;return this.h.then(function(){var u=Te(s);if(u&&u.isAnonymous){var h=Ji({providerId:null,isNewUser:!1});return Ji({user:u,credential:null,additionalUserInfo:h,operationType:"signIn"})}return Ka(s,s.a.zb()).then(function(v){var b=v.user;return Es(b,"isAnonymous",!0),s.da(b),v})})};function Je(s){return s.app}function Te(s){return s.currentUser}t.getUid=function(){return Te(this)&&Te(this).uid||null};function Mm(s){return Te(s)&&Te(s)._lat||null}function _f(s){if(s.ba){for(var u=0;u<s.s.length;u++)s.s[u]&&s.s[u](Mm(s));if(s.X!==s.getUid()&&s.O.length)for(s.X=s.getUid(),u=0;u<s.O.length;u++)s.O[u]&&s.O[u](Mm(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&Te(this)&&jN(Te(this))},t.Pc=function(s){var u=this;_t(this.s,function(h){h==s&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Te(this)&&pw(Te(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var u=this;this.s.push(s),Ct(this,this.h.then(function(){u.l||Mo(u.s,s)&&s(Mm(u))}))},t.removeAuthTokenListener=function(s){xi(this.s,function(u){return u==s})};function nK(s,u){s.O.push(u),Ct(s,s.h.then(function(){!s.l&&Mo(s.O,u)&&s.X!==s.getUid()&&(s.X=s.getUid(),u(Mm(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.R.length;s++)this.R[s].cancel("app-deleted");return this.R=[],this.i&&(s=this.i,s.b.removeListener(to("local"),s.a,this.ja)),this.b&&(TN(this.b,this),km(this.b.b)),Promise.resolve()};function Ct(s,u){return s.R.push(u),u.oa(function(){Bp(s.R,u)}),u}t.hc=function(s){return Ct(this,i5(this.a,s))},t.Bc=function(s){return!!l0(s)},t.wb=function(s,u){var h=this;return Ct(this,ue().then(function(){var v=new nm(u);if(!v.c)throw new M("argument-error",t0+" must be true when sending sign in link to email");return rm(v)}).then(function(v){return h.a.wb(s,v)}).then(function(){}))},t.jd=function(s){return this.Ra(s).then(function(u){return u.data.email})},t.nb=function(s,u){return Ct(this,this.a.nb(s,u).then(function(){}))},t.Ra=function(s){return Ct(this,this.a.Ra(s).then(function(u){return new pG(u)}))},t.jb=function(s){return Ct(this,this.a.jb(s).then(function(){}))},t.vb=function(s,u){var h=this;return Ct(this,ue().then(function(){return typeof u=="undefined"||Ra(u)?{}:rm(new nm(u))}).then(function(v){return h.a.vb(s,v)}).then(function(){}))},t.Wc=function(s,u){return Ct(this,nw(this,s,u,L(this.$a,this)))},t.Vc=function(s,u){var h=this;return Ct(this,ue().then(function(){var v=u||Kd(),b=yD(s,v);if(v=l0(v),!v)throw new M("argument-error","Invalid email link!");if(v.tenantId!==h.T())throw new M("tenant-id-mismatch");return h.$a(b)}))};function wf(){}wf.prototype.render=function(){},wf.prototype.reset=function(){},wf.prototype.getResponse=function(){},wf.prototype.execute=function(){};function Oc(){this.a={},this.b=1e12}var Tw=null;Oc.prototype.render=function(s,u){return this.a[this.b.toString()]=new Lm(s,u),this.b++},Oc.prototype.reset=function(s){var u=Cw(this,s);s=oO(s),u&&s&&(u.delete(),delete this.a[s])},Oc.prototype.getResponse=function(s){return(s=Cw(this,s))?s.getResponse():null},Oc.prototype.execute=function(s){(s=Cw(this,s))&&s.execute()};function Cw(s,u){return(u=oO(u))&&s.a[u]||null}function oO(s){return(s=typeof s=="undefined"?1e12:s)?s.toString():null}function Lm(s,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Hd(s);var h=this;this.i=function(){h.execute()},this.h?this.execute():Xr(this.f,"click",this.i)}Lm.prototype.getResponse=function(){return Iw(this),this.b},Lm.prototype.execute=function(){Iw(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=lG();var u=s.c.callback,h=s.c["expired-callback"];if(u)try{u(s.b)}catch(v){}s.a=setTimeout(function(){if(s.a=null,s.b=null,h)try{h()}catch(v){}s.h&&s.execute()},6e4)},500))},Lm.prototype.delete=function(){Iw(this),this.g=!0,clearTimeout(this.a),this.a=null,Dr(this.f,"click",this.i)};function Iw(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function Rw(){}re(Rw,"FACTOR_ID","phone");function Aw(){}Aw.prototype.g=function(){return Tw||(Tw=new Oc),ue(Tw)},Aw.prototype.c=function(){};var kw=null;function Dw(){this.b=c.grecaptcha?Infinity:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var rK=new Yi(Hp,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),iK=new bs(3e4,6e4);Dw.prototype.g=function(s){var u=this;return new Ne(function(h,v){var b=setTimeout(function(){v(new M("network-request-failed"))},iK.get());if(!c.grecaptcha||s!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=s;var T=c.grecaptcha.render;c.grecaptcha.render=function(A,H){return A=T(A,H),u.b++,A},clearTimeout(b),h(c.grecaptcha)}else clearTimeout(b),v(new M("internal-error"));delete c[u.a]};var E=h_(rK,{onload:u.a,hl:s||""});ue(E0(E)).o(function(){clearTimeout(b),v(new M("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(b),h(c.grecaptcha)})},Dw.prototype.c=function(){this.b--};var Nw=null;function Ow(s,u,h,v,b,E,T){if(re(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,T?(kw||(kw=new Aw),T=kw):(Nw||(Nw=new Dw),T=Nw),this.m=T,this.a=h||{theme:"light",type:"image"},this.h=[],this.a[lO])throw new M("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[oK]==="invisible",!c.document)throw new M("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hd(u)||!this.i&&Hd(u).hasChildNodes())throw new M("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ri(s,E||null,b||null),this.u=v||function(){return null};var A=this;this.l=[];var H=this.a[sO];this.a[sO]=function(pe){if(cO(A,pe),typeof H=="function")H(pe);else if(typeof H=="string"){var Ye=pt(H,c);typeof Ye=="function"&&Ye(pe)}};var j=this.a[aO];this.a[aO]=function(){if(cO(A,null),typeof j=="function")j();else if(typeof j=="string"){var pe=pt(j,c);typeof pe=="function"&&pe()}}}var sO="callback",aO="expired-callback",lO="sitekey",oK="size";function cO(s,u){for(var h=0;h<s.l.length;h++)try{s.l[h](u)}catch(v){}}function sK(s,u){xi(s.l,function(h){return h==u})}function Pw(s,u){return s.h.push(u),u.oa(function(){Bp(s.h,u)}),u}t=Ow.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=Pw(this,ue().then(function(){if(em()&&!Ci())return Zp();throw new M("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(u){return s.g=u,Me(s.s,I5,{})}).then(function(u){s.a[lO]=u.recaptchaSiteKey}).o(function(u){throw s.f=null,u}))},t.render=function(){Fm(this);var s=this;return Pw(this,this.Ia().then(function(){if(s.c===null){var u=s.v;if(!s.i){var h=Hd(u);u=NW("DIV"),h.appendChild(u)}s.c=s.g.render(u,s.a)}return s.c}))},t.verify=function(){Fm(this);var s=this;return Pw(this,this.render().then(function(u){return new Ne(function(h){var v=s.g.getResponse(u);if(v)h(v);else{var b=function(E){E&&(sK(s,b),h(E))};s.l.push(b),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){Fm(this),this.c!==null&&this.g.reset(this.c)};function Fm(s){if(s.D)throw new M("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Fm(this),this.D=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=Hd(this.v);for(var u;u=s.firstChild;)s.removeChild(u)}};function Mw(s,u,h){var v=!1;try{this.b=h||Z.app()}catch(T){throw new M("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)h=this.b.options.apiKey;else throw new M("invalid-api-key");var b=this,E=null;try{E=this.b.auth().Ga()}catch(T){}try{v=this.b.auth().settings.appVerificationDisabledForTesting}catch(T){}E=Z.SDK_VERSION?bc(Z.SDK_VERSION,E):null,Ow.call(this,h,s,u,function(){try{var T=b.b.auth().la()}catch(A){T=null}return T},E,Po(Si),v)}z(Mw,Ow);function uO(s,u,h,v){e:{h=Array.prototype.slice.call(h);for(var b=0,E=!1,T=0;T<u.length;T++)if(u[T].optional)E=!0;else{if(E)throw new M("internal-error","Argument validator encountered a required argument after an optional argument.");b++}if(E=u.length,h.length<b||E<h.length)v="Expected "+(b==E?b==1?"1 argument":b+" arguments":b+"-"+E+" arguments")+" but got "+h.length+".";else{for(b=0;b<h.length;b++)if(E=u[b].optional&&h[b]===void 0,!u[b].M(h[b])&&!E){if(u=u[b],0>b||b>=dO.length)throw new M("internal-error","Argument validator received an unsupported number of arguments.");h=dO[b],v=(v?"":h+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}v=null}}if(v)throw new M("argument-error",s+" failed: "+v)}var dO="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ne(s,u){return{name:s||"",K:"a valid string",optional:!!u,M:function(h){return typeof h=="string"}}}function Lw(s,u){return{name:s||"",K:"a boolean",optional:!!u,M:function(h){return typeof h=="boolean"}}}function qt(s,u){return{name:s||"",K:"a valid object",optional:!!u,M:w}}function Pc(s,u){return{name:s||"",K:"a function",optional:!!u,M:function(h){return typeof h=="function"}}}function no(s,u){return{name:s||"",K:"null",optional:!!u,M:function(h){return h===null}}}function aK(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function lK(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof ki)}}}function cK(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof Z.app.App)}}}function Ss(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var h=!s||u.providerId===s;return!(!u.ka||!h)}}}function fO(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.sb:!1}}}function Mc(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function Fw(s,u){return w(s)&&typeof s.type=="string"&&s.type===u&&typeof s.Ha=="function"}function hO(s){return w(s)&&typeof s.uid=="string"}function Um(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function Mt(s,u,h,v){return{name:h||"",K:s.K+" or "+u.K,optional:!!v,M:function(b){return s.M(b)||u.M(b)}}}function wt(s,u){for(var h in u){var v=u[h].name;s[v]=mO(v,s[h],u[h].j)}}function pO(s,u){for(var h in u){var v=u[h].name;v!==h&&Object.defineProperty(s,v,{get:W(function(b){return this[b]},h),set:W(function(b,E,T,A){uO(b,[T],[A],!0),this[E]=A},v,h,u[h].kb),enumerable:!0})}}function Lt(s,u,h,v){s[u]=mO(u,h,v)}function mO(s,u,h){function v(){var T=Array.prototype.slice.call(arguments);return uO(b,h,T),u.apply(this,T)}if(!h)return u;var b=uK(s),E;for(E in u)v[E]=u[E];for(E in u.prototype)v.prototype[E]=u.prototype[E];return v}function uK(s){return s=s.split("."),s[s.length-1]}wt(ki.prototype,{jb:{name:"applyActionCode",j:[ne("code")]},Ra:{name:"checkActionCode",j:[ne("code")]},nb:{name:"confirmPasswordReset",j:[ne("code"),ne("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ne("email"),ne("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ne("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ne("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Mt(qt(),Pc(),"nextOrObserver"),Pc("opt_error",!0),Pc("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Mt(qt(),Pc(),"nextOrObserver"),Pc("opt_error",!0),Pc("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ne("email"),Mt(qt("opt_actionCodeSettings",!0),no(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ne("email"),qt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ne("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ss()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ss()]},Tc:{name:"signInWithCustomToken",j:[ne("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ne("email"),ne("password")]},Vc:{name:"signInWithEmailLink",j:[ne("email"),ne("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ne("phoneNumber"),Um()]},Xc:{name:"signInWithPopup",j:[Mc()]},Yc:{name:"signInWithRedirect",j:[Mc()]},dd:{name:"updateCurrentUser",j:[Mt(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(u){return!!(u&&u instanceof Or)}}}(),no(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ne(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ne("url"),qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ne("code")]}}),pO(ki.prototype,{lc:{name:"languageCode",kb:Mt(ne(),no(),"languageCode")},ti:{name:"tenantId",kb:Mt(ne(),no(),"tenantId")}}),ki.Persistence=Ic,ki.Persistence.LOCAL="local",ki.Persistence.SESSION="session",ki.Persistence.NONE="none",wt(Or.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Lw("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lw("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ss()]},qb:{name:"linkWithCredential",j:[Ss()]},Dc:{name:"linkWithPhoneNumber",j:[ne("phoneNumber"),Um()]},Ec:{name:"linkWithPopup",j:[Mc()]},Fc:{name:"linkWithRedirect",j:[Mc()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ss()]},tb:{name:"reauthenticateWithCredential",j:[Ss()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ne("phoneNumber"),Um()]},Nc:{name:"reauthenticateWithPopup",j:[Mc()]},Oc:{name:"reauthenticateWithRedirect",j:[Mc()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Mt(qt("opt_actionCodeSettings",!0),no(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ne(null,!0)]},cd:{name:"unlink",j:[ne("provider")]},Bb:{name:"updateEmail",j:[ne("email")]},Cb:{name:"updatePassword",j:[ne("password")]},ed:{name:"updatePhoneNumber",j:[Ss("phone")]},Db:{name:"updateProfile",j:[qt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ne("email"),Mt(qt("opt_actionCodeSettings",!0),no(null,!0),"opt_actionCodeSettings",!0)]}}),wt(Oc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),wt(wf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),wt(Ne.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),pO(PN.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Lw("appVerificationDisabledForTesting")}}),wt(tw.prototype,{confirm:{name:"confirm",j:[ne("verificationCode")]}}),Lt(Ec,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var u,h=[NG,OG,PG,DG],v=0;v<h.length;v++)if(u=h[v](s))return u;return null},[Mt(ne(),qt(),"json")]),Lt(Jr,"credential",function(s,u){return new _s(s,u)},[ne("email"),ne("password")]),wt(_s.prototype,{w:{name:"toJSON",j:[ne(null,!0)]}}),wt(Ba.prototype,{Ca:{name:"addScope",j:[ne("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Lt(Ba,"credential",pD,[Mt(ne(),qt(),"token")]),Lt(Jr,"credentialWithLink",yD,[ne("email"),ne("emailLink")]),wt(Ha.prototype,{Ca:{name:"addScope",j:[ne("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Lt(Ha,"credential",mD,[Mt(ne(),qt(),"token")]),wt(Va.prototype,{Ca:{name:"addScope",j:[ne("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Lt(Va,"credential",vD,[Mt(ne(),Mt(qt(),no()),"idToken"),Mt(ne(),no(),"accessToken",!0)]),wt(xc.prototype,{Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Lt(xc,"credential",gD,[Mt(ne(),qt(),"token"),ne("secret",!0)]),wt(Nr.prototype,{Ca:{name:"addScope",j:[ne("scope")]},credential:{name:"credential",j:[Mt(ne(),Mt(qt(),no()),"optionsOrIdToken"),Mt(ne(),no(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),wt(Fo.prototype,{w:{name:"toJSON",j:[ne(null,!0)]}}),wt(Fa.prototype,{w:{name:"toJSON",j:[ne(null,!0)]}}),Lt(Uo,"credential",bD,[ne("verificationId"),ne("verificationCode")]),wt(Uo.prototype,{fb:{name:"verifyPhoneNumber",j:[Mt(ne(),function(s,u){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(h){return h?h.session&&h.phoneNumber?Fw(h.session,ef)&&typeof h.phoneNumber=="string":h.session&&h.multiFactorHint?Fw(h.session,lm)&&hO(h.multiFactorHint):h.session&&h.multiFactorUid?Fw(h.session,lm)&&typeof h.multiFactorUid=="string":h.phoneNumber?typeof h.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Um()]}}),wt(ws.prototype,{w:{name:"toJSON",j:[ne(null,!0)]}}),wt(M.prototype,{toJSON:{name:"toJSON",j:[ne(null,!0)]}}),wt(nf.prototype,{toJSON:{name:"toJSON",j:[ne(null,!0)]}}),wt(f0.prototype,{toJSON:{name:"toJSON",j:[ne(null,!0)]}}),wt(iw.prototype,{toJSON:{name:"toJSON",j:[ne(null,!0)]}}),wt(rw.prototype,{Rc:{name:"resolveSignIn",j:[fO()]}}),wt(sw.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[fO(),ne("displayName",!0)]},bd:{name:"unenroll",j:[Mt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:hO},ne(),"multiFactorInfoIdentifier")]}}),wt(Mw.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lt(e0,"parseLink",Xk,[ne("link")]),Lt(Rw,"assertion",function(s){return new BN(s)},[Ss("phone")]),function(){if(typeof Z!="undefined"&&Z.INTERNAL&&Z.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:tm,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Z_,VERIFY_AND_CHANGE_EMAIL:Jd,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ki,AuthCredential:Ec,Error:M};Lt(s,"EmailAuthProvider",Jr,[]),Lt(s,"FacebookAuthProvider",Ba,[]),Lt(s,"GithubAuthProvider",Ha,[]),Lt(s,"GoogleAuthProvider",Va,[]),Lt(s,"TwitterAuthProvider",xc,[]),Lt(s,"OAuthProvider",Nr,[ne("providerId")]),Lt(s,"SAMLAuthProvider",hD,[ne("providerId")]),Lt(s,"PhoneAuthProvider",Uo,[lK()]),Lt(s,"RecaptchaVerifier",Mw,[Mt(ne(),aK(),"recaptchaContainer"),qt("recaptchaParameters",!0),cK()]),Lt(s,"ActionCodeURL",e0,[]),Lt(s,"PhoneMultiFactorGenerator",Rw,[]),Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new ki(u)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC"}),Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:L(u.getUid,u),getToken:L(u.nc,u),addAuthTokenListener:L(u.cc,u),removeAuthTokenListener:L(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Z.registerVersion("@firebase/auth","0.16.6"),Z.INTERNAL.extendNamespace({User:Or})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});vr();ni();mr();ie();var nv=ei(ro()),m$="@firebase/database",v$="0.10.1";var mE="";function E1(t){mE=t}var g$=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ut(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ja(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();var y$=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return On(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();var S1=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new g$(e)}}catch(n){}return new y$},el=S1("localStorage"),vE=S1("sessionStorage");var Jc=new nv.Logger("@firebase/database"),x1=function(){var t=1;return function(){return t++}}(),T1=function(t){var e=uE(t),n=new aE;n.update(e);var r=n.digest();return Xa.encodeByteArray(r)},Nf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Nf.apply(null,i):typeof i=="object"?n+=Ut(i):n+=i,n+=" "}return n},tl=null,C1=!0,I1=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Jc.logLevel=nv.LogLevel.VERBOSE,tl=Jc.log.bind(Jc),e&&vE.set("logging_enabled",!0)):typeof t=="function"?tl=t:(tl=null,vE.remove("logging_enabled"))},dn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(C1===!0&&(C1=!1,tl===null&&vE.get("logging_enabled")===!0&&I1(!0)),tl){var n=Nf.apply(null,t);tl(n)}},Of=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];dn.apply(void 0,me([t],Ft(e)))}},gE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Nf.apply(void 0,me([],Ft(t)));Jc.error(n)},io=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Nf.apply(void 0,me([],Ft(t)));throw Jc.error(n),new Error(n)},En=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Nf.apply(void 0,me([],Ft(t)));Jc.warn(n)},b$=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_$=function(t){if(ti()||document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qo="[MIN_NAME]",oo="[MAX_NAME]",nl=function(t,e){if(t===e)return 0;if(t===qo||e===oo)return-1;if(e===qo||t===oo)return 1;var n=iv(t),r=iv(e);return n!==null?r!==null?n-r==0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},w$=function(t,e){return t===e?0:t<e?-1:1},Pf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ut(e))},yE=function(t){if(typeof t!="object"||t===null)return Ut(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=Ut(e[i]),r+=":",r+=yE(t[e[i]]);return r+="}",r},R1=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function rn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var A1=function(t){K(!rv(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,l,c;t===0?(o=0,a=0,i=1/t==-Infinity?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();var f=d.join(""),p="";for(c=0;c<64;c+=8){var m=parseInt(f.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},E$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},S$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function x$(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var T$=new RegExp("^-?(0*)\\d{1,10}$"),k1=-2147483648,bE=2147483647,iv=function(t){if(T$.test(t)){var e=Number(t);if(e>=k1&&e<=bE)return e}return null},Zc=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw En("Exception was thrown by user callback.",n),e},Math.floor(0))}},C$=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};var I$=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){En('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();var R$=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(e)},t}(),Lf=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();var ov="5",D1="v",N1="s",O1="r",P1="f",M1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,L1="ls",A$="p",_E="ac",F1="websocket",U1="long_polling";var wE=function(){function t(e,n,r,i,o,a,l){o===void 0&&(o=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=el.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&el.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function k$(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function B1(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(e===F1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===U1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);k$(t)&&(n.ns=t.namespace);var i=[];return rn(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}var D$=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),On(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return Cf(this.counters_)},t}();var EE={},SE={};function xE(t){var e=t.toString();return EE[e]||(EE[e]=new D$),EE[e]}function N$(t,e){var n=t.toString();return SE[n]||(SE[n]=e()),SE[n]}var O$=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var l=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var c=function(f){l[f]&&Zc(function(){r.onMessage_(l[f])})},d=0;d<l.length;++d)c(d);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();var H1="start",P$="close",M$="pLPCommand",L$="pRTLPCB",V1="id",j1="pw",q1="ser",F$="cb",U$="seg",B$="ts",H$="d",V$="dframe",z1=1870,W1=30,j$=z1-W1,q$=25e3,z$=3e4,TE=function(){function t(e,n,r,i,o,a,l){var c=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Of(e),this.stats_=xE(n),this.urlFn=function(d){return c.appCheckToken&&(d[_E]=c.appCheckToken),B1(n,U1,d)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new O$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(z$)),_$(function(){if(!r.isClosed_){r.scriptTagHolder=new W$(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Ft(a,5),d=c[0],f=c[1],p=c[2],m=c[3],g=c[4];if(r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,d===H1)r.id=f,r.password=p;else if(d===P$)f?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(f,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+d)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Ft(a,2),d=c[0],f=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(d,f)},function(){r.onClosed_()},r.urlFn);var i={};i[H1]="t",i[q1]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[F$]=r.scriptTagHolder.uniqueCallbackIdentifier),i[D1]=ov,r.transportSessionId&&(i[N1]=r.transportSessionId),r.lastSessionId&&(i[L1]=r.lastSessionId),r.applicationId&&(i[A$]=r.applicationId),r.appCheckToken&&(i[_E]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&M1.test(location.hostname)&&(i[O1]=P1);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return ti()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!E$()&&!S$()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=Jw(n),i=R1(r,j$),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){if(!ti()){this.myDisconnFrame=document.createElement("iframe");var r={};r[V$]="t",r[V1]=e,r[j1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(e){var n=Ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),W$=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ti())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=x1(),window[M$+this.uniqueCallbackIdentifier]=e,window[L$+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";</script>'}var l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){dn("frame writing exception"),c.stack&&dn(c.stack),dn(c)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||dn("No IE domain setting required")}catch(i){var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[V1]=this.myID,e[j1]=this.myPW,e[q1]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+W1+r.length<=z1){var a=this.pendingSegs.shift();r=r+"&"+U$+i+"="+a.seg+"&"+B$+i+"="+a.ts+"&"+H$+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(q$)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;ti()?this.doNodeLongPoll(e,n):setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){dn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch(o){}},Math.floor(1))},t}();var G$=16384,K$=45e3,Ff=null;typeof MozWebSocket!="undefined"?Ff=MozWebSocket:typeof WebSocket!="undefined"&&(Ff=WebSocket);var rl=function(){function t(e,n,r,i,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Of(this.connId),this.stats_=xE(n),this.connURL=t.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[D1]=ov,!ti()&&typeof location!="undefined"&&location.hostname&&M1.test(location.hostname)&&(o[O1]=P1),n&&(o[N1]=n),r&&(o[L1]=r),i&&(o[_E]=i),B1(e,F1,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,el.set("previous_websocket_failure",!0);try{if(ti()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+ov+"/"+mE+"/"+process.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?o.headers.Authorization=this.authToken||"":o.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,l=this.connURL.indexOf("wss://")===0?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;l&&(o.proxy={origin:l}),this.mySock=new Ff(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Ff(this.connURL,[],o)}}catch(d){this.log_("Error instantiating WebSocket.");var c=d.message||d.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(d){r.handleIncomingFrame(d)},this.mySock.onerror=function(d){r.log_("WebSocket error.  Closing connection.");var f=d.message||d.data;f&&r.log_(f),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ff!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return el.isInMemoryStorage||el.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){el.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Ja(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=R1(n,G$);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(K$))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();var $$=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[TE,rl]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=rl&&rl.isAvailable(),o=i&&!rl.previouslyFailed();if(e.webSocketOnly&&(i||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[rl];else{var a=this.transports_=[];try{for(var l=mt(t.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var d=c.value;d&&d.isAvailable()&&a.push(d)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();var Y$=6e4,X$=5e3,Q$=10*1024,J$=100*1024,CE="t",G1="d",Z$="s",K1="r",eY="e",$1="o",Y1="a",X1="n",Q1="p",tY="h",J1=function(){function t(e,n,r,i,o,a,l,c,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Of("c:"+this.id+":"),this.transportManager_=new $$(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Mf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>J$?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Q$?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(CE in e){var n=e[CE];n===Y1?this.upgradeIfSecondaryHealthy_():n===K1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Pf("t",e),r=Pf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Q1,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Y1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:X1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Pf("t",e),r=Pf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Pf(CE,e);if(G1 in e){var r=e[G1];if(n===tY)this.onHandshake_(r);else if(n===X1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Z$?this.onConnectionShutdown_(r):n===K1?this.onReset_(r):n===eY?gE("Server Error: "+r):n===$1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gE("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ov!==r&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Mf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(Y$))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(X$))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Q1,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(el.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();var Z1=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();var eP=function(){function t(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=me([],Ft(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){K(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();var tP=function(t){N(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!jc()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(eP);var nP=32,rP=768,Ke=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function He(){return new Ke("")}function Ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function As(t){return t.pieces_.length-t.pieceNum_}function et(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ke(t.pieces_,e)}function IE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nY(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Uf(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function iP(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ke(e,0)}function vt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ke)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ke(n,0)}function Re(t){return t.pieceNum_>=t.pieces_.length}function $n(t,e){var n=Ie(t),r=Ie(e);if(n===null)return e;if(n===r)return $n(et(t),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rY(t,e){for(var n=Uf(t,0),r=Uf(e,0),i=0;i<n.length&&i<r.length;i++){var o=nl(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function RE(t,e){if(As(t)!==As(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ri(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(As(t)>As(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var iY=function(){function t(e,n){this.errorPrefix_=n,this.parts_=Uf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Kc(this.parts_[r]);oP(this)}return t}();function oY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Kc(e),oP(t)}function sY(t){var e=t.parts_.pop();t.byteLength_-=Kc(e),t.parts_.length>0&&(t.byteLength_-=1)}function oP(t){if(t.byteLength_>rP)throw new Error(t.errorPrefix_+"has a key path longer than "+rP+" bytes ("+t.byteLength_+").");if(t.parts_.length>nP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nP+") or object contains a cycle "+il(t))}function il(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var aY=function(t){N(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},e}(eP);var Bf=1e3,lY=60*5*1e3,cY=3*1e3,sP=30*1e3,uY=1.3,dY=3e4,fY="server_kill",aP=3,ol=function(t){N(e,t);function e(n,r,i,o,a,l,c,d){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=a,f.authTokenProvider_=l,f.appCheckTokenProvider_=c,f.authOverride_=d,f.id=e.nextPersistentConnectionId_++,f.log_=Of("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Bf,f.maxReconnectDelay_=lY,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,d&&!ti())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return aY.getInstance().on("visible",f.onVisible_,f),n.host.indexOf("fblocal")===-1&&tP.getInstance().on("online",f.onOnline_,f),f}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(Ut(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new _n,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(c){var d=c.d;c.s==="ok"?(r.onDataUpdate_(o.p,d,!1,null),i.resolve(d)):i.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},cY),this.connected_&&this.sendGet_(l),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),K(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var l={p:o},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(d){var f=d.d,p=d.s;e.warnOnListenWarnings_(f,i);var m=r.listens.get(o)&&r.listens.get(o).get(a);m===n&&(r.log_("listen response",d),p!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(p,f))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&On(n,"w")){var i=jo(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();En("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||oE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sP)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=iE(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),K(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";o&&(a.q=i,a.t=o),this.sendRequest(l,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){o&&setTimeout(function(){o(l.s,l.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:o}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var l=o.d;r.log_("reportStats","Error sending stats: "+l)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Ut(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):gE("Unrecognized action received from server: "+Ut(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bf,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Bf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>dY&&(this.reconnectDelay_=Bf),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uY)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c,d,f,p,m,g,y,_,w=this;return O(this,function(S){switch(S.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,d=function(){c?c.close():(l=!0,i())},f=function(C){K(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(C)},this.realtime_={close:d,sendRequest:f},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return m=Ft.apply(void 0,[S.sent(),2]),g=m[0],y=m[1],l?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,c=new J1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(C){En(C+" ("+w.repoInfo_.toString()+")"),w.interrupt(fY)},a)),[3,4];case 3:return _=S.sent(),this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&En(_),d()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){dn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){dn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],kf(this.interruptReasons_)&&(this.reconnectDelay_=Bf,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return yE(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new Ke(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){dn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=aP&&(this.reconnectDelay_=sP,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){dn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=aP&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=mt(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var d=(i=void 0,mt(c.values())),f=d.next();!f.done;f=d.next()){var p=f.value;this.sendListen_(p)}}catch(y){i={error:y}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},e.prototype.sendConnectStats_=function(){var n={},r="js";ti()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+mE.replace(/\./g,"-")]=1,jc()?n["framework.cordova"]=1:Rf()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=tP.getInstance().currentlyOnline();return kf(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Z1);var Le=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();var sv=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Le(qo,e),i=new Le(qo,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Le.MIN},t}();var av,lP=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return av},set:function(n){av=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return nl(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Cs("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Le.MIN},e.prototype.maxPost=function(){return new Le(oo,av)},e.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new Le(n,av)},e.prototype.toString=function(){return".key"},e}(sv),so=new lP;var lv=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Oi=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??zo.EMPTY_NODE,this.right=o??zo.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return zo.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return zo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),hY=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Oi(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),zo=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Oi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Oi.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new lv(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new lv(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new lv(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new lv(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new hY,t}();function pY(t,e){return nl(t.name,e.name)}function AE(t,e){return nl(t,e)}var kE;function mY(t){kE=t}var cP=function(t){return typeof t=="number"?"number:"+A1(t):"string:"+t},uP=function(t){if(t.isLeafNode()){var e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&On(e,".sv"),"Priority must be a string or number.")}else K(t===kE||t.isEmpty(),"priority of unexpected type.");K(t===kE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var dP,eu=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),uP(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return dP},set:function(e){dP=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Re(e)?this:Ie(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||As(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+cP(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=A1(this.value_):e+=this.value_,this.lazyHash_=T1(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var fP,hP;function vY(t){fP=t}function gY(t){hP=t}var yY=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?nl(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Le.MIN},e.prototype.maxPost=function(){return new Le(oo,new eu("[PRIORITY-POST]",hP))},e.prototype.makePost=function(n,r){var i=fP(n);return new Le(r,new eu("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(sv),it=new yY;var bY=Math.log(2),_Y=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/bY,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),cv=function(t,e,n,r){t.sort(e);var i=function(c,d){var f=d-c,p,m;if(f===0)return null;if(f===1)return p=t[c],m=n?n(p):p,new Oi(m,p.node,Oi.BLACK,null,null);var g=parseInt(f/2,10)+c,y=i(c,g),_=i(g+1,d);return p=t[g],m=n?n(p):p,new Oi(m,p.node,Oi.BLACK,y,_)},o=function(c){for(var d=null,f=null,p=t.length,m=function(S,C){var R=p-S,k=p;p-=S;var F=i(R+1,k),L=t[R],W=n?n(L):L;g(new Oi(W,L.node,C,null,F))},g=function(S){d?(d.left=S,d=S):(f=S,d=S)},y=0;y<c.count;++y){var _=c.nextBitIsOne(),w=Math.pow(2,c.count-(y+1));_?m(w,Oi.BLACK):(m(w,Oi.BLACK),m(w,Oi.RED))}return f},a=new _Y(t.length),l=o(a);return new zo(r||e,l)};var DE,tu={},uv=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return K(tu&&it,"ChildrenNode.ts has not been loaded"),DE=DE||new t({".priority":tu},{".priority":it}),DE},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof zo?n:null},t.prototype.hasIndex=function(e){return On(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){K(e!==so,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Le.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var l;i?l=cv(r,e.getCompare()):l=tu;var c=e.toString(),d=I({},this.indexSet_);d[c]=e;var f=I({},this.indexes_);return f[c]=l,new t(f,d)},t.prototype.addToIndexes=function(e,n){var r=this,i=Gc(this.indexes_,function(o,a){var l=jo(r.indexSet_,a);if(K(l,"Missing index implementation for "+a),o===tu)if(l.isDefinedOn(e.node)){for(var c=[],d=n.getIterator(Le.Wrap),f=d.getNext();f;)f.name!==e.name&&c.push(f),f=d.getNext();return c.push(e),cv(c,l.getCompare())}else return tu;else{var p=n.get(e.name),m=o;return p&&(m=m.remove(new Le(e.name,p))),m.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Gc(this.indexes_,function(i){if(i===tu)return i;var o=n.get(e.name);return o?i.remove(new Le(e.name,o)):i});return new t(r,this.indexSet_)},t}();var Hf,we=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&uP(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Hf||(Hf=new t(new zo(AE),null,uv.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Hf},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Hf:n},t.prototype.getChild=function(e){var n=Ie(e);return n===null?this:this.getImmediateChild(n).getChild(et(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Le(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Hf:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=Ie(e);if(r===null)return n;K(Ie(e)!==".priority"||As(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(et(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(it,function(c,d){n[c]=d.val(e),r++,o&&t.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):o=!1}),!e&&o&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+cP(this.getPriority().val())+":"),this.forEachChild(it,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":T1(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Le(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Le.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vf?-1:0},t.prototype.withIndex=function(e){if(e===so||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===so||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(it),i=n.getIterator(it),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===so?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),wY=function(t){N(e,t);function e(){return t.call(this,new zo(AE),we.EMPTY_NODE,uv.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return we.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(we),Vf=new wY;Object.defineProperties(Le,{MIN:{value:new Le(qo,we.EMPTY_NODE)},MAX:{value:new Le(oo,Vf)}});lP.__EMPTY_NODE=we.EMPTY_NODE;eu.__childrenNodeConstructor=we;mY(Vf);gY(Vf);var EY=!0;function St(t,e){if(e===void 0&&(e=null),t===null)return we.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new eu(n,St(e))}if(!(t instanceof Array)&&EY){var r=[],i=!1,o=t;if(rn(o,function(d,f){if(d.substring(0,1)!=="."){var p=St(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),r.push(new Le(d,p)))}}),r.length===0)return we.EMPTY_NODE;var a=cv(r,pY,function(d){return d.name},AE);if(i){var l=cv(r,it.getCompare());return new we(a,St(e),new uv({".priority":l},{".priority":it}))}else return new we(a,St(e),uv.Default)}else{var c=we.EMPTY_NODE;return rn(t,function(d,f){if(On(t,d)&&d.substring(0,1)!=="."){var p=St(f);(p.isLeafNode()||!p.isEmpty())&&(c=c.updateImmediateChild(d,p))}}),c.updatePriority(St(e))}}vY(St);var NE=function(t){N(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,K(!Re(n)&&Ie(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?nl(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=St(n),o=we.EMPTY_NODE.updateChild(this.indexPath_,i);return new Le(r,o)},e.prototype.maxPost=function(){var n=we.EMPTY_NODE.updateChild(this.indexPath_,Vf);return new Le(oo,n)},e.prototype.toString=function(){return Uf(this.indexPath_,0).join("/")},e}(sv);var SY=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?nl(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Le.MIN},e.prototype.maxPost=function(){return Le.MAX},e.prototype.makePost=function(n,r){var i=St(n);return new Le(r,i)},e.prototype.toString=function(){return".value"},e}(sv),OE=new SY;var nu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PE="-",pP="z",mP=786,xY=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=nu.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=nu.charAt(e[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),vP=function(t){if(t===""+bE)return PE;var e=iv(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<mP)return n.push(PE),n.join("");for(var i=n.length-1;i>=0&&n[i]===pP;)i--;if(i===-1)return oo;var o=n[i],a=nu.charAt(nu.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},gP=function(t){if(t===""+k1)return qo;var e=iv(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===PE?n.length===1?""+bE:(delete n[n.length-1],n.join("")):(n[n.length-1]=nu.charAt(nu.indexOf(n[n.length-1])-1),n.join("")+pP.repeat(mP-n.length))};function yP(t){return{type:"value",snapshotNode:t}}function ru(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function TY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ME=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(jf(n,l)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(ru(n,r)):a.trackChildChange(qf(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(it,function(i,o){n.hasChild(i)||r.trackChildChange(jf(i,o))}),n.isLeafNode()||n.forEachChild(it,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(qf(i,o,a))}else r.trackChildChange(ru(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?we.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();var bP=function(){function t(e){this.indexedFilter_=new ME(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new Le(n,r))||(r=we.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=we.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(we.EMPTY_NODE);var o=this;return n.forEachChild(it,function(a,l){o.matches(new Le(a,l))||(i=i.updateImmediateChild(a,we.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();var CY=function(){function t(e){this.rangedFilter_=new bP(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new Le(n,r))||(r=we.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=we.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=we.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var l=o.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(we.EMPTY_NODE);var d=void 0,f=void 0,p=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();p=function(w,S){return m(S,w)}}else o=i.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();for(var a=0,g=!1;o.hasNext();){var l=o.getNext();!g&&p(d,l)<=0&&(g=!0);var c=g&&a<this.limit_&&p(l,f)<=0;c?a++:i=i.updateImmediateChild(l.name,we.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(C,R){return l(R,C)}}else a=this.index_.getCompare();var c=e;K(c.numChildren()===this.limit_,"");var d=new Le(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),g=i.getChildAfterChild(this.index_,f,this.reverse_);g!=null&&(g.name===n||c.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);var y=g==null?1:a(g,d),_=p&&!r.isEmpty()&&y>=0;if(_)return o!=null&&o.trackChildChange(qf(n,r,m)),c.updateImmediateChild(n,r);o!=null&&o.trackChildChange(jf(n,m));var w=c.updateImmediateChild(n,we.EMPTY_NODE),S=g!=null&&this.rangedFilter_.matches(g);return S?(o!=null&&o.trackChildChange(ru(g.name,g.node)),w.updateImmediateChild(g.name,g.node)):w}else return r.isEmpty()?e:p&&a(f,d)>=0?(o!=null&&(o.trackChildChange(jf(f.name,f.node)),o.trackChildChange(ru(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,we.EMPTY_NODE)):e},t}();var _P=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qo},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oo},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===it},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function IY(t){return t.loadsAllData()?new ME(t.getIndex()):t.hasLimit()?new CY(t):new bP(t)}function RY(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function AY(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function LE(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kY(t,e,n){var r;if(t.index_===so)typeof e=="string"&&(e=vP(e)),r=LE(t,e,n);else{var i=void 0;n==null?i=oo:i=vP(n),r=LE(t,e,i)}return r.startAfterSet_=!0,r}function FE(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function DY(t,e,n){var r,i;return t.index_===so?(typeof e=="string"&&(e=gP(e)),i=FE(t,e,n)):(n==null?r=qo:r=gP(n),i=FE(t,e,r)),i.endBeforeSet_=!0,i}function dv(t,e){var n=t.copy();return n.index_=e,n}function wP(t){var e={};if(t.isDefault())return e;var n;return t.index_===it?n="$priority":t.index_===OE?n="$value":t.index_===so?n="$key":(K(t.index_ instanceof NE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ut(n),t.startSet_&&(e.startAt=Ut(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Ut(t.indexStartName_))),t.endSet_&&(e.endAt=Ut(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Ut(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function EP(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==it&&(e.i=t.index_.toString()),e}var NY=function(t){N(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Of("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=e.getListenId_(n,i),d={};this.listens_[c]=d;var f=wP(n._queryParams);this.restRequest_(l+".json",f,function(p,m){var g=m;if(p===404&&(g=null,p=null),p===null&&a.onDataUpdate_(l,g,!1,i),jo(a.listens_,c)===d){var y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",o(y,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=wP(n._queryParams),o=n._path.toString(),a=new _n;return this.restRequest_(o+".json",i,function(l,c){var d=c;l===404&&(d=null,l=null),l===null?(r.onDataUpdate_(o,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Ft(a,2),c=l[0],d=l[1];c&&c.accessToken&&(r.auth=c.accessToken),d&&d.token&&(r.ac=d.token);var f=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+sE(r);o.log_("Sending REST request for "+f);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(i&&p.readyState===4){o.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);var m=null;if(p.status>=200&&p.status<300){try{m=Ja(p.responseText)}catch(g){En("Failed to parse JSON response for "+f+": "+p.responseText)}i(null,m)}else p.status!==401&&p.status!==404&&En("Got unsuccessful REST response for "+f+" Status: "+p.status),i(p.status);i=null}},p.open("GET",f,!0),p.send()})},e}(Z1);var OY=function(){function t(){this.rootNode_=we.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();function fv(){return{value:null,children:new Map}}function iu(t,e,n){if(Re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=Ie(e);t.children.has(r)||t.children.set(r,fv());var i=t.children.get(r);e=et(e),iu(i,e,n)}}function UE(t,e){if(Re(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(it,function(o,a){iu(t,new Ke(o),a)}),UE(t,e)}else if(t.children.size>0){var r=Ie(e);if(e=et(e),t.children.has(r)){var i=UE(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function BE(t,e,n){t.value!==null?n(e,t.value):PY(t,function(r,i){var o=new Ke(e.toString()+"/"+r);BE(i,o,n)})}function PY(t,e){t.children.forEach(function(n,r){e(r,n)})}var SP=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=I({},e);return this.last_&&rn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();var xP=10*1e3,MY=30*1e3,LY=5*60*1e3,FY=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SP(e);var r=xP+(MY-xP)*Math.random();Mf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;rn(n,function(o,a){a>0&&On(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),Mf(this.reportStats_.bind(this),Math.floor(Math.random()*2*LY))},t}();function UY(t,e){t.statsToReport_[e]=!0}var Pi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pi||(Pi={}));function HE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function VE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var BY=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pi.ACK_USER_WRITE,this.source=HE()}return t.prototype.operationForChild=function(e){if(Re(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ke(e));return new t(He(),n,this.revert)}else return K(Ie(this.path)===e,"operationForChild called for unrelated child."),new t(et(this.path),this.affectedTree,this.revert)},t}();var TP=function(){function t(e,n){this.source=e,this.path=n,this.type=Pi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Re(this.path)?new t(this.source,He()):new t(this.source,et(this.path))},t}();var hv=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pi.OVERWRITE}return t.prototype.operationForChild=function(e){return Re(this.path)?new t(this.source,He(),this.snap.getImmediateChild(e)):new t(this.source,et(this.path),this.snap)},t}();var qE=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pi.MERGE}return t.prototype.operationForChild=function(e){if(Re(this.path)){var n=this.children.subtree(new Ke(e));return n.isEmpty()?null:n.value?new hv(this.source,He(),n.value):new t(this.source,He(),n)}else return K(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,et(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();var ks=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Re(e))return this.isFullyInitialized()&&!this.filtered_;var n=Ie(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();var HY=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function VY(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(TY(a.childName,a.snapshotNode))}),zf(t,i,"child_removed",e,r,n),zf(t,i,"child_added",e,r,n),zf(t,i,"child_moved",o,r,n),zf(t,i,"child_changed",e,r,n),zf(t,i,"value",e,r,n),i}function zf(t,e,n,r,i,o){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return qY(t,l,c)}),a.forEach(function(l){var c=jY(t,l,o);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(c,t.query_))})})}function jY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qY(t,e,n){if(e.childName==null||n.childName==null)throw Cs("Should only compare child_ events.");var r=new Le(e.childName,e.snapshotNode),i=new Le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function pv(t,e){return{eventCache:t,serverCache:e}}function Wf(t,e,n,r){return pv(new ks(e,n,r),t.serverCache)}function CP(t,e,n,r){return pv(t.eventCache,new ks(e,n,r))}function mv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var zE,zY=function(){return zE||(zE=new zo(w$)),zE},Pr=function(){function t(e,n){n===void 0&&(n=zY()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return rn(e,function(r,i){n=n.set(new Ke(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Re(e))return null;var r=Ie(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(et(e),n);if(o!=null){var a=vt(new Ke(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Re(e))return this;var n=Ie(e),r=this.children.get(n);return r!==null?r.subtree(et(e)):new t(null)},t.prototype.set=function(e,n){if(Re(e))return new t(n,this.children);var r=Ie(e),i=this.children.get(r)||new t(null),o=i.set(et(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(Re(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Ie(e),r=this.children.get(n);if(r){var i=r.remove(et(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(Re(e))return this.value;var n=Ie(e),r=this.children.get(n);return r?r.get(et(e)):null},t.prototype.setTree=function(e,n){if(Re(e))return n;var r=Ie(e),i=this.children.get(r)||new t(null),o=i.setTree(et(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(He(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(vt(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,He(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Re(e))return null;var o=Ie(e),a=this.children.get(o);return a?a.findOnPath_(et(e),vt(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,He(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Re(e))return this;this.value&&r(n,this.value);var i=Ie(e),o=this.children.get(i);return o?o.foreachOnPath_(et(e),vt(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(He(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(vt(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();var Wo=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Pr(null))},t}();function Gf(t,e,n){if(Re(e))return new Wo(new Pr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=$n(i,e);return o=o.updateChild(a,n),new Wo(t.writeTree_.set(i,o))}else{var l=new Pr(n),c=t.writeTree_.setTree(e,l);return new Wo(c)}}function WE(t,e,n){var r=t;return rn(n,function(i,o){r=Gf(r,vt(e,i),o)}),r}function IP(t,e){if(Re(e))return Wo.empty();var n=t.writeTree_.setTree(e,new Pr(null));return new Wo(n)}function GE(t,e){return al(t,e)!=null}function al(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($n(n.path,e)):null}function RP(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(it,function(r,i){e.push(new Le(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Le(r,i.value))}),e}function Ds(t,e){if(Re(e))return t;var n=al(t,e);return n!=null?new Wo(new Pr(n)):new Wo(t.writeTree_.subtree(e))}function KE(t){return t.writeTree_.isEmpty()}function ou(t,e){return AP(He(),t.writeTree_,e)}function AP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(K(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=AP(vt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(vt(t,".priority"),r)),n}function vv(t,e){return PP(e,t)}function WY(t,e,n,r,i){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Gf(t.visibleWrites,e,n)),t.lastWriteId=r}function GY(t,e,n,r){K(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=WE(t.visibleWrites,e,n),t.lastWriteId=r}function KY(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function $Y(t,e){var n=t.allWrites.findIndex(function(d){return d.writeId===e});K(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var l=t.allWrites[a];l.visible&&(a>=n&&YY(l,r.path)?i=!1:ri(r.path,l.path)&&(o=!0)),a--}if(i){if(o)return XY(t),!0;if(r.snap)t.visibleWrites=IP(t.visibleWrites,r.path);else{var c=r.children;rn(c,function(d){t.visibleWrites=IP(t.visibleWrites,vt(r.path,d))})}return!0}else return!1}function YY(t,e){if(t.snap)return ri(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&ri(vt(t.path,n),e))return!0;return!1}function XY(t){t.visibleWrites=kP(t.allWrites,QY,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function QY(t){return t.visible}function kP(t,e,n){for(var r=Wo.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,l=void 0;if(o.snap)ri(n,a)?(l=$n(n,a),r=Gf(r,l,o.snap)):ri(a,n)&&(l=$n(a,n),r=Gf(r,He(),o.snap.getChild(l)));else if(o.children){if(ri(n,a))l=$n(n,a),r=WE(r,l,o.children);else if(ri(a,n))if(l=$n(a,n),Re(l))r=WE(r,He(),o.children);else{var c=jo(o.children,Ie(l));if(c){var d=c.getChild(et(l));r=Gf(r,He(),d)}}}else throw Cs("WriteRecord should have .snap or .children")}}return r}function DP(t,e,n,r,i){if(!r&&!i){var o=al(t.visibleWrites,e);if(o!=null)return o;var a=Ds(t.visibleWrites,e);if(KE(a))return n;if(n==null&&!GE(a,He()))return null;var l=n||we.EMPTY_NODE;return ou(a,l)}else{var c=Ds(t.visibleWrites,e);if(!i&&KE(c))return n;if(!i&&n==null&&!GE(c,He()))return null;var d=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(ri(m.path,e)||ri(e,m.path))},f=kP(t.allWrites,d,e),l=n||we.EMPTY_NODE;return ou(f,l)}}function JY(t,e,n){var r=we.EMPTY_NODE,i=al(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(it,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var o=Ds(t.visibleWrites,e);return n.forEachChild(it,function(l,c){var d=ou(Ds(o,new Ke(l)),c);r=r.updateImmediateChild(l,d)}),RP(o).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Ds(t.visibleWrites,e);return RP(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function ZY(t,e,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=vt(e,n);if(GE(t.visibleWrites,o))return null;var a=Ds(t.visibleWrites,o);return KE(a)?i.getChild(n):ou(a,i.getChild(n))}function eX(t,e,n,r){var i=vt(e,n),o=al(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=Ds(t.visibleWrites,i);return ou(a,r.getNode().getImmediateChild(n))}else return null}function tX(t,e){return al(t.visibleWrites,e)}function nX(t,e,n,r,i,o,a){var l,c=Ds(t.visibleWrites,e),d=al(c,He());if(d!=null)l=d;else if(n!=null)l=ou(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var f=[],p=a.getCompare(),m=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),g=m.getNext();g&&f.length<i;)p(g,r)!==0&&f.push(g),g=m.getNext();return f}else return[]}function rX(){return{visibleWrites:Wo.empty(),allWrites:[],lastWriteId:-1}}function gv(t,e,n,r){return DP(t.writeTree,t.treePath,e,n,r)}function $E(t,e){return JY(t.writeTree,t.treePath,e)}function NP(t,e,n,r){return ZY(t.writeTree,t.treePath,e,n,r)}function yv(t,e){return tX(t.writeTree,vt(t.treePath,e))}function iX(t,e,n,r,i,o){return nX(t.writeTree,t.treePath,e,n,r,i,o)}function YE(t,e,n){return eX(t.writeTree,t.treePath,e,n)}function OP(t,e){return PP(vt(t.treePath,e),t.writeTree)}function PP(t,e){return{treePath:t,writeTree:e}}var oX=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,qf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,jf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ru(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,qf(r,e.snapshotNode,i.oldSnap));else throw Cs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();var sX=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),MP=new sX,XE=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YE(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sl(this.viewCache_),o=iX(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();function aX(t){return{filter:t}}function lX(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function cX(t,e,n,r,i){var o=new oX,a,l;if(n.type===Pi.OVERWRITE){var c=n;c.source.fromUser?a=QE(t,e,c.path,c.snap,r,i,o):(K(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!Re(c.path),a=bv(t,e,c.path,c.snap,r,i,l,o))}else if(n.type===Pi.MERGE){var d=n;d.source.fromUser?a=dX(t,e,d.path,d.children,r,i,o):(K(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),a=JE(t,e,d.path,d.children,r,i,l,o))}else if(n.type===Pi.ACK_USER_WRITE){var f=n;f.revert?a=pX(t,e,f.path,r,i,o):a=fX(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===Pi.LISTEN_COMPLETE)a=hX(t,e,n.path,r,o);else throw Cs("Unknown operation type: "+n.type);var p=o.getChanges();return uX(e,a,p),{viewCache:a,changes:p}}function uX(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=mv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(yP(mv(e)))}}function LP(t,e,n,r,i,o){var a=e.eventCache;if(yv(r,n)!=null)return e;var l=void 0,c=void 0;if(Re(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=sl(e),f=d instanceof we?d:we.EMPTY_NODE,p=$E(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{var m=gv(r,sl(e));l=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{var g=Ie(n);if(g===".priority"){K(As(n)===1,"Can't have a priority with additional path components");var y=a.getNode();c=e.serverCache.getNode();var _=NP(r,n,y,c);_!=null?l=t.filter.updatePriority(y,_):l=a.getNode()}else{var w=et(n),S=void 0;if(a.isCompleteForChild(g)){c=e.serverCache.getNode();var C=NP(r,n,a.getNode(),c);C!=null?S=a.getNode().getImmediateChild(g).updateChild(w,C):S=a.getNode().getImmediateChild(g)}else S=YE(r,g,e.serverCache);S!=null?l=t.filter.updateChild(a.getNode(),g,S,w,i,o):l=a.getNode()}}return Wf(e,l,a.isFullyInitialized()||Re(n),t.filter.filtersNodes())}function bv(t,e,n,r,i,o,a,l){var c=e.serverCache,d,f=a?t.filter:t.filter.getIndexedFilter();if(Re(n))d=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){var p=c.getNode().updateChild(n,r);d=f.updateFullNode(c.getNode(),p,null)}else{var m=Ie(n);if(!c.isCompleteForPath(n)&&As(n)>1)return e;var g=et(n),y=c.getNode().getImmediateChild(m),_=y.updateChild(g,r);m===".priority"?d=f.updatePriority(c.getNode(),_):d=f.updateChild(c.getNode(),m,_,g,MP,null)}var w=CP(e,d,c.isFullyInitialized()||Re(n),f.filtersNodes()),S=new XE(i,w,o);return LP(t,w,n,i,S,l)}function QE(t,e,n,r,i,o,a){var l=e.eventCache,c,d,f=new XE(i,e,o);if(Re(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Wf(e,d,!0,t.filter.filtersNodes());else{var p=Ie(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=Wf(e,d,l.isFullyInitialized(),l.isFiltered());else{var m=et(n),g=l.getNode().getImmediateChild(p),y=void 0;if(Re(m))y=r;else{var _=f.getCompleteChild(p);_!=null?IE(m)===".priority"&&_.getChild(iP(m)).isEmpty()?y=_:y=_.updateChild(m,r):y=we.EMPTY_NODE}if(g.equals(y))c=e;else{var w=t.filter.updateChild(l.getNode(),p,y,m,f,a);c=Wf(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function FP(t,e){return t.eventCache.isCompleteForChild(e)}function dX(t,e,n,r,i,o,a){var l=e;return r.foreach(function(c,d){var f=vt(n,c);FP(e,Ie(f))&&(l=QE(t,l,f,d,i,o,a))}),r.foreach(function(c,d){var f=vt(n,c);FP(e,Ie(f))||(l=QE(t,l,f,d,i,o,a))}),l}function UP(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function JE(t,e,n,r,i,o,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c=e,d;Re(n)?d=r:d=new Pr(null).setTree(n,r);var f=e.serverCache.getNode();return d.children.inorderTraversal(function(p,m){if(f.hasChild(p)){var g=e.serverCache.getNode().getImmediateChild(p),y=UP(t,g,m);c=bv(t,c,new Ke(p),y,i,o,a,l)}}),d.children.inorderTraversal(function(p,m){var g=!e.serverCache.isCompleteForChild(p)&&m.value===void 0;if(!f.hasChild(p)&&!g){var y=e.serverCache.getNode().getImmediateChild(p),_=UP(t,y,m);c=bv(t,c,new Ke(p),_,i,o,a,l)}}),c}function fX(t,e,n,r,i,o,a){if(yv(i,n)!=null)return e;var l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Re(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return bv(t,e,n,c.getNode().getChild(n),i,o,l,a);if(Re(n)){var d=new Pr(null);return c.getNode().forEachChild(so,function(p,m){d=d.set(new Ke(p),m)}),JE(t,e,n,d,i,o,l,a)}else return e}else{var f=new Pr(null);return r.foreach(function(p,m){var g=vt(n,p);c.isCompleteForPath(g)&&(f=f.set(p,c.getNode().getChild(g)))}),JE(t,e,n,f,i,o,l,a)}}function hX(t,e,n,r,i){var o=e.serverCache,a=CP(e,o.getNode(),o.isFullyInitialized()||Re(n),o.isFiltered());return LP(t,a,n,r,MP,i)}function pX(t,e,n,r,i,o){var a;if(yv(r,n)!=null)return e;var l=new XE(r,e,i),c=e.eventCache.getNode(),d=void 0;if(Re(n)||Ie(n)===".priority"){var f=void 0;if(e.serverCache.isFullyInitialized())f=gv(r,sl(e));else{var p=e.serverCache.getNode();K(p instanceof we,"serverChildren would be complete if leaf node"),f=$E(r,p)}f=f,d=t.filter.updateFullNode(c,f,o)}else{var m=Ie(n),g=YE(r,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=c.getImmediateChild(m)),g!=null?d=t.filter.updateChild(c,m,g,et(n),l,o):e.eventCache.getNode().hasChild(m)?d=t.filter.updateChild(c,m,we.EMPTY_NODE,et(n),l,o):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=gv(r,sl(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||yv(r,He())!=null,Wf(e,d,a,t.filter.filtersNodes())}var mX=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new ME(r.getIndex()),o=IY(r);this.processor_=aX(o);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(we.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(we.EMPTY_NODE,l.getNode(),null),f=new ks(c,a.isFullyInitialized(),i.filtersNodes()),p=new ks(d,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=pv(p,f),this.eventGenerator_=new HY(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function vX(t){return t.viewCache_.serverCache.getNode()}function gX(t){return mv(t.viewCache_)}function yX(t,e){var n=sl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Re(e)&&!n.getImmediateChild(Ie(e)).isEmpty())?n.getChild(e):null}function BP(t){return t.eventRegistrations_.length===0}function bX(t,e){t.eventRegistrations_.push(e)}function HP(t,e,n){var r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(c){var d=c.createCancelEvent(n,i);d&&r.push(d)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var l=t.eventRegistrations_[a];if(!l.matches(e))o.push(l);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function VP(t,e,n,r){e.type===Pi.MERGE&&e.source.queryId!==null&&(K(sl(t.viewCache_),"We should always have a full cache before handling merges"),K(mv(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=cX(t.processor_,i,e,n,r);return lX(t.processor_,o.viewCache),K(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,jP(t,o.changes,o.viewCache.eventCache.getNode(),null)}function _X(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(it,function(o,a){r.push(ru(o,a))})}return n.isFullyInitialized()&&r.push(yP(n.getNode())),jP(t,r,n.getNode(),e)}function jP(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return VY(t.eventGenerator_,e,n,i)}var _v,qP=function(){function t(){this.views=new Map}return t}();function wX(t){K(!_v,"__referenceConstructor has already been defined"),_v=t}function EX(){return K(_v,"Reference.ts has not been loaded"),_v}function SX(t){return t.views.size===0}function ZE(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var l=t.views.get(a);return K(l!=null,"SyncTree gave us an op for an invalid query."),VP(l,e,n,r)}else{var c=[];try{for(var d=mt(t.views.values()),f=d.next();!f.done;f=d.next()){var l=f.value;c=c.concat(VP(l,e,n,r))}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return c}}function zP(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var l=gv(n,i?r:null),c=!1;l?c=!0:r instanceof we?(l=$E(n,r),c=!1):(l=we.EMPTY_NODE,c=!1);var d=pv(new ks(l,c,!1),new ks(r,i,!1));return new mX(e,d)}return a}function xX(t,e,n,r,i,o){var a=zP(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),bX(a,n),_X(a,n)}function TX(t,e,n,r){var i,o,a=e._queryIdentifier,l=[],c=[],d=Os(t);if(a==="default")try{for(var f=mt(t.views.entries()),p=f.next();!p.done;p=f.next()){var m=Ft(p.value,2),g=m[0],y=m[1];c=c.concat(HP(y,n,r)),BP(y)&&(t.views.delete(g),y.query._queryParams.loadsAllData()||l.push(y.query))}}catch(_){i={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else{var y=t.views.get(a);y&&(c=c.concat(HP(y,n,r)),BP(y)&&(t.views.delete(a),y.query._queryParams.loadsAllData()||l.push(y.query)))}return d&&!Os(t)&&l.push(new(EX())(e._repo,e._path)),{removed:l,events:c}}function WP(t){var e,n,r=[];try{for(var i=mt(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ns(t,e){var n,r,i=null;try{for(var o=mt(t.views.values()),a=o.next();!a.done;a=o.next()){var l=a.value;i=i||yX(l,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function GP(t,e){var n=e._queryParams;if(n.loadsAllData())return wv(t);var r=e._queryIdentifier;return t.views.get(r)}function KP(t,e){return GP(t,e)!=null}function Os(t){return wv(t)!=null}function wv(t){var e,n;try{for(var r=mt(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Ev;function CX(t){K(!Ev,"__referenceConstructor has already been defined"),Ev=t}function IX(){return K(Ev,"Reference.ts has not been loaded"),Ev}var RX=1,$P=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Pr(null),this.pendingWriteTree_=rX(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function eS(t,e,n,r,i){return WY(t.pendingWriteTree_,e,n,r,i),i?su(t,new hv(HE(),e,n)):[]}function AX(t,e,n,r){GY(t.pendingWriteTree_,e,n,r);var i=Pr.fromObject(n);return su(t,new qE(HE(),e,i))}function Ps(t,e,n){n===void 0&&(n=!1);var r=KY(t.pendingWriteTree_,e),i=$Y(t.pendingWriteTree_,e);if(i){var o=new Pr(null);return r.snap!=null?o=o.set(He(),!0):rn(r.children,function(a){o=o.set(new Ke(a),!0)}),su(t,new BY(r.path,o,n))}else return[]}function Kf(t,e,n){return su(t,new hv(VE(),e,n))}function kX(t,e,n){var r=Pr.fromObject(n);return su(t,new qE(VE(),e,r))}function DX(t,e){return su(t,new TP(VE(),e))}function NX(t,e,n){var r=nS(t,n);if(r){var i=rS(r),o=i.path,a=i.queryId,l=$n(o,e),c=new TP(jE(a),l);return iS(t,o,c)}else return[]}function tS(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||KP(o,e))){var l=TX(o,e,n,r);SX(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=l.removed;a=l.events;var d=c.findIndex(function(C){return C._queryParams.loadsAllData()})!==-1,f=t.syncPointTree_.findOnPath(i,function(C,R){return Os(R)});if(d&&!f){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var m=LX(p),g=0;g<m.length;++g){var y=m[g],_=y.query,w=JP(t,y);t.listenProvider_.startListening($f(_),xv(t,_),w.hashFn,w.onComplete)}}if(!f&&c.length>0&&!r)if(d){var S=null;t.listenProvider_.stopListening($f(e),S)}else c.forEach(function(C){var R=t.queryToTagMap.get(Tv(C));t.listenProvider_.stopListening($f(C),R)});FX(t,c)}return a}function OX(t,e,n,r){var i=nS(t,r);if(i!=null){var o=rS(i),a=o.path,l=o.queryId,c=$n(a,e),d=new hv(jE(l),c,n);return iS(t,a,d)}else return[]}function PX(t,e,n,r){var i=nS(t,r);if(i){var o=rS(i),a=o.path,l=o.queryId,c=$n(a,e),d=Pr.fromObject(n),f=new qE(jE(l),c,d);return iS(t,a,f)}else return[]}function YP(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(_,w){var S=$n(_,r);i=i||Ns(w,S),o=o||Os(w)});var a=t.syncPointTree_.get(r);a?(o=o||Os(a),i=i||Ns(a,He())):(a=new qP,t.syncPointTree_=t.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=we.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild(function(_,w){var S=Ns(w,He());S&&(i=i.updateImmediateChild(_,S))})}var d=KP(a,e);if(!d&&!e._queryParams.loadsAllData()){var f=Tv(e);K(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");var p=UX();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}var m=vv(t.pendingWriteTree_,r),g=xX(a,e,n,m,i,l);if(!d&&!o){var y=GP(a,e);g=g.concat(BX(t,e,y))}return g}function Sv(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,l){var c=$n(a,e),d=Ns(l,c);if(d)return d});return DP(i,e,o,n,r)}function MX(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(d,f){var p=$n(d,n);r=r||Ns(f,p)});var i=t.syncPointTree_.get(n);i?r=r||Ns(i,He()):(i=new qP,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new ks(r,!0,!1):null,l=vv(t.pendingWriteTree_,e._path),c=zP(i,e,l,o?a.getNode():we.EMPTY_NODE,o);return gX(c)}function su(t,e){return XP(e,t.syncPointTree_,null,vv(t.pendingWriteTree_,He()))}function XP(t,e,n,r){if(Re(t.path))return QP(t,e,n,r);var i=e.get(He());n==null&&i!=null&&(n=Ns(i,He()));var o=[],a=Ie(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){var d=n?n.getImmediateChild(a):null,f=OP(r,a);o=o.concat(XP(l,c,d,f))}return i&&(o=o.concat(ZE(i,t,r,n))),o}function QP(t,e,n,r){var i=e.get(He());n==null&&i!=null&&(n=Ns(i,He()));var o=[];return e.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,d=OP(r,a),f=t.operationForChild(a);f&&(o=o.concat(QP(f,l,c,d)))}),i&&(o=o.concat(ZE(i,t,r,n))),o}function JP(t,e){var n=e.query,r=xv(t,n);return{hashFn:function(){var i=vX(e)||we.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?NX(t,n._path,r):DX(t,n._path);var o=x$(i,n);return tS(t,n,null,o)}}}function xv(t,e){var n=Tv(e);return t.queryToTagMap.get(n)}function Tv(t){return t._path.toString()+"$"+t._queryIdentifier}function nS(t,e){return t.tagToQueryMap.get(e)}function rS(t){var e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ke(t.substr(0,e))}}function iS(t,e,n){var r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");var i=vv(t.pendingWriteTree_,e);return ZE(r,n,i,null)}function LX(t){return t.fold(function(e,n,r){if(n&&Os(n)){var i=wv(n);return[i]}else{var o=[];return n&&(o=WP(n)),rn(r,function(a,l){o=o.concat(l)}),o}})}function $f(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(IX())(t._repo,t._path):t}function FX(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Tv(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function UX(){return RX++}function BX(t,e,n){var r=e._path,i=xv(t,e),o=JP(t,n),a=t.listenProvider_.startListening($f(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)K(!Os(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(p,m,g){if(!Re(p)&&m&&Os(m))return[wv(m).query];var y=[];return m&&(y=y.concat(WP(m).map(function(_){return _.query}))),rn(g,function(_,w){y=y.concat(w)}),y}),d=0;d<c.length;++d){var f=c[d];t.listenProvider_.stopListening($f(f),xv(t,f))}return a}var HX=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),VX=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=vt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Sv(this.syncTree_,this.path_)},t}(),jX=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ZP=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return qX(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zX(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},qX=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},zX=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=e.node();if(K(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},eM=function(t,e,n,r){return sS(e,new VX(n,t),r)},oS=function(t,e,n){return sS(t,new HX(e),n)};function sS(t,e,n){var r=t.getPriority().val(),i=ZP(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,l=ZP(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new eu(l,St(i)):t}else{var c=t;return o=c,i!==c.getPriority().val()&&(o=o.updatePriority(new eu(i))),c.forEachChild(it,function(d,f){var p=sS(f,e.getImmediateChild(d),n);p!==f&&(o=o.updateImmediateChild(d,p))}),o}}var aS=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Cv(t,e){for(var n=e instanceof Ke?e:new Ke(e),r=t,i=Ie(n);i!==null;){var o=jo(r.node.children,i)||{children:{},childCount:0};r=new aS(i,r,o),n=et(n),i=Ie(n)}return r}function ll(t){return t.node.value}function lS(t,e){t.node.value=e,cS(t)}function tM(t){return t.node.childCount>0}function WX(t){return ll(t)===void 0&&!tM(t)}function Iv(t,e){rn(t.node.children,function(n,r){e(new aS(n,t,r))})}function nM(t,e,n,r){n&&!r&&e(t),Iv(t,function(i){nM(i,e,!0,r)}),n&&r&&e(t)}function GX(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Yf(t){return new Ke(t.parent===null?t.name:Yf(t.parent)+"/"+t.name)}function cS(t){t.parent!==null&&KX(t.parent,t.name,t)}function KX(t,e,n){var r=WX(n),i=On(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,cS(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,cS(t))}var $X=/[\[\].#$\/\u0000-\u001F\u007F]/,YX=/[\[\].#$\u0000-\u001F\u007F]/,uS=10*1024*1024,Rv=function(t){return typeof t=="string"&&t.length!==0&&!$X.test(t)},rM=function(t){return typeof t=="string"&&t.length!==0&&!YX.test(t)},XX=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rM(t)},Xf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!rv(t)||t&&typeof t=="object"&&On(t,".sv")},ao=function(t,e,n,r){r&&e===void 0||Qf(wn(t,"value"),e,n)},Qf=function(t,e,n){var r=n instanceof Ke?new iY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+il(r));if(typeof e=="function")throw new Error(t+"contains a function "+il(r)+" with contents = "+e.toString());if(rv(e))throw new Error(t+"contains "+e.toString()+" "+il(r));if(typeof e=="string"&&e.length>uS/3&&Kc(e)>uS)throw new Error(t+"contains a string greater than "+uS+" utf8 bytes "+il(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(rn(e,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Rv(a)))throw new Error(t+" contains an invalid key ("+a+") "+il(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oY(r,a),Qf(t,l,r),sY(r)}),i&&o)throw new Error(t+' contains ".value" child '+il(r)+" in addition to actual children.")}},QX=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=Uf(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Rv(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(rY);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&ri(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},iM=function(t,e,n,r){if(!(r&&e===void 0)){var i=wn(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];rn(e,function(a,l){var c=new Ke(a);if(Qf(i,l,vt(n,c)),IE(c)===".priority"&&!Xf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),QX(i,o)}},dS=function(t,e,n){if(!(n&&e===void 0)){if(rv(e))throw new Error(wn(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xf(e))throw new Error(wn(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},JX=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(wn(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Jf=function(t,e,n,r){if(!(r&&n===void 0)&&!Rv(n))throw new Error(wn(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Zf=function(t,e,n,r){if(!(r&&n===void 0)&&!rM(n))throw new Error(wn(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZX=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zf(t,e,n,r)},ii=function(t,e){if(Ie(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},oM=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Rv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XX(n))throw new Error(wn(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},e8=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(wn(t,e)+"must be a boolean.")};var t8=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Av(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!RE(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function fS(t,e,n){Av(t,n),sM(t,function(r){return RE(r,e)})}function oi(t,e,n){Av(t,n),sM(t,function(r){return ri(r,e)||ri(e,r)})}function sM(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(n8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function n8(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();tl&&dn("event: "+n.toString()),Zc(r)}}}var aM="repo_interrupt",r8=25,i8=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fv(),this.transactionQueueTree_=new aS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function o8(t,e,n){if(t.stats_=xE(t.repoInfo_),t.forceRestClient_||C$())t.server_=new NY(t.repoInfo_,function(r,i,o,a){cM(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return uM(t,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ol(t.repoInfo_,e,function(r,i,o,a){cM(t,r,i,o,a)},function(r){uM(t,r)},function(r){a8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=N$(t.repoInfo_,function(){return new FY(t.stats_,t.server_)}),t.infoData_=new OY,t.infoSyncTree_=new $P({startListening:function(r,i,o,a){var l=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Kf(t.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),hS(t,"connected",!1),t.serverSyncTree_=new $P({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(l,c){var d=a(l,c);oi(t.eventQueue_,r._path,d)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function lM(t){var e=t.infoData_.getNode(new Ke(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function eh(t){return jX({timestamp:lM(t)})}function cM(t,e,n,r,i){t.dataUpdateCount++;var o=new Ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var l=Gc(n,function(m){return St(m)});a=PX(t.serverSyncTree_,o,l,i)}else{var c=St(n);a=OX(t.serverSyncTree_,o,c,i)}else if(r){var d=Gc(n,function(m){return St(m)});a=kX(t.serverSyncTree_,o,d)}else{var f=St(n);a=Kf(t.serverSyncTree_,o,f)}var p=o;a.length>0&&(p=lu(t,o)),oi(t.eventQueue_,p,a)}function s8(t,e){t.interceptServerDataCallback_=e}function uM(t,e){hS(t,"connected",e),e===!1&&u8(t)}function a8(t,e){rn(e,function(n,r){hS(t,n,r)})}function hS(t,e,n){var r=new Ke("/.info/"+e),i=St(n);t.infoData_.updateSnapshot(r,i);var o=Kf(t.infoSyncTree_,r,i);oi(t.eventQueue_,r,o)}function kv(t){return t.nextWriteId_++}function l8(t,e){var n=MX(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=St(r),o=Kf(t.serverSyncTree_,e._path,i);return fS(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return au(t,"get for query "+Ut(e)+" failed: "+r),Promise.reject(new Error(r))})}function pS(t,e,n,r,i){au(t,"set",{path:e.toString(),value:n,priority:r});var o=eh(t),a=St(n,r),l=Sv(t.serverSyncTree_,e),c=oS(a,l,o),d=kv(t),f=eS(t.serverSyncTree_,e,c,d,!0);Av(t.eventQueue_,f),t.server_.put(e.toString(),a.val(!0),function(m,g){var y=m==="ok";y||En("set at "+e+" failed: "+m);var _=Ps(t.serverSyncTree_,d,!y);oi(t.eventQueue_,e,_),Ms(t,i,m,g)});var p=gS(t,e);lu(t,p),oi(t.eventQueue_,p,[])}function c8(t,e,n,r){au(t,"update",{path:e.toString(),value:n});var i=!0,o=eh(t),a={};if(rn(n,function(d,f){i=!1,a[d]=eM(vt(e,d),St(f),t.serverSyncTree_,o)}),i)dn("update() called with empty data.  Don't do anything."),Ms(t,r,"ok",void 0);else{var l=kv(t),c=AX(t.serverSyncTree_,e,a,l);Av(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(d,f){var p=d==="ok";p||En("update at "+e+" failed: "+d);var m=Ps(t.serverSyncTree_,l,!p),g=m.length>0?lu(t,e):e;oi(t.eventQueue_,g,m),Ms(t,r,d,f)}),rn(n,function(d){var f=gS(t,vt(e,d));lu(t,f)}),oi(t.eventQueue_,e,[])}}function u8(t){au(t,"onDisconnectEvents");var e=eh(t),n=fv();BE(t.onDisconnect_,He(),function(i,o){var a=eM(i,o,t.serverSyncTree_,e);iu(n,i,a)});var r=[];BE(n,He(),function(i,o){r=r.concat(Kf(t.serverSyncTree_,i,o));var a=gS(t,i);lu(t,a)}),t.onDisconnect_=fv(),oi(t.eventQueue_,He(),r)}function d8(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&UE(t.onDisconnect_,e),Ms(t,n,r,i)})}function dM(t,e,n,r){var i=St(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&iu(t.onDisconnect_,e,i),Ms(t,r,o,a)})}function f8(t,e,n,r,i){var o=St(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,l){a==="ok"&&iu(t.onDisconnect_,e,o),Ms(t,i,a,l)})}function h8(t,e,n,r){if(kf(n)){dn("onDisconnect().update() called with empty data.  Don't do anything."),Ms(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&rn(n,function(a,l){var c=St(l);iu(t.onDisconnect_,vt(e,a),c)}),Ms(t,r,i,o)})}function p8(t,e,n){var r;Ie(e._path)===".info"?r=YP(t.infoSyncTree_,e,n):r=YP(t.serverSyncTree_,e,n),fS(t.eventQueue_,e._path,r)}function mS(t,e,n){var r;Ie(e._path)===".info"?r=tS(t.infoSyncTree_,e,n):r=tS(t.serverSyncTree_,e,n),fS(t.eventQueue_,e._path,r)}function fM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aM)}function m8(t){t.persistentConnection_&&t.persistentConnection_.resume(aM)}function v8(t,e){if(e===void 0&&(e=!1),typeof console!="undefined"){var n;e?(t.statsListener_||(t.statsListener_=new SP(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);rn(n,function(i,o){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+o)})}}function g8(t,e){t.stats_.incrementCounter(e),UY(t.statsReporter_,e)}function au(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),dn.apply(void 0,me([r],Ft(e)))}function Ms(t,e,n,r){e&&Zc(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function y8(t,e,n,r,i,o){au(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:x1(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=vS(t,e,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Qf("transaction failed: Data returned ",c,a.path),a.status=0;var d=Cv(t.transactionQueueTree_,e),f=ll(d)||[];f.push(a),lS(d,f);var p=void 0;if(typeof c=="object"&&c!==null&&On(c,".priority"))p=jo(c,".priority"),K(Xf(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=Sv(t.serverSyncTree_,e)||we.EMPTY_NODE;p=m.getPriority().val()}var g=eh(t),y=St(c,p),_=oS(y,l,g);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=_,a.currentWriteId=kv(t);var w=eS(t.serverSyncTree_,e,_,a.currentWriteId,a.applyLocally);oi(t.eventQueue_,e,w),Dv(t,t.transactionQueueTree_)}}function vS(t,e,n){return Sv(t.serverSyncTree_,e,n)||we.EMPTY_NODE}function Dv(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Nv(t,e),ll(e)){var n=pM(t,e);K(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&b8(t,Yf(e),n)}else tM(e)&&Iv(e,function(i){Dv(t,i)})}function b8(t,e,n){for(var r=n.map(function(m){return m.currentWriteId}),i=vS(t,e,r),o=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];K(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var d=$n(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}var f=o.val(!0),p=e;t.server_.put(p.toString(),f,function(m){au(t,"transaction put response",{path:p.toString(),status:m});var g=[];if(m==="ok"){for(var y=[],_=function(S){n[S].status=2,g=g.concat(Ps(t.serverSyncTree_,n[S].currentWriteId)),n[S].onComplete&&y.push(function(){return n[S].onComplete(null,!0,n[S].currentOutputSnapshotResolved)}),n[S].unwatcher()},w=0;w<n.length;w++)_(w);Nv(t,Cv(t.transactionQueueTree_,e)),Dv(t,t.transactionQueueTree_),oi(t.eventQueue_,e,g);for(var w=0;w<y.length;w++)Zc(y[w])}else{if(m==="datastale")for(var w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{En("transaction at "+p.toString()+" failed: "+m);for(var w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=m}lu(t,e)}},a)}function lu(t,e){var n=hM(t,e),r=Yf(n),i=pM(t,n);return _8(t,i,r),r}function _8(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(d){return d.status===0}),a=o.map(function(d){return d.currentWriteId}),l=function(d){var f=e[d],p=$n(n,f.path),m=!1,g;if(K(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,g=f.abortReason,i=i.concat(Ps(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=r8)m=!0,g="maxretry",i=i.concat(Ps(t.serverSyncTree_,f.currentWriteId,!0));else{var y=vS(t,f.path,a);f.currentInputSnapshot=y;var _=e[d].update(y.val());if(_!==void 0){Qf("transaction failed: Data returned ",_,f.path);var w=St(_),S=typeof _=="object"&&_!=null&&On(_,".priority");S||(w=w.updatePriority(y.getPriority()));var C=f.currentWriteId,R=eh(t),k=oS(w,y,R);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=k,f.currentWriteId=kv(t),a.splice(a.indexOf(C),1),i=i.concat(eS(t.serverSyncTree_,f.path,k,f.currentWriteId,f.applyLocally)),i=i.concat(Ps(t.serverSyncTree_,C,!0))}else m=!0,g="nodata",i=i.concat(Ps(t.serverSyncTree_,f.currentWriteId,!0))}oi(t.eventQueue_,n,i),i=[],m&&(e[d].status=2,function(F){setTimeout(F,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(g==="nodata"?r.push(function(){return e[d].onComplete(null,!1,e[d].currentInputSnapshot)}):r.push(function(){return e[d].onComplete(new Error(g),!1,null)})))},c=0;c<e.length;c++)l(c);Nv(t,t.transactionQueueTree_);for(var c=0;c<r.length;c++)Zc(r[c]);Dv(t,t.transactionQueueTree_)}}function hM(t,e){var n,r=t.transactionQueueTree_;for(n=Ie(e);n!==null&&ll(r)===void 0;)r=Cv(r,n),e=et(e),n=Ie(e);return r}function pM(t,e){var n=[];return mM(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function mM(t,e,n){var r=ll(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Iv(e,function(o){mM(t,o,n)})}function Nv(t,e){var n=ll(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lS(e,n.length>0?n:void 0)}Iv(e,function(o){Nv(t,o)})}function gS(t,e){var n=Yf(hM(t,e)),r=Cv(t.transactionQueueTree_,e);return GX(r,function(i){yS(t,i)}),yS(t,r),nM(r,function(i){yS(t,i)}),n}function yS(t,e){var n=ll(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(K(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(K(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ps(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?lS(e,void 0):n.length=o+1,oi(t.eventQueue_,Yf(e),i);for(var a=0;a<r.length;a++)Zc(r[a])}}function w8(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function E8(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=mt(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):En("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var bS=function(t,e){var n=S8(t),r=n.namespace;n.domain==="firebase.com"&&io(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||b$();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wE(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Ke(n.pathString)}},S8=function(t){var e="",n="",r="",i="",o="",a=!0,l="https",c=443;if(typeof t=="string"){var d=t.indexOf("//");d>=0&&(l=t.substring(0,d-1),t=t.substring(d+2));var f=t.indexOf("/");f===-1&&(f=t.length);var p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=w8(t.substring(f,p)));var m=E8(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;var g=e.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}};var vM=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Ut(this.snapshot.exportVal())},t}(),gM=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();var yM=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();var x8=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new _n;return d8(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){ii("OnDisconnect.remove",this._path);var e=new _n;return dM(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){ii("OnDisconnect.set",this._path),ao("OnDisconnect.set",e,this._path,!1);var n=new _n;return dM(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){ii("OnDisconnect.setWithPriority",this._path),ao("OnDisconnect.setWithPriority",e,this._path,!1),dS("OnDisconnect.setWithPriority",n,!1);var r=new _n;return f8(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){ii("OnDisconnect.update",this._path),iM("OnDisconnect.update",e,this._path,!1);var n=new _n;return h8(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();var si=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Re(this._path)?null:IE(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new lo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=EP(this._queryParams),n=yE(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return EP(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=ve(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=RE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+nY(this._path)},t}();function Ov(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ls(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===so){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==qo)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==oo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===it){if(e!=null&&!Xf(e)||n!=null&&!Xf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(t.getIndex()instanceof NE||t.getIndex()===OE,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Pv(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var lo=function(t){N(e,t);function e(n,r){return t.call(this,n,r,new _P,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=iP(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(si),Mv=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Ke(e),r=cl(this.ref,e);return new t(this._node.getChild(n),r,it)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,cl(n.ref,i),it))})},t.prototype.hasChild=function(e){var n=new Ke(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function bM(t,e){return t=ve(t),t._checkNotDeleted("ref"),e!==void 0?cl(t._root,e):t._root}function _M(t,e){t=ve(t),t._checkNotDeleted("refFromURL");var n=bS(e,t._repo.repoInfo_.nodeAdmin);oM("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&io("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),bM(t,n.path.toString())}function cl(t,e){return t=ve(t),Ie(t._path)===null?ZX("child","path",e,!1):Zf("child","path",e,!1),new lo(t._repo,vt(t._path,e))}function T8(t,e){t=ve(t),ii("push",t._path),ao("push",e,t._path,!0);var n=lM(t._repo),r=xY(n),i=cl(t,r),o=cl(t,r),a;return e!=null?a=_S(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function C8(t){return ii("remove",t._path),_S(t,null)}function _S(t,e){t=ve(t),ii("set",t._path),ao("set",e,t._path,!1);var n=new _n;return pS(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function I8(t,e){t=ve(t),ii("setPriority",t._path),dS("setPriority",e,!1);var n=new _n;return pS(t._repo,vt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function R8(t,e,n){if(ii("setWithPriority",t._path),ao("setWithPriority",e,t._path,!1),dS("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new _n;return pS(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function A8(t,e){iM("update",e,t._path,!1);var n=new _n;return c8(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function k8(t){return t=ve(t),l8(t._repo,t).then(function(e){return new Mv(e,new lo(t._repo,t._path),t._queryParams.getIndex())})}var wM=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new vM("value",this,new Mv(e.snapshotNode,new lo(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new gM(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),EM=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new gM(this,e,n):null},t.prototype.createEvent=function(e,n){K(e.childName!=null,"Child events should have a childName.");var r=cl(new lo(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new vM(e.type,this,new Mv(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function th(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,l=function(f,p){mS(t._repo,t,d),a(f,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new yM(n,o||void 0),d=e==="value"?new wM(c):new EM(e,c);return p8(t._repo,t,d),function(){return mS(t._repo,t,d)}}function wS(t,e,n,r){return th(t,"value",e,n,r)}function SM(t,e,n,r){return th(t,"child_added",e,n,r)}function xM(t,e,n,r){return th(t,"child_changed",e,n,r)}function TM(t,e,n,r){return th(t,"child_moved",e,n,r)}function CM(t,e,n,r){return th(t,"child_removed",e,n,r)}function IM(t,e,n){var r=null,i=n?new yM(n):null;e==="value"?r=new wM(i):e&&(r=new EM(e,i)),mS(t._repo,t,r)}var Mi=function(){function t(){}return t}(),RM=function(t){N(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){ao("endAt",this._value,n._path,!0);var r=FE(n._queryParams,this._value,this._key);if(Pv(r),Ls(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new si(n._repo,n._path,r,n._orderByCalled)},e}(Mi);function D8(t,e){return Jf("endAt","key",e,!0),new RM(t,e)}var N8=function(t){N(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){ao("endBefore",this._value,n._path,!1);var r=DY(n._queryParams,this._value,this._key);if(Pv(r),Ls(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new si(n._repo,n._path,r,n._orderByCalled)},e}(Mi);function O8(t,e){return Jf("endBefore","key",e,!0),new N8(t,e)}var AM=function(t){N(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){ao("startAt",this._value,n._path,!0);var r=LE(n._queryParams,this._value,this._key);if(Pv(r),Ls(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new si(n._repo,n._path,r,n._orderByCalled)},e}(Mi);function P8(t,e){return t===void 0&&(t=null),Jf("startAt","key",e,!0),new AM(t,e)}var M8=function(t){N(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){ao("startAfter",this._value,n._path,!1);var r=kY(n._queryParams,this._value,this._key);if(Pv(r),Ls(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new si(n._repo,n._path,r,n._orderByCalled)},e}(Mi);function L8(t,e){return Jf("startAfter","key",e,!0),new M8(t,e)}var F8=function(t){N(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new si(n._repo,n._path,RY(n._queryParams,this._limit),n._orderByCalled)},e}(Mi);function U8(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new F8(t)}var B8=function(t){N(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new si(n._repo,n._path,AY(n._queryParams,this._limit),n._orderByCalled)},e}(Mi);function H8(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new B8(t)}var V8=function(t){N(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){Ov(n,"orderByChild");var r=new Ke(this._path);if(Re(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new NE(r),o=dv(n._queryParams,i);return Ls(o),new si(n._repo,n._path,o,!0)},e}(Mi);function j8(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zf("orderByChild","path",t,!1),new V8(t)}var q8=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ov(n,"orderByKey");var r=dv(n._queryParams,so);return Ls(r),new si(n._repo,n._path,r,!0)},e}(Mi);function z8(){return new q8}var W8=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ov(n,"orderByPriority");var r=dv(n._queryParams,it);return Ls(r),new si(n._repo,n._path,r,!0)},e}(Mi);function G8(){return new W8}var K8=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){Ov(n,"orderByValue");var r=dv(n._queryParams,OE);return Ls(r),new si(n._repo,n._path,r,!0)},e}(Mi);function $8(){return new K8}var Y8=function(t){N(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(ao("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new RM(this._value,this._key)._apply(new AM(this._value,this._key)._apply(n))},e}(Mi);function X8(t,e){return Jf("equalTo","key",e,!0),new Y8(t,e)}function Li(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=ve(t);try{for(var a=mt(r),l=a.next();!l.done;l=a.next()){var c=l.value;o=c._apply(o)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}wX(lo);CX(lo);var Q8="FIREBASE_DATABASE_EMULATOR_HOST",ES={},kM=!1;function J8(t,e,n,r){t.repoInfo_=new wE(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function DM(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=bS(o,i),l=a.repoInfo,c,d=void 0;typeof process!="undefined"&&(d=process.env[Q8]),d?(c=!0,o="http://"+d+"?ns="+l.namespace,a=bS(o,i),l=a.repoInfo):c=!a.repoInfo.secure;var f=i&&c?new Lf(Lf.OWNER):new R$(t.name,t.options,e);oM("Invalid Firebase Database URL",a),Re(a.path)||io("Database URL must point to the root of a Firebase Database (not including a child path).");var p=e7(l,t,f,new I$(t.name,n));return new n7(p,t)}function Z8(t,e){var n=ES[e];(!n||n[t.key]!==t)&&io("Database "+e+"("+t.repoInfo_+") has already been deleted."),fM(t),delete n[t.key]}function e7(t,e,n,r){var i=ES[e.name];i||(i={},ES[e.name]=i);var o=i[t.toURLString()];return o&&io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new i8(t,kM,n,r),i[t.toURLString()]=o,o}function t7(t){kM=t}var n7=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(o8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new lo(this._repo,He())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._checkNotDeleted("delete"),Z8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&io("Cannot call "+e+" on a deleted database.")},t}();function r7(t,e,n,r){r===void 0&&(r={}),t=ve(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&io("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Lf(Lf.OWNER);else if(r.mockUserToken){var a=If(r.mockUserToken,t.app.options.projectId);o=new Lf(a)}J8(i,e,n,o)}function i7(t){t=ve(t),t._checkNotDeleted("goOffline"),fM(t._repo)}function o7(t){t=ve(t),t._checkNotDeleted("goOnline"),m8(t._repo)}var s7={".sv":"timestamp"};function a7(){return s7}function l7(t){return{".sv":{increment:t}}}var c7=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function u7(t,e,n){var r;if(t=ve(t),ii("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new _n,a=function(c,d,f){var p=null;c?o.reject(c):(p=new Mv(f,new lo(t._repo,t._path),it),o.resolve(new c7(d,p)))},l=wS(t,function(){});return y8(t._repo,t._path,e,a,l,i),o.promise}var d7=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){de("OnDisconnect.cancel",0,1,arguments.length),zt("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){de("OnDisconnect.remove",0,1,arguments.length),zt("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){de("OnDisconnect.set",1,2,arguments.length),zt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){de("OnDisconnect.setWithPriority",2,3,arguments.length),zt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(de("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,En("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zt("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();var f7=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return de("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();var nh=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return de("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return de("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return de("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return de("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return de("DataSnapshot.child",0,1,arguments.length),e=String(e),Zf("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return de("DataSnapshot.hasChild",1,1,arguments.length),Zf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return de("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return de("DataSnapshot.forEach",1,1,arguments.length),zt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return de("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return de("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return de("DataSnapshot.ref",0,0,arguments.length),new ul(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),NM=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;de("Query.on",2,4,arguments.length),zt("Query.on","callback",n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,i),c=function(f,p){n.call(l.context,new nh(o.database,f),p)};c.userCallback=n,c.context=l.context;var d=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(e){case"value":return wS(this._delegate,c,d),n;case"child_added":return SM(this._delegate,c,d),n;case"child_removed":return CM(this._delegate,c,d),n;case"child_changed":return xM(this._delegate,c,d),n;case"child_moved":return TM(this._delegate,c,d),n;default:throw new Error(wn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(de("Query.off",0,3,arguments.length),JX("Query.off",e,!0),zt("Query.off","callback",n,!0),Jm("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,IM(this._delegate,e,i)}else IM(this._delegate,e)},t.prototype.get=function(){var e=this;return k8(this._delegate).then(function(n){return new nh(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;de("Query.once",1,4,arguments.length),zt("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),l=new _n,c=function(f,p){var m=new nh(o.database,f);n&&n.call(a.context,m,p),l.resolve(m)};c.userCallback=n,c.context=a.context;var d=function(f){a.cancel&&a.cancel.call(a.context,f),l.reject(f)};switch(e){case"value":wS(this._delegate,c,d,{onlyOnce:!0});break;case"child_added":SM(this._delegate,c,d,{onlyOnce:!0});break;case"child_removed":CM(this._delegate,c,d,{onlyOnce:!0});break;case"child_changed":xM(this._delegate,c,d,{onlyOnce:!0});break;case"child_moved":TM(this._delegate,c,d,{onlyOnce:!0});break;default:throw new Error(wn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},t.prototype.limitToFirst=function(e){return de("Query.limitToFirst",1,1,arguments.length),new t(this.database,Li(this._delegate,U8(e)))},t.prototype.limitToLast=function(e){return de("Query.limitToLast",1,1,arguments.length),new t(this.database,Li(this._delegate,H8(e)))},t.prototype.orderByChild=function(e){return de("Query.orderByChild",1,1,arguments.length),new t(this.database,Li(this._delegate,j8(e)))},t.prototype.orderByKey=function(){return de("Query.orderByKey",0,0,arguments.length),new t(this.database,Li(this._delegate,z8()))},t.prototype.orderByPriority=function(){return de("Query.orderByPriority",0,0,arguments.length),new t(this.database,Li(this._delegate,G8()))},t.prototype.orderByValue=function(){return de("Query.orderByValue",0,0,arguments.length),new t(this.database,Li(this._delegate,$8()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),de("Query.startAt",0,2,arguments.length),new t(this.database,Li(this._delegate,P8(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),de("Query.startAfter",0,2,arguments.length),new t(this.database,Li(this._delegate,L8(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),de("Query.endAt",0,2,arguments.length),new t(this.database,Li(this._delegate,D8(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),de("Query.endBefore",0,2,arguments.length),new t(this.database,Li(this._delegate,O8(e,n)))},t.prototype.equalTo=function(e,n){return de("Query.equalTo",1,2,arguments.length),new t(this.database,Li(this._delegate,X8(e,n)))},t.prototype.toString=function(){return de("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return de("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(de("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,zt(e,"cancel",i.cancel,!0),i.context=r,Jm(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(wn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new ul(this.database,new lo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),ul=function(t){N(e,t);function e(n,r){var i=t.call(this,n,new si(r._repo,r._path,new _P,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return de("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return de("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,cl(this._delegate,n))},e.prototype.getParent=function(){de("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return de("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){de("Reference.set",1,2,arguments.length),zt("Reference.set","onComplete",r,!0);var i=_S(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(de("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,En("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("Reference.update",this._delegate._path),zt("Reference.update","onComplete",r,!0);var a=A8(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},e.prototype.setWithPriority=function(n,r,i){de("Reference.setWithPriority",2,3,arguments.length),zt("Reference.setWithPriority","onComplete",i,!0);var o=R8(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){de("Reference.remove",0,1,arguments.length),zt("Reference.remove","onComplete",n,!0);var r=C8(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;de("Reference.transaction",1,3,arguments.length),zt("Reference.transaction","transactionUpdate",n,!1),zt("Reference.transaction","onComplete",r,!0),e8("Reference.transaction","applyLocally",i,!0);var a=u7(this._delegate,n,{applyLocally:i}).then(function(l){return new f7(l.committed,new nh(o.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},e.prototype.setPriority=function(n,r){de("Reference.setPriority",1,2,arguments.length),zt("Reference.setPriority","onComplete",r,!0);var i=I8(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;de("Reference.push",0,2,arguments.length),zt("Reference.push","onComplete",r,!0);var o=T8(this._delegate,n),a=o.then(function(c){return new e(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new e(this.database,o);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},e.prototype.onDisconnect=function(){return ii("Reference.onDisconnect",this._delegate._path),new d7(new x8(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(NM);var Lv=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),r7(this._delegate,e,n,r)},t.prototype.ref=function(e){if(de("database.ref",0,1,arguments.length),e instanceof ul){var n=_M(this._delegate,e.toString());return new ul(this,n)}else{var n=bM(this._delegate,e);return new ul(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";de(n,1,1,arguments.length);var r=_M(this._delegate,e);return new ul(this,r)},t.prototype.goOffline=function(){return de("database.goOffline",0,0,arguments.length),i7(this._delegate)},t.prototype.goOnline=function(){return de("database.goOnline",0,0,arguments.length),o7(this._delegate)},t.ServerValue={TIMESTAMP:a7(),increment:function(e){return l7(e)}},t}();var h7=function(){rl.forceDisallow(),TE.forceAllow()},p7=function(){TE.forceDisallow()},m7=function(){return rl.isAvailable()},v7=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},g7=function(t,e){v8(t._delegate._repo,e)},y7=function(t,e){g8(t._delegate._repo,e)},b7=function(t){return t._delegate._repo.dataUpdateCount},_7=function(t,e){return s8(t._delegate._repo,e)};function w7(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,l=a===void 0?!1:a;E1(r);var c=new Zm("auth-internal",new Df("database-standalone"));return c.setComponent(new ct("auth-internal",function(){return i},"PRIVATE")),{instance:new Lv(DM(e,c,void 0,n,l),e),namespace:o}}var E7=Object.freeze({__proto__:null,forceLongPolling:h7,forceWebSockets:p7,isWebSocketsAvailable:m7,setSecurityDebugCallback:v7,stats:g7,statsIncrementCounter:y7,dataUpdateCount:b7,interceptServerData:_7,initStandalone:w7});var S7=ol;ol.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ol.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var x7=J1,T7=function(t){var e=ol.prototype.put;return ol.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){ol.prototype.put=e}},C7=wE,I7=function(t){return t._delegate._queryIdentifier},R7=function(t){t7(t)},A7=Object.freeze({__proto__:null,DataConnection:S7,RealTimeConnection:x7,hijackHash:T7,ConnectionTarget:C7,queryIdentifier:I7,forceRestClient:R7});var k7=Lv.ServerValue;function D7(t){E1(t.SDK_VERSION);var e=t.INTERNAL.registerComponent(new ct("database",function(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),l=n.getProvider("app-check-internal");return new Lv(DM(o,a,l,i),o)},"PUBLIC").setServiceProps({Reference:ul,Query:NM,Database:Lv,DataSnapshot:nh,enableLogging:I1,INTERNAL:E7,ServerValue:k7,TEST_ACCESS:A7}).setMultipleInstances(!0));t.registerVersion(m$,v$),ti()&&(module.exports=e)}D7(Z);vr();mr();var ege=ei(ro());var SS=function(t,e){return SS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},SS(t,e)};function N7(t,e){SS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function OM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var O7=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},se,xS=xS||{},Ee=O7||self;function Fv(){}function TS(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function P7(t){return Object.prototype.hasOwnProperty.call(t,CS)&&t[CS]||(t[CS]=++M7)}var CS="closure_uid_"+(1e9*Math.random()>>>0),M7=0;function L7(t,e,n){return t.call.apply(t.bind,arguments)}function F7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=L7:Mn=F7,Mn.apply(null,arguments)}function Uv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function co(){return Date.now()}function Yn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[i].apply(r,a)}}function Fs(){this.j=this.j,this.i=this.i}var U7=0;Fs.prototype.j=!1;Fs.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),U7!=0))var t=P7(this)};Fs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var PM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},MM=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B7(t){e:{for(var e=RQ,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function LM(t){return Array.prototype.concat.apply([],arguments)}function IS(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bv(t){return/^[\s\xa0]*$/.test(t)}var FM=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xn(t,e){return t.indexOf(e)!=-1}function RS(t,e){return t<e?-1:t>e?1:0}var Qn;e:{if(AS=Ee.navigator,AS&&(kS=AS.userAgent,kS)){Qn=kS;break e}Qn=""}var AS,kS;function DS(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function UM(t){var e={};for(var n in t)e[n]=t[n];return e}var BM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HM(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<BM.length;o++)n=BM[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function NS(t){return NS[" "](t),t}NS[" "]=Fv;function H7(t,e){var n=q7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var V7=Xn(Qn,"Opera"),Us=Xn(Qn,"Trident")||Xn(Qn,"MSIE"),VM=Xn(Qn,"Edge"),OS=VM||Us,jM=Xn(Qn,"Gecko")&&!(Xn(Qn.toLowerCase(),"webkit")&&!Xn(Qn,"Edge"))&&!(Xn(Qn,"Trident")||Xn(Qn,"MSIE"))&&!Xn(Qn,"Edge"),j7=Xn(Qn.toLowerCase(),"webkit")&&!Xn(Qn,"Edge");function qM(){var t=Ee.document;return t?t.documentMode:void 0}var Hv;e:{if(Vv="",jv=function(){var t=Qn;if(jM)return/rv:([^\);]+)(\)|;)/.exec(t);if(VM)return/Edge\/([\d\.]+)/.exec(t);if(Us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(j7)return/WebKit\/(\S+)/.exec(t);if(V7)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),jv&&(Vv=jv?jv[1]:""),Us&&(qv=qM(),qv!=null&&qv>parseFloat(Vv))){Hv=String(qv);break e}Hv=Vv}var Vv,jv,qv,q7={};function zM(t){return H7(t,function(){for(var e=0,n=FM(String(Hv)).split("."),r=FM(String(t)).split("."),i=Math.max(n.length,r.length),o=0;e==0&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;e=RS(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||RS(a[2].length==0,l[2].length==0)||RS(a[2],l[2]),a=a[3],l=l[3]}while(e==0)}return 0<=e})}var PS;Ee.document&&Us?(MS=qM(),PS=MS||parseInt(Hv,10)||void 0):PS=void 0;var MS,WM=PS,LS=!Us||9<=Number(WM),z7=Us&&!zM("9"),W7=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ee.addEventListener("test",Fv,e),Ee.removeEventListener("test",Fv,e)}catch(n){}return t}();function Ln(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}Ln.prototype.b=function(){this.defaultPrevented=!0};function ih(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jM){e:{try{NS(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:G7[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Yn(ih,Ln);var G7={2:"touch",3:"pen",4:"mouse"};ih.prototype.b=function(){ih.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,z7)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var oh="closure_listenable_"+(1e6*Math.random()|0),K7=0;function $7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++K7,this.Y=this.Z=!1}function zv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Wv(t){this.src=t,this.a={},this.b=0}Wv.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=US(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new $7(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};function FS(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=PM(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(zv(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function US(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}var BS="closure_lm_"+(1e6*Math.random()|0),HS={};function VS(t,e,n,r,i){if(r&&r.once)return KM(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)VS(t,e[o],n,r,i);return null}return n=WS(n),t&&t[oh]?t.va(e,n,rh(r)?!!r.capture:!!r,i):GM(t,e,n,!1,r,i)}function GM(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=rh(i)?!!i.capture:!!i;if(a&&!LS)return null;var l=qS(t);if(l||(t[BS]=l=new Wv(t)),n=l.add(e,n,r,a,o),n.proxy)return n;if(r=Y7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)W7||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(YM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Y7(){var t=X7,e=LS?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function KM(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)KM(t,e[o],n,r,i);return null}return n=WS(n),t&&t[oh]?t.wa(e,n,rh(r)?!!r.capture:!!r,i):GM(t,e,n,!0,r,i)}function $M(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$M(t,e[o],n,r,i);else r=rh(r)?!!r.capture:!!r,n=WS(n),t&&t[oh]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=US(o,n,r,i),-1<n&&(zv(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.a[e],t.b--)))):t&&(t=qS(t))&&(e=t.a[e.toString()],t=-1,e&&(t=US(e,n,r,i)),(n=-1<t?e[t]:null)&&jS(n))}function jS(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[oh])FS(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qS(e))?(FS(n,t),n.b==0&&(n.src=null,e[BS]=null)):zv(t)}}}function YM(t){return t in HS?HS[t]:HS[t]="on"+t}function XM(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&jS(t),n.call(r,e)}function X7(t,e){if(t.Y)return!0;if(!LS){if(!e)e:{e=["window","event"];for(var n=Ee,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new ih(e,this),XM(t,e)}return XM(t,new ih(e,this))}function qS(t){return t=t[BS],t instanceof Wv?t:null}var zS="__closure_events_fn_"+(1e9*Math.random()>>>0);function WS(t){return typeof t=="function"?t:(t[zS]||(t[zS]=function(e){return t.handleEvent(e)}),t[zS])}function Mr(){Fs.call(this),this.c=new Wv(this),this.J=this,this.C=null}Yn(Mr,Fs);Mr.prototype[oh]=!0;se=Mr.prototype;se.addEventListener=function(t,e,n,r){VS(this,t,e,n,r)};se.removeEventListener=function(t,e,n,r){$M(this,t,e,n,r)};function Sn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var i=e;e=new Ln(r,t),HM(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Gv(a,r,!0,e)&&i}if(a=e.a=t,i=Gv(a,r,!0,e)&&i,i=Gv(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.a=n[o],i=Gv(a,r,!1,e)&&i}se.G=function(){if(Mr.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)zv(n[r]);delete t.a[e],t.b--}}this.C=null};se.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};se.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function Gv(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&FS(t.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var GS=Ee.JSON.stringify;function QM(){this.b=this.a=null}var JM=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new KS},function(t){t.reset()});QM.prototype.add=function(t,e){var n=JM.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function Q7(){var t=eL,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function KS(){this.next=this.b=this.a=null}KS.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};KS.prototype.reset=function(){this.next=this.b=this.a=null};function J7(t){Ee.setTimeout(function(){throw t},0)}function ZM(t,e){$S||Z7(),YS||($S(),YS=!0),eL.add(t,e)}var $S;function Z7(){var t=Ee.Promise.resolve(void 0);$S=function(){t.then(eQ)}}var YS=!1,eL=new QM;function eQ(){for(var t;t=Q7();){try{t.a.call(t.b)}catch(n){J7(n)}var e=JM;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}YS=!1}function Kv(t,e){Mr.call(this),this.b=t||1,this.a=e||Ee,this.f=Mn(this.Za,this),this.g=co()}Yn(Kv,Mr);se=Kv.prototype;se.aa=!1;se.M=null;se.Za=function(){if(this.aa){var t=co()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Sn(this,"tick"),this.aa&&(XS(this),this.start()))}};se.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=co())};function XS(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}se.G=function(){Kv.X.G.call(this),XS(this),delete this.a};function QS(t,e,n){if(typeof t=="function")n&&(t=Mn(t,n));else if(t&&typeof t.handleEvent=="function")t=Mn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ee.setTimeout(t,e||0)}function tL(t){t.a=QS(function(){t.a=null,t.c&&(t.c=!1,tL(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var tQ=function(t){N7(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:tL(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ee.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Fs);function sh(t){Fs.call(this),this.b=t,this.a={}}Yn(sh,Fs);var nL=[];function rL(t,e,n,r){Array.isArray(n)||(n&&(nL[0]=n.toString()),n=nL);for(var i=0;i<n.length;i++){var o=VS(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function iL(t){DS(t.a,function(e,n){this.a.hasOwnProperty(n)&&jS(e)},t),t.a={}}sh.prototype.G=function(){sh.X.G.call(this),iL(this)};sh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function JS(){this.a=!0}function nQ(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",l=o.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var f=d[0];d=d[1];var p=f.split("_");a=2<=p.length&&p[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function rQ(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function cu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+oQ(t,n)+(r?" "+r:"")})}function iQ(t,e){t.info(function(){return"TIMEOUT: "+e})}JS.prototype.info=function(){};function oQ(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return GS(n)}catch(l){return e}}var dl={},oL=null;function $v(){return oL=oL||new Mr}dl.Fa="serverreachability";function sL(t){Ln.call(this,dl.Fa,t)}Yn(sL,Ln);function ah(t){var e=$v();Sn(e,new sL(e,t))}dl.STAT_EVENT="statevent";function aL(t,e){Ln.call(this,dl.STAT_EVENT,t),this.stat=e}Yn(aL,Ln);function Jn(t){var e=$v();Sn(e,new aL(e,t))}dl.Ga="timingevent";function lL(t){Ln.call(this,dl.Ga,t)}Yn(lL,Ln);function lh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){t()},e)}var Yv={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},cL={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function uL(){}uL.prototype.a=null;function dL(t){var e;return(e=t.a)||(e=t.a={}),e}function fL(){}var ch={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ZS(){Ln.call(this,"d")}Yn(ZS,Ln);function ex(){Ln.call(this,"c")}Yn(ex,Ln);var hL;function pL(){}Yn(pL,uL);hL=new pL;function uh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new sh(this),this.P=sQ,t=OS?125:void 0,this.R=new Kv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var sQ=45e3,mL={},tx={};se=uh.prototype;se.setTimeout=function(t){this.P=t};function nx(t,e,n){t.H=1,t.i=tg(Go(e)),t.j=n,t.I=!0,vL(t,null)}function vL(t,e){t.u=co(),dh(t),t.l=Go(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),xL(n.b,"t",r),t.D=0,t.a=zL(t.g,t.g.C?e:null),0<t.O&&(t.F=new tQ(Mn(t.Ca,t,t.a),t.O)),rL(t.J,t.a,"readystatechange",t.Xa),e=t.B?UM(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ah(1),nQ(t.c,t.m,t.l,t.f,t.S,t.j)}se.Xa=function(t){t=t.target;var e=this.F;e&&Hs(t)==3?e.f():this.Ca(t)};se.Ca=function(t){try{if(t==this.a)e:{var e=Hs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!OS&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?ah(3):ah(2)),Xv(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=i==200,rQ(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bv(a)){var c=a;break t}}c=null}if(c)cu(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,rx(this,c);else{this.b=!1,this.h=3,Jn(12),uu(this),Qv(this);break e}}this.I?(gL(this,e,o),OS&&this.b&&e==3&&(rL(this.J,this.R,"tick",this.Wa),this.R.start())):(cu(this.c,this.f,o,null),rx(this,o)),e==4&&uu(this),this.b&&!this.A&&(e==4?HL(this.g,this):(this.b=!1,dh(this)))}else i==400&&0<o.indexOf("Unknown SID")?(this.h=3,Jn(12)):(this.h=0,Jn(13)),uu(this),Qv(this)}}}catch(d){}finally{}};function gL(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=aQ(t,n);if(i==tx){e==4&&(t.h=4,Jn(14),r=!1),cu(t.c,t.f,null,"[Incomplete Response]");break}else if(i==mL){t.h=4,Jn(15),cu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else cu(t.c,t.f,i,null),rx(t,i)}e==4&&n.length==0&&(t.h=1,Jn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),hx(e),e.F=!0,Jn(11))):(cu(t.c,t.f,n,"[Invalid Chunked Response]"),uu(t),Qv(t))}se.Wa=function(){if(this.a){var t=Hs(this.a),e=this.a.$();this.D<e.length&&(Xv(this),gL(this,t,e),this.b&&t!=4&&dh(this))}};function aQ(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?tx:(n=Number(e.substring(n,r)),isNaN(n)?mL:(r+=1,r+n>e.length?tx:(e=e.substr(r,n),t.D=r+n,e)))}se.cancel=function(){this.A=!0,uu(this)};function dh(t){t.T=co()+t.P,yL(t,t.P)}function yL(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=lh(Mn(t.Va,t),e)}function Xv(t){t.o&&(Ee.clearTimeout(t.o),t.o=null)}se.Va=function(){this.o=null;var t=co();0<=t-this.T?(iQ(this.c,this.l),this.H!=2&&(ah(3),Jn(17)),uu(this),this.h=2,Qv(this)):yL(this,this.T-t)};function Qv(t){t.g.v==0||t.A||HL(t.g,t)}function uu(t){Xv(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,XS(t.R),iL(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function rx(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||sx(n.b,t))){if(n.I=t.N,!t.C&&sx(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch(w){r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)sg(n),ig(n);else break e;fx(n),Jn(18)}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=lh(Mn(n.Sa,n),6e3));if(1>=IL(n.b)&&n.ea){try{n.ea()}catch(w){}n.ea=void 0}}else pl(n,11)}else if((t.C||n.a==t)&&sg(n),!Bv(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var o=i[3];o!=null&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var d=t.a;if(d){var f=d.a?d.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var p=c.b;!p.a&&(Xn(f,"spdy")||Xn(f,"quic")||Xn(f,"h2"))&&(p.f=p.g,p.a=new Set,p.b&&(ax(p,p.b),p.b=null))}if(c.A){var m=d.a?d.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,gt(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=co()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var g=t;if(c.la=qL(c,c.C?c.ga:null,c.fa),g.C){RL(c.b,g);var y=g,_=c.D;_&&y.setTimeout(_),y.o&&(Xv(y),dh(y)),c.a=g}else UL(c);0<n.g.length&&og(n)}else i[0]!="stop"&&i[0]!="close"||pl(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?pl(n,7):ux(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}ah(4)}catch(w){}}function lQ(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(TS(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function ix(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(TS(t)||typeof t=="string")MM(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(TS(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=lQ(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function du(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof du)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}se=du.prototype;se.K=function(){ox(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};se.L=function(){return ox(this),this.a.concat()};function ox(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];fl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],fl(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}se.get=function(t,e){return fl(this.b,t)?this.b[t]:e};se.set=function(t,e){fl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};se.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function fl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var bL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hl(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof hl){this.a=e!==void 0?e:t.a,Jv(this,t.f),this.j=t.j,Zv(this,t.c),eg(this,t.h),this.g=t.g,e=t.b;var n=new ph;n.c=e.c,e.a&&(n.a=new du(e.a),n.b=e.b),_L(this,n),this.i=t.i}else t&&(n=String(t).match(bL))?(this.a=!!e,Jv(this,n[1]||"",!0),this.j=fh(n[2]||""),Zv(this,n[3]||"",!0),eg(this,n[4]),this.g=fh(n[5]||"",!0),_L(this,n[6]||"",!0),this.i=fh(n[7]||"")):(this.a=!!e,this.b=new ph(null,this.a))}hl.prototype.toString=function(){var t=[],e=this.f;e&&t.push(hh(e,wL,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(hh(e,wL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(hh(n,n.charAt(0)=="/"?pQ:hQ,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",hh(n,vQ)),t.join("")};function Go(t){return new hl(t)}function Jv(t,e,n){t.f=n?fh(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Zv(t,e,n){t.c=n?fh(e,!0):e}function eg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _L(t,e,n){e instanceof ph?(t.b=e,gQ(t.b,t.a)):(n||(e=hh(e,mQ)),t.b=new ph(e,t.a))}function gt(t,e,n){t.b.set(e,n)}function tg(t){return gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^co()).toString(36)),t}function uQ(t){return t instanceof hl?Go(t):new hl(t,void 0)}function dQ(t,e,n,r){var i=new hl(null,void 0);return t&&Jv(i,t),e&&Zv(i,e),n&&eg(i,n),r&&(i.g=r),i}function fh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fQ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wL=/[#\/\?@]/g,hQ=/[#\?:]/g,pQ=/[#\?]/g,mQ=/[#\?@]/g,vQ=/#/g;function ph(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Bs(t){t.a||(t.a=new du,t.b=0,t.c&&cQ(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}se=ph.prototype;se.add=function(t,e){Bs(this),this.c=null,t=fu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function EL(t,e){Bs(t),e=fu(t,e),fl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,fl(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ox(t)))}function SL(t,e){return Bs(t),e=fu(t,e),fl(t.a.b,e)}se.forEach=function(t,e){Bs(this),this.a.forEach(function(n,r){MM(n,function(i){t.call(e,i,r,this)},this)},this)};se.L=function(){Bs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};se.K=function(t){Bs(this);var e=[];if(typeof t=="string")SL(this,t)&&(e=LM(e,this.a.get(fu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=LM(e,t[n])}return e};se.set=function(t,e){return Bs(this),this.c=null,t=fu(this,t),SL(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};se.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function xL(t,e,n){EL(t,e),0<n.length&&(t.c=null,t.a.set(fu(t,e),IS(n)),t.b+=n.length)}se.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};function fu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function gQ(t,e){e&&!t.f&&(Bs(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(EL(this,r),xL(this,i,n))},t)),t.f=e}var yQ=function(){function t(e,n){this.b=e,this.a=n}return t}();function TL(t){this.g=t||bQ,Ee.PerformanceNavigationTiming?(t=Ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ee.ia&&Ee.ia.ya&&Ee.ia.ya()&&Ee.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var bQ=10;function CL(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function IL(t){return t.b?1:t.a?t.a.size:0}function sx(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function ax(t,e){t.a?t.a.add(e):t.b=e}function RL(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}TL.prototype.cancel=function(){var t,e;if(this.c=AL(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=OM(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function AL(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=OM(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return IS(t.c)}function lx(){}lx.prototype.stringify=function(t){return Ee.JSON.stringify(t,void 0)};lx.prototype.parse=function(t){return Ee.JSON.parse(t,void 0)};function _Q(){this.a=new lx}function wQ(t,e,n){var r=n||"";try{ix(t,function(i,o){var a=i;rh(i)&&(a=GS(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function EQ(t,e){var n=new JS;if(Ee.Image){var r=new Image;r.onload=Uv(ng,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uv(ng,n,r,"TestLoadImage: error",!1,e),r.onabort=Uv(ng,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uv(ng,n,r,"TestLoadImage: timeout",!1,e),Ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ng(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}var SQ=Ee.JSON.parse;function on(t){Mr.call(this),this.headers=new du,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xQ,this.D=this.F=!1}Yn(on,Mr);var xQ="",TQ=/^https?$/i,CQ=["POST","PUT"];se=on.prototype;se.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?dL(this.H):dL(hL),this.a.onreadystatechange=Mn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){kL(this,o);return}t=n||"";var i=new du(this.headers);r&&ix(r,function(o,a){i.set(a,o)}),r=B7(i.L()),n=Ee.FormData&&t instanceof Ee.FormData,!(0<=PM(CQ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.a.setRequestHeader(a,o)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{OL(this),0<this.o&&((this.D=IQ(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Mn(this.xa,this)):this.m=QS(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){kL(this,o)}};function IQ(t){return Us&&zM(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function RQ(t){return t.toLowerCase()=="content-type"}se.xa=function(){typeof xS!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Sn(this,"timeout"),this.abort(8))};function kL(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,DL(t),rg(t)}function DL(t){t.u||(t.u=!0,Sn(t,"complete"),Sn(t,"error"))}se.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Sn(this,"complete"),Sn(this,"abort"),rg(this))};se.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),rg(this,!0)),on.X.G.call(this)};se.za=function(){this.j||(this.A||this.l||this.g?NL(this):this.Ua())};se.Ua=function(){NL(this)};function NL(t){if(t.b&&typeof xS!="undefined"&&(!t.s[1]||Hs(t)!=4||t.W()!=2)){if(t.l&&Hs(t)==4)QS(t.za,0,t);else if(Sn(t,"readystatechange"),Hs(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.B).match(bL)[1]||null;if(!o&&Ee.self&&Ee.self.location){var a=Ee.self.location.protocol;o=a.substr(0,a.length-1)}i=!TQ.test(o?o.toLowerCase():"")}r=i}var l=r}if(l)Sn(t,"complete"),Sn(t,"success");else{t.h=6;try{var c=2<Hs(t)?t.a.statusText:""}catch(d){c=""}t.f=c+" ["+t.W()+"]",DL(t)}}finally{rg(t)}}}}function rg(t,e){if(t.a){OL(t);var n=t.a,r=t.s[0]?Fv:null;t.a=null,t.s=null,e||Sn(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function OL(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ee.clearTimeout(t.m),t.m=null)}function Hs(t){return t.a?t.a.readyState:0}se.W=function(){try{return 2<Hs(this)?this.a.status:-1}catch(t){return-1}};se.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}};se.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),SQ(e)}};se.ua=function(){return this.h};se.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function AQ(t){var e="";return DS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=AQ(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):gt(t,e,n))}function mh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PL(t){this.pa=0,this.g=[],this.c=new JS,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mh("baseRetryDelayMs",5e3,t),this.Ra=mh("retryDelaySeedMs",1e4,t),this.Ma=mh("forwardChannelMaxRetries",2,t),this.ma=mh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new TL(t&&t.concurrentRequestLimit),this.ka=new _Q,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}se=PL.prototype;se.ha=8;se.v=1;function ux(t){if(ML(t),t.v==3){var e=t.R++,n=Go(t.B);gt(n,"SID",t.J),gt(n,"RID",e),gt(n,"TYPE","terminate"),vh(t,n),e=new uh(t,t.c,e,void 0),e.H=2,e.i=tg(Go(n)),n=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(n=Ee.navigator.sendBeacon(e.i.toString(),"")),!n&&Ee.Image&&(new Image().src=e.i,n=!0),n||(e.a=zL(e.g,null),e.a.ba(e.i)),e.u=co(),dh(e)}jL(t)}function ig(t){t.a&&(hx(t),t.a.cancel(),t.a=null)}function ML(t){ig(t),t.j&&(Ee.clearTimeout(t.j),t.j=null),sg(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&Ee.clearTimeout(t.h),t.h=null)}function dx(t,e){t.g.push(new yQ(t.Oa++,e)),t.v==3&&og(t)}function og(t){CL(t.b)||t.h||(t.h=!0,ZM(t.Ba,t),t.u=0)}function kQ(t,e){return IL(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=lh(Mn(t.Ba,t,e),VL(t,t.u)),t.u++,!0)}se.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new uh(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=UM(n),HM(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var o=this.g[i];if("__data__"in o.a&&(o=o.a.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=FL(this,e,r),i=Go(this.B),gt(i,"RID",t),gt(i,"CVER",22),this.A&&gt(i,"X-HTTP-Session-Id",this.A),vh(this,i),this.i&&n&&cx(i,this.i,n),ax(this.b,e),this.Ia&&gt(i,"TYPE","init"),this.da?(gt(i,"$req",r),gt(i,"SID","null"),e.U=!0,nx(e,i,null)):nx(e,i,r),this.v=2}}else this.v==3&&(t?LL(this,t):this.g.length==0||CL(this.b)||LL(this))};function LL(t,e){var n;e?n=e.f:n=t.R++;var r=Go(t.B);gt(r,"SID",t.J),gt(r,"RID",n),gt(r,"AID",t.P),vh(t,r),t.i&&t.l&&cx(r,t.i,t.l),n=new uh(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=FL(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ax(t.b,n),nx(n,r,e)}function vh(t,e){t.f&&ix({},function(n,r){gt(e,r,n)})}function FL(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Mn(t.f.Ja,t.f,t):null;e:for(var i=t.g,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var l=!0,c=0;c<n;c++){var d=i[c].b,f=i[c].a;if(d-=o,0>d)o=Math.max(0,i[c].b-100),l=!1;else try{wQ(f,a,"req"+d+"_")}catch(p){r&&r(f)}}if(l){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function UL(t){t.a||t.j||(t.T=1,ZM(t.Aa,t),t.o=0)}function fx(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=lh(Mn(t.Aa,t),VL(t,t.o)),t.o++,!0)}se.Aa=function(){if(this.j=null,BL(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=lh(Mn(this.Ta,this),t)}};se.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Jn(10),ig(this),BL(this))};function hx(t){t.s!=null&&(Ee.clearTimeout(t.s),t.s=null)}function BL(t){t.a=new uh(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Go(t.la);gt(e,"RID","rpc"),gt(e,"SID",t.J),gt(e,"CI",t.H?"0":"1"),gt(e,"AID",t.P),vh(t,e),gt(e,"TYPE","xmlhttp"),t.i&&t.l&&cx(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=tg(Go(e)),n.j=null,n.I=!0,vL(n,t)}se.Sa=function(){this.m!=null&&(this.m=null,ig(this),fx(this),Jn(19))};function sg(t){t.m!=null&&(Ee.clearTimeout(t.m),t.m=null)}function HL(t,e){var n=null;if(t.a==e){sg(t),hx(t),t.a=null;var r=2}else if(sx(t.b,e))n=e.s,RL(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=co()-e.u;var i=t.u;r=$v(),Sn(r,new lL(r,n,e,i)),og(t)}else UL(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&kQ(t,e)||r==2&&fx(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:pl(t,5);break;case 4:pl(t,10);break;case 3:pl(t,6);break;default:pl(t,2)}}}function VL(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function pl(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=Mn(t.Ya,t);n||(n=new hl("//www.google.com/images/cleardot.gif"),Ee.location&&Ee.location.protocol=="http"||Jv(n,"https"),tg(n)),EQ(n.toString(),r)}else Jn(2);t.v=0,t.f&&t.f.ra(e),jL(t),ML(t)}se.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Jn(2)):(this.c.info("Failed to ping google.com"),Jn(1))};function jL(t){t.v=0,t.I=-1,t.f&&((AL(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,IS(t.g),t.g.length=0),t.f.qa())}function qL(t,e,n){var r=uQ(n);if(r.c!="")e&&Zv(r,e+"."+r.c),eg(r,r.h);else{var i=Ee.location;r=dQ(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&DS(t.V,function(o,a){gt(r,a,o)}),e=t.A,n=t.na,e&&n&&gt(r,e,n),gt(r,"VER",t.ha),vh(t,r),r}function zL(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new on(t.Na),e.F=t.C,e}function WL(){}se=WL.prototype;se.ta=function(){};se.sa=function(){};se.ra=function(){};se.qa=function(){};se.Ja=function(){};function ag(){if(Us&&!(10<=Number(WM)))throw Error("Environmental error: no available transport.")}ag.prototype.a=function(t,e){return new Lr(t,e)};function Lr(t,e){Mr.call(this),this.a=new PL(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bv(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bv(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new hu(this)}Yn(Lr,Mr);Lr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Jn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=qL(t,null,t.fa),og(t)};Lr.prototype.close=function(){ux(this.a)};Lr.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,dx(this.a,e)}else this.l?(e={},e.__data__=GS(t),dx(this.a,e)):dx(this.a,t)};Lr.prototype.G=function(){this.a.f=null,delete this.f,ux(this.a),delete this.a,Lr.X.G.call(this)};function GL(t){ZS.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Yn(GL,ZS);function KL(){ex.call(this),this.status=1}Yn(KL,ex);function hu(t){this.a=t}Yn(hu,WL);hu.prototype.ta=function(){Sn(this.a,"a")};hu.prototype.sa=function(t){Sn(this.a,new GL(t))};hu.prototype.ra=function(t){Sn(this.a,new KL(t))};hu.prototype.qa=function(){Sn(this.a,"b")};ag.prototype.createWebChannel=ag.prototype.a;Lr.prototype.send=Lr.prototype.h;Lr.prototype.open=Lr.prototype.g;Lr.prototype.close=Lr.prototype.close;Yv.NO_ERROR=0;Yv.TIMEOUT=8;Yv.HTTP_ERROR=6;cL.COMPLETE="complete";fL.EventType=ch;ch.OPEN="a";ch.CLOSE="b";ch.ERROR="c";ch.MESSAGE="d";Mr.prototype.listen=Mr.prototype.va;on.prototype.listenOnce=on.prototype.wa;on.prototype.getLastError=on.prototype.Qa;on.prototype.getLastErrorCode=on.prototype.ua;on.prototype.getStatus=on.prototype.W;on.prototype.getResponseJson=on.prototype.Pa;on.prototype.getResponseText=on.prototype.$;on.prototype.send=on.prototype.ba;var $L=function(){return new ag},YL=function(){return $v()},lg=Yv,XL=cL,QL=dl,px={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},gh=fL,JL=on;ie();mr();var Ko=ei(ro());ie();var Fr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Fr.o=-1;var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return N(e,t),e}(Error),Fi=new Ko.Logger("@firebase/firestore");function mx(){return Fi.logLevel}function Y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fi.logLevel<=Ko.LogLevel.DEBUG){var r=e.map(vx);Fi.debug.apply(Fi,me(["Firestore (8.6.2): "+t],r))}}function Wt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fi.logLevel<=Ko.LogLevel.ERROR){var r=e.map(vx);Fi.error.apply(Fi,me(["Firestore (8.6.2): "+t],r))}}function cg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fi.logLevel<=Ko.LogLevel.WARN){var r=e.map(vx);Fi.warn.apply(Fi,me(["Firestore (8.6.2): "+t],r))}}function vx(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}function ae(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw Wt(e),new Error(e)}function he(t,e){t||ae()}function X(t,e){return t}function DQ(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ZL=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=DQ(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function Fe(t,e){return t<e?-1:t>e?1:0}function pu(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function eF(t){return t+"\0"}var Zn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ae=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Zn(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function tF(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nF(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rF=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ve=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var l=a[o];if(l.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(rF),NQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ai=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return NQ.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;o<n.length;){var c=n[o];if(c==="\\"){if(o+1===n.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=d,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(i+=c,o++):(a(),o++)}if(a(),l)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(rF),mu=function(){function t(e){this.fields=e,e.sort(ai.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return pu(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),er=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Fe(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();er.EMPTY_BYTE_STRING=new er("");var OQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(he(!!t),typeof t=="string"){var e=0,n=OQ.exec(t);if(he(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vu(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}function gx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iF(t){var e=t.mapValue.fields.__previous_value__;return gx(e)?iF(e):e}function bh(t){var e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}function ml(t){return t==null}function ug(t){return t===0&&1/t==-1/0}function oF(t){return typeof t=="number"&&Number.isInteger(t)&&!ug(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var le=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Ve.fromString(e))},t.fromName=function(e){return new t(Ve.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Ve.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Ve.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Ve(e.slice()))},t}();function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gx(t)?4:10:ae()}function uo(t,e){var n=js(t);if(n!==js(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Vs(r.timestampValue),a=Vs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return vu(r.bytesValue).isEqual(vu(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Gt(r.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gt(r.integerValue)===Gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Gt(r.doubleValue),a=Gt(i.doubleValue);return o===a?ug(o)===ug(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return pu(t.arrayValue.values||[],e.arrayValue.values||[],uo);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(tF(o)!==tF(a))return!1;for(var l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!uo(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function _h(t,e){return(t.values||[]).find(function(n){return uo(n,e)})!==void 0}function gu(t,e){var n=js(t),r=js(e);if(n!==r)return Fe(n,r);switch(n){case 0:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=Gt(i.integerValue||i.doubleValue),l=Gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return sF(t.timestampValue,e.timestampValue);case 4:return sF(bh(t),bh(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(i,o){var a=vu(i),l=vu(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),l=o.split("/"),c=0;c<a.length&&c<l.length;c++){var d=Fe(a[c],l[c]);if(d!==0)return d}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=Fe(Gt(i.latitude),Gt(o.latitude));return a!==0?a:Fe(Gt(i.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],l=o.values||[],c=0;c<a.length&&c<l.length;++c){var d=gu(a[c],l[c]);if(d)return d}return Fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(var f=0;f<l.length&&f<d.length;++f){var p=Fe(l[f],d[f]);if(p!==0)return p;var m=gu(a[l[f]],c[d[f]]);if(m!==0)return m}return Fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function sF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);var n=Vs(t),r=Vs(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function yx(t){return bx(t)}function bx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=Vs(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vu(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,le.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,l=r.values||[];a<l.length;a++)o?o=!1:i+=",",i+=bx(l[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];o?o=!1:i+=",",i+=c+":"+bx(r.fields[c])}return i+"}"}(t.mapValue):ae();var e,n}function dg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function _x(t){return!!t&&"integerValue"in t}function wx(t){return!!t&&"arrayValue"in t}function aF(t){return!!t&&"nullValue"in t}function lF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ex(t){return!!t&&"mapValue"in t}var Ur=function(){function t(e){this.overlayMap=new Map,this.partialValue=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(ai.emptyPath())},t.prototype.set=function(e,n){this.setOverlay(e,n)},t.prototype.setAll=function(e){var n=this;e.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},t.prototype.delete=function(e){this.setOverlay(e,null)},t.prototype.isEqual=function(e){return uo(this.buildProto(),e.buildProto())},t.prototype.setOverlay=function(e,n){for(var r=this.overlayMap,i=0;i<e.length-1;++i){var o=e.get(i),a=r.get(o);a instanceof Map?r=a:a&&js(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(o,a),r=a):(a=new Map,r.set(o,a),r=a)}r.set(e.lastSegment(),n)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Ex(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var d=r.applyOverlay(e.child(c),l);d!=null&&(a[c]=d,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var e=this.applyOverlay(ai.emptyPath(),this.overlayMap);return e!=null&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(e,n){if(n.isEmpty())return e;for(var r=e,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!Ex(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function cF(t){var e=[];return yh(t.fields||{},function(n,r){var i=new ai([n]);if(Ex(r)){var o=cF(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,l=o;a<l.length;a++){var c=l[a];e.push(i.child(c))}}else e.push(i)}),new mu(e)}var xn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,Ae.min(),Ur.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ur.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ur.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),PQ=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function uF(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new PQ(t,e,n,r,i,o,a)}function wh(t){var e=X(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+yx(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),ml(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=pg(e.startAt)),e.endAt&&(n+="|ub:",n+=pg(e.endAt)),e.h=n}return e.h}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!jQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!uo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hF(t.startAt,e.startAt)&&hF(t.endAt,e.endAt)}function hg(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Br=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return N(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new MQ(n,r,i):r==="array-contains"?new UQ(n,i):r==="in"?new BQ(n,i):r==="not-in"?new HQ(n,i):r==="array-contains-any"?new VQ(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new LQ(n,i):new FQ(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(gu(r,this.value)):r!==null&&js(this.value)===js(r)&&this.m(gu(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ae()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),MQ=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=le.fromName(i.referenceValue),o}return N(e,t),e.prototype.matches=function(n){var r=le.comparator(n.key,this.key);return this.m(r)},e}(Br),LQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=dF("in",r),i}return N(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Br),FQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=dF("not-in",r),i}return N(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Br);function dF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return le.fromName(r.referenceValue)})}var UQ=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return N(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return wx(r)&&_h(r.arrayValue,this.value)},e}(Br),BQ=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return N(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&_h(this.value.arrayValue,r)},e}(Br),HQ=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return N(e,t),e.prototype.matches=function(n){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!_h(this.value.arrayValue,r)},e}(Br),VQ=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return N(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!wx(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return _h(r.value.arrayValue,o)})},e}(Br),Eh=function(t,e){this.position=t,this.before=e};function pg(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return yx(e)}).join(",")}var yu=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function jQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fF(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?le.comparator(le.fromName(a.referenceValue),n.key):gu(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function hF(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!uo(t.position[n],e.position[n]))return!1;return!0}var $o=function(t,e,n,r,i,o,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function pF(t,e,n,r,i,o,a,l){return new $o(t,e,n,r,i,o,a,l)}function bu(t){return new $o(t)}function mg(t){return!ml(t.limit)&&t.limitType==="F"}function vg(t){return!ml(t.limit)&&t.limitType==="L"}function Sx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xx(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Tx(t){return t.collectionGroup!==null}function _u(t){var e=X(t);if(e.p===null){e.p=[];var n=xx(e),r=Sx(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new yu(n)),e.p.push(new yu(ai.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var l=a[o];e.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new yu(ai.keyField(),c))}}}return e.p}function li(t){var e=X(t);if(!e.T)if(e.limitType==="F")e.T=uF(e.path,e.collectionGroup,_u(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_u(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new yu(o.field,a))}var l=e.endAt?new Eh(e.endAt.position,!e.endAt.before):null,c=e.startAt?new Eh(e.startAt.position,!e.startAt.before):null;e.T=uF(e.path,e.collectionGroup,n,e.filters,e.limit,l,c)}return e.T}function mF(t,e,n){return new $o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sh(t,e){return fg(li(t),li(e))&&t.limitType===e.limitType}function vF(t){return wh(li(t))+"|lt:"+t.limitType}function Cx(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+yx(i.value);var i}).join(", ")+"]"),ml(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+pg(e.startAt)),e.endAt&&(n+=", endAt: "+pg(e.endAt)),"Target("+n+")"}(li(t))+"; limitType="+t.limitType+")"}function xh(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):le.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!fF(n.startAt,_u(n),r))&&(!n.endAt||!fF(n.endAt,_u(n),r))}(t,e)}function gF(t){return function(e,n){for(var r=!1,i=0,o=_u(t);i<o.length;i++){var a=o[i],l=qQ(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function qQ(t,e,n){var r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){var l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?gu(l,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}function yF(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ug(e)?"-0":e}}function bF(t){return{integerValue:""+t}}function _F(t,e){return oF(e)?bF(e):yF(t,e)}var gg=function(){this._=void 0};function zQ(t,e,n){return t instanceof wu?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof vl?EF(t,e):t instanceof gl?SF(t,e):function(r,i){var o=wF(r,i),a=xF(o)+xF(r.A);return _x(o)&&_x(r.A)?bF(a):yF(r.R,a)}(t,e)}function WQ(t,e,n){return t instanceof vl?EF(t,e):t instanceof gl?SF(t,e):n}function wF(t,e){return t instanceof Eu?_x(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var wu=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e}(gg),vl=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return N(e,t),e}(gg);function EF(t,e){for(var n=TF(e),r=function(a){n.some(function(l){return uo(l,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gl=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return N(e,t),e}(gg);function SF(t,e){for(var n=TF(e),r=function(a){n=n.filter(function(l){return!uo(l,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Eu=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return N(e,t),e}(gg);function xF(t){return Gt(t.integerValue||t.doubleValue)}function TF(t){return wx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Th=function(t,e){this.field=t,this.transform=e},GQ=function(t,e){this.version=t,this.transformResults=e},Fn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function yg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var bg=function(){};function KQ(t,e,n){t instanceof Ch?function(r,i,o){var a=r.value.clone(),l=AF(r.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(r,i,o){if(yg(r.precondition,i)){var a=AF(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(RF(r)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ix(t,e,n){t instanceof Ch?function(r,i,o){if(yg(r.precondition,i)){var a=r.value.clone(),l=kF(r.fieldTransforms,o,i);a.setAll(l),i.convertToFoundDocument(IF(i),a).setHasLocalMutations()}}(t,e,n):t instanceof qs?function(r,i,o){if(yg(r.precondition,i)){var a=kF(r.fieldTransforms,o,i),l=i.data;l.setAll(RF(r)),l.setAll(a),i.convertToFoundDocument(IF(i),l).setHasLocalMutations()}}(t,e,n):function(r,i){yg(r.precondition,i)&&i.convertToNoDocument(Ae.min())}(t,e)}function $Q(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),l=wF(o.transform,a||null);l!=null&&(n==null&&(n=Ur.empty()),n.set(o.field,l))}return n||null}function CF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&pu(n,r,function(i,o){return function(a,l){return a.field.isEqual(l.field)&&function(c,d){return c instanceof vl&&d instanceof vl||c instanceof gl&&d instanceof gl?pu(c.elements,d.elements,uo):c instanceof Eu&&d instanceof Eu?uo(c.A,d.A):c instanceof wu&&d instanceof wu}(a.transform,l.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function IF(t){return t.isFoundDocument()?t.version:Ae.min()}var Ch=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return N(e,t),e}(bg),qs=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=o,l.fieldTransforms=a,l.type=1,l}return N(e,t),e}(bg);function RF(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function AF(t,e,n){var r=new Map;he(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,WQ(a,l,n[i]))}return r}function kF(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,zQ(l,c,e))}return r}var Kt,Ue,Ih=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return N(e,t),e}(bg),Rx=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return N(e,t),e}(bg),YQ=function(t){this.count=t};function DF(t){switch(t){case B.OK:return ae();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ae()}}function NF(t){if(t===void 0)return Wt("GRPC error has no .code"),B.UNKNOWN;switch(t){case Kt.OK:return B.OK;case Kt.CANCELLED:return B.CANCELLED;case Kt.UNKNOWN:return B.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return B.INTERNAL;case Kt.UNAVAILABLE:return B.UNAVAILABLE;case Kt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Kt.NOT_FOUND:return B.NOT_FOUND;case Kt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Kt.ABORTED:return B.ABORTED;case Kt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Kt.DATA_LOSS:return B.DATA_LOSS;default:return ae()}}(Ue=Kt||(Kt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";var Un=function(){function t(e,n){this.comparator=e,this.root=n||zs.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zs.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new _g(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new _g(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new _g(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new _g(this.root,e,this.comparator,!0)},t}(),_g=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),zs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();var e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)},t}();zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ae()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ae()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new zs(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var sn=function(){function t(e){this.comparator=e,this.data=new Un(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new OF(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new OF(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),OF=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),XQ=new Un(le.comparator);function ci(){return XQ}var QQ=new Un(le.comparator);function Ax(){return QQ}var JQ=new Un(le.comparator);function PF(){return JQ}var ZQ=new sn(le.comparator);function Xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ZQ,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var e9=new sn(Fe);function wg(){return e9}var kx=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Dx.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ae.min(),r,wg(),ci(),Xe())},t}(),Dx=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(er.EMPTY_BYTE_STRING,n,Xe(),Xe(),Xe())},t}(),Eg=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},MF=function(t,e){this.targetId=t,this.V=e},LF=function(t,e,n,r){n===void 0&&(n=er.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},FF=function(){function t(){this.S=0,this.D=BF(),this.C=er.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=Xe(),n=Xe(),r=Xe();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Dx(this.C,this.N,e,n,r)},t.prototype.L=function(){this.F=!1,this.D=BF()},t.prototype.B=function(e,n){this.F=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),t9=function(){function t(e){this.W=e,this.G=new Map,this.H=ci(),this.J=UF(),this.Y=new sn(Fe)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.$(e.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(e.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(e.resumeToken));break;default:ae()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(hg(o))if(r===0){var a=new le(o.path);this.tt(n,a,xn.newNoDocument(a,Ae.min()))}else he(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.at=function(e){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&hg(c.target)){var d=new le(c.target.path);n.H.get(d)!==null||n.ut(l,d)||n.tt(l,d,xn.newNoDocument(d,e))}a.O&&(r.set(l,a.M()),a.L())}});var i=Xe();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(d){var f=n.ot(d);return!f||f.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var o=new kx(e,r,this.Y,this.H,i);return this.H=ci(),this.J=UF(),this.Y=new sn(Fe),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.ut(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.ut(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new FF,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new sn(Fe),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.k?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new FF),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.ut=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function UF(){return new Un(le.comparator)}function BF(){return new Un(le.comparator)}var n9={asc:"ASCENDING",desc:"DESCENDING"},r9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i9=function(t,e){this.databaseId=t,this.I=e};function Rh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function HF(t,e){return t.I?e.toBase64():e.toUint8Array()}function o9(t,e){return Rh(t,e.toTimestamp())}function fn(t){return he(!!t),Ae.fromTimestamp(function(e){var n=Vs(e);return new Zn(n.seconds,n.nanos)}(t))}function Nx(t,e){return function(n){return new Ve(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function VF(t){var e=Ve.fromString(t);return he(ZF(e)),e}function Ah(t,e){return Nx(t.databaseId,e.path)}function fo(t,e){var n=VF(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(qF(n))}function Ox(t,e){return Nx(t.databaseId,e)}function jF(t){var e=VF(t);return e.length===4?Ve.emptyPath():qF(e)}function kh(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qF(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zF(t,e,n){return{name:Ah(t,e),fields:n.toProto().mapValue.fields}}function WF(t,e,n){var r=fo(t,e.name),i=fn(e.updateTime),o=new Ur({mapValue:{fields:e.fields}}),a=xn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Sg(t,e){var n;if(e instanceof Ch)n={update:zF(t,e.key,e.value)};else if(e instanceof Ih)n={delete:Ah(t,e.key)};else if(e instanceof qs)n={update:zF(t,e.key,e.data),updateMask:u9(e.fieldMask)};else{if(!(e instanceof Rx))return ae();n={verify:Ah(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof wu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),increment:a.A};throw ae()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:o9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function GF(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?Fn.updateTime(fn(d.updateTime)):d.exists!==void 0?Fn.exists(d.exists):Fn.none()}(e.currentDocument):Fn.none(),r=e.updateTransforms?e.updateTransforms.map(function(d){return function(f,p){var m=null;if("setToServerValue"in p)he(p.setToServerValue==="REQUEST_TIME"),m=new wu;else if("appendMissingElements"in p){var g=p.appendMissingElements.values||[];m=new vl(g)}else if("removeAllFromArray"in p){var y=p.removeAllFromArray.values||[];m=new gl(y)}else"increment"in p?m=new Eu(f,p.increment):ae();var _=ai.fromServerFormat(p.fieldPath);return new Th(_,m)}(t,d)}):[];if(e.update){e.update.name;var i=fo(t,e.update.name),o=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var f=d.fieldPaths||[];return new mu(f.map(function(p){return ai.fromServerFormat(p)}))}(e.updateMask);return new qs(i,o,a,n,r)}return new Ch(i,o,n,r)}if(e.delete){var l=fo(t,e.delete);return new Ih(l,n)}if(e.verify){var c=fo(t,e.verify);return new Rx(c,n)}return ae()}function KF(t,e){return{documents:[Ox(t,e.path)]}}function $F(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ox(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ox(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(d){return function(f){if(f.op==="=="){if(lF(f.value))return{unaryFilter:{field:Su(f.field),op:"IS_NAN"}};if(aF(f.value))return{unaryFilter:{field:Su(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(lF(f.value))return{unaryFilter:{field:Su(f.field),op:"IS_NOT_NAN"}};if(aF(f.value))return{unaryFilter:{field:Su(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(f.field),op:a9(f.op),value:f.value}}}(d)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(l){if(l.length!==0)return l.map(function(c){return function(d){return{field:Su(d.field),direction:s9(d.dir)}}(c)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(l,c){return l.I||ml(c)?c:{value:c}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=QF(e.startAt)),e.endAt&&(n.structuredQuery.endAt=QF(e.endAt)),n}function YF(t){var e=jF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){he(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=XF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(p){return function(m){return new yu(xu(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p)}));var c=null;n.limit&&(c=function(p){var m;return ml(m=typeof p=="object"?p.value:p)?null:m}(n.limit));var d=null;n.startAt&&(d=JF(n.startAt));var f=null;return n.endAt&&(f=JF(n.endAt)),pF(e,i,l,a,c,"F",d,f)}function XF(t){return t?t.unaryFilter!==void 0?[c9(t)]:t.fieldFilter!==void 0?[l9(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return XF(e)}).reduce(function(e,n){return e.concat(n)}):ae():[]}function QF(t){return{before:t.before,values:t.position}}function JF(t){var e=!!t.before,n=t.values||[];return new Eh(n,e)}function s9(t){return n9[t]}function a9(t){return r9[t]}function Su(t){return{fieldPath:t.canonicalString()}}function xu(t){return ai.fromServerFormat(t.fieldPath)}function l9(t){return Br.create(xu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}function c9(t){switch(t.unaryFilter.op){case"IS_NAN":var e=xu(t.unaryFilter.field);return Br.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=xu(t.unaryFilter.field);return Br.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xu(t.unaryFilter.field);return Br.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xu(t.unaryFilter.field);return Br.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ae()}}function u9(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function ZF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=e2(e)),e=d9(t.get(n),e);return e2(e)}function d9(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function e2(t){return t+""}function Yo(t){var e=t.length;if(he(e>=2),e===2)return he(t.charAt(0)===""&&t.charAt(1)===""),Ve.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&ae(),t.charAt(a+1)){case"":var l=t.substring(o,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ae()}o=a+2}return new Ve(r)}var f9=function(t,e){this.seconds=t,this.nanoseconds=e},Hr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Hr.store="owner",Hr.key="owner";var Ws=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ws.store="mutationQueues",Ws.keyPath="userId";var ut=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ut.store="mutations",ut.keyPath="batchId",ut.userMutationsIndex="userMutationsIndex",ut.userMutationsKeyPath=["userId","batchId"];var Bn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Ui(n)]},t.key=function(e,n,r){return[e,Ui(n),r]},t}();Bn.store="documentMutations",Bn.PLACEHOLDER=new Bn;var h9=function(t,e){this.path=t,this.readTime=e},p9=function(t,e){this.path=t,this.version=e},It=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};It.store="remoteDocuments",It.readTimeIndex="readTimeIndex",It.readTimeIndexPath="readTime",It.collectionReadTimeIndex="collectionReadTimeIndex",It.collectionReadTimeIndexPath=["parentPath","readTime"];var ho=function(t){this.byteSize=t};ho.store="remoteDocumentGlobal",ho.key="remoteDocumentGlobalKey";var gr=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};gr.store="targets",gr.keyPath="targetId",gr.queryTargetsIndexName="queryTargetsIndex",gr.queryTargetsKeyPath=["canonicalId","targetId"];var Tn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Tn.store="targetDocuments",Tn.keyPath=["targetId","path"],Tn.documentTargetsIndex="documentTargetsIndex",Tn.documentTargetsKeyPath=["path","targetId"];var Vr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Vr.key="targetGlobalKey",Vr.store="targetGlobal";var yl=function(t,e){this.collectionId=t,this.parent=e};yl.store="collectionParents",yl.keyPath=["collectionId","parent"];var Xo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xo.store="clientMetadata",Xo.keyPath="clientId";var Tu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tu.store="bundles",Tu.keyPath="bundleId";var Cu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Cu.store="namedQueries",Cu.keyPath="name";var m9=me(me([],me(me([],me(me([],me(me([],[Ws.store,ut.store,Bn.store,It.store,gr.store,Hr.store,Vr.store,Tn.store]),[Xo.store])),[ho.store])),[yl.store])),[Tu.store,Cu.store]),t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",n2=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),tr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},G=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(l){++i,l.next(function(){++o,a&&o===i&&n()},function(c){return r(c)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),r2=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new tr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Dh(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Px(i.target.error);r.ft.reject(new Dh(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Dh(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new g9(n)},t}(),Iu=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(Vo())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return Y("SimpleDb","Removing database:",e),_l(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB=="undefined")return!1;if(t.gt())return!0;var e=Vo(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return P(this,void 0,void 0,function(){var n,r=this;return O(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Y("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var d=c.target.result;o(d)},l.onblocked=function(){a(new Dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var d=c.target.error;d.name==="VersionError"?a(new q(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Dh(e,d))},l.onupgradeneeded=function(c){Y("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var d=c.target.result;r.wt.Rt(d,l.transaction,c.oldVersion,r.version).next(function(){Y("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return P(this,void 0,void 0,function(){var o,a,l,c,d;return O(this,function(f){switch(f.label){case 0:o=n==="readonly",a=0,l=function(){var p,m,g,y,_;return O(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,c.At(e)];case 2:return c.db=w.sent(),p=r2.open(c.db,e,o?"readonly":"readwrite",r),m=i(p).catch(function(S){return p.abort(S),G.reject(S)}).toPromise(),g={},m.catch(function(){}),[4,p.dt];case 3:return[2,(g.value=(w.sent(),m),g)];case 4:return y=w.sent(),_=y.name!=="FirebaseError"&&a<3,Y("SimpleDb","Transaction failed with error:",y.message,"Retrying:",_),c.close(),_?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},c=this,f.label=1;case 1:return[5,l()];case 2:if(typeof(d=f.sent())=="object")return[2,d.value];f.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),v9=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return _l(this.Pt.delete())},t}(),Dh=function(t){function e(n,r){var i=this;return(i=t.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return N(e,t),e}(q);function bl(t){return t.name==="IndexedDbTransactionError"}var g9=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(Y("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_l(r)},t.prototype.add=function(e){return Y("SimpleDb","ADD",this.store.name,e,e),_l(this.store.add(e))},t.prototype.get=function(e){var n=this;return _l(this.store.get(e)).next(function(r){return r===void 0&&(r=null),Y("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return Y("SimpleDb","DELETE",this.store.name,e),_l(this.store.delete(e))},t.prototype.count=function(){return Y("SimpleDb","COUNT",this.store.name),_l(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.Ft=function(e,n){Y("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(o,a,l){return l.delete()})},t.prototype.Ot=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.$t=function(e){var n=this.cursor({});return new G(function(r,i){n.onerror=function(o){var a=Px(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new G(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var c=new v9(l),d=n(l.primaryKey,l.value,c);if(d instanceof G){var f=d.catch(function(p){return c.done(),G.reject(p)});r.push(f)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return G.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.kt?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function _l(t){return new G(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=Px(r.target.error);n(i)}})}var i2=!1;function Px(t){var e=Iu._t(Vo());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return i2||(i2=!0,setTimeout(function(){throw r},0)),r}}return t}var o2=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return N(e,t),e}(n2);function yr(t,e){var n=X(t);return Iu.It(n.Mt,e)}var Mx=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&KQ(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&Ix(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&Ix(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(Ae.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Xe())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,function(n,r){return CF(n,r)})&&pu(this.baseMutations,e.baseMutations,function(n,r){return CF(n,r)})},t}(),y9=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){he(e.mutations.length===r.length);for(var i=PF(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),xg=function(){function t(e,n,r,i,o,a,l){o===void 0&&(o=Ae.min()),a===void 0&&(a=Ae.min()),l===void 0&&(l=er.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),s2=function(t){this.Lt=t};function Lx(t,e){if(e.document)return WF(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=le.fromSegments(e.noDocument.path),r=Au(e.noDocument.readTime),i=xn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=le.fromSegments(e.unknownDocument.path);return r=Au(e.unknownDocument.version),xn.newUnknownDocument(o,r)}return ae()}function a2(t,e,n){var r=Fx(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(p,m){return{name:Ah(p,m.key),fields:m.data.toProto().mapValue.fields,updateTime:Rh(p,m.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new It(null,null,o,a,r,i)}if(e.isNoDocument()){var l=e.key.path.toArray(),c=Ru(e.version);return a=e.hasCommittedMutations,new It(null,new h9(l,c),null,a,r,i)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),f=Ru(e.version);return new It(new p9(d,f),null,null,!0,r,i)}return ae()}function Fx(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function l2(t){var e=new Zn(t[0],t[1]);return Ae.fromTimestamp(e)}function Ru(t){var e=t.toTimestamp();return new f9(e.seconds,e.nanoseconds)}function Au(t){var e=new Zn(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function ku(t,e){for(var n=(e.baseMutations||[]).map(function(c){return GF(t.Lt,c)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(c){return GF(t.Lt,c)}),l=Zn.fromMillis(e.localWriteTimeMs);return new Mx(e.batchId,l,n,a)}function Nh(t){var e,n,r=Au(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Au(t.lastLimboFreeSnapshotVersion):Ae.min();return t.query.documents!==void 0?(he((n=t.query).documents.length===1),e=li(bu(jF(n.documents[0])))):e=function(o){return li(YF(o))}(t.query),new xg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,er.fromBase64String(t.resumeToken))}function c2(t,e){var n,r=Ru(e.snapshotVersion),i=Ru(e.lastLimboFreeSnapshotVersion);n=hg(e.target)?KF(t.Lt,e.target):$F(t.Lt,e.target);var o=e.resumeToken.toBase64();return new gr(e.targetId,wh(e.target),r,o,e.sequenceNumber,i,n)}function Ux(t){var e=YF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mF(e,e.limit,"L"):e}var b9=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return u2(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Au(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return u2(e).put({bundleId:(r=n).id,createTime:Ru(fn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return d2(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:Ux(i.bundledQuery),readTime:Au(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return d2(e).put(function(r){return{name:r.name,readTime:Ru(fn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function u2(t){return yr(t,Tu.store)}function d2(t){return yr(t,Cu.store)}var _9=function(){function t(){this.Bt=new Bx}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),G.resolve()},t.prototype.getCollectionParents=function(e,n){return G.resolve(this.Bt.getEntries(n))},t}(),Bx=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new sn(Ve.comparator)).toArray()},t}(),w9=function(){function t(){this.qt=new Bx}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Ui(o)};return f2(e).put(a)}return G.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[eF(n),""],!1,!0);return f2(e).Nt(i).next(function(o){for(var a=0,l=o;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Yo(c.parent))}return r})},t}();function f2(t){return yr(t,yl.store)}var h2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},po=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function p2(t,e,n){var r=t.store(ut.store),i=t.store(Bn.store),o=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.Ot({range:a},function(y,_,w){return l++,w.delete()});o.push(c.next(function(){he(l===1)}));for(var d=[],f=0,p=n.mutations;f<p.length;f++){var m=p[f],g=Bn.key(e,m.key.path,n.batchId);o.push(i.delete(g)),d.push(m.key)}return G.waitFor(o).next(function(){return d})}function Tg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ae();e=t.noDocument}return JSON.stringify(e).length}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);var E9=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return t.Kt=function(e,n,r,i){return he(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gs(e).Ot({index:ut.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=Du(e),l=Gs(e);return l.add({}).next(function(c){he(typeof c=="number");for(var d=new Mx(c,n,r,i),f=function(S,C,R){var k=R.baseMutations.map(function(L){return Sg(S.Lt,L)}),F=R.mutations.map(function(L){return Sg(S.Lt,L)});return new ut(C,R.batchId,R.localWriteTime.toMillis(),k,F)}(o.R,o.userId,d),p=[],m=new sn(function(S,C){return Fe(S.canonicalString(),C.canonicalString())}),g=0,y=i;g<y.length;g++){var _=y[g],w=Bn.key(o.userId,_.key.path,c);m=m.add(_.key.path.popLast()),p.push(l.put(f)),p.push(a.put(w,Bn.PLACEHOLDER))}return m.forEach(function(S){p.push(o.Ut.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(function(){o.Qt[c]=d.keys()}),G.waitFor(p).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return Gs(e).get(n).next(function(i){return i?(he(i.userId===r.userId),ku(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Qt[n]?G.resolve(this.Qt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Qt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Gs(e).Ot({index:ut.userMutationsIndex,range:o},function(l,c,d){c.userId===r.userId&&(he(c.batchId>=i),a=ku(r.R,c)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Gs(e).Ot({index:ut.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gs(e).Nt(ut.userMutationsIndex,r).next(function(i){return i.map(function(o){return ku(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=Bn.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return Du(e).Ot({range:o},function(l,c,d){var f=l[0],p=l[1],m=l[2],g=Yo(p);if(f===r.userId&&n.path.isEqual(g))return Gs(e).get(m).next(function(y){if(!y)throw ae();he(y.userId===r.userId),a.push(ku(r.R,y))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new sn(Fe),o=[];return n.forEach(function(a){var l=Bn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),d=Du(e).Ot({range:c},function(f,p,m){var g=f[0],y=f[1],_=f[2],w=Yo(y);g===r.userId&&a.path.isEqual(w)?i=i.add(_):m.done()});o.push(d)}),G.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=Bn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new sn(Fe);return Du(e).Ot({range:l},function(d,f,p){var m=d[0],g=d[1],y=d[2],_=Yo(g);m===r.userId&&i.isPrefixOf(_)?_.length===o&&(c=c.add(y)):p.done()}).next(function(){return r.Wt(e,c)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(Gs(e).get(a).next(function(l){if(l===null)throw ae();he(l.userId===r.userId),i.push(ku(r.R,l))}))}),G.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return p2(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),G.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Qt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return G.resolve();var i=IDBKeyRange.lowerBound(Bn.prefixForUser(n.userId)),o=[];return Du(e).Ot({range:i},function(a,l,c){if(a[0]===n.userId){var d=Yo(a[1]);o.push(d)}else c.done()}).next(function(){he(o.length===0)})})},t.prototype.containsKey=function(e,n){return m2(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return v2(e).get(this.userId).next(function(r){return r||new Ws(n.userId,-1,"")})},t}();function m2(t,e,n){var r=Bn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Du(t).Ot({range:o,kt:!0},function(l,c,d){var f=l[0],p=l[1];l[2],f===e&&p===i&&(a=!0),d.done()}).next(function(){return a})}function Gs(t){return yr(t,ut.store)}function Du(t){return yr(t,Bn.store)}function v2(t){return yr(t,Ws.store)}var Cg=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),S9=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new Cg(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Ae.fromTimestamp(new Zn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return Nu(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return he(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return Nu(e).Ot(function(l,c){var d=Nh(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(o++,a.push(i.removeTargetData(e,d)))}).next(function(){return G.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return Nu(e).Ot(function(r,i){var o=Nh(i);n(o)})},t.prototype.Xt=function(e){return g2(e).get(Vr.key).next(function(n){return he(n!==null),n})},t.prototype.Zt=function(e,n){return g2(e).put(Vr.key,n)},t.prototype.te=function(e,n){return Nu(e).put(c2(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=wh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Nu(e).Ot({range:i,index:gr.queryTargetsIndexName},function(a,l,c){var d=Nh(l);fg(n,d.target)&&(o=d,c.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=Ks(e);return n.forEach(function(l){var c=Ui(l.path);o.push(a.put(new Tn(r,c))),o.push(i.referenceDelegate.addReference(e,r,l))}),G.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=Ks(e);return G.forEach(n,function(a){var l=Ui(a.path);return G.waitFor([o.delete([r,l]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Ks(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ks(e),o=Xe();return i.Ot({range:r,kt:!0},function(a,l,c){var d=Yo(a[1]),f=new le(d);o=o.add(f)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=Ui(n.path),i=IDBKeyRange.bound([r],[eF(r)],!1,!0),o=0;return Ks(e).Ot({index:Tn.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var d=a[0];a[1],d!==0&&(o++,c.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return Nu(e).get(n).next(function(r){return r?Nh(r):null})},t}();function Nu(t){return yr(t,gr.store)}function g2(t){return yr(t,Vr.store)}function Ks(t){return yr(t,Tn.store)}function wl(t){return P(this,void 0,void 0,function(){return O(this,function(e){if(t.code!==B.FAILED_PRECONDITION||t.message!==t2)throw t;return Y("LocalStore","Unexpectedly lost primary lease"),[2]})})}function y2(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Fe(n,i);return a===0?Fe(r,o):a}var x9=function(){function t(e){this.ne=e,this.buffer=new sn(y2),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();y2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),T9=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ae(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ae=function(e){var n=this,r=this.oe?3e5:6e4;Y("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return P(n,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return bl(i=o.sent())?(Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,wl(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ae(e)];case 8:return o.sent(),[2]}})})})},t}(),C9=function(){function t(e,n){this.ue=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ue.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return G.resolve(Fr.o);var i=new x9(n);return this.ue.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ue.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ue.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ue.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(h2)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),h2):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ue.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,l,c,d,f=this,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(m){return m>f.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+m),i=f.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),f.nthSequenceNumber(e,i)}).next(function(m){return r=m,l=Date.now(),f.removeTargets(e,r,n)}).next(function(m){return o=m,c=Date.now(),f.removeOrphanedDocuments(e,r)}).next(function(m){return d=Date.now(),mx()<=Ko.LogLevel.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-p)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+o+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(d-c)+`ms
Total Duration: `+(d-p)+"ms"),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})})},t}(),I9=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new C9(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return Ig(e,r)},t.prototype.removeReference=function(e,n,r){return Ig(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return Ig(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return v2(r).$t(function(a){return m2(r,a,i).next(function(l){return l&&(o=!0),G.resolve(!l)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(l,c){if(c<=n){var d=r._e(e,l).next(function(f){if(!f)return a++,i.getEntry(e,l).next(function(){return i.removeEntry(l),Ks(e).delete([0,Ui(l.path)])})});o.push(d)}}).next(function(){return G.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return Ig(e,n)},t.prototype.we=function(e,n){var r,i=Ks(e),o=Fr.o;return i.Ot({index:Tn.documentTargetsIndex},function(a,l){var c=a[0],d=(a[1],l.path),f=l.sequenceNumber;c===0?(o!==Fr.o&&n(new le(Yo(r)),o),o=f,r=d):o=Fr.o}).next(function(){o!==Fr.o&&n(new le(Yo(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Ig(t,e){return Ks(t).put(function(n,r){return new Tn(0,Ui(n.path),r)}(e,t.currentSequenceNumber))}var Ou=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],l=a[0],c=a[1];if(this.equalsFn(l,e))return c}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){yh(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],l=a[0],c=a[1];e(l,c)}})},t.prototype.isEmpty=function(){return nF(this.inner)},t}(),b2=function(){function t(){this.changes=new Ou(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Ae.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:xn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?G.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),R9=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return $s(e).put(Rg(n),r)},t.prototype.removeEntry=function(e,n){var r=$s(e),i=Rg(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return $s(e).get(Rg(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return $s(e).get(Rg(n)).next(function(i){return{document:r.ye(n,i),size:Tg(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=ci();return this.pe(e,n,function(o,a){var l=r.ye(o,a);i=i.insert(o,l)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=ci(),o=new Un(le.comparator);return this.pe(e,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),o=o.insert(a,Tg(l))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return G.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return $s(e).Ot({range:i},function(l,c,d){for(var f=le.fromSegments(l);a&&le.comparator(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=ci(),a=n.path.length+1,l={};if(r.isEqual(Ae.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var d=n.path.toArray(),f=Fx(r);l.range=IDBKeyRange.lowerBound([d,f],!0),l.index=It.collectionReadTimeIndex}return $s(e).Ot(l,function(p,m,g){if(p.length===a){var y=Lx(i.R,m);n.path.isPrefixOf(y.key.path)?xh(n,y)&&(o=o.insert(y.key,y)):g.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new A9(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return _2(e).get(ho.key).next(function(n){return he(!!n),n})},t.prototype.me=function(e,n){return _2(e).put(ho.key,n)},t.prototype.ye=function(e,n){if(n){var r=Lx(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ae.min()))return r}return xn.newInvalidDocument(e)},t}(),A9=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Ou(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return N(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new sn(function(l,c){return Fe(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var d=r.Ae.get(l);if(c.document.isValidDocument()){var f=a2(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var p=Tg(f);o+=p-d,i.push(r.Ie.addEntry(n,l,f))}else if(o-=d,r.trackRemovals){var m=a2(r.Ie.R,xn.newNoDocument(l,Ae.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,o)),G.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},e}(b2);function _2(t){return yr(t,ho.store)}function $s(t){return yr(t,It.store)}function Rg(t){return t.path.toArray()}var k9=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;he(r<i&&r>=0&&i<=11);var a=new r2("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Hr.store)}(e),function(c){c.createObjectStore(Ws.store,{keyPath:Ws.keyPath}),c.createObjectStore(ut.store,{keyPath:ut.keyPath,autoIncrement:!0}).createIndex(ut.userMutationsIndex,ut.userMutationsKeyPath,{unique:!0}),c.createObjectStore(Bn.store)}(e),w2(e),function(c){c.createObjectStore(It.store)}(e));var l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Tn.store),c.deleteObjectStore(gr.store),c.deleteObjectStore(Vr.store)}(e),w2(e)),l=l.next(function(){return function(c){var d=c.store(Vr.store),f=new Vr(0,0,Ae.min().toTimestamp(),0);return d.put(Vr.key,f)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,d){return d.store(ut.store).Nt().next(function(f){c.deleteObjectStore(ut.store),c.createObjectStore(ut.store,{keyPath:ut.keyPath,autoIncrement:!0}).createIndex(ut.userMutationsIndex,ut.userMutationsKeyPath,{unique:!0});var p=d.store(ut.store),m=f.map(function(g){return p.put(g)});return G.waitFor(m)})}(e,a)})),l=l.next(function(){(function(c){c.createObjectStore(Xo.store,{keyPath:Xo.keyPath})})(e)})),r<5&&i>=5&&(l=l.next(function(){return o.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(ho.store)}(e),o.be(a)})),r<7&&i>=7&&(l=l.next(function(){return o.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e),function(c){var d=c.objectStore(It.store);d.createIndex(It.readTimeIndex,It.readTimeIndexPath,{unique:!1}),d.createIndex(It.collectionReadTimeIndex,It.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return o.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(Tu.store,{keyPath:Tu.keyPath})})(e),function(c){c.createObjectStore(Cu.store,{keyPath:Cu.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(It.store).Ot(function(r,i){n+=Tg(i)}).next(function(){var r=new ho(n);return e.store(ho.store).put(ho.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Ws.store),i=e.store(ut.store);return r.Nt().next(function(o){return G.forEach(o,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ut.userMutationsIndex,l).next(function(c){return G.forEach(c,function(d){he(d.userId===a.userId);var f=ku(n.R,d);return p2(e,a.userId,f).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Tn.store),r=e.store(It.store);return e.store(Vr.store).get(Vr.key).next(function(i){var o=[];return r.Ot(function(a,l){var c=new Ve(a),d=function(f){return[0,Ui(f)]}(c);o.push(n.get(d).next(function(f){return f?G.resolve():function(p){return n.put(new Tn(0,Ui(p),i.highestListenSequenceNumber))}(c)}))}).next(function(){return G.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(yl.store,{keyPath:yl.keyPath});var r=n.store(yl.store),i=new Bx,o=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Ui(c)})}};return n.store(It.store).Ot({kt:!0},function(a,l){var c=new Ve(a);return o(c.popLast())}).next(function(){return n.store(Bn.store).Ot({kt:!0},function(a,l){a[0];var c=a[1],d=(a[2],Yo(c));return o(d.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(gr.store);return r.Ot(function(i,o){var a=Nh(o),l=c2(n.R,a);return r.put(l)})},t}();function w2(t){t.createObjectStore(Tn.store,{keyPath:Tn.keyPath}).createIndex(Tn.documentTargetsIndex,Tn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gr.store,{keyPath:gr.keyPath}).createIndex(gr.queryTargetsIndexName,gr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Vr.store)}var Hx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",D9=function(){function t(e,n,r,i,o,a,l,c,d,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=l,this.De=d,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(p){return Promise.resolve()},!t.yt())throw new q(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I9(this,i),this.Le=n+"main",this.R=new s2(c),this.Be=new Iu(this.Le,11,new k9(this.R)),this.qe=new S9(this.referenceDelegate,this.R),this.Ut=new w9,this.Ue=function(p,m){return new R9(p,m)}(this.R,this.Ut),this.Qe=new b9,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,f===!1&&Wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new q(B.FAILED_PRECONDITION,Hx);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Fr(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return P(n,void 0,void 0,function(){return O(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return P(n,void 0,void 0,function(){return O(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return P(n,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ag(n).put(new Xo(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(bl(n))return Y("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return Y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Oh(e).get(Hr.key).next(function(r){return G.resolve(n.tn(r))})},t.prototype.en=function(e){return Ag(e).delete(this.clientId)},t.prototype.nn=function(){return P(this,void 0,void 0,function(){var e,n,r,i,o=this;return O(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=yr(l,Xo.store);return c.Nt().next(function(d){var f=o.rn(d,18e5),p=d.filter(function(m){return f.indexOf(m)===-1});return G.forEach(p,function(m){return c.delete(m.clientId)}).next(function(){return p})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Ke)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?G.resolve(!0):Oh(e).get(Hr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new q(B.FAILED_PRECONDITION,Hx);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ag(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,l=!n.inForeground&&o.inForeground,c=n.networkEnabled===o.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Y("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return P(this,void 0,void 0,function(){var e=this;return O(this,function(n){switch(n.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Hr.store,Xo.store],function(r){var i=new o2(r,Fr.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ag(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return E9.Kt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(e,n,r){var i=this;Y("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,m9,function(l){return o=new o2(l,i.Ne?i.Ne.next():Fr.o),n==="readwrite-primary"?i.Je(o).next(function(c){return!!c||i.Ye(o)}).next(function(c){if(!c)throw Wt("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new q(B.FAILED_PRECONDITION,t2);return r(o)}).next(function(c){return i.Ze(o).next(function(){return c})}):i.dn(o).next(function(){return r(o)})}).then(function(l){return o.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Oh(e).get(Hr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new q(B.FAILED_PRECONDITION,Hx)})},t.prototype.Ze=function(e){var n=new Hr(this.clientId,this.allowTabSynchronization,Date.now());return Oh(e).put(Hr.key,n)},t.yt=function(){return Iu.yt()},t.prototype.Xe=function(e){var n=this,r=Oh(e);return r.get(Hr.key).next(function(i){return n.tn(i)?(Y("IndexedDbPersistence","Releasing primary lease."),r.delete(Hr.key)):G.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Wt("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fe=function(){n.an(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return Y("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Wt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Oh(t){return yr(t,Hr.store)}function Ag(t){return yr(t,Xo.store)}function Vx(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var N9=function(t,e){this.progress=t,this.wn=e},E2=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):Tx(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new le(n)).next(function(r){var i=Ax();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=Ax();return this.Ut.getCollectionParents(e,o).next(function(l){return G.forEach(l,function(c){var d=function(f,p){return new $o(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return i.An(e,d,r).next(function(f){f.forEach(function(p,m){a=a.insert(p,m)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return o=l,a.Rn(e,o,i).next(function(c){i=c;for(var d=0,f=o;d<f.length;d++)for(var p=f[d],m=0,g=p.mutations;m<g.length;m++){var y=g[m],_=y.key,w=i.get(_);w==null&&(w=xn.newInvalidDocument(_),i=i.insert(_,w)),Ix(y,w,p.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}})}).next(function(){return i.forEach(function(l,c){xh(n,c)||(i=i.remove(l))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Xe(),o=0,a=n;o<a.length;o++)for(var l=0,c=a[o].mutations;l<c.length;l++){var d=c[l];d instanceof qs&&r.get(d.key)===null&&(i=i.add(d.key))}var f=r;return this.Ue.getEntries(e,i).next(function(p){return p.forEach(function(m,g){g.isFoundDocument()&&(f=f.insert(m,g))}),f})},t}(),O9=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Xe(),i=Xe(),o=0,a=n.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),S2=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ae.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var l=o.Cn(n,a);return(mg(n)||vg(n))&&o.Nn(n.limitType,l,i,r)?o.Dn(e,n):(mx()<=Ko.LogLevel.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cx(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(c){return l.forEach(function(d){c=c.insert(d.key,d)}),c}))})},t.prototype.Cn=function(e,n){var r=new sn(gF(e));return n.forEach(function(i,o){xh(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return mx()<=Ko.LogLevel.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Cx(n)),this.Sn.getDocumentsMatchingQuery(e,n,Ae.min())},t}(),P9=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.Fn=new Un(Fe),this.kn=new Ou(function(o){return wh(o)},fg),this.On=Ae.min(),this._n=e.getMutationQueue(r),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new E2(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.Fn)})},t}();function x2(t,e,n,r){return new P9(t,e,n,r)}function T2(t,e){return P(this,void 0,void 0,function(){var n,r,i,o;return O(this,function(a){switch(a.label){case 0:return n=X(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(d){return c=d,r=n.persistence.getMutationQueue(e),i=new E2(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var f=[],p=[],m=Xe(),g=0,y=c;g<y.length;g++){var _=y[g];f.push(_.batchId);for(var w=0,S=_.mutations;w<S.length;w++){var C=S[w];m=m.add(C.key)}}for(var R=0,k=d;R<k.length;R++){var F=k[R];p.push(F.batchId);for(var L=0,W=F.mutations;L<W.length;L++){var $=W[L];m=m.add($.key)}}return i.pn(l,m).next(function(z){return{Ln:z,removedBatchIds:f,addedBatchIds:p}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function M9(t,e){var n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){var f=c.batch,p=f.keys(),m=G.resolve();return p.forEach(function(g){m=m.next(function(){return d.getEntry(l,g)}).next(function(y){var _=c.docVersions.get(g);he(_!==null),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&d.addEntry(y,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,f)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function C2(t){var e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function L9(t,e){var n=X(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];e.targetChanges.forEach(function(f,p){var m=i.get(p);if(m){l.push(n.qe.removeMatchingKeys(o,f.removedDocuments,p).next(function(){return n.qe.addMatchingKeys(o,f.addedDocuments,p)}));var g=f.resumeToken;if(g.approximateByteSize()>0){var y=m.withResumeToken(g,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(p,y),function(_,w,S){return he(w.resumeToken.approximateByteSize()>0),_.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,y,f)&&l.push(n.qe.updateTargetData(o,y))}}});var c=ci();if(e.documentUpdates.forEach(function(f,p){e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(I2(o,a,e.documentUpdates,r,void 0).next(function(f){c=f})),!r.isEqual(Ae.min())){var d=n.qe.getLastRemoteSnapshotVersion(o).next(function(f){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});l.push(d)}return G.waitFor(l).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,c)}).next(function(){return c})}).then(function(o){return n.Fn=i,o})}function I2(t,e,n,r,i){var o=Xe();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var l=ci();return n.forEach(function(c,d){var f=a.get(c),p=(i==null?void 0:i.get(c))||r;d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(c,p),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d,p),l=l.insert(c,d)):Y("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),l})}function F9(t,e){var n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Pu(t,e){var n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,G.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new xg(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(e,r.targetId)),r})}function Mu(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a;return O(this,function(l){switch(l.label){case 0:r=X(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!bl(a=l.sent()))throw a;return Y("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function kg(t,e,n){var r=X(t),i=Ae.min(),o=Xe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,d){var f=X(l),p=f.kn.get(d);return p!==void 0?G.resolve(f.Fn.get(p)):f.qe.getTargetData(c,d)}(r,a,li(e)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){o=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Ae.min(),n?o:Xe())}).next(function(l){return{documents:l,Bn:o}})})}function R2(t,e){var n=X(t),r=X(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function A2(t){var e=X(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=X(r),l=ci(),c=Fx(o),d=$s(i),f=IDBKeyRange.lowerBound(c,!0);return d.Ot({index:It.readTimeIndex,range:f},function(p,m){var g=Lx(a.R,m);l=l.insert(g.key,g),c=m.readTime}).next(function(){return{wn:l,readTime:l2(c)}})}(e.$n,n,e.On)}).then(function(n){var r=n.wn,i=n.readTime;return e.On=i,r})}function U9(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){return[2,(e=X(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=$s(i),a=Ae.min();return o.Ot({index:It.readTimeIndex,reverse:!0},function(l,c,d){c.readTime&&(a=l2(c.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){e.On=r})]})})}function B9(t,e,n,r){return P(this,void 0,void 0,function(){var i,o,a,l,c,d,f,p,m,g;return O(this,function(y){switch(y.label){case 0:for(i=X(t),o=Xe(),a=ci(),l=PF(),c=0,d=n;c<d.length;c++)f=d[c],p=e.qn(f.metadata.name),f.document&&(o=o.add(p)),a=a.insert(p,e.Un(f)),l=l.insert(p,e.Qn(f.metadata.readTime));return m=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Pu(i,function(_){return li(bu(Ve.fromString("__bundle__/docs/"+_)))}(r))];case 1:return g=y.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(_){return I2(_,m,a,Ae.min(),l).next(function(w){return m.apply(_),w}).next(function(w){return i.qe.removeMatchingKeysForTargetId(_,g.targetId).next(function(){return i.qe.addMatchingKeys(_,o,g.targetId)}).next(function(){return i.Mn.En(_,w)}).next(function(){return w})})})]}})})}function H9(t,e,n){return n===void 0&&(n=Xe()),P(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return[4,Pu(t,li(Ux(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=X(t)).persistence.runTransaction("Save named query","readwrite",function(a){var l=fn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,e);var c=r.withResumeToken(er.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,e)})})]}})})}var V9=function(){function t(e){this.R=e,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return G.resolve(this.Kn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:fn(r.createTime)}),G.resolve()},t.prototype.getNamedQuery=function(e,n){return G.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Ux(r.bundledQuery),readTime:fn(r.readTime)}}(n)),G.resolve()},t}(),jx=function(){function t(){this.Wn=new sn(hn.Gn),this.zn=new sn(hn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new hn(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new hn(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new le(new Ve([])),i=new hn(r,e),o=new hn(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new le(new Ve([])),r=new hn(n,e),i=new hn(n,e+1),o=Xe();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new hn(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),hn=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return le.comparator(e.key,n.key)||Fe(e.ns,n.ns)},t.Hn=function(e,n){return Fe(e.ns,n.ns)||le.comparator(e.key,n.key)},t}(),j9=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new sn(hn.Gn)}return t.prototype.checkEmpty=function(e){return G.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Mx(o,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var d=c[l];this.rs=this.rs.add(new hn(d.key,o)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return G.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return G.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return G.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return G.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return G.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new hn(n,0),o=new hn(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(l){var c=r.os(l.ns);a.push(c)}),G.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new sn(Fe);return n.forEach(function(o){var a=new hn(o,0),l=new hn(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),G.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;le.isDocumentKey(o)||(o=o.child(""));var a=new hn(new le(o),0),l=new sn(Fe);return this.rs.forEachWhile(function(c){var d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.ns)),!0)},a),G.resolve(this.us(l))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;he(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return G.forEach(n.mutations,function(o){var a=new hn(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new hn(n,0),i=this.rs.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,G.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),q9=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Un(le.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return G.resolve(r?r.document.clone():xn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=ci();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():xn.newInvalidDocument(o))}),G.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=ci(),o=new le(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var l=a.getNext(),c=l.key,d=l.value,f=d.document,p=d.readTime;if(!n.path.isPrefixOf(c.path))break;p.compareTo(r)<=0||xh(n,f)&&(i=i.insert(f.key,f.clone()))}return G.resolve(i)},t.prototype.fs=function(e,n){return G.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new z9(this)},t.prototype.getSize=function(e){return G.resolve(this.size)},t}(),z9=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return N(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),G.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(b2),W9=function(){function t(e){this.persistence=e,this.ds=new Ou(function(n){return wh(n)},fg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ws=0,this._s=new jx,this.targetCount=0,this.ys=Cg.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),G.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return G.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return G.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),G.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),G.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Cg(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,G.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),G.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,G.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),G.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return G.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return G.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),G.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),G.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),G.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return G.resolve(r)},t.prototype.containsKey=function(e,n){return G.resolve(this._s.containsKey(n))},t}(),G9=function(){function t(e,n){var r=this;this.gs={},this.Ne=new Fr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new W9(this),this.Ut=new _9,this.Ue=function(i,o){return new q9(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new s2(n),this.Qe=new V9(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new j9(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(e,n,r){var i=this;Y("MemoryPersistence","Starting transaction:",e);var o=new K9(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return G.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),K9=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return N(e,t),e}(n2),$9=function(){function t(e){this.persistence=e,this.As=new jx,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ae()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),G.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),G.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),G.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.vs,function(i){var o=le.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return G.or([function(){return G.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),br=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function k2(t,e){return"firestore_clients_"+t+"_"+e}function D2(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function qx(t,e){return"firestore_targets_"+t+"_"+e}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid");var N2=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new q(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Wt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),zx=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new q(i.error.code,i.error.message)),o?new t(e,i.state,r):(Wt("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),O2=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=wg(),a=0;i&&a<r.activeTargetIds.length;++a)i=oF(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Wt("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Y9=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Wt("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wx=function(){function t(){this.activeTargetIds=wg()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Gx=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Un(Fe),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.$s=k2(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Wx),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return P(this,void 0,void 0,function(){var e,n,r,i,o,a,l,c,d,f,p,m=this;return O(this,function(g){switch(g.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=g.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(k2(this.persistenceKey,i)))&&(a=O2.Vs(i,o))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),d=0,f=this.Os;d<f.length;d++)p=f[d],this.Fs(p);return this.Os=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(qx(this.persistenceKey,e));if(r){var i=zx.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Ks(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(qx(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return Y("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){Y("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){Y("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(Y("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return P(n,void 0,void 0,function(){var i,o,a,l,c,d;return O(this,function(f){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(d=function(p){var m=Fr.o;if(p!=null)try{var g=JSON.parse(p);he(typeof g=="number"),m=g}catch(y){Wt("SharedClientState","Failed to read sequence number from WebStorage",y)}return m}(r.newValue))!==Fr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new N2(this.currentUser,e,n,r),o=D2(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=D2(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=qx(this.persistenceKey,e),o=new zx(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return O2.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return N2.Vs(new br(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return zx.Vs(i,n)},t.prototype.js=function(e){return Y9.Vs(e)},t.prototype.ii=function(e){return P(this,void 0,void 0,function(){return O(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(e.batchId,e.state,e.error)]:(Y("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ui(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.ks.insert(e,n):this.ks.remove(e),o=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(d){o.has(d)||l.push(d)}),o.forEach(function(d){a.has(d)||c.push(d)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=wg();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),P2=function(){function t(){this.li=new Wx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Wx,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),X9=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),M2=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),Q9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},J9=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),Z9=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return N(e,t),e.prototype.ki=function(n,r,i,o){return new Promise(function(a,l){var c=new JL;c.listenOnce(XL.COMPLETE,function(){try{switch(c.getLastErrorCode()){case lg.NO_ERROR:var f=c.getResponseJson();Y("Connection","XHR received:",JSON.stringify(f)),a(f);break;case lg.TIMEOUT:Y("Connection",'RPC "'+n+'" timed out'),l(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case lg.HTTP_ERROR:var p=c.getStatus();if(Y("Connection",'RPC "'+n+'" failed with status:',p,"response text:",c.getResponseText()),p>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var g=function(y){var _=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(m.status);l(new q(g,m.message))}else l(new q(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(B.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Y("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(o);c.send(r,"POST",d,i,15)})},e.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=$L(),a=YL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),jc()||Rf()||tE()||nE()||rE()||qc()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");Y("Connection","Creating WebChannel: "+c,l);var d=o.createWebChannel(c,l),f=!1,p=!1,m=new J9({Ei:function(y){p?Y("Connection","Not sending because WebChannel is closed:",y):(f||(Y("Connection","Opening WebChannel transport."),d.open(),f=!0),Y("Connection","WebChannel sending:",y),d.send(y))},Ti:function(){return d.close()}}),g=function(y,_,w){y.listen(_,function(S){try{w(S)}catch(C){setTimeout(function(){throw C},0)}})};return g(d,gh.EventType.OPEN,function(){p||Y("Connection","WebChannel transport opened.")}),g(d,gh.EventType.CLOSE,function(){p||(p=!0,Y("Connection","WebChannel transport closed"),m.Vi())}),g(d,gh.EventType.ERROR,function(y){p||(p=!0,cg("Connection","WebChannel transport errored:",y),m.Vi(new q(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,gh.EventType.MESSAGE,function(y){var _;if(!p){var w=y.data[0];he(!!w);var S=w,C=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(C){Y("Connection","WebChannel received error:",C);var R=C.status,k=function(L){var W=Kt[L];if(W!==void 0)return NF(W)}(R),F=C.message;k===void 0&&(k=B.INTERNAL,F="Unknown error status: "+R+" with message "+C.message),p=!0,m.Vi(new q(k,F)),d.close()}else Y("Connection","WebChannel received:",w),m.Si(w)}}),g(a,QL.STAT_EVENT,function(y){y.stat===px.PROXY?Y("Connection","Detected buffering proxy"):y.stat===px.NOPROXY&&Y("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);Y("RestConnection","Sending: ",o,r);var a={};return this.Fi(a,i),this.ki(e,o,a,r).then(function(l){return Y("RestConnection","Received: ",l),l},function(l){throw cg("RestConnection",e+" failed with error: ",l,"url: ",o,"request:",r),l})},t.prototype.Oi=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.Fi=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=Q9[e];return this.Di+"/v1/"+n+":"+r},t}());function L2(){return typeof window!="undefined"?window:null}function Dg(){return typeof document!="undefined"?document:null}function Ph(t){return new i9(t,!0)}var Kx=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),o=Math.max(0,r-i);o>0&&Y("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Qi=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),F2=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Kx(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ar(),this.stream.send(e)},t.prototype.rr=function(){return P(this,void 0,void 0,function(){return O(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return P(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===B.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ur(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new q(B.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return P(e,void 0,void 0,function(){return O(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return Y("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),eJ=function(t){function e(n,r,i,o,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,l}return N(e,t),e.prototype.wr=function(n){return this.Hi.$i("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var l;if("targetChange"in a){a.targetChange;var c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:ae()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],f=function(w,S){return w.I?(he(S===void 0||typeof S=="string"),er.fromBase64String(S||"")):(he(S===void 0||S instanceof Uint8Array),er.fromUint8Array(S||new Uint8Array))}(o,a.targetChange.resumeToken),p=(m=a.targetChange.cause)&&function(w){var S=w.code===void 0?B.UNKNOWN:NF(w.code);return new q(S,w.message||"")}(m);l=new LF(c,d,f,p||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,d=fo(o,c.document.name),f=fn(c.document.updateTime);var m=new Ur({mapValue:{fields:c.document.fields}}),g=(p=xn.newFoundDocument(d,f,m),c.targetIds||[]),y=c.removedTargetIds||[];l=new Eg(g,y,p.key,p)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,d=fo(o,c.document),f=c.readTime?fn(c.readTime):Ae.min(),m=xn.newNoDocument(d,f),p=c.removedTargetIds||[],l=new Eg([],p,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,d=fo(o,c.document),f=c.removedTargetIds||[],l=new Eg([],f,d,null);else{if(!("filter"in a))return ae();a.filter;var _=a.filter;_.targetId,c=_.count||0,d=new YQ(c),f=_.targetId,l=new MF(f,d)}return l}(this.R,n),i=function(o){if(!("targetChange"in o))return Ae.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?Ae.min():a.readTime?fn(a.readTime):Ae.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=kh(this.R),r.addTarget=function(o,a){var l,c=a.target;return(l=hg(c)?{documents:KF(o,c)}:{query:$F(o,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=HF(o,a.resumeToken):a.snapshotVersion.compareTo(Ae.min())>0&&(l.readTime=Rh(o,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(o,a){var l=function(c,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ae()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=kh(this.R),r.removeTarget=n,this.cr(r)},e}(F2),tJ=function(t){function e(n,r,i,o,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,l.gr=!1,l}return N(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.$i("Write",n)},e.prototype.onMessage=function(n){if(he(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(he(a!==void 0),o.map(function(l){return function(c,d){var f=c.updateTime?fn(c.updateTime):fn(d);return f.isEqual(Ae.min())&&(f=fn(d)),new GQ(f,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=fn(n.commitTime);return this.listener.Tr(i,r)}return he(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=kh(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Sg(r.R,o)})};this.cr(i)},e}(F2),nJ=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return N(e,t),e.prototype.br=function(){if(this.Rr)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new q(B.UNKNOWN,a.toString())})},e.prototype.Oi=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new q(B.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),rJ=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Wt(n),this.Vr=!1):Y("OnlineStateTracker",n)},t.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),iJ=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return P(o,void 0,void 0,function(){return O(this,function(l){switch(l.label){case 0:return Ys(this)?(Y("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return P(this,void 0,void 0,function(){var d;return O(this,function(f){switch(f.label){case 0:return(d=X(c)).$r.add(4),[4,Lu(d)];case 1:return f.sent(),d.Br.set("Unknown"),d.$r.delete(4),[4,Mh(d)];case 2:return f.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new rJ(n,r)};function Mh(t){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:if(!Ys(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lu(t){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ng(t,e){var n=X(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Xx(n)?Yx(n):Uu(n).er()&&$x(n,e))}function Lh(t,e){var n=X(t),r=Uu(n);n.Or.delete(e),r.er()&&U2(n,e),n.Or.size===0&&(r.er()?r.ir():Ys(n)&&n.Br.set("Unknown"))}function $x(t,e){t.qr.U(e.targetId),Uu(t).mr(e)}function U2(t,e){t.qr.U(e),Uu(t).yr(e)}function Yx(t){t.qr=new t9({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Uu(t).start(),t.Br.Sr()}function Xx(t){return Ys(t)&&!Uu(t).tr()&&t.Or.size>0}function Ys(t){return X(t).$r.size===0}function B2(t){t.qr=void 0}function oJ(t){return P(this,void 0,void 0,function(){return O(this,function(e){return t.Or.forEach(function(n,r){$x(t,n)}),[2]})})}function sJ(t,e){return P(this,void 0,void 0,function(){return O(this,function(n){return B2(t),Xx(t)?(t.Br.Nr(e),Yx(t)):t.Br.set("Unknown"),[2]})})}function aJ(t,e,n){return P(this,void 0,void 0,function(){var r,i,o;return O(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof LF&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return P(this,void 0,void 0,function(){var d,f,p,m;return O(this,function(g){switch(g.label){case 0:d=c.cause,f=0,p=c.targetIds,g.label=1;case 1:return f<p.length?(m=p[f],l.Or.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:g.sent(),l.Or.delete(m),l.qr.removeTarget(m),g.label=3;case 3:g.label=4;case 4:return f++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Og(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Eg?t.qr.X(e):e instanceof MF?t.qr.rt(e):t.qr.et(e),n.isEqual(Ae.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,C2(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var d=l.qr.at(c);return d.targetChanges.forEach(function(f,p){if(f.resumeToken.approximateByteSize()>0){var m=l.Or.get(p);m&&l.Or.set(p,m.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach(function(f){var p=l.Or.get(f);if(p){l.Or.set(f,p.withResumeToken(er.EMPTY_BYTE_STRING,p.snapshotVersion)),U2(l,f);var m=new xg(p.target,f,1,p.sequenceNumber);$x(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Y("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Og(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Og(t,e,n){return P(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:if(!bl(e))throw e;return t.$r.add(1),[4,Lu(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return C2(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return P(r,void 0,void 0,function(){return O(this,function(o){switch(o.label){case 0:return Y("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.$r.delete(1),[4,Mh(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function H2(t,e){return e().catch(function(n){return Og(t,n,e)})}function Fu(t){return P(this,void 0,void 0,function(){var e,n,r,i,o;return O(this,function(a){switch(a.label){case 0:e=X(t),n=Xs(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Ys(l)&&l.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,F9(e.localStore,r)];case 3:return(i=a.sent())===null?(e.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var d=Xs(l);d.er()&&d.pr&&d.Er(c.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Og(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return V2(e)&&j2(e),[2]}})})}function V2(t){return Ys(t)&&!Xs(t).tr()&&t.kr.length>0}function j2(t){Xs(t).start()}function lJ(t){return P(this,void 0,void 0,function(){return O(this,function(e){return Xs(t).Ar(),[2]})})}function cJ(t){return P(this,void 0,void 0,function(){var e,n,r,i;return O(this,function(o){for(e=Xs(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function uJ(t,e,n){return P(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=y9.from(r,e,n),[4,H2(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Fu(t)];case 2:return o.sent(),[2]}})})}function dJ(t,e){return P(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return e&&Xs(t).pr?[4,function(r,i){return P(this,void 0,void 0,function(){var o,a;return O(this,function(l){switch(l.label){case 0:return DF(a=i.code)&&a!==B.ABORTED?(o=r.kr.shift(),Xs(r).sr(),[4,H2(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Fu(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return V2(t)&&j2(t),[2]}})})}function Qx(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return n=X(t),e?(n.$r.delete(2),[4,Mh(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return(r=e)?[3,4]:(n.$r.add(2),[4,Lu(n)]);case 3:i.sent(),r=n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Uu(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=X(n);return o.br(),new eJ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:oJ.bind(null,t),Ri:sJ.bind(null,t),_r:aJ.bind(null,t)}),t.Mr.push(function(n){return P(e,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),Xx(t)?Yx(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),B2(t),r.label=3;case 3:return[2]}})})})),t.Ur}function Xs(t){var e=this;return t.Qr||(t.Qr=function(n,r,i){var o=X(n);return o.br(),new tJ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:lJ.bind(null,t),Ri:dJ.bind(null,t),Ir:cJ.bind(null,t),Tr:uJ.bind(null,t)}),t.Mr.push(function(n){return P(e,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return n?(t.Qr.sr(),[4,Fu(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:r.sent(),t.kr.length>0&&(Y("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),r.label=4;case 4:return[2]}})})})),t.Qr}var fJ=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Bu(t,e){if(Wt("AsyncQueue",e+": "+t),bl(t))return new q(B.UNAVAILABLE,e+": "+t);throw t}var q2=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||le.comparator(n.key,r.key)}:function(n,r){return le.comparator(n.key,r.key)},this.keyedMap=Ax(),this.sortedSet=new Un(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),z2=function(){function t(){this.Kr=new Un(le.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Kr.get(n);r?e.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,e):e.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Kr=this.Kr.remove(n):e.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:e.doc}):ae():this.Kr=this.Kr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Pg=function(){function t(e,n,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,q2.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),hJ=function(){this.Wr=void 0,this.listeners=[]},pJ=function(){this.queries=new Ou(function(t){return vF(t)},Sh),this.onlineState="Unknown",this.Gr=new Set};function Jx(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:if(n=X(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new hJ),!i)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),c=Bu(l,"Initialization of query '"+Cx(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&eT(n),[2]}})})}function Zx(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a;return O(this,function(l){return n=X(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function mJ(t,e){for(var n=X(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],l=a.query,c=n.queries.get(l);if(c){for(var d=0,f=c.listeners;d<f.length;d++)f[d].Hr(a)&&(r=!0);c.Wr=a}}r&&eT(n)}function vJ(t,e,n){var r=X(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function eT(t){t.Gr.forEach(function(e){e.next()})}var tT=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new Pg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Pg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),gJ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),W2=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return fo(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?WF(this.R,e.document,!1):xn.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},t.prototype.Qn=function(e){return fn(e)},t}(),yJ=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=G2(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new W2(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,d=a.metadata.queries;c<d.length;c++){var f=d[c],p=(n.get(f)||Xe()).add(l);n.set(f,p)}}return n},t.prototype.complete=function(){return P(this,void 0,void 0,function(){var e,n,r,i,o;return O(this,function(a){switch(a.label){case 0:return[4,B9(this.localStore,new W2(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,H9(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new N9(Object.assign({},this.progress),e))]}})})},t}();function G2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var K2=function(t){this.key=t},$2=function(t){this.key=t},Y2=function(){function t(e,n){this.query=e,this.ao=n,this.uo=null,this.current=!1,this.ho=Xe(),this.mutatedKeys=Xe(),this.lo=gF(e),this.fo=new q2(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new z2,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=o,c=!1,d=mg(this.query)&&o.size===this.query.limit?o.last():null,f=vg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(m,g){var y=o.get(m),_=xh(r.query,g)?g:null,w=!!y&&r.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||r.mutatedKeys.has(_.key)&&_.hasCommittedMutations),C=!1;y&&_?y.data.isEqual(_.data)?w!==S&&(i.track({type:3,doc:_}),C=!0):r.yo(y,_)||(i.track({type:2,doc:_}),C=!0,(d&&r.lo(_,d)>0||f&&r.lo(_,f)<0)&&(c=!0)):!y&&_?(i.track({type:0,doc:_}),C=!0):y&&!_&&(i.track({type:1,doc:y}),C=!0,(d||f)&&(c=!0)),C&&(_?(l=l.add(_),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),mg(this.query)||vg(this.query))for(;l.size>this.query.limit;){var p=mg(this.query)?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(f,p){return function(m,g){var y=function(_){switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return y(m)-y(g)}(f.type,p.type)||i.lo(f.doc,p.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,d=c!==this.uo;return this.uo=c,a.length!==0||d?{snapshot:new Pg(this.query,e.fo,o,a,e.mutatedKeys,c===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new z2,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.ao.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.ao=n.ao.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.ao=n.ao.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Xe(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new $2(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new K2(i))}),r},t.prototype.Ao=function(e){this.ao=e.Bn,this.ho=Xe();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Pg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.uo===0)},t}(),bJ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_J=function(t){this.key=t,this.bo=!1},wJ=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Ou(function(l){return vF(l)},Sh),this.Vo=new Map,this.So=new Set,this.Do=new Un(le.comparator),this.Co=new Map,this.No=new jx,this.xo={},this.Fo=new Map,this.ko=Cg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),t}();function EJ(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l;return O(this,function(c){switch(c.label){case 0:return n=aT(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Pu(n.localStore,li(e))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,nT(n,e,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Ng(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function nT(t,e,n,r){return P(this,void 0,void 0,function(){var i,o,a,l,c,d;return O(this,function(f){switch(f.label){case 0:return t.$o=function(p,m,g){return function(y,_,w,S){return P(this,void 0,void 0,function(){var C,R,k;return O(this,function(F){switch(F.label){case 0:return C=_.view._o(w),C.Nn?[4,kg(y.localStore,_.query,!1).then(function(L){var W=L.documents;return _.view._o(W,C)})]:[3,2];case 1:C=F.sent(),F.label=2;case 2:return R=S&&S.targetChanges.get(_.targetId),k=_.view.applyChanges(C,y.isPrimaryClient,R),[2,(oT(y,_.targetId,k.To),k.snapshot)]}})})}(t,p,m,g)},[4,kg(t.localStore,e,!0)];case 1:return i=f.sent(),o=new Y2(e,i.Bn),a=o._o(i.documents),l=Dx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),c=o.applyChanges(a,t.isPrimaryClient,l),oT(t,n,c.To),d=new bJ(e,n,o),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function SJ(t,e){return P(this,void 0,void 0,function(){var n,r,i;return O(this,function(o){switch(o.label){case 0:return n=X(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Sh(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Mu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Lh(n.remoteStore,r.targetId),Hu(n,r.targetId)}).catch(wl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Hu(n,r.targetId),[4,Mu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function xJ(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a;return O(this,function(l){switch(l.label){case 0:r=lT(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,d){var f,p=X(c),m=Zn.now(),g=d.reduce(function(y,_){return y.add(_.key)},Xe());return p.persistence.runTransaction("Locally write mutations","readwrite",function(y){return p.Mn.pn(y,g).next(function(_){f=_;for(var w=[],S=0,C=d;S<C.length;S++){var R=C[S],k=$Q(R,f.get(R.key));k!=null&&w.push(new qs(R.key,k,cF(k.toProto().mapValue),Fn.exists(!0)))}return p._n.addMutationBatch(y,m,w,d)})}).then(function(y){return y.applyToLocalDocumentSet(f),{batchId:y.batchId,changes:f}})}(r.localStore,e)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,d,f){var p=c.xo[c.currentUser.toKey()];p||(p=new Un(Fe)),p=p.insert(d,f),c.xo[c.currentUser.toKey()]=p}(r,i.batchId,n),[4,Qo(r,i.changes)];case 3:return l.sent(),[4,Fu(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return o=l.sent(),a=Bu(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function X2(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:n=X(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,L9(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var l=n.Co.get(a);l&&(he(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.bo=!0:o.modifiedDocuments.size>0?he(l.bo):o.removedDocuments.size>0&&(he(l.bo),l.bo=!1))}),[4,Qo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,wl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Q2(t,e,n){var r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var l=a.view.zr(e);l.snapshot&&i.push(l.snapshot)}),function(o,a){var l=X(o);l.onlineState=a;var c=!1;l.queries.forEach(function(d,f){for(var p=0,m=f.listeners;p<m.length;p++)m[p].zr(a)&&(c=!0)}),c&&eT(l)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TJ(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:return(r=X(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Un(le.comparator)).insert(o,xn.newNoDocument(o,Ae.min())),l=Xe().add(o),c=new kx(Ae.min(),new Map,new sn(Fe),a,l),[4,X2(r,c)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),sT(r),[3,4];case 2:return[4,Mu(r.localStore,e,!1).then(function(){return Hu(r,e,n)}).catch(wl)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function CJ(t,e){return P(this,void 0,void 0,function(){var n,r,i;return O(this,function(o){switch(o.label){case 0:n=X(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,M9(n.localStore,e)];case 2:return i=o.sent(),iT(n,r,null),rT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qo(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,wl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function IJ(t,e,n){return P(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:r=X(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,l){var c=X(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var f;return c._n.lookupMutationBatch(d,l).next(function(p){return he(p!==null),f=p.keys(),c._n.removeMutationBatch(d,p)}).next(function(){return c._n.performConsistencyCheck(d)}).next(function(){return c.Mn.pn(d,f)})})}(r.localStore,e)];case 2:return i=o.sent(),iT(r,e,n),rT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Qo(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,wl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function RJ(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a;return O(this,function(l){switch(l.label){case 0:Ys((n=X(t)).remoteStore)||Y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var d=X(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(f){return d._n.getHighestUnacknowledgedBatchId(f)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=l.sent(),a=Bu(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function rT(t,e){(t.Fo.get(e)||[]).forEach(function(n){n.resolve()}),t.Fo.delete(e)}function iT(t,e,n){var r=X(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Hu(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||J2(t,a)})}function J2(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Lh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),sT(t))}function oT(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof K2?(t.No.addReference(o.key,e),AJ(t,o)):o instanceof $2?(Y("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||J2(t,o.key)):ae()}}function AJ(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.So.add(r),sT(t))}function sT(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new le(Ve.fromString(e)),r=t.ko.next();t.Co.set(r,new _J(n)),t.Do=t.Do.insert(n,r),Ng(t.remoteStore,new xg(li(bu(n.path)),r,2,Fr.o))}}function Qo(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a;return O(this,function(l){switch(l.label){case 0:return r=X(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,d){a.push(r.$o(d,e,n).then(function(f){if(f){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,f.fromCache?"not-current":"current"),i.push(f);var p=O9.Pn(d.targetId,f);o.push(p)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,d){return P(this,void 0,void 0,function(){var f,p,m,g,y,_,w,S,C;return O(this,function(R){switch(R.label){case 0:f=X(c),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,f.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return G.forEach(d,function(F){return G.forEach(F.bn,function(L){return f.persistence.referenceDelegate.addReference(k,F.targetId,L)}).next(function(){return G.forEach(F.vn,function(L){return f.persistence.referenceDelegate.removeReference(k,F.targetId,L)})})})})];case 2:return R.sent(),[3,4];case 3:if(!bl(p=R.sent()))throw p;return Y("LocalStore","Failed to update sequence numbers: "+p),[3,4];case 4:for(m=0,g=d;m<g.length;m++)y=g[m],_=y.targetId,y.fromCache||(w=f.Fn.get(_),S=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(S),f.Fn=f.Fn.insert(_,C));return[2]}})})}(r.localStore,o)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function kJ(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return(n=X(t)).currentUser.isEqual(e)?[3,3]:(Y("SyncEngine","User change. New user:",e.toKey()),[4,T2(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.Fo.forEach(function(l){l.forEach(function(c){c.reject(new q(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Qo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function DJ(t,e){var n=X(t),r=n.Co.get(e);if(r&&r.bo)return Xe().add(r.key);var i=Xe(),o=n.Vo.get(e);if(!o)return i;for(var a=0,l=o;a<l.length;a++){var c=l[a],d=n.Po.get(c);i=i.unionWith(d.view.wo)}return i}function NJ(t,e){return P(this,void 0,void 0,function(){var n,r,i;return O(this,function(o){switch(o.label){case 0:return[4,kg((n=X(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&oT(n,e.targetId,i.To),i)]}})})}function OJ(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){return[2,A2((e=X(t)).localStore).then(function(r){return Qo(e,r)})]})})}function PJ(t,e,n,r){return P(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,function(l,c){var d=X(l),f=X(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(p){return f.jt(p,c).next(function(m){return m?d.Mn.pn(p,m):G.resolve(null)})})}((i=X(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Fu(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(iT(i,e,r||null),rT(i,e),function(l,c){X(X(l)._n).Gt(c)}(i.localStore,e)):ae(),a.label=4;case 4:return[4,Qo(i,o)];case 5:return a.sent(),[3,7];case 6:Y("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function MJ(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c,d;return O(this,function(f){switch(f.label){case 0:return aT(n=X(t)),lT(n),e!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Z2(n,r.toArray())]);case 1:return i=f.sent(),n.Oo=!0,[4,Qx(n.remoteStore,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)l=a[o],Ng(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.Oo===!1?[3,7]:(c=[],d=Promise.resolve(),n.Vo.forEach(function(p,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):d=d.then(function(){return Hu(n,m),Mu(n.localStore,m,!0)}),Lh(n.remoteStore,m)}),[4,d]);case 4:return f.sent(),[4,Z2(n,c)];case 5:return f.sent(),function(p){var m=X(p);m.Co.forEach(function(g,y){Lh(m.remoteStore,y)}),m.No.ts(),m.Co=new Map,m.Do=new Un(le.comparator)}(n),n.Oo=!1,[4,Qx(n.remoteStore,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function Z2(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a,l,c,d,f,p,m,g,y,_,w;return O(this,function(S){switch(S.label){case 0:r=X(t),i=[],o=[],a=0,l=e,S.label=1;case 1:return a<l.length?(c=l[a],d=void 0,(f=r.Vo.get(c))&&f.length!==0?[4,Pu(r.localStore,li(f[0]))]:[3,7]):[3,13];case 2:d=S.sent(),p=0,m=f,S.label=3;case 3:return p<m.length?(g=m[p],y=r.Po.get(g),[4,NJ(r,y)]):[3,6];case 4:(_=S.sent()).snapshot&&o.push(_.snapshot),S.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,R2(r.localStore,c)];case 8:return w=S.sent(),[4,Pu(r.localStore,w)];case 9:return d=S.sent(),[4,nT(r,eU(w),c,!1)];case 10:S.sent(),S.label=11;case 11:i.push(d),S.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function eU(t){return pF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function LJ(t){var e=X(t);return X(X(e.localStore).persistence).fn()}function FJ(t,e,n,r){return P(this,void 0,void 0,function(){var i,o,a;return O(this,function(l){switch(l.label){case 0:return(i=X(t)).Oo?(Y("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,A2(i.localStore)];case 3:return o=l.sent(),a=kx.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Qo(i,o,a)];case 4:return l.sent(),[3,8];case 5:return[4,Mu(i.localStore,e,!0)];case 6:return l.sent(),Hu(i,e,r),[3,8];case 7:ae(),l.label=8;case 8:return[2]}})})}function UJ(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a,l,c,d,f,p,m;return O(this,function(g){switch(g.label){case 0:if(!(r=aT(t)).Oo)return[3,10];i=0,o=e,g.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Y("SyncEngine","Adding an already active target "+a),[3,5]):[4,R2(r.localStore,a)]):[3,6];case 2:return l=g.sent(),[4,Pu(r.localStore,l)];case 3:return c=g.sent(),[4,nT(r,eU(l),c.targetId,!1)];case 4:g.sent(),Ng(r.remoteStore,c),g.label=5;case 5:return i++,[3,1];case 6:d=function(y){return O(this,function(_){switch(_.label){case 0:return r.Vo.has(y)?[4,Mu(r.localStore,y,!1).then(function(){Lh(r.remoteStore,y),Hu(r,y)}).catch(wl)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})},f=0,p=n,g.label=7;case 7:return f<p.length?(m=p[f],[5,d(m)]):[3,10];case 8:g.sent(),g.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function aT(t){var e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TJ.bind(null,e),e.vo._r=mJ.bind(null,e.eventManager),e.vo.Mo=vJ.bind(null,e.eventManager),e}function lT(t){var e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IJ.bind(null,e),e}function BJ(t,e,n){var r=X(t);(function(i,o,a){return P(this,void 0,void 0,function(){var l,c,d,f,p,m;return O(this,function(g){switch(g.label){case 0:return g.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return l=g.sent(),[4,function(y,_){var w=X(y),S=fn(_.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",function(C){return w.Qe.getBundleMetadata(C,_.id)}).then(function(C){return!!C&&C.createTime.compareTo(S)>=0})}(i.localStore,l)];case 2:return g.sent()?[4,o.close()]:[3,4];case 3:return[2,(g.sent(),void a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(l)))];case 4:return a._updateProgress(G2(l)),c=new yJ(l,i.localStore,o.R),[4,o.Lo()];case 5:d=g.sent(),g.label=6;case 6:return d?[4,c.oo(d)]:[3,10];case 7:return(f=g.sent())&&a._updateProgress(f),[4,o.Lo()];case 8:d=g.sent(),g.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return p=g.sent(),[4,Qo(i,p.wn,void 0)];case 12:return g.sent(),[4,function(y,_){var w=X(y);return w.persistence.runTransaction("Save bundle","readwrite",function(S){return w.Qe.saveBundleMetadata(S,_)})}(i.localStore,l)];case 13:return g.sent(),a._completeWith(p.progress),[3,15];case 14:return cg("SyncEngine","Loading bundle failed with "+(m=g.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var tU=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return P(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return this.R=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Qo=function(e){return x2(this.persistence,new S2,e.initialUser,this.R)},t.prototype.qo=function(e){return new G9($9.bs,this.R)},t.prototype.Bo=function(e){return new P2},t.prototype.terminate=function(){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),nU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Ko=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return N(e,t),e.prototype.initialize=function(n){return P(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,U9(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,lT(this.Ko.syncEngine)];case 4:return r.sent(),[4,Fu(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},e.prototype.Qo=function(n){return x2(this.persistence,new S2,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new T9(r,n.asyncQueue)},e.prototype.qo=function(n){var r=Vx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new D9(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,L2(),Dg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new P2},e}(tU),HJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return N(e,t),e.prototype.initialize=function(n){return P(this,void 0,void 0,function(){var r,i=this;return O(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof Gx?(this.sharedClientState.syncEngine={ai:PJ.bind(null,r),ui:FJ.bind(null,r),hi:UJ.bind(null,r),fn:LJ.bind(null,r),ci:OJ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return P(i,void 0,void 0,function(){return O(this,function(l){switch(l.label){case 0:return[4,MJ(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=L2();if(!Gx.yt(r))throw new q(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Vx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Gx(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(nU),cT=function(){function t(){}return t.prototype.initialize=function(e,n){return P(this,void 0,void 0,function(){var r=this;return O(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return Q2(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kJ.bind(null,this.syncEngine),[4,Qx(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new pJ},t.prototype.createDatastore=function(e){var n,r=Ph(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new Z9(n));return function(o,a,l){return new nJ(o,a,l)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,l=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(c){return Q2(l.syncEngine,c,0)},a=M2.yt()?new M2:new X9,new iJ(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,l,c,d){var f=new wJ(r,i,o,a,l,c);return d&&(f.Oo=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return n=X(e),Y("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,Lu(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function rU(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return P(this,void 0,void 0,function(){var r;return O(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return P(this,void 0,void 0,function(){return O(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Mg=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),VJ=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new tr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return P(this,void 0,void 0,function(){return O(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return P(this,void 0,void 0,function(){var e,n,r,i;return O(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new gJ(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),jJ=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return P(this,void 0,void 0,function(){var n,r=this;return O(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new q(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return P(this,void 0,void 0,function(){var l,c,d,f,p,m;return O(this,function(g){switch(g.label){case 0:return l=X(o),c=kh(l.R)+"/documents",d={documents:a.map(function(y){return Ah(l.R,y)})},[4,l.Oi("BatchGetDocuments",c,d)];case 1:return f=g.sent(),p=new Map,f.forEach(function(y){var _=function(w,S){return"found"in S?function(C,R){he(!!R.found),R.found.name,R.found.updateTime;var k=fo(C,R.found.name),F=fn(R.found.updateTime),L=new Ur({mapValue:{fields:R.found.fields}});return xn.newFoundDocument(k,F,L)}(w,S):"missing"in S?function(C,R){he(!!R.missing),he(!!R.readTime);var k=fo(C,R.missing),F=fn(R.readTime);return xn.newNoDocument(k,F)}(w,S):ae()}(l.R,y);p.set(_.key.toString(),_)}),m=[],[2,(a.forEach(function(y){var _=p.get(y.toString());he(!!_),m.push(_)}),m)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return P(this,void 0,void 0,function(){var e,n=this;return O(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=le.fromPath(o);n.mutations.push(new Rx(a,n.precondition(a)))}),[4,function(i,o){return P(this,void 0,void 0,function(){var a,l,c;return O(this,function(d){switch(d.label){case 0:return a=X(i),l=kh(a.R)+"/documents",c={writes:o.map(function(f){return Sg(a.R,f)})},[4,a.Ni("Commit",l,c)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ae();n=Ae.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new q(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Fn.updateTime(n):Fn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ae.min()))throw new q(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(n)}return Fn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),qJ=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Kx(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return P(e,void 0,void 0,function(){var n,r,i=this;return O(this,function(o){return n=new jJ(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!ml(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!DF(n)}return!1},t}(),zJ=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=ZL.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return P(i,void 0,void 0,function(){return O(this,function(a){switch(a.label){case 0:return Y("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return P(this,void 0,void 0,function(){return O(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return P(e,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Bu(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();function iU(t,e){return P(this,void 0,void 0,function(){var n,r,i=this;return O(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return P(i,void 0,void 0,function(){return O(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,T2(e.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function oU(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,uT(t)];case 1:return n=i.sent(),Y("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,l){return P(this,void 0,void 0,function(){var c,d;return O(this,function(f){switch(f.label){case 0:return(c=X(a)).asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials"),d=Ys(c),c.$r.add(3),[4,Lu(c)];case 1:return f.sent(),d&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return f.sent(),c.$r.delete(3),[4,Mh(c)];case 3:return f.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function uT(t){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Y("FirestoreClient","Using default OfflineComponentProvider"),[4,iU(t,new tU)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Lg(t){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Y("FirestoreClient","Using default OnlineComponentProvider"),[4,oU(t,new cT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function sU(t){return uT(t).then(function(e){return e.persistence})}function dT(t){return uT(t).then(function(e){return e.localStore})}function aU(t){return Lg(t).then(function(e){return e.remoteStore})}function fT(t){return Lg(t).then(function(e){return e.syncEngine})}function Vu(t){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return[4,Lg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=EJ.bind(null,e.syncEngine),n.onUnlisten=SJ.bind(null,e.syncEngine),n)]}})})}function lU(t,e,n){var r=this;n===void 0&&(n={});var i=new tr;return t.asyncQueue.enqueueAndForget(function(){return P(r,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return o=function(l,c,d,f,p){var m=new Mg({next:function(y){c.enqueueAndForget(function(){return Zx(l,g)});var _=y.docs.has(d);!_&&y.fromCache?p.reject(new q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&f&&f.source==="server"?p.reject(new q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),g=new tT(bu(d.path),m,{includeMetadataChanges:!0,so:!0});return Jx(l,g)},[4,Vu(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function cU(t,e,n){var r=this;n===void 0&&(n={});var i=new tr;return t.asyncQueue.enqueueAndForget(function(){return P(r,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return o=function(l,c,d,f,p){var m=new Mg({next:function(y){c.enqueueAndForget(function(){return Zx(l,g)}),y.fromCache&&f.source==="server"?p.reject(new q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),g=new tT(d,m,{includeMetadataChanges:!0,so:!0});return Jx(l,g)},[4,Vu(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var WJ=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Fg=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),uU=new Map,dU=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},fU=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(br.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),GJ=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),KJ=function(){function t(e){var n=this;this.currentUser=br.UNAUTHENTICATED,this.oc=new tr,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.hc(),n.oc.resolve(),n.ac&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){Y("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.lc(),n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):n.ac&&(Y("FirebaseCredentialsProvider","Auth not yet detected"),n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)}))}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(Y("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(he(typeof i.accessToken=="string"),new dU(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){this.ac=!0,this.asyncQueue=e,this.changeListener=n},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new br(e)},t.prototype.lc=function(){var e=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return P(e,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return[4,this.oc.promise];case 1:return n.sent(),[4,this.changeListener(this.currentUser)];case 2:return n.sent(),this.ac=!0,[2]}})})}))},t}(),$J=function(){function t(e,n,r){this.fc=e,this.dc=n,this.wc=r,this.type="FirstParty",this.user=br.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.dc},n=this.fc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.wc&&(e["X-Goog-Iam-Authorization-Token"]=this.wc),e},enumerable:!1,configurable:!0}),t}(),YJ=function(){function t(e,n,r){this.fc=e,this.dc=n,this.wc=r}return t.prototype.getToken=function(){return Promise.resolve(new $J(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(br.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function hT(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function pT(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new q(B.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hU(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function pU(t){if(!le.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function mU(t){if(le.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ae()}function je(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ug(t);throw new q(B.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function vU(t,e){if(e<=0)throw new q(B.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var gU=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,hU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),Fh=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gU({}),this._settingsFrozen=!1,e instanceof Fg?(this._databaseId=e,this._credentials=new fU):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fg(r.options.projectId)}(e),this._credentials=new KJ(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gU(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new fU;switch(n.type){case"gapi":var r=n.client;return he(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new YJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new q(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=uU.get(e))&&(Y("ComponentProvider","Removing Datastore"),uU.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),xt=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_r=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Qs=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,bu(i))||this)._path=i,o.type="collection",o}return N(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new xt(this.firestore,null,new le(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(_r);function yU(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ve(t),hT("collection","path",e),t instanceof Fh)return mU(n=Ve.fromString.apply(Ve,me([e],r))),new Qs(t,null,n);if(!(t instanceof xt||t instanceof Qs))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mU(n=Ve.fromString.apply(Ve,me([t.path],r)).child(Ve.fromString(e))),new Qs(t.firestore,null,n)}function Bg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ve(t),arguments.length===1&&(e=ZL.u()),hT("doc","path",e),t instanceof Fh)return pU(n=Ve.fromString.apply(Ve,me([e],r))),new xt(t,null,new le(n));if(!(t instanceof xt||t instanceof Qs))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pU(n=t._path.child(Ve.fromString.apply(Ve,me([e],r)))),new xt(t.firestore,t instanceof Qs?t.converter:null,new le(n))}function bU(t,e){return t=ve(t),e=ve(e),(t instanceof xt||t instanceof Qs)&&(e instanceof xt||e instanceof Qs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _U(t,e){return t=ve(t),e=ve(e),t instanceof _r&&e instanceof _r&&t.firestore===e.firestore&&Sh(t._query,e._query)&&t.converter===e.converter}var XJ=function(){function t(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Kx(this,"async_queue_retry"),this.Ac=function(){var r=Dg();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=Dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Rc(),this.bc(e)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var e=Dg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(e){return this.Rc(),this.yc?new Promise(function(n){}):this.bc(e)},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.mc.push(e),n.vc()})},t.prototype.vc=function(){return P(this,void 0,void 0,function(){var e,n=this;return O(this,function(r){switch(r.label){case 0:if(this.mc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return r.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!bl(e=r.sent()))throw e;return Y("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return n.vc()}),r.label=5;case 5:return[2]}})})},t.prototype.bc=function(e){var n=this,r=this._c.then(function(){return n.Tc=!0,e().catch(function(i){throw n.Ec=i,n.Tc=!1,Wt("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.Tc=!1,i})});return this._c=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Rc(),this.Ic.indexOf(e)>-1&&(n=0);var o=fJ.createAndSchedule(this,e,n,r,function(a){return i.Pc(a)});return this.gc.push(o),o},t.prototype.Rc=function(){this.Ec&&ae()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return[4,e=this._c];case 1:n.sent(),n.label=2;case 2:if(e!==this._c)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Sc=function(e){for(var n=0,r=this.gc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Dc=function(e){var n=this;return this.Vc().then(function(){n.gc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.gc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Vc()})},t.prototype.Cc=function(e){this.Ic.push(e)},t.prototype.Pc=function(e){var n=this.gc.indexOf(e);this.gc.splice(n,1)},t}();function ju(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var QJ=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),wU=-1,Rt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new XJ,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return N(e,t),e.prototype._terminate=function(){return this._firestoreClient||EU(this),this._firestoreClient.terminate()},e}(Fh);function pn(t){return t._firestoreClient||EU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EU(t){var e,n=t._freezeSettings(),r=function(i,o,a,l){return new WJ(i,o,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new zJ(t._credentials,t._queue,r)}function SU(t,e,n){var r=this,i=new tr;return t.asyncQueue.enqueue(function(){return P(r,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,iU(t,n)];case 1:return a.sent(),[4,oU(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function xU(t){if(t._initialized||t._terminated)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mo=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),El=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(er.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(er.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Sl=function(t){this._methodName=t},Uh=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)},t}(),JJ=/^__.*__$/,ZJ=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ch(e,this.data,n,this.fieldTransforms)},t}(),TU=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();function CU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var IU=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Nc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fc({path:r,Oc:!1});return i.$c(e),i},t.prototype.Mc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fc({path:r,Oc:!1});return i.Nc(),i},t.prototype.Lc=function(e){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(e){return Vg(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Nc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Bc("Document fields must not be empty");if(CU(this.xc)&&JJ.test(e))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),eZ=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||Ph(e)}return t.prototype.Qc=function(e,n,r,i){return i===void 0&&(i=!1),new IU({xc:e,methodName:n,Uc:r,path:ai.emptyPath(),Oc:!1,qc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function xl(t){var e=t._freezeSettings(),n=Ph(t._databaseId);return new eZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hg(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);yT("Data must be an object, but it was:",a,r);var l,c,d=kU(r,a);if(o.merge)l=new mu(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var f=[],p=0,m=o.mergeFields;p<m.length;p++){var g=bT(e,m[p],n);if(!a.contains(g))throw new q(B.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");NU(f,g)||f.push(g)}l=new mu(f),c=a.fieldTransforms.filter(function(y){return l.covers(y.field)})}else l=null,c=a.fieldTransforms;return new ZJ(new Ur(d),l,c)}var mT=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype._toFieldTransform=function(n){if(n.xc!==2)throw n.xc===1?n.Bc(this._methodName+"() can only appear at the top level of your update data"):n.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Sl);function RU(t,e,n){return new IU({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var tZ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype._toFieldTransform=function(n){return new Th(n.path,new wu)},e.prototype.isEqual=function(n){return n instanceof e},e}(Sl),nZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return N(e,t),e.prototype._toFieldTransform=function(n){var r=RU(this,n,!0),i=this.Kc.map(function(a){return Tl(a,r)}),o=new vl(i);return new Th(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Sl),rZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return N(e,t),e.prototype._toFieldTransform=function(n){var r=RU(this,n,!0),i=this.Kc.map(function(a){return Tl(a,r)}),o=new gl(i);return new Th(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Sl),iZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).jc=r,i}return N(e,t),e.prototype._toFieldTransform=function(n){var r=new Eu(n.R,_F(n.R,this.jc));return new Th(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Sl);function vT(t,e,n,r){var i=t.Qc(1,e,n);yT("Data must be an object, but it was:",i,r);var o=[],a=Ur.empty();yh(r,function(c,d){var f=_T(e,c,n);d=ve(d);var p=i.Mc(f);if(d instanceof mT)o.push(f);else{var m=Tl(d,p);m!=null&&(o.push(f),a.set(f,m))}});var l=new mu(o);return new TU(a,l,i.fieldTransforms)}function gT(t,e,n,r,i,o){var a=t.Qc(1,e,n),l=[bT(e,r,n)],c=[i];if(o.length%2!=0)throw new q(B.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<o.length;d+=2)l.push(bT(e,o[d])),c.push(o[d+1]);for(var f=[],p=Ur.empty(),m=l.length-1;m>=0;--m)if(!NU(f,l[m])){var g=l[m],y=c[m];y=ve(y);var _=a.Mc(g);if(y instanceof mT)f.push(g);else{var w=Tl(y,_);w!=null&&(f.push(g),p.set(g,w))}}var S=new mu(f);return new TU(p,S,a.fieldTransforms)}function AU(t,e,n,r){return r===void 0&&(r=!1),Tl(n,t.Qc(r?4:3,e))}function Tl(t,e){if(DU(t=ve(t)))return yT("Unsupported field value:",e,t),kU(t,e);if(t instanceof Sl)return function(n,r){if(!CU(r.xc))throw r.Bc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Bc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&e.xc!==4)throw e.Bc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,l=n;a<l.length;a++){var c=Tl(l[a],r.Lc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ve(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _F(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Zn.fromDate(n);return{timestampValue:Rh(r.R,i)}}if(n instanceof Zn)return i=new Zn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Rh(r.R,i)};if(n instanceof Uh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof El)return{bytesValue:HF(r.R,n._byteString)};if(n instanceof xt){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Bc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Nx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Bc("Unsupported field value: "+Ug(n))}(t,e)}function kU(t,e){var n={};return nF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yh(t,function(r,i){var o=Tl(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function DU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zn||t instanceof Uh||t instanceof El||t instanceof xt||t instanceof Sl)}function yT(t,e,n){if(!DU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Ug(n);throw r==="an object"?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}}function bT(t,e,n){if((e=ve(e))instanceof mo)return e._internalPath;if(typeof e=="string")return _T(t,e);throw Vg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var oZ=new RegExp("[~\\*/\\[\\]]");function _T(t,e,n){if(e.search(oZ)>=0)throw Vg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(mo.bind.apply(mo,me([void 0],e.split("."))))()._internalPath}catch(r){throw Vg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Vg(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new q(B.INVALID_ARGUMENT,(l+=". ")+t+c)}function NU(t,e){return t.some(function(n){return n.isEqual(e)})}var Bh=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new sZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),sZ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bh);function jg(t,e){return typeof e=="string"?_T(t,e):e instanceof mo?e._internalPath:e._delegate._internalPath}var Cl=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Jo=function(t){function e(n,r,i,o,a,l){var c=this;return(c=t.call(this,n,r,i,o,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return N(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(jg("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(Bh),Hh=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Jo),Js=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cl(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Hh(r._firestore,r._userDataWriter,i.key,i,new Cl(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(l){var c=new Hh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Cl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Hh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Cl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(f=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:aZ(l.type),doc:c,oldIndex:d,newIndex:f}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function aZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function OU(t,e){return t instanceof Jo&&e instanceof Jo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Js&&e instanceof Js&&t._firestore===e._firestore&&_U(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function PU(t){if(vg(t)&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vh=function(){};function Zs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var lZ=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Wc=n,o.Gc=r,o.zc=i,o.type="where",o}return N(e,t),e.prototype._apply=function(n){var r=xl(n.firestore),i=function(o,a,l,c,d,f,p){var m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+f+"' queries on FieldPath.documentId().");if(f==="in"||f==="not-in"){HU(p,f);for(var g=[],y=0,_=p;y<_.length;y++){var w=_[y];g.push(BU(c,o,w))}m={arrayValue:{values:g}}}else m=BU(c,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||HU(p,f),m=AU(l,"where",p,f==="in"||f==="not-in");var S=Br.create(d,f,m);return function(C,R){if(R.g()){var k=xx(C);if(k!==null&&!k.isEqual(R.field))throw new q(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+R.field.toString()+"'");var F=Sx(C);F!==null&&VU(C,R.field,F)}var L=function(W,$){for(var z=0,ke=W.filters;z<ke.length;z++){var M=ke[z];if($.indexOf(M.op)>=0)return M.op}return null}(C,function(W){switch(W){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(L!==null)throw L===R.op?new q(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+R.op.toString()+"' filter."):new q(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+R.op.toString()+"' filters with '"+L.toString()+"' filters.")}(o,S),S}(n._query,0,r,n.firestore._databaseId,this.Wc,this.Gc,this.zc);return new _r(n.firestore,n.converter,function(o,a){var l=o.filters.concat([a]);return new $o(o.path,o.collectionGroup,o.explicitOrderBy.slice(),l,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Vh),cZ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Wc=n,i.Hc=r,i.type="orderBy",i}return N(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new q(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new yu(o,a);return function(c,d){if(Sx(c)===null){var f=xx(c);f!==null&&VU(c,f,d.field)}}(i,l),l}(n._query,this.Wc,this.Hc);return new _r(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new $o(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(Vh),MU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Jc=r,o.Yc=i,o}return N(e,t),e.prototype._apply=function(n){return new _r(n.firestore,n.converter,mF(n._query,this.Jc,this.Yc))},e}(Vh),LU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Xc=r,o.Zc=i,o}return N(e,t),e.prototype._apply=function(n){var r=UU(n,this.type,this.Xc,this.Zc);return new _r(n.firestore,n.converter,function(i,o){return new $o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(Vh),FU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Xc=r,o.Zc=i,o}return N(e,t),e.prototype._apply=function(n){var r=UU(n,this.type,this.Xc,this.Zc);return new _r(n.firestore,n.converter,function(i,o){return new $o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(Vh);function UU(t,e,n,r){if(n[0]=ve(n[0]),n[0]instanceof Bh)return function(o,a,l,c,d){if(!c)throw new q(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var f=[],p=0,m=_u(o);p<m.length;p++){var g=m[p];if(g.field.isKeyField())f.push(dg(a,c.key));else{var y=c.data.field(g.field);if(gx(y))throw new q(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var _=g.field.canonicalString();throw new q(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+_+"' (used as the orderBy) does not exist.")}f.push(y)}}return new Eh(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=xl(t.firestore);return function(o,a,l,c,d,f){var p=o.explicitOrderBy;if(d.length>p.length)throw new q(B.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],g=0;g<d.length;g++){var y=d[g];if(p[g].field.isKeyField()){if(typeof y!="string")throw new q(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof y);if(!Tx(o)&&y.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+y+"' contains a slash.");var _=o.path.child(Ve.fromString(y));if(!le.isDocumentKey(_))throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+_+"' is not because it contains an odd number of segments.");var w=new le(_);m.push(dg(a,w))}else{var S=AU(l,c,y);m.push(S)}}return new Eh(m,f)}(t._query,t.firestore._databaseId,i,e,n,r)}function BU(t,e,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tx(e)&&n.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ve.fromString(n));if(!le.isDocumentKey(r))throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dg(t,new le(r))}if(n instanceof xt)return dg(t,n._key);throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ug(n)+".")}function HU(t,e){if(!Array.isArray(t)||t.length===0)throw new q(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new q(B.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function VU(t,e,n){if(!n.isEqual(e))throw new q(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var wT=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}},t.prototype.convertObject=function(e,n){var r=this,i={};return yh(e.fields||{},function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new Uh(Gt(e.latitude),Gt(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=iF(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Vs(e);return new Zn(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Ve.fromString(e);he(ZF(r));var i=new Fg(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(n)||Wt("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();function qg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var uZ=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return N(e,t),e.prototype.convertBytes=function(n){return new El(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new xt(this.firestore,null,r)},e}(wT),dZ=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=ea(e,this._firestore),o=qg(i.converter,n,r),a=Hg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Fn.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,l=ea(e,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof mo?gT(this._dataReader,"WriteBatch.update",l._key,n,r,i):vT(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,Fn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=ea(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(n._key,Fn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new q(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ea(t,e){if((t=ve(t)).firestore!==e)throw new q(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Il=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return N(e,t),e.prototype.convertBytes=function(n){return new El(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new xt(this.firestore,null,r)},e}(wT);function jU(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=je(t,xt);var o=je(t.firestore,Rt),a=xl(o);return jh(o,[(typeof(e=ve(e))=="string"||e instanceof mo?gT(a,"updateDoc",t._key,e,n,r):vT(a,"updateDoc",t._key,e)).toMutation(t._key,Fn.exists(!0))])}function qU(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=ve(t);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||ju(i[l])||(a=i[l],l++);var c,d,f,p={includeMetadataChanges:a.includeMetadataChanges};if(ju(i[l])){var m=i[l];i[l]=(e=m.next)===null||e===void 0?void 0:e.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(t instanceof xt)d=je(t.firestore,Rt),f=bu(t._key.path),c={next:function(_){i[l]&&i[l](ET(d,t,_))},error:i[l+1],complete:i[l+2]};else{var g=je(t,_r);d=je(g.firestore,Rt),f=g._query;var y=new Il(d);c={next:function(_){i[l]&&i[l](new Js(d,y,g,_))},error:i[l+1],complete:i[l+2]},PU(t._query)}return function(_,w,S,C){var R=this,k=new Mg(C),F=new tT(w,k,S);return _.asyncQueue.enqueueAndForget(function(){return P(R,void 0,void 0,function(){var L;return O(this,function(W){switch(W.label){case 0:return L=Jx,[4,Vu(_)];case 1:return[2,L.apply(void 0,[W.sent(),F])]}})})}),function(){k.Wo(),_.asyncQueue.enqueueAndForget(function(){return P(R,void 0,void 0,function(){var L;return O(this,function(W){switch(W.label){case 0:return L=Zx,[4,Vu(_)];case 1:return[2,L.apply(void 0,[W.sent(),F])]}})})})}}(pn(d),f,p,c)}function jh(t,e){return function(n,r){var i=this,o=new tr;return n.asyncQueue.enqueueAndForget(function(){return P(i,void 0,void 0,function(){var a;return O(this,function(l){switch(l.label){case 0:return a=xJ,[4,fT(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,o])]}})})}),o.promise}(pn(t),e)}function ET(t,e,n){var r=n.docs.get(e._key),i=new Il(t);return new Jo(t,i,e._key,r,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}var fZ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return N(e,t),e.prototype.get=function(n){var r=this,i=ea(n,this._firestore),o=new Il(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Jo(r._firestore,o,i._key,a._document,new Cl(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=xl(e)}return t.prototype.get=function(e){var n=this,r=ea(e,this._firestore),i=new uZ(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return ae();var a=o[0];if(a.isFoundDocument())return new Bh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Bh(n._firestore,i,r._key,null,r.converter);throw ae()})},t.prototype.set=function(e,n,r){var i=ea(e,this._firestore),o=qg(i.converter,n,r),a=Hg(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,l=ea(e,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof mo?gT(this._dataReader,"Transaction.update",l._key,n,r,i):vT(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=ea(e,this._firestore);return this._transaction.delete(n._key),this},t}());function zU(){if(typeof Uint8Array=="undefined")throw new q(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function WU(){if(typeof atob=="undefined")throw new q(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ST=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return WU(),new t(El.fromBase64String(e))},t.fromUint8Array=function(e){return zU(),new t(El.fromUint8Array(e))},t.prototype.toBase64=function(){return WU(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return zU(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),GU=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){xU(r=je(r,Rt));var o=pn(r),a=r._freezeSettings(),l=new cT;return SU(o,l,new nU(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){xU(n=je(n,Rt));var r=pn(n),i=n._freezeSettings(),o=new cT;return SU(r,o,new HJ(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new q(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new tr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return P(r,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return P(this,void 0,void 0,function(){var c;return O(this,function(d){switch(d.label){case 0:return Iu.yt()?(c=l+"main",[4,Iu.delete(c)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Vx(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),qh=function(){function t(e,n,r){var i=this;this._delegate=n,this.ta=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof Fg||(this.ea=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,l){l===void 0&&(l={});var c=(i=je(i,Fh))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==o&&cg("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:o+":"+a,ssl:!1})),l.mockUserToken){var d=If(l.mockUserToken),f=l.mockUserToken.sub||l.mockUserToken.user_id;if(!f)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new GJ(new dU(d,new br(f)))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return P(n,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return[4,sU(e)];case 1:return r=o.sent(),[4,aU(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=X(a);return l.$r.delete(0),Mh(l)}(i))]}})})})}(pn(je(this._delegate,Rt)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return P(n,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return[4,sU(e)];case 1:return r=o.sent(),[4,aU(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return P(this,void 0,void 0,function(){var l;return O(this,function(c){switch(c.label){case 0:return(l=X(a)).$r.add(0),[4,Lu(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(pn(je(this._delegate,Rt)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&hU("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget(function(){return P(n,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:return i=RJ,[4,fT(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(pn(je(this._delegate,Rt)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,l=new Mg(o);return i.asyncQueue.enqueueAndForget(function(){return P(a,void 0,void 0,function(){var c;return O(this,function(d){switch(d.label){case 0:return c=function(f,p){X(f).Gr.add(p),p.next()},[4,Vu(i)];case 1:return[2,c.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return P(a,void 0,void 0,function(){var c;return O(this,function(d){switch(d.label){case 0:return c=function(f,p){X(f).Gr.delete(p)},[4,Vu(i)];case 1:return[2,c.apply(void 0,[d.sent(),l])]}})})})}}(pn(n=je(n,Rt)),ju(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new zh(this,yU(this._delegate,e))}catch(n){throw nr(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new ta(this,Bg(this._delegate,e))}catch(n){throw nr(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Wu(this,function(n,r){if(n=je(n,Fh),hT("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new q(B.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _r(n,null,function(i){return new $o(Ve.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw nr(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var l=this,c=new tr;return o.asyncQueue.enqueueAndForget(function(){return P(l,void 0,void 0,function(){var d;return O(this,function(f){switch(f.label){case 0:return[4,function(p){return Lg(p).then(function(m){return m.datastore})}(o)];case 1:return d=f.sent(),new qJ(o.asyncQueue,d,a,c).run(),[2]}})})}),c.promise}(pn(r),function(o){return i(new fZ(r,o))})}(this._delegate,function(r){return e(new xT(n,r))})},t.prototype.batch=function(){var e=this;return pn(this._delegate),new TT(new dZ(this._delegate,function(n){return jh(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new q(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new q(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),zg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return N(e,t),e.prototype.convertBytes=function(n){return new ST(new El(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ta.na(r,this.firestore,null)},e}(wT);function KU(t){var e;e=t,Fi.setLogLevel(e)}var xT=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new zg(e)}return t.prototype.get=function(e){var n=this,r=Rl(e);return this._delegate.get(r).then(function(i){return new qu(n._firestore,new Jo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=Rl(e);return r?(pT("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=Rl(e);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],o)),this},t.prototype.delete=function(e){var n=Rl(e);return this._delegate.delete(n),this},t}(),TT=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=Rl(e);return r?(pT("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=Rl(e);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],o)),this},t.prototype.delete=function(e){var n=Rl(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Wg=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Hh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zu(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new zg(e),n),i.set(n,o)),o},t}();Wg.ia=new WeakMap;var ta=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new zg(e)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new q(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new xt(n._delegate,r,new le(e)))},t.na=function(e,n,r){return new t(n,new xt(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new zh(this.firestore,yU(this._delegate,e))}catch(n){throw nr(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=ve(e))instanceof xt&&bU(this._delegate,e)},t.prototype.set=function(e,n){n=pT("DocumentReference.set",n);try{return function(r,i,o){r=je(r,xt);var a=je(r.firestore,Rt),l=qg(r.converter,i,o);return jh(a,[Hg(xl(a),"setDoc",r._key,l,r.converter!==null,o).toMutation(r._key,Fn.none())])}(this._delegate,e,n)}catch(r){throw nr(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?jU(this._delegate,e):jU.apply(void 0,me([this._delegate,e,n],r))}catch(o){throw nr(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return jh(je((e=this._delegate).firestore,Rt),[new Ih(e._key,Fn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=$U(n),o=YU(n,function(a){return new qu(e.firestore,new Jo(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return qU(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=je(r,xt);var i=je(r.firestore,Rt),o=pn(i),a=new Il(i);return function(l,c){var d=this,f=new tr;return l.asyncQueue.enqueueAndForget(function(){return P(d,void 0,void 0,function(){var p;return O(this,function(m){switch(m.label){case 0:return p=function(g,y,_){return P(this,void 0,void 0,function(){var w,S;return O(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(R,k){var F=X(R);return F.persistence.runTransaction("read document","readonly",function(L){return F.Mn.mn(L,k)})}(g,y)];case 1:return(S=C.sent()).isFoundDocument()?_.resolve(S):S.isNoDocument()?_.resolve(null):_.reject(new q(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=C.sent(),S=Bu(w,"Failed to get document '"+y+" from cache"),_.reject(S),[3,3];case 3:return[2]}})})},[4,dT(l)];case 1:return[2,p.apply(void 0,[m.sent(),c,f])]}})})}),f.promise}(o,r._key).then(function(l){return new Jo(i,a,r._key,l,new Cl(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=je(r,xt);var i=je(r.firestore,Rt);return lU(pn(i),r._key,{source:"server"}).then(function(o){return ET(i,r,o)})}(this._delegate):function(r){r=je(r,xt);var i=je(r.firestore,Rt);return lU(pn(i),r._key).then(function(o){return ET(i,r,o)})}(this._delegate)).then(function(r){return new qu(n.firestore,new Jo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Wg.sa(this.firestore,e)):this._delegate.withConverter(null))},t}();function nr(t,e,n){return t.message=t.message.replace(e,n),t}function $U(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!ju(r))return r}return{}}function YU(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=ju(t[0])?t[0]:ju(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var qu=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ta(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return OU(this._delegate,e._delegate)},t}(),zu=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return N(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(qu),Wu=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new zg(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Zs(this._delegate,function(i,o,a){var l=o,c=jg("where",i);return new lZ(c,l,a)}(e,n,r)))}catch(i){throw nr(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Zs(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=jg("orderBy",r);return new cZ(a,o)}(e,n)))}catch(r){throw nr(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Zs(this._delegate,function(n){return vU("limit",n),new MU("limit",n,"F")}(e)))}catch(n){throw nr(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Zs(this._delegate,function(n){return vU("limitToLast",n),new MU("limitToLast",n,"L")}(e)))}catch(n){throw nr(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new LU("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw nr(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new LU("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw nr(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FU("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw nr(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zs(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FU("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw nr(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return _U(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=je(r,_r);var i=je(r.firestore,Rt),o=pn(i),a=new Il(i);return function(l,c){var d=this,f=new tr;return l.asyncQueue.enqueueAndForget(function(){return P(d,void 0,void 0,function(){var p;return O(this,function(m){switch(m.label){case 0:return p=function(g,y,_){return P(this,void 0,void 0,function(){var w,S,C,R,k;return O(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,3]),[4,kg(g,y,!0)];case 1:return k=F.sent(),w=new Y2(y,k.Bn),S=w._o(k.documents),C=w.applyChanges(S,!1),_.resolve(C.snapshot),[3,3];case 2:return R=F.sent(),k=Bu(R,"Failed to execute query '"+y+" against cache"),_.reject(k),[3,3];case 3:return[2]}})})},[4,dT(l)];case 1:return[2,p.apply(void 0,[m.sent(),c,f])]}})})}),f.promise}(o,r._query).then(function(l){return new Js(i,a,r,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=je(r,_r);var i=je(r.firestore,Rt),o=pn(i),a=new Il(i);return cU(o,r._query,{source:"server"}).then(function(l){return new Js(i,a,r,l)})}(this._delegate):function(r){r=je(r,_r);var i=je(r.firestore,Rt),o=pn(i),a=new Il(i);return PU(r._query),cU(o,r._query).then(function(l){return new Js(i,a,r,l)})}(this._delegate)).then(function(r){return new Gg(n.firestore,new Js(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=$U(n),o=YU(n,function(a){return new Gg(e.firestore,new Js(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return qU(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Wg.sa(this.firestore,e)):this._delegate.withConverter(null))},t}(),hZ=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new zu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Gg=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Wu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new zu(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new hZ(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new zu(r._firestore,i))})},t.prototype.isEqual=function(e){return OU(this._delegate,e._delegate)},t}(),zh=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return N(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ta(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new ta(this.firestore,n===void 0?Bg(this._delegate):Bg(this._delegate,n))}catch(r){throw nr(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=je(i.firestore,Rt),l=Bg(i),c=qg(i.converter,o);return jh(a,[Hg(xl(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,Fn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new ta(r.firestore,i)})},e.prototype.isEqual=function(n){return bU(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(Wg.sa(this.firestore,n)):this._delegate.withConverter(null))},e}(Wu);function Rl(t){return je(t,xt)}var XU=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(mo.bind.apply(mo,me([void 0],e)))}return t.documentId=function(){return new t(ai.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=ve(e))instanceof mo&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),QU=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new tZ("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new mT("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new nZ("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new rZ("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new iZ("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function JU(t){return function(e,n){var r=pn(e=je(e,Rt)),i=new QJ;return function(o,a,l,c){var d=this,f=function(p,m){return function(g,y){return new VJ(g,y)}(function(g,y){if(g instanceof Uint8Array)return rU(g,y);if(g instanceof ArrayBuffer)return rU(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof p=="string"?new TextEncoder().encode(p):p),m)}(l,Ph(a));o.asyncQueue.enqueueAndForget(function(){return P(d,void 0,void 0,function(){var p;return O(this,function(m){switch(m.label){case 0:return p=BJ,[4,fT(o)];case 1:return p.apply(void 0,[m.sent(),f,c]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function ZU(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return P(a,void 0,void 0,function(){var l;return O(this,function(c){switch(c.label){case 0:return l=function(d,f){var p=X(d);return p.persistence.runTransaction("Get named query","readonly",function(m){return p.Qe.getNamedQuery(m,f)})},[4,dT(i)];case 1:return[2,l.apply(void 0,[c.sent(),o])]}})})})}(pn(e=je(e,Rt)),n).then(function(i){return i?new _r(e,null,i.query):null})).then(function(i){return i?new Wu(r,i):null})}ni();var pZ={Firestore:qh,GeoPoint:Uh,Timestamp:Zn,Blob:ST,Transaction:xT,WriteBatch:TT,DocumentReference:ta,DocumentSnapshot:qu,Query:Wu,QueryDocumentSnapshot:zu,QuerySnapshot:Gg,CollectionReference:zh,FieldPath:XU,FieldValue:QU,setLogLevel:KU,CACHE_SIZE_UNLIMITED:wU};function mZ(t){(function(e,n){e.INTERNAL.registerComponent(new ct("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pZ)))})(t,function(e,n){return new qh(e,new Rt(e,n),new GU)}),t.registerVersion("@firebase/firestore","2.3.1")}mZ(Z);mr();var age=ei(ro());ie();function vZ(t){t.prototype.loadBundle=JU,t.prototype.namedQuery=ZU}vZ(qh);vr();ie();ni();var eB={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gu=function(t){N(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function gZ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function yZ(t,e,n){var r=gZ(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var l=a.status;if(typeof l=="string"){if(!eB[l])return new Gu("internal","internal");r=eB[l],i=l}var c=a.message;typeof c=="string"&&(i=c),o=a.details,o!==void 0&&(o=n.decode(o))}}catch(d){}return r==="ok"?null:new Gu(r,i,o)}var bZ=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:if(!this.auth)return[2,void 0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=r.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n=r.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,n.sent()];case 3:return e=n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();var _Z="type.googleapis.com/google.protobuf.Int64Value",wZ="type.googleapis.com/google.protobuf.UInt64Value";function tB(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var EZ=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return tB(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case _Z:case wZ:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?tB(e,function(i){return n.decode(i)}):e},t}();function SZ(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Gu("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var nB=function(){function t(e,n,r,i,o,a){var l=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new EZ,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new bZ(n,r),this.cancelAllRequests=new Promise(function(d){l.deleteService=function(){return d()}});try{var c=new URL(o);this.customDomain=c.origin,this.region="us-central1"}catch(d){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return P(this,void 0,void 0,function(){var i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=d.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=d.sent(),[3,5];case 4:return a=d.sent(),[2,{status:0,json:null}];case 5:l=null,d.label=6;case 6:return d.trys.push([6,8,,9]),[4,o.json()];case 7:return l=d.sent(),[3,9];case 8:return c=d.sent(),[3,9];case 9:return[2,{status:o.status,json:l}]}})})},t.prototype.getAppCheckToken=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return P(this,void 0,void 0,function(){var i,o,a,l,c,d,f,p,m,g,y,_;return O(this,function(w){switch(w.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=w.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,d=SZ(c),f=d.timer,p=d.promise,[4,Promise.race([rB(f,this.postJSON(i,o,a)),p,rB(f,this.cancelAllRequests)])];case 2:if(m=w.sent(),!m)throw new Gu("cancelled","Firebase Functions instance was deleted.");if(g=yZ(m.status,m.json,this.serializer),g)throw g;if(!m.json)throw new Gu("internal","Response is not valid JSON object.");if(y=m.json.data,typeof y=="undefined"&&(y=m.json.result),typeof y=="undefined")throw new Gu("internal","Response is missing data field.");return _=this.serializer.decode(y),[2,{data:_}]}})})},t}();function rB(t,e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}var xZ="functions";function TZ(t,e){var n={Functions:nB};function r(i,o){var a=o.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),d=i.getProvider("app-check-internal"),f=i.getProvider("messaging");return new nB(l,c,f,d,a,e)}t.INTERNAL.registerComponent(new ct(xZ,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var CZ="@firebase/functions",IZ="0.6.9";TZ(Z,fetch.bind(self));Z.registerVersion(CZ,IZ);vr();ni();ie();mr();var oB=ei(CT()),RZ="@firebase/installations",sB="0.4.26";var aB=1e4,lB="w:"+sB,cB="FIS_v2",AZ="https://firebaseinstallations.googleapis.com/v1",kZ=60*60*1e3,DZ="installations",NZ="Installations";var na,OZ=(na={},na["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',na["not-registered"]="Firebase Installation is not registered.",na["installation-not-found"]="Firebase Installation not found.",na["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',na["app-offline"]="Could not process request. Application offline.",na["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",na),Zo=new Kn(DZ,NZ,OZ);function uB(t){return t instanceof Di&&t.code.includes("request-failed")}function IT(t){var e=t.projectId;return AZ+"/projects/"+e+"/installations"}function dB(t){return{token:t.token,requestStatus:2,expiresIn:PZ(t.expiresIn),creationTime:Date.now()}}function RT(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Zo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function fB(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function hB(t,e){var n=e.refreshToken,r=fB(t);return r.append("Authorization",MZ(n)),r}function AT(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function PZ(t){return Number(t.replace("s","000"))}function MZ(t){return cB+" "+t}function LZ(t,e){var n=e.fid;return P(this,void 0,void 0,function(){var r,i,o,a,l,c,d;return O(this,function(f){switch(f.label){case 0:return r=IT(t),i=fB(t),o={fid:n,authVersion:cB,appId:t.appId,sdkVersion:lB},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,AT(function(){return fetch(r,a)})];case 1:return l=f.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=f.sent(),d={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:dB(c.authToken)},[2,d];case 3:return[4,RT("Create Installation",l)];case 4:throw f.sent()}})})}function pB(t){return new Promise(function(e){setTimeout(e,t)})}function FZ(t){var e=btoa(String.fromCharCode.apply(String,me([],Ft(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}var UZ=/^[cdef][\w-]{21}$/,kT="";function BZ(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=HZ(t);return UZ.test(n)?n:kT}catch(r){return kT}}function HZ(t){var e=FZ(t);return e.substr(0,22)}function Ku(t){return t.appName+"!"+t.appId}var $u=new Map;function mB(t,e){var n=Ku(t);vB(n,e),qZ(n,e)}function VZ(t,e){gB();var n=Ku(t),r=$u.get(n);r||(r=new Set,$u.set(n,r)),r.add(e)}function jZ(t,e){var n=Ku(t),r=$u.get(n);!r||(r.delete(e),r.size===0&&$u.delete(n),yB())}function vB(t,e){var n,r,i=$u.get(t);if(!!i)try{for(var o=mt(i),a=o.next();!a.done;a=o.next()){var l=a.value;l(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function qZ(t,e){var n=gB();n&&n.postMessage({key:t,fid:e}),yB()}var Al=null;function gB(){return!Al&&"BroadcastChannel"in self&&(Al=new BroadcastChannel("[Firebase] FID Change"),Al.onmessage=function(t){vB(t.data.key,t.data.fid)}),Al}function yB(){$u.size===0&&Al&&(Al.close(),Al=null)}var zZ="firebase-installations-database",WZ=1,kl="firebase-installations-store",DT=null;function NT(){return DT||(DT=(0,oB.openDb)(zZ,WZ,function(t){switch(t.oldVersion){case 0:t.createObjectStore(kl)}})),DT}function $g(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a;return O(this,function(l){switch(l.label){case 0:return n=Ku(t),[4,NT()];case 1:return r=l.sent(),i=r.transaction(kl,"readwrite"),o=i.objectStore(kl),[4,o.get(n)];case 2:return a=l.sent(),[4,o.put(e,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==e.fid)&&mB(t,e.fid),[2,e]}})})}function OT(t){return P(this,void 0,void 0,function(){var e,n,r;return O(this,function(i){switch(i.label){case 0:return e=Ku(t),[4,NT()];case 1:return n=i.sent(),r=n.transaction(kl,"readwrite"),[4,r.objectStore(kl).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Wh(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l;return O(this,function(c){switch(c.label){case 0:return n=Ku(t),[4,NT()];case 1:return r=c.sent(),i=r.transaction(kl,"readwrite"),o=i.objectStore(kl),[4,o.get(n)];case 2:return a=c.sent(),l=e(a),l!==void 0?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&mB(t,l.fid),[2,l]}})})}function PT(t){return P(this,void 0,void 0,function(){var e,n,r;return O(this,function(i){switch(i.label){case 0:return[4,Wh(t,function(o){var a=GZ(o),l=KZ(t,a);return e=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==kT?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function GZ(t){var e=t||{fid:BZ(),registrationStatus:0};return _B(e)}function KZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Zo.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=$Z(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YZ(t)}:{installationEntry:e}}function $Z(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,LZ(t,e)];case 1:return n=i.sent(),[2,$g(t,n)];case 2:return r=i.sent(),uB(r)&&r.customData.serverCode===409?[4,OT(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,$g(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function YZ(t){return P(this,void 0,void 0,function(){var e,n,r,i;return O(this,function(o){switch(o.label){case 0:return[4,bB(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,pB(100)];case 3:return o.sent(),[4,bB(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,PT(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function bB(t){return Wh(t,function(e){if(!e)throw Zo.create("installation-not-found");return _B(e)})}function _B(t){return XZ(t)?{fid:t.fid,registrationStatus:0}:t}function XZ(t){return t.registrationStatus===1&&t.registrationTime+aB<Date.now()}function QZ(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return P(this,void 0,void 0,function(){var i,o,a,l,c,d,f,p;return O(this,function(m){switch(m.label){case 0:return i=JZ(n,e),o=hB(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:lB}},c={method:"POST",headers:o,body:JSON.stringify(l)},[4,AT(function(){return fetch(i,c)})];case 1:return d=m.sent(),d.ok?[4,d.json()]:[3,3];case 2:return f=m.sent(),p=dB(f),[2,p];case 3:return[4,RT("Generate Auth Token",d)];case 4:throw m.sent()}})})}function JZ(t,e){var n=e.fid;return IT(t)+"/"+n+"/authTokens:generate"}function MT(t,e){return e===void 0&&(e=!1),P(this,void 0,void 0,function(){var n,r,i,o;return O(this,function(a){switch(a.label){case 0:return[4,Wh(t.appConfig,function(l){if(!EB(l))throw Zo.create("not-registered");var c=l.authToken;if(!e&&tee(c))return l;if(c.requestStatus===1)return n=ZZ(t,e),l;if(!navigator.onLine)throw Zo.create("app-offline");var d=ree(l);return n=eee(t,d),d})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function ZZ(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return[4,wB(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,pB(100)];case 3:return i.sent(),[4,wB(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,MT(t,e)]:[2,r]}})})}function wB(t){return Wh(t,function(e){if(!EB(e))throw Zo.create("not-registered");var n=e.authToken;return iee(n)?I(I({},e),{authToken:{requestStatus:0}}):e})}function eee(t,e){return P(this,void 0,void 0,function(){var n,r,i,r;return O(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,QZ(t,e)];case 1:return n=o.sent(),r=I(I({},e),{authToken:n}),[4,$g(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return i=o.sent(),uB(i)&&(i.customData.serverCode===401||i.customData.serverCode===404)?[4,OT(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=I(I({},e),{authToken:{requestStatus:0}}),[4,$g(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}function EB(t){return t!==void 0&&t.registrationStatus===2}function tee(t){return t.requestStatus===2&&!nee(t)}function nee(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+kZ}function ree(t){var e={requestStatus:1,requestTime:Date.now()};return I(I({},t),{authToken:e})}function iee(t){return t.requestStatus===1&&t.requestTime+aB<Date.now()}function oee(t){return P(this,void 0,void 0,function(){var e,n,r;return O(this,function(i){switch(i.label){case 0:return[4,PT(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):MT(t).catch(console.error),[2,n.fid]}})})}function see(t,e){return e===void 0&&(e=!1),P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return[4,aee(t.appConfig)];case 1:return r.sent(),[4,MT(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function aee(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return[4,PT(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function lee(t,e){return P(this,void 0,void 0,function(){var n,r,i,o;return O(this,function(a){switch(a.label){case 0:return n=cee(t,e),r=hB(t,e),i={method:"DELETE",headers:r},[4,AT(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,RT("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function cee(t,e){var n=e.fid;return IT(t)+"/"+n}function uee(t){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Wh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Zo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Zo.create("app-offline");case 3:return[4,lee(e,n)];case 4:return r.sent(),[4,OT(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function dee(t,e){var n=t.appConfig;return VZ(n,e),function(){jZ(n,e)}}function fee(t){var e,n;if(!t||!t.options)throw LT("App Configuration");if(!t.name)throw LT("App Name");var r=["projectId","apiKey","appId"];try{for(var i=mt(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw LT(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function LT(t){return Zo.create("missing-app-config-values",{valueName:t})}function hee(t){var e="installations";t.INTERNAL.registerComponent(new ct(e,function(n){var r=n.getProvider("app").getImmediate(),i=fee(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},l={app:r,getId:function(){return oee(a)},getToken:function(c){return see(a,c)},delete:function(){return uee(a)},onIdChange:function(c){return dee(a,c)}};return l},"PUBLIC")),t.registerVersion(RZ,sB)}hee(Z);ni();mr();ie();var Dl=ei(CT());vr();var an,pee=(an={},an["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',an["only-available-in-window"]="This method is available in a Window context.",an["only-available-in-sw"]="This method is available in a service worker context.",an["permission-default"]="The notification permission was not granted and dismissed instead.",an["permission-blocked"]="The notification permission was not granted and blocked instead.",an["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",an["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",an["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",an["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",an["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",an["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",an["token-update-no-token"]="FCM returned no token when updating the user to push.",an["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",an["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",an["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",an["invalid-vapid-key"]="The public VAPID key must be a string.",an["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",an),Qe=new Kn("messaging","Messaging",pee);var mee="/firebase-messaging-sw.js",vee="/firebase-cloud-messaging-push-scope",Yg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gee="https://fcmregistrations.googleapis.com/v1",SB="FCM_MSG",yee="FirebaseMessaging: ",bee="google.c.a.e",xB="google.c.a.c_id",_ee="google.c.a.ts",wee="google.c.a.c_l",Eee=1e3,See=3e3;var Nl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Nl||(Nl={}));function es(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,me([],Ft(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xee(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}var FT="fcm_token_details_db",Tee=5,TB="fcm_token_object_Store";function Cee(t){return P(this,void 0,void 0,function(){var e,n,r,i,o=this;return O(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(l){return l.name}),!n.includes(FT))return[2,null];a.label=2;case 2:return r=null,[4,(0,Dl.openDb)(FT,Tee,function(l){return P(o,void 0,void 0,function(){var c,d,f,f,f,p;return O(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(TB)?(c=l.transaction.objectStore(TB),[4,c.index("fcmSenderId").get(t)]):[2];case 1:return d=m.sent(),[4,c.clear()];case 2:if(m.sent(),!d)return[2];if(l.oldVersion===2){if(f=d,!f.auth||!f.p256dh||!f.endpoint)return[2];r={token:f.fcmToken,createTime:(p=f.createTime)!==null&&p!==void 0?p:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:es(f.vapidKey)}}}else l.oldVersion===3?(f=d,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:es(f.auth),p256dh:es(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:es(f.vapidKey)}}):l.oldVersion===4&&(f=d,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:es(f.auth),p256dh:es(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:es(f.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,(0,Dl.deleteDb)(FT)];case 4:return a.sent(),[4,(0,Dl.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,Dl.deleteDb)("undefined")];case 6:return a.sent(),[2,Iee(r)?r:null]}})})}function Iee(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var Ree="firebase-messaging-database",Aee=1,Ol="firebase-messaging-store",UT=null;function BT(){return UT||(UT=(0,Dl.openDb)(Ree,Aee,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ol)}})),UT}function Xg(t){return P(this,void 0,void 0,function(){var e,n,r,i;return O(this,function(o){switch(o.label){case 0:return e=VT(t),[4,BT()];case 1:return n=o.sent(),[4,n.transaction(Ol).objectStore(Ol).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,Cee(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,HT(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function HT(t,e){return P(this,void 0,void 0,function(){var n,r,i;return O(this,function(o){switch(o.label){case 0:return n=VT(t),[4,BT()];case 1:return r=o.sent(),i=r.transaction(Ol,"readwrite"),[4,i.objectStore(Ol).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function kee(t){return P(this,void 0,void 0,function(){var e,n,r;return O(this,function(i){switch(i.label){case 0:return e=VT(t),[4,BT()];case 1:return n=i.sent(),r=n.transaction(Ol,"readwrite"),[4,r.objectStore(Ol).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function VT(t){var e=t.appConfig;return e.appId}function Dee(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:return[4,qT(t)];case 1:n=d.sent(),r=IB(e),i={method:"POST",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(jT(t.appConfig),i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw l=d.sent(),Qe.create("token-subscribe-failed",{errorInfo:l});case 6:if(o.error)throw c=o.error.message,Qe.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Qe.create("token-subscribe-no-token");return[2,o.token]}})})}function Nee(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:return[4,qT(t)];case 1:n=d.sent(),r=IB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(jT(t.appConfig)+"/"+e.token,i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw l=d.sent(),Qe.create("token-update-failed",{errorInfo:l});case 6:if(o.error)throw c=o.error.message,Qe.create("token-update-failed",{errorInfo:c});if(!o.token)throw Qe.create("token-update-no-token");return[2,o.token]}})})}function CB(t,e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l;return O(this,function(c){switch(c.label){case 0:return[4,qT(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(jT(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw a=o.error.message,Qe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Qe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function jT(t){var e=t.projectId;return gee+"/projects/"+e+"/registrations"}function qT(t){var e=t.appConfig,n=t.installations;return P(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function IB(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==Yg&&(o.web.applicationPubKey=i),o}var Oee=7*24*60*60*1e3;function zT(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a;return O(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Qe.create("permission-blocked");return[4,Mee(e,n)];case 1:return r=l.sent(),[4,Xg(t)];case 2:return i=l.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:es(r.getKey("auth")),p256dh:es(r.getKey("p256dh"))},i?[3,3]:[2,RB(t,o)];case 3:if(Lee(i.subscriptionOptions,o))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,CB(t,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,RB(t,o)];case 8:return Date.now()>=i.createTime+Oee?[2,Pee({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Gh(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return[4,Xg(t)];case 1:return n=i.sent(),n?[4,CB(t,n.token)]:[3,4];case 2:return i.sent(),[4,kee(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function Pee(t,e,n){return P(this,void 0,void 0,function(){var r,i,o;return O(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Nee(e,t)];case 1:return r=a.sent(),i=I(I({},t),{token:r,createTime:Date.now()}),[4,HT(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Gh(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function RB(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return[4,Dee(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,HT(t,r)];case 2:return i.sent(),[2,r.token]}})})}function Mee(t,e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xee(e)})]}})})}function Lee(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}function Fee(t){var e={from:t.from,collapseKey:t.collapse_key};return Uee(e,t),Bee(e,t),Hee(e,t),e}function Uee(t,e){if(!!e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function Bee(t,e){!e.data||(t.data=e.data)}function Hee(t,e){if(!!e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}function AB(t){return typeof t=="object"&&!!t&&xB in t}function kB(t){return new Promise(function(e){setTimeout(e,t)})}var Vee=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Qe.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return P(this,void 0,void 0,function(){var r;return O(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Xg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:Yg,i.label=2;case 2:return[2,zT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Gh(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Qe.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Qe.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Qe.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Qe.create("only-available-in-window")},t.prototype.onMessage=function(){throw Qe.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Qe.create("only-available-in-window")},t.prototype.onPush=function(e){return P(this,void 0,void 0,function(){var n,r,i,o;return O(this,function(a){switch(a.label){case 0:return n=qee(e),n?[4,DB()]:(console.debug(yee+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Wee(r)?[2,Gee(r,n)]:(i=!1,n.notification?[4,Kee(jee(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=Fee(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,kB(Eee)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return P(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Gh(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Xg(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Gh(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,zT(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Yg)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return P(this,void 0,void 0,function(){var i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[SB],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=$ee(i),o?(a=new URL(o,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,zee(a)]):[2];case 1:return c=d.sent(),c?[3,4]:[4,self.clients.openWindow(o)];case 2:return c=d.sent(),[4,kB(See)];case 3:return d.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=d.sent(),d.label=6;case 6:return c?(i.messageType=Nl.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},t}();function jee(t){var e,n=I({},t.notification);return n.data=(e={},e[SB]=t,e),n}function qee(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function zee(t){return P(this,void 0,void 0,function(){var e,n,r,i,o,a,l;return O(this,function(c){switch(c.label){case 0:return[4,DB()];case 1:e=c.sent();try{for(n=mt(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(d){a={error:d}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Wee(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function Gee(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Nl.PUSH_RECEIVED;try{for(var i=mt(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function DB(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Kee(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function $ee(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(AB(t.data)?self.location.origin:null)}var Yee=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Nl.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Qee(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,AB(r)&&r[bee]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return P(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Qe.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,zT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return P(this,void 0,void 0,function(){return O(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Yg),[2]})})},t.prototype.updateSwReg=function(e){return P(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&!!this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Qe.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(mee,{scope:vee})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Qe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Gh(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Qe.create("permission-blocked"):Qe.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Qe.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Qe.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Qe.create("invalid-sw-registration");if(this.swRegistration)throw Qe.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Qe.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Qe.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return P(this,void 0,void 0,function(){var r,i;return O(this,function(o){switch(o.label){case 0:return r=Xee(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[xB],message_name:n[wee],message_time:n[_ee],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Xee(t){switch(t){case Nl.NOTIFICATION_CLICKED:return"notification_open";case Nl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qee(t){return delete t.messageType,delete t.isFirebaseMessaging,t}function Jee(t){var e,n;if(!t||!t.options)throw WT("App Configuration Object");if(!t.name)throw WT("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=mt(r),a=o.next();!a.done;a=o.next()){var l=a.value;if(!i[l])throw WT(l)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function WT(t){return Qe.create("missing-app-config-values",{valueName:t})}var Zee="messaging";function ete(t){var e=t.getProvider("app").getImmediate(),n=Jee(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!NB())throw Qe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Vee(o):new Yee(o)}var tte={isSupported:NB};Z.INTERNAL.registerComponent(new ct(Zee,ete,"PUBLIC").setServiceProps(tte));function NB(){return self&&"ServiceWorkerGlobalScope"in self?rte():nte()}function nte(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function rte(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}vr();ie();mr();ni();var OB="firebasestorage.googleapis.com",PB="storageBucket",ite=2*60*1e3,ote=10*60*1e3,$t=function(t){N(e,t);function e(n,r){var i=t.call(this,GT(n),"Firebase Storage: "+r+" ("+GT(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return GT(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(Di);function GT(t){return"storage/"+t}function KT(){var t="An unknown error occurred, please check the error payload for server response.";return new $t("unknown",t)}function ste(t){return new $t("object-not-found","Object '"+t+"' does not exist.")}function ate(t){return new $t("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lte(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t("unauthenticated",t)}function cte(){return new $t("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function ute(t){return new $t("unauthorized","User does not have permission to access '"+t+"'.")}function dte(){return new $t("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function MB(){return new $t("canceled","User canceled the upload/download.")}function fte(t){return new $t("invalid-url","Invalid URL '"+t+"'.")}function hte(t){return new $t("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function pte(){return new $t("no-default-bucket","No default bucket found. Did you set the '"+PB+"' property when initializing the app?")}function LB(){return new $t("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mte(){return new $t("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function vte(){return new $t("no-download-url","The given file does not have any download URLs.")}function Pl(t){return new $t("invalid-argument",t)}function FB(){return new $t("app-deleted","The Firebase app was deleted.")}function UB(t){return new $t("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kh(t,e){return new $t("invalid-format","String does not match format '"+t+"': "+e)}function Qg(t){throw new $t("internal-error","Internal error: "+t)}var ui={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$T=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function BB(t,e){switch(t){case ui.RAW:return new $T(HB(e));case ui.BASE64:case ui.BASE64URL:return new $T(VB(t,e));case ui.DATA_URL:return new $T(yte(e),bte(e))}throw KT()}function HB(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)==55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)==56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gte(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Kh(ui.DATA_URL,"Malformed data URL.")}return HB(e)}function VB(t,e){switch(t){case ui.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Kh(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case ui.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw Kh(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(e)}catch(f){throw Kh(t,"Invalid character found")}for(var c=new Uint8Array(l.length),d=0;d<l.length;d++)c[d]=l.charCodeAt(d);return c}var jB=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kh(ui.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=_te(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function yte(t){var e=new jB(t);return e.base64?VB(ui.BASE64,e.rest):gte(e.rest)}function bte(t){var e=new jB(t);return e.contentType}function _te(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}var wte={STATE_CHANGED:"state_changed"},rr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function YT(t){switch(t){case"running":case"pausing":case"canceling":return rr.RUNNING;case"paused":return rr.PAUSED;case"success":return rr.SUCCESS;case"canceled":return rr.CANCELED;case"error":return rr.ERROR;default:return rr.ERROR}}var Ml;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ml||(Ml={}));var Ete=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ml.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Ml.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Ml.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Qg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Qg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Qg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Qg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();var Ste=function(){function t(){}return t.prototype.createXhrIo=function(){return new Ete},t}();var di=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(r.path==="")return r;throw hte(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}for(var f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp("^https?://"+p+"/"+f+"/b/"+i+"/o"+m,"i"),y={bucket:1,path:3},_=n===OB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",S=new RegExp("^https?://"+_+"/"+i+"/"+w,"i"),C={bucket:1,path:2},R=[{regex:l,indices:c,postModify:o},{regex:g,indices:y,postModify:d},{regex:S,indices:C,postModify:d}],k=0;k<R.length;k++){var F=R[k],L=F.regex.exec(e);if(L){var W=L[F.indices.bucket],$=L[F.indices.path];$||($=""),r=new t(W,$),F.postModify(r);break}}if(r==null)throw fte(e);return r},t}(),xte=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function Tte(t,e,n){var r=1,i=null,o=!1,a=0;function l(){return a===2}var c=!1;function d(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];c||(c=!0,e.apply(null,y))}function f(y){i=setTimeout(function(){i=null,t(p,l())},y)}function p(y){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];if(!c){if(y){d.call.apply(d,me([null,y],_));return}var S=l()||o;if(S){d.call.apply(d,me([null,y],_));return}r<64&&(r*=2);var C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,f(C)}}var m=!1;function g(y){m||(m=!0,!c&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),setTimeout(function(){o=!0,g(!0)},n),g}function Cte(t){t(!1)}function Ite(t){return t!==void 0}function Rte(t){return typeof t=="function"}function Ate(t){return typeof t=="object"&&!Array.isArray(t)}function Jg(t){return typeof t=="string"||t instanceof String}function qB(t){return XT()&&t instanceof Blob}function XT(){return typeof Blob!="undefined"}function QT(t,e,n,r){if(r<e)throw Pl("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Pl("Invalid value for '"+t+"'. Expected "+n+" or less.")}function ra(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function zB(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var kte=function(){function t(e,n,r,i,o,a,l,c,d,f,p){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=f,this.timeout_=d,this.pool_=p,this.promise_=new Promise(function(g,y){m.resolve_=g,m.reject_=y,m.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new Zg(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function l(c){var d=c.loaded,f=c.lengthComputable?c.total:-1;e.progressCallback_!==null&&e.progressCallback_(d,f)}e.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(c){e.progressCallback_!==null&&c.removeUploadProgressListener(l),e.pendingXhr_=null,c=c;var d=c.getErrorCode()===Ml.NO_ERROR,f=c.getStatus();if(!d||e.isRetryStatusCode_(f)){var p=c.getErrorCode()===Ml.ABORT;i(!1,new Zg(!1,null,p));return}var m=e.successCodes_.indexOf(f)!==-1;i(!0,new Zg(m,c))})}function r(i,o){var a=e.resolve_,l=e.reject_,c=o.xhr;if(o.wasSuccessCode)try{var d=e.callback_(c,c.getResponseText());Ite(d)?a(d):a()}catch(p){l(p)}else if(c!==null){var f=KT();f.serverResponse=c.getResponseText(),e.errorCallback_?l(e.errorCallback_(c,f)):l(f)}else if(o.canceled){var f=e.appDelete_?FB():MB();l(f)}else{var f=dte();l(f)}}this.canceled_?r(!1,new Zg(!1,null,!0)):this.backoffId_=Tte(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cte(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),Zg=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function Dte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ote(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Pte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Mte(t,e,n,r,i,o){var a=zB(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Ote(c,e),Dte(c,n),Nte(c,o),Pte(c,r),new kte(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}function Lte(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function Fte(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Lte();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(XT())return new Blob(t);throw new $t("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Ute(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}var JT=function(){function t(e,n){var r=0,i="";qB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(qB(this.data_)){var r=this.data_,i=Ute(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(XT()){var r=e.map(function(c){return c instanceof t?c.data_:c});return new t(Fte.apply(null,r))}else{var i=e.map(function(c){return Jg(c)?BB(ui.RAW,c).data:c.data_}),o=0;i.forEach(function(c){o+=c.byteLength});var a=new Uint8Array(o),l=0;return i.forEach(function(c){for(var d=0;d<c.length;d++)a[l++]=c[d]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();function ZT(t){var e;try{e=JSON.parse(t)}catch(n){return null}return Ate(e)?e:null}function Bte(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function Hte(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function WB(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Vte(t,e){return e}var ir=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vte}return t}(),ey=null;function jte(t){return!Jg(t)||t.length<2?t:WB(t)}function ty(){if(ey)return ey;var t=[];t.push(new ir("bucket")),t.push(new ir("generation")),t.push(new ir("metageneration")),t.push(new ir("name","fullPath",!0));function e(o,a){return jte(a)}var n=new ir("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new ir("size");return i.xform=r,t.push(i),t.push(new ir("timeCreated")),t.push(new ir("updated")),t.push(new ir("md5Hash",null,!0)),t.push(new ir("cacheControl",null,!0)),t.push(new ir("contentDisposition",null,!0)),t.push(new ir("contentEncoding",null,!0)),t.push(new ir("contentLanguage",null,!0)),t.push(new ir("contentType",null,!0)),t.push(new ir("metadata","customMetadata",!0)),ey=t,ey}function qte(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new di(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function zte(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return qte(r,t),r}function GB(t,e,n){var r=ZT(e);if(r===null)return null;var i=r;return zte(t,i,n)}function Wte(t,e,n){var r=ZT(e);if(r===null||!Jg(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),l=a.map(function(c){var d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),m=ra(p,n),g=zB({alt:"media",token:c});return m+g});return l[0]}function eC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var KB="prefixes",$B="items";function Gte(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[KB])for(var i=0,o=n[KB];i<o.length;i++){var a=o[i],l=a.replace(/\/$/,""),c=t._makeStorageReference(new di(e,l));r.prefixes.push(c)}if(n[$B])for(var d=0,f=n[$B];d<f.length;d++){var p=f[d],c=t._makeStorageReference(new di(e,p.name));r.items.push(c)}return r}function Kte(t,e,n){var r=ZT(n);if(r===null)return null;var i=r;return Gte(t,e,i)}var ts=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();function vo(t){if(!t)throw KT()}function ny(t,e){function n(r,i){var o=GB(t,i,e);return vo(o!==null),o}return n}function $te(t,e){function n(r,i){var o=Kte(t,e,i);return vo(o!==null),o}return n}function Yte(t,e){function n(r,i){var o=GB(t,i,e);return vo(o!==null),Wte(o,i,t.host)}return n}function Yu(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=cte():i=lte():n.getStatus()===402?i=ate(t.bucket):n.getStatus()===403?i=ute(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function ry(t){var e=Yu(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=ste(t.path)),o.serverResponse=i.serverResponse,o}return n}function YB(t,e,n){var r=e.fullServerUrl(),i=ra(r,t.host),o="GET",a=t.maxOperationRetryTime,l=new ts(i,o,ny(t,n),a);return l.errorHandler=ry(e),l}function Xte(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),l=ra(a,t.host),c="GET",d=t.maxOperationRetryTime,f=new ts(l,c,$te(t,e.bucket),d);return f.urlParams=o,f.errorHandler=Yu(e),f}function Qte(t,e,n){var r=e.fullServerUrl(),i=ra(r,t.host),o="GET",a=t.maxOperationRetryTime,l=new ts(i,o,Yte(t,n),a);return l.errorHandler=ry(e),l}function Jte(t,e,n,r){var i=e.fullServerUrl(),o=ra(i,t.host),a="PATCH",l=eC(n,r),c={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,f=new ts(o,a,ny(t,r),d);return f.headers=c,f.body=l,f.errorHandler=ry(e),f}function Zte(t,e){var n=e.fullServerUrl(),r=ra(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(c,d){}var l=new ts(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=ry(e),l}function ene(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XB(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ene(null,e)),r}function tne(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var R="",k=0;k<2;k++)R=R+Math.random().toString().slice(2);return R}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var d=XB(e,r,i),f=eC(d,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=JT.getBlob(p,r,m);if(g===null)throw LB();var y={name:d.fullPath},_=ra(o,t.host),w="POST",S=t.maxUploadRetryTime,C=new ts(_,w,ny(t,n),S);return C.urlParams=y,C.headers=a,C.body=g.uploadData(),C.errorHandler=Yu(e),C}var iy=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function tC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){vo(!1)}var r=e||["active"];return vo(!!n&&r.indexOf(n)!==-1),n}function nne(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=XB(e,r,i),l={name:a.fullPath},c=ra(o,t.host),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=eC(a,n),m=t.maxUploadRetryTime;function g(_){tC(_);var w;try{w=_.getResponseHeader("X-Goog-Upload-URL")}catch(S){vo(!1)}return vo(Jg(w)),w}var y=new ts(c,d,g,m);return y.urlParams=l,y.headers=f,y.body=p,y.errorHandler=Yu(e),y}function rne(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(d){var f=tC(d,["active","final"]),p=null;try{p=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch(g){vo(!1)}p||vo(!1);var m=Number(p);return vo(!isNaN(m)),new iy(m,r.size(),f==="final")}var a="POST",l=t.maxUploadRetryTime,c=new ts(n,a,o,l);return c.headers=i,c.errorHandler=Yu(e),c}var QB=256*1024;function ine(t,e,n,r,i,o,a,l){var c=new iy(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw mte();var d=c.total-c.current,f=d;i>0&&(f=Math.min(f,i));var p=c.current,m=p+f,g=f===d?"upload, finalize":"upload",y={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":c.current},_=r.slice(p,m);if(_===null)throw LB();function w(k,F){var L=tC(k,["active","final"]),W=c.current+f,$=r.size(),z;return L==="final"?z=ny(e,o)(k,F):z=null,new iy(W,$,L==="final",z)}var S="POST",C=e.maxUploadRetryTime,R=new ts(n,S,w,C);return R.headers=y,R.body=_.uploadData(),R.progressCallback=l||null,R.errorHandler=Yu(t),R}var one=function(){function t(e,n,r){var i=Rte(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();function Xu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var JB=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=ty(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=nne(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=rne(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(l){l=l,e._request=void 0,e._updateProgress(l.current),e._needToFetchStatus=!1,l.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=QB*this._chunkMultiplier,r=new iy(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var l;try{l=ine(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(d){e._error=d,e._transition("error");return}var c=e._ref.storage._makeRequest(l,o,a);e._request=c,c.getPromise().then(function(d){e._increaseMultiplier(),e._request=void 0,e._updateProgress(d.current),d.finalized?(e._metadata=d.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=QB*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=YB(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=tne(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MB(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=YT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new one(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(YT(this._state)){case rr.SUCCESS:Xu(this._resolve.bind(null,this.snapshot))();break;case rr.CANCELED:case rr.ERROR:var n=this._reject;Xu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=YT(this._state);switch(n){case rr.RUNNING:case rr.PAUSED:e.next&&Xu(e.next.bind(e,this.snapshot))();break;case rr.SUCCESS:e.complete&&Xu(e.complete.bind(e))();break;case rr.CANCELED:case rr.ERROR:e.error&&Xu(e.error.bind(e,this._error))();break;default:e.error&&Xu(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();var oy=function(){function t(e,n){this._service=e,n instanceof di?this._location=n:this._location=di.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new di(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return WB(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Bte(this._location.path);if(e===null)return null;var n=new di(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw UB(e)},t}();function sne(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new JB(t,new JT(e),n)}function ane(t){var e={prefixes:[],items:[]};return ZB(t,e).then(function(){return e})}function ZB(t,e,n){return P(this,void 0,void 0,function(){var r,i,o,a;return O(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,eH(t,r)];case 1:return i=l.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,ZB(t,e,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function eH(t,e){return P(this,void 0,void 0,function(){var n,r;return O(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&QT("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Xte(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function lne(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=YB(t.storage,t._location,ty()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function cne(t,e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=Jte(t.storage,t._location,e,ty()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function une(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=Qte(t.storage,t._location,ty()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw vte();return r})]}})})}function dne(t){return P(this,void 0,void 0,function(){var e;return O(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=Zte(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function tH(t,e){var n=Hte(t._location.path,e),r=new di(t._location.bucket,n);return new oy(t.storage,r)}function nC(t){return/^[A-Za-z]+:\/\//.test(t)}function fne(t,e){return new oy(t,e)}function nH(t,e){if(t instanceof sy){var n=t;if(n._bucket==null)throw pte();var r=new oy(n,n._bucket);return e!=null?nH(r,e):r}else if(e!==void 0){if(e.includes(".."))throw Pl('`path` param cannot contain ".."');return tH(t,e)}else return t}function hne(t,e){if(e&&nC(e)){if(t instanceof sy)return fne(t,e);throw Pl("To use ref(service, url), the first argument must be a Storage instance.")}else return nH(t,e)}function rH(t,e){var n=e==null?void 0:e[PB];return n==null?null:di.makeFromBucketSpec(n,t)}function pne(t,e,n){t.host="http://"+e+":"+n}var sy=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=OB,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ite,this._maxUploadRetryTime=ote,this._requests=new Set,o!=null?this._bucket=di.makeFromBucketSpec(o,this._host):this._bucket=rH(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=di.makeFromBucketSpec(this._url,e):this._bucket=rH(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){QT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){QT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return P(this,void 0,void 0,function(){var e,n;return O(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new oy(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new xte(FB());var o=Mte(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return P(this,void 0,void 0,function(){var n,r,i;return O(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();function mne(t,e,n){return t=ve(t),sne(t,e,n)}function vne(t){return t=ve(t),lne(t)}function gne(t,e){return t=ve(t),cne(t,e)}function yne(t,e){return t=ve(t),eH(t,e)}function bne(t){return t=ve(t),ane(t)}function _ne(t){return t=ve(t),une(t)}function wne(t){return t=ve(t),dne(t)}function iH(t,e){return t=ve(t),hne(t,e)}function Ene(t,e){return tH(t,e)}var ay=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();var oH=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ay(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new ay(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new ay(l,o,o._ref))}:a={next:n.next?function(l){return n.next(new ay(l,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),sH=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new $h(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new $h(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();var $h=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Ene(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new oH(mne(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=ui.RAW),this._throwIfRoot("putString");var i=BB(n,e),o=I({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new oH(new JB(this._delegate,new JT(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return bne(this._delegate).then(function(n){return new sH(n,e.storage)})},t.prototype.list=function(e){var n=this;return yne(this._delegate,e||void 0).then(function(r){return new sH(r,n.storage)})},t.prototype.getMetadata=function(){return vne(this._delegate)},t.prototype.updateMetadata=function(e){return gne(this._delegate,e)},t.prototype.getDownloadURL=function(){return _ne(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),wne(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw UB(e)},t}();var Sne=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(nC(e))throw Pl("ref() expected a child path but got a URL, use refFromURL instead.");return new $h(iH(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!nC(e))throw Pl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{di.makeFromUrl(e,this._delegate.host)}catch(n){throw Pl("refFromUrl() expected a valid full URL but got an invalid one.")}return new $h(iH(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n){pne(this._delegate,e,n)},t}(),xne="@firebase/storage",Tne="0.5.2";var Cne="storage";function Ine(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new Sne(r,new sy(r,i,o,new Ste,n,Z.SDK_VERSION));return a}function Rne(t){var e={TaskState:rr,TaskEvent:wte,StringFormat:ui,Storage:sy,Reference:$h};t.INTERNAL.registerComponent(new ct(Cne,Ine,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(xne,Tne)}Rne(Z);vr();ie();mr();var ly=ei(ro());ni();var Ane="@firebase/performance",aH="0.4.12";var lH=aH,kne="FB-PERF-TRACE-START",Dne="FB-PERF-TRACE-STOP",rC="FB-PERF-TRACE-MEASURE",cH="_wt_",uH="_fp",dH="_fcp",fH="_fid",hH="@firebase/performance/config",pH="@firebase/performance/configexpire",Nne="performance",mH="Performance";var Cn,One=(Cn={},Cn["trace started"]="Trace {$traceName} was started before.",Cn["trace stopped"]="Trace {$traceName} is not running.",Cn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Cn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Cn["no window"]="Window is not available.",Cn["no app id"]="App id is not available.",Cn["no project id"]="Project id is not available.",Cn["no api key"]="Api key is not available.",Cn["invalid cc log"]="Attempted to queue invalid cc event",Cn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Cn["RC response not ok"]="RC response is not ok",Cn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Cn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Cn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Cn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Cn),Hn=new Kn(Nne,mH,One);var ns=new ly.Logger(mH);ns.logLevel=ly.LogLevel.INFO;var iC,vH,Vn=function(){function t(e){if(this.window=e,!e)throw Hn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(ns.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):zc()?!0:(ns.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var l=a[o];n(l)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return iC===void 0&&(iC=new t(vH)),iC},t}();function Pne(t){vH=t}function gH(t,e){var n=t.length-e.length;if(n<0||n>1)throw Hn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var oC,ln=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=gH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=gH("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Hn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Hn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Hn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return oC===void 0&&(oC=new t),oC},t}();var yH;function Mne(){var t=ln.getInstance().installationsService.getId();return t.then(function(e){yH=e}),t}function sC(){return yH}function Lne(){var t=ln.getInstance().installationsService.getToken();return t.then(function(e){}),t}var Qu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Qu||(Qu={}));var Fne=["firebase_","google_","ga_"],Une=new RegExp("^[a-zA-Z]\\w*$"),Bne=40,Hne=100;function Vne(){var t=Vn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function bH(){var t=Vn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Qu.VISIBLE;case"hidden":return Qu.HIDDEN;default:return Qu.UNKNOWN}}function jne(){var t=Vn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function qne(t){if(t.length===0||t.length>Bne)return!1;var e=Fne.some(function(n){return t.startsWith(n)});return!e&&!!t.match(Une)}function zne(t){return t.length!==0&&t.length<=Hne}var Wne="0.0.1",Gne={loggingEnabled:!0},Kne="FIREBASE_INSTALLATIONS_AUTH";function $ne(t){var e=Yne();return e?(_H(e),Promise.resolve()):Jne(t).then(_H).then(function(n){return Xne(n)},function(){})}function Yne(){var t=Vn.getInstance().localStorage;if(!!t){var e=t.getItem(pH);if(!(!e||!Zne(e))){var n=t.getItem(hH);if(!!n)try{var r=JSON.parse(n);return r}catch(i){return}}}}function Xne(t){var e=Vn.getInstance().localStorage;!t||!e||(e.setItem(hH,JSON.stringify(t)),e.setItem(pH,String(Date.now()+ln.getInstance().configTimeToLive*60*60*1e3)))}var Qne="Could not fetch config, will use default configs";function Jne(t){return Lne().then(function(e){var n=ln.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+ln.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Kne+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:ln.getInstance().getAppId(),app_version:lH,sdk_version:Wne})});return fetch(i).then(function(o){if(o.ok)return o.json();throw Hn.create("RC response not ok")})}).catch(function(){ns.info(Qne)})}function _H(t){if(!t)return t;var e=ln.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=Gne.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=wH(e.tracesSamplingRate),e.logNetworkAfterSampling=wH(e.networkRequestsSamplingRate),t}function Zne(t){return Number(t)>Date.now()}function wH(t){return Math.random()<=t}var aC=1,lC;function EH(){return aC=2,lC=lC||tre(),lC}function ere(){return aC===3}function tre(){return nre().then(function(){return Mne()}).then(function(t){return $ne(t)}).then(function(){return SH()},function(){return SH()})}function nre(){var t=Vn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function SH(){aC=3}var cC=10*1e3,rre=5.5*1e3,xH=3,ire=1e3,cy=xH,ia=[],TH=!1;function ore(){TH||(uy(rre),TH=!0)}function uy(t){setTimeout(function(){if(cy!==0){if(!ia.length)return uy(cC);sre()}},t)}function sre(){var t=ia.splice(0,ire),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ln.getInstance().logSource,log_event:e};are(n,t).catch(function(){ia=me(me([],t),ia),cy--,ns.info("Tries left: "+cy+"."),uy(cC)})}function are(t,e){return lre(t).then(function(n){return n.ok||ns.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=cC;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(ia=me(me([],e),ia),ns.info("Retry transport request later.")),cy=xH,uy(i)})}function lre(t){var e=ln.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function cre(t){if(!t.eventTime||!t.message)throw Hn.create("invalid cc log");ia=me(me([],ia),[t])}function ure(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);cre({message:r,eventTime:Date.now()})}}var uC;function CH(t,e){uC||(uC=ure(fre)),uC(t,e)}function dy(t){var e=ln.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!Vn.getInstance().requiredApisAvailable()||t.isAuto&&bH()!==Qu.VISIBLE||(ere()?dC(t):EH().then(function(){return dC(t)},function(){return dC(t)}))}function dC(t){if(!!sC()){var e=ln.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return CH(t,1)},0)}}function dre(t){var e=ln.getInstance();if(!!e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return CH(t,0)},0)}}function fre(t,e){return e===0?hre(t):pre(t)}function hre(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:IH(),network_request_metric:e};return JSON.stringify(n)}function pre(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:IH(),trace_metric:e};return JSON.stringify(r)}function IH(){return{google_app_id:ln.getInstance().getAppId(),app_instance_id:sC(),web_app_info:{sdk_version:lH,page_url:Vn.getInstance().getUrl(),service_worker_status:Vne(),visibility_state:bH(),effective_connection_type:jne()},application_process_state:0}}var mre=100,vre="_",gre=[uH,dH,fH];function yre(t,e){return t.length===0||t.length>mre?!1:e&&e.startsWith(cH)&&gre.indexOf(t)>-1||!t.startsWith(vre)}function bre(t){var e=Math.floor(t);return e<t&&ns.info("Metric value should be an Integer, setting the value as : "+e+"."),e}var Yh=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Vn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=kne+"-"+this.randomId+"-"+this.name,this.traceStopMark=Dne+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||rC+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw Hn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw Hn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),dy(this)},t.prototype.record=function(e,n,r){if(e<=0)throw Hn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Hn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=I({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}dy(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(yre(e,this.name))this.counters[e]=bre(n);else throw Hn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=qne(e),i=zne(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw Hn.create("invalid attribute name",{attributeName:e});if(!i)throw Hn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return I({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=Vn.getInstance().getUrl();if(!!i){var o=new t(cH+i,!0),a=Math.floor(Vn.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var d=n.find(function(p){return p.name===l});d&&d.startTime&&o.putMetric(uH,Math.floor(d.startTime*1e3));var f=n.find(function(p){return p.name===c});f&&f.startTime&&o.putMetric(dH,Math.floor(f.startTime*1e3)),r&&o.putMetric(fH,Math.floor(r*1e3))}dy(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);dy(n)},t}();function RH(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=Vn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],l={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};dre(l)}}var _re=5e3;function AH(){!sC()||(setTimeout(function(){return Ere()},0),setTimeout(function(){return wre()},0),setTimeout(function(){return Sre()},0))}function wre(){for(var t=Vn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];RH(i)}t.setupObserver("resource",RH)}function Ere(){var t=Vn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Yh.createOobTrace(e,n),r=void 0},_re);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Yh.createOobTrace(e,n,i))})}else Yh.createOobTrace(e,n)}function Sre(){for(var t=Vn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];kH(i)}t.setupObserver("measure",kH)}function kH(t){var e=t.name;e.substring(0,rC.length)!==rC&&Yh.createUserTimingTrace(e)}var xre=function(){function t(e){this.app=e,Vn.getInstance().requiredApisAvailable()&&Wc().then(function(n){n&&(ore(),EH().then(AH,AH))}).catch(function(n){ns.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Yh(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return ln.getInstance().instrumentationEnabled},set:function(e){ln.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return ln.getInstance().dataCollectionEnabled},set:function(e){ln.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();var Tre="[DEFAULT]";function Cre(t){var e=function(n,r){if(n.name!==Tre)throw Hn.create("FB not default");if(typeof window=="undefined")throw Hn.create("no window");return Pne(window),ln.getInstance().firebaseAppInstance=n,ln.getInstance().installationsService=r,new xre(n)};t.INTERNAL.registerComponent(new ct("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(Ane,aH)}Cre(Z);ie();vr();var DH=ei(ro());mr();ni();var Ire="firebase_id",Rre="origin",Are=60*1e3,kre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NH="https://www.googletagmanager.com/gtag/js",jn;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(jn||(jn={}));var fC;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(fC||(fC={}));function Dre(t,e,n,r,i){return P(this,void 0,void 0,function(){var o,a;return O(this,function(l){switch(l.label){case 0:return i&&i.global?(t(jn.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=l.sent(),a=I(I({},r),{send_to:o}),t(jn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Nre(t,e,n,r){return P(this,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:return r&&r.global?(t(jn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(jn.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function Ore(t,e,n,r){return P(this,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:return r&&r.global?(t(jn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(jn.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function Pre(t,e,n,r){return P(this,void 0,void 0,function(){var i,o,a,l,c;return O(this,function(d){switch(d.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)l=a[o],i["user_properties."+l]=n[l];return t(jn.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=d.sent(),t(jn.CONFIG,c,{update:!0,user_properties:n}),d.label=3;case 3:return[2]}})})}function Mre(t,e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}var In=new DH.Logger("@firebase/analytics");function Lre(t,e){var n=document.createElement("script");n.src=NH+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function Fre(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Ure(t,e,n,r,i,o){return P(this,void 0,void 0,function(){var a,l,c,d;return O(this,function(f){switch(f.label){case 0:a=r[i],f.label=1;case 1:return f.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return f.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=f.sent(),c=l.find(function(p){return p.measurementId===i}),c?[4,e[c.appId]]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return d=f.sent(),In.error(d),[3,8];case 8:return t(jn.CONFIG,i,o),[2]}})})}function Bre(t,e,n,r,i){return P(this,void 0,void 0,function(){var o,a,l,c,d,f,p,m,g;return O(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=y.sent(),c=function(_){var w=l.find(function(C){return C.measurementId===_}),S=w&&e[w.appId];if(S)o.push(S);else return o=[],"break"},d=0,f=a;d<f.length&&(p=f[d],m=c(p),m!=="break");d++);y.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return y.sent(),t(jn.EVENT,r,i||{}),[3,5];case 4:return g=y.sent(),In.error(g),[3,5];case 5:return[2]}})})}function Hre(t,e,n,r){function i(o,a,l){return P(this,void 0,void 0,function(){var c;return O(this,function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),o!==jn.EVENT?[3,2]:[4,Bre(t,e,n,a,l)];case 1:return d.sent(),[3,5];case 2:return o!==jn.CONFIG?[3,4]:[4,Ure(t,e,n,r,a,l)];case 3:return d.sent(),[3,5];case 4:t(jn.SET,a),d.label=5;case 5:return[3,7];case 6:return c=d.sent(),In.error(c),[3,7];case 7:return[2]}})})}return i}function Vre(t,e,n,r,i){var o=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Hre(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function jre(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(NH))return r}return null}var Bi,qre=(Bi={},Bi["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Bi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Bi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Bi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Bi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Bi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Bi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Bi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Bi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Bi),fi=new Kn("analytics","Analytics",qre);var zre=30,Wre=1e3,Gre=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=Wre),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),OH=new Gre;function Kre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function $re(t){var e;return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c,d;return O(this,function(f){switch(f.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Kre(r)},o=kre.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=f.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.json()];case 3:return c=f.sent(),((e=c.error)===null||e===void 0?void 0:e.message)&&(l=c.error.message),[3,5];case 4:return d=f.sent(),[3,5];case 5:throw fi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Yre(t,e,n){return e===void 0&&(e=OH),P(this,void 0,void 0,function(){var r,i,o,a,l,c,d=this;return O(this,function(f){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw fi.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw fi.create("no-api-key")}return l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Jre,setTimeout(function(){return P(d,void 0,void 0,function(){return O(this,function(p){return c.abort(),[2]})})},n!==void 0?n:Are),[2,PH({appId:i,apiKey:o,measurementId:a},l,c,e)]})})}function PH(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=OH),P(this,void 0,void 0,function(){var a,l,c,d,f,p,m;return O(this,function(g){switch(g.label){case 0:a=t.appId,l=t.measurementId,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Xre(n,i)];case 2:return g.sent(),[3,4];case 3:if(c=g.sent(),l)return In.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return g.trys.push([4,6,,7]),[4,$re(t)];case 5:return d=g.sent(),r.deleteThrottleMetadata(a),[2,d];case 6:if(f=g.sent(),!Qre(f)){if(r.deleteThrottleMetadata(a),l)return In.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:a,measurementId:l}];throw f}return p=Number(f.customData.httpStatus)===503?$c(o,r.intervalMillis,zre):$c(o,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},r.setThrottleMetadata(a,m),In.debug("Calling attemptFetch again in "+p+" millis"),[2,PH(t,m,n,r)];case 7:return[2]}})})}function Xre(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(fi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Qre(t){if(!(t instanceof Di)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Jre=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();function Zre(){return P(this,void 0,void 0,function(){var t;return O(this,function(e){switch(e.label){case 0:return zc()?[3,1]:(In.warn(fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Wc()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),In.warn(fi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function eie(t,e,n,r,i,o){return P(this,void 0,void 0,function(){var a,l,c,d,f,p,m;return O(this,function(g){switch(g.label){case 0:return a=Yre(t),a.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&In.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return In.error(y)}),e.push(a),l=Zre().then(function(y){if(y)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=g.sent(),d=c[0],f=c[1],jre()||Lre(o,d.measurementId),i("js",new Date),p=(m={},m[Rre]="firebase",m.update=!0,m),f!=null&&(p[Ire]=f),i(jn.CONFIG,d.measurementId,p),[2,d.measurementId]}})})}var rs={},MH=[],LH={},fy="dataLayer",FH="gtag",UH,Xh,hC=!1;function tie(t){if(hC)throw fi.create("already-initialized");t.dataLayerName&&(fy=t.dataLayerName),t.gtagName&&(FH=t.gtagName)}function nie(){var t=[];if(qc()&&t.push("This is a browser extension environment."),Qm()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=fi.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function rie(t,e){nie();var n=t.options.appId;if(!n)throw fi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw fi.create("no-api-key");if(rs[n]!=null)throw fi.create("already-exists",{id:n});if(!hC){Fre(fy);var r=Vre(rs,MH,LH,fy,FH),i=r.wrappedGtag,o=r.gtagCore;Xh=i,UH=o,hC=!0}rs[n]=eie(t,MH,LH,e,UH,fy);var a={app:t,logEvent:function(l,c,d){Dre(Xh,rs[n],l,c,d).catch(function(f){return In.error(f)})},setCurrentScreen:function(l,c){Nre(Xh,rs[n],l,c).catch(function(d){return In.error(d)})},setUserId:function(l,c){Ore(Xh,rs[n],l,c).catch(function(d){return In.error(d)})},setUserProperties:function(l,c){Pre(Xh,rs[n],l,c).catch(function(d){return In.error(d)})},setAnalyticsCollectionEnabled:function(l){Mre(rs[n],l).catch(function(c){return In.error(c)})},INTERNAL:{delete:function(){return delete rs[n],Promise.resolve()}}};return a}var iie="@firebase/analytics",oie="0.6.10",BH="analytics";function sie(t){t.INTERNAL.registerComponent(new ct(BH,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return rie(r,i)},"PUBLIC").setServiceProps({settings:tie,EventName:fC,isSupported:aie})),t.INTERNAL.registerComponent(new ct("analytics-internal",e,"PRIVATE")),t.registerVersion(iie,oie);function e(n){try{var r=n.getProvider(BH).getImmediate();return{logEvent:r.logEvent}}catch(i){throw fi.create("interop-component-reg-failed",{reason:i})}}}sie(Z);function aie(){return P(this,void 0,void 0,function(){var t,e;return O(this,function(n){switch(n.label){case 0:if(qc())return[2,!1];if(!Qm())return[2,!1];if(!zc())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Wc()];case 2:return t=n.sent(),[2,t];case 3:return e=n.sent(),[2,!1];case 4:return[2]}})})}vr();ie();mr();var Ll=ei(ro());ni();var lie=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return P(this,void 0,void 0,function(){var n,r,i,o,a;return O(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return l.sent(),[2,o]}})})},t}();var or,cie=(or={},or["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",or["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",or["registration-api-key"]="Undefined API key. Check Firebase app initialization.",or["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",or["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",or["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",or["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",or["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",or["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",or["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',or["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',or["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",or["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",or),hi=new Kn("remoteconfig","Remote Config",cie);function uie(t,e){return t instanceof Di&&t.code.indexOf(e)!==-1}function die(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}var fie=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return P(this,void 0,void 0,function(){var n,r,i,o,a,l,c,d,f,p,m,g,y,_,w,S,C,R,k;return O(this,function(F){switch(F.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=F.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:die()},d={method:"POST",headers:l,body:JSON.stringify(c)},f=fetch(a,d),p=new Promise(function(L,W){e.signal.addEventListener(function(){var $=new Error("The operation was aborted.");$.name="AbortError",W($)})}),F.label=2;case 2:return F.trys.push([2,5,,6]),[4,Promise.race([f,p])];case 3:return F.sent(),[4,f];case 4:return m=F.sent(),[3,6];case 5:throw g=F.sent(),y="fetch-client-network",g.name==="AbortError"&&(y="fetch-timeout"),hi.create(y,{originalErrorMessage:g.message});case 6:if(_=m.status,w=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];R=void 0,F.label=7;case 7:return F.trys.push([7,9,,10]),[4,m.json()];case 8:return R=F.sent(),[3,10];case 9:throw k=F.sent(),hi.create("fetch-client-parse",{originalErrorMessage:k.message});case 10:S=R.entries,C=R.state,F.label=11;case 11:if(C==="INSTANCE_STATE_UNSPECIFIED"?_=500:C==="NO_CHANGE"?_=304:(C==="NO_TEMPLATE"||C==="EMPTY_CONFIG")&&(S={}),_!==304&&_!==200)throw hi.create("fetch-status",{httpStatus:_});return[2,{status:_,eTag:w,config:S}]}})})},t}();var hie=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var pie=!1,mie="",HH=0,vie=["1","true","t","yes","y","on"],pC=function(){function t(e,n){n===void 0&&(n=mie),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?pie:vie.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return HH;var e=Number(this._value);return isNaN(e)&&(e=HH),e},t.prototype.getSource=function(){return this._source},t}();var gie=60*1e3,yie=12*60*60*1e3,bie=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:gie,minimumFetchIntervalMillis:yie},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Ll.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Ll.LogLevel.SILENT;break;default:this._logger.logLevel=Ll.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return P(this,void 0,void 0,function(){var e,n,r;return O(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return P(this,void 0,void 0,function(){var e,n,r,i=this;return O(this,function(o){switch(o.label){case 0:e=new hie,setTimeout(function(){return P(i,void 0,void 0,function(){return O(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=uie(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return P(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return _ie(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new pC("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new pC("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new pC("static"))},t}();function _ie(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(I(I({},t),e))}function hy(t,e){var n=t.target.error||void 0;return hi.create(e,{originalErrorMessage:n&&n.message})}var Fl="app_namespace_store",wie="firebase_remote_config",Eie=1;function Sie(){return new Promise(function(t,e){var n=indexedDB.open(wie,Eie);n.onerror=function(r){e(hy(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Fl,{keyPath:"compositeKey"})}}})}var xie=function(){function t(e,n,r,i){i===void 0&&(i=Sie()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return P(this,void 0,void 0,function(){var n,r=this;return O(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var l=n.transaction([Fl],"readonly"),c=l.objectStore(Fl),d=r.createCompositeKey(e);try{var f=c.get(d);f.onerror=function(p){a(hy(p,"storage-get"))},f.onsuccess=function(p){var m=p.target.result;o(m?m.value:void 0)}}catch(p){a(hi.create("storage-get",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.set=function(e,n){return P(this,void 0,void 0,function(){var r,i=this;return O(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,l){var c=r.transaction([Fl],"readwrite"),d=c.objectStore(Fl),f=i.createCompositeKey(e);try{var p=d.put({compositeKey:f,value:n});p.onerror=function(m){l(hy(m,"storage-set"))},p.onsuccess=function(){a()}}catch(m){l(hi.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},t.prototype.delete=function(e){return P(this,void 0,void 0,function(){var n,r=this;return O(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var l=n.transaction([Fl],"readwrite"),c=l.objectStore(Fl),d=r.createCompositeKey(e);try{var f=c.delete(d);f.onerror=function(p){a(hy(p,"storage-delete"))},f.onsuccess=function(){o()}}catch(p){a(hi.create("storage-delete",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();var Tie=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return P(this,void 0,void 0,function(){var e,n,r,i,o,a;return O(this,function(l){switch(l.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=l.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function Cie(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(hi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Iie(t){if(!(t instanceof Di)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Rie=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return P(this,void 0,void 0,function(){var n;return O(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return P(this,void 0,void 0,function(){var o,a,l;return O(this,function(c){switch(c.label){case 0:return[4,Cie(e.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,o];case 5:if(a=c.sent(),!Iie(a))throw a;return l={throttleEndTimeMillis:Date.now()+$c(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(e,l)];case 7:return[2]}})})},t}(),VH="@firebase/remote-config",Aie="0.1.37";function kie(t){t.INTERNAL.registerComponent(new ct("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(VH,Aie);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw hi.create("registration-window");var l=o.options,c=l.projectId,d=l.apiKey,f=l.appId;if(!c)throw hi.create("registration-project-id");if(!d)throw hi.create("registration-api-key");if(!f)throw hi.create("registration-app-id");i=i||"firebase";var p=new xie(f,o.name,i),m=new Tie(p),g=new Ll.Logger(VH);g.logLevel=Ll.LogLevel.ERROR;var y=new fie(a,t.SDK_VERSION,i,c,d,f),_=new Rie(y,p),w=new lie(_,p,m,g),S=new bie(o,w,m,p,g);return S.ensureInitialized(),S}}kie(Z);"use strict";var Die=(vr(),w1),jH=(ni(),g1),xe=Qw(),go=(mr(),v1),Nie=ro();function Oie(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Pie=Oie(Die);var Hi,Mie=(Hi={},Hi["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Hi["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Hi["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Hi["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Hi["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Hi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Hi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Hi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Hi["recaptcha-error"]="ReCAPTCHA error.",Hi),Vi=new go.ErrorFactory("appCheck","AppCheck",Mie);var qH=new Map,Lie={activated:!1,tokenListeners:[]},Fie={enabled:!1};function jr(t){return qH.get(t)||Lie}function oa(t,e){qH.set(t,e)}function py(){return Fie}function zH(){return self.grecaptcha}function WH(t){if(!jr(t).activated)throw Vi.create("use-before-activation",{appName:t.name})}function Uie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}var Bie="https://www.google.com/recaptcha/api.js";function Hie(t,e){var n=jr(t),r=new go.Deferred;oa(t,xe.__assign(xe.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=zH();return a?a.ready(function(){GH(t,e,a,i),r.resolve(a)}):jie(function(){var l=zH();if(!l)throw new Error("no recaptcha");l.ready(function(){GH(t,e,l,i),r.resolve(l)})}),r.promise}function Vie(t){return xe.__awaiter(this,void 0,void 0,function(){var e,n;return xe.__generator(this,function(r){switch(r.label){case 0:return WH(t),e=jr(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=jr(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function GH(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=jr(t);oa(t,xe.__assign(xe.__assign({},o),{reCAPTCHAState:xe.__assign(xe.__assign({},o.reCAPTCHAState),{widgetId:i})}))}function jie(t){var e=document.createElement("script");e.src=""+Bie,e.onload=t,document.head.appendChild(e)}function qie(t,e,n){var r=jr(t);if(r.activated)throw Vi.create("already-activated",{appName:t.name});var i=xe.__assign(xe.__assign({},r),{activated:!0});typeof e=="string"?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,oa(t,i),i.siteKey&&Hie(t,i.siteKey).catch(function(){})}function zie(t,e){var n=jr(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),oa(t,xe.__assign(xe.__assign({},n),{isTokenAutoRefreshEnabled:e}))}var KH="https://content-firebaseappcheck.googleapis.com/v1beta",Wie="exchangeRecaptchaToken",Gie="exchangeDebugToken",$H={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};var Kie=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return xe.__awaiter(this,void 0,void 0,function(){var n;return xe.__generator(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new go.Deferred,[4,$ie(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new go.Deferred,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function $ie(t){return new Promise(function(e){setTimeout(e,t)})}function YH(t,e){var n=t.url,r=t.body;return xe.__awaiter(this,void 0,void 0,function(){var i,o,a,l,c,d,f,p,m,g;return xe.__generator(this,function(y){switch(y.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=y.sent(),[3,4];case 3:throw c=y.sent(),Vi.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw Vi.create("fetch-status-error",{httpStatus:l.status});y.label=5;case 5:return y.trys.push([5,7,,8]),[4,l.json()];case 6:return d=y.sent(),[3,8];case 7:throw f=y.sent(),Vi.create("fetch-parse-error",{originalErrorMessage:f.message});case 8:if(p=d.ttl.match(/^([\d.]+)(s)$/),!p||!p[2]||isNaN(Number(p[1])))throw Vi.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+d.ttl)});return m=Number(p[1])*1e3,g=Date.now(),[2,{token:d.attestationToken,expireTimeMillis:g+m,issuedAtTimeMillis:g}]}})})}function Yie(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:KH+"/projects/"+r+"/apps/"+i+":"+Wie+"?key="+o,body:{recaptcha_token:e}}}function Xie(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:KH+"/projects/"+r+"/apps/"+i+":"+Gie+"?key="+o,body:{debug_token:e}}}var Qie="firebase-app-check-database",Jie=1,Qh="firebase-app-check-store",XH="debug-token",my=null;function QH(){return my||(my=new Promise(function(t,e){try{var n=indexedDB.open(Qie,Jie);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(Vi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Qh,{keyPath:"compositeKey"})}}}catch(r){e(Vi.create("storage-open",{originalErrorMessage:r.message}))}}),my)}function Zie(t){return ZH(eV(t))}function eoe(t,e){return JH(eV(t),e)}function toe(t){return JH(XH,t)}function noe(){return ZH(XH)}function JH(t,e){return xe.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return xe.__generator(this,function(a){switch(a.label){case 0:return[4,QH()];case 1:return n=a.sent(),r=n.transaction(Qh,"readwrite"),i=r.objectStore(Qh),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(l,c){o.onsuccess=function(d){l()},r.onerror=function(d){var f;c(Vi.create("storage-set",{originalErrorMessage:(f=d.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function ZH(t){return xe.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return xe.__generator(this,function(o){switch(o.label){case 0:return[4,QH()];case 1:return e=o.sent(),n=e.transaction(Qh,"readonly"),r=n.objectStore(Qh),i=r.get(t),[2,new Promise(function(a,l){i.onsuccess=function(c){var d=c.target.result;a(d?d.value:void 0)},n.onerror=function(c){var d;l(Vi.create("storage-get",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function eV(t){return t.options.appId+"-"+t.name}var vy=new Nie.Logger("@firebase/app-check");function roe(t){return xe.__awaiter(this,void 0,void 0,function(){var e,n;return xe.__generator(this,function(r){switch(r.label){case 0:if(!go.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Zie(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),vy.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function ioe(t,e){return go.isIndexedDBAvailable()?eoe(t,e).catch(function(n){vy.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function ooe(){return xe.__awaiter(this,void 0,void 0,function(){var t,e,n;return xe.__generator(this,function(r){switch(r.label){case 0:t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,noe()];case 2:return t=r.sent(),[3,4];case 3:return e=r.sent(),[3,4];case 4:return t?[2,t]:(n=Uie(),toe(n).catch(function(i){return vy.warn("Failed to persist debug token to indexeddb. Error: "+i)}),console.log("AppCheck debug token: "+n+". You will need to whitelist it in the Firebase console for it to work"),[2,n])}})})}function tV(){var t=py();return t.enabled}function soe(){return xe.__awaiter(this,void 0,void 0,function(){var t;return xe.__generator(this,function(e){if(t=py(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function aoe(){var t=go.getGlobal();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=py();e.enabled=!0;var n=new go.Deferred;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(ooe())}}var loe={error:"UNKNOWN_ERROR"};function coe(t){return go.base64.encodeString(JSON.stringify(t),!1)}function mC(t,e,n){return n===void 0&&(n=!1),xe.__awaiter(this,void 0,void 0,function(){var r,i,o,a,l,c,d,f,p,m,g,y,_,w;return xe.__generator(this,function(S){switch(S.label){case 0:return WH(t),tV()?(i=YH,o=Xie,a=[t],[4,soe()]):[3,3];case 1:return[4,i.apply(void 0,[o.apply(void 0,a.concat([S.sent()])),e])];case 2:return r=S.sent(),[2,{token:r.token}];case 3:return l=jr(t),c=l.token,d=void 0,c?[3,5]:[4,roe(t)];case 4:f=S.sent(),f&&vC(f)&&(c=f,oa(t,xe.__assign(xe.__assign({},l),{token:c})),nV(t,{token:c.token})),S.label=5;case 5:if(!n&&c&&vC(c))return[2,{token:c.token}];S.label=6;case 6:return S.trys.push([6,12,,13]),l.customProvider?[4,l.customProvider.getToken()]:[3,8];case 7:return p=S.sent(),m=go.issuedAtTime(p.token),g=m!==null&&m<Date.now()&&m>0?m*1e3:Date.now(),c=xe.__assign(xe.__assign({},p),{issuedAtTimeMillis:g}),[3,11];case 8:return[4,Vie(t).catch(function(C){throw Vi.create("recaptcha-error")})];case 9:return y=S.sent(),[4,YH(Yie(t,y),e)];case 10:c=S.sent(),S.label=11;case 11:return[3,13];case 12:return _=S.sent(),vy.error(_),d=_,[3,13];case 13:return c?[3,14]:(w=hoe(d),[3,16]);case 14:return w={token:c.token},oa(t,xe.__assign(xe.__assign({},l),{token:c})),[4,ioe(t,c)];case 15:S.sent(),S.label=16;case 16:return nV(t,w),[2,w]}})})}function uoe(t,e,n){var r=jr(t),i=xe.__assign(xe.__assign({},r),{tokenListeners:xe.__spreadArray(xe.__spreadArray([],r.tokenListeners),[n])});if(tV()){var o=py();o.enabled&&o.token&&o.token.promise.then(function(c){return n({token:c})}).catch(function(){})}else{if(!i.tokenRefresher){var a=foe(t,e);i.tokenRefresher=a}if(!i.tokenRefresher.isRunning()&&r.isTokenAutoRefreshEnabled===!0&&i.tokenRefresher.start(),r.token&&vC(r.token)){var l=r.token;Promise.resolve().then(function(){return n({token:l.token})}).catch(function(){})}}oa(t,i)}function doe(t,e){var n=jr(t),r=n.tokenListeners.filter(function(i){return i!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),oa(t,xe.__assign(xe.__assign({},n),{tokenListeners:r}))}function foe(t,e){var n=this;return new Kie(function(){return xe.__awaiter(n,void 0,void 0,function(){var r,i;return xe.__generator(this,function(o){switch(o.label){case 0:return r=jr(t),r.token?[3,2]:[4,mC(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,mC(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=jr(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+5*60*1e3,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},$H.RETRIAL_MIN_WAIT,$H.RETRIAL_MAX_WAIT)}function nV(t,e){for(var n=jr(t).tokenListeners,r=0,i=n;r<i.length;r++){var o=i[r];try{o(e)}catch(a){}}}function vC(t){return t.expireTimeMillis-Date.now()>0}function hoe(t){return{token:coe(loe),error:t}}function poe(t){return{activate:function(e,n){return qie(t,e,n)},setTokenAutoRefreshEnabled:function(e){return zie(t,e)}}}function moe(t,e){return{getToken:function(n){return mC(t,e,n)},addTokenListener:function(n){return uoe(t,e,n)},removeTokenListener:function(n){return doe(t,n)}}}var voe="@firebase/app-check",goe="0.1.1";var yoe="appCheck",rV="app-check-internal";function boe(t){t.INTERNAL.registerComponent(new jH.Component(yoe,function(e){var n=e.getProvider("app").getImmediate();return poe(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(rV);i.initialize()})),t.INTERNAL.registerComponent(new jH.Component(rV,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return moe(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(voe,goe)}boe(Pie.default);aoe();var _oe="firebase",woe="8.6.2";Z.registerVersion(_oe,woe,"app");var Eoe="firebase",Soe="8.6.2";console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);Z.registerVersion(Eoe,Soe);var xoe=t=>{let e=null;return{socket:t,setUserId:n=>{e=n},subscribeToServer:()=>{let n={secret:"QuickEvents_v1",userId:e};t.emit("subscribeToServer",n,r=>{r&&r.status==="ok"&&console.log("Connection to Server established.")})},getApiKey:n=>{let r={secret:"QuickEvents_v1",userId:e};t.emit("getApiKey",r,i=>{i&&i.status==="ok"?n(i.apiKey):console.log("failed to get ApiKey from server")})},getConfig:n=>{let r={secret:"QuickEvents_v1",userId:e};t.emit("getConfig",r,i=>{i&&i.status==="ok"?n(i.config):console.log("failed to get config")})},setFieldValue:(n,r,i,o)=>{let a={userId:e,collectionKey:n,docKey:r,fieldKey:i,fieldValue:o};t.emit("setFieldValue",a,l=>{})},removeDoc:(n,r)=>{let i={userId:e,collectionKey:n,docKey:r};t.emit("removeDoc",i,o=>{})},createDoc:(n,r,i)=>{console.log([n,r]);let o={userId:e,collectionKey:n,doc:r};t.emit("createDoc",o,a=>{i(a.id)})}}},iV=xoe;var tp=ei(w4()),jye=tp.default.Manager,qye=tp.default.Socket;var E4=Et`
  :host {
    position: absolute;
    left:0; right:0;
    top:0; bottom:0;
    display: flex;
    flex-direction: column;
    background-color: #303030;
  }
  ::slotted(*) {
    position: fixed;
    top: 0; bottom: 0;
    left: 0; right: 0;
  }
`;var sd=class extends We{constructor(){super(...arguments);this.pageOutput=ee``}render(){return ee`
      <slot name="header-bar"></slot>
      <slot name="content"></slot>
    `}};sd.styles=E4,J([fe({type:String})],sd.prototype,"page",2),J([fe({attribute:!1})],sd.prototype,"pageOutput",2),sd=J([rt("page-display")],sd);var S4=Et`
  :host {
    display: flex;
    flex: auto;
    flex-direction: row;
  }
  #content-display-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    background-color: #d7d7d7;
    padding: 20px;
    margin: 0 auto 0 auto;
  }
  #content-display-render {
    width: 100%;
  }
`;var x4=Et`
  :host {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100px;
    max-height: 6vh;
    background-color: #6200ee;
    text-align: center;
    color: #000000;
  }
  h1 {
    font-size: 2em;
    padding: 5px;
    margin: auto;
  }
  #header-accent {
    height: .5em;
    background-color: #000051;
    width: 100%;
  }
`;var Vl=class extends We{constructor(){super(...arguments);this.showMenuToggle=!0;this.showAccent=!1}render(){return ee`
    ${this.showAccent?ee`<div id="header-accent"></div>`:ee``}
    <div id="menu-toggle"></div>
    <h1>${this.label}</h1>
    <slot name="content-right"></slot>
    `}};Vl.styles=x4,J([fe({type:String})],Vl.prototype,"label",2),J([fe({type:Boolean})],Vl.prototype,"showMenuToggle",2),J([fe({type:Boolean})],Vl.prototype,"showAccent",2),Vl=J([rt("header-bar")],Vl);ie();var WC=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0;var jl=(t,e,n=null)=>{for(;e!==n;){let r=e.nextSibling;t.removeChild(e),e=r}};var gi=`{{lit-${String(Math.random()).slice(2)}}}`,GC=`<!--${gi}-->`,T4=new RegExp(`${gi}|${GC}`),ad="$lit$",ld=class{constructor(e,n){this.parts=[],this.element=n;let r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,l=-1,c=0,{strings:d,values:{length:f}}=e;for(;c<f;){let p=o.nextNode();if(p===null){o.currentNode=i.pop();continue}if(l++,p.nodeType===1){if(p.hasAttributes()){let m=p.attributes,{length:g}=m,y=0;for(let _=0;_<g;_++)C4(m[_].name,ad)&&y++;for(;y-- >0;){let _=d[c],w=Py.exec(_)[2],S=w.toLowerCase()+ad,C=p.getAttribute(S);p.removeAttribute(S);let R=C.split(T4);this.parts.push({type:"attribute",index:l,name:w,strings:R}),c+=R.length-1}}p.tagName==="TEMPLATE"&&(i.push(p),o.currentNode=p.content)}else if(p.nodeType===3){let m=p.data;if(m.indexOf(gi)>=0){let g=p.parentNode,y=m.split(T4),_=y.length-1;for(let w=0;w<_;w++){let S,C=y[w];if(C==="")S=_o();else{let R=Py.exec(C);R!==null&&C4(R[2],ad)&&(C=C.slice(0,R.index)+R[1]+R[2].slice(0,-ad.length)+R[3]),S=document.createTextNode(C)}g.insertBefore(S,p),this.parts.push({type:"node",index:++l})}y[_]===""?(g.insertBefore(_o(),p),r.push(p)):p.data=y[_],c+=_}}else if(p.nodeType===8)if(p.data===gi){let m=p.parentNode;(p.previousSibling===null||l===a)&&(l++,m.insertBefore(_o(),p)),a=l,this.parts.push({type:"node",index:l}),p.nextSibling===null?p.data="":(r.push(p),l--),c++}else{let m=-1;for(;(m=p.data.indexOf(gi,m+1))!==-1;)this.parts.push({type:"node",index:-1}),c++}}for(let p of r)p.parentNode.removeChild(p)}},C4=(t,e)=>{let n=t.length-e.length;return n>=0&&t.slice(n)===e},np=t=>t.index!==-1,_o=()=>document.createComment(""),Py=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var KC=133;function $C(t,e){let{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,KC,null,!1),o=rp(r),a=r[o],l=-1,c=0,d=[],f=null;for(;i.nextNode();){l++;let p=i.currentNode;for(p.previousSibling===f&&(f=null),e.has(p)&&(d.push(p),f===null&&(f=p)),f!==null&&c++;a!==void 0&&a.index===l;)a.index=f!==null?-1:a.index-c,o=rp(r,o),a=r[o]}d.forEach(p=>p.parentNode.removeChild(p))}var nae=t=>{let e=t.nodeType===11?0:1,n=document.createTreeWalker(t,KC,null,!1);for(;n.nextNode();)e++;return e},rp=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){let r=t[n];if(np(r))return n}return-1};function I4(t,e,n=null){let{element:{content:r},parts:i}=t;if(n==null){r.appendChild(e);return}let o=document.createTreeWalker(r,KC,null,!1),a=rp(i),l=0,c=-1;for(;o.nextNode();)for(c++,o.currentNode===n&&(l=nae(e),n.parentNode.insertBefore(e,n));a!==-1&&i[a].index===c;){if(l>0){for(;a!==-1;)i[a].index+=l,a=rp(i,a);return}a=rp(i,a)}}var R4=new WeakMap,Wr=t=>(...e)=>{let n=t(...e);return R4.set(n,!0),n},ql=t=>typeof t=="function"&&R4.has(t);var Gr={},Wi={};var zl=class{constructor(e,n,r){this.__parts=[],this.template=e,this.processor=n,this.options=r}update(e){let n=0;for(let r of this.__parts)r!==void 0&&r.setValue(e[n]),n++;for(let r of this.__parts)r!==void 0&&r.commit()}_clone(){let e=WC?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,l,c=i.nextNode();for(;o<r.length;){if(l=r[o],!np(l)){this.__parts.push(void 0),o++;continue}for(;a<l.index;)a++,c.nodeName==="TEMPLATE"&&(n.push(c),i.currentNode=c.content),(c=i.nextNode())===null&&(i.currentNode=n.pop(),c=i.nextNode());if(l.type==="node"){let d=this.processor.handleTextExpression(this.options);d.insertAfterNode(c.previousSibling),this.__parts.push(d)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,l.name,l.strings,this.options));o++}return WC&&(document.adoptNode(e),customElements.upgrade(e)),e}};var A4=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),iae=` ${gi} `,aa=class{constructor(e,n,r,i){this.strings=e,this.values=n,this.type=r,this.processor=i}getHTML(){let e=this.strings.length-1,n="",r=!1;for(let i=0;i<e;i++){let o=this.strings[i],a=o.lastIndexOf("<!--");r=(a>-1||r)&&o.indexOf("-->",a+1)===-1;let l=Py.exec(o);l===null?n+=o+(r?iae:GC):n+=o.substr(0,l.index)+l[1]+l[2]+ad+l[3]+gi}return n+=this.strings[e],n}getTemplateElement(){let e=document.createElement("template"),n=this.getHTML();return A4!==void 0&&(n=A4.createHTML(n)),e.innerHTML=n,e}};var My=t=>t===null||!(typeof t=="object"||typeof t=="function"),Ly=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]),ip=class{constructor(e,n,r){this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(let i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new yi(this)}_getValue(){let e=this.strings,n=e.length-1,r=this.parts;if(n===1&&e[0]===""&&e[1]===""){let o=r[0].value;if(typeof o=="symbol")return String(o);if(typeof o=="string"||!Ly(o))return o}let i="";for(let o=0;o<n;o++){i+=e[o];let a=r[o];if(a!==void 0){let l=a.value;if(My(l)||!Ly(l))i+=typeof l=="string"?l:String(l);else for(let c of l)i+=typeof c=="string"?c:String(c)}}return i+=e[n],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},yi=class{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==Gr&&(!My(e)||e!==this.value)&&(this.value=e,ql(e)||(this.committer.dirty=!0))}commit(){for(;ql(this.value);){let e=this.value;this.value=Gr,e(this)}this.value!==Gr&&this.committer.commit()}},wo=class{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(_o()),this.endNode=e.appendChild(_o())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=_o()),e.__insert(this.endNode=_o())}insertAfterPart(e){e.__insert(this.startNode=_o()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;ql(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=Gr,n(this)}let e=this.__pendingValue;e!==Gr&&(My(e)?e!==this.value&&this.__commitText(e):e instanceof aa?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):Ly(e)?this.__commitIterable(e):e===Wi?(this.value=Wi,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){let n=this.startNode.nextSibling;e=e??"";let r=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){let n=this.options.templateFactory(e);if(this.value instanceof zl&&this.value.template===n)this.value.update(e.values);else{let r=new zl(n,e.processor,this.options),i=r._clone();r.update(e.values),this.__commitNode(i),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());let n=this.value,r=0,i;for(let o of e)i=n[r],i===void 0&&(i=new wo(this.options),n.push(i),r===0?i.appendIntoPart(this):i.insertAfterPart(n[r-1])),i.setValue(o),i.commit(),r++;r<n.length&&(n.length=r,this.clear(i&&i.endNode))}clear(e=this.startNode){jl(this.startNode.parentNode,e.nextSibling,this.endNode)}},cd=class{constructor(e,n,r){if(this.value=void 0,this.__pendingValue=void 0,r.length!==2||r[0]!==""||r[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;ql(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=Gr,n(this)}if(this.__pendingValue===Gr)return;let e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=Gr}},Fy=class extends ip{constructor(e,n,r){super(e,n,r);this.single=r.length===2&&r[0]===""&&r[1]===""}_createPart(){return new is(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},is=class extends yi{},k4=!1;(()=>{try{let t={get capture(){return k4=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();var ud=class{constructor(e,n,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=i=>this.handleEvent(i)}setValue(e){this.__pendingValue=e}commit(){for(;ql(this.__pendingValue);){let o=this.__pendingValue;this.__pendingValue=Gr,o(this)}if(this.__pendingValue===Gr)return;let e=this.__pendingValue,n=this.value,r=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=e!=null&&(n==null||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=oae(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=Gr}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}},oae=t=>t&&(k4?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function YC(t){let e=Wl.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},Wl.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;let r=t.strings.join(gi);return n=e.keyString.get(r),n===void 0&&(n=new ld(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var Wl=new Map;var la=new WeakMap,XC=(t,e,n)=>{let r=la.get(e);r===void 0&&(jl(e,e.firstChild),la.set(e,r=new wo(Object.assign({templateFactory:YC},n))),r.appendInto(e)),r.setValue(t),r.commit()};var QC=class{handleAttributeExpressions(e,n,r,i){let o=n[0];return o==="."?new Fy(e,n.slice(1),r).parts:o==="@"?[new ud(e,n.slice(1),i.eventContext)]:o==="?"?[new cd(e,n.slice(1),r)]:new ip(e,n,r).parts}handleTextExpression(e){return new wo(e)}},JC=new QC;typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var oe=(t,...e)=>new aa(t,e,"html",JC);var N4=(t,e)=>`${t}--${e}`,Uy=!0;typeof window.ShadyCSS=="undefined"?Uy=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Uy=!1);var aae=t=>e=>{let n=N4(e.type,t),r=Wl.get(n);r===void 0&&(r={stringsArray:new WeakMap,keyString:new Map},Wl.set(n,r));let i=r.stringsArray.get(e.strings);if(i!==void 0)return i;let o=e.strings.join(gi);if(i=r.keyString.get(o),i===void 0){let a=e.getTemplateElement();Uy&&window.ShadyCSS.prepareTemplateDom(a,t),i=new ld(e,a),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i},lae=["html","svg"],cae=t=>{lae.forEach(e=>{let n=Wl.get(N4(e,t));n!==void 0&&n.keyString.forEach(r=>{let{element:{content:i}}=r,o=new Set;Array.from(i.querySelectorAll("style")).forEach(a=>{o.add(a)}),$C(r,o)})})},O4=new Set,uae=(t,e,n)=>{O4.add(t);let r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:o}=i;if(o===0){window.ShadyCSS.prepareTemplateStyles(r,t);return}let a=document.createElement("style");for(let d=0;d<o;d++){let f=i[d];f.parentNode.removeChild(f),a.textContent+=f.textContent}cae(t);let l=r.content;n?I4(n,a,l.firstChild):l.insertBefore(a,l.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);let c=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&c!==null)e.insertBefore(c.cloneNode(!0),e.firstChild);else if(n){l.insertBefore(a,l.firstChild);let d=new Set;d.add(a),$C(n,d)}},P4=(t,e,n)=>{if(!n||typeof n!="object"||!n.scopeName)throw new Error("The `scopeName` option is required.");let r=n.scopeName,i=la.has(e),o=Uy&&e.nodeType===11&&!!e.host,a=o&&!O4.has(r),l=a?document.createDocumentFragment():e;if(XC(t,l,Object.assign({templateFactory:aae(r)},n)),a){let c=la.get(l);la.delete(l);let d=c.value instanceof zl?c.value.template:void 0;uae(r,l,d),jl(e,e.firstChild),e.appendChild(l),la.set(e,c)}!i&&o&&window.ShadyCSS.styleElement(e.host)};var M4;window.JSCompiler_renameProperty=(t,e)=>t;var ZC={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return t!==null;case Number:return t===null?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},L4=(t,e)=>e!==t&&(e===e||t===t),eI={attribute:!0,type:String,converter:ZC,reflect:!1,hasChanged:L4},tI=1,nI=1<<2,rI=1<<3,iI=1<<4,oI="finalized",By=class extends HTMLElement{constructor(){super();this.initialize()}static get observedAttributes(){this.finalize();let e=[];return this._classProperties.forEach((n,r)=>{let i=this._attributeNameForProperty(r,n);i!==void 0&&(this._attributeToPropertyMap.set(i,r),e.push(i))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((n,r)=>this._classProperties.set(r,n))}}static createProperty(e,n=eI){if(this._ensureClassProperties(),this._classProperties.set(e,n),n.noAccessor||this.prototype.hasOwnProperty(e))return;let r=typeof e=="symbol"?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let o=this[e];this[n]=i,this.requestUpdateInternal(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||eI}static finalize(){let e=Object.getPrototypeOf(this);if(e.hasOwnProperty(oI)||e.finalize(),this[oI]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(n):[]];for(let i of r)this.createProperty(i,n[i])}}static _attributeNameForProperty(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,n,r=L4){return r(e,n)}static _propertyValueFromAttribute(e,n){let r=n.type,i=n.converter||ZC,o=typeof i=="function"?i:i.fromAttribute;return o?o(e,r):e}static _propertyValueToAttribute(e,n){if(n.reflect===void 0)return;let r=n.type,i=n.converter;return(i&&i.toAttribute||ZC.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,n)=>{if(this.hasOwnProperty(n)){let r=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,r)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,n)=>this[n]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,n,r){n!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,n,r=eI){let i=this.constructor,o=i._attributeNameForProperty(e,r);if(o!==void 0){let a=i._propertyValueToAttribute(n,r);if(a===void 0)return;this._updateState=this._updateState|rI,a==null?this.removeAttribute(o):this.setAttribute(o,a),this._updateState=this._updateState&~rI}}_attributeToProperty(e,n){if(this._updateState&rI)return;let r=this.constructor,i=r._attributeToPropertyMap.get(e);if(i!==void 0){let o=r.getPropertyOptions(i);this._updateState=this._updateState|iI,this[i]=r._propertyValueFromAttribute(n,o),this._updateState=this._updateState&~iI}}requestUpdateInternal(e,n,r){let i=!0;if(e!==void 0){let o=this.constructor;r=r||o.getPropertyOptions(e),o._valueHasChanged(this[e],n,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,n),r.reflect===!0&&!(this._updateState&iI)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,n){return this.requestUpdateInternal(e,n),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|nI;try{await this._updatePromise}catch(n){}let e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&nI}get hasUpdated(){return this._updateState&tI}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1,n=this._changedProperties;try{e=this.shouldUpdate(n),e?this.update(n):this._markUpdated()}catch(r){throw e=!1,this._markUpdated(),r}e&&(this._updateState&tI||(this._updateState=this._updateState|tI,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~nI}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((n,r)=>this._propertyToAttribute(r,this[r],n)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}};M4=oI;By[M4]=!0;var dae=(t,e)=>(window.customElements.define(t,e),e),fae=(t,e)=>{let{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){window.customElements.define(t,i)}}},ot=t=>e=>typeof e=="function"?dae(t,e):fae(t,e),hae=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},pae=(t,e,n)=>{e.constructor.createProperty(n,t)};function V(t){return(e,n)=>n!==void 0?pae(t,e,n):hae(t,e)}function Pe(t){return V({attribute:!1,hasChanged:t==null?void 0:t.hasChanged})}function be(t,e){return(n,r)=>{let i={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){let o=typeof r=="symbol"?Symbol():`__${r}`;i.get=function(){return this[o]===void 0&&(this[o]=this.renderRoot.querySelector(t)),this[o]}}return r!==void 0?F4(i,n,r):U4(i,n)}}function dd(t){return(e,n)=>{let r={async get(){return await this.updateComplete,this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return n!==void 0?F4(r,e,n):U4(r,e)}}var F4=(t,e,n)=>{Object.defineProperty(e,n,t)},U4=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t}),mae=(t,e)=>Object.assign(Object.assign({},e),{finisher(n){Object.assign(n.prototype[e.key],t)}}),vae=(t,e,n)=>{Object.assign(e[n],t)};function os(t){return(e,n)=>n!==void 0?vae(t,e,n):mae(t,e)}var B4=Element.prototype,e_e=B4.msMatchesSelector||B4.webkitMatchesSelector;var Hy=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,sI=Symbol(),Vy=class{constructor(e,n){if(n!==sI)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(Hy?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}},H4=t=>new Vy(String(t),sI),gae=t=>{if(t instanceof Vy)return t.cssText;if(typeof t=="number")return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},st=(t,...e)=>{let n=e.reduce((r,i,o)=>r+gae(i)+t[o+1],t[0]);return new Vy(n,sI)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var V4={},Kr=class extends By{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;let e=this.getStyles();if(Array.isArray(e)){let n=(o,a)=>o.reduceRight((l,c)=>Array.isArray(c)?n(c,l):(l.add(c),l),a),r=n(e,new Set),i=[];r.forEach(o=>i.unshift(o)),this._styles=i}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(n=>{if(n instanceof CSSStyleSheet&&!Hy){let r=Array.prototype.slice.call(n.cssRules).reduce((i,o)=>i+o.cssText,"");return H4(r)}return n})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){let e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(n=>n.cssText),this.localName):Hy?this.renderRoot.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){let n=this.render();super.update(e),n!==V4&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(r=>{let i=document.createElement("style");i.textContent=r.cssText,this.renderRoot.appendChild(i)}))}render(){return V4}};Kr.finalized=!0;Kr.render=P4;ie();ie();ie();ie();ie();function jy(t,e){var n=t.matches||t.webkitMatchesSelector||t.msMatchesSelector;return n.call(t,e)}var fd=t=>t.nodeType===Node.ELEMENT_NODE;function j4(t,e){for(let n of t.assignedNodes({flatten:!0}))if(fd(n)){let r=n;if(jy(r,e))return r}return null}function bi(t){return{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)}}var q4=!1,z4=()=>{},yae={get passive(){return q4=!0,!1}};document.addEventListener("x",z4,yae);document.removeEventListener("x",z4);var W4=q4,op=(t=window.document)=>{let e=t.activeElement,n=[];if(!e)return n;for(;e&&(n.push(e),e.shadowRoot);)e=e.shadowRoot.activeElement;return n},qy=t=>{let e=op();if(!e.length)return!1;let n=e[e.length-1],r=new Event("check-if-focused",{bubbles:!0,composed:!0}),i=[],o=a=>{i=a.composedPath()};return document.body.addEventListener("check-if-focused",o),n.dispatchEvent(r),document.body.removeEventListener("check-if-focused",o),i.indexOf(t)!==-1};var An=class extends Kr{click(){if(this.mdcRoot){this.mdcRoot.focus(),this.mdcRoot.click();return}super.click()}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}};ie();var At=function(){function t(e){e===void 0&&(e={}),this.adapter=e}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();var G4={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},K4={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},aI={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};function $4(t,e,n){if(!t)return{x:0,y:0};var r=e.x,i=e.y,o=r+n.left,a=i+n.top,l,c;if(t.type==="touchstart"){var d=t;l=d.changedTouches[0].pageX-o,c=d.changedTouches[0].pageY-a}else{var f=t;l=f.pageX-o,c=f.pageY-a}return{x:l,y:c}}var Y4=["touchstart","pointerdown","mousedown","keydown"],X4=["touchend","pointerup","mouseup","contextmenu"],zy=[],bae=function(t){N(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(i){return r.activate_(i)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return G4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return K4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return aI},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=this,r=this.supportsPressRipple_();if(this.registerRootHandlers_(r),r){var i=e.cssClasses,o=i.ROOT,a=i.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(o),n.adapter.isUnbounded()&&(n.adapter.addClass(a),n.layoutInternal_())})}},e.prototype.destroy=function(){var n=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(i),n.adapter.removeClass(o),n.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(n){this.activate_(n)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var n=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(function(){n.layoutInternal_(),n.layoutFrame_=0})},e.prototype.setUnbounded=function(n){var r=e.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(n){var r=this;n&&(Y4.forEach(function(i){r.adapter.registerInteractionHandler(i,r.activateHandler_)}),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(n){var r=this;n.type==="keydown"?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):X4.forEach(function(i){r.adapter.registerDocumentInteractionHandler(i,r.deactivateHandler_)})},e.prototype.deregisterRootHandlers_=function(){var n=this;Y4.forEach(function(r){n.adapter.deregisterInteractionHandler(r,n.activateHandler_)}),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var n=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),X4.forEach(function(r){n.adapter.deregisterDocumentInteractionHandler(r,n.deactivateHandler_)})},e.prototype.removeCssVars_=function(){var n=this,r=e.strings,i=Object.keys(r);i.forEach(function(o){o.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[o],null)})},e.prototype.activate_=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var i=this.activationState_;if(!i.isActivated){var o=this.previousActivationEvent_,a=o&&n!==void 0&&o.type!==n.type;if(!a){i.isActivated=!0,i.isProgrammatic=n===void 0,i.activationEvent=n,i.wasActivatedByPointer=i.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var l=n!==void 0&&zy.length>0&&zy.some(function(c){return r.adapter.containsEventTarget(c)});if(l){this.resetActivationState_();return}n!==void 0&&(zy.push(n.target),this.registerDeactivationHandlers_(n)),i.wasElementMadeActive=this.checkElementMadeActive_(n),i.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(function(){zy=[],!i.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(i.wasElementMadeActive=r.checkElementMadeActive_(n),i.wasElementMadeActive&&r.animateActivation_()),i.wasElementMadeActive||(r.activationState_=r.defaultActivationState_())})}}}},e.prototype.checkElementMadeActive_=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},e.prototype.animateActivation_=function(){var n=this,r=e.strings,i=r.VAR_FG_TRANSLATE_START,o=r.VAR_FG_TRANSLATE_END,a=e.cssClasses,l=a.FG_DEACTIVATION,c=a.FG_ACTIVATION,d=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var f="",p="";if(!this.adapter.isUnbounded()){var m=this.getFgTranslationCoordinates_(),g=m.startPoint,y=m.endPoint;f=g.x+"px, "+g.y+"px",p=y.x+"px, "+y.y+"px"}this.adapter.updateCssVariable(i,f),this.adapter.updateCssVariable(o,p),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(l),this.adapter.computeBoundingRect(),this.adapter.addClass(c),this.activationTimer_=setTimeout(function(){return n.activationTimerCallback_()},d)},e.prototype.getFgTranslationCoordinates_=function(){var n=this.activationState_,r=n.activationEvent,i=n.wasActivatedByPointer,o;i?o=$4(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):o={x:this.frame_.width/2,y:this.frame_.height/2},o={x:o.x-this.initialSize_/2,y:o.y-this.initialSize_/2};var a={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint:o,endPoint:a}},e.prototype.runDeactivationUXLogicIfReady_=function(){var n=this,r=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,o=i.hasDeactivationUXRun,a=i.isActivated,l=o||!a;l&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer_=setTimeout(function(){n.adapter.removeClass(r)},aI.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var n=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var n=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(function(){return n.previousActivationEvent_=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var n=this,r=this.activationState_;if(!!r.isActivated){var i=I({},r);r.isProgrammatic?(requestAnimationFrame(function(){return n.animateDeactivation_(i)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){n.activationState_.hasDeactivationUXRun=!0,n.animateDeactivation_(i),n.resetActivationState_()}))}},e.prototype.animateDeactivation_=function(n){var r=n.wasActivatedByPointer,i=n.wasElementMadeActive;(r||i)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var n=this;this.frame_=this.adapter.computeBoundingRect();var r=Math.max(this.frame_.height,this.frame_.width),i=function(){var a=Math.sqrt(Math.pow(n.frame_.width,2)+Math.pow(n.frame_.height,2));return a+e.numbers.PADDING};this.maxRadius_=this.adapter.isUnbounded()?r:i();var o=Math.floor(r*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&o%2!=0?this.initialSize_=o-1:this.initialSize_=o,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var n=e.strings,r=n.VAR_FG_SIZE,i=n.VAR_LEFT,o=n.VAR_TOP,a=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize_+"px"),this.adapter.updateCssVariable(a,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords_.top+"px"))},e}(At);var Q4=bae;var J4=class{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;let n=(e.getAttribute("class")||"").split(/\s+/);for(let r of n)this.classes.add(r)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach(n=>e+=n+" "),this.element.setAttribute("class",e)}}},Z4=new WeakMap,dt=Wr(t=>e=>{if(!(e instanceof yi)||e instanceof is||e.committer.name!=="class"||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:n}=e,{element:r}=n,i=Z4.get(e);i===void 0&&(r.setAttribute("class",n.strings.join(" ")),Z4.set(e,i=new Set));let o=r.classList||new J4(r);i.forEach(a=>{a in t||(o.remove(a),i.delete(a))});for(let a in t){let l=t[a];l!=i.has(a)&&(l?(o.add(a),i.add(a)):(o.remove(a),i.delete(a)))}typeof o.commit=="function"&&o.commit()});var ej=new WeakMap,Wy=Wr(t=>e=>{if(!(e instanceof yi)||e instanceof is||e.committer.name!=="style"||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");let{committer:n}=e,{style:r}=n.element,i=ej.get(e);i===void 0&&(r.cssText=n.strings.join(" "),ej.set(e,i=new Set)),i.forEach(o=>{o in t||(i.delete(o),o.indexOf("-")===-1?r[o]=null:r.removeProperty(o))});for(let o in t)i.add(o),o.indexOf("-")===-1?r[o]=t[o]:r.setProperty(o,t[o])});var Xt=class extends An{constructor(){super(...arguments);this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=Q4}get isActive(){return jy(this.parentElement||this,":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0;break;default:break}},removeClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1;break;default:break}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(e,n)=>{switch(e){case"--mdc-ripple-fg-scale":this.fgScale=n;break;case"--mdc-ripple-fg-size":this.fgSize=n;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=n;break;case"--mdc-ripple-fg-translate-start":this.translateStart=n;break;case"--mdc-ripple-left":this.leftPos=n;break;case"--mdc-ripple-top":this.topPos=n;break;default:break}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(e){this.waitForFoundation(()=>{this.mdcFoundation.activate(e)})}endPress(){this.waitForFoundation(()=>{this.mdcFoundation.deactivate()})}startFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleFocus()})}endFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleBlur()})}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(e){this.mdcFoundation?e():this.updateComplete.then(e)}update(e){e.has("disabled")&&this.disabled&&this.endHover(),super.update(e)}render(){let e=this.activated&&(this.primary||!this.accent),n=this.selected&&(this.primary||!this.accent),r={"mdc-ripple-surface--accent":this.accent,"mdc-ripple-surface--primary--activated":e,"mdc-ripple-surface--accent--activated":this.accent&&this.activated,"mdc-ripple-surface--primary--selected":n,"mdc-ripple-surface--accent--selected":this.accent&&this.selected,"mdc-ripple-surface--disabled":this.disabled,"mdc-ripple-surface--hover":this.hovering,"mdc-ripple-surface--primary":this.primary,"mdc-ripple-surface--selected":this.selected,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,"mdc-ripple-upgraded--unbounded":this.unbounded};return oe`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${dt(r)}"
          style="${Wy({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}};D([be(".mdc-ripple-surface")],Xt.prototype,"mdcRoot",void 0);D([V({type:Boolean})],Xt.prototype,"primary",void 0);D([V({type:Boolean})],Xt.prototype,"accent",void 0);D([V({type:Boolean})],Xt.prototype,"unbounded",void 0);D([V({type:Boolean})],Xt.prototype,"disabled",void 0);D([V({type:Boolean})],Xt.prototype,"activated",void 0);D([V({type:Boolean})],Xt.prototype,"selected",void 0);D([Pe()],Xt.prototype,"hovering",void 0);D([Pe()],Xt.prototype,"bgFocused",void 0);D([Pe()],Xt.prototype,"fgActivation",void 0);D([Pe()],Xt.prototype,"fgDeactivation",void 0);D([Pe()],Xt.prototype,"fgScale",void 0);D([Pe()],Xt.prototype,"fgSize",void 0);D([Pe()],Xt.prototype,"translateStart",void 0);D([Pe()],Xt.prototype,"translateEnd",void 0);D([Pe()],Xt.prototype,"leftPos",void 0);D([Pe()],Xt.prototype,"topPos",void 0);var tj=st`.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:block}:host .mdc-ripple-surface{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;will-change:unset}.mdc-ripple-surface--primary::before,.mdc-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary:hover::before,.mdc-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before,.mdc-ripple-surface--primary--activated::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--activated:hover::before,.mdc-ripple-surface--primary--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--primary--selected::before,.mdc-ripple-surface--primary--selected::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--selected:hover::before,.mdc-ripple-surface--primary--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent::before,.mdc-ripple-surface--accent::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent:hover::before,.mdc-ripple-surface--accent.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--accent.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before,.mdc-ripple-surface--accent--activated::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--activated:hover::before,.mdc-ripple-surface--accent--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--accent--selected::before,.mdc-ripple-surface--accent--selected::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--selected:hover::before,.mdc-ripple-surface--accent--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--disabled{opacity:0}`;var lI=class extends Xt{};lI.styles=tj;lI=D([ot("mwc-ripple")],lI);var qe=t=>(e,n)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){let r=e.constructor._observers;e.constructor._observers=new Map,r.forEach((i,o)=>e.constructor._observers.set(o,i))}}else{e.constructor._observers=new Map;let r=e.updated;e.updated=function(i){r.call(this,i),i.forEach((o,a)=>{let c=this.constructor._observers.get(a);c!==void 0&&c.call(this,this[a],o)})}}e.constructor._observers.set(n,t)};var Gl=class{constructor(e){this.startPress=n=>{e().then(r=>{r&&r.startPress(n)})},this.endPress=()=>{e().then(n=>{n&&n.endPress()})},this.startFocus=()=>{e().then(n=>{n&&n.startFocus()})},this.endFocus=()=>{e().then(n=>{n&&n.endFocus()})},this.startHover=()=>{e().then(n=>{n&&n.startHover()})},this.endHover=()=>{e().then(n=>{n&&n.endHover()})}}};var mn=class extends Kr{constructor(){super(...arguments);this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new Gl(()=>(this.shouldRenderRipple=!0,this.ripple)),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:e=>{let n=e.type;this.onDown(n==="mousedown"?"mouseup":"touchend",e)}}]}get text(){let e=this.textContent;return e?e.trim():""}render(){let e=this.renderText(),n=this.graphic?this.renderGraphic():oe``,r=this.hasMeta?this.renderMeta():oe``;return oe`
      ${this.renderRipple()}
      ${n}
      ${e}
      ${r}`}renderRipple(){return this.shouldRenderRipple?oe`
      <mwc-ripple
        .activated=${this.activated}>
      </mwc-ripple>`:this.activated?oe`<div class="fake-activated-ripple"></div>`:""}renderGraphic(){let e={multi:this.multipleGraphics};return oe`
      <span class="mdc-deprecated-list-item__graphic material-icons ${dt(e)}">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return oe`
      <span class="mdc-deprecated-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){let e=this.twoline?this.renderTwoline():this.renderSingleLine();return oe`
      <span class="mdc-deprecated-list-item__text">
        ${e}
      </span>`}renderSingleLine(){return oe`<slot></slot>`}renderTwoline(){return oe`
      <span class="mdc-deprecated-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-deprecated-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(e,n){let r=()=>{window.removeEventListener(e,r),this.rippleHandlers.endPress()};window.addEventListener(e,r),this.rippleHandlers.startPress(n)}fireRequestSelected(e,n){if(this.noninteractive)return;let r=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:n,selected:e}});this.dispatchEvent(r)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(let e of this.listeners)for(let n of e.eventNames)e.target.addEventListener(n,e.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(let e of this.listeners)for(let n of e.eventNames)e.target.removeEventListener(n,e.cb);this._managingList&&(this._managingList.debouncedLayout?this._managingList.debouncedLayout(!0):this._managingList.layout(!0))}firstUpdated(){let e=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(e)}};D([be("slot")],mn.prototype,"slotElement",void 0);D([dd("mwc-ripple")],mn.prototype,"ripple",void 0);D([V({type:String})],mn.prototype,"value",void 0);D([V({type:String,reflect:!0})],mn.prototype,"group",void 0);D([V({type:Number,reflect:!0})],mn.prototype,"tabindex",void 0);D([V({type:Boolean,reflect:!0}),qe(function(t){t?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")})],mn.prototype,"disabled",void 0);D([V({type:Boolean,reflect:!0})],mn.prototype,"twoline",void 0);D([V({type:Boolean,reflect:!0})],mn.prototype,"activated",void 0);D([V({type:String,reflect:!0})],mn.prototype,"graphic",void 0);D([V({type:Boolean})],mn.prototype,"multipleGraphics",void 0);D([V({type:Boolean})],mn.prototype,"hasMeta",void 0);D([V({type:Boolean,reflect:!0}),qe(function(t){t?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")})],mn.prototype,"noninteractive",void 0);D([V({type:Boolean,reflect:!0}),qe(function(t){let e=this.getAttribute("role"),n=e==="gridcell"||e==="option"||e==="row"||e==="tab";if(n&&t?this.setAttribute("aria-selected","true"):n&&this.setAttribute("aria-selected","false"),this._firstChanged){this._firstChanged=!1;return}this._skipPropRequest||this.fireRequestSelected(t,"property")})],mn.prototype,"selected",void 0);D([Pe()],mn.prototype,"shouldRenderRipple",void 0);D([Pe()],mn.prototype,"_managingList",void 0);var nj=st`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var( --mdc-theme-primary, #6200ee )}:host([activated]) .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-deprecated-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-deprecated-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-deprecated-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-item__meta.multi{width:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-deprecated-list-item__meta ::slotted(.material-icons),.mdc-deprecated-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-deprecated-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}[dir=rtl] .mdc-deprecated-list-item__meta,.mdc-deprecated-list-item__meta[dir=rtl]{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-deprecated-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-deprecated-list-item__text ::slotted([for]),.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-deprecated-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-deprecated-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-deprecated-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-deprecated-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}[dir=rtl] :host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=avatar]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}[dir=rtl] :host([graphic=icon]) .mdc-deprecated-list-item__graphic,:host([graphic=icon]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic.multi,:host([graphic=large]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`;var cI=class extends mn{};cI.styles=nj;cI=D([ot("mwc-list-item")],cI);var uI=new WeakMap,Qt=Wr(t=>e=>{let n=uI.get(e);if(t===void 0&&e instanceof yi){if(n!==void 0||!uI.has(e)){let r=e.committer.name;e.committer.element.removeAttribute(r)}}else t!==n&&e.setValue(t);uI.set(e,t)});var ge={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},sr=new Set;sr.add(ge.BACKSPACE);sr.add(ge.ENTER);sr.add(ge.SPACEBAR);sr.add(ge.PAGE_UP);sr.add(ge.PAGE_DOWN);sr.add(ge.END);sr.add(ge.HOME);sr.add(ge.ARROW_LEFT);sr.add(ge.ARROW_UP);sr.add(ge.ARROW_RIGHT);sr.add(ge.ARROW_DOWN);sr.add(ge.DELETE);sr.add(ge.ESCAPE);sr.add(ge.TAB);var Er={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27,TAB:9},ar=new Map;ar.set(Er.BACKSPACE,ge.BACKSPACE);ar.set(Er.ENTER,ge.ENTER);ar.set(Er.SPACEBAR,ge.SPACEBAR);ar.set(Er.PAGE_UP,ge.PAGE_UP);ar.set(Er.PAGE_DOWN,ge.PAGE_DOWN);ar.set(Er.END,ge.END);ar.set(Er.HOME,ge.HOME);ar.set(Er.ARROW_LEFT,ge.ARROW_LEFT);ar.set(Er.ARROW_UP,ge.ARROW_UP);ar.set(Er.ARROW_RIGHT,ge.ARROW_RIGHT);ar.set(Er.ARROW_DOWN,ge.ARROW_DOWN);ar.set(Er.DELETE,ge.DELETE);ar.set(Er.ESCAPE,ge.ESCAPE);ar.set(Er.TAB,ge.TAB);var ca=new Set;ca.add(ge.PAGE_UP);ca.add(ge.PAGE_DOWN);ca.add(ge.END);ca.add(ge.HOME);ca.add(ge.ARROW_LEFT);ca.add(ge.ARROW_UP);ca.add(ge.ARROW_RIGHT);ca.add(ge.ARROW_DOWN);function at(t){var e=t.key;if(sr.has(e))return e;var n=ar.get(t.keyCode);return n||ge.UNKNOWN}var ua,ss,Ze={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},d0e=(ua={},ua[""+Ze.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",ua[""+Ze.LIST_ITEM_CLASS]="mdc-list-item",ua[""+Ze.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",ua[""+Ze.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",ua[""+Ze.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",ua[""+Ze.ROOT]="mdc-list",ua),hd=(ss={},ss[""+Ze.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",ss[""+Ze.LIST_ITEM_CLASS]="mdc-deprecated-list-item",ss[""+Ze.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",ss[""+Ze.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",ss[""+Ze.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",ss[""+Ze.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",ss[""+Ze.ROOT]="mdc-deprecated-list",ss),sp={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+Ze.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+Ze.LIST_ITEM_CLASS+` a,
    .`+hd[Ze.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+hd[Ze.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+Ze.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+Ze.LIST_ITEM_CLASS+` a,
    .`+Ze.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+Ze.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+hd[Ze.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+hd[Ze.LIST_ITEM_CLASS]+` a,
    .`+hd[Ze.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+hd[Ze.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},kn={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};var dI=(t,e)=>t-e,_ae=(t,e)=>{let n=Array.from(t),r=Array.from(e),i={added:[],removed:[]},o=n.sort(dI),a=r.sort(dI),l=0,c=0;for(;l<o.length||c<a.length;){let d=o[l],f=a[c];if(d===f){l++,c++;continue}if(d!==void 0&&(f===void 0||d<f)){i.removed.push(d),l++;continue}if(f!==void 0&&(d===void 0||f<d)){i.added.push(f),c++;continue}}return i},wae=["input","button","textarea","select"];function Eo(t){return t instanceof Set}var Kl=t=>{let e=t===kn.UNSET_INDEX?new Set:t;return Eo(e)?new Set(e):new Set([e])},Gy=class extends At{constructor(e){super(Object.assign(Object.assign({},Gy.defaultAdapter),e));this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=kn.UNSET_INDEX,this.focusedItemIndex_=kn.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return sp}static get numbers(){return kn}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(e){this.wrapFocus_=e}setMulti(e){this.isMulti_=e;let n=this.selectedIndex_;if(e){if(!Eo(n)){let r=n===kn.UNSET_INDEX;this.selectedIndex_=r?new Set:new Set([n])}}else if(Eo(n))if(n.size){let r=Array.from(n).sort(dI);this.selectedIndex_=r[0]}else this.selectedIndex_=kn.UNSET_INDEX}setVerticalOrientation(e){this.isVertical_=e}setUseActivatedClass(e){this.useActivatedClass_=e}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(e){!this.isIndexValid_(e)||(this.isMulti_?this.setMultiSelectionAtIndex_(Kl(e)):this.setSingleSelectionAtIndex_(e))}handleFocusIn(e,n){n>=0&&this.adapter.setTabIndexForElementIndex(n,0)}handleFocusOut(e,n){n>=0&&this.adapter.setTabIndexForElementIndex(n,-1),setTimeout(()=>{this.adapter.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()},0)}handleKeydown(e,n,r){let i=at(e)==="ArrowLeft",o=at(e)==="ArrowUp",a=at(e)==="ArrowRight",l=at(e)==="ArrowDown",c=at(e)==="Home",d=at(e)==="End",f=at(e)==="Enter",p=at(e)==="Spacebar";if(this.adapter.isRootFocused()){o||d?(e.preventDefault(),this.focusLastElement()):(l||c)&&(e.preventDefault(),this.focusFirstElement());return}let m=this.adapter.getFocusedElementIndex();if(m===-1&&(m=r,m<0))return;let g;if(this.isVertical_&&l||!this.isVertical_&&a)this.preventDefaultEvent(e),g=this.focusNextElement(m);else if(this.isVertical_&&o||!this.isVertical_&&i)this.preventDefaultEvent(e),g=this.focusPrevElement(m);else if(c)this.preventDefaultEvent(e),g=this.focusFirstElement();else if(d)this.preventDefaultEvent(e),g=this.focusLastElement();else if((f||p)&&n){let y=e.target;if(y&&y.tagName==="A"&&f)return;this.preventDefaultEvent(e),this.setSelectedIndexOnAction_(m,!0)}this.focusedItemIndex_=m,g!==void 0&&(this.setTabindexAtIndex_(g),this.focusedItemIndex_=g)}handleSingleSelection(e,n,r){e!==kn.UNSET_INDEX&&(this.setSelectedIndexOnAction_(e,n,r),this.setTabindexAtIndex_(e),this.focusedItemIndex_=e)}focusNextElement(e){let n=this.adapter.getListItemCount(),r=e+1;if(r>=n)if(this.wrapFocus_)r=0;else return e;return this.adapter.focusItemAtIndex(r),r}focusPrevElement(e){let n=e-1;if(n<0)if(this.wrapFocus_)n=this.adapter.getListItemCount()-1;else return e;return this.adapter.focusItemAtIndex(n),n}focusFirstElement(){return this.adapter.focusItemAtIndex(0),0}focusLastElement(){let e=this.adapter.getListItemCount()-1;return this.adapter.focusItemAtIndex(e),e}setEnabled(e,n){!this.isIndexValid_(e)||this.adapter.setDisabledStateForElementIndex(e,!n)}preventDefaultEvent(e){let r=`${e.target.tagName}`.toLowerCase();wae.indexOf(r)===-1&&e.preventDefault()}setSingleSelectionAtIndex_(e,n=!0){this.selectedIndex_!==e&&(this.selectedIndex_!==kn.UNSET_INDEX&&(this.adapter.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(this.selectedIndex_,!1)),n&&this.adapter.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(e,!0),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e,this.adapter.notifySelected(e))}setMultiSelectionAtIndex_(e,n=!0){let r=Kl(this.selectedIndex_),i=_ae(r,e);if(!(!i.removed.length&&!i.added.length)){for(let o of i.removed)n&&this.adapter.setSelectedStateForElementIndex(o,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(o,!1);for(let o of i.added)n&&this.adapter.setSelectedStateForElementIndex(o,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(o,!0);this.selectedIndex_=e,this.adapter.notifySelected(e,i)}}setAriaForSingleSelectionAtIndex_(e){this.selectedIndex_===kn.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(e,sp.ARIA_CURRENT));let n=this.ariaCurrentAttrValue_!==null,r=n?sp.ARIA_CURRENT:sp.ARIA_SELECTED;this.selectedIndex_!==kn.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,r,"false");let i=n?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(e,r,i)}setTabindexAtIndex_(e){this.focusedItemIndex_===kn.UNSET_INDEX&&e!==0?this.adapter.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==e&&this.adapter.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter.setTabIndexForElementIndex(e,0)}setTabindexToFirstSelectedItem_(){let e=0;typeof this.selectedIndex_=="number"&&this.selectedIndex_!==kn.UNSET_INDEX?e=this.selectedIndex_:Eo(this.selectedIndex_)&&this.selectedIndex_.size>0&&(e=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(e)}isIndexValid_(e){if(e instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(e.size===0)return!0;{let n=!1;for(let r of e)if(n=this.isIndexInRange_(r),n)break;return n}}else if(typeof e=="number"){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return e===kn.UNSET_INDEX||this.isIndexInRange_(e)}else return!1}isIndexInRange_(e){let n=this.adapter.getListItemCount();return e>=0&&e<n}setSelectedIndexOnAction_(e,n,r){if(this.adapter.getDisabledStateForElementIndex(e))return;let i=e;this.isMulti_&&(i=new Set([e])),!!this.isIndexValid_(i)&&(this.isMulti_?this.toggleMultiAtIndex(e,r,n):n||r?this.setSingleSelectionAtIndex_(e,n):this.selectedIndex_===e&&this.setSingleSelectionAtIndex_(kn.UNSET_INDEX),n&&this.adapter.notifyAction(e))}toggleMultiAtIndex(e,n,r=!0){let i=!1;n===void 0?i=!this.adapter.getSelectedStateForElementIndex(e):i=n;let o=Kl(this.selectedIndex_);i?o.add(e):o.delete(e),this.setMultiSelectionAtIndex_(o,r)}},rj=Gy;function Eae(t,e=50){let n;return function(r=!0){clearTimeout(n),n=setTimeout(()=>{t(r)},e)}}var Ky=t=>t.hasAttribute("mwc-list-item");function Sae(){let t=this.itemsReadyResolver;this.itemsReady=new Promise(e=>this.itemsReadyResolver=e),t()}var Sr=class extends An{constructor(){super();this.mdcAdapter=null,this.mdcFoundationClass=rj,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.innerAriaLabel=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.itemsReadyResolver=()=>{},this.itemsReady=Promise.resolve([]),this.items_=[];let e=Eae(this.layout.bind(this));this.debouncedLayout=(n=!0)=>{Sae.call(this),e(n)}}async _getUpdateComplete(){let e=!1;return super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),await this.itemsReady,e}async getUpdateComplete(){return this._getUpdateComplete()}get assignedElements(){let e=this.slotElement;return e?e.assignedNodes({flatten:!0}).filter(fd):[]}get items(){return this.items_}updateItems(){let e=this.assignedElements,n=[];for(let o of e)Ky(o)&&(n.push(o),o._managingList=this),o.hasAttribute("divider")&&!o.hasAttribute("role")&&o.setAttribute("role","separator");this.items_=n;let r=new Set;if(this.items_.forEach((o,a)=>{this.itemRoles?o.setAttribute("role",this.itemRoles):o.removeAttribute("role"),o.selected&&r.add(a)}),this.multi)this.select(r);else{let o=r.size?r.entries().next().value[1]:-1;this.select(o)}let i=new Event("items-updated",{bubbles:!0,composed:!0});this.dispatchEvent(i)}get selected(){let e=this.index;if(!Eo(e))return e===-1?null:this.items[e];let n=[];for(let r of e)n.push(this.items[r]);return n}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){let e=this.innerRole===null?void 0:this.innerRole,n=this.innerAriaLabel===null?void 0:this.innerAriaLabel,r=this.rootTabbable?"0":"-1";return oe`
      <!-- @ts-ignore -->
      <ul
          tabindex=${r}
          role="${Qt(e)}"
          aria-label="${Qt(n)}"
          class="mdc-deprecated-list"
          @keydown=${this.onKeydown}
          @focusin=${this.onFocusIn}
          @focusout=${this.onFocusOut}
          @request-selected=${this.onRequestSelected}
          @list-item-rendered=${this.onListItemConnected}>
        <slot></slot>
        ${this.renderPlaceholder()}
      </ul>
    `}renderPlaceholder(){return this.emptyMessage!==void 0&&this.assignedElements.length===0?oe`
        <mwc-list-item noninteractive>${this.emptyMessage}</mwc-list-item>
      `:null}firstUpdated(){super.firstUpdated(),this.items.length||(this.mdcFoundation.setMulti(this.multi),this.layout())}onFocusIn(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusIn(e,n)}}onFocusOut(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusOut(e,n)}}onKeydown(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e),r=e.target,i=Ky(r);this.mdcFoundation.handleKeydown(e,i,n)}}onRequestSelected(e){if(this.mdcFoundation){let n=this.getIndexOfTarget(e);if(n===-1&&(this.layout(),n=this.getIndexOfTarget(e),n===-1)||this.items[n].disabled)return;let i=e.detail.selected,o=e.detail.source;this.mdcFoundation.handleSingleSelection(n,o==="interaction",i),e.stopPropagation()}}getIndexOfTarget(e){let n=this.items,r=e.composedPath();for(let i of r){let o=-1;if(fd(i)&&Ky(i)&&(o=n.indexOf(i)),o!==-1)return o}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:this.getFocusedItemIndex,getAttributeForElementIndex:(e,n)=>{if(!this.mdcRoot)return"";let i=this.items[e];return i?i.getAttribute(n):""},setAttributeForElementIndex:(e,n,r)=>{if(!this.mdcRoot)return;let i=this.items[e];i&&i.setAttribute(n,r)},focusItemAtIndex:e=>{let n=this.items[e];n&&n.focus()},setTabIndexForElementIndex:(e,n)=>{let r=this.items[e];r&&(r.tabindex=n)},notifyAction:e=>{let n={bubbles:!0,composed:!0};n.detail={index:e};let r=new CustomEvent("action",n);this.dispatchEvent(r)},notifySelected:(e,n)=>{let r={bubbles:!0,composed:!0};r.detail={index:e,diff:n};let i=new CustomEvent("selected",r);this.dispatchEvent(i)},isFocusInsideList:()=>qy(this),isRootFocused:()=>{let e=this.mdcRoot;return e.getRootNode().activeElement===e},setDisabledStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.disabled=n)},getDisabledStateForElementIndex:e=>{let n=this.items[e];return n?n.disabled:!1},setSelectedStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.selected=n)},getSelectedStateForElementIndex:e=>{let n=this.items[e];return n?n.selected:!1},setActivatedStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.activated=n)}},this.mdcAdapter}selectUi(e,n=!1){let r=this.items[e];r&&(r.selected=!0,r.activated=n)}deselectUi(e){let n=this.items[e];n&&(n.selected=!1,n.activated=!1)}select(e){!this.mdcFoundation||this.mdcFoundation.setSelectedIndex(e)}toggle(e,n){this.multi&&this.mdcFoundation.toggleMultiAtIndex(e,n)}onListItemConnected(e){let n=e.target;this.layout(this.items.indexOf(n)===-1)}layout(e=!0){e&&this.updateItems();let n=this.items[0];for(let r of this.items)r.tabindex=-1;n&&(this.noninteractive?this.previousTabindex||(this.previousTabindex=n):n.tabindex=0),this.itemsReadyResolver()}getFocusedItemIndex(){if(!this.mdcRoot||!this.items.length)return-1;let e=op();if(!e.length)return-1;for(let n=e.length-1;n>=0;n--){let r=e[n];if(Ky(r))return this.items.indexOf(r)}return-1}focusItemAtIndex(e){for(let n of this.items)if(n.tabindex===0){n.tabindex=-1;break}this.items[e].tabindex=0,this.items[e].focus()}focus(){let e=this.mdcRoot;e&&e.focus()}blur(){let e=this.mdcRoot;e&&e.blur()}};D([V({type:String})],Sr.prototype,"emptyMessage",void 0);D([be(".mdc-deprecated-list")],Sr.prototype,"mdcRoot",void 0);D([be("slot")],Sr.prototype,"slotElement",void 0);D([V({type:Boolean}),qe(function(t){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(t)})],Sr.prototype,"activatable",void 0);D([V({type:Boolean}),qe(function(t,e){this.mdcFoundation&&this.mdcFoundation.setMulti(t),e!==void 0&&this.layout()})],Sr.prototype,"multi",void 0);D([V({type:Boolean}),qe(function(t){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(t)})],Sr.prototype,"wrapFocus",void 0);D([V({type:String}),qe(function(t,e){e!==void 0&&this.updateItems()})],Sr.prototype,"itemRoles",void 0);D([V({type:String})],Sr.prototype,"innerRole",void 0);D([V({type:String})],Sr.prototype,"innerAriaLabel",void 0);D([V({type:Boolean})],Sr.prototype,"rootTabbable",void 0);D([V({type:Boolean,reflect:!0}),qe(function(t){let e=this.slotElement;if(t&&e){let n=j4(e,'[tabindex="0"]');this.previousTabindex=n,n&&n.setAttribute("tabindex","-1")}else!t&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)})],Sr.prototype,"noninteractive",void 0);var ij=st`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item{height:48px}.mdc-deprecated-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-deprecated-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-deprecated-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-deprecated-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc( 100% - var(--mdc-list-inset-margin, 72px) )}[dir=rtl] .mdc-deprecated-list ::slotted([divider][inset]),.mdc-deprecated-list ::slotted([divider][inset])[dir=rtl]{margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-deprecated-list ::slotted([divider][inset][padded]){width:calc( 100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px) )}.mdc-deprecated-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-deprecated-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-deprecated-list--two-line.mdc-deprecated-list--dense ::slotted([mwc-list-item]),.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`;var hI=class extends Sr{};hI.styles=ij;hI=D([ot("mwc-list")],hI);var oj=Et`
  :host {
    display: flex;
    flex: auto;
    width: 22%;
    min-width: 10em;
    max-width: 13em;
    background-color: white;
    color: #ffffff;
  }
  #navigation-body {
    display: flex;
    flex-direction: column;
    flex: auto;
  }
  .navigation-body-item {
    display: flex;
    flex: auto;
    max-height: 50px;
    height: 10vh;
    background-color: #1a237e;
  }
  .navigation-body-item:hover {
    background-color: #000051;
  }
  .active {
    background-color: #534bae;
  }
  .navigation-body-item h2 {
    margin: auto auto auto 15px;
  }
`;var pd=class extends We{constructor(){super(...arguments);this.selectItem=e=>{let n=new CustomEvent("page-selected",{detail:{data:{page:e.target},message:"Page Item Selected"},bubbles:!0,composed:!0});this.dispatchEvent(n)}}render(){return ee`
      <slot name="header-bar"></slot>
      <mwc-list activatable id="navigation-body">
        <li divider role="separator"></li>
        ${this.items.map(e=>ee`
        <mwc-list-item @click="${()=>{this.selectItem(e)}}">${e.label}</mwc-list-item>
        <li divider role="separator"></li>
        `)}
      </mwc-list>
    `}};pd.styles=oj,J([fe({type:String})],pd.prototype,"label",2),J([fe({type:Array})],pd.prototype,"items",2),pd=J([rt("content-wrapper-nav")],pd);var $y=class extends We{render(){return ee`
      <slot></slot>
    `}};$y.styles=Et`
    :host {
      display: flex;
      margin: 15px;
      flex-direction: column;
      min-width:40%;
      max-width: 80%;
      min-height:40%;
      overflow: hidden;
      background-color: #E1E2E1;
    }`,$y=J([rt("content-item")],$y);var $l=class extends We{constructor(){super(...arguments);this.showNavigation=!1;this.contentItems=[]}render(){return[this.showNavigation&&this.contentItems.length>1?ee`
        <content-wrapper-nav
          .items = "${this.contentItems}" >
        </content-wrapper-nav>
      `:ee`
      `,ee`
      <div id="content-display-wrapper">
        <slot name="header-bar"></slot>
        <div id="content-display-render">
          <slot name="content"></slot>
        </div>
      </div>
    `]}};$l.styles=S4,J([fe({type:String})],$l.prototype,"navLabel",2),J([fe({type:Boolean})],$l.prototype,"showNavigation",2),J([fe({type:Array})],$l.prototype,"contentItems",2),$l=J([rt("content-wrapper")],$l);var sj=Et`
  :host {
    
  }
  content-item {
    width: 30%;
    height: 30%;
    margin: auto;
  }
  .block-wrap {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    height: 100%;
  }
  .block-wrap > div {
    text-align: center;
  }

  .btn-google {
    display: inline-block;
    border-radius: 1px;
    text-decoration: none;
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.25);
    transition: background-color .218s, border-color .218s ,box-shadow .218s;
  }
  .google-content {
    display:flex;
    align-items: center;
    width: 100%;
    height: 100%;
  }
  .google-content .logo {
    height: 100%;
    width: 50px;
    padding: 15px;
  }
  .google-content svg {
  }
  .google-content .label {
    width: 100%;
    height: 100%;
    line-height: 1;
    letter-spacing: .21px;
    text-align: center;
    font-weight: 500;
    font-family: 'Roboto', sans-serif;
    padding: 15px;
    background: #4285f4;
    margin: 0;
    color: white;
    cursor: unset;
  }
  .btn-google {
    background: #FFF;
    cursor: pointer;
  }
	.btn-google:hover {
		box-shadow: 0 0 3px 3px rgba(66,133,244,.3)
  }
  .btn-google:active {
		background-color: #eee;
  }
	.btn-google.google-content p {
		color: #757575;
  }
  

`;var ap=class extends We{constructor(){super(...arguments);this.loggedIn=(e,n)=>{let r=new CustomEvent("login-change",{detail:{data:e,message:"Something important happened"},bubbles:!0,composed:!0});this.dispatchEvent(r)};this.handleGoogleLogin=()=>{let e=new Z.auth.GoogleAuthProvider;Z.auth().setPersistence(Z.auth.Auth.Persistence.SESSION).then(()=>{Z.auth().signInWithPopup(e).then(n=>{this.serverApi.setUserId(n.user.uid),this.loggedIn(!0,n.user)}).catch(n=>console.log(n))})}}render(){return ee`
    <page-display>
        <content-item slot="content">
          <div class="block-wrap">
              <a class="btn-google" @click='${this.handleGoogleLogin}'>
                <div class="google-content">
                  <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48">
                    <defs><path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z"/><path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z"/><path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z"/><path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z"/>
                  </svg>
                  </div>
                  <div class="label">
                    <p>Sign in with Google</p>
                  </div>
                </div>
              </a>
          </div>
        </content-item>
    </page-display>
    `}};ap.styles=sj,J([fe()],ap.prototype,"serverApi",2),ap=J([rt("auth-index")],ap);ie();ie();ie();var aj=st`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;var pI=class extends Kr{render(){return oe`<slot></slot>`}};pI.styles=aj;pI=D([ot("mwc-icon")],pI);var Dn=class extends Kr{constructor(){super(...arguments);this.raised=!1,this.unelevated=!1,this.outlined=!1,this.dense=!1,this.disabled=!1,this.trailingIcon=!1,this.fullwidth=!1,this.icon="",this.label="",this.expandContent=!1,this.shouldRenderRipple=!1,this.rippleHandlers=new Gl(()=>(this.shouldRenderRipple=!0,this.ripple))}renderOverlay(){return oe``}renderRipple(){let e=this.raised||this.unelevated;return this.shouldRenderRipple?oe`<mwc-ripple class="ripple" .primary="${!e}" .disabled="${this.disabled}"></mwc-ripple>`:""}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}focus(){let e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){let e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}getRenderClasses(){return dt({"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense})}render(){return oe`
      <button
          id="button"
          class="mdc-button ${this.getRenderClasses()}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}"
          @focus="${this.handleRippleFocus}"
          @blur="${this.handleRippleBlur}"
          @mousedown="${this.handleRippleActivate}"
          @mouseenter="${this.handleRippleMouseEnter}"
          @mouseleave="${this.handleRippleMouseLeave}"
          @touchstart="${this.handleRippleActivate}"
          @touchend="${this.handleRippleDeactivate}"
          @touchcancel="${this.handleRippleDeactivate}">
        ${this.renderOverlay()}
        ${this.renderRipple()}
        <span class="leading-icon">
          <slot name="icon">
            ${this.icon&&!this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
        <span class="mdc-button__label">${this.label}</span>
        <span class="slot-container ${dt({flex:this.expandContent})}">
          <slot></slot>
        </span>
        <span class="trailing-icon">
          <slot name="trailingIcon">
            ${this.icon&&this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
      </button>`}renderIcon(){return oe`
    <mwc-icon class="mdc-button__icon">
      ${this.icon}
    </mwc-icon>`}handleRippleActivate(e){let n=()=>{window.removeEventListener("mouseup",n),this.handleRippleDeactivate()};window.addEventListener("mouseup",n),this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}};D([V({type:Boolean,reflect:!0})],Dn.prototype,"raised",void 0);D([V({type:Boolean,reflect:!0})],Dn.prototype,"unelevated",void 0);D([V({type:Boolean,reflect:!0})],Dn.prototype,"outlined",void 0);D([V({type:Boolean})],Dn.prototype,"dense",void 0);D([V({type:Boolean,reflect:!0})],Dn.prototype,"disabled",void 0);D([V({type:Boolean,attribute:"trailingicon"})],Dn.prototype,"trailingIcon",void 0);D([V({type:Boolean,reflect:!0})],Dn.prototype,"fullwidth",void 0);D([V({type:String})],Dn.prototype,"icon",void 0);D([V({type:String})],Dn.prototype,"label",void 0);D([V({type:Boolean})],Dn.prototype,"expandContent",void 0);D([be("#button")],Dn.prototype,"buttonElement",void 0);D([dd("mwc-ripple")],Dn.prototype,"ripple",void 0);D([Pe()],Dn.prototype,"shouldRenderRipple",void 0);D([os({passive:!0})],Dn.prototype,"handleRippleActivate",null);var lj=st`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;height:48px;left:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{border-style:solid}.mdc-button{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 8px 0 8px}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:disabled{background-color:transparent}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px;height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0, 0, 0, 0.12)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--raised .mdc-button__ripple,.mdc-button--unelevated .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 15px 0 15px;border-width:1px}.mdc-button--outlined:not(:disabled){background-color:transparent}.mdc-button--outlined:disabled{background-color:transparent}.mdc-button--outlined:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button--outlined:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--outlined .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined:disabled{border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined.mdc-button--icon-trailing{padding:0 11px 0 15px}.mdc-button--outlined.mdc-button--icon-leading{padding:0 15px 0 11px}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent;vertical-align:top}:host([fullwidth]){width:100%}:host([raised]),:host([unelevated]){--mdc-ripple-color:#fff;--mdc-ripple-focus-opacity:0.24;--mdc-ripple-hover-opacity:0.08;--mdc-ripple-press-opacity:0.24}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon,.leading-icon ::slotted(*),.leading-icon .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl],[dir=rtl] .leading-icon ::slotted(*),.leading-icon ::slotted(*)[dir=rtl],[dir=rtl] .leading-icon .mdc-button__icon,.leading-icon .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}.slot-container{display:inline-flex;align-items:center;justify-content:center}.slot-container.flex{flex:auto}.mdc-button{flex:auto;overflow:hidden;padding-left:8px;padding-left:var(--mdc-button-horizontal-padding, 8px);padding-right:8px;padding-right:var(--mdc-button-horizontal-padding, 8px)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-focus, var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)))}.mdc-button--raised:hover{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-active, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-disabled, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised,.mdc-button--unelevated{padding-left:16px;padding-left:var(--mdc-button-horizontal-padding, 16px);padding-right:16px;padding-right:var(--mdc-button-horizontal-padding, 16px)}.mdc-button--outlined{border-width:1px;border-width:var(--mdc-button-outline-width, 1px);padding-left:calc(16px - 1px);padding-left:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px));padding-right:calc(16px - 1px);padding-right:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px))}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined .ripple{top:calc(-1 * 1px);top:calc(-1 * var(--mdc-button-outline-width, 1px));left:calc(-1 * 1px);left:calc(-1 * var(--mdc-button-outline-width, 1px));right:initial;right:initial;border-width:1px;border-width:var(--mdc-button-outline-width, 1px);border-style:solid;border-color:transparent}[dir=rtl] .mdc-button--outlined .ripple,.mdc-button--outlined .ripple[dir=rtl]{left:initial;left:initial;right:calc(-1 * 1px);right:calc(-1 * var(--mdc-button-outline-width, 1px))}.mdc-button--dense{height:28px;margin-top:0;margin-bottom:0}.mdc-button--dense .mdc-button__touch{display:none}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-button{color:rgba(0, 0, 0, 0.38);color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button--raised,:host([disabled]) .mdc-button--unelevated{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-button-disabled-fill-color, rgba(0, 0, 0, 0.12))}:host([disabled]) .mdc-button--outlined{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}`;var mI=class extends Dn{};mI.styles=lj;mI=D([ot("mwc-button")],mI);ie();ie();(()=>{var t,e,n;let r=Symbol(),i=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),c=Symbol(),d=Symbol(),f=Symbol(),p=Symbol(),m=Symbol(),g=Symbol(),y=Symbol(),_=Symbol();class w{constructor(){this[t]=[],this[e]=[],this[n]=new Set}destructor(){this[p](this[o]);let C=this;C[r]=null,C[o]=null,C[i]=null}get top(){let C=this[r];return C[C.length-1]||null}push(C){!C||C===this.top||(this.remove(C),this[c](C),this[r].push(C))}remove(C){let R=this[r].indexOf(C);return R===-1?!1:(this[r].splice(R,1),R===this[r].length&&this[c](this.top),!0)}pop(){let C=this.top;return C&&this.remove(C),C}has(C){return this[r].indexOf(C)!==-1}[(t=r,e=o,n=i,c)](C){let R=this[i],k=this[o];if(!C){this[p](k),R.clear(),this[o]=[];return}let F=this[m](C);if(F[F.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=F;let L=this[g](C);if(!k.length){this[f](F,L,R);return}let W=k.length-1,$=F.length-1;for(;W>0&&$>0&&k[W]===F[$];)W--,$--;k[W]!==F[$]&&this[d](k[W],F[$]),W>0&&this[p](k.slice(0,W)),$>0&&this[f](F.slice(0,$),L,null)}[d](C,R){let k=C[a];this[y](C)&&!C.inert&&(C.inert=!0,k.add(C)),k.has(R)&&(R.inert=!1,k.delete(R)),R[l]=C[l],R[a]=k,C[l]=void 0,C[a]=void 0}[p](C){for(let R of C){R[l].disconnect(),R[l]=void 0;let F=R[a];for(let L of F)L.inert=!1;R[a]=void 0}}[f](C,R,k){for(let F of C){let L=F.parentNode,W=L.children,$=new Set;for(let Tt=0;Tt<W.length;Tt++){let lt=W[Tt];lt===F||!this[y](lt)||R&&R.has(lt)||(k&&lt.inert?k.add(lt):(lt.inert=!0,$.add(lt)))}F[a]=$;let z=new MutationObserver(this[_].bind(this));F[l]=z;let ke=L,M=ke;M.__shady&&M.host&&(ke=M.host),z.observe(ke,{childList:!0})}}[_](C){let R=this[o],k=this[i];for(let F of C){let L=F.target.host||F.target,W=L===document.body?R.length:R.indexOf(L),$=R[W-1],z=$[a];for(let ke=0;ke<F.removedNodes.length;ke++){let M=F.removedNodes[ke];if(M===$){console.info("Detected removal of the top Blocking Element."),this.pop();return}z.has(M)&&(M.inert=!1,z.delete(M))}for(let ke=0;ke<F.addedNodes.length;ke++){let M=F.addedNodes[ke];!this[y](M)||(k&&M.inert?k.add(M):(M.inert=!0,z.add(M)))}}}[y](C){return/^(style|template|script)$/.test(C.localName)===!1}[m](C){let R=[],k=C;for(;k&&k!==document.body;){if(k.nodeType===Node.ELEMENT_NODE&&R.push(k),k.assignedSlot){for(;k=k.assignedSlot;)R.push(k);k=R.pop();continue}k=k.parentNode||k.host}return R}[g](C){let R=C.shadowRoot;if(!R)return null;let k=new Set,F,L,W,$=R.querySelectorAll("slot");if($.length&&$[0].assignedNodes)for(F=0;F<$.length;F++)for(W=$[F].assignedNodes({flatten:!0}),L=0;L<W.length;L++)W[L].nodeType===Node.ELEMENT_NODE&&k.add(W[L]);return k}}document.$blockingElements=new w})();var vI=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function gI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(){if(typeof window=="undefined")return;var t=Array.prototype.slice,e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),r=function(){function d(f,p){gI(this,d),this._inertManager=p,this._rootElement=f,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return vI(d,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(this._savedAriaHidden!==null?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach(function(p){this._unmanageNode(p.node)},this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(p){var m=this;a(p,function(w){return m._visitNode(w)});var g=document.activeElement;if(!document.body.contains(p)){for(var y=p,_=void 0;y;){if(y.nodeType===Node.DOCUMENT_FRAGMENT_NODE){_=y;break}y=y.parentNode}_&&(g=_.activeElement)}p.contains(g)&&(g.blur(),g===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(p){if(p.nodeType===Node.ELEMENT_NODE){var m=p;m!==this._rootElement&&m.hasAttribute("inert")&&this._adoptInertRoot(m),(e.call(m,n)||m.hasAttribute("tabindex"))&&this._manageNode(m)}}},{key:"_manageNode",value:function(p){var m=this._inertManager.register(p,this);this._managedNodes.add(m)}},{key:"_unmanageNode",value:function(p){var m=this._inertManager.deregister(p,this);m&&this._managedNodes.delete(m)}},{key:"_unmanageSubtree",value:function(p){var m=this;a(p,function(g){return m._unmanageNode(g)})}},{key:"_adoptInertRoot",value:function(p){var m=this._inertManager.getInertRoot(p);m||(this._inertManager.setInert(p,!0),m=this._inertManager.getInertRoot(p)),m.managedNodes.forEach(function(g){this._manageNode(g.node)},this)}},{key:"_onMutation",value:function(p,m){p.forEach(function(g){var y=g.target;if(g.type==="childList")t.call(g.addedNodes).forEach(function(w){this._makeSubtreeUnfocusable(w)},this),t.call(g.removedNodes).forEach(function(w){this._unmanageSubtree(w)},this);else if(g.type==="attributes"){if(g.attributeName==="tabindex")this._manageNode(y);else if(y!==this._rootElement&&g.attributeName==="inert"&&y.hasAttribute("inert")){this._adoptInertRoot(y);var _=this._inertManager.getInertRoot(y);this._managedNodes.forEach(function(w){y.contains(w.node)&&_._manageNode(w.node)})}}},this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return this._savedAriaHidden!==null}},{key:"savedAriaHidden",set:function(p){this._savedAriaHidden=p},get:function(){return this._savedAriaHidden}}]),d}(),i=function(){function d(f,p){gI(this,d),this._node=f,this._overrodeFocusMethod=!1,this._inertRoots=new Set([p]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return vI(d,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var p=this._node;this._savedTabIndex!==null?p.setAttribute("tabindex",this._savedTabIndex):p.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete p.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var p=this.node;if(e.call(p,n)){if(p.tabIndex===-1&&this.hasSavedTabIndex)return;p.hasAttribute("tabindex")&&(this._savedTabIndex=p.tabIndex),p.setAttribute("tabindex","-1"),p.nodeType===Node.ELEMENT_NODE&&(p.focus=function(){},this._overrodeFocusMethod=!0)}else p.hasAttribute("tabindex")&&(this._savedTabIndex=p.tabIndex,p.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(p){this._throwIfDestroyed(),this._inertRoots.add(p)}},{key:"removeInertRoot",value:function(p){this._throwIfDestroyed(),this._inertRoots.delete(p),this._inertRoots.size===0&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return this._savedTabIndex!==null}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(p){this._throwIfDestroyed(),this._savedTabIndex=p},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),d}(),o=function(){function d(f){if(gI(this,d),!f)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=f,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),l(f.head||f.body||f.documentElement),f.readyState==="loading"?f.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return vI(d,[{key:"setInert",value:function(p,m){if(m){if(this._inertRoots.has(p))return;var g=new r(p,this);if(p.setAttribute("inert",""),this._inertRoots.set(p,g),!this._document.body.contains(p))for(var y=p.parentNode;y;)y.nodeType===11&&l(y),y=y.parentNode}else{if(!this._inertRoots.has(p))return;var _=this._inertRoots.get(p);_.destructor(),this._inertRoots.delete(p),p.removeAttribute("inert")}}},{key:"getInertRoot",value:function(p){return this._inertRoots.get(p)}},{key:"register",value:function(p,m){var g=this._managedNodes.get(p);return g!==void 0?g.addInertRoot(m):g=new i(p,m),this._managedNodes.set(p,g),g}},{key:"deregister",value:function(p,m){var g=this._managedNodes.get(p);return g?(g.removeInertRoot(m),g.destroyed&&this._managedNodes.delete(p),g):null}},{key:"_onDocumentLoaded",value:function(){var p=t.call(this._document.querySelectorAll("[inert]"));p.forEach(function(m){this.setInert(m,!0)},this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(p,m){var g=this;p.forEach(function(y){switch(y.type){case"childList":t.call(y.addedNodes).forEach(function(S){if(S.nodeType===Node.ELEMENT_NODE){var C=t.call(S.querySelectorAll("[inert]"));e.call(S,"[inert]")&&C.unshift(S),C.forEach(function(R){this.setInert(R,!0)},g)}},g);break;case"attributes":if(y.attributeName!=="inert")return;var _=y.target,w=_.hasAttribute("inert");g.setInert(_,w);break}},this)}}]),d}();function a(d,f,p){if(d.nodeType==Node.ELEMENT_NODE){var m=d;f&&f(m);var g=m.shadowRoot;if(g){a(g,f,g);return}if(m.localName=="content"){for(var y=m,_=y.getDistributedNodes?y.getDistributedNodes():[],w=0;w<_.length;w++)a(_[w],f,p);return}if(m.localName=="slot"){for(var S=m,C=S.assignedNodes?S.assignedNodes({flatten:!0}):[],R=0;R<C.length;R++)a(C[R],f,p);return}}for(var k=d.firstChild;k!=null;)a(k,f,p),k=k.nextSibling}function l(d){if(!d.querySelector("style#inert-style, link#inert-style")){var f=document.createElement("style");f.setAttribute("id","inert-style"),f.textContent=`
[inert] {
  pointer-events: none;
  cursor: default;
}

[inert], [inert] * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
`,d.appendChild(f)}}if(!Element.prototype.hasOwnProperty("inert")){var c=new o(document);Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(f){c.setInert(this,f)}})}})();var lr={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},lp={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim",LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",LIST_ITEM_ACTIVATED_SELECTOR:".mdc-list-item--activated,.mdc-deprecated-list-item--activated"};ie();var yI=function(t){N(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.animationFrame_=0,r.animationTimer_=0,r}return Object.defineProperty(e,"strings",{get:function(){return lp},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return lr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},e.prototype.open=function(){var n=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter.addClass(lr.OPEN),this.adapter.addClass(lr.ANIMATE),this.runNextAnimationFrame_(function(){n.adapter.addClass(lr.OPENING)}),this.adapter.saveFocus())},e.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter.addClass(lr.CLOSING)},e.prototype.isOpen=function(){return this.adapter.hasClass(lr.OPEN)},e.prototype.isOpening=function(){return this.adapter.hasClass(lr.OPENING)||this.adapter.hasClass(lr.ANIMATE)},e.prototype.isClosing=function(){return this.adapter.hasClass(lr.CLOSING)},e.prototype.handleKeydown=function(n){var r=n.keyCode,i=n.key,o=i==="Escape"||r===27;o&&this.close()},e.prototype.handleTransitionEnd=function(n){var r=lr.OPENING,i=lr.CLOSING,o=lr.OPEN,a=lr.ANIMATE,l=lr.ROOT,c=this.isElement_(n.target)&&this.adapter.elementHasClass(n.target,l);!c||(this.isClosing()?(this.adapter.removeClass(o),this.closed_(),this.adapter.restoreFocus(),this.adapter.notifyClose()):(this.adapter.focusActiveNavigationItem(),this.opened_(),this.adapter.notifyOpen()),this.adapter.removeClass(a),this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.opened_=function(){},e.prototype.closed_=function(){},e.prototype.runNextAnimationFrame_=function(n){var r=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){r.animationFrame_=0,clearTimeout(r.animationTimer_),r.animationTimer_=setTimeout(n,0)})},e.prototype.isElement_=function(n){return Boolean(n.classList)},e}(At);var cj=yI;ie();var xae=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.handleScrimClick=function(){this.close()},e.prototype.opened_=function(){this.adapter.trapFocus()},e.prototype.closed_=function(){this.adapter.releaseFocus()},e}(yI);var bI=xae;var uj=document.$blockingElements,da=class extends An{constructor(){super(...arguments);this._previousFocus=null,this.open=!1,this.hasHeader=!1,this.type=""}get mdcFoundationClass(){return this.type==="modal"?bI:cj}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{elementHasClass:(e,n)=>e.classList.contains(n),saveFocus:()=>{this._previousFocus=this.getRootNode().activeElement},restoreFocus:()=>{this._previousFocus&&this._previousFocus.focus&&this._previousFocus.focus()},notifyClose:()=>{this.open=!1,this.dispatchEvent(new Event(lp.CLOSE_EVENT,{bubbles:!0,cancelable:!0}))},notifyOpen:()=>{this.open=!0,this.dispatchEvent(new Event(lp.OPEN_EVENT,{bubbles:!0,cancelable:!0}))},focusActiveNavigationItem:()=>{},trapFocus:()=>{uj.push(this),this.appContent.inert=!0},releaseFocus:()=>{uj.remove(this),this.appContent.inert=!1}})}_handleScrimClick(){this.mdcFoundation instanceof bI&&this.mdcFoundation.handleScrimClick()}render(){let e=this.type==="dismissible"||this.type==="modal",n=this.type==="modal",r=this.hasHeader?oe`
      <div class="mdc-drawer__header">
        <h3 class="mdc-drawer__title"><slot name="title"></slot></h3>
        <h6 class="mdc-drawer__subtitle"><slot name="subtitle"></slot></h6>
        <slot name="header"></slot>
      </div>
      `:"";return oe`
      <aside class="mdc-drawer ${dt({"mdc-drawer--dismissible":e,"mdc-drawer--modal":n})}">
        ${r}
        <div class="mdc-drawer__content"><slot></slot></div>
      </aside>
      ${n?oe`<div class="mdc-drawer-scrim"
                          @click="${this._handleScrimClick}"></div>`:""}
      <div class="mdc-drawer-app-content">
        <slot name="appContent"></slot>
      </div>
      `}firstUpdated(){this.mdcRoot.addEventListener("keydown",e=>this.mdcFoundation.handleKeydown(e)),this.mdcRoot.addEventListener("transitionend",e=>this.mdcFoundation.handleTransitionEnd(e))}updated(e){e.has("type")&&this.createFoundation()}};D([be(".mdc-drawer")],da.prototype,"mdcRoot",void 0);D([be(".mdc-drawer-app-content")],da.prototype,"appContent",void 0);D([qe(function(t){this.type!==""&&(t?this.mdcFoundation.open():this.mdcFoundation.close())}),V({type:Boolean,reflect:!0})],da.prototype,"open",void 0);D([V({type:Boolean})],da.prototype,"hasHeader",void 0);D([V({reflect:!0})],da.prototype,"type",void 0);var dj=st`.mdc-drawer{border-color:rgba(0, 0, 0, 0.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-top-left-radius:0;border-top-right-radius:0;border-top-right-radius:var(--mdc-shape-large, 0);border-bottom-right-radius:0;border-bottom-right-radius:var(--mdc-shape-large, 0);border-bottom-left-radius:0;z-index:6;width:256px;display:flex;flex-direction:column;flex-shrink:0;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer .mdc-drawer__title{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-group__subheader{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-drawer__subtitle{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item__graphic{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-deprecated-list-item--activated{color:rgba(98, 0, 238, 0.87)}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-top-left-radius:0;border-top-left-radius:var(--mdc-shape-large, 0);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom-left-radius:var(--mdc-shape-large, 0)}.mdc-drawer .mdc-deprecated-list-item{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-deprecated-list-item{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);height:calc(48px - 2 * 4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-deprecated-list-item:nth-child(1){margin-top:2px}.mdc-drawer .mdc-deprecated-list-item:nth-last-child(1){margin-bottom:0}.mdc-drawer .mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-deprecated-list-group__subheader::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-drawer .mdc-deprecated-list-divider{margin:3px 0 4px}.mdc-drawer .mdc-deprecated-list-item__text,.mdc-drawer .mdc-deprecated-list-item__graphic{pointer-events:none}.mdc-drawer--animate{transform:translateX(-100%)}[dir=rtl] .mdc-drawer--animate,.mdc-drawer--animate[dir=rtl]{transform:translateX(100%)}.mdc-drawer--opening{transform:translateX(0);transition-duration:250ms}[dir=rtl] .mdc-drawer--opening,.mdc-drawer--opening[dir=rtl]{transform:translateX(0)}.mdc-drawer--closing{transform:translateX(-100%);transition-duration:200ms}[dir=rtl] .mdc-drawer--closing,.mdc-drawer--closing[dir=rtl]{transform:translateX(100%)}.mdc-drawer__header{flex-shrink:0;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-drawer__title::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-drawer__subtitle{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:initial;display:none;position:absolute}[dir=rtl] .mdc-drawer--dismissible,.mdc-drawer--dismissible[dir=rtl]{left:initial;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:flex}.mdc-drawer-app-content{margin-left:0;margin-right:0;position:relative}[dir=rtl] .mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:0}.mdc-drawer--modal{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12);left:0;right:initial;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0, 0, 0, 0.32)}[dir=rtl] .mdc-drawer--modal,.mdc-drawer--modal[dir=rtl]{left:initial;right:0}.mdc-drawer--modal.mdc-drawer--open{display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{transition-duration:250ms;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{transition-duration:200ms;opacity:0}.mdc-drawer-app-content{overflow:auto;flex:1}:host{display:flex;height:100%}.mdc-drawer{width:256px;width:var(--mdc-drawer-width, 256px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-left:var(--mdc-drawer-width, 256px);margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px;margin-right:var(--mdc-drawer-width, 256px)}`;var _I=class extends da{};_I.styles=dj;_I=D([ot("mwc-drawer")],_I);ie();ie();function Tae(t,e,n){let r=t.constructor;if(!n){let l=`__${e}`;if(n=r.getPropertyDescriptor(e,l),!n)throw new Error("@ariaProperty must be used after a @property decorator")}let i=n,o="";if(!i.set)throw new Error(`@ariaProperty requires a setter for ${e}`);let a={configurable:!0,enumerable:!0,set(l){o===""&&(o=r.getPropertyOptions(e).attribute),this.hasAttribute(o)&&this.removeAttribute(o),i.set.call(this,l)}};return i.get&&(a.get=function(){return i.get.call(this)}),a}function fj(t,e,n){if(e!==void 0)return Tae(t,e,n);throw new Error("@ariaProperty only supports TypeScript Decorators")}var Gi=class extends Kr{constructor(){super(...arguments);this.disabled=!1,this.icon="",this.shouldRenderRipple=!1,this.rippleHandlers=new Gl(()=>(this.shouldRenderRipple=!0,this.ripple))}renderRipple(){return this.shouldRenderRipple?oe`
            <mwc-ripple
                .disabled="${this.disabled}"
                unbounded>
            </mwc-ripple>`:""}focus(){let e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){let e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}render(){return oe`<button
        class="mdc-icon-button"
        aria-label="${this.ariaLabel||this.icon}"
        ?disabled="${this.disabled}"
        @focus="${this.handleRippleFocus}"
        @blur="${this.handleRippleBlur}"
        @mousedown="${this.handleRippleMouseDown}"
        @mouseenter="${this.handleRippleMouseEnter}"
        @mouseleave="${this.handleRippleMouseLeave}"
        @touchstart="${this.handleRippleTouchStart}"
        @touchend="${this.handleRippleDeactivate}"
        @touchcancel="${this.handleRippleDeactivate}"
    >${this.renderRipple()}
    <i class="material-icons">${this.icon}</i>
    <span
      ><slot></slot
    ></span>
  </button>`}handleRippleMouseDown(e){let n=()=>{window.removeEventListener("mouseup",n),this.handleRippleDeactivate()};window.addEventListener("mouseup",n),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}};D([V({type:Boolean,reflect:!0})],Gi.prototype,"disabled",void 0);D([V({type:String})],Gi.prototype,"icon",void 0);D([fj,V({type:String,attribute:"aria-label"})],Gi.prototype,"ariaLabel",void 0);D([be("button")],Gi.prototype,"buttonElement",void 0);D([dd("mwc-ripple")],Gi.prototype,"ripple",void 0);D([Pe()],Gi.prototype,"shouldRenderRipple",void 0);D([os({passive:!0})],Gi.prototype,"handleRippleMouseDown",null);D([os({passive:!0})],Gi.prototype,"handleRippleTouchStart",null);var hj=st`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor;-webkit-tap-highlight-color:transparent}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc( (var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2 )}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`;var wI=class extends Gi{};wI.styles=hj;wI=D([ot("mwc-icon-button")],wI);ie();ie();ie();var pj={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},md={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},Yy={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};ie();var mj=function(t){N(e,t);function e(n){return t.call(this,I(I({},e.defaultAdapter),n))||this}return Object.defineProperty(e,"strings",{get:function(){return Yy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return pj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return md},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},e}(At);var Xy=0,Cae=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;return r.wasDocked_=!0,r.isDockedShowing_=!0,r.currentAppBarOffsetTop_=0,r.isCurrentlyBeingResized_=!1,r.resizeThrottleId_=Xy,r.resizeDebounceId_=Xy,r.lastScrollPosition_=r.adapter.getViewportScrollY(),r.topAppBarHeight_=r.adapter.getTopAppBarHeight(),r}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter.setStyle("top","")},e.prototype.handleTargetScroll=function(){var n=Math.max(this.adapter.getViewportScrollY(),0),r=n-this.lastScrollPosition_;this.lastScrollPosition_=n,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=r,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var n=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout(function(){n.resizeThrottleId_=Xy,n.throttledResizeHandler_()},md.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout(function(){n.handleTargetScroll(),n.isCurrentlyBeingResized_=!1,n.resizeDebounceId_=Xy},md.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var n=-this.topAppBarHeight_,r=this.currentAppBarOffsetTop_<0,i=this.currentAppBarOffsetTop_>n,o=r&&i;if(o)this.wasDocked_=!1;else if(this.wasDocked_){if(this.isDockedShowing_!==i)return this.isDockedShowing_=i,!0}else return this.wasDocked_=!0,!0;return o},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var n=this.currentAppBarOffsetTop_;Math.abs(n)>=this.topAppBarHeight_&&(n=-md.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",n+"px")}},e.prototype.throttledResizeHandler_=function(){var n=this.adapter.getTopAppBarHeight();this.topAppBarHeight_!==n&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-n,this.topAppBarHeight_=n),this.handleTargetScroll()},e}(mj);var vj=Cae;ie();var EI=W4?{passive:!0}:void 0,Yl=class extends An{constructor(){super(...arguments);this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){this.unregisterScrollListener();let n=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",n),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){let e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=oe`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(e=oe`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${e}</section>`),oe`
      <header class="mdc-top-app-bar ${dt(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:e}
        </section>
        ${this.centerTitle?e:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${dt(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{setStyle:(e,n)=>this.mdcRoot.style.setProperty(e,n),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(Yy.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,EI)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}};D([be(".mdc-top-app-bar")],Yl.prototype,"mdcRoot",void 0);D([be('slot[name="actionItems"]')],Yl.prototype,"_actionItemsSlot",void 0);D([V({type:Boolean})],Yl.prototype,"centerTitle",void 0);D([V({type:Object})],Yl.prototype,"scrollTarget",null);var cp=class extends Yl{constructor(){super(...arguments);this.mdcFoundationClass=vj,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,EI)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}};D([V({type:Boolean,reflect:!0})],cp.prototype,"prominent",void 0);D([V({type:Boolean,reflect:!0})],cp.prototype,"dense",void 0);var gj=st`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-primary, #fff))}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-surface--hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff);width:100%;width:var(--mdc-top-app-bar-width, 100%)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`;var SI=class extends cp{};SI.styles=gj;SI=D([ot("mwc-top-app-bar")],SI);var yj=Et`
  :host {
    display: flex;
    flex-wrap: wrap;
    flex-grow: 1;
    justify-content: center;

    --mdc-list-vertical-padding: 0;
    --mdc-icon-button-size: 60px;
    --mdc-drawer-width: 250px;
    --mdc-theme-primary: #9e47ff;
    --mdc-theme-secondary: #6200ee;
  }
  h1, h2, h3, h4 {
    margin: auto, 15px;
    padding-left: 15px;
  }

  .title-bar {
    display: flex;
  }

  .indented {
    padding-left: 50px;
  }
  hr.rounded {
    border-top: 8px solid #bbb;
    border-radius: 5px;
    width: 95%
  }
  .bottom-space {
    margin-bottom: 5px;
  }

  mwc-icon-button {
    color: white;
  }
  
  .delete-icon {
    color: red;
  }

  
  mwc-drawer {
    width:100%;
  }
  mwc-list.nested {
    margin-left: 10px;
  }

  .client-index-wrapper {
    display: flex;
    width:100%;
  }
  .client-editable {
    display: flex;
    flex-direction: column;
  }

  .button-collection-wrapper {
    margin: auto;
    flex-grow: 1;
    display: flex;
    width: 100%;
  }

  .button-collection {
    margin: auto;
    float: right;
    flex-grow: 1;
  }

  .button-wrapper {
    float: right;
    margin: 5px;
  }

  content-item > mwc-drawer {
    flex-grow: 1;
  }
  .mdc-drawer {
    flex-grow: 1;
    height: unset;
  }

  #calendar {
    min-width: 675px;
  }

  #client-info {
    flex-grow: 1;
    min-width: 675px;
    max-width: 675px;
  }

  #client-header {
    display: flex;
    margin: 15px;
  }

  #client-portrait {
    display: flex;
    min-height: 200px;
    min-width: 200px;
    max-width: 300px;
    flex-grow: 1;
  }

  #client-portrait img {
    margin: auto;
    height: 70%;
    min-height: 100px;
    min-width: 100px;
    max-height: 200px;
    max-width: 200px;

  }

  #inquiry-info {
    margin: 15px;
  }
  #inquiry-info > .inquiry-left-half {
    width: 50%;
  }
  #inquiry-info > form-wrapper {
    width: 100%;
  }

  .inquiry-list-item {
    height: 30px;
    border-left: 3px solid rgba(0, 0, 0, 0.12);
    border-bottom: 3px solid rgba(0, 0, 0, 0.12);
    margin-right: 3px;
    border-right: 1px solid rgba(0, 0, 0, 0.12);
  }

  .list-button.add{
    --mdc-ripple-color: #4b4b4b; 
  }
  .client-list-item {
    border-bottom: 1px solid;
  }

  #coorespondence {
    display: flex;
    margin: 15px;
  }

  #coorespondence > form-wrapper {
    width: 100%;
  }

  mwc-list > .mdc-deprecated-list {
    padding-top: 0;
  }
`;ie();ie();ie();ie();ie();var bj={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},xI={NOTCH_ELEMENT_PADDING:8},_j={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};var wj=function(t){N(e,t);function e(n){return t.call(this,I(I({},e.defaultAdapter),n))||this}return Object.defineProperty(e,"strings",{get:function(){return bj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return _j},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return xI},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(n){var r=e.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=xI.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},e.prototype.closeNotch=function(){var n=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},e}(At);var Xl=class extends An{constructor(){super(...arguments);this.mdcFoundationClass=wj,this.width=0,this.open=!1,this.lastOpen=this.open}createAdapter(){return{addClass:e=>this.mdcRoot.classList.add(e),removeClass:e=>this.mdcRoot.classList.remove(e),setNotchWidthProperty:e=>this.notchElement.style.setProperty("width",`${e}px`),removeNotchWidthProperty:()=>this.notchElement.style.removeProperty("width")}}openOrClose(e,n){!this.mdcFoundation||(e&&n!==void 0?this.mdcFoundation.notch(n):this.mdcFoundation.closeNotch())}render(){this.openOrClose(this.open,this.width);let e=dt({"mdc-notched-outline--notched":this.open});return oe`
      <span class="mdc-notched-outline ${e}">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <slot></slot>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>`}};D([be(".mdc-notched-outline")],Xl.prototype,"mdcRoot",void 0);D([V({type:Number})],Xl.prototype,"width",void 0);D([V({type:Boolean,reflect:!0})],Xl.prototype,"open",void 0);D([be(".mdc-notched-outline__notch")],Xl.prototype,"notchElement",void 0);var Ej=st`.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}:host{display:block;position:absolute;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] :host,:host[dir=rtl]{text-align:right}::slotted(.mdc-floating-label){display:inline-block;position:relative;top:17px;bottom:auto;max-width:100%}::slotted(.mdc-floating-label--float-above){text-overflow:clip}.mdc-notched-outline--upgraded ::slotted(.mdc-floating-label--float-above){max-width:calc(100% / 0.75)}.mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__leading,.mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-color:var(--mdc-notched-outline-border-color, var(--mdc-theme-primary, #6200ee));border-width:1px;border-width:var(--mdc-notched-outline-stroke-width, 1px)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0;padding-top:var(--mdc-notched-outline-notch-offset, 0)}`;var TI=class extends Xl{};TI.styles=Ej;TI=D([ot("mwc-notched-outline")],TI);ie();ie();ie();ie();var Sj={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},xj={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},up={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},ft;(function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"})(ft||(ft={}));var vn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"})(vn||(vn={}));ie();var CI=function(t){N(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.isSurfaceOpen=!1,r.isQuickOpen=!1,r.isHoistedElement=!1,r.isFixedPosition=!1,r.isHorizontallyCenteredOnViewport=!1,r.maxHeight=0,r.openAnimationEndTimerId=0,r.closeAnimationEndTimerId=0,r.animationRequestId=0,r.anchorCorner=vn.TOP_START,r.originCorner=vn.TOP_START,r.anchorMargin={top:0,right:0,bottom:0,left:0},r.position={x:0,y:0},r}return Object.defineProperty(e,"cssClasses",{get:function(){return Sj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return xj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return up},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return vn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){},notifyClosing:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=e.cssClasses,r=n.ROOT,i=n.OPEN;if(!this.adapter.hasClass(r))throw new Error(r+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(n){this.anchorCorner=n},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^ft.RIGHT},e.prototype.setAnchorMargin=function(n){this.anchorMargin.top=n.top||0,this.anchorMargin.right=n.right||0,this.anchorMargin.bottom=n.bottom||0,this.anchorMargin.left=n.left||0},e.prototype.setIsHoisted=function(n){this.isHoistedElement=n},e.prototype.setFixedPosition=function(n){this.isFixedPosition=n},e.prototype.setAbsolutePosition=function(n,r){this.position.x=this.isFinite(n)?n:0,this.position.y=this.isFinite(r)?r:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(n){this.isHorizontallyCenteredOnViewport=n},e.prototype.setQuickOpen=function(n){this.isQuickOpen=n},e.prototype.setMaxHeight=function(n){this.maxHeight=n},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var n=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){n.adapter.addClass(e.cssClasses.OPEN),n.dimensions=n.adapter.getInnerDimensions(),n.autoposition(),n.openAnimationEndTimerId=setTimeout(function(){n.openAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),n.adapter.notifyOpen()},up.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},e.prototype.close=function(n){var r=this;if(n===void 0&&(n=!1),!!this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen){this.isSurfaceOpen=!1,n||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose();return}this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){r.adapter.removeClass(e.cssClasses.OPEN),r.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),r.closeAnimationEndTimerId=setTimeout(function(){r.closeAnimationEndTimerId=0,r.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),r.adapter.notifyClose()},up.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,n||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(n){var r=n.target;this.adapter.isElementInContainer(r)||this.close()},e.prototype.handleKeydown=function(n){var r=n.keyCode,i=n.key,o=i==="Escape"||r===27;o&&this.close()},e.prototype.autoposition=function(){var n;this.measurements=this.getAutoLayoutmeasurements();var r=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(r),o=this.hasBit(r,ft.BOTTOM)?"bottom":"top",a=this.hasBit(r,ft.RIGHT)?"right":"left",l=this.getHorizontalOriginOffset(r),c=this.getVerticalOriginOffset(r),d=this.measurements,f=d.anchorSize,p=d.surfaceSize,m=(n={},n[a]=l,n[o]=c,n);f.width/p.width>up.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(a="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(m),this.adapter.setTransformOrigin(a+" "+o),this.adapter.setPosition(m),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(r,ft.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var n=this.adapter.getAnchorDimensions(),r=this.adapter.getBodyDimensions(),i=this.adapter.getWindowDimensions(),o=this.adapter.getWindowScroll();return n||(n={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:n,bodySize:r,surfaceSize:this.dimensions,viewportDistance:{top:n.top,right:i.width-n.right,bottom:i.height-n.bottom,left:n.left},viewportSize:i,windowScroll:o}},e.prototype.getoriginCorner=function(){var n=this.originCorner,r=this.measurements,i=r.viewportDistance,o=r.anchorSize,a=r.surfaceSize,l=e.numbers.MARGIN_TO_EDGE,c=this.hasBit(this.anchorCorner,ft.BOTTOM),d,f;c?(d=i.top-l+this.anchorMargin.bottom,f=i.bottom-l-this.anchorMargin.bottom):(d=i.top-l+this.anchorMargin.top,f=i.bottom-l+o.height-this.anchorMargin.top);var p=f-a.height>0;!p&&d>f&&(n=this.setBit(n,ft.BOTTOM));var m=this.adapter.isRtl(),g=this.hasBit(this.anchorCorner,ft.FLIP_RTL),y=this.hasBit(this.anchorCorner,ft.RIGHT)||this.hasBit(n,ft.RIGHT),_=!1;m&&g?_=!y:_=y;var w,S;_?(w=i.left+o.width+this.anchorMargin.right,S=i.right-this.anchorMargin.right):(w=i.left+this.anchorMargin.left,S=i.right+o.width-this.anchorMargin.left);var C=w-a.width>0,R=S-a.width>0,k=this.hasBit(n,ft.FLIP_RTL)&&this.hasBit(n,ft.RIGHT);return R&&k&&m||!C&&k?n=this.unsetBit(n,ft.RIGHT):(C&&_&&m||C&&!_&&y||!R&&w>=S)&&(n=this.setBit(n,ft.RIGHT)),n},e.prototype.getMenuSurfaceMaxHeight=function(n){if(this.maxHeight>0)return this.maxHeight;var r=this.measurements.viewportDistance,i=0,o=this.hasBit(n,ft.BOTTOM),a=this.hasBit(this.anchorCorner,ft.BOTTOM),l=e.numbers.MARGIN_TO_EDGE;return o?(i=r.top+this.anchorMargin.top-l,a||(i+=this.measurements.anchorSize.height)):(i=r.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-l,a&&(i-=this.measurements.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset=function(n){var r=this.measurements.anchorSize,i=this.hasBit(n,ft.RIGHT),o=this.hasBit(this.anchorCorner,ft.RIGHT);if(i){var a=o?r.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?a-(this.measurements.viewportSize.width-this.measurements.bodySize.width):a}return o?r.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(n){var r=this.measurements.anchorSize,i=this.hasBit(n,ft.BOTTOM),o=this.hasBit(this.anchorCorner,ft.BOTTOM),a=0;return i?a=o?r.height-this.anchorMargin.top:-this.anchorMargin.bottom:a=o?r.height+this.anchorMargin.bottom:this.anchorMargin.top,a},e.prototype.adjustPositionForHoistedElement=function(n){var r,i,o=this.measurements,a=o.windowScroll,l=o.viewportDistance,c=o.surfaceSize,d=o.viewportSize,f=Object.keys(n);try{for(var p=mt(f),m=p.next();!m.done;m=p.next()){var g=m.value,y=n[g]||0;if(this.isHorizontallyCenteredOnViewport&&(g==="left"||g==="right")){n[g]=(d.width-c.width)/2;continue}y+=l[g],this.isFixedPosition||(g==="top"?y+=a.y:g==="bottom"?y-=a.y:g==="left"?y+=a.x:y-=a.x),n[g]=y}}catch(_){r={error:_}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}},e.prototype.maybeRestoreFocus=function(){var n=this.adapter.isFocused(),r=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(n||r)&&this.adapter.restoreFocus()},e.prototype.hasBit=function(n,r){return Boolean(n&r)},e.prototype.setBit=function(n,r){return n|r},e.prototype.unsetBit=function(n,r){return n^r},e.prototype.isFinite=function(n){return typeof n=="number"&&isFinite(n)},e}(At);var Tj=CI;var Iae={TOP_LEFT:vn.TOP_LEFT,TOP_RIGHT:vn.TOP_RIGHT,BOTTOM_LEFT:vn.BOTTOM_LEFT,BOTTOM_RIGHT:vn.BOTTOM_RIGHT,TOP_START:vn.TOP_START,TOP_END:vn.TOP_END,BOTTOM_START:vn.BOTTOM_START,BOTTOM_END:vn.BOTTOM_END},kt=class extends An{constructor(){super(...arguments);this.mdcFoundationClass=Tj,this.absolute=!1,this.fullwidth=!1,this.fixed=!1,this.x=null,this.y=null,this.quick=!1,this.open=!1,this.stayOpenOnBodyClick=!1,this.bitwiseCorner=vn.TOP_START,this.previousMenuCorner=null,this.menuCorner="START",this.corner="TOP_START",this.styleTop="",this.styleLeft="",this.styleRight="",this.styleBottom="",this.styleMaxHeight="",this.styleTransformOrigin="",this.anchor=null,this.previouslyFocused=null,this.previousAnchor=null,this.onBodyClickBound=()=>{}}render(){let e={"mdc-menu-surface--fixed":this.fixed,"mdc-menu-surface--fullwidth":this.fullwidth},n={top:this.styleTop,left:this.styleLeft,right:this.styleRight,bottom:this.styleBottom,"max-height":this.styleMaxHeight,"transform-origin":this.styleTransformOrigin};return oe`
      <div
          class="mdc-menu-surface ${dt(e)}"
          style="${Wy(n)}"
          @keydown=${this.onKeydown}
          @opened=${this.registerBodyClick}
          @closed=${this.deregisterBodyClick}>
        <slot></slot>
      </div>`}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{hasAnchor:()=>!!this.anchor,notifyClose:()=>{let e={bubbles:!0,composed:!0},n=new CustomEvent("closed",e);this.open=!1,this.mdcRoot.dispatchEvent(n)},notifyClosing:()=>{let e={bubbles:!0,composed:!0},n=new CustomEvent("closing",e);this.mdcRoot.dispatchEvent(n)},notifyOpen:()=>{let e={bubbles:!0,composed:!0},n=new CustomEvent("opened",e);this.open=!0,this.mdcRoot.dispatchEvent(n)},isElementInContainer:()=>!1,isRtl:()=>this.mdcRoot?getComputedStyle(this.mdcRoot).direction==="rtl":!1,setTransformOrigin:e=>{!this.mdcRoot||(this.styleTransformOrigin=e)},isFocused:()=>qy(this),saveFocus:()=>{let e=op(),n=e.length;n||(this.previouslyFocused=null),this.previouslyFocused=e[n-1]},restoreFocus:()=>{!this.previouslyFocused||"focus"in this.previouslyFocused&&this.previouslyFocused.focus()},getInnerDimensions:()=>{let e=this.mdcRoot;return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}},getAnchorDimensions:()=>{let e=this.anchor;return e?e.getBoundingClientRect():null},getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{!this.mdcRoot||(this.styleLeft="left"in e?`${e.left}px`:"",this.styleRight="right"in e?`${e.right}px`:"",this.styleTop="top"in e?`${e.top}px`:"",this.styleBottom="bottom"in e?`${e.bottom}px`:"")},setMaxHeight:async e=>{!this.mdcRoot||(this.styleMaxHeight=e,await this.updateComplete,this.styleMaxHeight=`var(--mdc-menu-max-height, ${e})`)}})}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onBodyClick(e){if(this.stayOpenOnBodyClick)return;e.composedPath().indexOf(this)===-1&&this.close()}registerBodyClick(){this.onBodyClickBound=this.onBodyClick.bind(this),document.body.addEventListener("click",this.onBodyClickBound,{passive:!0,capture:!0})}deregisterBodyClick(){document.body.removeEventListener("click",this.onBodyClickBound,{capture:!0})}close(){this.open=!1}show(){this.open=!0}};D([be(".mdc-menu-surface")],kt.prototype,"mdcRoot",void 0);D([be("slot")],kt.prototype,"slotElement",void 0);D([V({type:Boolean}),qe(function(t){this.mdcFoundation&&!this.fixed&&this.mdcFoundation.setIsHoisted(t)})],kt.prototype,"absolute",void 0);D([V({type:Boolean})],kt.prototype,"fullwidth",void 0);D([V({type:Boolean}),qe(function(t){this.mdcFoundation&&!this.absolute&&this.mdcFoundation.setFixedPosition(t)})],kt.prototype,"fixed",void 0);D([V({type:Number}),qe(function(t){this.mdcFoundation&&this.y!==null&&t!==null&&(this.mdcFoundation.setAbsolutePosition(t,this.y),this.mdcFoundation.setAnchorMargin({left:t,top:this.y,right:-t,bottom:this.y}))})],kt.prototype,"x",void 0);D([V({type:Number}),qe(function(t){this.mdcFoundation&&this.x!==null&&t!==null&&(this.mdcFoundation.setAbsolutePosition(this.x,t),this.mdcFoundation.setAnchorMargin({left:this.x,top:t,right:-this.x,bottom:t}))})],kt.prototype,"y",void 0);D([V({type:Boolean}),qe(function(t){this.mdcFoundation&&this.mdcFoundation.setQuickOpen(t)})],kt.prototype,"quick",void 0);D([V({type:Boolean,reflect:!0}),qe(function(t,e){this.mdcFoundation&&(t?this.mdcFoundation.open():e!==void 0&&this.mdcFoundation.close())})],kt.prototype,"open",void 0);D([V({type:Boolean})],kt.prototype,"stayOpenOnBodyClick",void 0);D([Pe(),qe(function(t){this.mdcFoundation&&(t?this.mdcFoundation.setAnchorCorner(t):this.mdcFoundation.setAnchorCorner(t))})],kt.prototype,"bitwiseCorner",void 0);D([V({type:String}),qe(function(t){if(this.mdcFoundation){let e=t==="START"||t==="END",n=this.previousMenuCorner===null,r=!n&&t!==this.previousMenuCorner;e&&(r||n&&t==="END")&&(this.bitwiseCorner=this.bitwiseCorner^ft.RIGHT,this.mdcFoundation.flipCornerHorizontally(),this.previousMenuCorner=t)}})],kt.prototype,"menuCorner",void 0);D([V({type:String}),qe(function(t){if(this.mdcFoundation&&t){let e=Iae[t];this.menuCorner==="END"&&(e=e^ft.RIGHT),this.bitwiseCorner=e}})],kt.prototype,"corner",void 0);D([Pe()],kt.prototype,"styleTop",void 0);D([Pe()],kt.prototype,"styleLeft",void 0);D([Pe()],kt.prototype,"styleRight",void 0);D([Pe()],kt.prototype,"styleBottom",void 0);D([Pe()],kt.prototype,"styleMaxHeight",void 0);D([Pe()],kt.prototype,"styleTransformOrigin",void 0);var Cj=st`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}:host(:not([open])){display:none}.mdc-menu-surface{z-index:8;z-index:var(--mdc-menu-z-index, 8);min-width:112px;min-width:var(--mdc-menu-min-width, 112px)}`;var II=class extends kt{};II.styles=Cj;II=D([ot("mwc-menu-surface")],II);var Qy={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},vd={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected"},Ij={FOCUS_ROOT_INDEX:-1},as;(function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"})(as||(as={}));ie();var Rae=function(t){N(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=as.LIST_ROOT,r}return Object.defineProperty(e,"cssClasses",{get:function(){return Qy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return vd},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ij},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},e.prototype.handleKeydown=function(n){var r=n.key,i=n.keyCode,o=r==="Tab"||i===9;o&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(n){var r=this,i=this.adapter.getElementIndex(n);i<0||(this.adapter.notifySelected({index:i}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var o=r.adapter.getElementIndex(n);o>=0&&r.adapter.isSelectableItemAtIndex(o)&&r.setSelectedIndex(o)},CI.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case as.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case as.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case as.NONE:break;default:this.adapter.focusListRoot();break}},e.prototype.setDefaultFocusState=function(n){this.defaultFocusState_=n},e.prototype.setSelectedIndex=function(n){if(this.validatedIndex_(n),!this.adapter.isSelectableItemAtIndex(n))throw new Error("MDCMenuFoundation: No selection group at specified index.");var r=this.adapter.getSelectedSiblingOfItemAtIndex(n);r>=0&&(this.adapter.removeAttributeFromElementAtIndex(r,vd.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(r,Qy.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(n,Qy.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(n,vd.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(n,r){this.validatedIndex_(n),r?(this.adapter.removeClassFromElementAtIndex(n,Ze.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,vd.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(n,Ze.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,vd.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(n){var r=this.adapter.getMenuItemCount(),i=n>=0&&n<r;if(!i)throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(At);var Rj=Rae;var Dt=class extends An{constructor(){super(...arguments);this.mdcFoundationClass=Rj,this.listElement_=null,this.anchor=null,this.open=!1,this.quick=!1,this.wrapFocus=!1,this.innerRole="menu",this.corner="TOP_START",this.x=null,this.y=null,this.absolute=!1,this.multi=!1,this.activatable=!1,this.fixed=!1,this.forceGroupSelection=!1,this.fullwidth=!1,this.menuCorner="START",this.stayOpenOnBodyClick=!1,this.defaultFocus="LIST_ROOT",this._listUpdateComplete=null}get listElement(){return this.listElement_?this.listElement_:(this.listElement_=this.renderRoot.querySelector("mwc-list"),this.listElement_)}get items(){let e=this.listElement;return e?e.items:[]}get index(){let e=this.listElement;return e?e.index:-1}get selected(){let e=this.listElement;return e?e.selected:null}render(){let e=this.innerRole==="menu"?"menuitem":"option";return oe`
      <mwc-menu-surface
          ?hidden=${!this.open}
          .anchor=${this.anchor}
          .open=${this.open}
          .quick=${this.quick}
          .corner=${this.corner}
          .x=${this.x}
          .y=${this.y}
          .absolute=${this.absolute}
          .fixed=${this.fixed}
          .fullwidth=${this.fullwidth}
          .menuCorner=${this.menuCorner}
          ?stayOpenOnBodyClick=${this.stayOpenOnBodyClick}
          class="mdc-menu mdc-menu-surface"
          @closed=${this.onClosed}
          @opened=${this.onOpened}
          @keydown=${this.onKeydown}>
        <mwc-list
          rootTabbable
          .innerRole=${this.innerRole}
          .multi=${this.multi}
          class="mdc-deprecated-list"
          .itemRoles=${e}
          .wrapFocus=${this.wrapFocus}
          .activatable=${this.activatable}
          @action=${this.onAction}>
        <slot></slot>
      </mwc-list>
    </mwc-menu-surface>`}createAdapter(){return{addClassToElementAtIndex:(e,n)=>{let r=this.listElement;if(!r)return;let i=r.items[e];!i||(n==="mdc-menu-item--selected"?this.forceGroupSelection&&!i.selected&&r.toggle(e,!0):i.classList.add(n))},removeClassFromElementAtIndex:(e,n)=>{let r=this.listElement;if(!r)return;let i=r.items[e];!i||(n==="mdc-menu-item--selected"?i.selected&&r.toggle(e,!1):i.classList.remove(n))},addAttributeToElementAtIndex:(e,n,r)=>{let i=this.listElement;if(!i)return;let o=i.items[e];!o||o.setAttribute(n,r)},removeAttributeFromElementAtIndex:(e,n)=>{let r=this.listElement;if(!r)return;let i=r.items[e];!i||i.removeAttribute(n)},elementContainsClass:(e,n)=>e.classList.contains(n),closeSurface:()=>{this.open=!1},getElementIndex:e=>{let n=this.listElement;return n?n.items.indexOf(e):-1},notifySelected:()=>{},getMenuItemCount:()=>{let e=this.listElement;return e?e.items.length:0},focusItemAtIndex:e=>{let n=this.listElement;if(!n)return;let r=n.items[e];r&&r.focus()},focusListRoot:()=>{this.listElement&&this.listElement.focus()},getSelectedSiblingOfItemAtIndex:e=>{let n=this.listElement;if(!n)return-1;let r=n.items[e];if(!r||!r.group)return-1;for(let i=0;i<n.items.length;i++){if(i===e)continue;let o=n.items[i];if(o.selected&&o.group===r.group)return i}return-1},isSelectableItemAtIndex:e=>{let n=this.listElement;if(!n)return!1;let r=n.items[e];return r?r.hasAttribute("group"):!1}}}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onAction(e){let n=this.listElement;if(this.mdcFoundation&&n){let r=e.detail.index,i=n.items[r];i&&this.mdcFoundation.handleItemAction(i)}}onOpened(){this.open=!0,this.mdcFoundation&&this.mdcFoundation.handleMenuSurfaceOpened()}onClosed(){this.open=!1}async _getUpdateComplete(){let e=!1;return await this._listUpdateComplete,super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),e}getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){super.firstUpdated();let e=this.listElement;e&&(this._listUpdateComplete=e.updateComplete,await this._listUpdateComplete)}select(e){let n=this.listElement;n&&n.select(e)}close(){this.open=!1}show(){this.open=!0}getFocusedItemIndex(){let e=this.listElement;return e?e.getFocusedItemIndex():-1}focusItemAtIndex(e){let n=this.listElement;n&&n.focusItemAtIndex(e)}layout(e=!0){let n=this.listElement;n&&n.layout(e)}};D([be(".mdc-menu")],Dt.prototype,"mdcRoot",void 0);D([be("slot")],Dt.prototype,"slotElement",void 0);D([V({type:Object})],Dt.prototype,"anchor",void 0);D([V({type:Boolean,reflect:!0})],Dt.prototype,"open",void 0);D([V({type:Boolean})],Dt.prototype,"quick",void 0);D([V({type:Boolean})],Dt.prototype,"wrapFocus",void 0);D([V({type:String})],Dt.prototype,"innerRole",void 0);D([V({type:String})],Dt.prototype,"corner",void 0);D([V({type:Number})],Dt.prototype,"x",void 0);D([V({type:Number})],Dt.prototype,"y",void 0);D([V({type:Boolean})],Dt.prototype,"absolute",void 0);D([V({type:Boolean})],Dt.prototype,"multi",void 0);D([V({type:Boolean})],Dt.prototype,"activatable",void 0);D([V({type:Boolean})],Dt.prototype,"fixed",void 0);D([V({type:Boolean})],Dt.prototype,"forceGroupSelection",void 0);D([V({type:Boolean})],Dt.prototype,"fullwidth",void 0);D([V({type:String})],Dt.prototype,"menuCorner",void 0);D([V({type:Boolean})],Dt.prototype,"stayOpenOnBodyClick",void 0);D([V({type:String}),qe(function(t){this.mdcFoundation&&this.mdcFoundation.setDefaultFocusState(as[t])})],Dt.prototype,"defaultFocus",void 0);var Aj=st`mwc-list ::slotted([mwc-list-item]:not([twoline])){height:var(--mdc-menu-item-height, 48px)}`;var RI=class extends Dt{};RI.styles=Aj;RI=D([ot("mwc-menu")],RI);var Aae=["input","button","textarea","select"],AI=function(t){var e=t.target;if(!!e){var n=(""+e.tagName).toLowerCase();Aae.indexOf(n)===-1&&t.preventDefault()}};function kj(){var t={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""};return t}function kI(t,e){for(var n=new Map,r=0;r<t;r++){var i=e(r).trim();if(!!i){var o=i[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:i.toLowerCase(),index:r})}}return n.forEach(function(a){a.sort(function(l,c){return l.index-c.index})}),n}function Jy(t,e){var n=t.nextChar,r=t.focusItemAtIndex,i=t.sortedIndexByFirstChar,o=t.focusedItemIndex,a=t.skipFocus,l=t.isItemAtIndexDisabled;clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout(function(){Nae(e)},kn.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+n;var c;return e.typeaheadBuffer.length===1?c=kae(i,o,l,e):c=Dae(i,l,e),c!==-1&&!a&&r(c),c}function kae(t,e,n,r){var i=r.typeaheadBuffer[0],o=t.get(i);if(!o)return-1;if(i===r.currentFirstChar&&o[r.sortedIndexCursor].index===e){r.sortedIndexCursor=(r.sortedIndexCursor+1)%o.length;var a=o[r.sortedIndexCursor].index;if(!n(a))return a}r.currentFirstChar=i;var l=-1,c;for(c=0;c<o.length;c++)if(!n(o[c].index)){l=c;break}for(;c<o.length;c++)if(o[c].index>e&&!n(o[c].index)){l=c;break}return l!==-1?(r.sortedIndexCursor=l,o[r.sortedIndexCursor].index):-1}function Dae(t,e,n){var r=n.typeaheadBuffer[0],i=t.get(r);if(!i)return-1;var o=i[n.sortedIndexCursor];if(o.text.lastIndexOf(n.typeaheadBuffer,0)===0&&!e(o.index))return o.index;for(var a=(n.sortedIndexCursor+1)%i.length,l=-1;a!==n.sortedIndexCursor;){var c=i[a],d=c.text.lastIndexOf(n.typeaheadBuffer,0)===0,f=!e(c.index);if(d&&f){l=a;break}a=(a+1)%i.length}return l!==-1?(n.sortedIndexCursor=l,i[n.sortedIndexCursor].index):-1}function DI(t){return t.typeaheadBuffer.length>0}function Nae(t){t.typeaheadBuffer=""}function Dj(t,e){var n=t.event,r=t.isTargetListItem,i=t.focusedItemIndex,o=t.focusItemAtIndex,a=t.sortedIndexByFirstChar,l=t.isItemAtIndexDisabled,c=at(n)==="ArrowLeft",d=at(n)==="ArrowUp",f=at(n)==="ArrowRight",p=at(n)==="ArrowDown",m=at(n)==="Home",g=at(n)==="End",y=at(n)==="Enter",_=at(n)==="Spacebar";if(n.ctrlKey||n.metaKey||c||d||f||p||m||g||y)return-1;var w=!_&&n.key.length===1;if(w){AI(n);var S={focusItemAtIndex:o,focusedItemIndex:i,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:l};return Jy(S,e)}if(!_)return-1;r&&AI(n);var C=r&&DI(e);if(C){var S={focusItemAtIndex:o,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:l};return Jy(S,e)}return-1}var dp=class extends An{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(e){this.formElement&&this.formElement.setAttribute("aria-label",e)}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",e=>{this.dispatchEvent(new Event("change",e))})}};ie();var Nj={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};var Oj=function(t){N(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return Nj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(n){var r=e.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.float=function(n){var r=e.cssClasses,i=r.LABEL_FLOAT_ABOVE,o=r.LABEL_SHAKE;n?this.adapter.addClass(i):(this.adapter.removeClass(i),this.adapter.removeClass(o))},e.prototype.setRequired=function(n){var r=e.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleShakeAnimationEnd_=function(){var n=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},e}(At);var Oae=t=>({addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),getWidth:()=>t.scrollWidth,registerInteractionHandler:(e,n)=>{t.addEventListener(e,n)},deregisterInteractionHandler:(e,n)=>{t.removeEventListener(e,n)}}),Pj=new WeakMap,Zy=Wr(t=>e=>{if(!Pj.get(e)){let r=e.committer.element;r.classList.add("mdc-floating-label");let i=Oae(r),o=new Oj(i);o.init(),e.setValue(o),Pj.set(e,{label:t,foundation:o})}});ie();var fa={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};var Mj=function(t){N(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.transitionEndHandler_=function(i){return r.handleTransitionEnd(i)},r}return Object.defineProperty(e,"cssClasses",{get:function(){return fa},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.activate=function(){this.adapter.removeClass(fa.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(fa.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(fa.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(fa.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(fa.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(fa.LINE_RIPPLE_DEACTIVATING))},e}(At);var Pae=t=>({addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),hasClass:e=>t.classList.contains(e),setStyle:(e,n)=>t.style.setProperty(e,n),registerEventHandler:(e,n)=>{t.addEventListener(e,n)},deregisterEventHandler:(e,n)=>{t.removeEventListener(e,n)}}),Lj=new WeakMap,eb=Wr(()=>t=>{if(!Lj.get(t)){let n=t.committer.element;n.classList.add("mdc-line-ripple");let r=Pae(n),i=new Mj(r);i.init(),t.setValue(i),Lj.set(t,i)}});ie();var yt={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",MENU_INVALID:"mdc-select__menu--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},tb={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},ha={LABEL_SCALE:.75,UNSET_INDEX:-1,CLICK_DEBOUNCE_TIMEOUT_MS:330};var Mae=function(t){N(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,I(I({},e.defaultAdapter),n))||this;return i.disabled=!1,i.isMenuOpen=!1,i.useDefaultValidation=!0,i.customValidity=!0,i.lastSelectedIndex=ha.UNSET_INDEX,i.clickDebounceTimeout=0,i.recentlyClicked=!1,i.leadingIcon=r.leadingIcon,i.helperText=r.helperText,i}return Object.defineProperty(e,"cssClasses",{get:function(){return yt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ha},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return tb},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedIndex:function(){return-1},setSelectedIndex:function(){},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},setLabelRequired:function(){},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},removeSelectAnchorAttr:function(){},addMenuClass:function(){},removeMenuClass:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},isTypeaheadInProgress:function(){return!1},typeaheadMatchItem:function(){return-1}}},enumerable:!1,configurable:!0}),e.prototype.getSelectedIndex=function(){return this.adapter.getSelectedIndex()},e.prototype.setSelectedIndex=function(n,r,i){r===void 0&&(r=!1),i===void 0&&(i=!1),!(n>=this.adapter.getMenuItemCount())&&(n===ha.UNSET_INDEX?this.adapter.setSelectedText(""):this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(n).trim()),this.adapter.setSelectedIndex(n),r&&this.adapter.closeMenu(),!i&&this.lastSelectedIndex!==n&&this.handleChange(),this.lastSelectedIndex=n)},e.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.adapter.getMenuItemValues().indexOf(n);this.setSelectedIndex(i,!1,r)},e.prototype.getValue=function(){var n=this.adapter.getSelectedIndex(),r=this.adapter.getMenuItemValues();return n!==ha.UNSET_INDEX?r[n]:""},e.prototype.getDisabled=function(){return this.disabled},e.prototype.setDisabled=function(n){this.disabled=n,this.disabled?(this.adapter.addClass(yt.DISABLED),this.adapter.closeMenu()):this.adapter.removeClass(yt.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.disabled?this.adapter.removeSelectAnchorAttr("tabindex"):this.adapter.setSelectAnchorAttr("tabindex","0"),this.adapter.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},e.prototype.openMenu=function(){this.adapter.addClass(yt.ACTIVATED),this.adapter.openMenu(),this.isMenuOpen=!0,this.adapter.setSelectAnchorAttr("aria-expanded","true")},e.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},e.prototype.layout=function(){if(this.adapter.hasLabel()){var n=this.getValue().length>0,r=this.adapter.hasClass(yt.FOCUSED),i=n||r,o=this.adapter.hasClass(yt.REQUIRED);this.notchOutline(i),this.adapter.floatLabel(i),this.adapter.setLabelRequired(o)}},e.prototype.layoutOptions=function(){var n=this.adapter.getMenuItemValues(),r=n.indexOf(this.getValue());this.setSelectedIndex(r,!1,!0)},e.prototype.handleMenuOpened=function(){if(this.adapter.getMenuItemValues().length!==0){var n=this.getSelectedIndex(),r=n>=0?n:0;this.adapter.focusMenuItemAtIndex(r)}},e.prototype.handleMenuClosing=function(){this.adapter.setSelectAnchorAttr("aria-expanded","false")},e.prototype.handleMenuClosed=function(){this.adapter.removeClass(yt.ACTIVATED),this.isMenuOpen=!1,this.adapter.isSelectAnchorFocused()||this.blur()},e.prototype.handleChange=function(){this.layout(),this.adapter.notifyChange(this.getValue());var n=this.adapter.hasClass(yt.REQUIRED);n&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.handleMenuItemAction=function(n){this.setSelectedIndex(n,!0)},e.prototype.handleFocus=function(){this.adapter.addClass(yt.FOCUSED),this.layout(),this.adapter.activateBottomLine()},e.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},e.prototype.handleClick=function(n){if(!(this.disabled||this.recentlyClicked)){if(this.setClickDebounceTimeout(),this.isMenuOpen){this.adapter.closeMenu();return}this.adapter.setRippleCenter(n),this.openMenu()}},e.prototype.handleKeydown=function(n){if(!(this.isMenuOpen||!this.adapter.hasClass(yt.FOCUSED))){var r=at(n)===ge.ENTER,i=at(n)===ge.SPACEBAR,o=at(n)===ge.ARROW_UP,a=at(n)===ge.ARROW_DOWN,l=n.ctrlKey||n.metaKey;if(!l&&(!i&&n.key&&n.key.length===1||i&&this.adapter.isTypeaheadInProgress())){var c=i?" ":n.key,d=this.adapter.typeaheadMatchItem(c,this.getSelectedIndex());d>=0&&this.setSelectedIndex(d),n.preventDefault();return}!r&&!i&&!o&&!a||(o&&this.getSelectedIndex()>0?this.setSelectedIndex(this.getSelectedIndex()-1):a&&this.getSelectedIndex()<this.adapter.getMenuItemCount()-1&&this.setSelectedIndex(this.getSelectedIndex()+1),this.openMenu(),n.preventDefault())}},e.prototype.notchOutline=function(n){if(!!this.adapter.hasOutline()){var r=this.adapter.hasClass(yt.FOCUSED);if(n){var i=ha.LABEL_SCALE,o=this.adapter.getLabelWidth()*i;this.adapter.notchOutline(o)}else r||this.adapter.closeOutline()}},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},e.prototype.setUseDefaultValidation=function(n){this.useDefaultValidation=n},e.prototype.setValid=function(n){this.useDefaultValidation||(this.customValidity=n),this.adapter.setSelectAnchorAttr("aria-invalid",(!n).toString()),n?(this.adapter.removeClass(yt.INVALID),this.adapter.removeMenuClass(yt.MENU_INVALID)):(this.adapter.addClass(yt.INVALID),this.adapter.addMenuClass(yt.MENU_INVALID)),this.syncHelperTextValidity(n)},e.prototype.isValid=function(){return this.useDefaultValidation&&this.adapter.hasClass(yt.REQUIRED)&&!this.adapter.hasClass(yt.DISABLED)?this.getSelectedIndex()!==ha.UNSET_INDEX&&(this.getSelectedIndex()!==0||Boolean(this.getValue())):this.customValidity},e.prototype.setRequired=function(n){n?this.adapter.addClass(yt.REQUIRED):this.adapter.removeClass(yt.REQUIRED),this.adapter.setSelectAnchorAttr("aria-required",n.toString()),this.adapter.setLabelRequired(n)},e.prototype.getRequired=function(){return this.adapter.getSelectAnchorAttr("aria-required")==="true"},e.prototype.init=function(){var n=this.adapter.getAnchorElement();n&&(this.adapter.setMenuAnchorElement(n),this.adapter.setMenuAnchorCorner(vn.BOTTOM_START)),this.adapter.setMenuWrapFocus(!1),this.setDisabled(this.adapter.hasClass(yt.DISABLED)),this.syncHelperTextValidity(!this.adapter.hasClass(yt.INVALID)),this.layout(),this.layoutOptions()},e.prototype.blur=function(){this.adapter.removeClass(yt.FOCUSED),this.layout(),this.adapter.deactivateBottomLine();var n=this.adapter.hasClass(yt.REQUIRED);n&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.syncHelperTextValidity=function(n){if(!!this.helperText){this.helperText.setValidity(n);var r=this.helperText.isVisible(),i=this.helperText.getId();r&&i?this.adapter.setSelectAnchorAttr(tb.ARIA_DESCRIBEDBY,i):this.adapter.removeSelectAnchorAttr(tb.ARIA_DESCRIBEDBY)}},e.prototype.setClickDebounceTimeout=function(){var n=this;clearTimeout(this.clickDebounceTimeout),this.clickDebounceTimeout=setTimeout(function(){n.recentlyClicked=!1},ha.CLICK_DEBOUNCE_TIMEOUT_MS),this.recentlyClicked=!0},e}(At);var Fj=Mae;var Uj=(t={})=>{let e={};for(let n in t)e[n]=t[n];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},e)},$e=class extends dp{constructor(){super(...arguments);this.mdcFoundationClass=Fj,this.disabled=!1,this.outlined=!1,this.label="",this.outlineOpen=!1,this.outlineWidth=0,this.value="",this.selectedText="",this.icon="",this.menuOpen=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.required=!1,this.naturalMenuWidth=!1,this.isUiValid=!0,this.fixedMenuPosition=!1,this.typeaheadState=kj(),this.sortedIndexByFirstChar=new Map,this.menuElement_=null,this.listeners=[],this.onBodyClickBound=()=>{},this._menuUpdateComplete=null,this.valueSetDirectly=!1,this.validityTransform=null,this._validity=Uj()}get items(){return this.menuElement_||(this.menuElement_=this.menuElement),this.menuElement_?this.menuElement_.items:[]}get selected(){let e=this.menuElement;return e?e.selected:null}get index(){let e=this.menuElement;return e?e.index:-1}get shouldRenderHelperText(){return!!this.helper||!!this.validationMessage}get validity(){return this._checkValidity(this.value),this._validity}render(){let e={"mdc-select--disabled":this.disabled,"mdc-select--no-label":!this.label,"mdc-select--filled":!this.outlined,"mdc-select--outlined":this.outlined,"mdc-select--with-leading-icon":!!this.icon,"mdc-select--required":this.required,"mdc-select--invalid":!this.isUiValid},n={"mdc-select__menu--invalid":!this.isUiValid},r=this.shouldRenderHelperText?"helper-text":void 0;return oe`
      <div
          class="mdc-select ${dt(e)}">
        <input
            class="formElement"
            .value=${this.value}
            hidden
            ?required=${this.required}>
        <!-- @ts-ignore -->
        <div class="mdc-select__anchor"
            aria-autocomplete="none"
            role="combobox"
            aria-expanded=${this.menuOpen}
            aria-invalid=${!this.isUiValid}
            aria-haspopup="listbox"
            aria-labelledby="label"
            aria-required=${this.required}
            aria-describedby=${Qt(r)}
            @click=${this.onClick}
            @focus=${this.onFocus}
            @blur=${this.onBlur}
            @keydown=${this.onKeydown}>
          ${this.renderRipple()}
          ${this.outlined?this.renderOutline():this.renderLabel()}
          ${this.renderLeadingIcon()}
          <span class="mdc-select__selected-text-container">
            <span class="mdc-select__selected-text">${this.selectedText}</span>
          </span>
          <span class="mdc-select__dropdown-icon">
            <svg
                class="mdc-select__dropdown-icon-graphic"
                viewBox="7 10 10 5"
                focusable="false">
              <polygon
                  class="mdc-select__dropdown-icon-inactive"
                  stroke="none"
                  fill-rule="evenodd"
                  points="7 10 12 15 17 10">
              </polygon>
              <polygon
                  class="mdc-select__dropdown-icon-active"
                  stroke="none"
                  fill-rule="evenodd"
                  points="7 15 12 10 17 15">
              </polygon>
            </svg>
          </span>
          ${this.renderLineRipple()}
        </div>
        <mwc-menu
            innerRole="listbox"
            wrapFocus
            class="mdc-select__menu mdc-menu mdc-menu-surface ${dt(n)}"
            activatable
            .fullwidth=${this.fixedMenuPosition?!1:!this.naturalMenuWidth}
            .open=${this.menuOpen}
            .anchor=${this.anchorElement}
            .fixed=${this.fixedMenuPosition}
            @selected=${this.onSelected}
            @opened=${this.onOpened}
            @closed=${this.onClosed}
            @items-updated=${this.onItemsUpdated}
            @keydown=${this.handleTypeahead}>
          <slot></slot>
        </mwc-menu>
      </div>
      ${this.renderHelperText()}`}renderRipple(){return this.outlined?Wi:oe`
      <span class="mdc-select__ripple"></span>
    `}renderOutline(){return this.outlined?oe`
      <mwc-notched-outline
          .width=${this.outlineWidth}
          .open=${this.outlineOpen}
          class="mdc-notched-outline">
        ${this.renderLabel()}
      </mwc-notched-outline>`:Wi}renderLabel(){return this.label?oe`
      <span
          .floatingLabelFoundation=${Zy(this.label)}
          id="label">${this.label}</span>
    `:Wi}renderLeadingIcon(){return this.icon?oe`<mwc-icon class="mdc-select__icon"><div>${this.icon}</div></mwc-icon>`:Wi}renderLineRipple(){return this.outlined?Wi:oe`
      <span .lineRippleFoundation=${eb()}></span>
    `}renderHelperText(){if(!this.shouldRenderHelperText)return Wi;let e=this.validationMessage&&!this.isUiValid;return oe`
        <p
          class="mdc-select-helper-text ${dt({"mdc-select-helper-text--validation-msg":e})}"
          id="helper-text">${e?this.validationMessage:this.helper}</p>`}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{activateBottomLine:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateBottomLine:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},hasLabel:()=>!!this.label,floatLabel:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.float(e)},getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,setLabelRequired:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.setRequired(e)},hasOutline:()=>this.outlined,notchOutline:e=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=e,this.outlineOpen=!0)},closeOutline:()=>{this.outlineElement&&(this.outlineOpen=!1)},setRippleCenter:e=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(e)},notifyChange:async e=>{if(!this.valueSetDirectly&&e===this.value)return;this.valueSetDirectly=!1,this.value=e,await this.updateComplete;let n=new Event("change",{bubbles:!0});this.dispatchEvent(n)},setSelectedText:e=>this.selectedText=e,isSelectAnchorFocused:()=>{let e=this.anchorElement;return e?e.getRootNode().activeElement===e:!1},getSelectAnchorAttr:e=>{let n=this.anchorElement;return n?n.getAttribute(e):null},setSelectAnchorAttr:(e,n)=>{let r=this.anchorElement;!r||r.setAttribute(e,n)},removeSelectAnchorAttr:e=>{let n=this.anchorElement;!n||n.removeAttribute(e)},openMenu:()=>{this.menuOpen=!0},closeMenu:()=>{this.menuOpen=!1},addMenuClass:()=>{},removeMenuClass:()=>{},getAnchorElement:()=>this.anchorElement,setMenuAnchorElement:()=>{},setMenuAnchorCorner:()=>{let e=this.menuElement;e&&(e.corner="BOTTOM_START")},setMenuWrapFocus:e=>{let n=this.menuElement;n&&(n.wrapFocus=e)},focusMenuItemAtIndex:e=>{let n=this.menuElement;if(!n)return;let r=n.items[e];!r||r.focus()},getMenuItemCount:()=>{let e=this.menuElement;return e?e.items.length:0},getMenuItemValues:()=>{let e=this.menuElement;return e?e.items.map(r=>r.value):[]},getMenuItemTextAtIndex:e=>{let n=this.menuElement;if(!n)return"";let r=n.items[e];return r?r.text:""},getSelectedIndex:()=>this.index,setSelectedIndex:()=>{},isTypeaheadInProgress:()=>DI(this.typeaheadState),typeaheadMatchItem:(e,n)=>{if(!this.menuElement)return-1;let r={focusItemAtIndex:o=>{this.menuElement.focusItemAtIndex(o)},focusedItemIndex:n||this.menuElement.getFocusedItemIndex(),nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:!1,isItemAtIndexDisabled:o=>this.items[o].disabled},i=Jy(r,this.typeaheadState);return i!==-1&&this.select(i),i}})}checkValidity(){let e=this._checkValidity(this.value);if(!e){let n=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(n)}return e}reportValidity(){let e=this.checkValidity();return this.isUiValid=e,e}_checkValidity(e){let n=this.formElement.validity,r=Uj(n);if(this.validityTransform){let i=this.validityTransform(e,r);r=Object.assign(Object.assign({},r),i)}return this._validity=r,this._validity.valid}setCustomValidity(e){this.validationMessage=e,this.formElement.setCustomValidity(e)}async _getUpdateComplete(){let e=!1;return await this._menuUpdateComplete,super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),e}getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){let e=this.menuElement;if(e&&(this._menuUpdateComplete=e.updateComplete,await this._menuUpdateComplete),super.firstUpdated(),this.mdcFoundation.isValid=()=>!0,this.mdcFoundation.setValid=()=>{},this.mdcFoundation.setDisabled(this.disabled),this.validateOnInitialRender&&this.reportValidity(),!this.selected){!this.items.length&&this.slotElement&&this.slotElement.assignedNodes({flatten:!0}).length&&(await new Promise(r=>requestAnimationFrame(r)),await this.layout());let n=this.items.length&&this.items[0].value==="";if(!this.value&&n){this.select(0);return}this.selectByValue(this.value)}this.sortedIndexByFirstChar=kI(this.items.length,n=>this.items[n].text)}onItemsUpdated(){this.sortedIndexByFirstChar=kI(this.items.length,e=>this.items[e].text)}select(e){let n=this.menuElement;n&&n.select(e)}selectByValue(e){let n=-1;for(let r=0;r<this.items.length;r++)if(this.items[r].value===e){n=r;break}this.valueSetDirectly=!0,this.select(n),this.mdcFoundation.handleChange()}disconnectedCallback(){super.disconnectedCallback();for(let e of this.listeners)e.target.removeEventListener(e.name,e.cb)}focus(){let e=new CustomEvent("focus"),n=this.anchorElement;n&&(n.dispatchEvent(e),n.focus())}blur(){let e=new CustomEvent("blur"),n=this.anchorElement;n&&(n.dispatchEvent(e),n.blur())}onFocus(){this.mdcFoundation&&this.mdcFoundation.handleFocus()}onBlur(){this.mdcFoundation&&this.mdcFoundation.handleBlur();let e=this.menuElement;e&&!e.open&&this.reportValidity()}onClick(e){if(this.mdcFoundation){this.focus();let n=e.target.getBoundingClientRect(),r=0;"touches"in e?r=e.touches[0].clientX:r=e.clientX;let i=r-n.left;this.mdcFoundation.handleClick(i)}}onKeydown(e){let n=at(e)===ge.ARROW_UP,r=at(e)===ge.ARROW_DOWN;if(r||n){let i=n&&this.index>0,o=r&&this.index<this.items.length-1;i?this.select(this.index-1):o&&this.select(this.index+1),e.preventDefault(),this.mdcFoundation.openMenu();return}this.mdcFoundation.handleKeydown(e)}handleTypeahead(e){if(!this.menuElement)return;let n=this.menuElement.getFocusedItemIndex(),r=fd(e.target)?e.target:null,i=r?r.hasAttribute("mwc-list-item"):!1,o={event:e,focusItemAtIndex:a=>{this.menuElement.focusItemAtIndex(a)},focusedItemIndex:n,isTargetListItem:i,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:a=>this.items[a].disabled};Dj(o,this.typeaheadState)}async onSelected(e){this.mdcFoundation||await this.updateComplete,this.mdcFoundation.handleMenuItemAction(e.detail.index);let n=this.items[e.detail.index];n&&(this.value=n.value)}onOpened(){this.mdcFoundation&&(this.menuOpen=!0,this.mdcFoundation.handleMenuOpened())}onClosed(){this.mdcFoundation&&(this.menuOpen=!1,this.mdcFoundation.handleMenuClosed())}async layout(e=!0){this.mdcFoundation&&this.mdcFoundation.layout(),await this.updateComplete;let n=this.menuElement;n&&n.layout(e);let r=this.labelElement;if(!r){this.outlineOpen=!1;return}let i=!!this.label&&!!this.value;if(r.floatingLabelFoundation.float(i),!this.outlined)return;this.outlineOpen=i,await this.updateComplete;let o=r.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=o)}async layoutOptions(){!this.mdcFoundation||this.mdcFoundation.layoutOptions()}};D([be(".mdc-select")],$e.prototype,"mdcRoot",void 0);D([be(".formElement")],$e.prototype,"formElement",void 0);D([be("slot")],$e.prototype,"slotElement",void 0);D([be("select")],$e.prototype,"nativeSelectElement",void 0);D([be("input")],$e.prototype,"nativeInputElement",void 0);D([be(".mdc-line-ripple")],$e.prototype,"lineRippleElement",void 0);D([be(".mdc-floating-label")],$e.prototype,"labelElement",void 0);D([be("mwc-notched-outline")],$e.prototype,"outlineElement",void 0);D([be(".mdc-menu")],$e.prototype,"menuElement",void 0);D([be(".mdc-select__anchor")],$e.prototype,"anchorElement",void 0);D([V({type:Boolean,attribute:"disabled",reflect:!0}),qe(function(t){this.mdcFoundation&&this.mdcFoundation.setDisabled(t)})],$e.prototype,"disabled",void 0);D([V({type:Boolean}),qe(function(t,e){e!==void 0&&this.outlined!==e&&this.layout(!1)})],$e.prototype,"outlined",void 0);D([V({type:String}),qe(function(t,e){e!==void 0&&this.label!==e&&this.layout(!1)})],$e.prototype,"label",void 0);D([Pe()],$e.prototype,"outlineOpen",void 0);D([Pe()],$e.prototype,"outlineWidth",void 0);D([V({type:String}),qe(function(t){if(this.mdcFoundation){let e=this.selected===null&&!!t,n=this.selected&&this.selected.value!==t;(e||n)&&this.selectByValue(t),this.reportValidity()}})],$e.prototype,"value",void 0);D([Pe()],$e.prototype,"selectedText",void 0);D([V({type:String})],$e.prototype,"icon",void 0);D([Pe()],$e.prototype,"menuOpen",void 0);D([V({type:String})],$e.prototype,"helper",void 0);D([V({type:Boolean})],$e.prototype,"validateOnInitialRender",void 0);D([V({type:String})],$e.prototype,"validationMessage",void 0);D([V({type:Boolean})],$e.prototype,"required",void 0);D([V({type:Boolean})],$e.prototype,"naturalMenuWidth",void 0);D([Pe()],$e.prototype,"isUiValid",void 0);D([V({type:Boolean})],$e.prototype,"fixedMenuPosition",void 0);D([os({capture:!0})],$e.prototype,"handleTypeahead",null);var Bj=st`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-select{display:inline-flex;position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.87)}.mdc-select.mdc-select--disabled .mdc-select__selected-text{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-select:not(.mdc-select--disabled).mdc-select--focused .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-select.mdc-select--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.54)}.mdc-select:not(.mdc-select--disabled).mdc-select--focused .mdc-select__dropdown-icon{fill:#6200ee;fill:var(--mdc-theme-primary, #6200ee)}.mdc-select.mdc-select--disabled .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled)+.mdc-select-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-select.mdc-select--disabled+.mdc-select-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:rgba(0, 0, 0, 0.54)}.mdc-select.mdc-select--disabled .mdc-select__icon{color:rgba(0, 0, 0, 0.38)}@media screen and (-ms-high-contrast: active){.mdc-select.mdc-select--disabled .mdc-select__selected-text{color:GrayText}.mdc-select.mdc-select--disabled .mdc-select__dropdown-icon{fill:red}.mdc-select.mdc-select--disabled .mdc-floating-label{color:GrayText}.mdc-select.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}.mdc-select.mdc-select--disabled .mdc-notched-outline__leading,.mdc-select.mdc-select--disabled .mdc-notched-outline__notch,.mdc-select.mdc-select--disabled .mdc-notched-outline__trailing{border-color:GrayText}.mdc-select.mdc-select--disabled .mdc-select__icon{color:GrayText}.mdc-select.mdc-select--disabled+.mdc-select-helper-text{color:GrayText}}.mdc-select .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-select .mdc-select__anchor{padding-left:16px;padding-right:0}[dir=rtl] .mdc-select .mdc-select__anchor,.mdc-select .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:16px}.mdc-select.mdc-select--with-leading-icon .mdc-select__anchor{padding-left:0;padding-right:0}[dir=rtl] .mdc-select.mdc-select--with-leading-icon .mdc-select__anchor,.mdc-select.mdc-select--with-leading-icon .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:0}.mdc-select .mdc-select__icon{width:24px;height:24px;font-size:24px}.mdc-select .mdc-select__dropdown-icon{width:24px;height:24px}.mdc-select .mdc-select__menu .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-select .mdc-select__menu .mdc-deprecated-list-item,.mdc-select .mdc-select__menu .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:12px}[dir=rtl] .mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic,.mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:12px;margin-right:0}.mdc-select__dropdown-icon{margin-left:12px;margin-right:12px;display:inline-flex;position:relative;align-self:center;align-items:center;justify-content:center;flex-shrink:0;pointer-events:none}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-active,.mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{position:absolute;top:0;left:0}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-graphic{width:41.6666666667%;height:20.8333333333%}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{opacity:1;transition:opacity 75ms linear 75ms}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-active{opacity:0;transition:opacity 75ms linear}[dir=rtl] .mdc-select__dropdown-icon,.mdc-select__dropdown-icon[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select--activated .mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{opacity:0;transition:opacity 49.5ms linear}.mdc-select--activated .mdc-select__dropdown-icon .mdc-select__dropdown-icon-active{opacity:1;transition:opacity 100.5ms linear 49.5ms}.mdc-select__anchor{width:200px;min-width:0;flex:1 1 auto;position:relative;box-sizing:border-box;overflow:hidden;outline:none;cursor:pointer}.mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-select__selected-text-container{display:flex;appearance:none;pointer-events:none;box-sizing:border-box;width:auto;min-width:0;flex-grow:1;height:28px;border:none;outline:none;padding:0;background-color:transparent;color:inherit}.mdc-select__selected-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;width:100%;text-align:left}[dir=rtl] .mdc-select__selected-text,.mdc-select__selected-text[dir=rtl]{text-align:right}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--invalid+.mdc-select-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-select__dropdown-icon{fill:#b00020;fill:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-select__dropdown-icon{fill:#b00020;fill:var(--mdc-theme-error, #b00020)}.mdc-select--disabled{cursor:default;pointer-events:none}.mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item{padding-left:12px;padding-right:12px}[dir=rtl] .mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item,.mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item[dir=rtl]{padding-left:12px;padding-right:12px}.mdc-select__menu .mdc-deprecated-list .mdc-select__icon{margin-left:0;margin-right:0}[dir=rtl] .mdc-select__menu .mdc-deprecated-list .mdc-select__icon,.mdc-select__menu .mdc-deprecated-list .mdc-select__icon[dir=rtl]{margin-left:0;margin-right:0}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--activated{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-select--filled .mdc-select__anchor{height:56px;display:flex;align-items:baseline}.mdc-select--filled .mdc-select__anchor::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text::before{content:""}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor::before{display:none}.mdc-select--filled .mdc-select__anchor{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-select--filled:not(.mdc-select--disabled) .mdc-select__anchor{background-color:whitesmoke}.mdc-select--filled.mdc-select--disabled .mdc-select__anchor{background-color:#fafafa}.mdc-select--filled:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-select--filled:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-select--filled:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-select--filled.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-select--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-select--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-select--filled .mdc-menu-surface--is-open-below{border-top-left-radius:0px;border-top-right-radius:0px}.mdc-select--filled.mdc-select--focused.mdc-line-ripple::after{transform:scale(1, 2);opacity:1}.mdc-select--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-select--filled .mdc-floating-label,.mdc-select--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{left:48px;right:initial}[dir=rtl] .mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label,.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined{border:none}.mdc-select--outlined .mdc-select__anchor{height:56px}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-56px{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-select--outlined .mdc-select__anchor{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-select--outlined .mdc-select__anchor,.mdc-select--outlined .mdc-select__anchor[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-select--outlined .mdc-select__anchor,.mdc-select--outlined .mdc-select__anchor[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-select--outlined+.mdc-select-helper-text{margin-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-select--outlined+.mdc-select-helper-text,.mdc-select--outlined+.mdc-select-helper-text[dir=rtl]{margin-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-select--outlined+.mdc-select-helper-text,.mdc-select--outlined+.mdc-select-helper-text[dir=rtl]{margin-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-select--outlined:not(.mdc-select--disabled) .mdc-select__anchor{background-color:transparent}.mdc-select--outlined.mdc-select--disabled .mdc-select__anchor{background-color:transparent}.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:2px}.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-select--outlined .mdc-select__anchor{display:flex;align-items:baseline;overflow:visible}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined 250ms 1}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-select--outlined .mdc-select__anchor .mdc-select__selected-text::before{content:""}.mdc-select--outlined .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.mdc-select--outlined .mdc-select__anchor::before{display:none}.mdc-select--outlined .mdc-select__selected-text-container{display:flex;border:none;z-index:1;background-color:transparent}.mdc-select--outlined .mdc-select__icon{z-index:2}.mdc-select--outlined .mdc-floating-label{line-height:1.15rem;left:4px;right:initial}[dir=rtl] .mdc-select--outlined .mdc-floating-label,.mdc-select--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-select--outlined.mdc-select--focused .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:2px}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--shake,.mdc-select--outlined.mdc-select--with-leading-icon[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 96px)}.mdc-select--outlined .mdc-menu-surface{margin-bottom:8px}.mdc-select--outlined.mdc-select--no-label .mdc-menu-surface,.mdc-select--outlined .mdc-menu-surface--is-open-below{margin-bottom:0}.mdc-select__anchor{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-select__anchor .mdc-select__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-select__anchor .mdc-select__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-select__anchor.mdc-ripple-upgraded--unbounded .mdc-select__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-select__anchor.mdc-ripple-upgraded--foreground-activation .mdc-select__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-select__anchor.mdc-ripple-upgraded--foreground-deactivation .mdc-select__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-select__anchor:hover .mdc-select__ripple::before,.mdc-select__anchor.mdc-ripple-surface--hover .mdc-select__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__anchor.mdc-ripple-upgraded--background-focused .mdc-select__ripple::before,.mdc-select__anchor:not(.mdc-ripple-upgraded):focus .mdc-select__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__anchor .mdc-select__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple::after{transition:opacity 150ms linear}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-select-helper-text{margin:0;margin-left:16px;margin-right:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal}[dir=rtl] .mdc-select-helper-text,.mdc-select-helper-text[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-select-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-select-helper-text--validation-msg{opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-select--invalid+.mdc-select-helper-text--validation-msg,.mdc-select-helper-text--validation-msg-persistent{opacity:1}.mdc-select--with-leading-icon .mdc-select__icon{display:inline-block;box-sizing:border-box;border:none;text-decoration:none;cursor:pointer;user-select:none;flex-shrink:0;align-self:center;background-color:transparent;fill:currentColor}.mdc-select--with-leading-icon .mdc-select__icon{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-select--with-leading-icon .mdc-select__icon,.mdc-select--with-leading-icon .mdc-select__icon[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select__icon:not([tabindex]),.mdc-select__icon[tabindex="-1"]{cursor:default;pointer-events:none}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-block;vertical-align:top;outline:none}.mdc-select{width:100%}[hidden]{display:none}.mdc-select__icon{z-index:2}.mdc-select--with-leading-icon{--mdc-list-item-graphic-margin: calc( 48px - var(--mdc-list-item-graphic-size, 24px) - var(--mdc-list-side-padding, 16px) )}.mdc-select .mdc-select__anchor .mdc-select__selected-text{overflow:hidden}.mdc-select .mdc-select__anchor *{display:inline-flex}.mdc-select .mdc-select__anchor .mdc-floating-label{display:inline-block}mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-outlined-idle-border-color, rgba(0, 0, 0, 0.38) );--mdc-notched-outline-notch-offset: 1px}:host(:not([disabled]):hover) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-outlined-hover-border-color, rgba(0, 0, 0, 0.87) )}:host(:not([disabled])) .mdc-select:not(.mdc-select--disabled) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.87);color:var(--mdc-select-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-select:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42);border-bottom-color:var(--mdc-select-idle-line-color, rgba(0, 0, 0, 0.42))}:host(:not([disabled])) .mdc-select:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87);border-bottom-color:var(--mdc-select-hover-line-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-select:not(.mdc-select--outlined):not(.mdc-select--disabled) .mdc-select__anchor{background-color:whitesmoke;background-color:var(--mdc-select-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-select.mdc-select--invalid .mdc-select__dropdown-icon{fill:var(--mdc-select-error-dropdown-icon-color, var(--mdc-select-error-color, var(--mdc-theme-error, #b00020)))}:host(:not([disabled])) .mdc-select.mdc-select--invalid .mdc-floating-label,:host(:not([disabled])) .mdc-select.mdc-select--invalid .mdc-floating-label::after{color:var(--mdc-select-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-select.mdc-select--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-select-error-color, var(--mdc-theme-error, #b00020))}.mdc-select__menu--invalid{--mdc-theme-primary: var(--mdc-select-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label::after{color:rgba(0, 0, 0, 0.6);color:var(--mdc-select-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.54);fill:var(--mdc-select-dropdown-icon-color, rgba(0, 0, 0, 0.54))}:host(:not([disabled])) .mdc-select.mdc-select--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px;--mdc-notched-outline-notch-offset: 2px}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)) )}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) .mdc-select__dropdown-icon{fill:rgba(98,0,238,.87);fill:var(--mdc-select-focused-dropdown-icon-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)))}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) .mdc-floating-label::after{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-select-helper-text:not(.mdc-select-helper-text--validation-msg){color:var(--mdc-select-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-select:not(.mdc-select--outlined).mdc-select--disabled .mdc-select__anchor{background-color:#fafafa;background-color:var(--mdc-select-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-select.mdc-select--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-outlined-disabled-border-color, rgba(0, 0, 0, 0.06) )}:host([disabled]) .mdc-select .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.38);fill:var(--mdc-select-disabled-dropdown-icon-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label,:host([disabled]) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label::after{color:rgba(0, 0, 0, 0.38);color:var(--mdc-select-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-select-helper-text{color:rgba(0, 0, 0, 0.38);color:var(--mdc-select-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.38);color:var(--mdc-select-disabled-ink-color, rgba(0, 0, 0, 0.38))}`;var NI=class extends $e{};NI.styles=Bj;NI=D([ot("mwc-select")],NI);ie();ie();ie();var nb={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},Hj={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},OI={LABEL_SCALE:.75},Vj=["pattern","min","max","required","step","minlength","maxlength"],jj=["color","date","datetime-local","month","range","time","week"];var qj=["mousedown","touchstart"],zj=["click","keydown"],Lae=function(t){N(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,I(I({},e.defaultAdapter),n))||this;return i.isFocused_=!1,i.receivedUserInput_=!1,i.isValid_=!0,i.useNativeValidation_=!0,i.validateOnValueChange_=!0,i.helperText_=r.helperText,i.characterCounter_=r.characterCounter,i.leadingIcon_=r.leadingIcon,i.trailingIcon_=r.trailingIcon,i.inputFocusHandler_=function(){return i.activateFocus()},i.inputBlurHandler_=function(){return i.deactivateFocus()},i.inputInputHandler_=function(){return i.handleInput()},i.setPointerXOffset_=function(o){return i.setTransformOrigin(o)},i.textFieldInteractionHandler_=function(){return i.handleTextFieldInteraction()},i.validationAttributeChangeHandler_=function(o){return i.handleValidationAttributeChange(o)},i}return Object.defineProperty(e,"cssClasses",{get:function(){return Hj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return nb},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return OI},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat_",{get:function(){var n=this.getNativeInput_().type;return jj.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=this;this.adapter.hasLabel()&&this.getNativeInput_().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler_():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating_(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler_),qj.forEach(function(r){n.adapter.registerInputInteractionHandler(r,n.setPointerXOffset_)}),zj.forEach(function(r){n.adapter.registerTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.validationObserver_=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},e.prototype.destroy=function(){var n=this;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler_),qj.forEach(function(r){n.adapter.deregisterInputInteractionHandler(r,n.setPointerXOffset_)}),zj.forEach(function(r){n.adapter.deregisterTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver_)},e.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput_=!0)},e.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(i){return Vj.indexOf(i)>-1?(r.styleValidity_(!0),r.adapter.setLabelRequired(r.getNativeInput_().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},e.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*OI.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText_&&(this.helperText_.isPersistent()||!this.helperText_.isValidation()||!this.isValid_)&&this.helperText_.showToScreenReader()},e.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,i=r?r[0]:n,o=i.target.getBoundingClientRect(),a=i.clientX-o.left;this.adapter.setLineRippleTransformOrigin(a)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity_(n),this.styleFocused_(this.isFocused_),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},e.prototype.getValue=function(){return this.getNativeInput_().value},e.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput_().value=n),this.setCharacterCounter_(n.length),this.validateOnValueChange_){var r=this.isValid();this.styleValidity_(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.validateOnValueChange_&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},e.prototype.setValid=function(n){this.isValid_=n,this.styleValidity_(n);var r=!n&&!this.isFocused_&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},e.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange_=n},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange_},e.prototype.setUseNativeValidation=function(n){this.useNativeValidation_=n},e.prototype.isDisabled=function(){return this.getNativeInput_().disabled},e.prototype.setDisabled=function(n){this.getNativeInput_().disabled=n,this.styleDisabled_(n)},e.prototype.setHelperTextContent=function(n){this.helperText_&&this.helperText_.setContent(n)},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon_&&this.leadingIcon_.setContent(n)},e.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(n)},e.prototype.setTrailingIconContent=function(n){this.trailingIcon_&&this.trailingIcon_.setContent(n)},e.prototype.setCharacterCounter_=function(n){if(!!this.characterCounter_){var r=this.getNativeInput_().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(n,r)}},e.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},e.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},e.prototype.styleValidity_=function(n){var r=e.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText_){this.helperText_.setValidity(n);var i=this.helperText_.isValidation();if(!i)return;var o=this.helperText_.isVisible(),a=this.helperText_.getId();o&&a?this.adapter.setInputAttr(nb.ARIA_DESCRIBEDBY,a):this.adapter.removeInputAttr(nb.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused_=function(n){var r=e.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.styleDisabled_=function(n){var r=e.cssClasses,i=r.DISABLED,o=r.INVALID;n?(this.adapter.addClass(i),this.adapter.removeClass(o)):this.adapter.removeClass(i),this.leadingIcon_&&this.leadingIcon_.setDisabled(n),this.trailingIcon_&&this.trailingIcon_.setDisabled(n)},e.prototype.styleFloating_=function(n){var r=e.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.getNativeInput_=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(At);var Wj=Lae;var Gj=Wr(t=>e=>{let n;if(e instanceof ud||e instanceof wo)throw new Error("The `live` directive is not allowed on text or event bindings");if(e instanceof cd)Kj(e.strings),n=e.element.hasAttribute(e.name),e.value=n;else{let{element:r,name:i,strings:o}=e.committer;if(Kj(o),e instanceof is){if(n=r[i],n===t)return}else e instanceof yi&&(n=r.getAttribute(i));if(n===String(t))return}e.setValue(t)}),Kj=t=>{if(t.length!==2||t[0]!==""||t[1]!=="")throw new Error("`live` bindings can only contain a single expression")};var Fae=["touchstart","touchmove","scroll","mousewheel"],$j=(t={})=>{let e={};for(let n in t)e[n]=t[n];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},e)},Se=class extends dp{constructor(){super(...arguments);this.mdcFoundationClass=Wj,this.value="",this.type="text",this.placeholder="",this.label="",this.icon="",this.iconTrailing="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.min="",this.max="",this.step=null,this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.name="",this.readOnly=!1,this.autocapitalize="",this.outlineOpen=!1,this.outlineWidth=0,this.isUiValid=!0,this.focused=!1,this._validity=$j(),this._outlineUpdateComplete=null,this.validityTransform=null}get validity(){return this._checkValidity(this.value),this._validity}get willValidate(){return this.formElement.willValidate}get selectionStart(){return this.formElement.selectionStart}get selectionEnd(){return this.formElement.selectionEnd}focus(){let e=new CustomEvent("focus");this.formElement.dispatchEvent(e),this.formElement.focus()}blur(){let e=new CustomEvent("blur");this.formElement.dispatchEvent(e),this.formElement.blur()}select(){this.formElement.select()}setSelectionRange(e,n,r){this.formElement.setSelectionRange(e,n,r)}update(e){e.has("autoValidate")&&this.mdcFoundation&&this.mdcFoundation.setValidateOnValueChange(this.autoValidate),e.has("value")&&typeof this.value!="string"&&(this.value=`${this.value}`),super.update(e)}render(){let e=this.charCounter&&this.maxLength!==-1,n=!!this.helper||!!this.validationMessage||e,r={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--with-leading-icon":this.icon,"mdc-text-field--with-trailing-icon":this.iconTrailing,"mdc-text-field--end-aligned":this.endAligned};return oe`
      <label class="mdc-text-field ${dt(r)}">
        ${this.renderRipple()}
        ${this.outlined?this.renderOutline():this.renderLabel()}
        ${this.renderLeadingIcon()}
        ${this.renderPrefix()}
        ${this.renderInput(n)}
        ${this.renderSuffix()}
        ${this.renderTrailingIcon()}
        ${this.renderLineRipple()}
      </label>
      ${this.renderHelperText(n,e)}
    `}updated(e){e.has("value")&&e.get("value")!==void 0&&(this.mdcFoundation.setValue(this.value),this.autoValidate&&this.reportValidity())}renderRipple(){return this.outlined?"":oe`
      <span class="mdc-text-field__ripple"></span>
    `}renderOutline(){return this.outlined?oe`
      <mwc-notched-outline
          .width=${this.outlineWidth}
          .open=${this.outlineOpen}
          class="mdc-notched-outline">
        ${this.renderLabel()}
      </mwc-notched-outline>`:""}renderLabel(){return this.label?oe`
      <span
          .floatingLabelFoundation=${Zy(this.label)}
          id="label">${this.label}</span>
    `:""}renderLeadingIcon(){return this.icon?this.renderIcon(this.icon):""}renderTrailingIcon(){return this.iconTrailing?this.renderIcon(this.iconTrailing,!0):""}renderIcon(e,n=!1){return oe`<i class="material-icons mdc-text-field__icon ${dt({"mdc-text-field__icon--leading":!n,"mdc-text-field__icon--trailing":n})}">${e}</i>`}renderPrefix(){return this.prefix?this.renderAffix(this.prefix):""}renderSuffix(){return this.suffix?this.renderAffix(this.suffix,!0):""}renderAffix(e,n=!1){return oe`<span class="mdc-text-field__affix ${dt({"mdc-text-field__affix--prefix":!n,"mdc-text-field__affix--suffix":n})}">
        ${e}</span>`}renderInput(e){let n=this.minLength===-1?void 0:this.minLength,r=this.maxLength===-1?void 0:this.maxLength,i=this.autocapitalize?this.autocapitalize:void 0,o=this.validationMessage&&!this.isUiValid,a=e?"helper-text":void 0,l=this.focused||this.helperPersistent||o?"helper-text":void 0,c=o?"helper-text":void 0;return oe`
      <input
          aria-labelledby="label"
          aria-controls="${Qt(a)}"
          aria-describedby="${Qt(l)}"
          aria-errortext="${Qt(c)}"
          class="mdc-text-field__input"
          type="${this.type}"
          .value="${Gj(this.value)}"
          ?disabled="${this.disabled}"
          placeholder="${this.placeholder}"
          ?required="${this.required}"
          ?readonly="${this.readOnly}"
          minlength="${Qt(n)}"
          maxlength="${Qt(r)}"
          pattern="${Qt(this.pattern?this.pattern:void 0)}"
          min="${Qt(this.min===""?void 0:this.min)}"
          max="${Qt(this.max===""?void 0:this.max)}"
          step="${Qt(this.step===null?void 0:this.step)}"
          size="${Qt(this.size===null?void 0:this.size)}"
          name="${Qt(this.name===""?void 0:this.name)}"
          inputmode="${Qt(this.inputMode)}"
          autocapitalize="${Qt(i)}"
          @input="${this.handleInputChange}"
          @focus="${this.onInputFocus}"
          @blur="${this.onInputBlur}">`}renderLineRipple(){return this.outlined?"":oe`
      <span .lineRippleFoundation=${eb()}></span>
    `}renderHelperText(e,n){let r=this.validationMessage&&!this.isUiValid,i={"mdc-text-field-helper-text--persistent":this.helperPersistent,"mdc-text-field-helper-text--validation-msg":r},o=this.focused||this.helperPersistent||r?void 0:"true",a=r?this.validationMessage:this.helper;return e?oe`
      <div class="mdc-text-field-helper-line">
        <div id="helper-text"
             aria-hidden="${Qt(o)}"
             class="mdc-text-field-helper-text ${dt(i)}"
             >${a}</div>
        ${this.renderCharCounter(n)}
      </div>`:""}renderCharCounter(e){let n=Math.min(this.value.length,this.maxLength);return e?oe`
      <span class="mdc-text-field-character-counter"
            >${n} / ${this.maxLength}</span>`:""}onInputFocus(){this.focused=!0}onInputBlur(){this.focused=!1,this.reportValidity()}checkValidity(){let e=this._checkValidity(this.value);if(!e){let n=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(n)}return e}reportValidity(){let e=this.checkValidity();return this.mdcFoundation.setValid(e),this.isUiValid=e,e}_checkValidity(e){let n=this.formElement.validity,r=$j(n);if(this.validityTransform){let i=this.validityTransform(e,r);r=Object.assign(Object.assign({},r),i),this.mdcFoundation.setUseNativeValidation(!1)}else this.mdcFoundation.setUseNativeValidation(!0);return this._validity=r,this._validity.valid}setCustomValidity(e){this.validationMessage=e,this.formElement.setCustomValidity(e)}handleInputChange(){this.value=this.formElement.value}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init()}createAdapter(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods())}getRootAdapterMethods(){return Object.assign({registerTextFieldInteractionHandler:(e,n)=>this.addEventListener(e,n),deregisterTextFieldInteractionHandler:(e,n)=>this.removeEventListener(e,n),registerValidationAttributeChangeHandler:e=>{let n=o=>o.map(a=>a.attributeName).filter(a=>a),r=new MutationObserver(o=>{e(n(o))}),i={attributes:!0};return r.observe(this.formElement,i),r},deregisterValidationAttributeChangeHandler:e=>e.disconnect()},bi(this.mdcRoot))}getInputAdapterMethods(){return{getNativeInput:()=>this.formElement,setInputAttr:()=>{},removeInputAttr:()=>{},isFocused:()=>this.shadowRoot?this.shadowRoot.activeElement===this.formElement:!1,registerInputInteractionHandler:(e,n)=>this.formElement.addEventListener(e,n,{passive:e in Fae}),deregisterInputInteractionHandler:(e,n)=>this.formElement.removeEventListener(e,n)}}getLabelAdapterMethods(){return{floatLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.float(e),getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,hasLabel:()=>Boolean(this.labelElement),shakeLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.shake(e),setLabelRequired:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.setRequired(e)}}}getLineRippleAdapterMethods(){return{activateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},setLineRippleTransformOrigin:e=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(e)}}}async _getUpdateComplete(){let e=!1;return super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),await this._outlineUpdateComplete,e}async getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){let e=this.outlineElement;e&&(this._outlineUpdateComplete=e.updateComplete,await this._outlineUpdateComplete),super.firstUpdated(),this.mdcFoundation.setValidateOnValueChange(this.autoValidate),this.validateOnInitialRender&&this.reportValidity()}getOutlineAdapterMethods(){return{closeOutline:()=>this.outlineElement&&(this.outlineOpen=!1),hasOutline:()=>Boolean(this.outlineElement),notchOutline:e=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=e,this.outlineOpen=!0)}}}async layout(){await this.updateComplete;let e=this.labelElement;if(!e){this.outlineOpen=!1;return}let n=!!this.label&&!!this.value;if(e.floatingLabelFoundation.float(n),!this.outlined)return;this.outlineOpen=n,await this.updateComplete;let r=e.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=r)}};D([be(".mdc-text-field")],Se.prototype,"mdcRoot",void 0);D([be("input")],Se.prototype,"formElement",void 0);D([be(".mdc-floating-label")],Se.prototype,"labelElement",void 0);D([be(".mdc-line-ripple")],Se.prototype,"lineRippleElement",void 0);D([be("mwc-notched-outline")],Se.prototype,"outlineElement",void 0);D([be(".mdc-notched-outline__notch")],Se.prototype,"notchElement",void 0);D([V({type:String})],Se.prototype,"value",void 0);D([V({type:String})],Se.prototype,"type",void 0);D([V({type:String})],Se.prototype,"placeholder",void 0);D([V({type:String}),qe(function(t,e){e!==void 0&&this.label!==e&&this.layout()})],Se.prototype,"label",void 0);D([V({type:String})],Se.prototype,"icon",void 0);D([V({type:String})],Se.prototype,"iconTrailing",void 0);D([V({type:Boolean,reflect:!0})],Se.prototype,"disabled",void 0);D([V({type:Boolean})],Se.prototype,"required",void 0);D([V({type:Number})],Se.prototype,"minLength",void 0);D([V({type:Number})],Se.prototype,"maxLength",void 0);D([V({type:Boolean,reflect:!0}),qe(function(t,e){e!==void 0&&this.outlined!==e&&this.layout()})],Se.prototype,"outlined",void 0);D([V({type:String})],Se.prototype,"helper",void 0);D([V({type:Boolean})],Se.prototype,"validateOnInitialRender",void 0);D([V({type:String})],Se.prototype,"validationMessage",void 0);D([V({type:Boolean})],Se.prototype,"autoValidate",void 0);D([V({type:String})],Se.prototype,"pattern",void 0);D([V({type:String})],Se.prototype,"min",void 0);D([V({type:String})],Se.prototype,"max",void 0);D([V({type:Number})],Se.prototype,"step",void 0);D([V({type:Number})],Se.prototype,"size",void 0);D([V({type:Boolean})],Se.prototype,"helperPersistent",void 0);D([V({type:Boolean})],Se.prototype,"charCounter",void 0);D([V({type:Boolean})],Se.prototype,"endAligned",void 0);D([V({type:String})],Se.prototype,"prefix",void 0);D([V({type:String})],Se.prototype,"suffix",void 0);D([V({type:String})],Se.prototype,"name",void 0);D([V({type:String})],Se.prototype,"inputMode",void 0);D([V({type:Boolean})],Se.prototype,"readOnly",void 0);D([V({type:String})],Se.prototype,"autocapitalize",void 0);D([Pe()],Se.prototype,"outlineOpen",void 0);D([Pe()],Se.prototype,"outlineWidth",void 0);D([Pe()],Se.prototype,"isUiValid",void 0);D([Pe()],Se.prototype,"focused",void 0);D([os({passive:!0})],Se.prototype,"handleInputChange",null);var Yj=st`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-text-field--filled .mdc-text-field__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0, 0, 0, 0.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-text-field--filled:hover .mdc-text-field__ripple::before,.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:whitesmoke}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px;line-height:1.5rem}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0, 0, 0, 0.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{padding:12px;margin-left:0px;margin-right:0px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:0px;margin-right:0px}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-flex;flex-direction:column;outline:none}.mdc-text-field{width:100%}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42);border-bottom-color:var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42))}.mdc-text-field:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87);border-bottom-color:var(--mdc-text-field-hover-line-color, rgba(0, 0, 0, 0.87))}.mdc-text-field.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06);border-bottom-color:var(--mdc-text-field-disabled-line-color, rgba(0, 0, 0, 0.06))}.mdc-text-field.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-idle-border-color, rgba(0, 0, 0, 0.38) )}:host(:not([disabled]):hover) :not(.mdc-text-field--invalid):not(.mdc-text-field--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-hover-border-color, rgba(0, 0, 0, 0.87) )}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-error-color, var(--mdc-theme-error, #b00020) )}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-character-counter,:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid .mdc-text-field__icon{color:var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)) )}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input{color:var(--mdc-text-field-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg),:host(:not([disabled])) .mdc-text-field-helper-line:not(.mdc-text-field--invalid) .mdc-text-field-character-counter{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-text-field.mdc-text-field--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-disabled-border-color, rgba(0, 0, 0, 0.06) )}:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field .mdc-text-field__input,:host([disabled]) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-helper-text,:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-character-counter{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}`;var PI=class extends Se{};PI.styles=Yj;PI=D([ot("mwc-textfield")],PI);var ls=class extends We{constructor(){super(...arguments);this.serverApi=null;this.docObject=null;this.title=null;this.size=20;this.showDelete=!1;this.getForm=()=>{let e=[];for(let[n,r]of Object.entries(this.docObject?this.docObject.accessibleFields():[]))e.push({label:r.label,data:r});return e};this.deleteForm=()=>{this.serverApi&&this.docObject&&this.docObject.remove(this.serverApi)}}render(){return ee`
      <div>
        <div class="form-header">
          ${this.title?ee`<h2>${this.title}</h2>`:ee``}
          ${this.showDelete&&this.serverApi&&this.docObject?ee`
            <div class="button-collection-wrapper">
              <div class="button-collection">
                <div class="button-wrapper">
                  <mwc-icon-button class="delete-icon" icon="delete_forever" @click="${this.deleteForm}"></mwc-icon-button>
                </div>
              </div>
            </div>
          `:ee``}
        </div>
        <div class="form">
          ${this.docObject?this.getForm().map(e=>e.data.type&&e.data.type!=="select"?ee`
                <mwc-textfield
                  @change="${n=>{let i=n.composedPath()[0];e.data.value=i.value,this.docObject.updateField(this.serverApi,e.label,e.data)}}"
                  size="${this.size}"
                  label="${e.data.label}"
                  value="${e.data.value}"
                  type="${e.data.type}"
                  icon="${e.data.type==="date"?"event":""}"
                  >
                </mwc-textfield>
            `:ee`<span></span>`):ee``}
        </div>
      </div>
    `}};ls.styles=Et`
    :host {
      margin: auto;
    }
    :host .form {
      margin: auto;
      display: flex;
      flex-wrap: wrap;
      width: 100%;
    }
    h1, h2, h3, h4 {
      margin: auto 15px;
    }
    mwc-textfield {
      margin: 5px;
      flex-grow: 1;
    }
    span {
      width: 100%;
    }
    .form-header {
      display: flex;
    }
    .delete-icon {
      color: red;
    }
    .button-collection-wrapper {
      margin: auto;
      flex-grow: 1;
    }

    .button-collection {
      margin: auto;
      float: right;
    }

    .button-wrapper {
      float: right;
      margin: 5px;
    }
  `,J([fe({type:Object})],ls.prototype,"serverApi",2),J([fe({type:Object})],ls.prototype,"docObject",2),J([fe({type:String})],ls.prototype,"title",2),J([fe({type:Number})],ls.prototype,"size",2),J([fe({type:Boolean})],ls.prototype,"showDelete",2),ls=J([rt("form-wrapper")],ls);var Ql=class extends We{constructor(){super(...arguments);this.serverApi=null;this.targetForm=null;this.fieldValue={label:null,value:null,type:null,positionIndex:0};this.closePopup=()=>{let e=new CustomEvent("closepopup",{detail:{message:"Closing Popup"},bubbles:!0,composed:!0});this.dispatchEvent(e)};this.fieldTypes=[["text","Text"],["number","Number"],["email","Email"],["datetime-local","Date & Time"],["time","Time"]];this.submitField=e=>{if(this.fieldValue.type,this.fieldValue.label&&this.fieldValue.value){let n=0;for(let r of Object.entries(this.targetForm))n++;this.fieldValue.positionIndex=n,this.targetForm.updateField(this.serverApi,this.fieldValue.label,this.fieldValue),this.closePopup()}}}render(){return ee`
    <div id="new-field-popup">
      <div id="pop-up-window">
        <div class="button-collection-wrapper">
          <h2>Insert New Field</h2>
          <div class="button-collection">
            <div class="button-wrapper">
              <mwc-icon-button class="delete-icon" icon="close" @click="${this.closePopup}"></mwc-icon-button>
            </div>
          </div>
        </div>
        <div id="popup-fields">
          <mwc-select label="Field Type"
            @selected="${e=>{this.fieldValue.type=e.path[9].value.toString()}}"
          >
            ${this.fieldTypes.map(e=>ee`<mwc-list-item value="${e[0]}">${e[1]}</mwc-list-item>`)}
          </mwc-select>
        </div>
        <div id="popup-fields">
          <mwc-textfield
            label="Field Label"
            value=""
            type="text"
            @change="${e=>{this.fieldValue.label=e.path[0].value}}"
            >
          </mwc-textfield>
          <mwc-textfield
            label="Field Value"
            value=""
            type="text"
            @change="${e=>{this.fieldValue.value=e.path[0].value}}"
            >
          </mwc-textfield>
        </div>
        <div id="popup-fields">
        <div class="button-collection-wrapper">\
          <div class="button-collection">
            <div class="button-wrapper">
              <mwc-button outlined
                label="Submit"
                @click="${this.submitField}"
                >
              </mwc-button>
            </div>
          </div>
        </div>
      </div>
    </div>
    `}};Ql.styles=Et`
    :host {
    }

    h1, h2, h3, h4 {
      margin-left: 15px;
    }

    .button-collection-wrapper {
      margin: auto;
      flex-grow: 1;
      display: flex;
      width: 100%;
    }

    .button-collection {
      margin: auto;
      float: right;
      flex-grow: 1;
    }

    .button-wrapper {
      float: right;
      margin: 5px;
    }

    #new-field-popup {
      position: fixed;
      display: flex;
      z-index: 20;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }

    #pop-up-window {
      display: flex;
      flex-direction: column;
      margin: auto;
      background-color: rgb(225, 226, 225);
      padding: 5px;
      border: black 1px solid;
    }

    #popup-fields {
      margin: 10px;
    }

    #popup-fields > mwc-textfield, #popup-fields > mwc-select {
      margin-right: 10px;
    }
    `,J([fe({type:Object})],Ql.prototype,"serverApi",2),J([fe({type:Object})],Ql.prototype,"targetForm",2),J([nn()],Ql.prototype,"fieldValue",2),Ql=J([rt("new-field-popup")],Ql);ie();var ce,Uae,fp,Xj,Qj,Jj,rb={},MI=[],Bae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function pa(t,e){for(var n in e)t[n]=e[n];return t}function Zj(t){var e=t.parentNode;e&&e.removeChild(t)}function Ki(t,e,n){var r,i,o,a=arguments,l={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:l[o]=e[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(n!=null&&(l.children=n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return ib(t,l,r,i,null)}function ib(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ce.__v};return ce.vnode!=null&&ce.vnode(o),o}function ob(){return{current:null}}function So(t){return t.children}function xr(t,e){this.props=t,this.context=e}function hp(t,e){if(e==null)return t.__?hp(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?hp(t):null}function e3(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return e3(t)}}function LI(t){(!t.__d&&(t.__d=!0)&&fp.push(t)&&!sb.__r++||Qj!==ce.debounceRendering)&&((Qj=ce.debounceRendering)||Xj)(sb)}function sb(){for(var t;sb.__r=fp.length;)t=fp.sort(function(e,n){return e.__v.__b-n.__v.__b}),fp=[],t.some(function(e){var n,r,i,o,a,l;e.__d&&(a=(o=(n=e).__v).__e,(l=n.__P)&&(r=[],(i=pa({},o)).__v=o.__v+1,FI(l,o,i,n.__n,l.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??hp(o),o.__h),a3(r,o),o.__e!=a&&e3(o)))})}function t3(t,e,n,r,i,o,a,l,c,d){var f,p,m,g,y,_,w,S=r&&r.__k||MI,C=S.length;for(n.__k=[],f=0;f<e.length;f++)if((g=n.__k[f]=(g=e[f])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?ib(null,g,null,null,g):Array.isArray(g)?ib(So,{children:g},null,null,null):g.__b>0?ib(g.type,g.props,g.key,null,g.__v):g)!=null){if(g.__=n,g.__b=n.__b+1,(m=S[f])===null||m&&g.key==m.key&&g.type===m.type)S[f]=void 0;else for(p=0;p<C;p++){if((m=S[p])&&g.key==m.key&&g.type===m.type){S[p]=void 0;break}m=null}FI(t,g,m=m||rb,i,o,a,l,c,d),y=g.__e,(p=g.ref)&&m.ref!=p&&(w||(w=[]),m.ref&&w.push(m.ref,null,g),w.push(p,g.__c||y,g)),y!=null?(_==null&&(_=y),typeof g.type=="function"&&g.__k!=null&&g.__k===m.__k?g.__d=c=n3(g,c,t):c=r3(t,g,m,S,y,c),d||n.type!=="option"?typeof n.type=="function"&&(n.__d=c):t.value=""):c&&m.__e==c&&c.parentNode!=t&&(c=hp(m))}for(n.__e=_,f=C;f--;)S[f]!=null&&(typeof n.type=="function"&&S[f].__e!=null&&S[f].__e==n.__d&&(n.__d=hp(r,f+1)),c3(S[f],S[f]));if(w)for(f=0;f<w.length;f++)l3(w[f],w[++f],w[++f])}function n3(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?n3(i,e,n):r3(n,i,i,t.__k,i.__e,e));return e}function pp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){pp(n,e)}):e.push(t)),e}function r3(t,e,n,r,i,o){var a,l,c;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(l=o,c=0;(l=l.nextSibling)&&c<r.length;c+=2)if(l==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function Hae(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||ab(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||ab(t,o,e[o],n[o],r)}function i3(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Bae.test(e)?n:n+"px"}function ab(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||i3(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||i3(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?s3:o3,o):t.removeEventListener(e,o?s3:o3,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function o3(t){this.l[t.type+!1](ce.event?ce.event(t):t)}function s3(t){this.l[t.type+!0](ce.event?ce.event(t):t)}function FI(t,e,n,r,i,o,a,l,c){var d,f,p,m,g,y,_,w,S,C,R,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,l=e.__e=n.__e,e.__h=null,o=[l]),(d=ce.__b)&&d(e);try{e:if(typeof k=="function"){if(w=e.props,S=(d=k.contextType)&&r[d.__c],C=d?S?S.props.value:d.__:r,n.__c?_=(f=e.__c=n.__c).__=f.__E:("prototype"in k&&k.prototype.render?e.__c=f=new k(w,C):(e.__c=f=new xr(w,C),f.constructor=k,f.render=jae),S&&S.sub(f),f.props=w,f.state||(f.state={}),f.context=C,f.__n=r,p=f.__d=!0,f.__h=[]),f.__s==null&&(f.__s=f.state),k.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=pa({},f.__s)),pa(f.__s,k.getDerivedStateFromProps(w,f.__s))),m=f.props,g=f.state,p)k.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(k.getDerivedStateFromProps==null&&w!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,C),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,C)===!1||e.__v===n.__v){f.props=w,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(F){F&&(F.__=e)}),f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,C),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,g,y)})}f.context=C,f.props=w,f.state=f.__s,(d=ce.__r)&&d(e),f.__d=!1,f.__v=e,f.__P=t,d=f.render(f.props,f.state,f.context),f.state=f.__s,f.getChildContext!=null&&(r=pa(pa({},r),f.getChildContext())),p||f.getSnapshotBeforeUpdate==null||(y=f.getSnapshotBeforeUpdate(m,g)),R=d!=null&&d.type===So&&d.key==null?d.props.children:d,t3(t,Array.isArray(R)?R:[R],e,n,r,i,o,a,l,c),f.base=e.__e,e.__h=null,f.__h.length&&a.push(f),_&&(f.__E=f.__=null),f.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Vae(n.__e,e,n,r,i,o,a,c);(d=ce.diffed)&&d(e)}catch(F){e.__v=null,(c||o!=null)&&(e.__e=l,e.__h=!!c,o[o.indexOf(l)]=null),ce.__e(F,e,n)}}function a3(t,e){ce.__c&&ce.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){ce.__e(r,n.__v)}})}function Vae(t,e,n,r,i,o,a,l){var c,d,f,p,m=n.props,g=e.props,y=e.type,_=0;if(y==="svg"&&(i=!0),o!=null){for(;_<o.length;_++)if((c=o[_])&&(c===t||(y?c.localName==y:c.nodeType==3))){t=c,o[_]=null;break}}if(t==null){if(y===null)return document.createTextNode(g);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,g.is&&g),o=null,l=!1}if(y===null)m===g||l&&t.data===g||(t.data=g);else{if(o=o&&MI.slice.call(t.childNodes),d=(m=n.props||rb).dangerouslySetInnerHTML,f=g.dangerouslySetInnerHTML,!l){if(o!=null)for(m={},p=0;p<t.attributes.length;p++)m[t.attributes[p].name]=t.attributes[p].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(Hae(t,g,m,i,l),f)e.__k=[];else if(_=e.props.children,t3(t,Array.isArray(_)?_:[_],e,n,r,i&&y!=="foreignObject",o,a,t.firstChild,l),o!=null)for(_=o.length;_--;)o[_]!=null&&Zj(o[_]);l||("value"in g&&(_=g.value)!==void 0&&(_!==t.value||y==="progress"&&!_)&&ab(t,"value",_,m.value,!1),"checked"in g&&(_=g.checked)!==void 0&&_!==t.checked&&ab(t,"checked",_,m.checked,!1))}return t}function l3(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){ce.__e(r,n)}}function c3(t,e,n){var r,i,o;if(ce.unmount&&ce.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||l3(r,null,e)),n||typeof t.type=="function"||(n=(i=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){ce.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&c3(r[o],e,n);i!=null&&Zj(i)}function jae(t,e,n){return this.constructor(t,n)}function Jl(t,e,n){var r,i,o;ce.__&&ce.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],FI(e,t=(!r&&n||e).__k=Ki(So,null,[t]),i||rb,rb,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?MI.slice.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),a3(o,t)}function lb(t,e){var n={__c:e="__cC"+Jj++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(LI)},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ce={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t},__v:0},Uae=function(t){return t!=null&&t.constructor===void 0},xr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=pa({},this.state),typeof t=="function"&&(t=t(pa({},n),this.props)),t&&pa(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),LI(this))},xr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),LI(this))},xr.prototype.render=So,fp=[],Xj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sb.__r=0,Jj=0;var qae,Zl,u3;var UI=[],d3=ce.__b,f3=ce.__r,h3=ce.diffed,p3=ce.__c,m3=ce.unmount;function zae(){UI.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(cb),t.__H.__h.forEach(BI),t.__H.__h=[]}catch(e){t.__H.__h=[],ce.__e(e,t.__v)}}),UI=[]}ce.__b=function(t){Zl=null,d3&&d3(t)},ce.__r=function(t){f3&&f3(t),qae=0;var e=(Zl=t.__c).__H;e&&(e.__h.forEach(cb),e.__h.forEach(BI),e.__h=[])},ce.diffed=function(t){h3&&h3(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(UI.push(e)!==1&&u3===ce.requestAnimationFrame||((u3=ce.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),v3&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);v3&&(r=requestAnimationFrame(i))})(zae)),Zl=void 0},ce.__c=function(t,e){e.some(function(n){try{n.__h.forEach(cb),n.__h=n.__h.filter(function(r){return!r.__||BI(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ce.__e(r,n.__v)}}),p3&&p3(t,e)},ce.unmount=function(t){m3&&m3(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(cb)}catch(n){ce.__e(n,e.__v)}};var v3=typeof requestAnimationFrame=="function";function cb(t){var e=Zl;typeof t.__c=="function"&&t.__c(),Zl=e}function BI(t){var e=Zl;t.__c=t.__(),Zl=e}function Wae(t,e){for(var n in e)t[n]=e[n];return t}function g3(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function y3(t){this.props=t}(y3.prototype=new xr).isPureReactComponent=!0,y3.prototype.shouldComponentUpdate=function(t,e){return g3(this.props,t)||g3(this.state,e)};var b3=ce.__b;ce.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),b3&&b3(t)};var dCe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var Gae=ce.__e;ce.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}Gae(t,e,n)};var _3=ce.unmount;function HI(){this.__u=0,this.t=null,this.__b=null}function w3(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function ub(){this.u=null,this.o=null}ce.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),_3&&_3(t)},(HI.prototype=new xr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=w3(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__e){var d=r.state.__e;r.__v.__k[0]=function p(m,g,y){return m&&(m.__v=null,m.__k=m.__k&&m.__k.map(function(_){return p(_,g,y)}),m.__c&&m.__c.__P===g&&(m.__e&&y.insertBefore(m.__e,m.__d),m.__c.__e=!0,m.__c.__P=y)),m}(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__e:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},HI.prototype.componentWillUnmount=function(){this.t=[]},HI.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,l,c){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(d){typeof d.__c=="function"&&d.__c()}),a.__c.__H=null),(a=Wae({},a)).__c!=null&&(a.__c.__P===c&&(a.__c.__P=l),a.__c=null),a.__k=a.__k&&a.__k.map(function(d){return o(d,l,c)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&Ki(So,null,t.fallback);return i&&(i.__h=null),[Ki(So,null,e.__e?null:t.children),i]};var E3=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Kae(t){return this.getChildContext=function(){return t.context},t.children}function $ae(t){var e=this,n=t.i;e.componentWillUnmount=function(){Jl(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Jl(Ki(Kae,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function S3(t,e){return Ki($ae,{__v:t,i:e})}(ub.prototype=new xr).__e=function(t){var e=this,n=w3(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),E3(e,t,r)):i()};n?n(o):o()}},ub.prototype.render=function(t){this.u=null,this.o=new Map;var e=pp(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ub.prototype.componentDidUpdate=ub.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){E3(t,n,e)})};var Yae=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Xae=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qae=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};xr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(xr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var x3=ce.event;function Jae(){}function Zae(){return this.cancelBubble}function ele(){return this.defaultPrevented}ce.event=function(t){return x3&&(t=x3(t)),t.persist=Jae,t.isPropagationStopped=Zae,t.isDefaultPrevented=ele,t.nativeEvent=t};var tle,T3={configurable:!0,get:function(){return this.class}},C3=ce.vnode;ce.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Qae(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():Xae.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=pp(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=pp(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(T3.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",T3)),t.$$typeof=Yae,C3&&C3(t)};var I3=ce.__r;ce.__r=function(t){I3&&I3(t),tle=t.__c};var fCe=typeof performance=="object"&&typeof performance.now=="function"?performance.now.bind(performance):function(){return Date.now()};var R3=typeof globalThis!="undefined"?globalThis:window;R3.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):R3.FullCalendarVDom={Component:xr,createElement:Ki,render:Jl,createRef:ob,Fragment:So,createContext:ile,createPortal:S3,flushToDom:nle,unmountComponentAtNode:ole};function nle(){var t=ce.debounceRendering,e=[];function n(r){e.push(r)}for(ce.debounceRendering=n,Jl(Ki(rle,{}),document.createElement("div"));e.length;)e.shift()();ce.debounceRendering=t}var rle=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return Ki("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(xr);function ile(t){var e=lb(t),n=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,o=n.apply(this,arguments);if(i){var a=[];this.shouldComponentUpdate=function(l){r.props.value!==l.value&&a.forEach(function(c){c.context=l.value,c.forceUpdate()})},this.sub=function(l){a.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),c&&c.call(l)}}}return o},e}function ole(t){Jl(null,t)}ie();ie();if(typeof FullCalendarVDom=="undefined")throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var db=FullCalendarVDom.Component,x=FullCalendarVDom.createElement,A3=FullCalendarVDom.render,Ce=FullCalendarVDom.createRef,ye=FullCalendarVDom.Fragment,VI=FullCalendarVDom.createContext,k3=FullCalendarVDom.createPortal,jI=FullCalendarVDom.flushToDom,D3=FullCalendarVDom.unmountComponentAtNode;var gd=function(){function t(e,n){this.context=e,this.internalEventSource=n}return t.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},t.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(t.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),t}();function ec(t){t.parentNode&&t.parentNode.removeChild(t)}function Jt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(fb(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function fb(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector;return n.call(t,e)}function cs(t,e){for(var n=t instanceof HTMLElement?[t]:t,r=[],i=0;i<n.length;i+=1)for(var o=n[i].querySelectorAll(e),a=0;a<o.length;a+=1)r.push(o[a]);return r}function N3(t,e){for(var n=t instanceof HTMLElement?[t]:t,r=[],i=0;i<n.length;i+=1)for(var o=n[i].children,a=0;a<o.length;a+=1){var l=o[a];(!e||fb(l,e))&&r.push(l)}return r}var sle=/(top|left|right|bottom|width|height)$/i;function us(t,e){for(var n in e)qI(t,n,e[n])}function qI(t,e,n){n==null?t.style[e]="":typeof n=="number"&&sle.test(e)?t.style[e]=n+"px":t.style[e]=n}function ale(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}function hb(t){t.preventDefault()}function O3(t,e){return function(n){var r=Jt(n.target,t);r&&e.call(r,n,r)}}function P3(t,e,n,r){var i=O3(n,r);return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function lle(t,e,n,r){var i;return P3(t,"mouseover",e,function(o,a){if(a!==i){i=a,n(o,a);var l=function(c){i=null,r(c,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}var M3=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function L3(t,e){var n=function(r){e(r),M3.forEach(function(i){t.removeEventListener(i,n)})};M3.forEach(function(r){t.addEventListener(r,n)})}var F3=0;function xo(){return F3+=1,String(F3)}function mp(){document.body.classList.add("fc-not-allowed")}function vp(){document.body.classList.remove("fc-not-allowed")}function U3(t){t.classList.add("fc-unselectable"),t.addEventListener("selectstart",hb)}function B3(t){t.classList.remove("fc-unselectable"),t.removeEventListener("selectstart",hb)}function H3(t){t.addEventListener("contextmenu",hb)}function V3(t){t.removeEventListener("contextmenu",hb)}function pb(t){var e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function zI(t,e,n){var r,i;for(r=0;r<n.length;r+=1)if(i=cle(t,e,n[r]),i)return i;return 0}function cle(t,e,n){return n.func?n.func(t,e):WI(t[n.field],e[n.field])*(n.order||1)}function WI(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function To(t,e){var n=String(t);return"000".substr(0,e-n.length)+n}function j3(t,e){return t-e}function ma(t){return t%1==0}function ule(t){var e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var q3=["sun","mon","tue","wed","thu","fri","sat"];function GI(t,e){var n=ga(t);return n[2]+=e*7,Tr(n)}function Zt(t,e){var n=ga(t);return n[2]+=e,Tr(n)}function ds(t,e){var n=ga(t);return n[6]+=e,Tr(n)}function z3(t,e){return va(t,e)/7}function va(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function dle(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function fle(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function hle(t,e){return(e.valueOf()-t.valueOf())/1e3}function ple(t,e){var n=ze(t),r=ze(e);return{years:0,months:0,days:Math.round(va(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function mle(t,e){var n=yd(t,e);return n!==null&&n%7==0?n/7:null}function yd(t,e){return ya(t)===ya(e)?Math.round(va(t,e)):null}function ze(t){return Tr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function vle(t){return Tr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function gle(t){return Tr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function yle(t){return Tr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function ble(t,e,n){var r=t.getUTCFullYear(),i=KI(t,r,e,n);if(i<1)return KI(t,r-1,e,n);var o=KI(t,r+1,e,n);return o>=1?Math.min(i,o):i}function KI(t,e,n,r){var i=Tr([e,0,1+_le(e,n,r)]),o=ze(t),a=Math.round(va(i,o));return Math.floor(a/7)+1}function _le(t,e,n){var r=7+e-n,i=(7+Tr([t,0,r]).getUTCDay()-e)%7;return-i+r-1}function W3(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function G3(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function ga(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Tr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC.apply(Date,t))}function mb(t){return!isNaN(t.valueOf())}function ya(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function gp(t,e,n,r){return{instanceId:xo(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}var vb=Object.prototype.hasOwnProperty;function $I(t,e){var n={};if(e)for(var r in e){for(var i=[],o=t.length-1;o>=0;o-=1){var a=t[o][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){n[r]=a;break}}i.length&&(n[r]=$I(i))}for(var o=t.length-1;o>=0;o-=1){var l=t[o];for(var c in l)c in n||(n[c]=l[c])}return n}function Co(t,e){var n={};for(var r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Ht(t,e){var n={};for(var r in t)n[r]=e(t[r],r);return n}function K3(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];e[i]=!0}return e}function YI(t){var e=[];for(var n in t)e.push(t[n]);return e}function cn(t,e){if(t===e)return!0;for(var n in t)if(vb.call(t,n)&&!(n in e))return!1;for(var n in e)if(vb.call(e,n)&&t[n]!==e[n])return!1;return!0}function $3(t,e){var n=[];for(var r in t)vb.call(t,r)&&(r in e||n.push(r));for(var r in e)vb.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function gb(t,e,n){if(n===void 0&&(n={}),t===e)return!0;for(var r in e)if(!(r in t&&wle(t[r],e[r],n[r])))return!1;for(var r in t)if(!(r in e))return!1;return!0}function wle(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function XI(t,e,n,r){e===void 0&&(e=0),r===void 0&&(r=1);var i=[];n==null&&(n=Object.keys(t).length);for(var o=e;o<n;o+=r){var a=t[o];a!==void 0&&i.push(a)}return i}function Ele(t,e,n,r){for(var i=0;i<r.length;i+=1){var o=r[i].parse(t,n);if(o){var a=t.allDay;return a==null&&(a=e,a==null&&(a=o.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}function bd(t,e,n){var r=n.dateEnv,i=n.pluginHooks,o=n.options,a=t.defs,l=t.instances;l=Co(l,function(w){return!a[w.defId].recurringDef});for(var c in a){var d=a[c];if(d.recurringDef){var f=d.recurringDef.duration;f||(f=d.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);for(var p=Sle(d,f,e,r,i.recurringTypes),m=0,g=p;m<g.length;m++){var y=g[m],_=gp(c,{start:y,end:r.add(y,f)});l[_.instanceId]=_}}}return{defs:a,instances:l}}function Sle(t,e,n,r,i){var o=i[t.recurringDef.typeId],a=o.expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(a=a.map(ze)),a}var Y3=["years","months","days","milliseconds"],xle=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function _e(t,e){var n;return typeof t=="string"?Tle(t):typeof t=="object"&&t?X3(t):typeof t=="number"?X3((n={},n[e||"milliseconds"]=t,n)):null}function Tle(t){var e=xle.exec(t);if(e){var n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function X3(t){var e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Cle(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function QI(t){return!t.years&&!t.months&&!t.milliseconds?t.days:0}function yb(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function Ile(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function bb(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Rle(t){return _d(t)/365}function Ale(t){return _d(t)/30}function _d(t){return gn(t)/864e5}function Q3(t){return gn(t)/(1e3*60)}function J3(t){return gn(t)/1e3}function gn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Io(t,e){for(var n=null,r=0;r<Y3.length;r+=1){var i=Y3[r];if(e[i]){var o=t[i]/e[i];if(!ma(o)||n!==null&&n!==o)return null;n=o}else if(t[i])return null}return n}function Ro(t){var e=t.milliseconds;if(e){if(e%1e3!=0)return{unit:"millisecond",value:e};if(e%(1e3*60)!=0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!=0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7==0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function wd(t,e,n){n===void 0&&(n=!1);var r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",JI(e,!0)))),r}function yp(t){return t.toISOString().replace(/T.*$/,"")}function Z3(t){return To(t.getUTCHours(),2)+":"+To(t.getUTCMinutes(),2)+":"+To(t.getUTCSeconds(),2)}function JI(t,e){e===void 0&&(e=!1);var n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=Math.round(r%60);return e?n+To(i,2)+":"+To(o,2):"GMT"+n+i+(o?":"+To(o,2):"")}function Cr(t,e,n){if(t===e)return!0;var r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}function Q(t,e,n){var r,i;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!r)i=t.apply(this,o);else if(!Cr(r,o)){n&&n(i);var l=t.apply(this,o);(!e||!e(l,i))&&(i=l)}return r=o,i}}function fs(t,e,n){var r=this,i,o;return function(a){if(!i)o=t.call(r,a);else if(!cn(i,a)){n&&n(o);var l=t.call(r,a);(!e||!e(l,o))&&(o=l)}return i=a,o}}function _b(t,e,n){var r=this,i=[],o=[];return function(a){for(var l=i.length,c=a.length,d=0;d<l;d+=1)if(!a[d])n&&n(o[d]);else if(!Cr(i[d],a[d])){n&&n(o[d]);var f=t.apply(r,a[d]);(!e||!e(f,o[d]))&&(o[d]=f)}for(;d<c;d+=1)o[d]=t.apply(r,a[d]);return i=a,o.splice(c),o}}function ZI(t,e,n){var r=this,i={},o={};return function(a){var l={};for(var c in a)if(!o[c])l[c]=t.apply(r,a[c]);else if(Cr(i[c],a[c]))l[c]=o[c];else{n&&n(o[c]);var d=t.apply(r,a[c]);l[c]=e&&e(d,o[c])?o[c]:d}return i=a,o=l,l}}var eq={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},wb={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Eb=/\s*([ap])\.?m\.?/i,kle=/,/g,Dle=/\s+/g,Nle=/\u200e/g,Ole=/UTC|GMT/,Ple=function(){function t(e){var n={},r={},i=0;for(var o in e)o in eq?(r[o]=e[o],i=Math.max(eq[o],i)):(n[o]=e[o],o in wb&&(i=Math.max(wb[o],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Q(tq)}return t.prototype.format=function(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)},t.prototype.formatRange=function(e,n,r,i){var o=this,a=o.standardDateProps,l=o.extendedSettings,c=Hle(e.marker,n.marker,r.calendarSystem);if(!c)return this.format(e,r);var d=c;d>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(d=1);var f=this.format(e,r),p=this.format(n,r);if(f===p)return f;var m=Vle(a,d),g=tq(m,l,r),y=g(e),_=g(n),w=jle(f,y,p,_),S=l.separator||i||r.defaultSeparator||"";return w?w.before+y+S+_+w.after:f+S+p},t.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},t}();function tq(t,e,n){var r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?function(i){return JI(i.timeZoneOffset)}:r===0&&e.week?function(i){return Ble(n.computeWeekNumber(i.marker),n.weekText,n.locale,e.week)}:Mle(t,e,n)}function Mle(t,e,n){t=I({},t),e=I({},e),Lle(t,e),t.timeZone="UTC";var r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){var o=I({},t);delete o.minute,i=new Intl.DateTimeFormat(n.locale.codes,o)}return function(a){var l=a.marker,c;i&&!l.getUTCMinutes()?c=i:c=r;var d=c.format(l);return Fle(d,a,t,e,n)}}function Lle(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Fle(t,e,n,r,i){return t=t.replace(Nle,""),n.timeZoneName==="short"&&(t=Ule(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":JI(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(kle,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Eb,"").trim():r.meridiem==="narrow"?t=t.replace(Eb,function(o,a){return a.toLocaleLowerCase()}):r.meridiem==="short"?t=t.replace(Eb,function(o,a){return a.toLocaleLowerCase()+"m"}):r.meridiem==="lowercase"&&(t=t.replace(Eb,function(o){return o.toLocaleLowerCase()})),t=t.replace(Dle," "),t=t.trim(),t}function Ule(t,e){var n=!1;return t=t.replace(Ole,function(){return n=!0,e}),n||(t+=" "+e),t}function Ble(t,e,n,r){var i=[];return r==="narrow"?i.push(e):r==="short"&&i.push(e," "),i.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function Hle(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:ya(t)!==ya(e)?1:0}function Vle(t,e){var n={};for(var r in t)(!(r in wb)||wb[r]<=e)&&(n[r]=t[r]);return n}function jle(t,e,n,r){for(var i=0;i<t.length;){var o=t.indexOf(e,i);if(o===-1)break;var a=t.substr(0,o);i=o+e.length;for(var l=t.substr(i),c=0;c<n.length;){var d=n.indexOf(r,c);if(d===-1)break;var f=n.substr(0,d);c=d+r.length;var p=n.substr(c);if(a===f&&l===p)return{before:a,after:l}}}return null}function nq(t,e){var n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Sb(t,e,n,r){var i=nq(t,n.calendarSystem),o=e?nq(e,n.calendarSystem):null;return{date:i,start:i,end:o,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var qle=function(){function t(e){this.cmdStr=e}return t.prototype.format=function(e,n,r){return n.cmdFormatter(this.cmdStr,Sb(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return r.cmdFormatter(this.cmdStr,Sb(e,n,r,i))},t}(),zle=function(){function t(e){this.func=e}return t.prototype.format=function(e,n,r){return this.func(Sb(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return this.func(Sb(e,n,r,i))},t}();function bt(t){return typeof t=="object"&&t?new Ple(t):typeof t=="string"?new qle(t):typeof t=="function"?new zle(t):null}var rq={navLinkDayClick:U,navLinkWeekClick:U,duration:_e,bootstrapFontAwesome:U,buttonIcons:U,customButtons:U,defaultAllDayEventDuration:_e,defaultTimedEventDuration:_e,nextDayThreshold:_e,scrollTime:_e,scrollTimeReset:Boolean,slotMinTime:_e,slotMaxTime:_e,dayPopoverFormat:bt,slotDuration:_e,snapDuration:_e,headerToolbar:U,footerToolbar:U,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:bt,dayHeaderClassNames:U,dayHeaderContent:U,dayHeaderDidMount:U,dayHeaderWillUnmount:U,dayCellClassNames:U,dayCellContent:U,dayCellDidMount:U,dayCellWillUnmount:U,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:U,weekNumbers:Boolean,weekNumberClassNames:U,weekNumberContent:U,weekNumberDidMount:U,weekNumberWillUnmount:U,editable:Boolean,viewClassNames:U,viewDidMount:U,viewWillUnmount:U,nowIndicator:Boolean,nowIndicatorClassNames:U,nowIndicatorContent:U,nowIndicatorDidMount:U,nowIndicatorWillUnmount:U,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:U,locale:U,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:U,eventOrder:pb,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:U,contentHeight:U,direction:String,weekNumberFormat:bt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,progressiveEventRendering:Boolean,businessHours:U,initialDate:U,now:U,eventDataTransform:U,stickyHeaderDates:U,stickyFooterScrollbar:U,viewHeight:U,defaultAllDay:Boolean,eventSourceFailure:U,eventSourceSuccess:U,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:U,eventConstraint:U,eventAllow:U,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:U,eventContent:U,eventDidMount:U,eventWillUnmount:U,selectConstraint:U,selectOverlap:U,selectAllow:U,droppable:Boolean,unselectCancel:String,slotLabelFormat:U,slotLaneClassNames:U,slotLaneContent:U,slotLaneDidMount:U,slotLaneWillUnmount:U,slotLabelClassNames:U,slotLabelContent:U,slotLabelDidMount:U,slotLabelWillUnmount:U,dayMaxEvents:U,dayMaxEventRows:U,dayMinWidth:Number,slotLabelInterval:_e,allDayText:String,allDayClassNames:U,allDayContent:U,allDayDidMount:U,allDayWillUnmount:U,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:bt,rerenderDelay:Number,moreLinkText:U,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:U,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:_e,hiddenDays:U,monthMode:Boolean,fixedWeekCount:Boolean,validRange:U,visibleRange:U,titleFormat:U,noEventsText:String,moreLinkClick:U,moreLinkClassNames:U,moreLinkContent:U,moreLinkDidMount:U,moreLinkWillUnmount:U},tc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},iq={datesSet:U,eventsSet:U,eventAdd:U,eventChange:U,eventRemove:U,windowResize:U,eventClick:U,eventMouseEnter:U,eventMouseLeave:U,select:U,unselect:U,loading:U,_unmount:U,_beforeprint:U,_afterprint:U,_noEventDrop:U,_noEventResize:U,_resize:U,_scrollRequest:U},oq={buttonText:U,views:U,plugins:U,initialEvents:U,events:U,eventSources:U},eR={headerToolbar:xb,footerToolbar:xb,buttonText:xb,buttonIcons:xb};function xb(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?cn(t,e):t===e}var Wle={type:String,component:U,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:U,usesMinMaxTime:Boolean,classNames:U,content:U,didMount:U,willUnmount:U};function tR(t){return $I(t,eR)}function nc(t,e){var n={},r={};for(var i in e)i in t&&(n[i]=e[i](t[i]));for(var i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function U(t){return t}function Tb(t,e,n,r){for(var i=Nn(),o=nR(n),a=0,l=t;a<l.length;a++){var c=l[a],d=aq(c,e,n,r,o);d&&Ed(d,i)}return i}function Ed(t,e){return e===void 0&&(e=Nn()),e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Cb(t,e){var n=t.instances[e];if(n){var r=t.defs[n.defId],i=Ib(t,function(o){return Gle(r,o)});return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Nn()}function Gle(t,e){return Boolean(t.groupId&&t.groupId===e.groupId)}function Nn(){return{defs:{},instances:{}}}function bp(t,e){return{defs:I(I({},t.defs),e.defs),instances:I(I({},t.instances),e.instances)}}function Ib(t,e){var n=Co(t.defs,e),r=Co(t.instances,function(i){return n[i.defId]});return{defs:n,instances:r}}function Kle(t,e){var n=t.defs,r=t.instances,i={},o={};for(var a in n)e.defs[a]||(i[a]=n[a]);for(var l in r)!e.instances[l]&&i[r[l].defId]&&(o[l]=r[l]);return{defs:i,instances:o}}function $le(t,e){return Array.isArray(t)?Tb(t,null,e,!0):typeof t=="object"&&t?Tb([t],null,e,!0):t!=null?String(t):null}function _p(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var Rb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:U,overlap:U,allow:U,className:_p,classNames:_p,color:String,backgroundColor:String,borderColor:String,textColor:String},Yle={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Sd(t,e){var n=$le(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Ab(t){return t.reduce(Xle,Yle)}function Xle(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var kb={id:String,groupId:String,title:String,url:String},sq={start:U,end:U,date:U,allDay:Boolean},Qle=I(I(I({},kb),sq),{extendedProps:U});function aq(t,e,n,r,i){i===void 0&&(i=nR(n));var o=Db(t,n,i),a=o.refined,l=o.extra,c=Zle(e,n),d=Ele(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){var f=wp(a,l,e?e.sourceId:"",d.allDay,Boolean(d.duration),n);return f.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:f,instance:null}}var p=Jle(a,c,n,r);if(p){var f=wp(a,l,e?e.sourceId:"",p.allDay,p.hasEnd,n),m=gp(f.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return{def:f,instance:m}}return null}function Db(t,e,n){return n===void 0&&(n=nR(e)),nc(t,n)}function nR(t){return I(I(I({},Rb),Qle),t.pluginHooks.eventRefiners)}function wp(t,e,n,r,i,o){for(var a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:xo(),sourceId:n,allDay:r,hasEnd:i,ui:Sd(t,o),extendedProps:I(I({},t.extendedProps||{}),e)},l=0,c=o.pluginHooks.eventDefMemberAdders;l<c.length;l++){var d=c[l];I(a,d(t))}return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Jle(t,e,n,r){var i=t.allDay,o,a=null,l=!1,c,d=null,f=t.start!=null?t.start:t.date;if(o=n.dateEnv.createMarkerMeta(f),o)a=o.marker;else if(!r)return null;return t.end!=null&&(c=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!o||o.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),i&&a&&(a=ze(a)),c&&(d=c.marker,i&&(d=ze(d)),a&&d<=a&&(d=null)),d?l=!0:r||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:d},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function Zle(t,e){var n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function lq(t){var e=Math.floor(va(t.start,t.end))||1,n=ze(t.start),r=Zt(n,e);return{start:n,end:r}}function Nb(t,e){e===void 0&&(e=_e(0));var n=null,r=null;if(t.end){r=ze(t.end);var i=t.end.valueOf()-r.valueOf();i&&i>=gn(e)&&(r=Zt(r,1))}return t.start&&(n=ze(t.start),r&&r<=n&&(r=Zt(n,1))),{start:n,end:r}}function rc(t,e,n,r){return r==="year"?_e(n.diffWholeYears(t,e),"year"):r==="month"?_e(n.diffWholeMonths(t,e),"month"):ple(t,e)}function ece(t,e){var n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function cq(t,e){var n=[],r=e.start,i,o;for(t.sort(tce),i=0;i<t.length;i+=1)o=t[i],o.start>r&&n.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&n.push({start:r,end:e.end}),n}function tce(t,e){return t.start.valueOf()-e.start.valueOf()}function Ao(t,e){var n=t.start,r=t.end,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function rR(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Ep(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Sp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function _i(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function nce(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function uq(t,e,n,r){var i={},o={},a={},l=[],c=[],d=Ob(t.defs,e);for(var f in t.defs){var p=t.defs[f],m=d[p.defId];m.display==="inverse-background"&&(p.groupId?(i[p.groupId]=[],a[p.groupId]||(a[p.groupId]=p)):o[f]=[])}for(var g in t.instances){var y=t.instances[g],p=t.defs[y.defId],m=d[p.defId],_=y.range,w=!p.allDay&&r?Nb(_,r):_,S=Ao(w,n);S&&(m.display==="inverse-background"?p.groupId?i[p.groupId].push(S):o[y.defId].push(S):m.display!=="none"&&(m.display==="background"?l:c).push({def:p,ui:m,instance:y,range:S,isStart:w.start&&w.start.valueOf()===S.start.valueOf(),isEnd:w.end&&w.end.valueOf()===S.end.valueOf()}))}for(var C in i)for(var R=i[C],k=cq(R,n),F=0,L=k;F<L.length;F++){var W=L[F],p=a[C],m=d[p.defId];l.push({def:p,ui:m,instance:null,range:W,isStart:!1,isEnd:!1})}for(var f in o)for(var R=o[f],k=cq(R,n),$=0,z=k;$<z.length;$++){var W=z[$];l.push({def:t.defs[f],ui:d[f],instance:null,range:W,isStart:!1,isEnd:!1})}return{bg:l,fg:c}}function dq(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function fq(t,e){t.fcSeg=e}function ic(t){return t.fcSeg||t.parentNode.fcSeg||null}function Ob(t,e){return Ht(t,function(n){return hq(n,e)})}function hq(t,e){var n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),Ab(n)}function xd(t,e){var n=t.map(rce);return n.sort(function(r,i){return zI(r,i,e)}),n.map(function(r){return r._seg})}function rce(t){var e=t.eventRange,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return I(I(I({},n.extendedProps),n),{id:n.publicId,start:i,end:o,duration:o-i,allDay:Number(n.allDay),_seg:t})}function ice(t,e){for(var n=e.pluginHooks,r=n.isDraggableTransformers,i=t.eventRange,o=i.def,a=i.ui,l=a.startEditable,c=0,d=r;c<d.length;c++){var f=d[c];l=f(l,o,a,e)}return l}function oce(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function sce(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function iR(t,e,n,r,i,o,a){var l=n.dateEnv,c=n.options,d=c.displayEventTime,f=c.displayEventEnd,p=t.eventRange.def,m=t.eventRange.instance;d==null&&(d=r!==!1),f==null&&(f=i!==!1);var g=m.range.start,y=m.range.end,_=o||t.start||t.eventRange.range.start,w=a||t.end||t.eventRange.range.end,S=ze(g).valueOf()===ze(_).valueOf(),C=ze(ds(y,-1)).valueOf()===ze(ds(w,-1)).valueOf();return d&&!p.allDay&&(S||C)?(_=S?g:_,w=C?y:w,f&&p.hasEnd?l.formatRange(_,w,e,{forcedStartTzo:o?null:m.forcedStartTzo,forcedEndTzo:a?null:m.forcedEndTzo}):l.format(_,e,{forcedTzo:o?null:m.forcedStartTzo})):""}function Ir(t,e,n){var r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&_i(e,r.start)}}function ace(t){var e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Td(t){return t.instance?t.instance.instanceId:t.def.defId+":"+t.range.start.toISOString()}var lce={start:U,end:U,allDay:Boolean};function cce(t,e,n){var r=uce(t,e),i=r.range;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function uce(t,e){var n=nc(t,lce),r=n.refined,i=n.extra,o=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,l=r.allDay;return l==null&&(l=o&&o.isTimeUnspecified&&(!a||a.isTimeUnspecified)),I({range:{start:o?o.marker:null,end:a?a.marker:null},allDay:l},i)}function pq(t,e){return rR(t.range,e.range)&&t.allDay===e.allDay&&dce(t,e)}function dce(t,e){for(var n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(var n in t)if(!(n in e))return!1;return!0}function fce(t,e){return I(I({},vq(t.range,e,t.allDay)),{allDay:t.allDay})}function mq(t,e,n){return I(I({},vq(t,e,n)),{timeZone:e.timeZone})}function vq(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function hce(t,e,n){var r=Db({editable:!1},n),i=wp(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:hq(i,e),instance:gp(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function oR(t,e,n){n.emitter.trigger("select",I(I({},sR(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function pce(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function sR(t,e){for(var n={},r=0,i=e.pluginHooks.dateSpanTransforms;r<i.length;r++){var o=i[r];I(n,o(t,e))}return I(n,fce(t,e.dateEnv)),n}function Pb(t,e,n){var r=n.dateEnv,i=n.options,o=e;return t?(o=ze(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function Mb(t,e,n,r){var i=Ob(t.defs,e),o=Nn();for(var a in t.defs){var l=t.defs[a];o.defs[a]=mce(l,i[a],n,r)}for(var c in t.instances){var d=t.instances[c],l=o.defs[d.defId];o.instances[c]=vce(d,l,i[d.defId],n,r)}return o}function mce(t,e,n,r){var i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);var o=I(I(I({},t),i),{ui:I(I({},t.ui),i.ui)});n.extendedProps&&(o.extendedProps=I(I({},o.extendedProps),n.extendedProps));for(var a=0,l=r.pluginHooks.eventDefMutationAppliers;a<l.length;a++){var c=l[a];c(o,n,r)}return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function vce(t,e,n,r,i){var o=i.dateEnv,a=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,c=I({},t);return a&&(c.range=lq(c.range)),r.datesDelta&&n.startEditable&&(c.range={start:o.add(c.range.start,r.datesDelta),end:o.add(c.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(c.range={start:o.add(c.range.start,r.startDelta),end:c.range.end}),r.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:o.add(c.range.end,r.endDelta)}),l&&(c.range={start:c.range.start,end:Pb(e.allDay,c.range.start,i)}),e.allDay&&(c.range={start:ze(c.range.start),end:ze(c.range.end)}),c.range.end<c.range.start&&(c.range.end=Pb(e.allDay,c.range.start,i)),c}var gce=function(){function t(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}return Object.defineProperty(t.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),t.prototype.getOption=function(e){return this.getCurrentData().options[e]},t}(),yce={id:String,defaultAllDay:Boolean,url:String,format:String,events:U,eventDataTransform:U,success:U,failure:U};function gq(t,e,n){n===void 0&&(n=yq(e));var r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){var i=nc(r,n),o=i.refined,a=i.extra,l=bce(o,e);if(l)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:o.defaultAllDay,eventDataTransform:o.eventDataTransform,success:o.success,failure:o.failure,publicId:o.id||"",sourceId:xo(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Sd(o,e),extendedProps:a}}return null}function yq(t){return I(I(I({},Rb),yce),t.pluginHooks.eventSourceRefiners)}function bce(t,e){for(var n=e.pluginHooks.eventSourceDefs,r=n.length-1;r>=0;r-=1){var i=n[r],o=i.parseMeta(t);if(o)return{sourceDefId:r,meta:o}}return null}function _ce(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function wce(t,e){var n=t.initialDate;return n!=null?e.createMarker(n):xp(t.now,e)}function xp(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}var ba=function(){function t(){}return t.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},t.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(t.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),t.prototype.batchRendering=function(e){e()},t.prototype.updateSize=function(){this.trigger("_resize",!0)},t.prototype.setOption=function(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})},t.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},t.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},t.prototype.on=function(e,n){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn("Unknown listener name '"+e+"'")},t.prototype.off=function(e,n){this.currentDataManager.emitter.off(e,n)},t.prototype.trigger=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(n=this.currentDataManager.emitter).trigger.apply(n,Oe([e],r))},t.prototype.changeView=function(e,n){var r=this;this.batchRendering(function(){if(r.unselect(),n)if(n.start&&n.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{var i=r.getCurrentData().dateEnv;r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})},t.prototype.zoomTo=function(e,n){var r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},t.prototype.getUnitViewSpec=function(e){var n=this.getCurrentData(),r=n.viewSpecs,i=n.toolbarConfig,o=[].concat(i.viewsWithButtons),a,l;for(var c in r)o.push(c);for(a=0;a<o.length;a+=1)if(l=r[o[a]],l&&l.singleUnit===e)return l;return null},t.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},t.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},t.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},t.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},t.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:xp(e.calendarOptions.now,e.dateEnv)})},t.prototype.gotoDate=function(e){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})},t.prototype.incrementDate=function(e){var n=this.getCurrentData(),r=_e(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))},t.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},t.prototype.formatDate=function(e,n){var r=this.getCurrentData().dateEnv;return r.format(r.createMarker(e),bt(n))},t.prototype.formatRange=function(e,n,r){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(n),bt(r),r)},t.prototype.formatIso=function(e,n){var r=this.getCurrentData().dateEnv;return r.formatIso(r.createMarker(e),{omitTime:n})},t.prototype.select=function(e,n){var r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};var i=this.getCurrentData(),o=cce(r,i.dateEnv,_e({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),oR(o,null,i))},t.prototype.unselect=function(e){var n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),pce(e,n))},t.prototype.addEvent=function(e,n){if(e instanceof tt){var r=e._def,i=e._instance,o=this.getCurrentData();return o.eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ed({def:r,instance:i})}),this.triggerEventAdd(e)),e}var a=this.getCurrentData(),l;if(n instanceof gd)l=n.internalEventSource;else if(typeof n=="boolean")n&&(l=YI(a.eventSources)[0]);else if(n!=null){var c=this.getEventSourceById(n);if(!c)return console.warn('Could not find an event source with ID "'+n+'"'),null;l=c.internalEventSource}var d=aq(e,l,a,!1);if(d){var f=new tt(a,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ed(d)}),this.triggerEventAdd(f),f}return null},t.prototype.triggerEventAdd=function(e){var n=this,r=this.getCurrentData().emitter;r.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){n.dispatch({type:"REMOVE_EVENTS",eventStore:bq(e)})}})},t.prototype.getEventById=function(e){var n=this.getCurrentData(),r=n.eventStore,i=r.defs,o=r.instances;e=String(e);for(var a in i){var l=i[a];if(l.publicId===e){if(l.recurringDef)return new tt(n,l,null);for(var c in o){var d=o[c];if(d.defId===l.defId)return new tt(n,l,d)}}}return null},t.prototype.getEvents=function(){var e=this.getCurrentData();return _a(e.eventStore,e)},t.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},t.prototype.getEventSources=function(){var e=this.getCurrentData(),n=e.eventSources,r=[];for(var i in n)r.push(new gd(e,n[i]));return r},t.prototype.getEventSourceById=function(e){var n=this.getCurrentData(),r=n.eventSources;e=String(e);for(var i in r)if(r[i].publicId===e)return new gd(n,r[i]);return null},t.prototype.addEventSource=function(e){var n=this.getCurrentData();if(e instanceof gd)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var r=gq(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new gd(n,r)):null},t.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},t.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},t.prototype.scrollToTime=function(e){var n=_e(e);n&&this.trigger("_scrollRequest",{time:n})},t}(),tt=function(){function t(e,n,r){this._context=e,this._def=n,this._instance=r||null}return t.prototype.setProp=function(e,n){var r,i;if(e in sq)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=kb[e](n),this.mutate({standardProps:{publicId:n}});else if(e in kb)n=kb[e](n),this.mutate({standardProps:(r={},r[e]=n,r)});else if(e in Rb){var o=Rb[e](n);e==="color"?o={backgroundColor:n,borderColor:n}:e==="editable"?o={startEditable:n,durationEditable:n}:o=(i={},i[e]=n,i),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},t.prototype.setExtendedProp=function(e,n){var r;this.mutate({extendedProps:(r={},r[e]=n,r)})},t.prototype.setStart=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i=r.createMarker(e);if(i&&this._instance){var o=this._instance.range,a=rc(o.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}},t.prototype.setEnd=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){var o=rc(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},t.prototype.setDates=function(e,n,r){r===void 0&&(r={});var i=this._context.dateEnv,o={allDay:r.allDay},a=i.createMarker(e),l;if(!!a&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){var c=this._instance.range;r.allDay===!0&&(c=lq(c));var d=rc(c.start,a,i,r.granularity);if(l){var f=rc(c.end,l,i,r.granularity);Cle(d,f)?this.mutate({datesDelta:d,standardProps:o}):this.mutate({startDelta:d,endDelta:f,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:d,standardProps:o})}},t.prototype.moveStart=function(e){var n=_e(e);n&&this.mutate({startDelta:n})},t.prototype.moveEnd=function(e){var n=_e(e);n&&this.mutate({endDelta:n})},t.prototype.moveDates=function(e){var n=_e(e);n&&this.mutate({datesDelta:n})},t.prototype.setAllDay=function(e,n){n===void 0&&(n={});var r={allDay:e},i=n.maintainDuration;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})},t.prototype.formatRange=function(e){var n=this._context.dateEnv,r=this._instance,i=bt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})},t.prototype.mutate=function(e){var n=this._instance;if(n){var r=this._def,i=this._context,o=i.getCurrentData().eventStore,a=Cb(o,n.instanceId),l={"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};a=Mb(a,l,e,i);var c=new t(i,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:_a(a,i,n),revert:function(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}},t.prototype.remove=function(){var e=this._context,n=bq(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})},Object.defineProperty(t.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new gd(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(e){e===void 0&&(e={});var n=this._def,r=n.ui,i=this,o=i.startStr,a=i.endStr,l={};return n.title&&(l.title=n.title),o&&(l.start=o),a&&(l.end=a),n.publicId&&(l.id=n.publicId),n.groupId&&(l.groupId=n.groupId),n.url&&(l.url=n.url),r.display&&r.display!=="auto"&&(l.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?I(l,n.extendedProps):l.extendedProps=n.extendedProps),l},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function bq(t){var e,n,r=t._def,i=t._instance;return{defs:(e={},e[r.defId]=r,e),instances:i?(n={},n[i.instanceId]=i,n):{}}}function _a(t,e,n){var r=t.defs,i=t.instances,o=[],a=n?n.instanceId:"";for(var l in i){var c=i[l],d=r[c.defId];c.instanceId!==a&&o.push(new tt(e,d,c))}return o}var _q={};function Ece(t,e){_q[t]=e}function Sce(t){return new _q[t]}var xce=function(){function t(){}return t.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},t.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},t.prototype.getMarkerDay=function(e){return e.getUTCDate()},t.prototype.arrayToMarker=function(e){return Tr(e)},t.prototype.markerToArray=function(e){return ga(e)},t}();Ece("gregory",xce);var Tce=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Cce(t){var e=Tce.exec(t);if(e){var n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number("0."+e[12])*1e3:0));if(mb(n)){var r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var Ice=function(){function t(e){var n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=Boolean(!r||this.namedTimeZoneImpl),this.calendarSystem=Sce(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return t.prototype.createMarker=function(e){var n=this.createMarkerMeta(e);return n===null?null:n.marker},t.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Tr(W3(new Date))},t.prototype.createMarkerMeta=function(e){if(typeof e=="string")return this.parse(e);var n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Tr(e)),n===null||!mb(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}},t.prototype.parse=function(e){var n=Cce(e);if(n===null)return null;var r=n.marker,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}},t.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},t.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},t.prototype.add=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.subtract=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.addYears=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.addMonths=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.diffWholeYears=function(e,n){var r=this.calendarSystem;return ya(e)===ya(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null},t.prototype.diffWholeMonths=function(e,n){var r=this.calendarSystem;return ya(e)===ya(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null},t.prototype.greatestWholeUnit=function(e,n){var r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=mle(e,n),r!==null?{unit:"week",value:r}:(r=yd(e,n),r!==null?{unit:"day",value:r}:(r=dle(e,n),ma(r)?{unit:"hour",value:r}:(r=fle(e,n),ma(r)?{unit:"minute",value:r}:(r=hle(e,n),ma(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))},t.prototype.countDurationsBetween=function(e,n,r){var i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/Rle(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/Ale(r):r.days&&(i=yd(e,n),i!==null)?i/_d(r):(n.valueOf()-e.valueOf())/gn(r)},t.prototype.startOf=function(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?ze(e):n==="hour"?vle(e):n==="minute"?gle(e):n==="second"?yle(e):null},t.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},t.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},t.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},t.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):ble(e,this.weekDow,this.weekDoy)},t.prototype.format=function(e,n,r){return r===void 0&&(r={}),n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)},t.prototype.formatRange=function(e,n,r,i){return i===void 0&&(i={}),i.isEndExclusive&&(n=ds(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)},t.prototype.formatIso=function(e,n){n===void 0&&(n={});var r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),wd(e,r,n.omitTime)},t.prototype.timestampToMarker=function(e){return this.timeZone==="local"?Tr(W3(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Tr(this.namedTimeZoneImpl.timestampToArray(e))},t.prototype.offsetForMarker=function(e){return this.timeZone==="local"?-G3(ga(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ga(e)):null},t.prototype.toDate=function(e,n){return this.timeZone==="local"?G3(ga(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ga(e))*1e3*60):new Date(e.valueOf()-(n||0))},t}(),Rce=[],aR={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};function Ace(t){for(var e=t.length>0?t[0].code:"en",n=Rce.concat(t),r={en:aR},i=0,o=n;i<o.length;i++){var a=o[i];r[a.code]=a}return{map:r,defaultCode:e}}function wq(t,e){return typeof t=="object"&&!Array.isArray(t)?Eq(t.code,[t.code],t):kce(t,e)}function kce(t,e){var n=[].concat(t||[]),r=Dce(n,e)||aR;return Eq(t,n,r)}function Dce(t,e){for(var n=0;n<t.length;n+=1)for(var r=t[n].toLocaleLowerCase().split("-"),i=r.length;i>0;i-=1){var o=r.slice(0,i).join("-");if(e[o])return e[o]}return null}function Eq(t,e,n){var r=$I([aR,n],["buttonText"]);delete r.code;var i=r.week;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}var Nce={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function lR(t,e){return Tb(Oce(t),null,e)}function Oce(t){var e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(function(n){return n.daysOfWeek}):typeof t=="object"&&t?e=[t]:e=[],e=e.map(function(n){return I(I({},Nce),n)}),e}function Sq(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function cR(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function uR(t,e,n){return{left:t.left+e,right:t.right+e,top:t.top+n,bottom:t.bottom+n}}function xq(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Tq(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Cq(t,e){return{left:t.left-e.left,top:t.top-e.top}}var dR;function Lb(){return dR==null&&(dR=Pce()),dR}function Pce(){if(typeof document=="undefined")return!0;var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);var e=t.querySelector("div"),n=e.offsetHeight>0;return document.body.removeChild(t),n}var fR=Nn(),Tp=function(){function t(){this.getKeysForEventDefs=Q(this._getKeysForEventDefs),this.splitDateSelection=Q(this._splitDateSpan),this.splitEventStore=Q(this._splitEventStore),this.splitIndividualUi=Q(this._splitIndividualUi),this.splitEventDrag=Q(this._splitInteraction),this.splitEventResize=Q(this._splitInteraction),this.eventUiBuilders={}}return t.prototype.splitProps=function(e){var n=this,r=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,i),l=this.splitEventStore(e.eventStore,i),c=this.splitEventDrag(e.eventDrag),d=this.splitEventResize(e.eventResize),f={};this.eventUiBuilders=Ht(r,function(_,w){return n.eventUiBuilders[w]||Q(Mce)});for(var p in r){var m=r[p],g=l[p]||fR,y=this.eventUiBuilders[p];f[p]={businessHours:m.businessHours||e.businessHours,dateSelection:o[p]||null,eventStore:g,eventUiBases:y(e.eventUiBases[""],m.ui,a[p]),eventSelection:g.instances[e.eventSelection]?e.eventSelection:"",eventDrag:c[p]||null,eventResize:d[p]||null}}return f},t.prototype._splitDateSpan=function(e){var n={};if(e)for(var r=this.getKeysForDateSpan(e),i=0,o=r;i<o.length;i++){var a=o[i];n[a]=e}return n},t.prototype._getKeysForEventDefs=function(e){var n=this;return Ht(e.defs,function(r){return n.getKeysForEventDef(r)})},t.prototype._splitEventStore=function(e,n){var r=e.defs,i=e.instances,o={};for(var a in r)for(var l=0,c=n[a];l<c.length;l++){var d=c[l];o[d]||(o[d]=Nn()),o[d].defs[a]=r[a]}for(var f in i)for(var p=i[f],m=0,g=n[p.defId];m<g.length;m++){var d=g[m];o[d]&&(o[d].instances[f]=p)}return o},t.prototype._splitIndividualUi=function(e,n){var r={};for(var i in e)if(i)for(var o=0,a=n[i];o<a.length;o++){var l=a[o];r[l]||(r[l]={}),r[l][i]=e[i]}return r},t.prototype._splitInteraction=function(e){var n={};if(e){var r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,i),a=function(c){n[c]||(n[c]={affectedEvents:r[c]||fR,mutatedEvents:o[c]||fR,isEvent:e.isEvent})};for(var l in r)a(l);for(var l in o)a(l)}return n},t}();function Mce(t,e,n){var r=[];t&&r.push(t),e&&r.push(e);var i={"":Ab(r)};return n&&I(i,n),i}function Cp(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:Boolean(r&&!_i(r.activeRange,t)),isOther:Boolean(r&&!_i(r.currentRange,t)),isToday:Boolean(e&&_i(e,t)),isPast:Boolean(n?t<n:e?t<e.start:!1),isFuture:Boolean(n?t>n:e?t>=e.end:!1)}}function Cd(t,e){var n=["fc-day","fc-day-"+q3[t.dow]];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}function hR(t,e){var n=["fc-slot","fc-slot-"+q3[t.dow]];return t.isDisabled?n.push("fc-slot-disabled"):(t.isToday&&(n.push("fc-slot-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-slot-past"),t.isFuture&&n.push("fc-slot-future")),n}function wa(t,e){return e===void 0&&(e="day"),JSON.stringify({date:yp(t),type:e})}var pR=null;function Ip(){return pR===null&&(pR=Lce()),pR}function Lce(){var t=document.createElement("div");us(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);var e=t.firstChild,n=e.getBoundingClientRect().left>t.getBoundingClientRect().left;return ec(t),n}var mR;function vR(){return mR||(mR=Fce()),mR}function Fce(){var t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);var e=Iq(t);return document.body.removeChild(t),e}function Iq(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function gR(t,e){e===void 0&&(e=!1);var n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=Iq(t),c=l.y-r-i,d=l.x-o-a,f={borderLeft:r,borderRight:i,borderTop:o,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return Ip()&&n.direction==="rtl"?f.scrollbarLeft=c:f.scrollbarRight=c,e&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}function Fb(t,e,n){e===void 0&&(e=!1);var r=n?t.getBoundingClientRect():Ub(t),i=gR(t,e),o={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(o.left+=i.paddingLeft,o.right-=i.paddingRight,o.top+=i.paddingTop,o.bottom-=i.paddingBottom),o}function Ub(t){var e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function Uce(t){for(var e=yR(t),n=t.getBoundingClientRect(),r=0,i=e;r<i.length;r++){var o=i[r],a=cR(n,o.getBoundingClientRect());if(a)n=a;else return null}return n}function yR(t){for(var e=[];t instanceof HTMLElement;){var n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}function bR(t,e,n){var r=!1,i=function(){r||(r=!0,e.apply(this,arguments))},o=function(){r||(r=!0,n&&n.apply(this,arguments))},a=t(i,o);a&&typeof a.then=="function"&&a.then(i,o)}var oc=function(){function t(){this.handlers={},this.thisContext=null}return t.prototype.setThisContext=function(e){this.thisContext=e},t.prototype.setOptions=function(e){this.options=e},t.prototype.on=function(e,n){Bce(this.handlers,e,n)},t.prototype.off=function(e,n){Hce(this.handlers,e,n)},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=this.handlers[e]||[],o=this.options&&this.options[e],a=[].concat(o||[],i),l=0,c=a;l<c.length;l++){var d=c[l];d.apply(this.thisContext,n)}},t.prototype.hasHandlers=function(e){return this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e]},t}();function Bce(t,e,n){(t[e]||(t[e]=[])).push(n)}function Hce(t,e,n){n?t[e]&&(t[e]=t[e].filter(function(r){return r!==n})):delete t[e]}var wi=function(){function t(e,n,r,i){this.els=n;var o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}return t.prototype.buildElHorizontals=function(e){for(var n=[],r=[],i=0,o=this.els;i<o.length;i++){var a=o[i],l=a.getBoundingClientRect();n.push(l.left-e),r.push(l.right-e)}this.lefts=n,this.rights=r},t.prototype.buildElVerticals=function(e){for(var n=[],r=[],i=0,o=this.els;i<o.length;i++){var a=o[i],l=a.getBoundingClientRect();n.push(l.top-e),r.push(l.bottom-e)}this.tops=n,this.bottoms=r},t.prototype.leftToIndex=function(e){var n=this,r=n.lefts,i=n.rights,o=r.length,a;for(a=0;a<o;a+=1)if(e>=r[a]&&e<i[a])return a},t.prototype.topToIndex=function(e){var n=this,r=n.tops,i=n.bottoms,o=r.length,a;for(a=0;a<o;a+=1)if(e>=r[a]&&e<i[a])return a},t.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},t.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},t}(),Bb=function(){function t(){}return t.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},t.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},t.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},t.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},t.prototype.canScrollUp=function(){return this.getScrollTop()>0},t.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},t.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},t.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},t}(),Rq=function(t){N(e,t);function e(n){var r=t.call(this)||this;return r.el=n,r}return e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(n){this.el.scrollTop=n},e.prototype.setScrollLeft=function(n){this.el.scrollLeft=n},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e}(Bb),Aq=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollTop=function(){return window.pageYOffset},e.prototype.getScrollLeft=function(){return window.pageXOffset},e.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)},e.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)},e.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},e.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},e.prototype.getClientHeight=function(){return document.documentElement.clientHeight},e.prototype.getClientWidth=function(){return document.documentElement.clientWidth},e}(Bb),Rp=function(){function t(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return t.prototype.setIconOverride=function(e){var n,r;if(typeof e=="object"&&e){n=I({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(e){var n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e},t.prototype.getClass=function(e){return this.classes[e]||""},t.prototype.getIconClass=function(e,n){var r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?this.baseIconClass+" "+r:""},t.prototype.getCustomButtonIconClass=function(e){var n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?this.baseIconClass+" "+this.applyIconOverridePrefix(n):""},t}();Rp.prototype.classes={};Rp.prototype.iconClasses={};Rp.prototype.baseIconClass="";Rp.prototype.iconOverridePrefix="";var Vce=function(){function t(e,n,r,i){var o=this;this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=function(a){o.queuedRequest=I({},o.queuedRequest||{},a),o.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return t.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},t.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},t.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},t.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},t}(),Ei=VI({});function jce(t,e,n,r,i,o,a,l,c,d,f,p,m){return{dateEnv:i,options:n,pluginHooks:a,emitter:d,dispatch:l,getCurrentData:c,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler:function(g){d.on("_resize",g)},removeResizeHandler:function(g){d.off("_resize",g)},createScrollResponder:function(g){return new Vce(g,d,_e(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:m}}var Hb=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.shouldComponentUpdate=function(n,r){return this.debug&&console.log($3(n,this.props),$3(r,this.state)),!gb(this.props,n,this.propEquality)||!gb(this.state,r,this.stateEquality)},e.addPropsEquality=qce,e.addStateEquality=zce,e.contextType=Ei,e}(db);Hb.prototype.propEquality={};Hb.prototype.stateEquality={};var te=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.contextType=Ei,e}(Hb);function qce(t){var e=Object.create(this.prototype.propEquality);I(e,t),this.prototype.propEquality=e}function zce(t){var e=Object.create(this.prototype.stateEquality);I(e,t),this.prototype.stateEquality=e}function Vt(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var qn=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.uid=xo(),n}return e.prototype.prepareHits=function(){},e.prototype.queryHit=function(n,r,i,o){return null},e.prototype.isValidSegDownEl=function(n){return!this.props.eventDrag&&!this.props.eventResize&&!Jt(n,".fc-event-mirror")},e.prototype.isValidDateDownEl=function(n){return!Jt(n,".fc-event:not(.fc-bg-event)")&&!Jt(n,".fc-more-link")&&!Jt(n,"a[data-navlink]")&&!Jt(n,".fc-popover")},e}(te);function Nt(t){return{id:xo(),deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,contentTypeHandlers:t.contentTypeHandlers||{},listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Wce(t,e){var n={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(var a=0,l=o;a<l.length;a++){var c=l[a];n[c.id]||(n[c.id]=!0,i(c.deps),r=Kce(r,c))}}return t&&i(t),i(e),r}function Gce(){var t=[],e=[],n;return function(r,i){return(!n||!Cr(r,t)||!Cr(i,e))&&(n=Wce(r,i)),t=r,e=i,n}}function Kce(t,e){return{reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:I(I({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:I(I({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:I(I({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:I(I({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:I(I({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,contentTypeHandlers:I(I({},t.contentTypeHandlers),e.contentTypeHandlers),listenerRefiners:I(I({},t.listenerRefiners),e.listenerRefiners),optionRefiners:I(I({},t.optionRefiners),e.optionRefiners),propSetHandlers:I(I({},t.propSetHandlers),e.propSetHandlers)}}var Ea=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Rp);Ea.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ea.prototype.baseIconClass="fc-icon";Ea.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ea.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ea.prototype.iconOverrideOption="buttonIcons";Ea.prototype.iconOverrideCustomButtonOption="icon";Ea.prototype.iconOverridePrefix="fc-icon-";function $ce(t,e){var n={},r;for(r in t)_R(r,n,t,e);for(r in e)_R(r,n,t,e);return n}function _R(t,e,n,r){if(e[t])return e[t];var i=Yce(t,e,n,r);return i&&(e[t]=i),i}function Yce(t,e,n,r){var i=n[t],o=r[t],a=function(f){return i&&i[f]!==null?i[f]:o&&o[f]!==null?o[f]:null},l=a("component"),c=a("superType"),d=null;if(c){if(c===t)throw new Error("Can't have a custom view type that references itself");d=_R(c,e,n,r)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:I(I({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:I(I({},d?d.overrides:{}),o?o.rawOptions:{})}:null}var jt=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n.handleRootEl=function(r){Vt(n.rootElRef,r),n.props.elRef&&Vt(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.hookProps;return x(Sa,{hookProps:i,didMount:r.didMount,willUnmount:r.willUnmount,elRef:this.handleRootEl},function(o){return x(sc,{hookProps:i,content:r.content,defaultContent:r.defaultContent,backupElRef:n.rootElRef},function(a,l){return r.children(o,kq(r.classNames,i),a,l)})})},e}(te),wR=VI(0);function sc(t){return x(wR.Consumer,null,function(e){return x(Xce,I({renderId:e},t))})}var Xce=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerElRef=Ce(),n}return e.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},e.prototype.componentDidMount=function(){this.updateCustomContent()},e.prototype.componentDidUpdate=function(){this.updateCustomContent()},e.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},e.prototype.renderInnerContent=function(){var n=this.context.pluginHooks.contentTypeHandlers,r=this,i=r.props,o=r.customContentInfo,a=i.content,l=Dq(a,i.hookProps),c=null;if(l===void 0&&(l=Dq(i.defaultContent,i.hookProps)),l!==void 0){if(o)o.contentVal=l[o.contentKey];else if(typeof l=="object"){for(var d in n)if(l[d]!==void 0){var f=n[d]();o=this.customContentInfo=I({contentKey:d,contentVal:l[d]},f);break}}o?c=[]:c=l}return c},e.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},e}(te),Sa=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&Vt(n.props.elRef,r)},n}return e.prototype.render=function(){return this.props.children(this.handleRootEl)},e.prototype.componentDidMount=function(){var n=this.props.didMount;n&&n(I(I({},this.props.hookProps),{el:this.rootEl}))},e.prototype.componentWillUnmount=function(){var n=this.props.willUnmount;n&&n(I(I({},this.props.hookProps),{el:this.rootEl}))},e}(te);function ac(){var t,e,n=[];return function(r,i){return(!e||!cn(e,i)||r!==t)&&(t=r,e=i,n=kq(r,i)),n}}function kq(t,e){return typeof t=="function"&&(t=t(e)),_p(t)}function Dq(t,e){return typeof t=="function"?t(e,x):t}var $i=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.normalizeClassNames=ac(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a={view:i.viewApi},l=this.normalizeClassNames(o.viewClassNames,a);return x(Sa,{hookProps:a,didMount:o.viewDidMount,willUnmount:o.viewWillUnmount,elRef:r.elRef},function(c){return r.children(c,["fc-"+r.viewSpec.type+"-view","fc-view"].concat(l))})},e}(te);function Nq(t){return Ht(t,Qce)}function Qce(t){var e=typeof t=="function"?{component:t}:t,n=e.component;return e.content&&(n=Jce(e)),{superType:e.type,component:n,rawOptions:e}}function Jce(t){return function(e){return x(Ei.Consumer,null,function(n){return x($i,{viewSpec:n.viewSpec},function(r,i){var o=I(I({},e),{nextDayThreshold:n.options.nextDayThreshold});return x(jt,{hookProps:o,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:r},function(a,l,c,d){return x("div",{className:i.concat(l).join(" "),ref:a},d)})})})}}function Zce(t,e,n,r){var i=Nq(t),o=Nq(e.views),a=$ce(i,o);return Ht(a,function(l){return eue(l,o,e,n,r)})}function eue(t,e,n,r,i){var o=t.overrides.duration||t.defaults.duration||r.duration||n.duration,a=null,l="",c="",d={};if(o&&(a=tue(o),a)){var f=Ro(a);l=f.unit,f.value===1&&(c=l,d=e[l]?e[l].rawOptions:{})}var p=function(m){var g=m.buttonText||{},y=t.defaults.buttonTextKey;return y!=null&&g[y]!=null?g[y]:g[t.type]!=null?g[t.type]:g[c]!=null?g[c]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:c,optionDefaults:t.defaults,optionOverrides:I(I({},d),t.overrides),buttonTextOverride:p(r)||p(n)||t.overrides.buttonText,buttonTextDefault:p(i)||t.defaults.buttonText||p(tc)||t.type}}var Oq={};function tue(t){var e=JSON.stringify(t),n=Oq[e];return n===void 0&&(n=_e(t),Oq[e]=n),n}var ER=function(){function t(e){this.props=e,this.nowDate=xp(e.nowInput,e.dateEnv),this.initHiddenDays()}return t.prototype.buildPrev=function(e,n,r){var i=this.props.dateEnv,o=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)},t.prototype.buildNext=function(e,n,r){var i=this.props.dateEnv,o=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)},t.prototype.build=function(e,n,r){r===void 0&&(r=!0);var i=this.props,o,a,l,c,d,f;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=nce(e,o)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),c=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),c=this.trimHiddenDays(c),d=c,i.showNonCurrentDates||(d=Ao(d,a.range)),d=this.adjustActiveRange(d),d=Ao(d,o),f=Ep(a.range,o),{validRange:o,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:c,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:f,dateIncrement:this.buildDateIncrement(a.duration)}},t.prototype.buildValidRange=function(){var e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}},t.prototype.buildCurrentRangeInfo=function(e,n){var r=this.props,i=null,o=null,a=null,l;return r.duration?(i=r.duration,o=r.durationUnit,a=this.buildRangeFromDuration(e,n,i,o)):(l=this.props.dayCount)?(o="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),o=Ro(i).unit,a=this.buildRangeFromDuration(e,n,i,o)),{duration:i,unit:o,range:a}},t.prototype.getFallbackDuration=function(){return _e({day:1})},t.prototype.adjustActiveRange=function(e){var n=this.props,r=n.dateEnv,i=n.usesMinMaxTime,o=n.slotMinTime,a=n.slotMaxTime,l=e.start,c=e.end;return i&&(_d(o)<0&&(l=ze(l),l=r.add(l,o)),_d(a)>1&&(c=ze(c),c=Zt(c,-1),c=r.add(c,a))),{start:l,end:c}},t.prototype.buildRangeFromDuration=function(e,n,r,i){var o=this.props,a=o.dateEnv,l=o.dateAlignment,c,d,f;if(!l){var p=this.props.dateIncrement;p&&gn(p)<gn(r)?l=Ro(p).unit:l=i}_d(r)<=1&&this.isHiddenDay(c)&&(c=this.skipHiddenDays(c,n),c=ze(c));function m(){c=a.startOf(e,l),d=a.add(c,r),f={start:c,end:d}}return m(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,n),m()),f},t.prototype.buildRangeFromDayCount=function(e,n,r){var i=this.props,o=i.dateEnv,a=i.dateAlignment,l=0,c=e,d;a&&(c=o.startOf(c,a)),c=ze(c),c=this.skipHiddenDays(c,n),d=c;do d=Zt(d,1),this.isHiddenDay(d)||(l+=1);while(l<r);return{start:c,end:d}},t.prototype.buildCustomVisibleRange=function(e){var n=this.props,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,o=this.refineRange(i);return o&&(o.start==null||o.end==null)?null:o},t.prototype.buildRenderRange=function(e,n,r){return e},t.prototype.buildDateIncrement=function(e){var n=this.props.dateIncrement,r;return n||((r=this.props.dateAlignment)?_e(1,r):e||_e({days:1}))},t.prototype.refineRange=function(e){if(e){var n=ece(e,this.props.dateEnv);return n&&(n=Nb(n)),n}return null},t.prototype.initHiddenDays=function(){var e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},t.prototype.trimHiddenDays=function(e){var n=e.start,r=e.end;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null},t.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},t.prototype.skipHiddenDays=function(e,n,r){for(n===void 0&&(n=1),r===void 0&&(r=!1);this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Zt(e,n);return e},t}();function nue(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function rue(t,e){var n;switch(e.type){case"SET_OPTION":return I(I({},t),(n={},n[e.optionName]=e.rawOptionValue,n));default:return t}}function iue(t,e,n,r){var i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":if(!t.activeRange||!_i(t.currentRange,e.dateMarker))return r.build(e.dateMarker);break;case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function oue(t,e,n){var r=e?e.activeRange:null;return Mq({},fue(t,n),r,n)}function sue(t,e,n,r){var i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Mq(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return lue(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Lq(t,i,r):t;case"FETCH_EVENT_SOURCES":return SR(t,e.sourceIds?K3(e.sourceIds):Fq(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return due(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function aue(t,e,n){var r=e?e.activeRange:null;return SR(t,Fq(t,n),r,!0,n)}function Pq(t){for(var e in t)if(t[e].isFetching)return!0;return!1}function Mq(t,e,n,r){for(var i={},o=0,a=e;o<a.length;o++){var l=a[o];i[l.sourceId]=l}return n&&(i=Lq(i,n,r)),I(I({},t),i)}function lue(t,e){return Co(t,function(n){return n.sourceId!==e})}function Lq(t,e,n){return SR(t,Co(t,function(r){return cue(r,e,n)}),e,!1,n)}function cue(t,e,n){return Uq(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function SR(t,e,n,r,i){var o={};for(var a in t){var l=t[a];e[a]?o[a]=uue(l,n,r,i):o[a]=l}return o}function uue(t,e,n,r){var i=r.options,o=r.calendarApi,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=xo();return a.fetch({eventSource:t,range:e,isRefetch:n,context:r},function(c){var d=c.rawEvents;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(o,d,c.xhr)||d),t.success&&(d=t.success.call(o,d,c.xhr)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},function(c){console.warn(c.message,c),i.eventSourceFailure&&i.eventSourceFailure.call(o,c),t.failure&&t.failure(c),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:c})}),I(I({},t),{isFetching:!0,latestFetchId:l})}function due(t,e,n,r){var i,o=t[e];return o&&n===o.latestFetchId?I(I({},t),(i={},i[e]=I(I({},o),{isFetching:!1,fetchRange:r}),i)):t}function Fq(t,e){return Co(t,function(n){return Uq(n,e)})}function fue(t,e){var n=yq(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(var o=0,a=r;o<a.length;o++){var l=a[o],c=gq(l,e,n);c&&i.push(c)}return i}function Uq(t,e){var n=e.pluginHooks.eventSourceDefs;return!n[t.sourceDefId].ignoreRange}function hue(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return pue(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"ADD_EVENTS":return vue(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return bp(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?bd(t,r.activeRange,i):t;case"REMOVE_EVENTS":return Kle(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Hq(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ib(t,function(o){return!o.sourceId});case"REMOVE_ALL_EVENTS":return Nn();default:return t}}function pue(t,e,n,r,i,o){if(e&&n===e.latestFetchId){var a=Tb(mue(i,e,o),e,o);return r&&(a=bd(a,r,o)),bp(Hq(t,e.sourceId),a)}return t}function mue(t,e,n){var r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Bq(t,i)),r&&(t=Bq(t,r)),t}function Bq(t,e){var n;if(!e)n=t;else{n=[];for(var r=0,i=t;r<i.length;r++){var o=i[r],a=e(o);a?n.push(a):a==null&&n.push(o)}}return n}function vue(t,e,n,r){return n&&(e=bd(e,n,r)),bp(t,e)}function gue(t,e,n){var r=t.defs,i=Ht(t.instances,function(o){var a=r[o.defId];return a.allDay||a.recurringDef?o:I(I({},o),{range:{start:n.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:n.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:o.forcedEndTzo})});return{defs:r,instances:i}}function Hq(t,e){return Ib(t,function(n){return n.sourceId!==e})}function yue(t,e){return{defs:t.defs,instances:Co(t.instances,function(n){return!e[n.instanceId]})}}function bue(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function _ue(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function wue(t,e){var n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Eue(t,e){var n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Sue(t,e,n,r,i){var o=[],a=t.headerToolbar?Vq(t.headerToolbar,t,e,n,r,i,o):null,l=t.footerToolbar?Vq(t.footerToolbar,t,e,n,r,i,o):null;return{headerToolbar:a,footerToolbar:l,viewsWithButtons:o}}function Vq(t,e,n,r,i,o,a){return Ht(t,function(l){return xue(l,e,n,r,i,o,a)})}function xue(t,e,n,r,i,o,a){var l=e.direction==="rtl",c=e.customButtons||{},d=n.buttonText||{},f=e.buttonText||{},p=t?t.split(" "):[];return p.map(function(m){return m.split(",").map(function(g){if(g==="title")return{buttonName:g};var y,_,w,S,C;return(y=c[g])?(w=function(R){y.click&&y.click.call(R.target,R,R.target)},(S=r.getCustomButtonIconClass(y))||(S=r.getIconClass(g,l))||(C=y.text)):(_=i[g])?(a.push(g),w=function(){o.changeView(g)},(C=_.buttonTextOverride)||(S=r.getIconClass(g,l))||(C=_.buttonTextDefault)):o[g]&&(w=function(){o[g]()},(C=d[g])||(S=r.getIconClass(g,l))||(C=f[g])),{buttonName:g,buttonClick:w,buttonIcon:S,buttonText:C}})})}var Tue={ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.events)?t.events:null},fetch:function(t,e){e({rawEvents:t.eventSource.meta})}},Cue=Nt({eventSourceDefs:[Tue]}),Iue={parseMeta:function(t){return typeof t.events=="function"?t.events:null},fetch:function(t,e,n){var r=t.context.dateEnv,i=t.eventSource.meta;bR(i.bind(null,mq(t.range,r)),function(o){e({rawEvents:o})},n)}},Rue=Nt({eventSourceDefs:[Iue]});function xR(t,e,n,r,i){t=t.toUpperCase();var o=null;t==="GET"?e=Aue(e,n):o=jq(n);var a=new XMLHttpRequest;a.open(t,e,!0),t!=="GET"&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var l=!1,c=void 0;try{c=JSON.parse(a.responseText),l=!0}catch(d){}l?r(c,a):i("Failure parsing JSON",a)}else i("Request failed",a)},a.onerror=function(){i("Request failed",a)},a.send(o)}function Aue(t,e){return t+(t.indexOf("?")===-1?"?":"&")+jq(e)}function jq(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var kue={method:String,extraParams:U,startParam:String,endParam:String,timeZoneParam:String},Due={parseMeta:function(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch:function(t,e,n){var r=t.eventSource.meta,i=Oue(r,t.range,t.context);xR(r.method,r.url,i,function(o,a){e({rawEvents:o,xhr:a})},function(o,a){n({message:o,xhr:a})})}},Nue=Nt({eventSourceRefiners:kue,eventSourceDefs:[Due]});function Oue(t,e,n){var r=n.dateEnv,i=n.options,o,a,l,c,d={};return o=t.startParam,o==null&&(o=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},I(d,c),d[o]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone),d}var Pue={daysOfWeek:U,startTime:_e,endTime:_e,duration:_e,startRecur:U,endRecur:U},Mue={parse:function(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){var n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r=void 0;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Ile(t.endTime,t.startTime)),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:r,typeData:n}}return null},expand:function(t,e,n){var r=Ao(e,{start:t.startRecur,end:t.endRecur});return r?Fue(t.daysOfWeek,t.startTime,r,n):[]}},Lue=Nt({recurringTypes:[Mue],eventRefiners:Pue});function Fue(t,e,n,r){for(var i=t?K3(t):null,o=ze(n.start),a=n.end,l=[];o<a;){var c=void 0;(!i||i[o.getUTCDay()])&&(e?c=r.add(o,e):c=o,l.push(c)),o=Zt(o,1)}return l}var Uue=Nt({optionChangeHandlers:{events:function(t,e){qq([t],e)},eventSources:qq}});function qq(t,e){for(var n=YI(e.getCurrentData().eventSources),r=[],i=0,o=t;i<o.length;i++){for(var a=o[i],l=!1,c=0;c<n.length;c+=1)if(n[c]._raw===a){n.splice(c,1),l=!0;break}l||r.push(a)}for(var d=0,f=n;d<f.length;d++){var p=f[d];e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p.sourceId})}for(var m=0,g=r;m<g.length;m++){var y=g[m];e.calendarApi.addEventSource(y)}}function Bue(t,e){e.emitter.trigger("datesSet",I(I({},mq(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Hue(t,e){var n=e.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",_a(t,e))}var Vue=[Cue,Rue,Nue,Lue,Uue,Nt({isLoadingFuncs:[function(t){return Pq(t.eventSources)}],contentTypeHandlers:{html:function(){return{render:jue}},domNodes:function(){return{render:que}}},propSetHandlers:{dateProfile:Bue,eventStore:Hue}})];function jue(t,e){t.innerHTML=e}function que(t,e){var n=Array.prototype.slice.call(t.childNodes),r=Array.prototype.slice.call(e);if(!Cr(n,r)){for(var i=0,o=r;i<o.length;i++){var a=o[i];t.appendChild(a)}n.forEach(ec)}}var lc=function(){function t(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return t.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},t.prototype.pause=function(e){e===void 0&&(e="");var n=this.pauseDepths;n[e]=(n[e]||0)+1,this.clearTimeout()},t.prototype.resume=function(e,n){e===void 0&&(e="");var r=this.pauseDepths;if(e in r){if(n)delete r[e];else{r[e]-=1;var i=r[e];i<=0&&delete r[e]}this.tryDrain()}},t.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},t.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},t.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},t.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},t.prototype.drained=function(){this.drainedOption&&this.drainedOption()},t}(),zue=function(){function t(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new lc(this.drain.bind(this))}return t.prototype.request=function(e,n){this.queue.push(e),this.delayedRunner.request(n)},t.prototype.pause=function(e){this.delayedRunner.pause(e)},t.prototype.resume=function(e,n){this.delayedRunner.resume(e,n)},t.prototype.drain=function(){for(var e=this.queue;e.length;){for(var n=[],r=void 0;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}},t.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},t.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},t}();function Wue(t,e,n){var r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,bt(e.titleFormat||Gue(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Gue(t){var e=t.currentRangeUnit;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};var n=yd(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var TR=function(){function t(e){var n=this;this.computeOptionsData=Q(this._computeOptionsData),this.computeCurrentViewData=Q(this._computeCurrentViewData),this.organizeRawLocales=Q(Ace),this.buildLocale=Q(wq),this.buildPluginHooks=Gce(),this.buildDateEnv=Q(Kue),this.buildTheme=Q($ue),this.parseToolbars=Q(Sue),this.buildViewSpecs=Q(Zce),this.buildDateProfileGenerator=fs(Yue),this.buildViewApi=Q(Xue),this.buildViewUiProps=fs(Zue),this.buildEventUiBySource=Q(Que,cn),this.buildEventUiBases=Q(Jue),this.parseContextBusinessHours=fs(ede),this.buildTitle=Q(Wue),this.emitter=new oc,this.actionRunner=new zue(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return n.data},this.dispatch=function(R){n.actionRunner.request(R)},this.props=e,this.actionRunner.pause();var r={},i=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),o=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(o,i,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var l=wce(i.calendarOptions,i.dateEnv),c=a.dateProfileGenerator.build(l);_i(c.activeRange,l)||(l=c.currentRange.start);for(var d={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=0,p=i.pluginHooks.contextInit;f<p.length;f++){var m=p[f];m(d)}for(var g=oue(i.calendarOptions,c,d),y={dynamicOptionOverrides:r,currentViewType:o,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(d),eventSources:g,eventUiBases:{},eventStore:Nn(),renderableEventStore:Nn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},_=I(I({},d),y),w=0,S=i.pluginHooks.reducers;w<S.length;w++){var C=S[w];I(y,C(null,null,_))}CR(y,d)&&this.emitter.trigger("loading",!0),this.state=y,this.updateData(),this.actionRunner.resume()}return t.prototype.resetOptions=function(e,n){var r=this.props;r.optionOverrides=n?I(I({},r.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},t.prototype._handleAction=function(e){var n=this,r=n.props,i=n.state,o=n.emitter,a=rue(i.dynamicOptionOverrides,e),l=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),c=nue(i.currentViewType,e),d=this.computeCurrentViewData(c,l,r.optionOverrides,a);r.calendarApi.currentDataManager=this,o.setThisContext(r.calendarApi),o.setOptions(d.options);var f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},p=i.currentDate,m=i.dateProfile;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(m=d.dateProfileGenerator.build(p)),p=_ce(p,e),m=iue(m,e,p,d.dateProfileGenerator),_i(m.currentRange,p)||(p=m.currentRange.start);for(var g=sue(i.eventSources,e,m,f),y=hue(i.eventStore,e,g,m,f),_=Pq(g),w=_&&!d.options.progressiveEventRendering&&i.renderableEventStore||y,S=this.buildViewUiProps(f),C=S.eventUiSingleBase,R=S.selectionConfig,k=this.buildEventUiBySource(g),F=this.buildEventUiBases(w.defs,C,k),L={dynamicOptionOverrides:a,currentViewType:c,currentDate:p,dateProfile:m,eventSources:g,eventStore:y,renderableEventStore:w,selectionConfig:R,eventUiBases:F,businessHours:this.parseContextBusinessHours(f),dateSelection:bue(i.dateSelection,e),eventSelection:_ue(i.eventSelection,e),eventDrag:wue(i.eventDrag,e),eventResize:Eue(i.eventResize,e)},W=I(I({},f),L),$=0,z=l.pluginHooks.reducers;$<z.length;$++){var ke=z[$];I(L,ke(i,e,W))}var M=CR(i,f),Tt=CR(L,f);!M&&Tt?o.trigger("loading",!0):M&&!Tt&&o.trigger("loading",!1),this.state=L,r.onAction&&r.onAction(e)},t.prototype.updateData=function(){var e=this,n=e.props,r=e.state,i=this.data,o=this.computeOptionsData(n.optionOverrides,r.dynamicOptionOverrides,n.calendarApi),a=this.computeCurrentViewData(r.currentViewType,o,n.optionOverrides,r.dynamicOptionOverrides),l=this.data=I(I(I({viewTitle:this.buildTitle(r.dateProfile,a.options,o.dateEnv),calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o),a),r),c=o.pluginHooks.optionChangeHandlers,d=i&&i.calendarOptions,f=o.calendarOptions;if(d&&d!==f){d.timeZone!==f.timeZone&&(r.eventSources=l.eventSources=aue(l.eventSources,r.dateProfile,l),r.eventStore=l.eventStore=gue(l.eventStore,i.dateEnv,l.dateEnv));for(var p in c)d[p]!==f[p]&&c[p](f[p],l)}n.onData&&n.onData(l)},t.prototype._computeOptionsData=function(e,n,r){var i=this.processRawCalendarOptions(e,n),o=i.refinedOptions,a=i.pluginHooks,l=i.localeDefaults,c=i.availableLocaleData,d=i.extra;zq(d);var f=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,a,c,o.defaultRangeSeparator),p=this.buildViewSpecs(a.views,e,n,l),m=this.buildTheme(o,a),g=this.parseToolbars(o,e,m,p,r);return{calendarOptions:o,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:m,toolbarConfig:g,localeDefaults:l,availableRawLocales:c.map}},t.prototype.processRawCalendarOptions=function(e,n){var r=tR([tc,e,n]),i=r.locales,o=r.locale,a=this.organizeRawLocales(i),l=a.map,c=this.buildLocale(o||a.defaultCode,l).options,d=this.buildPluginHooks(e.plugins||[],Vue),f=this.currentCalendarOptionsRefiners=I(I(I(I(I({},rq),iq),oq),d.listenerRefiners),d.optionRefiners),p={},m=tR([tc,c,e,n]),g={},y=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,w=!1;for(var S in m)S!=="plugins"&&(m[S]===y[S]||eR[S]&&S in y&&eR[S](y[S],m[S])?g[S]=_[S]:f[S]?(g[S]=f[S](m[S]),w=!0):p[S]=y[S]);return w&&(this.currentCalendarOptionsInput=m,this.currentCalendarOptionsRefined=g),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:a,localeDefaults:c,extra:p}},t.prototype._computeCurrentViewData=function(e,n,r,i){var o=n.viewSpecs[e];if(!o)throw new Error('viewType "'+e+`" is not available. Please make sure you've loaded all neccessary plugins`);var a=this.processRawViewOptions(o,n.pluginHooks,n.localeDefaults,r,i),l=a.refinedOptions,c=a.extra;zq(c);var d=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,monthMode:l.monthMode,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:o,options:l,dateProfileGenerator:d,viewApi:f}},t.prototype.processRawViewOptions=function(e,n,r,i,o){var a=tR([tc,e.optionDefaults,r,i,e.optionOverrides,o]),l=I(I(I(I(I(I({},rq),iq),oq),Wle),n.listenerRefiners),n.optionRefiners),c={},d=this.currentViewOptionsInput,f=this.currentViewOptionsRefined,p=!1,m={};for(var g in a)a[g]===d[g]?c[g]=f[g]:(a[g]===this.currentCalendarOptionsInput[g]?g in this.currentCalendarOptionsRefined&&(c[g]=this.currentCalendarOptionsRefined[g]):l[g]?c[g]=l[g](a[g]):m[g]=a[g],p=!0);return p&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}},t}();function Kue(t,e,n,r,i,o,a,l){var c=wq(e||a.defaultCode,a.map);return new Ice({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function $ue(t,e){var n=e.themeClasses[t.themeSystem]||Ea;return new n(t)}function Yue(t){var e=t.dateProfileGeneratorClass||ER;return new e(t)}function Xue(t,e,n){return new gce(t,e,n)}function Que(t){return Ht(t,function(e){return e.ui})}function Jue(t,e,n){var r={"":e};for(var i in t){var o=t[i];o.sourceId&&n[o.sourceId]&&(r[i]=n[o.sourceId])}return r}function Zue(t){var e=t.options;return{eventUiSingleBase:Sd({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Sd({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function CR(t,e){for(var n=0,r=e.pluginHooks.isLoadingFuncs;n<r.length;n++){var i=r[n];if(i(t))return!0}return!1}function ede(t){return lR(t.options.businessHours,t)}function zq(t,e){for(var n in t)console.warn("Unknown option '"+n+"'"+(e?" for view '"+e+"'":""))}var TCe=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;return r.handleData=function(i){r.dataManager?r.setState(i):r.state=i},r.dataManager=new TR({optionOverrides:n.optionOverrides,calendarApi:n.calendarApi,onData:r.handleData}),r}return e.prototype.render=function(){return this.props.children(this.state)},e.prototype.componentDidUpdate=function(n){var r=this.props.optionOverrides;r!==n.optionOverrides&&this.dataManager.resetOptions(r)},e}(db);var CCe=function(){function t(e){this.timeZoneName=e}return t}(),Id=function(){function t(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return t.prototype.addSegs=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.insertEntry({segInput:o,spanStart:o.spanStart,spanEnd:o.spanEnd,thickness:o.thickness},n)}return n},t.prototype.insertEntry=function(e,n){var r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)},t.prototype.isInsertionValid=function(e,n){return(this.maxCoord===-1||e.levelCoord+n.thickness<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)},t.prototype.handleInvalidInsertion=function(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)},t.prototype.splitEntry=function(e,n,r){var i=0,o=[];return e.spanStart<n.spanStart&&(i+=this.insertEntry(I(I({},e),{spanStart:e.spanStart,spanEnd:n.spanStart}),o)),n.spanEnd<e.spanEnd&&(i+=this.insertEntry(I(I({},e),{spanStart:n.spanEnd,spanEnd:e.spanEnd}),o)),i?(r.push.apply(r,Oe([I(I({},e),{spanStart:Math.max(n.spanStart,e.spanStart),spanEnd:Math.min(n.spanEnd,e.spanEnd)})],o)),i):(r.push(e),0)},t.prototype.insertEntryAt=function(e,n){var r=n.nextLevel;!r||this.levelCoords[r-1]<n.levelCoord?(RR(this.levelCoords,r,n.levelCoord),RR(this.entriesByLevel,r,[e])):RR(this.entriesByLevel[r-1],n.lateralEnd,e),this.stackCnts[hs(e)]=n.stackCnt},t.prototype.findInsertion=function(e){var n=this,r=n.levelCoords,i=n.entriesByLevel,o=n.stackCnts,a=n.strictOrder,l=r.length,c,d,f=0,p=0,m=0,g=null;for(c=0;c<l&&(d=r[c],!(!a&&d>=m+e.thickness));c+=1){var y=i[c],_=void 0,w=AR(y,e.spanStart,IR);for(f=w[0]+w[1],p=f;(_=y[p])&&_.spanStart<e.spanEnd;)(a||m<d+_.thickness&&m+e.thickness>d)&&(g=_,m=d+_.thickness),p+=1}return{levelCoord:m,nextLevel:c,lateralStart:f,lateralEnd:p,touchingEntry:g,stackCnt:g?o[hs(g)]+1:0}},t.prototype.toRects=function(){for(var e=this,n=e.entriesByLevel,r=e.levelCoords,i=n.length,o=[],a=0;a<i;a+=1)for(var l=n[a],c=r[a],d=0,f=l;d<f.length;d++){var p=f[d];o.push(I(I({},p),{levelCoord:c}))}return o},t}();function IR(t){return t.spanEnd}function hs(t){return t.segInput.index+":"+t.spanStart}function Vb(t){for(var e=[],n=0,r=t;n<r.length;n++){for(var i=r[n],o=[],a={spanStart:i.spanStart,spanEnd:i.spanEnd,entries:[i]},l=0,c=e;l<c.length;l++){var d=c[l];d.spanStart<a.spanEnd&&d.spanEnd>a.spanStart?a={spanStart:Math.min(d.spanStart,a.spanStart),spanEnd:Math.max(d.spanEnd,a.spanEnd),entries:d.entries.concat(a.entries)}:o.push(d)}o.push(a),e=o}return e}function RR(t,e,n){t.splice(e,0,n)}function AR(t,e,n){var r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){var o=Math.floor(r+(i-r)/2),a=n(t[o]);if(e<a)i=o;else if(e>a)r=o+1;else return[o,1]}return[r,0]}var cc=function(){function t(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return t.prototype.destroy=function(){},t}();function tde(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function jb(t){var e;return e={},e[t.component.uid]=t,e}var Ap={},kR=function(){function t(e,n){this.emitter=new oc}return t.prototype.destroy=function(){},t.prototype.setMirrorIsVisible=function(e){},t.prototype.setMirrorNeedsRevert=function(e){},t.prototype.setAutoScrollEnabled=function(e){},t}(),zn={},nde={startTime:_e,duration:_e,create:Boolean,sourceId:String};function qb(t){var e=nc(t,nde),n=e.refined,r=e.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:n.create!=null?n.create:!0,sourceId:n.sourceId,leftoverProps:r}}var rde=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=this.props.widgetGroups.map(function(i){return n.renderWidgetGroup(i)});return x.apply(void 0,Oe(["div",{className:"fc-toolbar-chunk"}],r))},e.prototype.renderWidgetGroup=function(n){for(var r=this.props,i=this.context.theme,o=[],a=!0,l=0,c=n;l<c.length;l++){var d=c[l],f=d.buttonName,p=d.buttonClick,m=d.buttonText,g=d.buttonIcon;if(f==="title")a=!1,o.push(x("h2",{className:"fc-toolbar-title"},r.title));else{var y=g?{"aria-label":f}:{},_=["fc-"+f+"-button",i.getClass("button")];f===r.activeButton&&_.push(i.getClass("buttonActive"));var w=!r.isTodayEnabled&&f==="today"||!r.isPrevEnabled&&f==="prev"||!r.isNextEnabled&&f==="next";o.push(x("button",I({disabled:w,className:_.join(" "),onClick:p,type:"button"},y),m||(g?x("span",{className:g}):"")))}}if(o.length>1){var S=a&&i.getClass("buttonGroup")||"";return x.apply(void 0,Oe(["div",{className:S}],o))}return o[0]},e}(te),Wq=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.model,i=n.extraClassName,o=!1,a,l,c=r.center;r.left?(o=!0,a=r.left):a=r.start,r.right?(o=!0,l=r.right):l=r.end;var d=[i||"","fc-toolbar",o?"fc-toolbar-ltr":""];return x("div",{className:d.join(" ")},this.renderSection("start",a||[]),this.renderSection("center",c||[]),this.renderSection("end",l||[]))},e.prototype.renderSection=function(n,r){var i=this.props;return x(rde,{key:n,widgetGroups:r,title:i.title,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled})},e}(te),ide=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={availableWidth:null},n.handleEl=function(r){n.el=r,Vt(n.props.elRef,r),n.updateAvailableWidth()},n.handleResize=function(){n.updateAvailableWidth()},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=r.aspectRatio,a=["fc-view-harness",o||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",c="";return o?i.availableWidth!==null?l=i.availableWidth/o:c=1/o*100+"%":l=r.height||"",x("div",{ref:this.handleEl,onClick:r.onClick,className:a.join(" "),style:{height:l,paddingBottom:c}},r.children)},e.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},e.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},e}(te),ode=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;return r.handleSegClick=function(i,o){var a=r.component,l=a.context,c=ic(o);if(c&&a.isValidSegDownEl(i.target)){var d=Jt(i.target,".fc-event-forced-url"),f=d?d.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:o,event:new tt(a.context,c.eventRange.def,c.eventRange.instance),jsEvent:i,view:l.viewApi}),f&&!i.defaultPrevented&&(window.location.href=f)}},r.destroy=P3(n.el,"click",".fc-event",r.handleSegClick),r}return e}(cc),sde=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;return r.handleEventElRemove=function(i){i===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(i,o){ic(o)&&(r.currentSegEl=o,r.triggerEvent("eventMouseEnter",i,o))},r.handleSegLeave=function(i,o){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",i,o))},r.removeHoverListeners=lle(n.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return e.prototype.destroy=function(){this.removeHoverListeners()},e.prototype.triggerEvent=function(n,r,i){var o=this.component,a=o.context,l=ic(i);(!r||o.isValidSegDownEl(r.target))&&a.emitter.trigger(n,{el:i,event:new tt(a,l.eventRange.def,l.eventRange.instance),jsEvent:r,view:a.viewApi})},e}(cc),Gq=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildViewContext=Q(jce),n.buildViewPropTransformers=Q(lde),n.buildToolbarProps=Q(ade),n.handleNavLinkClick=O3("a[data-navlink]",n._handleNavLinkClick.bind(n)),n.headerRef=Ce(),n.footerRef=Ce(),n.interactionsStore={},n.registerInteractiveComponent=function(r,i){var o=tde(r,i),a=[ode,sde],l=a.concat(n.props.pluginHooks.componentInteractions),c=l.map(function(d){return new d(o)});n.interactionsStore[r.uid]=c,Ap[r.uid]=o},n.unregisterInteractiveComponent=function(r){for(var i=0,o=n.interactionsStore[r.uid];i<o.length;i++){var a=o[i];a.destroy()}delete n.interactionsStore[r.uid],delete Ap[r.uid]},n.resizeRunner=new lc(function(){n.props.emitter.trigger("_resize",!0),n.props.emitter.trigger("windowResize",{view:n.props.viewApi})}),n.handleWindowResize=function(r){var i=n.props.options;i.handleWindowResize&&r.target===window&&n.resizeRunner.request(i.windowResizeDelay)},n}return e.prototype.render=function(){var n=this.props,r=n.toolbarConfig,i=n.options,o=this.buildToolbarProps(n.viewSpec,n.dateProfile,n.dateProfileGenerator,n.currentDate,xp(n.options.now,n.dateEnv),n.viewTitle),a=!1,l="",c;n.isHeightAuto||n.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:c=Math.max(i.aspectRatio,.5);var d=this.buildViewContext(n.viewSpec,n.viewApi,n.options,n.dateProfileGenerator,n.dateEnv,n.theme,n.pluginHooks,n.dispatch,n.getCurrentData,n.emitter,n.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return x(Ei.Provider,{value:d},r.headerToolbar&&x(Wq,I({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.headerToolbar},o)),x(ide,{liquid:a,height:l,aspectRatio:c,onClick:this.handleNavLinkClick},this.renderView(n),this.buildAppendContent()),r.footerToolbar&&x(Wq,I({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footerToolbar},o)))},e.prototype.componentDidMount=function(){var n=this.props;this.calendarInteractions=n.pluginHooks.calendarInteractions.map(function(o){return new o(n)}),window.addEventListener("resize",this.handleWindowResize);var r=n.pluginHooks.propSetHandlers;for(var i in r)r[i](n[i],n)},e.prototype.componentDidUpdate=function(n){var r=this.props,i=r.pluginHooks.propSetHandlers;for(var o in i)r[o]!==n[o]&&i[o](r[o],r)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var n=0,r=this.calendarInteractions;n<r.length;n++){var i=r[n];i.destroy()}this.props.emitter.trigger("_unmount")},e.prototype._handleNavLinkClick=function(n,r){var i=this.props,o=i.dateEnv,a=i.options,l=i.calendarApi,c=r.getAttribute("data-navlink");c=c?JSON.parse(c):{};var d=o.createMarker(c.date),f=c.type,p=f==="day"?a.navLinkDayClick:f==="week"?a.navLinkWeekClick:null;typeof p=="function"?p.call(l,o.toDate(d),n):(typeof p=="string"&&(f=p),l.zoomTo(d,f))},e.prototype.buildAppendContent=function(){var n=this.props,r=n.pluginHooks.viewContainerAppends.map(function(i){return i(n)});return x.apply(void 0,Oe([ye,{}],r))},e.prototype.renderView=function(n){for(var r=n.pluginHooks,i=n.viewSpec,o={dateProfile:n.dateProfile,businessHours:n.businessHours,eventStore:n.renderableEventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,isHeightAuto:n.isHeightAuto,forPrint:n.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers),l=0,c=a;l<c.length;l++){var d=c[l];I(o,d.transform(o,n))}var f=i.component;return x(f,I({},o))},e}(Hb);function ade(t,e,n,r,i,o){var a=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),c=n.buildNext(e,r,!1);return{title:o,activeButton:t.type,isTodayEnabled:a.isValid&&!_i(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function lde(t){return t.map(function(e){return new e})}var Kq=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={forPrint:!1},n.handleBeforePrint=function(){n.setState({forPrint:!0})},n.handleAfterPrint=function(){n.setState({forPrint:!1})},n}return e.prototype.render=function(){var n=this.props,r=n.options,i=this.state.forPrint,o=i||r.height==="auto"||r.contentHeight==="auto",a=!o&&r.height!=null?r.height:"",l=["fc",i?"fc-media-print":"fc-media-screen","fc-direction-"+r.direction,n.theme.getClass("root")];return Lb()||l.push("fc-liquid-hack"),n.children(l,a,o,i)},e.prototype.componentDidMount=function(){var n=this.props.emitter;n.on("_beforeprint",this.handleBeforePrint),n.on("_afterprint",this.handleAfterPrint)},e.prototype.componentWillUnmount=function(){var n=this.props.emitter;n.off("_beforeprint",this.handleBeforePrint),n.off("_afterprint",this.handleAfterPrint)},e}(te);function DR(t,e){return!t||e>10?bt({weekday:"short"}):e>1?bt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):bt({weekday:"long"})}var $q="fc-col-header-cell";function Yq(t){return t.text}var NR=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.context,r=n.dateEnv,i=n.options,o=n.theme,a=n.viewApi,l=this.props,c=l.date,d=l.dateProfile,f=Cp(c,l.todayRange,null,d),p=[$q].concat(Cd(f,o)),m=r.format(c,l.dayHeaderFormat),g=i.navLinks&&!f.isDisabled&&l.colCnt>1?{"data-navlink":wa(c),tabIndex:0}:{},y=I(I(I({date:r.toDate(c),view:a},l.extraHookProps),{text:m}),f);return x(jt,{hookProps:y,classNames:i.dayHeaderClassNames,content:i.dayHeaderContent,defaultContent:Yq,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},function(_,w,S,C){return x("th",I({ref:_,className:p.concat(w).join(" "),"data-date":f.isDisabled?void 0:yp(c),colSpan:l.colSpan},l.extraDataAttrs),x("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&x("a",I({ref:S,className:["fc-col-header-cell-cushion",l.isSticky?"fc-sticky":""].join(" ")},g),C)))})},e}(te),OR=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context,i=r.dateEnv,o=r.theme,a=r.viewApi,l=r.options,c=Zt(new Date(2592e5),n.dow),d={dow:n.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=[$q].concat(Cd(d,o),n.extraClassNames||[]),p=i.format(c,n.dayHeaderFormat),m=I(I(I(I({date:c},d),{view:a}),n.extraHookProps),{text:p});return x(jt,{hookProps:m,classNames:l.dayHeaderClassNames,content:l.dayHeaderContent,defaultContent:Yq,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},function(g,y,_,w){return x("th",I({ref:g,className:f.concat(y).join(" "),colSpan:n.colSpan},n.extraDataAttrs),x("div",{className:"fc-scrollgrid-sync-inner"},x("a",{className:["fc-col-header-cell-cushion",n.isSticky?"fc-sticky":""].join(" "),ref:_},w)))})},e}(te),$r=function(t){N(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.initialNowDate=xp(r.options.now,r.dateEnv),i.initialNowQueriedMs=new Date().valueOf(),i.state=i.computeTiming().currentState,i}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return r.children(i.nowDate,i.todayRange)},e.prototype.componentDidMount=function(){this.setTimeout()},e.prototype.componentDidUpdate=function(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},e.prototype.componentWillUnmount=function(){this.clearTimeout()},e.prototype.computeTiming=function(){var n=this,r=n.props,i=n.context,o=ds(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),a=i.dateEnv.startOf(o,r.unit),l=i.dateEnv.add(a,_e(1,r.unit)),c=l.valueOf()-o.valueOf();return c=Math.min(1e3*60*60*24,c),{currentState:{nowDate:a,todayRange:Xq(a)},nextState:{nowDate:l,todayRange:Xq(l)},waitMs:c}},e.prototype.setTimeout=function(){var n=this,r=this.computeTiming(),i=r.nextState,o=r.waitMs;this.timeoutId=setTimeout(function(){n.setState(i,function(){n.setTimeout()})},o)},e.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.contextType=Ei,e}(db);function Xq(t){var e=ze(t),n=Zt(e,1);return{start:e,end:n}}var zb=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.createDayHeaderFormatter=Q(cde),n}return e.prototype.render=function(){var n=this.context,r=this.props,i=r.dates,o=r.dateProfile,a=r.datesRepDistinctDays,l=r.renderIntro,c=this.createDayHeaderFormatter(n.options.dayHeaderFormat,a,i.length);return x($r,{unit:"day"},function(d,f){return x("tr",null,l&&l("day"),i.map(function(p){return a?x(NR,{key:p.toISOString(),date:p,dateProfile:o,todayRange:f,colCnt:i.length,dayHeaderFormat:c}):x(OR,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:c})}))})},e}(te);function cde(t,e,n){return t||DR(e,n)}var Wb=function(){function t(e,n){for(var r=e.start,i=e.end,o=[],a=[],l=-1;r<i;)n.isHiddenDay(r)?o.push(l+.5):(l+=1,o.push(l),a.push(r)),r=Zt(r,1);this.dates=a,this.indices=o,this.cnt=a.length}return t.prototype.sliceRange=function(e){var n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Zt(e.end,-1)),i=Math.max(0,n),o=Math.min(this.cnt-1,r);return i=Math.ceil(i),o=Math.floor(o),i<=o?{firstIndex:i,lastIndex:o,isStart:n===i,isEnd:r===o}:null},t.prototype.getDateDayIndex=function(e){var n=this.indices,r=Math.floor(va(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]},t}(),Gb=function(){function t(e,n){var r=e.dates,i,o,a;if(n){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return t.prototype.buildCells=function(){for(var e=[],n=0;n<this.rowCnt;n+=1){for(var r=[],i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e},t.prototype.buildCell=function(e,n){var r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}},t.prototype.buildHeaderDates=function(){for(var e=[],n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e},t.prototype.sliceRange=function(e){var n=this.colCnt,r=this.daySeries.sliceRange(e),i=[];if(r)for(var o=r.firstIndex,a=r.lastIndex,l=o;l<=a;){var c=Math.floor(l/n),d=Math.min((c+1)*n,a+1);i.push({row:c,firstCol:l%n,lastCol:(d-1)%n,isStart:r.isStart&&l===o,isEnd:r.isEnd&&d-1===a}),l=d}return i},t}(),Rd=function(){function t(){this.sliceBusinessHours=Q(this._sliceBusinessHours),this.sliceDateSelection=Q(this._sliceDateSpan),this.sliceEventStore=Q(this._sliceEventStore),this.sliceEventDrag=Q(this._sliceInteraction),this.sliceEventResize=Q(this._sliceInteraction),this.forceDayIfListItem=!1}return t.prototype.sliceProps=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var l=e.eventUiBases,c=this.sliceEventStore.apply(this,Oe([e.eventStore,l,n,r],o));return{dateSelectionSegs:this.sliceDateSelection.apply(this,Oe([e.dateSelection,l,i],o)),businessHourSegs:this.sliceBusinessHours.apply(this,Oe([e.businessHours,n,r,i],o)),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag.apply(this,Oe([e.eventDrag,l,n,r],o)),eventResize:this.sliceEventResize.apply(this,Oe([e.eventResize,l,n,r],o)),eventSelection:e.eventSelection}},t.prototype.sliceNowDate=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this._sliceDateSpan.apply(this,Oe([{range:{start:e,end:ds(e,1)},allDay:!1},{},n],r))},t.prototype._sliceBusinessHours=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,Oe([bd(e,PR(n,Boolean(r)),i),{},n,r],o)).bg:[]},t.prototype._sliceEventStore=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(e){var l=uq(e,n,PR(r,Boolean(i)),i);return{bg:this.sliceEventRanges(l.bg,o),fg:this.sliceEventRanges(l.fg,o)}}return{bg:[],fg:[]}},t.prototype._sliceInteraction=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(!e)return null;var l=uq(e.mutatedEvents,n,PR(r,Boolean(i)),i);return{segs:this.sliceEventRanges(l.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},t.prototype._sliceDateSpan=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];if(!e)return[];for(var a=hce(e,n,r),l=this.sliceRange.apply(this,Oe([e.range],i)),c=0,d=l;c<d.length;c++){var f=d[c];f.eventRange=a}return l},t.prototype.sliceEventRanges=function(e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];r.push.apply(r,this.sliceEventRange(a,n))}return r},t.prototype.sliceEventRange=function(e,n){var r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Zt(r.start,1)});for(var i=this.sliceRange.apply(this,Oe([r],n)),o=0,a=i;o<a.length;o++){var l=a[o];l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd}return i},t}();function PR(t,e){var n=t.activeRange;return e?n:{start:ds(n.start,t.slotMinTime.milliseconds),end:ds(n.end,t.slotMaxTime.milliseconds-864e5)}}function Kb(t,e,n){var r=t.mutatedEvents.instances;for(var i in r)if(!Sp(e.validRange,r[i].range))return!1;return Jq({eventDrag:t},n)}function Qq(t,e,n){return Sp(e.validRange,t.range)?Jq({dateSelection:t},n):!1}function Jq(t,e){var n=e.getCurrentData(),r=I({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||MR)(r,e)}function MR(t,e,n,r){return n===void 0&&(n={}),!(t.eventDrag&&!ude(t,e,n,r)||t.dateSelection&&!dde(t,e,n,r))}function ude(t,e,n,r){var i=e.getCurrentData(),o=t.eventDrag,a=o.mutatedEvents,l=a.defs,c=a.instances,d=Ob(l,o.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=Ht(d,r));var f=yue(t.eventStore,o.affectedEvents.instances),p=f.defs,m=f.instances,g=Ob(p,t.eventUiBases);for(var y in c){var _=c[y],w=_.range,S=d[_.defId],C=l[_.defId];if(!Zq(S.constraints,w,f,t.businessHours,e))return!1;var R=e.options.eventOverlap,k=typeof R=="function"?R:null;for(var F in m){var L=m[F];if(Ep(w,L.range)){var W=g[L.defId].overlap;if(W===!1&&o.isEvent||S.overlap===!1||k&&!k(new tt(e,p[L.defId],L),new tt(e,C,_)))return!1}}for(var $=i.eventStore,z=0,ke=S.allows;z<ke.length;z++){var M=ke[z],Tt=I(I({},n),{range:_.range,allDay:C.allDay}),lt=$.defs[C.defId],Yr=$.instances[y],cr=void 0;if(lt?cr=new tt(e,lt,Yr):cr=new tt(e,C),!M(sR(Tt,e),cr))return!1}}return!0}function dde(t,e,n,r){var i=t.eventStore,o=i.defs,a=i.instances,l=t.dateSelection,c=l.range,d=e.getCurrentData().selectionConfig;if(r&&(d=r(d)),!Zq(d.constraints,c,i,t.businessHours,e))return!1;var f=e.options.selectOverlap,p=typeof f=="function"?f:null;for(var m in a){var g=a[m];if(Ep(c,g.range)&&(d.overlap===!1||p&&!p(new tt(e,o[g.defId],g),null)))return!1}for(var y=0,_=d.allows;y<_.length;y++){var w=_[y],S=I(I({},n),l);if(!w(sR(S,e),null))return!1}return!0}function Zq(t,e,n,r,i){for(var o=0,a=t;o<a.length;o++){var l=a[o];if(!hde(fde(l,e,n,r,i),e))return!1}return!0}function fde(t,e,n,r,i){return t==="businessHours"?LR(bd(r,e,i)):typeof t=="string"?LR(Ib(n,function(o){return o.groupId===t})):typeof t=="object"&&t?LR(bd(t,e,i)):[]}function LR(t){var e=t.instances,n=[];for(var r in e)n.push(e[r].range);return n}function hde(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(Sp(i,e))return!0}return!1}var $b=/^(visible|hidden)$/,FR=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleEl=function(r){n.el=r,Vt(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this.props,r=n.liquid,i=n.liquidIsAbsolute,o=r&&i,a=["fc-scroller"];return r&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),x("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:n.overflowX,overflowY:n.overflowY,left:o&&-(n.overcomeLeft||0)||"",right:o&&-(n.overcomeRight||0)||"",bottom:o&&-(n.overcomeBottom||0)||"",marginLeft:!o&&-(n.overcomeLeft||0)||"",marginRight:!o&&-(n.overcomeRight||0)||"",marginBottom:!o&&-(n.overcomeBottom||0)||"",maxHeight:n.maxHeight||""}},n.children)},e.prototype.needsXScrolling=function(){if($b.test(this.props.overflowX))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),i=n.children,o=0;o<i.length;o+=1){var a=i[o];if(a.getBoundingClientRect().width>r)return!0}return!1},e.prototype.needsYScrolling=function(){if($b.test(this.props.overflowY))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),i=n.children,o=0;o<i.length;o+=1){var a=i[o];if(a.getBoundingClientRect().height>r)return!0}return!1},e.prototype.getXScrollbarWidth=function(){return $b.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},e.prototype.getYScrollbarWidth=function(){return $b.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},e}(te),Ot=function(){function t(e){var n=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(r,i){var o=n,a=o.depths,l=o.currentMap,c=!1,d=!1;r!==null?(c=i in l,l[i]=r,a[i]=(a[i]||0)+1,d=!0):(a[i]-=1,a[i]||(delete l[i],delete n.callbackMap[i],c=!0)),n.masterCallback&&(c&&n.masterCallback(null,String(i)),d&&n.masterCallback(r,String(i)))}}return t.prototype.createRef=function(e){var n=this,r=this.callbackMap[e];return r||(r=this.callbackMap[e]=function(i){n.handleValue(i,String(e))}),r},t.prototype.collect=function(e,n,r){return XI(this.currentMap,e,n,r)},t.prototype.getAll=function(){return YI(this.currentMap)},t}();function UR(t){for(var e=cs(t,".fc-scrollgrid-shrink"),n=0,r=0,i=e;r<i.length;r++){var o=i[r];n=Math.max(n,ule(o))}return Math.ceil(n)}function Yb(t,e){return t.liquid&&e.liquid}function BR(t,e){return e.maxHeight!=null||Yb(t,e)}function HR(t,e,n){var r=n.expandRows,i=typeof e.content=="function"?e.content(n):x("table",{className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,x("tbody",{},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent));return i}function VR(t,e){return Cr(t,e,cn)}function jR(t,e){for(var n=[],r=0,i=t;r<i.length;r++)for(var o=i[r],a=o.span||1,l=0;l<a;l+=1)n.push(x("col",{style:{width:o.width==="shrink"?qR(e):o.width||"",minWidth:o.minWidth||""}}));return x.apply(void 0,Oe(["colgroup",{}],n))}function qR(t){return t??4}function zR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.width==="shrink")return!0}return!1}function WR(t,e){var n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function GR(t,e){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+t.type,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function ko(t){return x("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Do(t){var e=t.stickyHeaderDates;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function xa(t){var e=t.stickyFooterScrollbar;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var kp=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processCols=Q(function(r){return r},VR),n.renderMicroColGroup=Q(jR),n.scrollerRefs=new Ot,n.scrollerElRefs=new Ot(n._handleScrollerEl.bind(n)),n.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},n.handleSizing=function(){n.setState(I({shrinkWidth:n.computeShrinkWidth()},n.computeScrollerDims()))},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=r.sections||[],l=this.processCols(r.cols),c=this.renderMicroColGroup(l,i.shrinkWidth),d=WR(r.liquid,o);r.collapsibleWidth&&d.push("fc-scrollgrid-collapsible");for(var f=a.length,p=0,m,g=[],y=[],_=[];p<f&&(m=a[p]).type==="header";)g.push(this.renderSection(m,c)),p+=1;for(;p<f&&(m=a[p]).type==="body";)y.push(this.renderSection(m,c)),p+=1;for(;p<f&&(m=a[p]).type==="footer";)_.push(this.renderSection(m,c)),p+=1;var w=!Lb();return x("table",{className:d.join(" "),style:{height:r.height}},Boolean(!w&&g.length)&&x.apply(void 0,Oe(["thead",{}],g)),Boolean(!w&&y.length)&&x.apply(void 0,Oe(["tbody",{}],y)),Boolean(!w&&_.length)&&x.apply(void 0,Oe(["tfoot",{}],_)),w&&x.apply(void 0,Oe(["tbody",{}],g,y,_)))},e.prototype.renderSection=function(n,r){return"outerContent"in n?x(ye,{key:n.key},n.outerContent):x("tr",{key:n.key,className:GR(n,this.props.liquid).join(" ")},this.renderChunkTd(n,r,n.chunk))},e.prototype.renderChunkTd=function(n,r,i){if("outerContent"in i)return i.outerContent;var o=this.props,a=this.state,l=a.forceYScrollbars,c=a.scrollerClientWidths,d=a.scrollerClientHeights,f=BR(o,n),p=Yb(o,n),m=o.liquid?l?"scroll":f?"auto":"hidden":"visible",g=n.key,y=HR(n,i,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&c[g]!==void 0?c[g]:null,clientHeight:d[g]!==void 0?d[g]:null,expandRows:n.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}});return x("td",{ref:i.elRef},x("div",{className:"fc-scroller-harness"+(p?" fc-scroller-harness-liquid":"")},x(FR,{ref:this.scrollerRefs.createRef(g),elRef:this.scrollerElRefs.createRef(g),overflowY:m,overflowX:o.liquid?"hidden":"visible",maxHeight:n.maxHeight,liquid:p,liquidIsAbsolute:!0},y)))},e.prototype._handleScrollerEl=function(n,r){var i=pde(this.props.sections,r);i&&Vt(i.chunk.scrollerElRef,n)},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(){this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.computeShrinkWidth=function(){return zR(this.props.cols)?UR(this.scrollerElRefs.getAll()):0},e.prototype.computeScrollerDims=function(){var n=vR(),r=this,i=r.scrollerRefs,o=r.scrollerElRefs,a=!1,l={},c={};for(var d in i.currentMap){var f=i.currentMap[d];if(f&&f.needsYScrolling()){a=!0;break}}for(var p=0,m=this.props.sections;p<m.length;p++){var g=m[p],d=g.key,y=o.currentMap[d];if(y){var _=y.parentNode;l[d]=Math.floor(_.getBoundingClientRect().width-(a?n.y:0)),c[d]=Math.floor(_.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:c}},e}(te);kp.addStateEquality({scrollerClientWidths:cn,scrollerClientHeights:cn});function pde(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.key===e)return i}return null}var Xb=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.elRef=Ce(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=r.seg,l=a.eventRange,c=l.ui,d={event:new tt(i,l.def,l.instance),view:i.viewApi,timeText:r.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!r.disableDragging&&ice(a,i),isStartResizable:!r.disableResizing&&oce(a,i),isEndResizable:!r.disableResizing&&sce(a),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)},f=ace(d).concat(c.classNames);return x(jt,{hookProps:d,classNames:o.eventClassNames,content:o.eventContent,defaultContent:r.defaultContent,didMount:o.eventDidMount,willUnmount:o.eventWillUnmount,elRef:this.elRef},function(p,m,g,y){return r.children(p,f.concat(m),g,y,d)})},e.prototype.componentDidMount=function(){fq(this.elRef.current,this.props.seg)},e.prototype.componentDidUpdate=function(n){var r=this.props.seg;r!==n.seg&&fq(this.elRef.current,r)},e}(te),Ad=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.seg,a=i.options.eventTimeFormat||r.defaultTimeFormat,l=iR(o,a,i,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return x(Xb,{seg:o,timeText:l,disableDragging:r.disableDragging,disableResizing:r.disableResizing,defaultContent:r.defaultContent||mde,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(c,d,f,p,m){return x("a",I({className:r.extraClassNames.concat(d).join(" "),style:{borderColor:m.borderColor,backgroundColor:m.backgroundColor},ref:c},vde(o)),x("div",{className:"fc-event-main",ref:f,style:{color:m.textColor}},p),m.isStartResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-start"}),m.isEndResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},e}(te);function mde(t){return x("div",{className:"fc-event-main-frame"},t.timeText&&x("div",{className:"fc-event-time"},t.timeText),x("div",{className:"fc-event-title-container"},x("div",{className:"fc-event-title fc-sticky"},t.event.title||x(ye,null,"\xA0"))))}function vde(t){var e=t.eventRange.def.url;return e?{href:e}:{}}var ps=function(t){return x(Ei.Consumer,null,function(e){var n=e.options,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return x(jt,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)})},gde=bt({day:"numeric"}),Dp=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=ez({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv});return x(sc,{hookProps:a,content:o.dayCellContent,defaultContent:r.defaultContent},r.children)},e}(te);function ez(t){var e=t.date,n=t.dateEnv,r=Cp(e,t.todayRange,null,t.dateProfile);return I(I(I({date:n.toDate(e),view:t.viewApi},r),{dayNumberText:t.showDayNumber?n.format(e,gde):""}),t.extraProps)}var Np=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=fs(ez),n.normalizeClassNames=ac(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=this.refineHookProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv}),l=Cd(a,i.theme).concat(a.isDisabled?[]:this.normalizeClassNames(o.dayCellClassNames,a)),c=a.isDisabled?{}:{"data-date":yp(r.date)};return x(Sa,{hookProps:a,didMount:o.dayCellDidMount,willUnmount:o.dayCellWillUnmount,elRef:r.elRef},function(d){return r.children(d,l,c,a.isDisabled)})},e}(te);function kd(t){return x("div",{className:"fc-"+t})}var Dd=function(t){return x(Xb,{defaultContent:yde,seg:t.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},function(e,n,r,i,o){return x("div",{ref:e,className:["fc-bg-event"].concat(n).join(" "),style:{backgroundColor:o.backgroundColor}},i)})};function yde(t){var e=t.event.title;return e&&x("div",{className:"fc-event-title"},t.event.title)}var Qb=function(t){return x(Ei.Consumer,null,function(e){var n=e.dateEnv,r=e.options,i=t.date,o=r.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(i),l=n.format(i,o),c={num:a,text:l,date:i};return x(jt,{hookProps:c,classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:bde,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)})};function bde(t){return t.text}var KR=10,_de=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&Vt(n.props.elRef,r)},n.handleDocumentMousedown=function(r){var i=ale(r);n.rootEl.contains(i)||n.handleCloseClick()},n.handleCloseClick=function(){var r=n.props.onClose;r&&r()},n}return e.prototype.render=function(){var n=this.context.theme,r=this.props,i=["fc-popover",n.getClass("popover")].concat(r.extraClassNames||[]);return k3(x("div",I({className:i.join(" ")},r.extraAttrs,{ref:this.handleRootEl}),x("div",{className:"fc-popover-header "+n.getClass("popoverHeader")},x("span",{className:"fc-popover-title"},r.title),x("span",{className:"fc-popover-close "+n.getIconClass("close"),onClick:this.handleCloseClick})),x("div",{className:"fc-popover-body "+n.getClass("popoverContent")},r.children)),r.parentEl)},e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),this.updateSize()},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown)},e.prototype.updateSize=function(){var n=this.context.isRtl,r=this.props,i=r.alignmentEl,o=r.alignGridTop,a=this.rootEl,l=Uce(i);if(l){var c=a.getBoundingClientRect(),d=o?Jt(i,".fc-scrollgrid").getBoundingClientRect().top:l.top,f=n?l.right-c.width:l.left;d=Math.max(d,KR),f=Math.min(f,document.documentElement.clientWidth-KR-c.width),f=Math.max(f,KR);var p=a.offsetParent.getBoundingClientRect();us(a,{top:d-p.top,left:f-p.left})}},e}(te),wde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,useEventCenter:!1}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this.context,r=n.options,i=n.dateEnv,o=this.props,a=o.startDate,l=o.todayRange,c=o.dateProfile,d=i.format(a,r.dayPopoverFormat);return x(Np,{date:a,dateProfile:c,todayRange:l,elRef:this.handleRootEl},function(f,p,m){return x(_de,{elRef:f,title:d,extraClassNames:["fc-more-popover"].concat(p),extraAttrs:m,parentEl:o.parentEl,alignmentEl:o.alignmentEl,alignGridTop:o.alignGridTop,onClose:o.onClose},x(Dp,{date:a,dateProfile:c,todayRange:l},function(g,y){return y&&x("div",{className:"fc-more-popover-misc",ref:g},y)}),o.children)})},e.prototype.queryHit=function(n,r,i,o){var a=this,l=a.rootEl,c=a.props;return n>=0&&n<i&&r>=0&&r<o?{dateProfile:c.dateProfile,dateSpan:I({allDay:!0,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:i,bottom:o},layer:1}:null},e}(qn),Nd=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.linkElRef=Ce(),n.state={isPopoverOpen:!1},n.handleClick=function(r){var i=n,o=i.props,a=i.context,l=a.options.moreLinkClick,c=tz(o).start;function d(f){var p=f.eventRange,m=p.def,g=p.instance,y=p.range;return{event:new tt(a,m,g),start:a.dateEnv.toDate(y.start),end:a.dateEnv.toDate(y.end),isStart:f.isStart,isEnd:f.isEnd}}typeof l=="function"&&(l=l({date:c,allDay:Boolean(o.allDayDate),allSegs:o.allSegs.map(d),hiddenSegs:o.hiddenSegs.map(d),jsEvent:r,view:a.viewApi})),!l||l==="popover"?n.setState({isPopoverOpen:!0}):typeof l=="string"&&a.calendarApi.zoomTo(c,l)},n.handlePopoverClose=function(){n.setState({isPopoverOpen:!1})},n}return e.prototype.render=function(){var n=this,r=this.props;return x(Ei.Consumer,null,function(i){var o=i.viewApi,a=i.options,l=i.calendarApi,c=a.moreLinkText,d=r.moreCnt,f=tz(r),p={num:d,shortText:"+"+d,text:typeof c=="function"?c.call(l,d):"+"+d+" "+c,view:o};return x(ye,null,Boolean(r.moreCnt)&&x(jt,{elRef:n.linkElRef,hookProps:p,classNames:a.moreLinkClassNames,content:a.moreLinkContent,defaultContent:r.defaultContent||Ede,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},function(m,g,y,_){return r.children(m,["fc-more-link"].concat(g),y,_,n.handleClick)}),n.state.isPopoverOpen&&x(wde,{startDate:f.start,endDate:f.end,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:r.extraDateSpan,parentEl:n.parentEl,alignmentEl:r.alignmentElRef.current,alignGridTop:r.alignGridTop,onClose:n.handlePopoverClose},r.popoverContent()))})},e.prototype.componentDidMount=function(){this.updateParentEl()},e.prototype.componentDidUpdate=function(){this.updateParentEl()},e.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=Jt(this.linkElRef.current,".fc-view-harness"))},e}(te);function Ede(t){return t.text}function tz(t){if(t.allDayDate)return{start:t.allDayDate,end:Zt(t.allDayDate,1)};var e=t.hiddenSegs;return{start:Od(e),end:xde(e)}}function Od(t){return t.reduce(Sde).eventRange.range.start}function Sde(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function xde(t){return t.reduce(Tde).eventRange.range.end}function Tde(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var $R=function(t){N(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(o){switch(o.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(o){i.currentData=o,i.renderRunner.request(o.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var o=i.currentData;A3(x(Kq,{options:o.calendarOptions,theme:o.theme,emitter:o.emitter},function(a,l,c,d){return i.setClassNames(a),i.setHeight(l),x(wR.Provider,{value:i.customContentRenderId},x(Gq,I({isHeightAuto:c,forPrint:d},o)))}),i.el)}else i.isRendered&&(i.isRendered=!1,D3(i.el),i.setClassNames([]),i.setHeight(""));jI()},i.el=n,i.renderRunner=new lc(i.handleRenderRequest),new TR({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.isRendering;n?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),n&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){t.prototype.updateSize.call(this),jI()},e.prototype.batchRendering=function(n){this.renderRunner.pause("batchRendering"),n(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(n,r){this.currentDataManager.resetOptions(n,r)},e.prototype.setClassNames=function(n){if(!Cr(n,this.currentClassNames)){for(var r=this.el.classList,i=0,o=this.currentClassNames;i<o.length;i++){var a=o[i];r.remove(a)}for(var l=0,c=n;l<c.length;l++){var a=c[l];r.add(a)}this.currentClassNames=n}},e.prototype.setHeight=function(n){qI(this.el,"height",n)},e}(ba);ie();var Cde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.headerElRef=Ce(),n}return e.prototype.renderSimpleLayout=function(n,r){var i=this,o=i.props,a=i.context,l=[],c=Do(a.options);return n&&l.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),x($i,{viewSpec:a.viewSpec},function(d,f){return x("div",{ref:d,className:["fc-daygrid"].concat(f).join(" ")},x(kp,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[],sections:l}))})},e.prototype.renderHScrollLayout=function(n,r,i,o){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var l=this,c=l.props,d=l.context,f=!c.forPrint&&Do(d.options),p=!c.forPrint&&xa(d.options),m=[];return n&&m.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),p&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:ko}]}),x($i,{viewSpec:d.viewSpec},function(g,y){return x("div",{ref:g,className:["fc-daygrid"].concat(y).join(" ")},x(a,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:i,minWidth:o}]}],sections:m}))})},e}(qn);function Jb(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];n[a.row].push(a)}return n}function Zb(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];n[a.firstCol].push(a)}return n}function nz(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];n[a.row].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var Ide=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context.options.navLinks?{"data-navlink":wa(n.date),tabIndex:0}:{};return x(Dp,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,defaultContent:Rde},function(i,o){return(o||n.forceDayTop)&&x("div",{className:"fc-daygrid-day-top",ref:i},x("a",I({className:"fc-daygrid-day-number"},r),o||x(ye,null,"\xA0")))})},e}(te);function Rde(t){return t.dayNumberText}var rz=bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function iz(t){var e=t.eventRange.ui.display;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var oz=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(Ad,I({},n,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:rz,defaultDisplayEventEnd:n.defaultDisplayEventEnd,disableResizing:!n.seg.eventRange.def.allDay}))},e}(te),sz=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options.eventTimeFormat||rz,a=iR(r.seg,o,i,!0,r.defaultDisplayEventEnd);return x(Xb,{seg:r.seg,timeText:a,defaultContent:Ade,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(l,c,d,f){return x("a",I({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(c).join(" "),ref:l},kde(r.seg)),f)})},e}(te);function Ade(t){return x(ye,null,x("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&x("div",{className:"fc-event-time"},t.timeText),x("div",{className:"fc-event-title"},t.event.title||x(ye,null,"\xA0")))}function kde(t){var e=t.eventRange.def.url;return e?{href:e}:{}}var Dde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.compileSegs=Q(Nde),n}return e.prototype.render=function(){var n=this.props,r=this.compileSegs(n.singlePlacements),i=r.allSegs,o=r.invisibleSegs;return x(Nd,{dateProfile:n.dateProfile,todayRange:n.todayRange,allDayDate:n.allDayDate,moreCnt:n.moreCnt,allSegs:i,hiddenSegs:o,alignmentElRef:n.alignmentElRef,alignGridTop:n.alignGridTop,extraDateSpan:n.extraDateSpan,popoverContent:function(){var a=(n.eventDrag?n.eventDrag.affectedInstances:null)||(n.eventResize?n.eventResize.affectedInstances:null)||{};return x(ye,null,i.map(function(l){var c=l.eventRange.instance.instanceId;return x("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:a[c]?"hidden":""}},iz(l)?x(sz,I({seg:l,isDragging:!1,isSelected:c===n.eventSelection,defaultDisplayEventEnd:!1},Ir(l,n.todayRange))):x(oz,I({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n.eventSelection,defaultDisplayEventEnd:!1},Ir(l,n.todayRange))))}))}},function(a,l,c,d,f){return x("a",{ref:a,className:["fc-daygrid-more-link"].concat(l).join(" "),onClick:f},d)})},e}(te);function Nde(t){for(var e=[],n=[],r=0,i=t;r<i.length;r++){var o=i[r];e.push(o.seg),o.isVisible||n.push(o.seg)}return{allSegs:e,invisibleSegs:n}}var Ode=bt({week:"narrow"}),Pde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n.handleRootEl=function(r){Vt(n.rootElRef,r),Vt(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=n.rootElRef,a=i.options,l=r.date,c=r.dateProfile,d=a.navLinks?{"data-navlink":wa(l,"week"),tabIndex:0}:{};return x(Np,{date:l,dateProfile:c,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},function(f,p,m,g){return x("td",I({ref:f,className:["fc-daygrid-day"].concat(p,r.extraClassNames||[]).join(" ")},m,r.extraDataAttrs),x("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&x(Qb,{date:l,defaultFormat:Ode},function(y,_,w,S){return x("a",I({ref:y,className:["fc-daygrid-week-number"].concat(_).join(" ")},d),S)}),!g&&x(Ide,{date:l,dateProfile:c,showDayNumber:r.showDayNumber,forceDayTop:r.forceDayTop,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),x("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,x("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},x(Dde,{allDayDate:l,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:o,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),x("div",{className:"fc-daygrid-day-bg"},r.bgContent)))})},e}(qn);function Mde(t,e,n,r,i,o,a){var l=new Ude;l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=o,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);for(var c=[],d=[],f=0;f<t.length;f+=1){var p=t[f],m=p.eventRange.instance.instanceId,g=i[m];g!=null?c.push({index:f,spanStart:p.firstCol,spanEnd:p.lastCol+1,thickness:g}):d.push(p)}for(var y=l.addSegs(c),_=l.toRects(),w=Lde(_,t,a),S=w.singleColPlacements,C=w.multiColPlacements,R=w.leftoverMargins,k=[],F=[],L=0,W=d;L<W.length;L++){var p=W[L];C[p.firstCol].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var $=p.firstCol;$<=p.lastCol;$+=1)S[$].push({seg:Op(p,$,$+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var $=0;$<a.length;$+=1)k.push(0);for(var z=0,ke=y;z<ke.length;z++){var M=ke[z],p=t[M.segInput.index];C[M.spanStart].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var $=M.spanStart;$<M.spanEnd;$+=1)k[$]+=1,S[$].push({seg:Op(p,$,$+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var $=0;$<a.length;$+=1)F.push(R[$]);return{singleColPlacements:S,multiColPlacements:C,moreCnts:k,moreMarginTops:F}}function Lde(t,e,n){for(var r=Fde(t,n.length),i=[],o=[],a=[],l=0;l<n.length;l+=1){for(var c=r[l],d=[],f=0,p=0,m=0,g=c;m<g.length;m++){var y=g[m],_=e[y.segInput.index];d.push({seg:Op(_,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:0,marginTop:y.levelCoord-f}),f=y.levelCoord+y.thickness}var w=[];f=0,p=0;for(var S=0,C=c;S<C.length;S++){var y=C[S],_=e[y.segInput.index],R=y.spanEnd-y.spanStart>1,k=y.spanStart===l;p+=y.levelCoord-f,f=y.levelCoord+y.thickness,R?(p+=y.thickness,k&&w.push({seg:Op(_,y.spanStart,y.spanEnd,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):k&&(w.push({seg:Op(_,y.spanStart,y.spanEnd,n),isVisible:!0,isAbsolute:!1,absoluteTop:0,marginTop:p}),p=0)}i.push(d),o.push(w),a.push(p)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:a}}function Fde(t,e){for(var n=[],r=0;r<e;r+=1)n.push([]);for(var i=0,o=t;i<o.length;i++)for(var a=o[i],r=a.spanStart;r<a.spanEnd;r+=1)n[r].push(a);return n}function Op(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;var i=t.eventRange,o=i.range,a=Ao(o,{start:r[e].date,end:Zt(r[n-1].date,1)});return I(I({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:I(I({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===o.end.valueOf()})}var Ude=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hiddenConsumes=!1,n.forceHidden={},n}return e.prototype.addSegs=function(n){for(var r=this,i=t.prototype.addSegs.call(this,n),o=this.entriesByLevel,a=function(c){return!r.forceHidden[hs(c)]},l=0;l<o.length;l+=1)o[l]=o[l].filter(a);return i},e.prototype.handleInvalidInsertion=function(n,r,i){var o=this,a=o.entriesByLevel,l=o.forceHidden,c=n.nextLevel-1;if(this.hiddenConsumes&&c>=0)for(var d=n.lateralStart;d<n.lateralEnd;d+=1){var f=a[c][d];if(this.allowReslicing){var p=I(I({},f),{spanStart:Math.max(f.spanStart,r.spanStart),spanEnd:Math.min(f.spanEnd,r.spanEnd)}),m=hs(p);l[m]||(l[m]=!0,a[c][d]=p,this.splitEntry(f,r,i))}else{var m=hs(f);l[m]||(l[m]=!0,i.push(f))}}return t.prototype.handleInvalidInsertion.call(this,n,r,i)},e}(Id),az=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cellElRefs=new Ot,n.frameElRefs=new Ot,n.fgElRefs=new Ot,n.segHarnessRefs=new Ot,n.rootElRef=Ce(),n.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,c=i.cells.length,d=Zb(i.businessHourSegs,c),f=Zb(i.bgEventSegs,c),p=Zb(this.getHighlightSegs(),c),m=Zb(this.getMirrorSegs(),c),g=Mde(xd(i.fgEventSegs,l.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,l.eventOrderStrict,o.eventInstanceHeights,o.maxContentHeight,i.cells),y=g.singleColPlacements,_=g.multiColPlacements,w=g.moreCnts,S=g.moreMarginTops,C=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return x("tr",{ref:this.rootElRef},i.renderIntro&&i.renderIntro(),i.cells.map(function(R,k){var F=n.renderFgSegs(k,i.forPrint?y[k]:_[k],i.todayRange,C),L=n.renderFgSegs(k,Bde(m[k],_),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return x(Pde,{key:R.key,elRef:n.cellElRefs.createRef(R.key),innerElRef:n.frameElRefs.createRef(R.key),dateProfile:i.dateProfile,date:R.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&k===0,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:R.extraHookProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:w[k],moreMarginTop:S[k],singlePlacements:y[k],fgContentElRef:n.fgElRefs.createRef(R.key),fgContent:x(ye,null,x(ye,null,F),x(ye,null,L)),bgContent:x(ye,null,n.renderFillSegs(p[k],"highlight"),n.renderFillSegs(d[k],"non-business"),n.renderFillSegs(f[k],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(n,r){var i=this.props;this.updateSizing(!cn(n,i))},e.prototype.getHighlightSegs=function(){var n=this.props;return n.eventDrag&&n.eventDrag.segs.length?n.eventDrag.segs:n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:n.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var n=this.props;return n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:[]},e.prototype.renderFgSegs=function(n,r,i,o,a,l,c){var d=this.context,f=this.props.eventSelection,p=this.state.framePositions,m=this.props.cells.length===1,g=a||l||c,y=[];if(p)for(var _=0,w=r;_<w.length;_++){var S=w[_],C=S.seg,R=C.eventRange.instance.instanceId,k=R+":"+n,F=S.isVisible&&!o[R],L=S.isAbsolute,W="",$="";L&&(d.isRtl?($=0,W=p.lefts[C.lastCol]-p.lefts[C.firstCol]):(W=0,$=p.rights[C.firstCol]-p.rights[C.lastCol])),y.push(x("div",{className:"fc-daygrid-event-harness"+(L?" fc-daygrid-event-harness-abs":""),key:k,ref:g?null:this.segHarnessRefs.createRef(k),style:{visibility:F?"":"hidden",marginTop:L?"":S.marginTop,top:L?S.absoluteTop:"",left:W,right:$}},iz(C)?x(sz,I({seg:C,isDragging:a,isSelected:R===f,defaultDisplayEventEnd:m},Ir(C,i))):x(oz,I({seg:C,isDragging:a,isResizing:l,isDateSelecting:c,isSelected:R===f,defaultDisplayEventEnd:m},Ir(C,i)))))}return y},e.prototype.renderFillSegs=function(n,r){var i=this.context.isRtl,o=this.props.todayRange,a=this.state.framePositions,l=[];if(a)for(var c=0,d=n;c<d.length;c++){var f=d[c],p=i?{right:0,left:a.lefts[f.lastCol]-a.lefts[f.firstCol]}:{left:0,right:a.rights[f.firstCol]-a.rights[f.lastCol]};l.push(x("div",{key:Td(f.eventRange),className:"fc-daygrid-bg-harness",style:p},r==="bg-event"?x(Dd,I({seg:f},Ir(f,o))):kd(r)))}return x.apply(void 0,Oe([ye,{}],l))},e.prototype.updateSizing=function(n){var r=this,i=r.props,o=r.frameElRefs;if(!i.forPrint&&i.clientWidth!==null){if(n){var a=i.cells.map(function(d){return o.currentMap[d.key]});if(a.length){var l=this.rootElRef.current;this.setState({framePositions:new wi(l,a,!0,!1)})}}var c=i.dayMaxEvents===!0||i.dayMaxEventRows===!0;this.setState({eventInstanceHeights:this.queryEventInstanceHeights(),maxContentHeight:c?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var n=this.segHarnessRefs.currentMap,r={};for(var i in n){var o=Math.round(n[i].getBoundingClientRect().height),a=i.split(":")[0];r[a]=Math.max(r[a]||0,o)}return r},e.prototype.computeMaxContentHeight=function(){var n=this.props.cells[0].key,r=this.cellElRefs.currentMap[n],i=this.fgElRefs.currentMap[n];return r.getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var n=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return n[r.key]})},e}(qn);az.addStateEquality({eventInstanceHeights:cn});function Bde(t,e){if(!t.length)return[];var n=Hde(e);return t.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}})}function Hde(t){for(var e={},n=0,r=t;n<r.length;n++)for(var i=r[n],o=0,a=i;o<a.length;o++){var l=a[o];e[l.seg.eventRange.instance.instanceId]=l.absoluteTop}return t}var Vde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitBusinessHourSegs=Q(Jb),n.splitBgEventSegs=Q(Jb),n.splitFgEventSegs=Q(Jb),n.splitDateSelectionSegs=Q(Jb),n.splitEventDrag=Q(nz),n.splitEventResize=Q(nz),n.rowRefs=new Ot,n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.dateProfile,o=r.dayMaxEventRows,a=r.dayMaxEvents,l=r.expandRows,c=r.cells.length,d=this.splitBusinessHourSegs(r.businessHourSegs,c),f=this.splitBgEventSegs(r.bgEventSegs,c),p=this.splitFgEventSegs(r.fgEventSegs,c),m=this.splitDateSelectionSegs(r.dateSelectionSegs,c),g=this.splitEventDrag(r.eventDrag,c),y=this.splitEventResize(r.eventResize,c),_=a===!0||o===!0;_&&!l&&(_=!1,o=null,a=null);var w=["fc-daygrid-body",_?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"];return x("div",{className:w.join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},x($r,{unit:"day"},function(S,C){return x(ye,null,x("table",{className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:l?r.clientHeight:""}},r.colGroupNode,x("tbody",null,r.cells.map(function(R,k){return x(az,{ref:n.rowRefs.createRef(k),key:R.length?R[0].date.toISOString():k,showDayNumbers:c>1,showWeekNumbers:r.showWeekNumbers,todayRange:C,dateProfile:i,cells:R,renderIntro:r.renderRowIntro,businessHourSegs:d[k],eventSelection:r.eventSelection,bgEventSegs:f[k].filter(jde),fgEventSegs:p[k],dateSelectionSegs:m[k],eventDrag:g[k],eventResize:y[k],dayMaxEvents:a,dayMaxEventRows:o,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new wi(this.rootEl,this.rowRefs.collect().map(function(n){return n.getCellEls()[0]}),!1,!0),this.colPositions=new wi(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(n,r){var i=this,o=i.colPositions,a=i.rowPositions,l=o.leftToIndex(n),c=a.topToIndex(r);if(c!=null&&l!=null){var d=this.props.cells[c][l];return{dateProfile:this.props.dateProfile,dateSpan:I({range:this.getCellRange(c,l),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(c,l),rect:{left:o.lefts[l],right:o.rights[l],top:a.tops[c],bottom:a.bottoms[c]},layer:0}}return null},e.prototype.getCellEl=function(n,r){return this.rowRefs.currentMap[n].getCellEls()[r]},e.prototype.getCellRange=function(n,r){var i=this.props.cells[n][r].date,o=Zt(i,1);return{start:i,end:o}},e}(qn);function jde(t){return t.eventRange.def.allDay}var qde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.forceDayIfListItem=!0,n}return e.prototype.sliceRange=function(n,r){return r.sliceRange(n)},e}(Rd),YR=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slicer=new qde,n.tableRef=Ce(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x(Vde,I({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,i,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(qn),zde=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayTableModel=Q(Wde),n.headerRef=Ce(),n.tableRef=Ce(),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,o=r.dateProfileGenerator,a=this.props,l=this.buildDayTableModel(a.dateProfile,o),c=i.dayHeaders&&x(zb,{ref:this.headerRef,dateProfile:a.dateProfile,dates:l.headerDates,datesRepDistinctDays:l.rowCnt===1}),d=function(f){return x(YR,{ref:n.tableRef,dateProfile:a.dateProfile,dayTableModel:l,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:f.tableColGroupNode,tableMinWidth:f.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:n.headerElRef,clientWidth:f.clientWidth,clientHeight:f.clientHeight,forPrint:a.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(c,d,l.colCnt,i.dayMinWidth):this.renderSimpleLayout(c,d)},e}(Cde);function Wde(t,e){var n=new Wb(t.renderRange,e);return new Gb(n,/year|month|week/.test(t.currentRangeUnit))}var Gde=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.buildRenderRange=function(n,r,i){var o=this.props.dateEnv,a=t.prototype.buildRenderRange.call(this,n,r,i),l=a.start,c=a.end,d;if(/^(year|month)$/.test(r)&&(l=o.startOfWeek(l),d=o.startOfWeek(c),d.valueOf()!==c.valueOf()&&(c=GI(d,1))),this.props.monthMode&&this.props.fixedWeekCount){var f=Math.ceil(z3(l,c));c=GI(c,6-f)}return{start:l,end:c}},e}(ER),Kde=Nt({initialView:"dayGridMonth",views:{dayGrid:{component:zde,dateProfileGeneratorClass:Gde},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),lz=Kde;ie();var $de=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(n){return n.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(n){return n.allDay?dq(n)?["timed","allDay"]:["allDay"]:["timed"]},e}(Tp),Yde=bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function cz(t){var e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return x(Ei.Consumer,null,function(n){if(!t.isLabeled)return x("td",{className:e.join(" "),"data-time":t.isoTimeStr});var r=n.dateEnv,i=n.options,o=n.viewApi,a=i.slotLabelFormat==null?Yde:Array.isArray(i.slotLabelFormat)?bt(i.slotLabelFormat[0]):bt(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:o,text:r.format(t.date,a)};return x(jt,{hookProps:l,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:Xde,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},function(c,d,f,p){return x("td",{ref:c,className:e.concat(d).join(" "),"data-time":t.isoTimeStr},x("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},x("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:f},p)))})})}function Xde(t){return t.text}var Qde=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return this.props.slatMetas.map(function(n){return x("tr",{key:n.key},x(cz,I({},n)))})},e}(te),Jde=bt({week:"short"}),Zde=5,efe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.allDaySplitter=new $de,n.headerElRef=Ce(),n.rootElRef=Ce(),n.scrollerElRef=Ce(),n.state={slatCoords:null},n.handleScrollTopRequest=function(r){var i=n.scrollerElRef.current;i&&(i.scrollTop=r)},n.renderHeadAxis=function(r,i){i===void 0&&(i="");var o=n.context.options,a=n.props.dateProfile,l=a.renderRange,c=va(l.start,l.end),d=o.navLinks&&c===1?{"data-navlink":wa(l.start,"week"),tabIndex:0}:{};return o.weekNumbers&&r==="day"?x(Qb,{date:l.start,defaultFormat:Jde},function(f,p,m,g){return x("th",{ref:f,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(p).join(" ")},x("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:i}},x("a",I({ref:m,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},d),g)))}):x("th",{className:"fc-timegrid-axis"},x("div",{className:"fc-timegrid-axis-frame",style:{height:i}}))},n.renderTableRowAxis=function(r){var i=n.context,o=i.options,a=i.viewApi,l={text:o.allDayText,view:a};return x(jt,{hookProps:l,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:tfe,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},function(c,d,f,p){return x("td",{ref:c,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(d).join(" ")},x("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(r==null?" fc-timegrid-axis-frame-liquid":""),style:{height:r}},x("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:f},p)))})},n.handleSlatCoords=function(r){n.setState({slatCoords:r})},n}return e.prototype.renderSimpleLayout=function(n,r,i){var o=this,a=o.context,l=o.props,c=[],d=Do(a.options);return n&&c.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),r&&(c.push({type:"body",key:"all-day",chunk:{content:r}}),c.push({type:"body",key:"all-day-divider",outerContent:x("tr",{className:"fc-scrollgrid-section"},x("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),c.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(a.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),x($i,{viewSpec:a.viewSpec,elRef:this.rootElRef},function(f,p){return x("div",{className:["fc-timegrid"].concat(p).join(" "),ref:f},x(kp,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:c}))})},e.prototype.renderHScrollLayout=function(n,r,i,o,a,l,c){var d=this,f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var p=this,m=p.context,g=p.props,y=!g.forPrint&&Do(m.options),_=!g.forPrint&&xa(m.options),w=[];n&&w.push({type:"header",key:"header",isSticky:y,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(C){return x("tr",null,d.renderHeadAxis("day",C.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),r&&(w.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(C){return x("tr",null,d.renderTableRowAxis(C.rowSyncHeights[0]))}},{key:"cols",content:r}]}),w.push({key:"all-day-divider",type:"body",outerContent:x("tr",{className:"fc-scrollgrid-section"},x("td",{colSpan:2,className:"fc-timegrid-divider "+m.theme.getClass("tableCellShaded")}))}));var S=m.options.nowIndicator;return w.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(m.options.expandRows),chunks:[{key:"axis",content:function(C){return x("div",{className:"fc-timegrid-axis-chunk"},x("table",{style:{height:C.expandRows?C.clientHeight:""}},C.tableColGroupNode,x("tbody",null,x(Qde,{slatMetas:l}))),x("div",{className:"fc-timegrid-now-indicator-container"},x($r,{unit:S?"minute":"day"},function(R){var k=S&&c&&c.safeComputeTop(R);return typeof k=="number"?x(ps,{isAxis:!0,date:R},function(F,L,W,$){return x("div",{ref:F,className:["fc-timegrid-now-indicator-arrow"].concat(L).join(" "),style:{top:k}},$)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),_&&w.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:ko},{key:"cols",content:ko}]}),x($i,{viewSpec:m.viewSpec,elRef:this.rootElRef},function(C,R){return x("div",{className:["fc-timegrid"].concat(R).join(" "),ref:C},x(f,{liquid:!g.isHeightAuto&&!g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:a}]}],sections:w}))})},e.prototype.getAllDayMaxEventProps=function(){var n=this.context.options,r=n.dayMaxEvents,i=n.dayMaxEventRows;return(r===!0||i===!0)&&(r=void 0,i=Zde),{dayMaxEvents:r,dayMaxEventRows:i}},e}(qn);function tfe(t){return t.text}var nfe=function(){function t(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}return t.prototype.safeComputeTop=function(e){var n=this.dateProfile;if(_i(n.currentRange,e)){var r=ze(e),i=e.valueOf()-r.valueOf();if(i>=gn(n.slotMinTime)&&i<gn(n.slotMaxTime))return this.computeTimeTop(_e(i))}return null},t.prototype.computeDateTop=function(e,n){return n||(n=ze(e)),this.computeTimeTop(_e(e.valueOf()-n.valueOf()))},t.prototype.computeTimeTop=function(e){var n=this,r=n.positions,i=n.dateProfile,o=r.els.length,a=(e.milliseconds-gn(i.slotMinTime))/gn(this.slotDuration),l,c;return a=Math.max(0,a),a=Math.min(o,a),l=Math.floor(a),l=Math.min(l,o-1),c=a-l,r.tops[l]+r.getHeight(l)*c},t}(),rfe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=r.slatElRefs;return x("tbody",null,r.slatMetas.map(function(l,c){var d={time:l.time,date:i.dateEnv.toDate(l.date),view:i.viewApi},f=["fc-timegrid-slot","fc-timegrid-slot-lane",l.isLabeled?"":"fc-timegrid-slot-minor"];return x("tr",{key:l.key,ref:a.createRef(l.key)},r.axis&&x(cz,I({},l)),x(jt,{hookProps:d,classNames:o.slotLaneClassNames,content:o.slotLaneContent,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount},function(p,m,g,y){return x("td",{ref:p,className:f.concat(m).join(" "),"data-time":l.isoTimeStr},y)}))}))},e}(te),ife=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n.slatElRefs=new Ot,n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x("div",{className:"fc-timegrid-slots",ref:this.rootElRef},x("table",{className:i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},r.tableColGroupNode,x(rfe,{slatElRefs:this.slatElRefs,axis:r.axis,slatMetas:r.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var n=this,r=n.context,i=n.props;if(i.onCoords&&i.clientWidth!==null){var o=this.rootElRef.current;o.offsetHeight&&i.onCoords(new nfe(new wi(this.rootElRef.current,ofe(this.slatElRefs.currentMap,i.slatMetas),!1,!0),this.props.dateProfile,r.options.slotDuration))}},e}(te);function ofe(t,e){return e.map(function(n){return t[n.key]})}function Pp(t,e){var n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function uz(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];n[a.col].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var sfe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n}return e.prototype.render=function(){var n=this,r=this.props;return x(Nd,{allDayDate:null,moreCnt:r.hiddenSegs.length,allSegs:r.hiddenSegs,hiddenSegs:r.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:afe,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,todayRange:r.todayRange,popoverContent:function(){return pz(r.hiddenSegs,r)}},function(i,o,a,l,c){return x("a",{ref:function(d){Vt(i,d),Vt(n.rootElRef,d)},className:["fc-timegrid-more-link"].concat(o).join(" "),style:{top:r.top,bottom:r.bottom},onClick:c},x("div",{ref:a,className:"fc-timegrid-more-link-inner fc-sticky"},l))})},e}(te);function afe(t){return t.shortText}function dz(t,e,n){var r=new Id;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);var i=r.addSegs(t),o=Vb(i),a=lfe(r);a=ffe(a,1);var l=hfe(a);return{segRects:l,hiddenGroups:o}}function lfe(t){var e=t.entriesByLevel,n=XR(function(r,i){return r+":"+i},function(r,i){var o=dfe(t,r,i),a=fz(o,n),l=e[r][i];return[I(I({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return fz(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function fz(t,e){if(!t)return[[],0];for(var n=t.level,r=t.lateralStart,i=t.lateralEnd,o=r,a=[];o<i;)a.push(e(n,o)),o+=1;return a.sort(cfe),[a.map(ufe),a[0][1]]}function cfe(t,e){return e[1]-t[1]}function ufe(t){return t[0]}function dfe(t,e,n){for(var r=t.levelCoords,i=t.entriesByLevel,o=i[e][n],a=r[e]+o.thickness,l=r.length,c=e;c<l&&r[c]<a;c+=1);for(;c<l;c+=1){for(var d=i[c],f=void 0,p=AR(d,o.spanStart,IR),m=p[0]+p[1],g=m;(f=d[g])&&f.spanStart<o.spanEnd;)g+=1;if(m<g)return{level:c,lateralStart:m,lateralEnd:g}}return null}function ffe(t,e){var n=XR(function(r,i,o){return hs(r)},function(r,i,o){var a=r.nextLevelNodes,l=r.thickness,c=l+o,d=l/c,f,p=[];if(!a.length)f=e;else for(var m=0,g=a;m<g.length;m++){var y=g[m];if(f===void 0){var _=n(y,i,c);f=_[0],p.push(_[1])}else{var _=n(y,f,0);p.push(_[1])}}var w=(f-i)*d;return[f-w,I(I({},r),{thickness:w,nextLevelNodes:p})]});return t.map(function(r){return n(r,0,0)[1]})}function hfe(t){var e=[],n=XR(function(i,o,a){return hs(i)},function(i,o,a){var l=I(I({},i),{levelCoord:o,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,o+i.thickness,a+1)+1});function r(i,o,a){for(var l=0,c=0,d=i;c<d.length;c++){var f=d[c];l=Math.max(n(f,o,a),l)}return l}return r(t,0,0),e}function XR(t,e){var n={};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t.apply(void 0,r);return o in n?n[o]:n[o]=e.apply(void 0,r)}}var pfe=bt({hour:"numeric",minute:"2-digit",meridiem:!1}),hz=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&n.push("fc-timegrid-event-short"),x(Ad,I({},this.props,{defaultTimeFormat:pfe,extraClassNames:n}))},e}(te),mfe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(Dp,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps},function(r,i){return i&&x("div",{className:"fc-timegrid-col-misc",ref:r},i)})},e}(te),vfe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortEventSegs=Q(xd),n.computeFgSegPlacements=Q(dz),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options.selectMirror,l=i.eventDrag&&i.eventDrag.segs||i.eventResize&&i.eventResize.segs||a&&i.dateSelectionSegs||[],c=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{},d=this.sortEventSegs(i.fgEventSegs,o.options.eventOrder);return x(Np,{elRef:i.elRef,date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps},function(f,p,m){return x("td",I({ref:f,className:["fc-timegrid-col"].concat(p,i.extraClassNames||[]).join(" ")},m,i.extraDataAttrs),x("div",{className:"fc-timegrid-col-frame"},x("div",{className:"fc-timegrid-col-bg"},n.renderFillSegs(i.businessHourSegs,"non-business"),n.renderFillSegs(i.bgEventSegs,"bg-event"),n.renderFillSegs(i.dateSelectionSegs,"highlight")),x("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(d,c)),x("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(l,{},Boolean(i.eventDrag),Boolean(i.eventResize),Boolean(a))),x("div",{className:"fc-timegrid-now-indicator-container"},n.renderNowIndicator(i.nowIndicatorSegs)),x(mfe,{date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps})))})},e.prototype.renderFgSegs=function(n,r,i,o,a){var l=this.props;return l.forPrint?pz(n,l):l.slatCoords?this.renderPositionedFgSegs(n,r,i,o,a):null},e.prototype.renderPositionedFgSegs=function(n,r,i,o,a){var l=this,c=this.context.options,d=c.eventMaxStack,f=c.eventShortHeight,p=c.eventOrderStrict,m=this.props,g=m.eventSelection,y=m.todayRange,_=m.nowDate,w=i||o||a,S=this.buildSegInputs(n),C=w?dz(S):this.computeFgSegPlacements(S,p,d),R=C.segRects,k=C.hiddenGroups;return x(ye,null,this.renderHiddenGroups(k,n),R.map(function(F){var L=n[F.segInput.index],W=L.eventRange.instance.instanceId,$=I(I({},l.computeSegTopBottomCss(F.segInput)),w?{left:0,right:0}:l.computeSegLeftRightCss(F));return x("div",{className:"fc-timegrid-event-harness"+(F.stackForward>0?" fc-timegrid-event-harness-inset":""),key:W,style:I({visibility:r[W]?"hidden":""},$)},x(hz,I({seg:L,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:W===g,isShort:F.spanEnd-F.spanStart<f},Ir(L,y,_))))}))},e.prototype.renderHiddenGroups=function(n,r){var i=this,o=this.props,a=o.extraDateSpan,l=o.dateProfile,c=o.todayRange,d=o.nowDate,f=o.eventSelection,p=o.eventDrag,m=o.eventResize;return x(ye,null,n.map(function(g){var y=i.computeSegTopBottomCss(g),_=gfe(g.entries,r);return x(sfe,{key:wd(Od(_)),hiddenSegs:_,top:y.top,bottom:y.bottom,extraDateSpan:a,dateProfile:l,todayRange:c,nowDate:d,eventSelection:f,eventDrag:p,eventResize:m})}))},e.prototype.buildSegInputs=function(n){for(var r=this.props,i=r.date,o=r.slatCoords,a=this.context.options.eventMinHeight,l=[],c=0;c<n.length;c+=1){var d=n[c],f=o.computeDateTop(d.start,i),p=Math.max(f+(a||0),o.computeDateTop(d.end,i));l.push({index:c,spanStart:Math.round(f),spanEnd:Math.round(p),thickness:1})}return l},e.prototype.renderFillSegs=function(n,r){var i=this,o=this.props;if(!o.slatCoords)return null;var a=this.buildSegInputs(n),l=a.map(function(c){var d=n[c.index];return x("div",{key:Td(d.eventRange),className:"fc-timegrid-bg-harness",style:i.computeSegTopBottomCss(c)},r==="bg-event"?x(Dd,I({seg:d},Ir(d,o.todayRange,o.nowDate))):kd(r))});return x(ye,null,l)},e.prototype.renderNowIndicator=function(n){var r=this.props,i=r.slatCoords,o=r.date;return i?n.map(function(a,l){return x(ps,{isAxis:!1,date:o,key:l},function(c,d,f,p){return x("div",{ref:c,className:["fc-timegrid-now-indicator-line"].concat(d).join(" "),style:{top:i.computeDateTop(a.start,o)}},p)})}):null},e.prototype.computeSegTopBottomCss=function(n){return{top:n.spanStart,bottom:-n.spanEnd}},e.prototype.computeSegLeftRightCss=function(n){var r=this.context,i=r.isRtl,o=r.options,a=o.slotEventOverlap,l=n.levelCoord,c=n.levelCoord+n.thickness,d,f;a&&(c=Math.min(1,l+(c-l)*2)),i?(d=1-c,f=l):(d=l,f=1-c);var p={zIndex:n.stackDepth+1,left:d*100+"%",right:f*100+"%"};return a&&!n.stackForward&&(p[i?"marginLeft":"marginRight"]=10*2),p},e}(te);function pz(t,e){var n=e.todayRange,r=e.nowDate,i=e.eventSelection,o=e.eventDrag,a=e.eventResize,l=(o?o.affectedInstances:null)||(a?a.affectedInstances:null)||{};return x(ye,null,t.map(function(c){var d=c.eventRange.instance.instanceId;return x("div",{key:d,style:{visibility:l[d]?"hidden":""}},x(hz,I({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===i,isShort:!1},Ir(c,n,r))))}))}function gfe(t,e){return t.map(function(n){return e[n.segInput.index]})}var yfe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitFgEventSegs=Q(Pp),n.splitBgEventSegs=Q(Pp),n.splitBusinessHourSegs=Q(Pp),n.splitNowIndicatorSegs=Q(Pp),n.splitDateSelectionSegs=Q(Pp),n.splitEventDrag=Q(uz),n.splitEventResize=Q(uz),n.rootElRef=Ce(),n.cellElRefs=new Ot,n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options.nowIndicator&&i.slatCoords&&i.slatCoords.safeComputeTop(i.nowDate),l=i.cells.length,c=this.splitFgEventSegs(i.fgEventSegs,l),d=this.splitBgEventSegs(i.bgEventSegs,l),f=this.splitBusinessHourSegs(i.businessHourSegs,l),p=this.splitNowIndicatorSegs(i.nowIndicatorSegs,l),m=this.splitDateSelectionSegs(i.dateSelectionSegs,l),g=this.splitEventDrag(i.eventDrag,l),y=this.splitEventResize(i.eventResize,l);return x("div",{className:"fc-timegrid-cols",ref:this.rootElRef},x("table",{style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,x("tbody",null,x("tr",null,i.axis&&x("td",{className:"fc-timegrid-col fc-timegrid-axis"},x("div",{className:"fc-timegrid-col-frame"},x("div",{className:"fc-timegrid-now-indicator-container"},typeof a=="number"&&x(ps,{isAxis:!0,date:i.nowDate},function(_,w,S,C){return x("div",{ref:_,className:["fc-timegrid-now-indicator-arrow"].concat(w).join(" "),style:{top:a}},C)})))),i.cells.map(function(_,w){return x(vfe,{key:_.key,elRef:n.cellElRefs.createRef(_.key),dateProfile:i.dateProfile,date:_.date,nowDate:i.nowDate,todayRange:i.todayRange,extraHookProps:_.extraHookProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,fgEventSegs:c[w],bgEventSegs:d[w],businessHourSegs:f[w],nowIndicatorSegs:p[w],dateSelectionSegs:m[w],eventDrag:g[w],eventResize:y[w],slatCoords:i.slatCoords,eventSelection:i.eventSelection,forPrint:i.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var n=this.props;n.onColCoords&&n.clientWidth!==null&&n.onColCoords(new wi(this.rootElRef.current,bfe(this.cellElRefs.currentMap,n.cells),!0,!1))},e}(te);function bfe(t,e){return e.map(function(n){return t[n.key]})}var _fe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processSlotOptions=Q(wfe),n.state={slatCoords:null},n.handleRootEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n.handleScrollRequest=function(r){var i=n.props.onScrollTopRequest,o=n.state.slatCoords;if(i&&o){if(r.time){var a=o.computeTimeTop(r.time);a=Math.ceil(a),a&&(a+=1),i(a)}return!0}return!1},n.handleColCoords=function(r){n.colCoords=r},n.handleSlatCoords=function(r){n.setState({slatCoords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return x("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},x(ife,{axis:r.axis,dateProfile:r.dateProfile,slatMetas:r.slatMetas,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,tableColGroupNode:r.axis?r.tableColGroupNode:null,onCoords:this.handleSlatCoords}),x(yfe,{cells:r.cells,axis:r.axis,dateProfile:r.dateProfile,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange,nowDate:r.nowDate,nowIndicatorSegs:r.nowIndicatorSegs,clientWidth:r.clientWidth,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,slatCoords:i.slatCoords,onColCoords:this.handleColCoords,forPrint:r.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(n){this.scrollResponder.update(n.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(n,r){var i=this.context,o=i.dateEnv,a=i.options,l=this.colCoords,c=this.props.dateProfile,d=this.state.slatCoords,f=this.processSlotOptions(this.props.slotDuration,a.snapDuration),p=f.snapDuration,m=f.snapsPerSlot,g=l.leftToIndex(n),y=d.positions.topToIndex(r);if(g!=null&&y!=null){var _=this.props.cells[g],w=d.positions.tops[y],S=d.positions.getHeight(y),C=(r-w)/S,R=Math.floor(C*m),k=y*m+R,F=this.props.cells[g].date,L=yb(c.slotMinTime,bb(p,k)),W=o.add(F,L),$=o.add(W,p);return{dateProfile:c,dateSpan:I({range:{start:W,end:$},allDay:!1},_.extraDateSpan),dayEl:l.els[g],rect:{left:l.lefts[g],right:l.rights[g],top:w,bottom:w+S},layer:0}}return null},e}(qn);function wfe(t,e){var n=e||t,r=Io(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}var Efe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sliceRange=function(n,r){for(var i=[],o=0;o<r.length;o+=1){var a=Ao(n,r[o]);a&&i.push({start:a.start,end:a.end,isStart:a.start.valueOf()===n.start.valueOf(),isEnd:a.end.valueOf()===n.end.valueOf(),col:o})}return i},e}(Rd),Sfe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayRanges=Q(xfe),n.slicer=new Efe,n.timeColsRef=Ce(),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=i.dateProfile,l=i.dayTableModel,c=o.options.nowIndicator,d=this.buildDayRanges(l,a,o.dateEnv);return x($r,{unit:c?"minute":"day"},function(f,p){return x(_fe,I({ref:n.timeColsRef},n.slicer.sliceProps(i,a,null,o,d),{forPrint:i.forPrint,axis:i.axis,dateProfile:a,slatMetas:i.slatMetas,slotDuration:i.slotDuration,cells:l.cells[0],tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,clientWidth:i.clientWidth,clientHeight:i.clientHeight,expandRows:i.expandRows,nowDate:f,nowIndicatorSegs:c&&n.slicer.sliceNowDate(f,o,d),todayRange:p,onScrollTopRequest:i.onScrollTopRequest,onSlatCoords:i.onSlatCoords}))})},e}(qn);function xfe(t,e,n){for(var r=[],i=0,o=t.headerDates;i<o.length;i++){var a=o[i];r.push({start:n.add(a,e.slotMinTime),end:n.add(a,e.slotMaxTime)})}return r}var mz=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Tfe(t,e,n,r,i){for(var o=new Date(0),a=t,l=_e(0),c=n||Cfe(r),d=[];gn(a)<gn(e);){var f=i.add(o,a),p=Io(l,c)!==null;d.push({date:f,time:a,key:f.toISOString(),isoTimeStr:Z3(f),isLabeled:p}),a=yb(a,r),l=yb(l,r)}return d}function Cfe(t){var e,n,r;for(e=mz.length-1;e>=0;e-=1)if(n=_e(mz[e]),r=Io(n,t),r!==null&&r>1)return n;return t}var Ife=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildTimeColsModel=Q(Rfe),n.buildSlatMetas=Q(Tfe),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,o=r.dateEnv,a=r.dateProfileGenerator,l=this.props,c=l.dateProfile,d=this.buildTimeColsModel(c,a),f=this.allDaySplitter.splitProps(l),p=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,i.slotLabelInterval,i.slotDuration,o),m=i.dayMinWidth,g=!m,y=m,_=i.dayHeaders&&x(zb,{dates:d.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),w=i.allDaySlot!==!1&&function(C){return x(YR,I({},f.allDay,{dateProfile:c,dayTableModel:d,nextDayThreshold:i.nextDayThreshold,tableMinWidth:C.tableMinWidth,colGroupNode:C.tableColGroupNode,renderRowIntro:g?n.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:n.headerElRef,clientWidth:C.clientWidth,clientHeight:C.clientHeight,forPrint:l.forPrint},n.getAllDayMaxEventProps()))},S=function(C){return x(Sfe,I({},f.timed,{dayTableModel:d,dateProfile:c,axis:g,slotDuration:i.slotDuration,slatMetas:p,forPrint:l.forPrint,tableColGroupNode:C.tableColGroupNode,tableMinWidth:C.tableMinWidth,clientWidth:C.clientWidth,clientHeight:C.clientHeight,onSlatCoords:n.handleSlatCoords,expandRows:C.expandRows,onScrollTopRequest:n.handleScrollTopRequest}))};return y?this.renderHScrollLayout(_,w,S,d.colCnt,m,p,this.state.slatCoords):this.renderSimpleLayout(_,w,S)},e}(efe);function Rfe(t,e){var n=new Wb(t.renderRange,e);return new Gb(n,!1)}var Afe={allDaySlot:Boolean},kfe=Nt({initialView:"timeGridWeek",optionRefiners:Afe,views:{timeGrid:{component:Ife,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),vz=kfe;ie();zn.touchMouseIgnoreWait=500;var QR=0,e_=0,JR=!1,ZR=function(){function t(e){var n=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!n.shouldIgnoreMouse()&&Dfe(r)&&n.tryStart(r)){var i=n.createEventFromMouse(r,!0);n.emitter.trigger("pointerdown",i),n.initScrollWatch(i),n.shouldIgnoreMove||document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp)}},this.handleMouseMove=function(r){var i=n.createEventFromMouse(r);n.recordCoords(i),n.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),n.emitter.trigger("pointerup",n.createEventFromMouse(r)),n.cleanup()},this.handleTouchStart=function(r){if(n.tryStart(r)){n.isTouchDragging=!0;var i=n.createEventFromTouch(r,!0);n.emitter.trigger("pointerdown",i),n.initScrollWatch(i);var o=r.target;n.shouldIgnoreMove||o.addEventListener("touchmove",n.handleTouchMove),o.addEventListener("touchend",n.handleTouchEnd),o.addEventListener("touchcancel",n.handleTouchEnd),window.addEventListener("scroll",n.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=n.createEventFromTouch(r);n.recordCoords(i),n.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(n.isDragging){var i=r.target;i.removeEventListener("touchmove",n.handleTouchMove),i.removeEventListener("touchend",n.handleTouchEnd),i.removeEventListener("touchcancel",n.handleTouchEnd),window.removeEventListener("scroll",n.handleTouchScroll,!0),n.emitter.trigger("pointerup",n.createEventFromTouch(r)),n.cleanup(),n.isTouchDragging=!1,Nfe()}},this.handleTouchScroll=function(){n.wasTouchScroll=!0},this.handleScroll=function(r){if(!n.shouldIgnoreMove){var i=window.pageXOffset-n.prevScrollX+n.prevPageX,o=window.pageYOffset-n.prevScrollY+n.prevPageY;n.emitter.trigger("pointermove",{origEvent:r,isTouch:n.isTouchDragging,subjectEl:n.subjectEl,pageX:i,pageY:o,deltaX:i-n.origPageX,deltaY:o-n.origPageY})}},this.containerEl=e,this.emitter=new oc,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ofe()}return t.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Pfe()},t.prototype.tryStart=function(e){var n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Jt(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1},t.prototype.cleanup=function(){JR=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},t.prototype.querySubjectEl=function(e){return this.selector?Jt(e.target,this.selector):this.containerEl},t.prototype.shouldIgnoreMouse=function(){return QR||this.isTouchDragging},t.prototype.cancelTouchScroll=function(){this.isDragging&&(JR=!0)},t.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},t.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},t.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},t.prototype.createEventFromMouse=function(e,n){var r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},t.prototype.createEventFromTouch=function(e,n){var r=e.touches,i,o,a=0,l=0;return r&&r.length?(i=r[0].pageX,o=r[0].pageY):(i=e.pageX,o=e.pageY),n?(this.origPageX=i,this.origPageY=o):(a=i-this.origPageX,l=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:a,deltaY:l}},t}();function Dfe(t){return t.button===0&&!t.ctrlKey}function Nfe(){QR+=1,setTimeout(function(){QR-=1},zn.touchMouseIgnoreWait)}function Ofe(){e_+=1,e_===1&&window.addEventListener("touchmove",gz,{passive:!1})}function Pfe(){e_-=1,e_||window.removeEventListener("touchmove",gz,{passive:!1})}function gz(t){JR&&t.preventDefault()}var Mfe=function(){function t(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return t.prototype.start=function(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},t.prototype.handleMove=function(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()},t.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},t.prototype.stop=function(e,n){var r=this,i=function(){r.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},t.prototype.doRevertAnimation=function(e,n){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",us(r,{left:i.left,top:i.top}),L3(r,function(){r.style.transition="",e()})},t.prototype.cleanup=function(){this.mirrorEl&&(ec(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},t.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&us(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},t.prototype.getMirrorEl=function(){var e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.classList.add("fc-unselectable"),n.classList.add("fc-event-dragging"),us(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n},t}(),yz=function(t){N(e,t);function e(n,r){var i=t.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=n,i.doesListening=r,i.scrollTop=i.origScrollTop=n.getScrollTop(),i.scrollLeft=i.origScrollLeft=n.getScrollLeft(),i.scrollWidth=n.getScrollWidth(),i.scrollHeight=n.getScrollHeight(),i.clientWidth=n.getClientWidth(),i.clientHeight=n.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(n){this.scrollController.setScrollTop(n),this.doesListening||(this.scrollTop=Math.max(Math.min(n,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(n){this.scrollController.setScrollLeft(n),this.doesListening||(this.scrollLeft=Math.max(Math.min(n,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(Bb),bz=function(t){N(e,t);function e(n,r){return t.call(this,new Rq(n),r)||this}return e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return Fb(this.scrollController.el)},e}(yz),Lfe=function(t){N(e,t);function e(n){return t.call(this,new Aq,n)||this}return e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(yz),_z=typeof performance=="function"?performance.now:Date.now,Ffe=function(){function t(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var n=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(n){var r=_z();e.handleSide(n,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return t.prototype.start=function(e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))},t.prototype.handleMove=function(e,n){if(this.isEnabled){var r=e-window.pageXOffset,i=n-window.pageYOffset,o=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_z()))}},t.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];r.destroy()}this.scrollCaches=null}},t.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},t.prototype.handleSide=function(e,n){var r=e.scrollCache,i=this.edgeThreshold,o=i-e.distance,a=o*o/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l);break}},t.prototype.computeBestEdge=function(e,n){for(var r=this.edgeThreshold,i=null,o=0,a=this.scrollCaches;o<a.length;o++){var l=a[o],c=l.clientRect,d=e-c.left,f=c.right-e,p=n-c.top,m=c.bottom-n;d>=0&&f>=0&&p>=0&&m>=0&&(p<=r&&this.everMovedUp&&l.canScrollUp()&&(!i||i.distance>p)&&(i={scrollCache:l,name:"top",distance:p}),m<=r&&this.everMovedDown&&l.canScrollDown()&&(!i||i.distance>m)&&(i={scrollCache:l,name:"bottom",distance:m}),d<=r&&this.everMovedLeft&&l.canScrollLeft()&&(!i||i.distance>d)&&(i={scrollCache:l,name:"left",distance:d}),f<=r&&this.everMovedRight&&l.canScrollRight()&&(!i||i.distance>f)&&(i={scrollCache:l,name:"right",distance:f}))}return i},t.prototype.buildCaches=function(){return this.queryScrollEls().map(function(e){return e===window?new Lfe(!1):new bz(e,!1)})},t.prototype.queryScrollEls=function(){for(var e=[],n=0,r=this.scrollQuery;n<r.length;n++){var i=r[n];typeof i=="object"?e.push(i):e.push.apply(e,Array.prototype.slice.call(document.querySelectorAll(i)))}return e},t}(),Pd=function(t){N(e,t);function e(n,r){var i=t.call(this,n)||this;i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(a){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,U3(document.body),H3(document.body),a.isTouch||a.origEvent.preventDefault(),i.emitter.trigger("pointerdown",a),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(a.subjectEl,a.pageX,a.pageY),i.startDelay(a),i.minDistance||i.handleDistanceSurpassed(a)))},i.onPointerMove=function(a){if(i.isInteracting){if(i.emitter.trigger("pointermove",a),!i.isDistanceSurpassed){var l=i.minDistance,c=void 0,d=a.deltaX,f=a.deltaY;c=d*d+f*f,c>=l*l&&i.handleDistanceSurpassed(a)}i.isDragging&&(a.origEvent.type!=="scroll"&&(i.mirror.handleMove(a.pageX,a.pageY),i.autoScroller.handleMove(a.pageX,a.pageY)),i.emitter.trigger("dragmove",a))}},i.onPointerUp=function(a){i.isInteracting&&(i.isInteracting=!1,B3(document.body),V3(document.body),i.emitter.trigger("pointerup",a),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(a)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var o=i.pointer=new ZR(n);return o.emitter.on("pointerdown",i.onPointerDown),o.emitter.on("pointermove",i.onPointerMove),o.emitter.on("pointerup",i.onPointerUp),r&&(o.selector=r),i.mirror=new Mfe,i.autoScroller=new Ffe,i}return e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(n){var r=this;typeof this.delay=="number"?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},e.prototype.handleDelayEnd=function(n){this.isDelayEnded=!0,this.tryStartDrag(n)},e.prototype.handleDistanceSurpassed=function(n){this.isDistanceSurpassed=!0,this.tryStartDrag(n)},e.prototype.tryStartDrag=function(n){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(n.pageX,n.pageY),this.emitter.trigger("dragstart",n),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(n){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,n))},e.prototype.stopDrag=function(n){this.isDragging=!1,this.emitter.trigger("dragend",n)},e.prototype.setIgnoreMove=function(n){this.pointer.shouldIgnoreMove=n},e.prototype.setMirrorIsVisible=function(n){this.mirror.setIsVisible(n)},e.prototype.setMirrorNeedsRevert=function(n){this.mirrorNeedsRevert=n},e.prototype.setAutoScrollEnabled=function(n){this.autoScroller.isEnabled=n},e}(kR),Ufe=function(){function t(e){this.origRect=Ub(e),this.scrollCaches=yR(e).map(function(n){return new bz(n,!0)})}return t.prototype.destroy=function(){for(var e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];r.destroy()}},t.prototype.computeLeft=function(){for(var e=this.origRect.left,n=0,r=this.scrollCaches;n<r.length;n++){var i=r[n];e+=i.origScrollLeft-i.getScrollLeft()}return e},t.prototype.computeTop=function(){for(var e=this.origRect.top,n=0,r=this.scrollCaches;n<r.length;n++){var i=r[n];e+=i.origScrollTop-i.getScrollTop()}return e},t.prototype.isWithinClipping=function(e,n){for(var r={left:e,top:n},i=0,o=this.scrollCaches;i<o.length;i++){var a=o[i];if(!Bfe(a.getEventTarget())&&!Sq(r,a.clientRect))return!1}return!0},t}();function Bfe(t){var e=t.tagName;return e==="HTML"||e==="BODY"}var Mp=function(){function t(e,n){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var o=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(o.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):o.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new oc}return t.prototype.processFirstCoord=function(e){var n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,o;i!==document&&(o=Ub(i),r=xq(r,o));var a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&o){var l=cR(o,a.rect);l&&(r=Tq(l))}this.coordAdjust=Cq(r,n)}else this.coordAdjust={left:0,top:0}},t.prototype.handleMove=function(e,n){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!t_(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},t.prototype.prepareHits=function(){this.offsetTrackers=Ht(this.droppableStore,function(e){return e.component.prepareHits(),new Ufe(e.el)})},t.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var n in e)e[n].destroy();this.offsetTrackers={}},t.prototype.queryHitForOffset=function(e,n){var r=this,i=r.droppableStore,o=r.offsetTrackers,a=null;for(var l in i){var c=i[l].component,d=o[l];if(d&&d.isWithinClipping(e,n)){var f=d.computeLeft(),p=d.computeTop(),m=e-f,g=n-p,y=d.origRect,_=y.right-y.left,w=y.bottom-y.top;if(m>=0&&m<_&&g>=0&&g<w){var S=c.queryHit(m,g,_,w);S&&Sp(S.dateProfile.activeRange,S.dateSpan.range)&&(!a||S.layer>a.layer)&&(S.componentId=l,S.context=c.context,S.rect.left+=f,S.rect.right+=f,S.rect.top+=p,S.rect.bottom+=p,a=S)}}}return a},t}();function t_(t,e){return!t&&!e?!0:Boolean(t)!==Boolean(e)?!1:pq(t.dateSpan,e.dateSpan)}function eA(t,e){for(var n={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++){var o=i[r];I(n,o(t,e))}return I(n,Hfe(t,e.dateEnv)),n}function Hfe(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}var Vfe=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;r.handlePointerDown=function(o){var a=r.dragging,l=o.origEvent.target;a.setIgnoreMove(!r.component.isValidDateDownEl(l))},r.handleDragEnd=function(o){var a=r.component,l=r.dragging.pointer;if(!l.wasTouchScroll){var c=r.hitDragging,d=c.initialHit,f=c.finalHit;if(d&&f&&t_(d,f)){var p=a.context,m=I(I({},eA(d.dateSpan,p)),{dayEl:d.dayEl,jsEvent:o.origEvent,view:p.viewApi||p.calendarApi.view});p.emitter.trigger("dateClick",m)}}},r.dragging=new Pd(n.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new Mp(r.dragging,jb(n));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e}(cc),jfe=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;r.dragSelection=null,r.handlePointerDown=function(c){var d=r,f=d.component,p=d.dragging,m=f.context.options,g=m.selectable&&f.isValidDateDownEl(c.origEvent.target);p.setIgnoreMove(!g),p.delay=c.isTouch?qfe(f):null},r.handleDragStart=function(c){r.component.context.calendarApi.unselect(c)},r.handleHitUpdate=function(c,d){var f=r.component.context,p=null,m=!1;if(c){var g=r.hitDragging.initialHit,y=c.componentId===g.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(g,c);y||(p=zfe(g,c,f.pluginHooks.dateSelectionTransformers)),(!p||!Qq(p,c.dateProfile,f))&&(m=!0,p=null)}p?f.dispatch({type:"SELECT_DATES",selection:p}):d||f.dispatch({type:"UNSELECT_DATES"}),m?mp():vp(),d||(r.dragSelection=p)},r.handlePointerUp=function(c){r.dragSelection&&(oR(r.dragSelection,c,r.component.context),r.dragSelection=null)};var i=n.component,o=i.context.options,a=r.dragging=new Pd(n.el);a.touchScrollAllowed=!1,a.minDistance=o.selectMinDistance||0,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new Mp(r.dragging,jb(n));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),r}return e.prototype.destroy=function(){this.dragging.destroy()},e}(cc);function qfe(t){var e=t.context.options,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function zfe(t,e,n){var r=t.dateSpan,i=e.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(j3);for(var a={},l=0,c=n;l<c.length;l++){var d=c[l],f=d(t,e);if(f===!1)return null;f&&I(a,f)}return a.range={start:o[0],end:o[3]},a.allDay=r.allDay,a}var wz=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(c){var d=c.origEvent.target,f=r,p=f.component,m=f.dragging,g=m.mirror,y=p.context.options,_=p.context;r.subjectEl=c.subjectEl;var w=r.subjectSeg=ic(c.subjectEl),S=r.eventRange=w.eventRange,C=S.instance.instanceId;r.relevantEvents=Cb(_.getCurrentData().eventStore,C),m.minDistance=c.isTouch?0:y.eventDragMinDistance,m.delay=c.isTouch&&C!==p.props.eventSelection?Gfe(p):null,y.fixedMirrorParent?g.parentNode=y.fixedMirrorParent:g.parentNode=Jt(d,".fc"),g.revertDuration=y.dragRevertDuration;var R=p.isValidSegDownEl(d)&&!Jt(d,".fc-event-resizer");m.setIgnoreMove(!R),r.isDragging=R&&c.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(c){var d=r.component.context,f=r.eventRange,p=f.instance.instanceId;c.isTouch?p!==r.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):d.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(d.calendarApi.unselect(c),d.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new tt(d,f.def,f.instance),jsEvent:c.origEvent,view:d.viewApi}))},r.handleHitUpdate=function(c,d){if(!!r.isDragging){var f=r.relevantEvents,p=r.hitDragging.initialHit,m=r.component.context,g=null,y=null,_=null,w=!1,S={affectedEvents:f,mutatedEvents:Nn(),isEvent:!0};if(c){g=c.context;var C=g.options;m===g||C.editable&&C.droppable?(y=Wfe(p,c,g.getCurrentData().pluginHooks.eventDragMutationMassagers),y&&(_=Mb(f,g.getCurrentData().eventUiBases,y,g),S.mutatedEvents=_,Kb(S,c.dateProfile,g)||(w=!0,y=null,_=null,S.mutatedEvents=Nn()))):g=null}r.displayDrag(g,S),w?mp():vp(),d||(m===g&&t_(p,c)&&(y=null),r.dragging.setMirrorNeedsRevert(!y),r.dragging.setMirrorIsVisible(!c||!document.querySelector(".fc-event-mirror")),r.receivingContext=g,r.validMutation=y,r.mutatedRelevantEvents=_)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(c){if(r.isDragging){var d=r.component.context,f=d.viewApi,p=r,m=p.receivingContext,g=p.validMutation,y=r.eventRange.def,_=r.eventRange.instance,w=new tt(d,y,_),S=r.relevantEvents,C=r.mutatedRelevantEvents,R=r.hitDragging.finalHit;if(r.clearDrag(),d.emitter.trigger("eventDragStop",{el:r.subjectEl,event:w,jsEvent:c.origEvent,view:f}),g){if(m===d){var k=new tt(d,C.defs[y.defId],_?C.instances[_.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:C});for(var F={oldEvent:w,event:k,relatedEvents:_a(C,d,_),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:S})}},L={},W=0,$=d.getCurrentData().pluginHooks.eventDropTransformers;W<$.length;W++){var z=$[W];I(L,z(g,d))}d.emitter.trigger("eventDrop",I(I(I({},F),L),{el:c.subjectEl,delta:g.datesDelta,jsEvent:c.origEvent,view:f})),d.emitter.trigger("eventChange",F)}else if(m){var ke={event:w,relatedEvents:_a(S,d,_),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:S})}};d.emitter.trigger("eventLeave",I(I({},ke),{draggedEl:c.subjectEl,view:f})),d.dispatch({type:"REMOVE_EVENTS",eventStore:S}),d.emitter.trigger("eventRemove",ke);var M=C.defs[y.defId],Tt=C.instances[_.instanceId],lt=new tt(m,M,Tt);m.dispatch({type:"MERGE_EVENTS",eventStore:C});var Yr={event:lt,relatedEvents:_a(C,m,Tt),revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:C})}};m.emitter.trigger("eventAdd",Yr),c.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),m.emitter.trigger("drop",I(I({},eA(R.dateSpan,m)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:R.context.viewApi})),m.emitter.trigger("eventReceive",I(I({},Yr),{draggedEl:c.subjectEl,view:R.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}r.cleanup()};var i=r.component,o=i.context.options,a=r.dragging=new Pd(n.el);a.pointer.selector=e.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new Mp(r.dragging,Ap);return l.useSubjectCenter=n.useEventCenter,l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),l.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(n,r){var i=this.component.context,o=this.receivingContext;o&&o!==n&&(o===i?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Nn(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),n&&n.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var n=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),n!==r&&n.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(cc);function Wfe(t,e,n){var r=t.dateSpan,i=e.dateSpan,o=r.range.start,a=i.range.start,l={};r.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(o=ze(o)));var c=rc(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);for(var d={datesDelta:c,standardProps:l},f=0,p=n;f<p.length;f++){var m=p[f];m(d,t,e)}return d}function Gfe(t){var e=t.context.options,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}var Kfe=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(l){var c=r.component,d=r.querySegEl(l),f=ic(d),p=r.eventRange=f.eventRange;r.dragging.minDistance=c.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&r.component.props.eventSelection!==p.instance.instanceId)},r.handleDragStart=function(l){var c=r.component.context,d=r.eventRange;r.relevantEvents=Cb(c.getCurrentData().eventStore,r.eventRange.instance.instanceId);var f=r.querySegEl(l);r.draggingSegEl=f,r.draggingSeg=ic(f),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:f,event:new tt(c,d.def,d.instance),jsEvent:l.origEvent,view:c.viewApi})},r.handleHitUpdate=function(l,c,d){var f=r.component.context,p=r.relevantEvents,m=r.hitDragging.initialHit,g=r.eventRange.instance,y=null,_=null,w=!1,S={affectedEvents:p,mutatedEvents:Nn(),isEvent:!0};if(l){var C=l.componentId===m.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(m,l);C||(y=$fe(m,l,d.subjectEl.classList.contains("fc-event-resizer-start"),g.range))}y&&(_=Mb(p,f.getCurrentData().eventUiBases,y,f),S.mutatedEvents=_,Kb(S,l.dateProfile,f)||(w=!0,y=null,_=null,S.mutatedEvents=null)),_?f.dispatch({type:"SET_EVENT_RESIZE",state:S}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),w?mp():vp(),c||(y&&t_(m,l)&&(y=null),r.validMutation=y,r.mutatedRelevantEvents=_)},r.handleDragEnd=function(l){var c=r.component.context,d=r.eventRange.def,f=r.eventRange.instance,p=new tt(c,d,f),m=r.relevantEvents,g=r.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:p,jsEvent:l.origEvent,view:c.viewApi}),r.validMutation){var y=new tt(c,g.defs[d.defId],f?g.instances[f.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:g});var _={oldEvent:p,event:y,relatedEvents:_a(g,c,f),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:m})}};c.emitter.trigger("eventResize",I(I({},_),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||_e(0),endDelta:r.validMutation.endDelta||_e(0),jsEvent:l.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",_)}else c.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=n.component,o=r.dragging=new Pd(n.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=i.context.options.dragScroll;var a=r.hitDragging=new Mp(r.dragging,jb(n));return a.emitter.on("pointerdown",r.handlePointerDown),a.emitter.on("dragstart",r.handleDragStart),a.emitter.on("hitupdate",r.handleHitUpdate),a.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(n){return Jt(n.subjectEl,".fc-event")},e}(cc);function $fe(t,e,n,r){var i=t.context.dateEnv,o=t.dateSpan.range.start,a=e.dateSpan.range.start,l=rc(o,a,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}var Yfe=function(){function t(e){var n=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(n.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var o=n.context.options.unselectCancel,a=i.origEvent.target;n.matchesCancel=!!Jt(a,o),n.matchesEvent=!!Jt(a,wz.SELECTOR)},this.onDocumentPointerUp=function(i){var o=n.context,a=n.documentPointer,l=o.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!n.isRecentPointerDateSelect){var c=o.options.unselectAuto;c&&(!c||!n.matchesCancel)&&o.calendarApi.unselect(i)}l.eventSelection&&!n.matchesEvent&&o.dispatch({type:"UNSELECT_EVENT"})}n.isRecentPointerDateSelect=!1};var r=this.documentPointer=new ZR(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return t.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},t}(),Xfe={fixedMirrorParent:U},Qfe={dateClick:U,eventDragStart:U,eventDragStop:U,eventDrop:U,eventResizeStart:U,eventResizeStop:U,eventResize:U,drop:U,eventReceive:U,eventLeave:U},Ez=function(){function t(e,n){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(o){r.dragMeta=r.buildDragMeta(o.subjectEl)},this.handleHitUpdate=function(o,a,l){var c=r.hitDragging.dragging,d=null,f=null,p=!1,m={affectedEvents:Nn(),mutatedEvents:Nn(),isEvent:r.dragMeta.create};o&&(d=o.context,r.canDropElOnCalendar(l.subjectEl,d)&&(f=Jfe(o.dateSpan,r.dragMeta,d),m.mutatedEvents=Ed(f),p=!Kb(m,o.dateProfile,d),p&&(m.mutatedEvents=Nn(),f=null))),r.displayDrag(d,m),c.setMirrorIsVisible(a||!f||!document.querySelector(".fc-event-mirror")),p?mp():vp(),a||(c.setMirrorNeedsRevert(!f),r.receivingContext=d,r.droppableEvent=f)},this.handleDragEnd=function(o){var a=r,l=a.receivingContext,c=a.droppableEvent;if(r.clearDrag(),l&&c){var d=r.hitDragging.finalHit,f=d.context.viewApi,p=r.dragMeta;if(l.emitter.trigger("drop",I(I({},eA(d.dateSpan,l)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:f})),p.create){var m=Ed(c);l.dispatch({type:"MERGE_EVENTS",eventStore:m}),o.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c.instance.instanceId}),l.emitter.trigger("eventReceive",{event:new tt(l,c.def,c.instance),relatedEvents:[],revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:m})},draggedEl:o.subjectEl,view:f})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new Mp(e,Ap);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=n}return t.prototype.buildDragMeta=function(e){return typeof this.suppliedDragMeta=="object"?qb(this.suppliedDragMeta):typeof this.suppliedDragMeta=="function"?qb(this.suppliedDragMeta(e)):Zfe(e)},t.prototype.displayDrag=function(e,n){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})},t.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.canDropElOnCalendar=function(e,n){var r=n.options.dropAccept;return typeof r=="function"?r.call(n.calendarApi,e):typeof r=="string"&&r?Boolean(fb(e,r)):!0},t}();function Jfe(t,e,n){for(var r=I({},e.leftoverProps),i=0,o=n.pluginHooks.externalDefTransforms;i<o.length;i++){var a=o[i];I(r,a(t,e))}var l=Db(r,n),c=l.refined,d=l.extra,f=wp(c,d,e.sourceId,t.allDay,n.options.forceEventDuration||Boolean(e.duration),n),p=t.range.start;t.allDay&&e.startTime&&(p=n.dateEnv.add(p,e.startTime));var m=e.duration?n.dateEnv.add(p,e.duration):Pb(t.allDay,p,n),g=gp(f.defId,{start:p,end:m});return{def:f,instance:g}}function Zfe(t){var e=ehe(t,"event"),n=e?JSON.parse(e):{create:!1};return qb(n)}zn.dataAttrPrefix="";function ehe(t,e){var n=zn.dataAttrPrefix,r=(n?n+"-":"")+e;return t.getAttribute("data-"+r)||""}var YCe=function(){function t(e,n){var r=this;n===void 0&&(n={}),this.handlePointerDown=function(o){var a=r.dragging,l=r.settings,c=l.minDistance,d=l.longPressDelay;a.minDistance=c??(o.isTouch?0:tc.eventDragMinDistance),a.delay=o.isTouch?d??tc.longPressDelay:0},this.handleDragStart=function(o){o.isTouch&&r.dragging.delay&&o.subjectEl.classList.contains("fc-event")&&r.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=n;var i=this.dragging=new Pd(e);i.touchScrollAllowed=!1,n.itemSelector!=null&&(i.pointer.selector=n.itemSelector),n.appendTo!=null&&(i.mirror.parentNode=n.appendTo),i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),new Ez(i,n.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),the=function(t){N(e,t);function e(n){var r=t.call(this,n)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(o){r.emitter.trigger("pointerdown",o),r.shouldIgnoreMove||r.emitter.trigger("dragstart",o)},r.handlePointerMove=function(o){r.shouldIgnoreMove||r.emitter.trigger("dragmove",o)},r.handlePointerUp=function(o){r.emitter.trigger("pointerup",o),r.shouldIgnoreMove||r.emitter.trigger("dragend",o)};var i=r.pointer=new ZR(n);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}return e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(n){this.shouldIgnoreMove=n},e.prototype.setMirrorIsVisible=function(n){if(n)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}},e}(kR),XCe=function(){function t(e,n){var r=document;e===document||e instanceof Element?(r=e,n=n||{}):n=e||{};var i=this.dragging=new the(r);typeof n.itemSelector=="string"?i.pointer.selector=n.itemSelector:r===document&&(i.pointer.selector="[data-event]"),typeof n.mirrorSelector=="string"&&(i.mirrorSelector=n.mirrorSelector),new Ez(i,n.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),nhe=Nt({componentInteractions:[Vfe,jfe,wz,Kfe],calendarInteractions:[Yfe],elementDraggingImpl:Pd,optionRefiners:Xfe,listenerRefiners:Qfe}),Sz=nhe;var rhe="2021-05-12",ihe=365+7,ohe="http://fullcalendar.io/docs/schedulerLicenseKey#invalid",she="http://fullcalendar.io/docs/schedulerLicenseKey#outdated",ahe=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],lhe={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};function che(t){var e=t.options.schedulerLicenseKey,n=typeof window!="undefined"?window.location.href:"";if(!dhe(n)){var r=uhe(e);if(r!=="valid")return x("div",{className:"fc-license-message",style:lhe},r==="outdated"?x(ye,null,"Your license key is too old to work with this version. ",x("a",{href:she},"More Info")):x(ye,null,"Your license key is invalid. ",x("a",{href:ohe},"More Info")))}return null}function uhe(t){if(ahe.indexOf(t)!==-1)return"valid";var e=(t||"").match(/^(\d+)-fcs-(\d+)$/);if(e&&e[1].length===10){var n=new Date(parseInt(e[2],10)*1e3),r=new Date(zn.mockSchedulerReleaseDate||rhe);if(mb(r)){var i=Zt(r,-ihe);return i<n?"valid":"outdated"}}return"invalid"}function dhe(t){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(t)}var fhe={schedulerLicenseKey:String},hhe=Nt({optionRefiners:fhe,viewContainerAppends:[che]}),Ta=hhe;ie();ie();var xz="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" "),Tz=function(){function t(e){var n=this;this.el=e,this.emitter=new oc,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new lc(this._handleWheelWaited.bind(this)),this.scrollWaiter=new lc(this._handleScrollWaited.bind(this)),this.handleScroll=function(){n.startScroll(),n.emitter.trigger("scroll",n.isRecentlyWheeled,n.isTouching),n.isRecentlyScrolled=!0,n.scrollWaiter.request(500)},this.handleWheel=function(){n.isRecentlyWheeled=!0,n.wheelWaiter.request(500)},this.handleTouchStart=function(){n.isTouching=!0},this.handleTouchEnd=function(){n.isTouching=!1,n.isRecentlyScrolled||n.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(var r=0,i=xz;r<i.length;r++){var o=i[r];e.addEventListener(o,this.handleWheel)}}return t.prototype.destroy=function(){var e=this.el;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(var n=0,r=xz;n<r.length;n++){var i=r[n];e.removeEventListener(i,this.handleWheel)}},t.prototype.startScroll=function(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))},t.prototype.endScroll=function(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())},t.prototype._handleScrollWaited=function(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()},t.prototype._handleWheelWaited=function(){this.isRecentlyWheeled=!1},t}();function phe(t){var e=t.getBoundingClientRect(),n=gR(t);return{left:e.left+n.borderLeft+n.scrollbarLeft-Cz(t),top:e.top+n.borderTop-t.scrollTop}}function Cz(t){var e=t.scrollLeft,n=window.getComputedStyle(t);if(n.direction==="rtl")switch(Rz()){case"negative":e=t.scrollWidth-t.clientWidth+e;break;case"reverse":e=t.scrollWidth-t.clientWidth-e;break}return e}function mhe(t,e){var n=window.getComputedStyle(t);if(n.direction==="rtl")switch(Rz()){case"positive":e=t.scrollWidth-t.clientWidth+e;break;case"reverse":e=-e;break}t.scrollLeft=e}var Iz;function Rz(){return Iz||(Iz=vhe())}function vhe(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-1000px",t.style.width="1px",t.style.height="1px",t.style.overflow="scroll",t.style.direction="rtl",t.style.fontSize="100px",t.innerHTML="A",document.body.appendChild(t);var e;return t.scrollLeft>0?e="positive":(t.scrollLeft=1,t.scrollLeft>0?e="reverse":e="negative"),ec(t),e}var ghe=typeof navigator!="undefined"&&/Edge/.test(navigator.userAgent),yhe=".fc-sticky",bhe=function(){function t(e,n){var r=this;this.scrollEl=e,this.isRtl=n,this.usingRelative=null,this.updateSize=function(){var i=r.scrollEl,o=cs(i,yhe),a=r.queryElGeoms(o),l=i.clientWidth,c=i.clientHeight;if(r.usingRelative){var d=r.computeElDestinations(a,l);_he(o,a,d,l,c)}else whe(o,a,l)},this.usingRelative=!Ehe()||ghe&&n,this.usingRelative&&(this.listener=new Tz(e),this.listener.emitter.on("scrollEnd",this.updateSize))}return t.prototype.destroy=function(){this.listener&&this.listener.destroy()},t.prototype.queryElGeoms=function(e){for(var n=this,r=n.scrollEl,i=n.isRtl,o=phe(r),a=[],l=0,c=e;l<c.length;l++){var d=c[l],f=uR(Fb(d.parentNode,!0,!0),-o.left,-o.top),p=d.getBoundingClientRect(),m=window.getComputedStyle(d),g=window.getComputedStyle(d.parentNode).textAlign,y=null;g==="start"?g=i?"right":"left":g==="end"&&(g=i?"left":"right"),m.position!=="sticky"&&(y=uR(p,-o.left-(parseFloat(m.left)||0),-o.top-(parseFloat(m.top)||0))),a.push({parentBound:f,naturalBound:y,elWidth:p.width,elHeight:p.height,textAlign:g})}return a},t.prototype.computeElDestinations=function(e,n){var r=this.scrollEl,i=r.scrollTop,o=Cz(r),a=o+n;return e.map(function(l){var c=l.elWidth,d=l.elHeight,f=l.parentBound,p=l.naturalBound,m,g;switch(l.textAlign){case"left":m=o;break;case"right":m=a-c;break;case"center":m=(o+a)/2-c/2;break}return m=Math.min(m,f.right-c),m=Math.max(m,f.left),g=i,g=Math.min(g,f.bottom-d),g=Math.max(g,p.top),{left:m,top:g}})},t}();function _he(t,e,n,r,i){t.forEach(function(o,a){var l=e[a],c=l.naturalBound,d=l.parentBound,f=d.right-d.left,p=d.bottom-d.bottom,m,g;f>r||p>i?(m=n[a].left-c.left,g=n[a].top-c.top):(m="",g=""),us(o,{position:"relative",left:m,right:-m,top:g})})}function whe(t,e,n){t.forEach(function(r,i){var o=e[i],a=o.textAlign,l=o.elWidth,c=o.parentBound,d=c.right-c.left,f;a==="center"&&d>n?f=(n-l)/2:f="",us(r,{left:f,right:f,top:0})})}function Ehe(){var t=document.createElement("div");t.className="fc-sticky",document.body.appendChild(t);var e=window.getComputedStyle(t).position;return ec(t),e.indexOf("sticky")!==-1?e:null}var She=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.elRef=Ce(),n.state={xScrollbarWidth:0,yScrollbarWidth:0},n.handleScroller=function(r){n.scroller=r,Vt(n.props.scrollerRef,r)},n.handleSizing=function(){var r=n.props;r.overflowY==="scroll-hidden"&&n.setState({yScrollbarWidth:n.scroller.getYScrollbarWidth()}),r.overflowX==="scroll-hidden"&&n.setState({xScrollbarWidth:n.scroller.getXScrollbarWidth()})},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=o.isRtl&&Ip(),l=0,c=0,d=0;return r.overflowX==="scroll-hidden"&&(d=i.xScrollbarWidth),r.overflowY==="scroll-hidden"&&i.yScrollbarWidth!=null&&(a?l=i.yScrollbarWidth:c=i.yScrollbarWidth),x("div",{ref:this.elRef,className:"fc-scroller-harness"+(r.liquid?" fc-scroller-harness-liquid":"")},x(FR,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:r.overflowX==="scroll-hidden"?"scroll":r.overflowX,overflowY:r.overflowY==="scroll-hidden"?"scroll":r.overflowY,overcomeLeft:l,overcomeRight:c,overcomeBottom:d,maxHeight:typeof r.maxHeight=="number"?r.maxHeight+(r.overflowX==="scroll-hidden"?i.xScrollbarWidth:0):"",liquid:r.liquid,liquidIsAbsolute:!0},r.children))},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(n){cn(n,this.props)||this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.needsXScrolling=function(){return this.scroller.needsXScrolling()},e.prototype.needsYScrolling=function(){return this.scroller.needsYScrolling()},e}(te),xhe=function(){function t(e,n){var r=this;this.isVertical=e,this.scrollEls=n,this.isPaused=!1,this.scrollListeners=n.map(function(i){return r.bindScroller(i)})}return t.prototype.destroy=function(){for(var e=0,n=this.scrollListeners;e<n.length;e++){var r=n[e];r.destroy()}},t.prototype.bindScroller=function(e){var n=this,r=this,i=r.scrollEls,o=r.isVertical,a=new Tz(e),l=function(d,f){if(!n.isPaused&&((!n.masterEl||n.masterEl!==e&&(d||f))&&n.assignMaster(e),n.masterEl===e))for(var p=0,m=i;p<m.length;p++){var g=m[p];g!==e&&(o?g.scrollTop=e.scrollTop:g.scrollLeft=e.scrollLeft)}},c=function(){n.masterEl===e&&(n.masterEl=null)};return a.emitter.on("scroll",l),a.emitter.on("scrollEnd",c),a},t.prototype.assignMaster=function(e){this.masterEl=e;for(var n=0,r=this.scrollListeners;n<r.length;n++){var i=r[n];i.el!==e&&i.endScroll()}},t.prototype.forceScrollLeft=function(e){this.isPaused=!0;for(var n=0,r=this.scrollListeners;n<r.length;n++){var i=r[n];mhe(i.el,e)}this.isPaused=!1},t.prototype.forceScrollTop=function(e){this.isPaused=!0;for(var n=0,r=this.scrollListeners;n<r.length;n++){var i=r[n];i.el.scrollTop=e}this.isPaused=!1},t}(),Md=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.compileColGroupStats=_b(Rhe,khe),n.renderMicroColGroups=_b(jR),n.clippedScrollerRefs=new Ot,n.scrollerElRefs=new Ot(n._handleScrollerEl.bind(n)),n.chunkElRefs=new Ot(n._handleChunkEl.bind(n)),n.getStickyScrolling=_b(Dhe,null,Nz),n.getScrollSyncersBySection=ZI(Dz.bind(n,!0),null,n_),n.getScrollSyncersByColumn=ZI(Dz.bind(n,!1),null,n_),n.stickyScrollings=[],n.scrollSyncersBySection={},n.scrollSyncersByColumn={},n.rowUnstableMap=new Map,n.rowInnerMaxHeightMap=new Map,n.anyRowHeightsChanged=!1,n.recentSizingCnt=0,n.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},n.handleSizing=function(r,i){if(!!n.allowSizing()){i||(n.anyRowHeightsChanged=!0);var o={};(r||!i&&!n.rowUnstableMap.size)&&(o.sectionRowMaxHeights=n.computeSectionRowMaxHeights()),n.setState(I(I({shrinkWidths:n.computeShrinkWidths()},n.computeScrollerDims()),o),function(){n.rowUnstableMap.size||n.updateStickyScrolling()})}},n.handleRowHeightChange=function(r,i){var o=n,a=o.rowUnstableMap,l=o.rowInnerMaxHeightMap;if(!i)a.set(r,!0);else{a.delete(r);var c=Az(r);(!l.has(r)||l.get(r)!==c)&&(l.set(r,c),n.anyRowHeightsChanged=!0),!a.size&&n.anyRowHeightsChanged&&(n.anyRowHeightsChanged=!1,n.setState({sectionRowMaxHeights:n.computeSectionRowMaxHeights()}))}},n}return e.prototype.render=function(){for(var n=this,r=n.props,i=n.state,o=n.context,a=i.shrinkWidths,l=this.compileColGroupStats(r.colGroups.map(function(F){return[F]})),c=this.renderMicroColGroups(l.map(function(F,L){return[F.cols,a[L]]})),d=WR(r.liquid,o),f=this.getDims(),p=f[0],m=f[1],g=r.sections,y=g.length,_=0,w,S=[],C=[],R=[];_<y&&(w=g[_]).type==="header";)S.push(this.renderSection(w,_,l,c,i.sectionRowMaxHeights)),_+=1;for(;_<y&&(w=g[_]).type==="body";)C.push(this.renderSection(w,_,l,c,i.sectionRowMaxHeights)),_+=1;for(;_<y&&(w=g[_]).type==="footer";)R.push(this.renderSection(w,_,l,c,i.sectionRowMaxHeights)),_+=1;var k=!Lb();return x("table",{ref:r.elRef,className:d.join(" ")},Ihe(l,a),Boolean(!k&&S.length)&&x.apply(void 0,Oe(["thead",{}],S)),Boolean(!k&&C.length)&&x.apply(void 0,Oe(["tbody",{}],C)),Boolean(!k&&R.length)&&x.apply(void 0,Oe(["tfoot",{}],R)),k&&x.apply(void 0,Oe(["tbody",{}],S,C,R)))},e.prototype.renderSection=function(n,r,i,o,a){var l=this;return"outerContent"in n?x(ye,{key:n.key},n.outerContent):x("tr",{key:n.key,className:GR(n,this.props.liquid).join(" ")},n.chunks.map(function(c,d){return l.renderChunk(n,r,i[d],o[d],c,d,(a[r]||[])[d]||[])}))},e.prototype.renderChunk=function(n,r,i,o,a,l,c){if("outerContent"in a)return x(ye,{key:a.key},a.outerContent);var d=this.state,f=d.scrollerClientWidths,p=d.scrollerClientHeights,m=this.getDims(),g=m[0],y=m[1],_=r*y+l,w=!this.context.isRtl||Ip()?y-1:0,S=l===w,C=r===g-1,R=C&&d.forceXScrollbars,k=S&&d.forceYScrollbars,F=i&&i.allowXScrolling,L=BR(this.props,n),W=Yb(this.props,n),$=n.expandRows&&W,z=i&&i.totalColMinWidth||"",ke=HR(n,a,{tableColGroupNode:o,tableMinWidth:z,clientWidth:f[_]!==void 0?f[_]:null,clientHeight:p[_]!==void 0?p[_]:null,expandRows:$,syncRowHeights:Boolean(n.syncRowHeights),rowSyncHeights:c,reportRowHeightChange:this.handleRowHeightChange}),M=R?C?"scroll":"scroll-hidden":F?C?"auto":"scroll-hidden":"hidden",Tt=k?S?"scroll":"scroll-hidden":L?S?"auto":"scroll-hidden":"hidden";return ke=x(She,{ref:this.clippedScrollerRefs.createRef(_),scrollerElRef:this.scrollerElRefs.createRef(_),overflowX:M,overflowY:Tt,liquid:W,maxHeight:n.maxHeight},ke),x("td",{key:a.key,ref:this.chunkElRefs.createRef(_)},ke)},e.prototype.componentDidMount=function(){this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(n,r){this.updateScrollSyncers(),this.handleSizing(!1,r.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing),this.destroyStickyScrolling(),this.destroyScrollSyncers()},e.prototype.allowSizing=function(){var n=new Date;return!this.lastSizingDate||n.valueOf()>this.lastSizingDate.valueOf()+zn.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=n,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10},e.prototype.computeShrinkWidths=function(){var n=this,r=this.compileColGroupStats(this.props.colGroups.map(function(d){return[d]})),i=this.getDims(),o=i[0],a=i[1],l=o*a,c=[];return r.forEach(function(d,f){if(d.hasShrinkCol){var p=n.chunkElRefs.collect(f,l,a);c[f]=UR(p)}}),c},e.prototype.computeSectionRowMaxHeights=function(){for(var n=new Map,r=this.getDims(),i=r[0],o=r[1],a=[],l=0;l<i;l+=1){var c=this.props.sections[l],d=[];if(c&&c.syncRowHeights){for(var f=[],p=0;p<o;p+=1){var m=l*o+p,g=[],y=this.chunkElRefs.currentMap[m];y?g=cs(y,".fc-scrollgrid-sync-table tr").map(function(lt){var Yr=Az(lt);return n.set(lt,Yr),Yr}):g=[],f.push(g)}for(var _=f[0].length,w=!0,p=1;p<o;p+=1){var S=c.chunks[p]&&c.chunks[p].outerContent!==void 0;if(!S&&f[p].length!==_){w=!1;break}}if(w){for(var p=0;p<o;p+=1)d.push([]);for(var z=0;z<_;z+=1){for(var ke=[],p=0;p<o;p+=1){var M=f[p][z];M!=null&&ke.push(M)}for(var Tt=Math.max.apply(Math,ke),p=0;p<o;p+=1)d[p].push(Tt)}}else{for(var C=[],p=0;p<o;p+=1)C.push(The(f[p])+f[p].length);for(var R=Math.max.apply(Math,C),p=0;p<o;p+=1){var k=f[p].length,F=R-k,L=Math.floor(F/k),W=F-L*(k-1),$=[],z=0;for(z<k&&($.push(W),z+=1);z<k;)$.push(L),z+=1;d.push($)}}}a.push(d)}return this.rowInnerMaxHeightMap=n,a},e.prototype.computeScrollerDims=function(){for(var n=vR(),r=this.getDims(),i=r[0],o=r[1],a=!this.context.isRtl||Ip()?o-1:0,l=i-1,c=this.clippedScrollerRefs.currentMap,d=this.scrollerElRefs.currentMap,f=!1,p=!1,m={},g={},y=0;y<i;y+=1){var _=y*o+a,w=c[_];if(w&&w.needsYScrolling()){f=!0;break}}for(var S=0;S<o;S+=1){var _=l*o+S,w=c[_];if(w&&w.needsXScrolling()){p=!0;break}}for(var y=0;y<i;y+=1)for(var S=0;S<o;S+=1){var _=y*o+S,C=d[_];if(C){var R=C.parentNode;m[_]=Math.floor(R.getBoundingClientRect().width-(S===a&&f?n.y:0)),g[_]=Math.floor(R.getBoundingClientRect().height-(y===l&&p?n.x:0))}}return{forceYScrollbars:f,forceXScrollbars:p,scrollerClientWidths:m,scrollerClientHeights:g}},e.prototype.updateStickyScrolling=function(){var n=this.context.isRtl,r=this.scrollerElRefs.getAll().map(function(o){return[o,n]}),i=this.getStickyScrolling(r);i.forEach(function(o){return o.updateSize()}),this.stickyScrollings=i},e.prototype.destroyStickyScrolling=function(){this.stickyScrollings.forEach(Nz)},e.prototype.updateScrollSyncers=function(){for(var n=this.getDims(),r=n[0],i=n[1],o=r*i,a={},l={},c=this.scrollerElRefs.currentMap,d=0;d<r;d+=1){var f=d*i,p=f+i;a[d]=XI(c,f,p,1)}for(var m=0;m<i;m+=1)l[m]=this.scrollerElRefs.collect(m,o,i);this.scrollSyncersBySection=this.getScrollSyncersBySection(a),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(l)},e.prototype.destroyScrollSyncers=function(){Ht(this.scrollSyncersBySection,n_),Ht(this.scrollSyncersByColumn,n_)},e.prototype.getChunkConfigByIndex=function(n){var r=this.getDims()[1],i=Math.floor(n/r),o=n%r,a=this.props.sections[i];return a&&a.chunks[o]},e.prototype.forceScrollLeft=function(n,r){var i=this.scrollSyncersByColumn[n];i&&i.forceScrollLeft(r)},e.prototype.forceScrollTop=function(n,r){var i=this.scrollSyncersBySection[n];i&&i.forceScrollTop(r)},e.prototype._handleChunkEl=function(n,r){var i=this.getChunkConfigByIndex(parseInt(r,10));i&&Vt(i.elRef,n)},e.prototype._handleScrollerEl=function(n,r){var i=this.getChunkConfigByIndex(parseInt(r,10));i&&Vt(i.scrollerElRef,n)},e.prototype.getDims=function(){var n=this.props.sections.length,r=n?this.props.sections[0].chunks.length:0;return[n,r]},e}(te);Md.addStateEquality({shrinkWidths:Cr,scrollerClientWidths:cn,scrollerClientHeights:cn});function The(t){for(var e=0,n=0,r=t;n<r.length;n++){var i=r[n];e+=i}return e}function Az(t){var e=cs(t,".fc-scrollgrid-sync-inner").map(Che);return e.length?Math.max.apply(Math,e):0}function Che(t){return t.offsetHeight}function Ihe(t,e){var n=t.map(function(r,i){var o=r.width;return o==="shrink"&&(o=r.totalColWidth+qR(e[i])+1),x("col",{style:{width:o}})});return x.apply(void 0,Oe(["colgroup",{}],n))}function Rhe(t){var e=kz(t.cols,"width"),n=kz(t.cols,"minWidth"),r=zR(t.cols),i=t.width!=="shrink"&&Boolean(e||n||r);return{hasShrinkCol:r,totalColWidth:e,totalColMinWidth:n,allowXScrolling:i,cols:t.cols,width:t.width}}function kz(t,e){for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r],a=o[e];typeof a=="number"&&(n+=a*(o.span||1))}return n}var Ahe={cols:VR};function khe(t,e){return gb(t,e,Ahe)}function Dz(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new xhe(t,e)}function n_(t){t.destroy()}function Dhe(t,e){return new bhe(t,e)}function Nz(t){t.destroy()}var aIe=Nt({deps:[Ta],scrollGridImpl:Md});zn.SCROLLGRID_RESIZE_INTERVAL=500;var Nhe=18,r_=6,Ohe=200;zn.MAX_TIMELINE_SLOTS=1e3;var tA=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function nA(t,e,n,r){var i={labelInterval:n.slotLabelInterval,slotDuration:n.slotDuration};Mhe(i,t,e),Pz(i,t,e),Lhe(i,t,e);var o=n.slotLabelFormat,a=Array.isArray(o)?o:o!=null?[o]:Fhe(i,t,e,n);i.headerFormats=a.map(function(F){return bt(F)}),i.isTimeScale=Boolean(i.slotDuration.milliseconds);var l=null;if(!i.isTimeScale){var c=Ro(i.slotDuration).unit;/year|month|week/.test(c)&&(l=c)}i.largeUnit=l,i.emphasizeWeeks=QI(i.slotDuration)===1&&Ld("weeks",t,e)>=2&&!n.businessHours;var d=n.snapDuration,f,p;d&&(f=_e(d),p=Io(i.slotDuration,f)),p==null&&(f=i.slotDuration,p=1),i.snapDuration=f,i.snapsPerSlot=p;var m=gn(t.slotMaxTime)-gn(t.slotMinTime),g=Oz(t.renderRange.start,i,e),y=Oz(t.renderRange.end,i,e);i.isTimeScale&&(g=e.add(g,t.slotMinTime),y=e.add(Zt(y,-1),t.slotMaxTime)),i.timeWindowMs=m,i.normalizedRange={start:g,end:y};for(var _=[],w=g;w<y;)i_(w,i,t,r)&&_.push(w),w=e.add(w,i.slotDuration);i.slotDates=_;var S=-1,C=0,R=[],k=[];for(w=g;w<y;)i_(w,i,t,r)?(S+=1,R.push(S),k.push(C)):R.push(S+.5),w=e.add(w,i.snapDuration),C+=1;return i.snapDiffToIndex=R,i.snapIndexToDiff=k,i.snapCnt=S+1,i.slotCnt=i.snapCnt/i.snapsPerSlot,i.isWeekStarts=Uhe(i,e),i.cellRows=Bhe(i,e),i.slotsPerLabel=Io(i.labelInterval,i.slotDuration),i}function Oz(t,e,n){var r=t;return e.isTimeScale||(r=ze(r),e.largeUnit&&(r=n.startOf(r,e.largeUnit))),r}function Phe(t,e,n){if(!e.isTimeScale&&(t=Nb(t),e.largeUnit)){var r=t;t={start:n.startOf(t.start,e.largeUnit),end:n.startOf(t.end,e.largeUnit)},(t.end.valueOf()!==r.end.valueOf()||t.end<=t.start)&&(t={start:t.start,end:n.add(t.end,e.slotDuration)})}return t}function i_(t,e,n,r){if(r.isHiddenDay(t))return!1;if(e.isTimeScale){var i=ze(t),o=t.valueOf()-i.valueOf(),a=o-gn(n.slotMinTime);return a=(a%864e5+864e5)%864e5,a<e.timeWindowMs}return!0}function Mhe(t,e,n){var r=e.currentRange;if(t.labelInterval){var i=n.countDurationsBetween(r.start,r.end,t.labelInterval);i>zn.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),t.labelInterval=null)}if(t.slotDuration){var o=n.countDurationsBetween(r.start,r.end,t.slotDuration);o>zn.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),t.slotDuration=null)}if(t.labelInterval&&t.slotDuration){var a=Io(t.labelInterval,t.slotDuration);(a===null||a<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),t.slotDuration=null)}}function Pz(t,e,n){var r=e.currentRange,i=t.labelInterval;if(!i){var o=void 0;if(t.slotDuration){for(var a=0,l=tA;a<l.length;a++){o=l[a];var c=_e(o),d=Io(c,t.slotDuration);if(d!==null&&d<=r_){i=c;break}}i||(i=t.slotDuration)}else for(var f=0,p=tA;f<p.length;f++){o=p[f],i=_e(o);var m=n.countDurationsBetween(r.start,r.end,i);if(m>=Nhe)break}t.labelInterval=i}return i}function Lhe(t,e,n){var r=e.currentRange,i=t.slotDuration;if(!i){for(var o=Pz(t,e,n),a=0,l=tA;a<l.length;a++){var c=l[a],d=_e(c),f=Io(o,d);if(f!==null&&f>1&&f<=r_){i=d;break}}if(i){var p=n.countDurationsBetween(r.start,r.end,i);p>Ohe&&(i=null)}i||(i=o),t.slotDuration=i}return i}function Fhe(t,e,n,r){var i,o,a=t.labelInterval,l=Ro(a).unit,c=r.weekNumbers,d=i=o=null;switch(l==="week"&&!c&&(l="day"),l){case"year":d={year:"numeric"};break;case"month":Ld("years",e,n)>1&&(d={year:"numeric"}),i={month:"short"};break;case"week":Ld("years",e,n)>1&&(d={year:"numeric"}),i={week:"narrow"};break;case"day":Ld("years",e,n)>1?d={year:"numeric",month:"long"}:Ld("months",e,n)>1&&(d={month:"long"}),c&&(i={week:"short"}),o={weekday:"narrow",day:"numeric"};break;case"hour":c&&(d={week:"short"}),Ld("days",e,n)>1&&(i={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),o={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":Q3(a)/60>=r_?(d={hour:"numeric",meridiem:"short"},i=function(f){return":"+To(f.date.minute,2)}):d={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":J3(a)/60>=r_?(d={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},i=function(f){return":"+To(f.date.second,2)}):d={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":d={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},i=function(f){return"."+To(f.millisecond,3)};break}return[].concat(d||[],i||[],o||[])}function Ld(t,e,n){var r=e.currentRange,i=null;return t==="years"?i=n.diffWholeYears(r.start,r.end):t==="months"||t==="weeks"?i=n.diffWholeMonths(r.start,r.end):t==="days"&&(i=yd(r.start,r.end)),i||0}function Uhe(t,e){for(var n=t.slotDates,r=t.emphasizeWeeks,i=null,o=[],a=0,l=n;a<l.length;a++){var c=l[a],d=e.computeWeekNumber(c),f=r&&i!==null&&i!==d;i=d,o.push(f)}return o}function Bhe(t,e){for(var n=t.slotDates,r=t.headerFormats,i=r.map(function(){return[]}),o=QI(t.slotDuration),a=o===7?"week":o===1?"day":null,l=r.map(function(k){return k.getLargestUnit?k.getLargestUnit():null}),c=0;c<n.length;c+=1)for(var d=n[c],f=t.isWeekStarts[c],p=0;p<r.length;p+=1){var m=r[p],g=i[p],y=g[g.length-1],_=p===r.length-1,w=r.length>1&&!_,S=null,C=l[p]||(_?a:null);if(w){var R=e.format(d,m);!y||y.text!==R?S=Mz(d,R,C):y.colspan+=1}else if(!y||ma(e.countDurationsBetween(t.normalizedRange.start,d,t.labelInterval))){var R=e.format(d,m);S=Mz(d,R,C)}else y.colspan+=1;S&&(S.weekStart=f,g.push(S))}return i}function Mz(t,e,n){return{date:t,text:e,rowUnit:n,colspan:1,isWeekStart:!1}}var Hhe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.navLinkData?{"data-navlink":r.navLinkData,tabIndex:0}:{};return x(sc,{hookProps:r.hookProps,content:i.options.slotLabelContent,defaultContent:Vhe},function(a,l){return x("a",I({ref:a,className:"fc-timeline-slot-cushion fc-scrollgrid-sync-inner"+(r.isSticky?" fc-sticky":"")},o),l)})},e}(te);function Vhe(t){return t.text}function jhe(t){return{level:t.level,date:t.dateEnv.toDate(t.dateMarker),view:t.viewApi,text:t.text}}var qhe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=fs(jhe),n.normalizeClassNames=ac(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.dateEnv,a=i.options,l=r.cell,c=r.dateProfile,d=r.tDateProfile,f=Cp(l.date,r.todayRange,r.nowDate,c),p=["fc-timeline-slot","fc-timeline-slot-label"].concat(l.rowUnit==="time"?hR(f,i.theme):Cd(f,i.theme));l.isWeekStart&&p.push("fc-timeline-slot-em");var m=a.navLinks&&l.rowUnit&&l.rowUnit!=="time"?wa(l.date,l.rowUnit):null,g=this.refineHookProps({level:r.rowLevel,dateMarker:l.date,text:l.text,dateEnv:i.dateEnv,viewApi:i.viewApi}),y=this.normalizeClassNames(a.slotLabelClassNames,g);return x(Sa,{hookProps:g,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},function(_){return x("th",{ref:_,className:p.concat(y).join(" "),"data-date":o.formatIso(l.date,{omitTime:!d.isTimeScale,omitTimeZoneOffset:!0}),colSpan:l.colspan},x("div",{className:"fc-timeline-slot-frame",style:{height:r.rowInnerHeight}},x(Hhe,{hookProps:g,isSticky:r.isSticky,navLinkData:m})))})},e}(te),zhe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.dateProfile,i=n.tDateProfile,o=n.rowInnerHeights,a=n.todayRange,l=n.nowDate,c=i.cellRows;return x(ye,null,c.map(function(d,f){var p=f===c.length-1,m=i.isTimeScale&&p,g=["fc-timeline-header-row",m?"fc-timeline-header-row-chrono":""];return x("tr",{key:f,className:g.join(" ")},d.map(function(y){return x(qhe,{key:y.date.toISOString(),cell:y,rowLevel:f,dateProfile:r,tDateProfile:i,todayRange:a,nowDate:l,rowInnerHeight:o&&o[f],isSticky:!p})}))}))},e}(te),rA=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=Ro(i.tDateProfile.slotDuration).unit,l=i.slatCoords&&i.slatCoords.dateProfile===i.dateProfile?i.slatCoords:null;return x($r,{unit:a},function(c,d){return x("div",{className:"fc-timeline-header",ref:n.rootElRef},x("table",{className:"fc-scrollgrid-sync-table",style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,x("tbody",null,x(zhe,{dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:c,todayRange:d,rowInnerHeights:i.rowInnerHeights}))),o.options.nowIndicator&&x("div",{className:"fc-timeline-now-indicator-container"},l&&l.isDateInRange(c)&&x(ps,{isAxis:!0,date:c},function(f,p,m,g){return x("div",{ref:f,className:["fc-timeline-now-indicator-arrow"].concat(p).join(" "),style:{left:l.dateToCoord(c)}},g)})))})},e.prototype.componentDidMount=function(){this.updateSize()},e.prototype.componentDidUpdate=function(){this.updateSize()},e.prototype.updateSize=function(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())},e.prototype.computeMaxCushionWidth=function(){return Math.max.apply(Math,cs(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(function(n){return n.getBoundingClientRect().width}))},e}(te),Whe=function(){function t(e,n,r,i,o,a){this.slatRootEl=e,this.dateProfile=r,this.tDateProfile=i,this.dateEnv=o,this.isRtl=a,this.outerCoordCache=new wi(e,n,!0,!1),this.innerCoordCache=new wi(e,N3(n,"div"),!0,!1)}return t.prototype.rangeToCoords=function(e){return this.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},t.prototype.isDateInRange=function(e){return _i(this.dateProfile.currentRange,e)},t.prototype.dateToCoord=function(e){var n=this.tDateProfile,r=this.computeDateSnapCoverage(e),i=r/n.snapsPerSlot,o=Math.floor(i);o=Math.min(o,n.slotCnt-1);var a=i-o,l=this,c=l.innerCoordCache,d=l.outerCoordCache;return this.isRtl?d.rights[o]-c.getWidth(o)*a-d.originClientRect.width:d.lefts[o]+c.getWidth(o)*a},t.prototype.computeDateSnapCoverage=function(e){return iA(e,this.tDateProfile,this.dateEnv)},t.prototype.computeDurationLeft=function(e){var n=this,r=n.dateProfile,i=n.tDateProfile,o=n.dateEnv,a=n.isRtl,l=0;if(r){var c=o.add(r.activeRange.start,e);i.isTimeScale||(c=ze(c)),l=this.dateToCoord(c),!a&&l&&(l+=1)}return l},t}();function iA(t,e,n){var r=n.countDurationsBetween(e.normalizedRange.start,t,e.snapDuration);if(r<0)return 0;if(r>=e.snapDiffToIndex.length)return e.snapCnt;var i=Math.floor(r),o=e.snapDiffToIndex[i];return ma(o)?o+=r-i:o=Math.ceil(o),o}var Ghe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.dateEnv,a=i.options,l=i.theme,c=r.date,d=r.tDateProfile,f=r.isEm,p=Cp(r.date,r.todayRange,r.nowDate,r.dateProfile),m=["fc-timeline-slot","fc-timeline-slot-lane"],g={"data-date":o.formatIso(c,{omitTimeZoneOffset:!0,omitTime:!d.isTimeScale})},y=I(I({date:o.toDate(r.date)},p),{view:i.viewApi});return f&&m.push("fc-timeline-slot-em"),d.isTimeScale&&m.push(ma(o.countDurationsBetween(d.normalizedRange.start,r.date,d.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor"),m.push.apply(m,r.isDay?Cd(p,l):hR(p,l)),x(jt,{hookProps:y,classNames:a.slotLaneClassNames,content:a.slotLaneContent,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount,elRef:r.elRef},function(_,w,S,C){return x("td",I({ref:_,className:m.concat(w).join(" ")},g),x("div",{ref:S},C))})},e}(te),Khe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.tDateProfile,i=n.cellElRefs,o=r.slotDates,a=r.isWeekStarts,l=!r.isTimeScale&&!r.largeUnit;return x("tbody",null,x("tr",null,o.map(function(c,d){var f=c.toISOString();return x(Ghe,{key:f,elRef:i.createRef(f),date:c,dateProfile:n.dateProfile,tDateProfile:r,nowDate:n.nowDate,todayRange:n.todayRange,isEm:a[d],isDay:l})})))},e}(te),oA=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n.cellElRefs=new Ot,n.handleScrollRequest=function(r){var i=n.props.onScrollLeftRequest,o=n.coords;if(i&&o){if(r.time){var a=o.computeDurationLeft(r.time);i(a)}return!0}return null},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x("div",{className:"fc-timeline-slots",ref:this.rootElRef},x("table",{className:i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth}},r.tableColGroupNode,x(Khe,{cellElRefs:this.cellElRefs,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange})))},e.prototype.componentDidMount=function(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(n){this.updateSizing(),this.scrollResponder.update(n.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var n=this,r=n.props,i=n.context;if(r.clientWidth!==null&&this.scrollResponder){var o=this.rootElRef.current;o.offsetWidth&&(this.coords=new Whe(this.rootElRef.current,$he(this.cellElRefs.currentMap,r.tDateProfile.slotDates),r.dateProfile,r.tDateProfile,i.dateEnv,i.isRtl),r.onCoords&&r.onCoords(this.coords),this.scrollResponder.update(!1))}},e.prototype.positionToHit=function(n){var r=this.coords.outerCoordCache,i=this.context,o=i.dateEnv,a=i.isRtl,l=this.props.tDateProfile,c=r.leftToIndex(n);if(c!=null){var d=r.getWidth(c),f=a?(r.rights[c]-n)/d:(n-r.lefts[c])/d,p=Math.floor(f*l.snapsPerSlot),m=o.add(l.slotDates[c],bb(l.snapDuration,p)),g=o.add(m,l.snapDuration);return{dateSpan:{range:{start:m,end:g},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[c],left:r.lefts[c],right:r.rights[c]}}return null},e}(te);function $he(t,e){return e.map(function(n){var r=n.toISOString();return t[r]})}var sA=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=[].concat(n.eventResizeSegs,n.dateSelectionSegs);return n.timelineCoords&&x("div",{className:"fc-timeline-bg"},this.renderSegs(n.businessHourSegs||[],n.timelineCoords,"non-business"),this.renderSegs(n.bgEventSegs||[],n.timelineCoords,"bg-event"),this.renderSegs(r,n.timelineCoords,"highlight"))},e.prototype.renderSegs=function(n,r,i){var o=this.props,a=o.todayRange,l=o.nowDate,c=n.map(function(d){var f=r.rangeToCoords(d);return x("div",{key:Td(d.eventRange),className:"fc-timeline-bg-harness",style:{left:f.left,right:-f.right}},i==="bg-event"?x(Dd,I({seg:d},Ir(d,a,l))):kd(i))});return x(ye,null,c)},e}(te),aA=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sliceRange=function(n,r,i,o,a){var l=Phe(n,o,a),c=[];if(iA(l.start,o,a)<iA(l.end,o,a)){var d=Ao(l,o.normalizedRange);d&&c.push({start:d.start,end:d.end,isStart:d.start.valueOf()===l.start.valueOf()&&i_(d.start,o,r,i),isEnd:d.end.valueOf()===l.end.valueOf()&&i_(ds(d.end,-1),o,r,i)})}return c},e}(Rd),Yhe=bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),Lz=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(Ad,I({},n,{extraClassNames:["fc-timeline-event","fc-h-event"],defaultTimeFormat:Yhe,defaultDisplayEventTime:!n.isTimeScale}))},e}(te),Xhe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n}return e.prototype.render=function(){var n=this,r=this.props,i=r.hiddenSegs,o=r.elRef,a=r.placement,l=r.resourceId,c=l?{resourceId:l}:{};return x(Nd,{allDayDate:null,moreCnt:i.length,allSegs:i,hiddenSegs:i,alignmentElRef:this.rootElRef,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:c,popoverContent:function(){return x(ye,null,i.map(function(d){var f=d.eventRange.instance.instanceId;return x("div",{key:f,style:{visibility:r.isForcedInvisible[f]?"hidden":""}},x(Lz,I({isTimeScale:r.isTimeScale,seg:d,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:f===r.eventSelection},Ir(d,r.todayRange,r.nowDate))))}))}},function(d,f,p,m,g){return x("a",{ref:function(y){Vt(d,y),Vt(o,y),Vt(n.rootElRef,y)},className:["fc-timeline-more-link"].concat(f).join(" "),style:{left:a.left,right:-a.right,top:a.top,visibility:a.isVisible?"":"hidden"},onClick:g},x("div",{ref:p,className:"fc-timeline-more-link-inner fc-sticky"},m))})},e}(te);function Qhe(t,e,n,r,i,o,a,l){var c=[],d=[];if(e)for(var f=0;f<t.length;f+=1){var p=t[f],m=p.eventRange.instance.instanceId,g=n[m],y=e.rangeToCoords(p),_=Math.round(y.left),w=Math.round(y.right);w-_<i&&(o?_=w-i:w=_+i),g!=null?c.push({index:f,spanStart:_,spanEnd:w,thickness:g}):d.push({seg:p,isVisible:!1,left:_,right:w,top:0})}var S=new Id;a!=null&&(S.strictOrder=a),l!=null&&(S.maxStackCnt=l);for(var C=S.addSegs(c),R=C.map(function(Si){return{seg:t[Si.segInput.index],isVisible:!1,left:Si.spanStart,right:Si.spanEnd,top:0}}),k=Vb(C),F=[],L=[],W=function(Si){return t[Si.segInput.index]},f=0;f<k.length;f+=1){var $=k[f],z=$.entries.map(W),g=r[wd(Od(z))];g!=null?F.push({index:t.length+f,spanStart:$.spanStart,spanEnd:$.spanEnd,thickness:g}):L.push({seg:z,isVisible:!1,left:$.spanStart,right:$.spanEnd,top:0})}S.maxStackCnt=-1,S.addSegs(F);for(var ke=S.toRects(),M=[],Tt=0,lt=0,Yr=ke;lt<Yr.length;lt++){var cr=Yr[lt],Po=cr.segInput.index;M.push({seg:Po<t.length?t[Po]:k[Po-t.length].entries.map(W),isVisible:!0,left:cr.spanStart,right:cr.spanEnd,top:cr.levelCoord}),Tt=Math.max(Tt,cr.levelCoord+cr.thickness)}return[M.concat(d,R,L),Tt]}var o_=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slicer=new aA,n.sortEventSegs=Q(xd),n.computeFgSegPlacements=Q(Qhe),n.harnessElRefs=new Ot,n.moreElRefs=new Ot,n.innerElRef=Ce(),n.state={eventInstanceHeights:{},moreLinkHeights:{}},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=o.options,l=r.dateProfile,c=r.tDateProfile,d=this.slicer.sliceProps(r,l,c.isTimeScale?null:r.nextDayThreshold,o,l,o.dateProfileGenerator,c,o.dateEnv),f=(d.eventDrag?d.eventDrag.segs:null)||(d.eventResize?d.eventResize.segs:null)||[],p=this.sortEventSegs(d.fgEventSegs,a.eventOrder),m=this.computeFgSegPlacements(p,r.timelineCoords,i.eventInstanceHeights,i.moreLinkHeights,a.eventMinWidth,o.isRtl,a.eventOrderStrict,a.eventMaxStack),g=m[0],y=m[1],_=(d.eventDrag?d.eventDrag.affectedInstances:null)||(d.eventResize?d.eventResize.affectedInstances:null)||{};return x(ye,null,x(sA,{businessHourSegs:d.businessHourSegs,bgEventSegs:d.bgEventSegs,timelineCoords:r.timelineCoords,eventResizeSegs:d.eventResize?d.eventResize.segs:[],dateSelectionSegs:d.dateSelectionSegs,nowDate:r.nowDate,todayRange:r.todayRange}),x("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:y}},this.renderFgSegs(g,_),this.renderFgSegs(Jhe(f,r.timelineCoords,g),{},Boolean(d.eventDrag),Boolean(d.eventResize),!1)))},e.prototype.componentDidMount=function(){this.updateSize()},e.prototype.componentDidUpdate=function(n,r){(n.eventStore!==this.props.eventStore||n.timelineCoords!==this.props.timelineCoords||r.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()},e.prototype.updateSize=function(){var n=this,r=this.props,i=r.timelineCoords;r.onHeightChange&&r.onHeightChange(this.innerElRef.current,!1),i&&this.setState({eventInstanceHeights:Ht(this.harnessElRefs.currentMap,function(o){return Math.round(o.getBoundingClientRect().height)}),moreLinkHeights:Ht(this.moreElRefs.currentMap,function(o){return Math.round(o.getBoundingClientRect().height)})},function(){r.onHeightChange&&r.onHeightChange(n.innerElRef.current,!0)})},e.prototype.renderFgSegs=function(n,r,i,o,a){var l=this,c=l.harnessElRefs,d=l.moreElRefs,f=l.props,p=i||o||a;return x(ye,null,n.map(function(m){var g=m.seg;if(Array.isArray(g)){var y=wd(Od(g));return x(Xhe,{key:"m:"+y,elRef:d.createRef(y),hiddenSegs:g,placement:m,dateProfile:f.dateProfile,nowDate:f.nowDate,todayRange:f.todayRange,isTimeScale:f.tDateProfile.isTimeScale,eventSelection:f.eventSelection,resourceId:f.resourceId,isForcedInvisible:r})}var _=g.eventRange.instance.instanceId,w=m.isVisible&&!r[_];return x("div",{key:"e:"+_,ref:p?null:c.createRef(_),className:"fc-timeline-event-harness",style:{left:m.left,right:-m.right,top:m.top,visibility:w?"":"hidden"}},x(Lz,I({isTimeScale:f.tDateProfile.isTimeScale,seg:g,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:_===f.eventSelection},Ir(g,f.todayRange,f.nowDate))))}))},e}(te);o_.addStateEquality({eventInstanceHeights:cn,moreLinkHeights:cn});function Jhe(t,e,n){if(!t.length||!e)return[];var r=Zhe(n);return t.map(function(i){var o=e.rangeToCoords(i);return{seg:i,isVisible:!0,left:o.left,right:o.right,top:r[i.eventRange.instance.instanceId]}})}function Zhe(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n],o=i.seg;Array.isArray(o)||(e[o.eventRange.instance.instanceId]=i.top)}return e}var epe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slatsRef=Ce(),n.state={coords:null},n.handeEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r}):n.context.unregisterInteractiveComponent(n)},n.handleCoords=function(r){n.setState({coords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,c=i.dateProfile,d=i.tDateProfile,f=Ro(d.slotDuration).unit;return x("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:i.tableMinWidth,height:i.clientHeight,width:i.clientWidth}},x($r,{unit:f},function(p,m){return x(ye,null,x(oA,{ref:n.slatsRef,dateProfile:c,tDateProfile:d,nowDate:p,todayRange:m,clientWidth:i.clientWidth,tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,onCoords:n.handleCoords,onScrollLeftRequest:i.onScrollLeftRequest}),x(o_,{dateProfile:c,tDateProfile:i.tDateProfile,nowDate:p,todayRange:m,nextDayThreshold:l.nextDayThreshold,businessHours:i.businessHours,eventStore:i.eventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,timelineCoords:o.coords}),l.nowIndicator&&o.coords&&o.coords.isDateInRange(p)&&x("div",{className:"fc-timeline-now-indicator-container"},x(ps,{isAxis:!1,date:p},function(g,y,_,w){return x("div",{ref:g,className:["fc-timeline-now-indicator-line"].concat(y).join(" "),style:{left:o.coords.dateToCoord(p)}},w)})))}))},e.prototype.queryHit=function(n,r,i,o){var a=this.slatsRef.current,l=a.positionToHit(n);return l?{dateProfile:this.props.dateProfile,dateSpan:l.dateSpan,rect:{left:l.left,right:l.right,top:0,bottom:o},dayEl:l.dayEl,layer:0}:null},e}(qn),tpe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildTimelineDateProfile=Q(nA),n.scrollGridRef=Ce(),n.state={slatCoords:null,slotCushionMaxWidth:null},n.handleSlatCoords=function(r){n.setState({slatCoords:r})},n.handleScrollLeftRequest=function(r){var i=n.scrollGridRef.current;i.forceScrollLeft(0,r)},n.handleMaxCushionWidth=function(r){n.setState({slotCushionMaxWidth:Math.ceil(r)})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,c=!i.forPrint&&Do(l),d=!i.forPrint&&xa(l),f=this.buildTimelineDateProfile(i.dateProfile,a.dateEnv,l,a.dateProfileGenerator),p=["fc-timeline",l.eventOverlap===!1?"fc-timeline-overlap-disabled":""],m=l.slotMinWidth,g=lA(f,m||this.computeFallbackSlotMinWidth(f)),y=[{type:"header",key:"header",isSticky:c,chunks:[{key:"timeline",content:function(_){return x(rA,{dateProfile:i.dateProfile,clientWidth:_.clientWidth,clientHeight:_.clientHeight,tableMinWidth:_.tableMinWidth,tableColGroupNode:_.tableColGroupNode,tDateProfile:f,slatCoords:o.slatCoords,onMaxCushionWidth:m?null:n.handleMaxCushionWidth})}}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:function(_){return x(epe,I({},i,{clientWidth:_.clientWidth,clientHeight:_.clientHeight,tableMinWidth:_.tableMinWidth,tableColGroupNode:_.tableColGroupNode,tDateProfile:f,onSlatCoords:n.handleSlatCoords,onScrollLeftRequest:n.handleScrollLeftRequest}))}}]}];return d&&y.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:ko}]}),x($i,{viewSpec:a.viewSpec},function(_,w){return x("div",{ref:_,className:p.concat(w).join(" ")},x(Md,{ref:n.scrollGridRef,liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:!1,colGroups:[{cols:g}],sections:y}))})},e.prototype.computeFallbackSlotMinWidth=function(n){return Math.max(30,(this.state.slotCushionMaxWidth||0)/n.slotsPerLabel)},e}(qn);function lA(t,e){return[{span:t.slotCnt,minWidth:e||1}]}var npe=Nt({deps:[Ta],initialView:"timelineDay",views:{timeline:{component:tpe,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}}),Fz=npe;ie();function rpe(t,e,n){var r=e.dateSpan.resourceId,i=n.dateSpan.resourceId;r&&i&&r!==i&&(t.resourceMutation={matchResourceId:r,setResourceId:i})}function ipe(t,e,n){var r=e.resourceMutation;if(r&&Uz(t,n)){var i=t.resourceIds.indexOf(r.matchResourceId);if(i!==-1){var o=t.resourceIds.slice();o.splice(i,1),o.indexOf(r.setResourceId)===-1&&o.push(r.setResourceId),t.resourceIds=o}}}function Uz(t,e){var n=t.resourceEditable;if(n==null){var r=t.sourceId&&e.getCurrentData().eventSources[t.sourceId];r&&(n=r.extendedProps.resourceEditable),n==null&&(n=e.options.eventResourceEditable,n==null&&(n=e.options.editable))}return n}function ope(t,e){var n=t.resourceMutation;if(n){var r=e.calendarApi;return{oldResource:r.getResourceById(n.matchResourceId),newResource:r.getResourceById(n.setResourceId)}}return{oldResource:null,newResource:null}}var spe=function(){function t(){this.filterResources=Q(ape)}return t.prototype.transform=function(e,n){return n.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(n.resourceStore,n.options.filterResourcesWithEvents,n.eventStore,n.dateProfile.activeRange),resourceEntityExpansions:n.resourceEntityExpansions}:null},t}();function ape(t,e,n,r){if(e){var i=lpe(n.instances,r),o=cpe(i,n.defs);return I(o,upe(o,t)),Co(t,function(a,l){return o[l]})}return t}function lpe(t,e){return Co(t,function(n){return Ep(n.range,e)})}function cpe(t,e){var n={};for(var r in t)for(var i=t[r],o=0,a=e[i.defId].resourceIds;o<a.length;o++){var l=a[o];n[l]=!0}return n}function upe(t,e){var n={};for(var r in t)for(var i=void 0;(i=e[r])&&(r=i.parentId,r);)n[r]=!0;return n}function dpe(t,e,n,r){if(!t){var i=r.getCurrentData(),o=i.viewSpecs[i.currentViewType];if(o.optionDefaults.needsResourceData&&Uz(e,r))return!0}return t}var fpe=function(){function t(){this.buildResourceEventUis=Q(hpe,cn),this.injectResourceEventUis=Q(ppe)}return t.prototype.transform=function(e,n){return n.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(n.resourceStore))}},t}();function hpe(t){return Ht(t,function(e){return e.ui})}function ppe(t,e,n){return Ht(t,function(r,i){return i?mpe(r,e[i],n):r})}function mpe(t,e,n){for(var r=[],i=0,o=e.resourceIds;i<o.length;i++){var a=o[i];n[a]&&r.unshift(n[a])}return r.unshift(t),Ab(r)}var cA=[];function uA(t){cA.push(t)}function Bz(t){return cA[t]}function vpe(){return cA}var gpe={id:String,resources:U,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:U};function ype(t){var e;if(typeof t=="string"?e={url:t}:typeof t=="function"||Array.isArray(t)?e={resources:t}:typeof t=="object"&&t&&(e=t),e){var n=nc(e,gpe),r=n.refined,i=n.extra;_pe(i);var o=bpe(r);if(o)return{_raw:t,sourceId:xo(),sourceDefId:o.sourceDefId,meta:o.meta,publicId:r.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function bpe(t){for(var e=vpe(),n=e.length-1;n>=0;n-=1){var r=e[n],i=r.parseMeta(t);if(i)return{meta:i,sourceDefId:n}}return null}function _pe(t){for(var e in t)console.warn("Unknown resource prop '"+e+"'")}function wpe(t,e,n){var r=n.options,i=n.dateProfile;if(!t||!e)return Hz(r.initialResources||r.resources,i.activeRange,r.refetchResourcesOnNavigate,n);switch(e.type){case"RESET_RESOURCE_SOURCE":return Hz(e.resourceSourceInput,i.activeRange,r.refetchResourcesOnNavigate,n);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return Epe(t,i.activeRange,r.refetchResourcesOnNavigate,n);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return xpe(t,e.fetchId,e.fetchRange);case"REFETCH_RESOURCES":return dA(t,i.activeRange,n);default:return t}}function Hz(t,e,n,r){if(t){var i=ype(t);return i=dA(i,n?e:null,r),i}return null}function Epe(t,e,n,r){return n&&!Spe(t)&&(!t.fetchRange||!rR(t.fetchRange,e))?dA(t,e,r):t}function Spe(t){return Boolean(Bz(t.sourceDefId).ignoreRange)}function dA(t,e,n){var r=Bz(t.sourceDefId),i=xo();return r.fetch({resourceSource:t,range:e,context:n},function(o){n.dispatch({type:"RECEIVE_RESOURCES",fetchId:i,fetchRange:e,rawResources:o.rawResources})},function(o){n.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:i,fetchRange:e,error:o})}),I(I({},t),{isFetching:!0,latestFetchId:i})}function xpe(t,e,n){return e===t.latestFetchId?I(I({},t),{isFetching:!1,fetchRange:n}):t}var Vz="_fc:",Tpe={id:String,parentId:String,children:U,title:String,businessHours:U,extendedProps:U,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:U,eventOverlap:Boolean,eventAllow:U,eventClassNames:_p,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function fA(t,e,n,r){e===void 0&&(e="");var i=nc(t,Tpe),o=i.refined,a=i.extra,l={id:o.id||Vz+xo(),parentId:o.parentId||e,title:o.title||"",businessHours:o.businessHours?lR(o.businessHours,r):null,ui:Sd({editable:o.eventEditable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:o.eventOverlap,allow:o.eventAllow,classNames:o.eventClassNames,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},r),extendedProps:I(I({},a),o.extendedProps)};if(Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),!n[l.id]){if(n[l.id]=l,o.children)for(var c=0,d=o.children;c<d.length;c++){var f=d[c];fA(f,l.id,n,r)}}return l}function hA(t){return t.indexOf(Vz)===0?"":t}function Cpe(t,e,n,r){if(!t||!e)return{};switch(e.type){case"RECEIVE_RESOURCES":return Ipe(t,e.rawResources,e.fetchId,n,r);case"ADD_RESOURCE":return Rpe(t,e.resourceHash);case"REMOVE_RESOURCE":return Ape(t,e.resourceId);case"SET_RESOURCE_PROP":return kpe(t,e.resourceId,e.propName,e.propValue);case"SET_RESOURCE_EXTENDED_PROP":return Dpe(t,e.resourceId,e.propName,e.propValue);default:return t}}function Ipe(t,e,n,r,i){if(r.latestFetchId===n){for(var o={},a=0,l=e;a<l.length;a++){var c=l[a];fA(c,"",o,i)}return o}return t}function Rpe(t,e){return I(I({},t),e)}function Ape(t,e){var n=I({},t);delete n[e];for(var r in n)n[r].parentId===e&&(n[r]=I(I({},n[r]),{parentId:""}));return n}function kpe(t,e,n,r){var i,o,a=t[e];return a?I(I({},t),(i={},i[e]=I(I({},a),(o={},o[n]=r,o)),i)):t}function Dpe(t,e,n,r){var i,o,a=t[e];return a?I(I({},t),(i={},i[e]=I(I({},a),{extendedProps:I(I({},a.extendedProps),(o={},o[n]=r,o))}),i)):t}function Npe(t,e){var n;if(!t||!e)return{};switch(e.type){case"SET_RESOURCE_ENTITY_EXPANDED":return I(I({},t),(n={},n[e.id]=e.isExpanded,n));default:return t}}function Ope(t,e,n){var r=wpe(t&&t.resourceSource,e,n),i=Cpe(t&&t.resourceStore,e,r,n),o=Npe(t&&t.resourceEntityExpansions,e);return{resourceSource:r,resourceStore:i,resourceEntityExpansions:o}}var Ppe={resourceId:String,resourceIds:U,resourceEditable:Boolean};function Mpe(t){return{resourceIds:Lpe(t.resourceIds).concat(t.resourceId?[t.resourceId]:[]),resourceEditable:t.resourceEditable}}function Lpe(t){return(t||[]).map(function(e){return String(e)})}function Fpe(t,e){var n=t.dateSpan.resourceId,r=e.dateSpan.resourceId;return n&&r?{resourceId:n}:null}var Rr=function(){function t(e,n){this._context=e,this._resource=n}return t.prototype.setProp=function(e,n){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:r.id,propName:e,propValue:n}),this.sync(r)},t.prototype.setExtendedProp=function(e,n){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:r.id,propName:e,propValue:n}),this.sync(r)},t.prototype.sync=function(e){var n=this._context,r=e.id;this._resource=n.getCurrentData().resourceStore[r],n.emitter.trigger("resourceChange",{oldResource:new t(n,e),resource:this,revert:function(){var i;n.dispatch({type:"ADD_RESOURCE",resourceHash:(i={},i[r]=e,i)})}})},t.prototype.remove=function(){var e=this._context,n=this._resource,r=n.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:r}),e.emitter.trigger("resourceRemove",{resource:this,revert:function(){var i;e.dispatch({type:"ADD_RESOURCE",resourceHash:(i={},i[r]=n,i)})}})},t.prototype.getParent=function(){var e=this._context,n=this._resource.parentId;return n?new t(e,e.getCurrentData().resourceSource[n]):null},t.prototype.getChildren=function(){var e=this._resource.id,n=this._context,r=n.getCurrentData().resourceStore,i=[];for(var o in r)r[o].parentId===e&&i.push(new t(n,r[o]));return i},t.prototype.getEvents=function(){var e=this._resource.id,n=this._context,r=n.getCurrentData().eventStore,i=r.defs,o=r.instances,a=[];for(var l in o){var c=o[l],d=i[c.defId];d.resourceIds.indexOf(e)!==-1&&a.push(new tt(n,d,c))}return a},Object.defineProperty(t.prototype,"id",{get:function(){return hA(this._resource.id)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._resource.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(e){e===void 0&&(e={});var n=this._resource,r=n.ui,i=this.id,o={};return i&&(o.id=i),n.title&&(o.title=n.title),e.collapseEventColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.eventColor=r.backgroundColor:(r.backgroundColor&&(o.eventBackgroundColor=r.backgroundColor),r.borderColor&&(o.eventBorderColor=r.borderColor)),r.textColor&&(o.eventTextColor=r.textColor),r.classNames.length&&(o.eventClassNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?I(o,n.extendedProps):o.extendedProps=n.extendedProps),o},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function Upe(t,e){var n=[];for(var r in t)n.push(new Rr(e,t[r]));return n}ba.prototype.addResource=function(t,e){var n,r=this;e===void 0&&(e=!0);var i=this.getCurrentData(),o,a;t instanceof Rr?(a=t._resource,o=(n={},n[a.id]=a,n)):(o={},a=fA(t,"",o,i)),this.dispatch({type:"ADD_RESOURCE",resourceHash:o}),e&&this.trigger("_scrollRequest",{resourceId:a.id});var l=new Rr(i,a);return i.emitter.trigger("resourceAdd",{resource:l,revert:function(){r.dispatch({type:"REMOVE_RESOURCE",resourceId:a.id})}}),l};ba.prototype.getResourceById=function(t){t=String(t);var e=this.getCurrentData();if(e.resourceStore){var n=e.resourceStore[t];if(n)return new Rr(e,n)}return null};ba.prototype.getResources=function(){var t=this.getCurrentData(),e=t.resourceStore,n=[];if(e)for(var r in e)n.push(new Rr(t,e[r]));return n};ba.prototype.getTopLevelResources=function(){var t=this.getCurrentData(),e=t.resourceStore,n=[];if(e)for(var r in e)e[r].parentId||n.push(new Rr(t,e[r]));return n};ba.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};function Bpe(t,e){return t.resourceId?{resource:e.calendarApi.getResourceById(t.resourceId)}:{}}function Hpe(t,e){return t.resourceId?{resource:e.calendarApi.getResourceById(t.resourceId)}:{}}var pA=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(n){return I({"":{}},n.resourceStore)},e.prototype.getKeysForDateSpan=function(n){return[n.resourceId||""]},e.prototype.getKeysForEventDef=function(n){var r=n.resourceIds;return r.length?r:[""]},e}(Tp);function Vpe(t,e){var n=new pA,r=n.splitProps(I(I({},t),{resourceStore:e.getCurrentData().resourceStore}));for(var i in r){var o=r[i];if(i&&r[""]&&(o=I(I({},o),{eventStore:bp(r[""].eventStore,o.eventStore),eventUiBases:I(I({},r[""].eventUiBases),o.eventUiBases)})),!MR(o,e,{resourceId:i},jpe.bind(null,i)))return!1}return!0}function jpe(t,e){return I(I({},e),{constraints:qpe(t,e.constraints)})}function qpe(t,e){return e.map(function(n){var r=n.defs;if(r)for(var i in r){var o=r[i].resourceIds;if(o.length&&o.indexOf(t)===-1)return!1}return n})}function zpe(t){return t.resourceId?{resourceId:t.resourceId}:{}}tt.prototype.getResources=function(){var t=this._context.calendarApi;return this._def.resourceIds.map(function(e){return t.getResourceById(e)})};tt.prototype.setResources=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n],o=null;typeof i=="string"?o=i:typeof i=="number"?o=String(i):i instanceof Rr?o=i.id:console.warn("unknown resource type: "+i),o&&e.push(o)}this.mutate({standardProps:{resourceIds:e}})};var Wpe={resources:Gpe};function Gpe(t,e){var n=e.getCurrentData().resourceSource._raw;n!==t&&e.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:t})}var jz=pb("id,title");function Kpe(t,e){var n=e.emitter;n.hasHandlers("resourcesSet")&&n.trigger("resourcesSet",Upe(t,e))}var $pe={initialResources:U,resources:U,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:pb,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:U,resourceAreaColumns:U,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:U,resourceAreaHeaderContent:U,resourceAreaHeaderDidMount:U,resourceAreaHeaderWillUnmount:U,resourceGroupLabelClassNames:U,resourceGroupLabelContent:U,resourceGroupLabelDidMount:U,resourceGroupLabelWillUnmount:U,resourceLabelClassNames:U,resourceLabelContent:U,resourceLabelDidMount:U,resourceLabelWillUnmount:U,resourceLaneClassNames:U,resourceLaneContent:U,resourceLaneDidMount:U,resourceLaneWillUnmount:U,resourceGroupLaneClassNames:U,resourceGroupLaneContent:U,resourceGroupLaneDidMount:U,resourceGroupLaneWillUnmount:U},Ype={resourcesSet:U,resourceAdd:U,resourceChange:U,resourceRemove:U};uA({ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.resources)?t.resources:null},fetch:function(t,e){e({rawResources:t.resourceSource.meta})}});uA({parseMeta:function(t){return typeof t.resources=="function"?t.resources:null},fetch:function(t,e,n){var r=t.context.dateEnv,i=t.resourceSource.meta,o=t.range?{start:r.toDate(t.range.start),end:r.toDate(t.range.end),startStr:r.formatIso(t.range.start),endStr:r.formatIso(t.range.end),timeZone:r.timeZone}:{};bR(i.bind(null,o),function(a){e({rawResources:a})},n)}});uA({parseMeta:function(t){return t.url?{url:t.url,method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams}:null},fetch:function(t,e,n){var r=t.resourceSource.meta,i=Xpe(r,t.range,t.context);xR(r.method,r.url,i,function(o,a){e({rawResources:o,xhr:a})},function(o,a){n({message:o,xhr:a})})}});function Xpe(t,e,n){var r=n.dateEnv,i=n.options,o,a,l,c,d={};return e&&(o=t.startParam,o==null&&(o=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),d[o]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone)),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},I(d,c),d}function Qpe(t){return x(Ei.Consumer,null,function(e){var n=e.options,r={resource:new Rr(e,t.resource),date:t.date?e.dateEnv.toDate(t.date):null,view:e.viewApi},i={"data-resource-id":t.resource.id,"data-date":t.date?yp(t.date):void 0};return x(jt,{hookProps:r,classNames:n.resourceLabelClassNames,content:n.resourceLabelContent,defaultContent:Jpe,didMount:n.resourceLabelDidMount,willUnmount:n.resourceLabelWillUnmount},function(o,a,l,c){return t.children(o,a,i,l,c)})})}function Jpe(t){return t.resource.title||t.resource.id}var mA=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(Qpe,{resource:n.resource,date:n.date},function(r,i,o,a,l){return x("th",I({ref:r,className:["fc-col-header-cell","fc-resource"].concat(i).join(" "),colSpan:n.colSpan},o),x("div",{className:"fc-scrollgrid-sync-inner"},x("span",{className:["fc-col-header-cell-cushion",n.isSticky?"fc-sticky":""].join(" "),ref:a},l)))})},e}(te),yIe=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDateFormat=Q(Zpe),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=this.buildDateFormat(o.options.dayHeaderFormat,i.datesRepDistinctDays,i.dates.length);return x($r,{unit:"day"},function(l,c){return i.dates.length===1?n.renderResourceRow(i.resources,i.dates[0]):o.options.datesAboveResources?n.renderDayAndResourceRows(i.dates,a,c,i.resources):n.renderResourceAndDayRows(i.resources,i.dates,a,c)})},e.prototype.renderResourceRow=function(n,r){var i=n.map(function(o){return x(mA,{key:o.id,resource:o,colSpan:1,date:r})});return this.buildTr(i,"resources")},e.prototype.renderDayAndResourceRows=function(n,r,i,o){for(var a=[],l=[],c=0,d=n;c<d.length;c++){var f=d[c];a.push(this.renderDateCell(f,r,i,o.length,null,!0));for(var p=0,m=o;p<m.length;p++){var g=m[p];l.push(x(mA,{key:g.id+":"+f.toISOString(),resource:g,colSpan:1,date:f}))}}return x(ye,null,this.buildTr(a,"day"),this.buildTr(l,"resources"))},e.prototype.renderResourceAndDayRows=function(n,r,i,o){for(var a=[],l=[],c=0,d=n;c<d.length;c++){var f=d[c];a.push(x(mA,{key:f.id,resource:f,colSpan:r.length,isSticky:!0}));for(var p=0,m=r;p<m.length;p++){var g=m[p];l.push(this.renderDateCell(g,i,o,1,f))}}return x(ye,null,this.buildTr(a,"resources"),this.buildTr(l,"day"))},e.prototype.renderDateCell=function(n,r,i,o,a,l){var c=this.props,d=a?":"+a.id:"",f=a?{resource:new Rr(this.context,a)}:{},p=a?{"data-resource-id":a.id}:{};return c.datesRepDistinctDays?x(NR,{key:n.toISOString()+d,date:n,dateProfile:c.dateProfile,todayRange:i,colCnt:c.dates.length*c.resources.length,dayHeaderFormat:r,colSpan:o,isSticky:l,extraHookProps:f,extraDataAttrs:p}):x(OR,{key:n.getUTCDay()+d,dow:n.getUTCDay(),dayHeaderFormat:r,colSpan:o,isSticky:l,extraHookProps:f,extraDataAttrs:p})},e.prototype.buildTr=function(n,r){var i=this.props.renderIntro;return n.length||(n=[x("td",{key:0},"\xA0")]),x("tr",{key:r},i&&i(r),n)},e}(te);function Zpe(t,e,n){return t||DR(e,n)}var eme=function(){function t(e){for(var n={},r=[],i=0;i<e.length;i+=1){var o=e[i].id;r.push(o),n[o]=i}this.ids=r,this.indicesById=n,this.length=e.length}return t}(),qz=function(){function t(e,n,r){this.dayTableModel=e,this.resources=n,this.context=r,this.resourceIndex=new eme(n),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*n.length,this.cells=this.buildCells()}return t.prototype.buildCells=function(){for(var e=this,n=e.rowCnt,r=e.dayTableModel,i=e.resources,o=[],a=0;a<n;a+=1){for(var l=[],c=0;c<r.colCnt;c+=1)for(var d=0;d<i.length;d+=1){var f=i[d],p={resource:new Rr(this.context,f)},m={"data-resource-id":f.id},g=["fc-resource"],y={resourceId:f.id},_=r.cells[a][c].date;l[this.computeCol(c,d)]={key:f.id+":"+_.toISOString(),date:_,extraHookProps:p,extraDataAttrs:m,extraClassNames:g,extraDateSpan:y}}o.push(l)}return o},t}(),bIe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.computeCol=function(n,r){return r*this.dayTableModel.colCnt+n},e.prototype.computeColRanges=function(n,r,i){return[{firstCol:this.computeCol(n,i),lastCol:this.computeCol(r,i),isStart:!0,isEnd:!0}]},e}(qz),_Ie=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.computeCol=function(n,r){return n*this.resources.length+r},e.prototype.computeColRanges=function(n,r,i){for(var o=[],a=n;a<=r;a+=1){var l=this.computeCol(a,i);o.push({firstCol:l,lastCol:l,isStart:a===n,isEnd:a===r})}return o},e}(qz),zz=[],wIe=function(){function t(){this.joinDateSelection=Q(this.joinSegs),this.joinBusinessHours=Q(this.joinSegs),this.joinFgEvents=Q(this.joinSegs),this.joinBgEvents=Q(this.joinSegs),this.joinEventDrags=Q(this.joinInteractions),this.joinEventResizes=Q(this.joinInteractions)}return t.prototype.joinProps=function(e,n){for(var r=[],i=[],o=[],a=[],l=[],c=[],d="",f=n.resourceIndex.ids.concat([""]),p=0,m=f;p<m.length;p++){var g=m[p],y=e[g];r.push(y.dateSelectionSegs),i.push(g?y.businessHourSegs:zz),o.push(g?y.fgEventSegs:zz),a.push(y.bgEventSegs),l.push(y.eventDrag),c.push(y.eventResize),d=d||y.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,Oe([n],r)),businessHourSegs:this.joinBusinessHours.apply(this,Oe([n],i)),fgEventSegs:this.joinFgEvents.apply(this,Oe([n],o)),bgEventSegs:this.joinBgEvents.apply(this,Oe([n],a)),eventDrag:this.joinEventDrags.apply(this,Oe([n],l)),eventResize:this.joinEventResizes.apply(this,Oe([n],c)),eventSelection:d}},t.prototype.joinSegs=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=e.resources.length,o=[],a=0;a<i;a+=1){for(var l=0,c=n[a];l<c.length;l++){var d=c[l];o.push.apply(o,this.transformSeg(d,e,a))}for(var f=0,p=n[i];f<p.length;f++){var d=p[f];o.push.apply(o,this.transformSeg(d,e,a))}}return o},t.prototype.expandSegs=function(e,n){for(var r=e.resources.length,i=[],o=0;o<r;o+=1)for(var a=0,l=n;a<l.length;a++){var c=l[a];i.push.apply(i,this.transformSeg(c,e,o))}return i},t.prototype.joinInteractions=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=e.resources.length,o={},a=[],l=!1,c=!1,d=0;d<i;d+=1){var f=n[d];if(f){l=!0;for(var p=0,m=f.segs;p<m.length;p++){var g=m[p];a.push.apply(a,this.transformSeg(g,e,d))}I(o,f.affectedInstances),c=c||f.isEvent}if(n[i])for(var y=0,_=n[i].segs;y<_.length;y++){var g=_[y];a.push.apply(a,this.transformSeg(g,e,d))}}return l?{affectedInstances:o,segs:a,isEvent:c}:null},t}(),EIe=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(n){var r=n.resourceDayTableModel,i=Ht(r.resourceIndex.indicesById,function(o){return r.resources[o]});return i[""]={},i},e.prototype.getKeysForDateSpan=function(n){return[n.resourceId||""]},e.prototype.getKeysForEventDef=function(n){var r=n.resourceIds;return r.length?r:[""]},e}(Tp);function Wz(t,e,n,r,i,o){var a=tme(t,r?-1:1,e,n),l=[];return s_(a,l,r,[],0,i,o),l}function s_(t,e,n,r,i,o,a){for(var l=0;l<t.length;l+=1){var c=t[l],d=c.group;if(d)if(n){var f=e.length,p=r.length;if(s_(c.children,e,n,r.concat(0),i,o,a),f<e.length){var m=e[f],g=m.rowSpans=m.rowSpans.slice();g[p]=e.length-f}}else{var y=d.spec.field+":"+d.value,_=o[y]!=null?o[y]:a;e.push({id:y,group:d,isExpanded:_}),_&&s_(c.children,e,n,r,i+1,o,a)}else if(c.resource){var y=c.resource.id,_=o[y]!=null?o[y]:a;e.push({id:y,rowSpans:r,depth:i,isExpanded:_,hasChildren:Boolean(c.children.length),resource:c.resource,resourceFields:c.resourceFields}),_&&s_(c.children,e,n,r,i+1,o,a)}}}function tme(t,e,n,r){var i=nme(t,r),o=[];for(var a in i){var l=i[a];l.resource.parentId||Gz(l,o,n,0,e,r)}return o}function nme(t,e){var n={};for(var r in t){var i=t[r];n[r]={resource:i,resourceFields:vA(i),children:[]}}for(var r in t){var i=t[r];if(i.parentId){var o=n[i.parentId];o&&Kz(n[r],o.children,e)}}return n}function Gz(t,e,n,r,i,o){if(n.length&&(i===-1||r<=i)){var a=rme(t,e,n[0]);Gz(t,a.children,n.slice(1),r+1,i,o)}else Kz(t,e,o)}function rme(t,e,n){var r=t.resourceFields[n.field],i,o;if(n.order)for(o=0;o<e.length;o+=1){var a=e[o];if(a.group){var l=WI(r,a.group.value)*n.order;if(l===0){i=a;break}else if(l<0)break}}else for(o=0;o<e.length;o+=1){var a=e[o];if(a.group&&r===a.group.value){i=a;break}}return i||(i={group:{value:r,spec:n},children:[]},e.splice(o,0,i)),i}function Kz(t,e,n){var r;for(r=0;r<e.length;r+=1){var i=zI(e[r].resourceFields,t.resourceFields,n);if(i>0)break}e.splice(r,0,t)}function vA(t){var e=I(I(I({},t.extendedProps),t.ui),t);return delete e.ui,delete e.extendedProps,e}function $z(t,e){return t.spec===e.spec&&t.value===e.value}var ime=Nt({deps:[Ta],reducers:[Ope],isLoadingFuncs:[function(t){return t.resourceSource&&t.resourceSource.isFetching}],eventRefiners:Ppe,eventDefMemberAdders:[Mpe],isDraggableTransformers:[dpe],eventDragMutationMassagers:[rpe],eventDefMutationAppliers:[ipe],dateSelectionTransformers:[Fpe],datePointTransforms:[Bpe],dateSpanTransforms:[Hpe],viewPropsTransformers:[spe,fpe],isPropsValid:Vpe,externalDefTransforms:[zpe],eventDropTransformers:[ope],optionChangeHandlers:Wpe,optionRefiners:$pe,listenerRefiners:Ype,propSetHandlers:{resourceStore:Kpe}}),Yz=ime;ie();function Xz(t){for(var e=t.depth,n=t.hasChildren,r=t.isExpanded,i=t.onExpanderClick,o=[],a=0;a<e;a+=1)o.push(x("span",{className:"fc-icon"}));var l=["fc-icon"];return n&&(r?l.push("fc-icon-minus-square"):l.push("fc-icon-plus-square")),o.push(x("span",{className:"fc-datagrid-expander"+(n?"":" fc-datagrid-expander-placeholder"),onClick:i},x("span",{className:l.join(" ")}))),x.apply(void 0,Oe([ye,{}],o))}function ome(t){return{resource:new Rr(t.context,t.resource),fieldValue:t.fieldValue,view:t.context.viewApi}}var sme=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(sc,{hookProps:n.hookProps,content:n.colSpec.cellContent,defaultContent:ame},function(r,i){return x("span",{className:"fc-datagrid-cell-main",ref:r},i)})},e}(te);function ame(t){return t.fieldValue||x(ye,null,"\xA0")}var lme=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=fs(ome),n.normalizeClassNames=ac(),n.onExpanderClick=function(r){var i=n.props;i.hasChildren&&n.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:i.resource.id,isExpanded:!i.isExpanded})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=i.colSpec,l=this.refineHookProps({resource:i.resource,fieldValue:i.fieldValue,context:o}),c=this.normalizeClassNames(a.cellClassNames,l);return x(Sa,{hookProps:l,didMount:a.cellDidMount,willUnmount:a.cellWillUnmount},function(d){return x("td",{ref:d,"data-resource-id":i.resource.id,className:["fc-datagrid-cell","fc-resource"].concat(c).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:i.innerHeight}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},a.isMain&&x(Xz,{depth:i.depth,hasChildren:i.hasChildren,isExpanded:i.isExpanded,onExpanderClick:n.onExpanderClick}),x(sme,{hookProps:l,colSpec:a}))))})},e}(te),cme=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.colSpec,a={groupValue:r.fieldValue,view:i.viewApi};return x(jt,{hookProps:a,classNames:o.cellClassNames,content:o.cellContent,defaultContent:ume,didMount:o.cellDidMount,willUnmount:o.cellWillUnmount},function(l,c,d,f){return x("td",{className:["fc-datagrid-cell","fc-resource-group"].concat(c).join(" "),rowSpan:r.rowSpan,ref:l},x("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},x("div",{className:"fc-datagrid-cell-cushion fc-sticky",ref:d},f)))})},e}(te);function ume(t){return t.groupValue||x(ye,null,"\xA0")}var Qz=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.resource,i=n.rowSpans,o=n.depth,a=vA(r);return x("tr",null,n.colSpecs.map(function(l,c){var d=i[c];if(d===0)return null;d==null&&(d=1);var f=l.field?a[l.field]:r.title||hA(r.id);return d>1?x(cme,{key:c,colSpec:l,fieldValue:f,rowSpan:d}):x(lme,{key:c,colSpec:l,resource:r,fieldValue:f,depth:o,hasChildren:n.hasChildren,isExpanded:n.isExpanded,innerHeight:n.innerHeight})}))},e}(te);Qz.addPropsEquality({rowSpans:Cr});var Jz=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerInnerRef=Ce(),n.onExpanderClick=function(){var r=n.props;n.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:r.id,isExpanded:!r.isExpanded})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a={groupValue:i.group.value,view:o.viewApi},l=i.group.spec;return x("tr",null,x(jt,{hookProps:a,classNames:l.labelClassNames,content:l.labelContent,defaultContent:dme,didMount:l.labelDidMount,willUnmount:l.labelWillUnmount},function(c,d,f,p){return x("td",{ref:c,colSpan:i.spreadsheetColCnt,className:["fc-datagrid-cell","fc-resource-group",o.theme.getClass("tableCellShaded")].concat(d).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:i.innerHeight}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:n.innerInnerRef},x(Xz,{depth:0,hasChildren:!0,isExpanded:i.isExpanded,onExpanderClick:n.onExpanderClick}),x("span",{className:"fc-datagrid-cell-main",ref:f},p))))}))},e}(te);Jz.addPropsEquality({group:$z});function dme(t){return t.groupValue||x(ye,null,"\xA0")}var fme=20,hme=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.resizerElRefs=new Ot(n._handleColResizerEl.bind(n)),n.colDraggings={},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.colSpecs,o=r.superHeaderRendering,a=r.rowInnerHeights,l={view:this.context.viewApi},c=[];if(a=a.slice(),o){var d=a.shift();c.push(x("tr",{key:"row-super"},x(jt,{hookProps:l,classNames:o.headerClassNames,content:o.headerContent,didMount:o.headerDidMount,willUnmount:o.headerWillUnmount},function(p,m,g,y){return x("th",{colSpan:i.length,ref:p,className:["fc-datagrid-cell","fc-datagrid-cell-super"].concat(m).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:d}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:g},y)))})))}var f=a.shift();return c.push(x("tr",{key:"row"},i.map(function(p,m){var g=m===i.length-1;return x(jt,{key:m,hookProps:l,classNames:p.headerClassNames,content:p.headerContent,didMount:p.headerDidMount,willUnmount:p.headerWillUnmount},function(y,_,w,S){return x("th",{ref:y,className:["fc-datagrid-cell"].concat(_).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:f}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},p.isMain&&x("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},x("span",{className:"fc-icon"})),x("span",{className:"fc-datagrid-cell-main",ref:w},S)),!g&&x("div",{className:"fc-datagrid-cell-resizer",ref:n.resizerElRefs.createRef(m)})))})}))),x(ye,null,c)},e.prototype._handleColResizerEl=function(n,r){var i=this.colDraggings;if(n){var o=this.initColResizing(n,parseInt(r,10));o&&(i[r]=o)}else{var o=i[r];o&&(o.destroy(),delete i[r])}},e.prototype.initColResizing=function(n,r){var i=this.context,o=i.pluginHooks,a=i.isRtl,l=this.props.onColWidthChange,c=o.elementDraggingImpl;if(c){var d=new c(n),f,p;return d.emitter.on("dragstart",function(){var m=cs(Jt(n,"tr"),"th");p=m.map(function(g){return g.getBoundingClientRect().width}),f=p[r]}),d.emitter.on("dragmove",function(m){p[r]=Math.max(f+m.deltaX*(a?-1:1),fme),l&&l(p.slice())}),d.setAutoScrollEnabled(!1),d}return null},e}(te),pme=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o={resource:new Rr(i,r.resource)};return x(sc,{hookProps:o,content:i.options.resourceLaneContent},function(a,l){return l&&x("div",{className:"fc-timeline-lane-misc",ref:a},l)})},e}(te),mme=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=fs(vme),n.normalizeClassNames=ac(),n.handleHeightChange=function(r,i){n.props.onHeightChange&&n.props.onHeightChange(Jt(r,"tr"),i)},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options,l=this.refineHookProps({resource:i.resource,context:o}),c=this.normalizeClassNames(a.resourceLaneClassNames,l);return x("tr",{ref:i.elRef},x(Sa,{hookProps:l,didMount:a.resourceLaneDidMount,willUnmount:a.resourceLaneWillUnmount},function(d){return x("td",{ref:d,className:["fc-timeline-lane","fc-resource"].concat(c).join(" "),"data-resource-id":i.resource.id},x("div",{className:"fc-timeline-lane-frame",style:{height:i.innerHeight}},x(pme,{resource:i.resource}),x(o_,{dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:i.nowDate,todayRange:i.todayRange,nextDayThreshold:i.nextDayThreshold,businessHours:i.businessHours,eventStore:i.eventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,timelineCoords:i.timelineCoords,onHeightChange:n.handleHeightChange,resourceId:i.resource.id})))}))},e}(te);function vme(t){return{resource:new Rr(t.context,t.resource)}}var gme=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=this.props,i=this.props.renderingHooks,o={groupValue:r.groupValue,view:this.context.viewApi};return x("tr",{ref:r.elRef},x(jt,{hookProps:o,classNames:i.laneClassNames,content:i.laneContent,didMount:i.laneDidMount,willUnmount:i.laneWillUnmount},function(a,l,c,d){return x("td",{ref:a,className:["fc-timeline-lane","fc-resource-group",n.context.theme.getClass("tableCellShaded")].concat(l).join(" ")},x("div",{style:{height:r.innerHeight},ref:c},d))}))},e}(te),yme=function(t){N(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.rowElRefs,a=r.innerHeights;return x("tbody",null,r.rowNodes.map(function(l,c){if(l.group)return x(gme,{key:l.id,elRef:o.createRef(l.id),groupValue:l.group.value,renderingHooks:l.group.spec,innerHeight:a[c]||""});if(l.resource){var d=l.resource;return x(mme,I({key:l.id,elRef:o.createRef(l.id)},r.splitProps[d.id],{resource:d,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:i.options.nextDayThreshold,businessHours:d.businessHours||r.fallbackBusinessHours,innerHeight:a[c]||"",timelineCoords:r.slatCoords,onHeightChange:r.onRowHeightChange}))}return null}))},e}(te),bme=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=Ce(),n.rowElRefs=new Ot,n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x("table",{ref:this.rootElRef,className:"fc-scrollgrid-sync-table "+i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},x(yme,{rowElRefs:this.rowElRefs,rowNodes:r.rowNodes,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,splitProps:r.splitProps,fallbackBusinessHours:r.fallbackBusinessHours,slatCoords:r.slatCoords,innerHeights:r.innerHeights,onRowHeightChange:r.onRowHeightChange}))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.componentWillUnmount=function(){this.props.onRowCoords&&this.props.onRowCoords(null)},e.prototype.updateCoords=function(){var n=this.props;n.onRowCoords&&n.clientWidth!==null&&this.props.onRowCoords(new wi(this.rootElRef.current,_me(this.rowElRefs.currentMap,n.rowNodes),!1,!0))},e}(te);function _me(t,e){return e.map(function(n){return t[n.id]})}var wme=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.computeHasResourceBusinessHours=Q(Eme),n.resourceSplitter=new pA,n.bgSlicer=new aA,n.slatsRef=Ce(),n.state={slatCoords:null},n.handleEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r}):n.context.unregisterInteractiveComponent(n)},n.handleSlatCoords=function(r){n.setState({slatCoords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n.handleRowCoords=function(r){n.rowCoords=r,n.props.onRowCoords&&n.props.onRowCoords(r)},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=i.dateProfile,c=i.tDateProfile,d=Ro(c.slotDuration).unit,f=this.computeHasResourceBusinessHours(i.rowNodes),p=this.resourceSplitter.splitProps(i),m=p[""],g=this.bgSlicer.sliceProps(m,l,c.isTimeScale?null:i.nextDayThreshold,a,l,a.dateProfileGenerator,c,a.dateEnv),y=o.slatCoords&&o.slatCoords.dateProfile===i.dateProfile?o.slatCoords:null;return x("div",{ref:this.handleEl,className:["fc-timeline-body",i.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:i.tableMinWidth}},x($r,{unit:d},function(_,w){return x(ye,null,x(oA,{ref:n.slatsRef,dateProfile:l,tDateProfile:c,nowDate:_,todayRange:w,clientWidth:i.clientWidth,tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,onCoords:n.handleSlatCoords,onScrollLeftRequest:i.onScrollLeftRequest}),x(sA,{businessHourSegs:f?null:g.businessHourSegs,bgEventSegs:g.bgEventSegs,timelineCoords:y,eventResizeSegs:g.eventResize?g.eventResize.segs:[],dateSelectionSegs:g.dateSelectionSegs,nowDate:_,todayRange:w}),x(bme,{rowNodes:i.rowNodes,dateProfile:l,tDateProfile:i.tDateProfile,nowDate:_,todayRange:w,splitProps:p,fallbackBusinessHours:f?i.businessHours:null,clientWidth:i.clientWidth,minHeight:i.expandRows?i.clientHeight:"",tableMinWidth:i.tableMinWidth,innerHeights:i.rowInnerHeights,slatCoords:y,onRowCoords:n.handleRowCoords,onRowHeightChange:i.onRowHeightChange}),a.options.nowIndicator&&y&&y.isDateInRange(_)&&x("div",{className:"fc-timeline-now-indicator-container"},x(ps,{isAxis:!1,date:_},function(S,C,R,k){return x("div",{ref:S,className:["fc-timeline-now-indicator-line"].concat(C).join(" "),style:{left:y.dateToCoord(_)}},k)})))}))},e.prototype.queryHit=function(n,r){var i=this.rowCoords,o=i.topToIndex(r);if(o!=null){var a=this.props.rowNodes[o].resource;if(a){var l=this.slatsRef.current.positionToHit(n);if(l)return{dateProfile:this.props.dateProfile,dateSpan:{range:l.dateSpan.range,allDay:l.dateSpan.allDay,resourceId:a.id},rect:{left:l.left,right:l.right,top:i.tops[o],bottom:i.bottoms[o]},dayEl:l.dayEl,layer:0}}}return null},e}(qn);function Eme(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.resource;if(i&&i.businessHours)return!0}return!1}var Zz=30,Sme=function(t){N(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scrollGridRef=Ce(),n.timeBodyScrollerElRef=Ce(),n.spreadsheetHeaderChunkElRef=Ce(),n.rootElRef=Ce(),n.ensureScrollGridResizeId=0,n.state={resourceAreaWidthOverride:null},n.ensureScrollGridResize=function(){n.ensureScrollGridResizeId&&clearTimeout(n.ensureScrollGridResizeId),n.ensureScrollGridResizeId=setTimeout(function(){n.scrollGridRef.current.handleSizing(!1)},zn.SCROLLGRID_RESIZE_INTERVAL+1)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=o.options,l=!r.forPrint&&Do(a),c=!r.forPrint&&xa(a),d=[{type:"header",key:"header",syncRowHeights:!0,isSticky:l,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:r.spreadsheetHeaderRows},{key:"divider",outerContent:x("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:r.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(a.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:r.spreadsheetBodyRows},{key:"divider",outerContent:x("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:r.timeBodyContent}]}];c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:ko},{key:"divider",outerContent:x("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:ko}]});var f=i.resourceAreaWidthOverride!=null?i.resourceAreaWidthOverride:a.resourceAreaWidth;return x(Md,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:!1,colGroups:[{cols:r.spreadsheetCols,width:f},{cols:[]},{cols:r.timeCols}],sections:d})},e.prototype.forceTimeScroll=function(n){var r=this.scrollGridRef.current;r.forceScrollLeft(2,n)},e.prototype.forceResourceScroll=function(n){var r=this.scrollGridRef.current;r.forceScrollTop(1,n)},e.prototype.getResourceScroll=function(){var n=this.timeBodyScrollerElRef.current;return n.scrollTop},e.prototype.componentDidMount=function(){this.initSpreadsheetResizing()},e.prototype.componentWillUnmount=function(){this.destroySpreadsheetResizing()},e.prototype.initSpreadsheetResizing=function(){var n=this,r=this.context,i=r.isRtl,o=r.pluginHooks,a=o.elementDraggingImpl,l=this.spreadsheetHeaderChunkElRef.current;if(a){var c=this.rootElRef.current,d=this.spreadsheetResizerDragging=new a(c,".fc-resource-timeline-divider"),f,p;d.emitter.on("dragstart",function(){f=l.getBoundingClientRect().width,p=c.getBoundingClientRect().width}),d.emitter.on("dragmove",function(m){var g=f+m.deltaX*(i?-1:1);g=Math.max(g,Zz),g=Math.min(g,p-Zz),n.setState({resourceAreaWidthOverride:g},n.ensureScrollGridResize)}),d.setAutoScrollEnabled(!1)}},e.prototype.destroySpreadsheetResizing=function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()},e}(te),eW=function(t){N(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.processColOptions=Q(Ime),i.buildTimelineDateProfile=Q(nA),i.hasNesting=Q(Cme),i.buildRowNodes=Q(Wz),i.layoutRef=Ce(),i.rowNodes=[],i.renderedRowNodes=[],i.buildRowIndex=Q(xme),i.handleSlatCoords=function(o){i.setState({slatCoords:o})},i.handleRowCoords=function(o){i.rowCoords=o,i.scrollResponder.update(!1)},i.handleMaxCushionWidth=function(o){i.setState({slotCushionMaxWidth:Math.ceil(o)})},i.handleScrollLeftRequest=function(o){var a=i.layoutRef.current;a.forceTimeScroll(o)},i.handleScrollRequest=function(o){var a=i.rowCoords,l=i.layoutRef.current,c=o.rowId||o.resourceId;if(a){if(c){var d=i.buildRowIndex(i.renderedRowNodes),f=d[c];if(f!=null){var p=o.fromBottom!=null?a.bottoms[f]-o.fromBottom:a.tops[f];l.forceResourceScroll(p)}}return!0}return null},i.handleColWidthChange=function(o){i.setState({spreadsheetColWidths:o})},i.state={resourceAreaWidth:r.options.resourceAreaWidth,spreadsheetColWidths:[]},i}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,c=a.viewSpec,d=this.processColOptions(a.options),f=d.superHeaderRendering,p=d.groupSpecs,m=d.orderSpecs,g=d.isVGrouping,y=d.colSpecs,_=this.buildTimelineDateProfile(i.dateProfile,a.dateEnv,l,a.dateProfileGenerator),w=this.rowNodes=this.buildRowNodes(i.resourceStore,p,m,g,i.resourceEntityExpansions,l.resourcesInitiallyExpanded),S=["fc-resource-timeline",this.hasNesting(w)?"":"fc-resource-timeline-flat","fc-timeline",l.eventOverlap===!1?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],C=l.slotMinWidth,R=lA(_,C||this.computeFallbackSlotMinWidth(_));return x($i,{viewSpec:c},function(k,F){return x("div",{ref:k,className:S.concat(F).join(" ")},x(Sme,{ref:n.layoutRef,forPrint:i.forPrint,isHeightAuto:i.isHeightAuto,spreadsheetCols:Tme(y,o.spreadsheetColWidths,""),spreadsheetHeaderRows:function(L){return x(hme,{superHeaderRendering:f,colSpecs:y,onColWidthChange:n.handleColWidthChange,rowInnerHeights:L.rowSyncHeights})},spreadsheetBodyRows:function(L){return x(ye,null,n.renderSpreadsheetRows(w,y,L.rowSyncHeights))},timeCols:R,timeHeaderContent:function(L){return x(rA,{clientWidth:L.clientWidth,clientHeight:L.clientHeight,tableMinWidth:L.tableMinWidth,tableColGroupNode:L.tableColGroupNode,dateProfile:i.dateProfile,tDateProfile:_,slatCoords:o.slatCoords,rowInnerHeights:L.rowSyncHeights,onMaxCushionWidth:C?null:n.handleMaxCushionWidth})},timeBodyContent:function(L){return x(wme,{dateProfile:i.dateProfile,clientWidth:L.clientWidth,clientHeight:L.clientHeight,tableMinWidth:L.tableMinWidth,tableColGroupNode:L.tableColGroupNode,expandRows:L.expandRows,tDateProfile:_,rowNodes:w,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,resourceStore:i.resourceStore,nextDayThreshold:a.options.nextDayThreshold,rowInnerHeights:L.rowSyncHeights,onSlatCoords:n.handleSlatCoords,onRowCoords:n.handleRowCoords,onScrollLeftRequest:n.handleScrollLeftRequest,onRowHeightChange:L.reportRowHeightChange})}}))})},e.prototype.renderSpreadsheetRows=function(n,r,i){return n.map(function(o,a){return o.group?x(Jz,{key:o.id,id:o.id,spreadsheetColCnt:r.length,isExpanded:o.isExpanded,group:o.group,innerHeight:i[a]||""}):o.resource?x(Qz,{key:o.id,colSpecs:r,rowSpans:o.rowSpans,depth:o.depth,isExpanded:o.isExpanded,hasChildren:o.hasChildren,resource:o.resource,innerHeight:i[a]||""}):null})},e.prototype.componentDidMount=function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.getSnapshotBeforeUpdate=function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}},e.prototype.componentDidUpdate=function(n,r,i){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(n.dateProfile!==this.props.dateProfile),i.resourceScroll&&this.handleScrollRequest(i.resourceScroll)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.computeFallbackSlotMinWidth=function(n){return Math.max(30,(this.state.slotCushionMaxWidth||0)/n.slotsPerLabel)},e.prototype.queryResourceScroll=function(){var n=this,r=n.rowCoords,i=n.renderedRowNodes;if(r){for(var o=this.layoutRef.current,a=r.bottoms,l=o.getResourceScroll(),c={},d=0;d<a.length;d+=1){var f=i[d],p=a[d]-l;if(p>0){c.rowId=f.id,c.fromBottom=p;break}}return c}return null},e}(te);eW.addStateEquality({spreadsheetColWidths:Cr});function xme(t){for(var e={},n=0;n<t.length;n+=1)e[t[n].id]=n;return e}function Tme(t,e,n){return n===void 0&&(n=""),t.map(function(r,i){return{className:r.isMain?"fc-main-col":"",width:e[i]||r.width||n}})}function Cme(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.group||r.resource&&r.hasChildren)return!0}return!1}function Ime(t){var e=t.resourceAreaColumns||[],n=null;e.length?t.resourceAreaHeaderContent&&(n={headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent,headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount}):e.push({headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent||"Resources",headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount});for(var r=[],i=[],o=[],a=!1,l=0,c=e;l<c.length;l++){var d=c[l];d.group?i.push(I(I({},d),{cellClassNames:d.cellClassNames||t.resourceGroupLabelClassNames,cellContent:d.cellContent||t.resourceGroupLabelContent,cellDidMount:d.cellDidMount||t.resourceGroupLabelDidMount,cellWillUnmount:d.cellWillUnmount||t.resourceGroupLaneWillUnmount})):r.push(d)}var f=r[0];if(f.isMain=!0,f.cellClassNames=f.cellClassNames||t.resourceLabelClassNames,f.cellContent=f.cellContent||t.resourceLabelContent,f.cellDidMount=f.cellDidMount||t.resourceLabelDidMount,f.cellWillUnmount=f.cellWillUnmount||t.resourceLabelWillUnmount,i.length)o=i,a=!0;else{var p=t.resourceGroupField;p&&o.push({field:p,labelClassNames:t.resourceGroupLabelClassNames,labelContent:t.resourceGroupLabelContent,labelDidMount:t.resourceGroupLabelDidMount,labelWillUnmount:t.resourceGroupLabelWillUnmount,laneClassNames:t.resourceGroupLaneClassNames,laneContent:t.resourceGroupLaneContent,laneDidMount:t.resourceGroupLaneDidMount,laneWillUnmount:t.resourceGroupLaneWillUnmount})}for(var m=t.resourceOrder||jz,g=[],y=0,_=m;y<_.length;y++){for(var w=_[y],S=!1,C=0,R=o;C<R.length;C++){var k=R[C];if(k.field===w.field){k.order=w.order,S=!0;break}}S||g.push(w)}return{superHeaderRendering:n,isVGrouping:a,groupSpecs:o,colSpecs:i.concat(r),orderSpecs:g}}var Rme=Nt({deps:[Ta,Yz,Fz],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:eW,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}}),tW=Rme;var Ame=[{group:!0,field:""},{field:"title",headerContent:"Status"}];var nW=Ame;var rW=Et`
  :host {
    height: 100%;
    width: 100%;
  }
  #calendar, #timeline {
    margin: 15px;
  }
  .fc-event .fc-event-main {
    position: relative;
    z-index: 2;
    min-height: 10px;
  }
`;var iW=t=>{let e=t.replace(" ","").trim();return e.charAt(0).toLowerCase()+e.slice(1)},oW=t=>{let e=t.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)};var Lp=class{constructor(){this.identifierLabel="Inquiries";this.collectionKey="";this.id="";this.mainFields={};this.init=(e,n)=>{console.log("Creating new "+this.identifierLabel),console.log(this),this.id===""?(console.log("pushing doc to database"),e.createDoc(this.collectionKey,this,r=>{n&&n(r)})):n&&n(this.id)};this.accessField=(e,n,r,i)=>({label:e,value:n,type:r,positionIndex:i});this.accessibleFields=()=>{let e=[];for(let[n,r]of Object.entries(this))r.positionIndex&&e.push(this.accessField(oW(n),r.value,r.type,r.positionIndex));return e};this.updateField=(e,n,r)=>{console.log("updating Field "+n+" for "+this.collectionKey),this.id!==""&&e.setFieldValue(this.collectionKey,this.id,iW(n),r)};this.remove=e=>{if(this.id!==""){if(window.confirm("Are You Sure You Would Like to Remove "+this.identifierLabel+`? 
 This cannot be undone!`))return e.removeDoc(this.collectionKey,this.id),!0}else throw new Error("Cannot remove "+this.identifierLabel+" as it has not been initialized yet.")}}mergeModel(e){if(e)for(let[n,r]of Object.entries(e))n!=="serverApi"&&(this[n]=r)}};var Fd={lead:{resourceId:"lead",order:1,label:"Lead",color:"yellow",textColor:"black",borderColor:"black"},notInterested:{resourceId:"notInterested",order:2,label:"Not Interested",color:"red",textColor:"black",borderColor:"black"},proposalSent:{resourceId:"proposalSent",order:3,label:"Proposal Sent",color:"blue",textColor:"blue",borderColor:"black"},awaitingModeration:{resourceId:"awaitingModeration",order:4,label:"Avaiting Moderation",color:"purple",textColor:"blue",borderColor:"black"},hasScheduledShoot:{resourceId:"hasScheduledShoot",order:5,label:"Photo Shoot Scheduled",color:"purple",textColor:"white",borderColor:"black"},photographed:{resourceId:"photographed",order:6,label:"Photographed",color:"blue",textColor:"white",borderColor:"black"},inDevelopment:{resourceId:"booked",order:3,label:"Booked",color:"green",textColor:"white",borderColor:"black"}},gA=class extends Lp{constructor(){super(...arguments);this.identifierLabel="Inquir";this.collectionKey="inquiries";this.parentClientId="";this.id="";this.businessName=this.accessField("Business Name","New Business","text",1);this.location=this.accessField("Locations","","text",2);this.status=this.accessField("Status",{type:"StatusEnums",value:Fd.lead},"select",3);this.dateReceived=this.accessField("Date Recieved","","date",4);this.lastContact=this.accessField("Last Contact","","date",5);this.proposalDate=this.accessField("Proposal Date","","date",6);this.source=this.accessField("Source","","text",7)}},yA=gA;var Fp=class{constructor(e,n,r,i,o){let a=l=>window.alert("!! Event  constructor "+l+" !!");if(e)return{id:e,title:n||a("needs a valid title"),start:r||a("needs a valid startDate"),end:i||a("needs a valid stop Date"),resourceId:Fd[o].resourceId,color:Fd[o].color,textColor:Fd[o].textColor,borderColor:"black"}}};Fp.resources=()=>{let e=[];for(let[n,r]of Object.entries(Fd))e.push({id:r.resourceId,title:r.label,eventColor:r.color,eventTextColor:r.textColor,eventBorderColor:r.borderColor?r.borderColor:"black",tOrder:r.order?r.order:""});return e};var No=class extends We{constructor(){super(...arguments);this.serverApi=null;this.inquiries=null;this.scrollToTime=null;this.events=null;this.calendar=null;this.timeline=null;this.handleDateSelect=e=>{console.log(e),this.timeline.gotoDate(e.startStr),e.view.calendar.unselect()};this.handleEventChange=e=>{if(e.oldEvent&&e.event){let n=e.event.id,r=e.oldEvent,i=e.event,o=r.startStr.split("T"),a=i.startStr.split("T"),l=r.endStr.split("T"),c=i.endStr.split("T");console.log([r,i,a]),a[0]!==o[0]&&this.serverApi.setFieldValue("inquiries",n,"eventDate",a[0]),a[1]!==o[1]&&this.serverApi.setFieldValue("inquiries",n,"startTime",a[0]),c[1]!==l[1]&&this.serverApi.setFieldValue("inquiries",n,"stopTime",a[0])}};this.generateCalendarEvents=()=>{console.log("attempting to load events"),console.log(this.inquiries);let e=[];if(this.inquiries){for(let n=0;n<this.inquiries.length;n++){let r=this.inquiries[n];if(r){let i=r.eventDate+"T"+r.startTime+":00",o=r.eventDate+"T"+r.stopTime+":00";e.push(new Fp(r.id,r.eventTitle,i,o,this.inquiries[n].eventStatus))}}e[0]?this.events=e:this.events=null}this.events&&this.events[0]};this.selectEvent=e=>{console.log(e),this.timeline.gotoDate(e.event.startStr),this.timeline.scrollToTime(e.event.startStr.split("T")[1]);let n=new CustomEvent("inquiry-selected",{detail:{data:e.event.id,message:"Event Selected"},bubbles:!0,composed:!0});this.dispatchEvent(n)};this.renderEventContent=e=>{function n(d){return d<10?d="0"+d:d>12&&(d=d-12),d}let r=e.event.start,i=e.event.end,o=n(r.getHours()),a=n(r.getMinutes()),l=o+":"+a,c="";if(i){let d=n(i.getHours()),f=n(i.getMinutes());c="-"+d+":"+f}return ee`<i className="cal-popup-disp-item">{eventInfo.event.title}</i>`};this.getCalendar=()=>{console.log("grabbing calendar"),this.calendar=new $R(this.renderRoot.querySelector("#calendar"),{initialView:"dayGridMonth",plugins:[lz,vz,Sz],headerToolbar:{left:"title",center:"",right:"today prev next"},height:"64%",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:this.events,eventDisplay:"list",select:this.handleDateSelect,eventClick:this.selectEvent,eventChange:this.handleEventChange,eventContent:this.renderEventContent})};this.getTimeline=()=>{console.log("grabbing timeline"),this.timeline=new $R(this.renderRoot.querySelector("#timeline"),{plugins:[tW],schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",timeZone:"UTC",initialView:"resourceTimelineDay",headerToolbar:{left:"today prev,next",center:"title",right:"resourceTimelineDay,resourceTimelineWeek"},height:"34%",editable:!0,eventStartEditable:!0,selectable:!0,resourceOrder:"tOrder",resources:Fp.resources(),events:this.events,resourceAreaColumns:nW,eventClick:this.selectEvent})}}firstUpdated(){console.log("first update"),this.getCalendar(),this.getTimeline()}updated(){this.calendar?this.calendar.render():this.getCalendar(),this.timeline?this.timeline.render():this.getTimeline(),setTimeout(()=>{this.calendar&&this.calendar.updateSize(),this.timeline&&this.timeline.updateSize()},2e3)}shouldUpdate(e){return e.forEach((n,r)=>{console.log(`${r} changed. oldValue: ${n}`),r=="inquiries"&&(this.generateCalendarEvents(),this.getCalendar(),this.getTimeline(),setTimeout(()=>{console.log("attempting to rerender"),this.calendar.render(),this.timeline.render()},500))}),!0}render(){return this.generateCalendarEvents(),ee`
            <link href="https://www.unpkg.com/@fullcalendar/common@5.7.0/main.css" rel="stylesheet">
            <link href="https://www.unpkg.com/@fullcalendar/resource-timeline@5.7.0/main.css" rel="stylesheet">
            <div id="calendar"></div>
            <div id="timeline"></div>
        `}};No.styles=rW,J([fe()],No.prototype,"serverApi",2),J([fe({type:Array})],No.prototype,"inquiries",2),J([fe()],No.prototype,"scrollToTime",2),J([nn()],No.prototype,"events",2),J([nn()],No.prototype,"calendar",2),J([nn()],No.prototype,"timeline",2),No=J([rt("events-calendar")],No);var bA=class extends Lp{constructor(){super(...arguments);this.identifierLabel="Client";this.collectionKey="clients";this.id="";this.name=this.accessField("Name","New Client","text",1);this.email=this.accessField("Email","","email",2);this.phone=this.accessField("Phone","","tel",3)}},_A=bA;var Ar=class extends We{constructor(){super(...arguments);this.serverApi=null;this.clients=null;this.inquiries=null;this.targetClient=null;this.client=null;this.targetInquiry=null;this.inquiry=null;this.slowMode=!1;this.showClientNewFieldPopup=!1;this.showInquiryNewFieldPopup=!1;this.selectClient=e=>{this.targetClient=e,this.requestUpdate()};this.selectInquiry=e=>{this.targetInquiry=e,this.requestUpdate()};this.createNewClient=()=>{console.log("testing"),new _A().init(this.serverApi,e=>console.log(e))};this.createNewInquiry=()=>{let e=new yA;e.parentClientId=this.client.id,e.init(this.serverApi,n=>console.log(n))};this.getClient=()=>{if(this.clients){let e=new _A;console.log(e),console.log("merging");let n=this.targetClient?this.clients.filter(r=>r.id===this.targetClient)[0]:this.clients[0];if(n)return e.mergeModel(n),e.init(this.serverApi),this.targetClient=e.id,this.client=e,e}else throw new Error("Clients have not been loaded yet.")};this.getInquiry=()=>{if(this.client&&this.inquiries){let e=new yA,n=this.targetInquiry?this.inquiries.filter(r=>r.id===this.targetInquiry)[0]:this.inquiries[0];if(n)return e.mergeModel(n),e.init(this.serverApi),this.targetInquiry=e.id,this.inquiry=e,e}else throw new Error("Inquiries have not been loaded yet.")};this.updateDB=e=>{let n=e.detail.data,r=n.collectionKey,i=n.docKey,o=n.value,a=n.fieldKey;console.log([r,i,a,o]),this.serverApi.setFieldValue(r,i,a,o)};this.updated=()=>{if(this.clients)if(!this.client||this.client.id!==this.targetClient)this.getClient();else{let e=this.clients.filter(n=>n.id===this.client.id)[0];for(let[n,r]of Object.entries(e))if(e[n]!==this.client[n]){this.client.mergeModel(e);break}}if(this.clients&&this.inquiries)if(!this.inquiry||this.inquiry.id!==this.targetInquiry)this.getInquiry();else{let e=!1,n=this.clients.filter(r=>r.id===this.client.id)[0];for(let[r,i]of Object.entries(n))if(n[r]!==this.inquiry[r]){this.client.mergeModel(n);break}}}}render(){return this.clients&&this.inquiries?ee`
        <mwc-drawer slot="content">
          <mwc-list>
            
            <!-- Client Creation Button -->
            <mwc-list-item class="list-button add" graphic="icon" @click="${this.createNewClient}" selected activated>
              <span>New Client</span>
              <mwc-icon slot="graphic" class="inverted">add</mwc-icon>
            </mwc-list-item>
            <li class="bottom-space" divider role="separator"></li>

            <!-- Map all Clients as list items -->
            ${this.clients.map(e=>ee`
              ${this.client&&this.client.id===e.id?ee`
                <mwc-list-item class="client-list-item" graphic="avatar" twoline @click="${()=>{this.selectClient(e.id)}}" selected activated>
                  <span>${e.name.value}</span>
                  <span slot="secondary">${e.email.value}</span>
                  <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
                </mwc-list-item>
              `:ee`
                <mwc-list-item class="client-list-item" graphic="avatar" twoline @click="${()=>{this.selectClient(e.id)}}">
                  <span>${e.name.value}</span>
                  <span slot="secondary">${e.email.value}</span>
                  <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
                </mwc-list-item>
              `}
                
                <!-- if Active Client, Map related inquiries as list items -->
                ${this.client&&this.client.id===e.id?ee`
                  <mwc-list class="nested">
                    <mwc-list-item class="inquiry-list-item list-button add" graphic="icon" @click="${this.createNewInquiry}" selected activated>
                      <span>New Inquiry</span>
                      <mwc-icon slot="graphic" class="inverted">add</mwc-icon>
                    </mwc-list-item>

                    <!-- Map all Inquiries related to Client as list items -->
                    ${this.inquiries.filter(n=>n.parentClientId===this.client.id).map(n=>ee`
                      ${this.inquiry&&this.inquiry.id===n.id?ee`
                          <mwc-list-item class="inquiry-list-item" graphic="icon" @click="${()=>{this.selectInquiry(n.id)}}" selected activated>
                            ${n.businessName.value}
                            <mwc-icon slot="graphic" class="inverted">subdirectory_arrow_right</mwc-icon>
                          </mwc-list-item>`:ee`
                          <mwc-list-item class="inquiry-list-item" graphic="icon" @click="${()=>{this.selectInquiry(n.id)}}">
                            ${n.businessName.value}
                            <mwc-icon slot="graphic" class="inverted">subdirectory_arrow_right</mwc-icon>
                          </mwc-list-item>`}
                    `)}
                    
                    <li class="bottom-space" divider role="separator"></li>
                  </mwc-list>
                `:null}
            `)}
          </mwc-list>
          ${this.client?ee`
            ${this.showClientNewFieldPopup?ee`
              <new-field-popup
                .serverApi="${this.serverApi}"
                .targetForm="${this.client}"
                @closepopup="${()=>{this.showClientNewFieldPopup=!1,setTimeout(()=>this.requestUpdate(),1e3)}}"
              ></new-field-popup>
            `:ee``}
            <div slot="appContent" style="display:flex; height: 100%;">
                  <content-item id="client-info">
                    <div class="title-bar indented">
                      <h1>${this.client.name}</h1>
                      <div class="button-collection-wrapper">
                        <div class="button-collection">
                          <div class="button-wrapper">
                            <mwc-icon-button class="delete-icon" icon="delete_forever" @click="${()=>this.client.remove(this.serverApi)}"></mwc-icon-button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="rounded">

                    <!-- Main Client Info -->
                    <div id="client-header">
                      <div id="client-portrait">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/>
                      </div>
                      <div class="client-editable">
                        <form-wrapper
                          @value-changed="${this.updateDB}"
                          .serverApi="${this.serverApi}"
                          .docObject="${this.client}"
                          .size="${20}"
                        >
                        </form-wrapper>
                        <div class="button-collection-wrapper">
                          <div class="button-collection">
                            <div class="button-wrapper">
                              <mwc-button class="form-button" label="Add Field" @click="${()=>{this.showClientNewFieldPopup=!0,console.log(this.showClientNewFieldPopup)}}"></mwc-button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="rounded">
                    ${this.inquiry?ee`
                      ${this.showInquiryNewFieldPopup?ee`
                        <new-field-popup
                          .serverApi="${this.serverApi}"
                          .targetForm="${this.inquiry}"
                          @closepopup="${()=>{this.showInquiryNewFieldPopup=!1,setTimeout(()=>this.requestUpdate(),1e3)}}"
                        ></new-field-popup>
                      `:ee``}

                      <!-- Inquiry Info -->
                      <div id="inquiry-info">
                        ${this.inquiry.id===this.targetInquiry&&this.inquiry.parentClientId===this.client.id?ee`
                            <!-- show form if inquiry selected -->
                            <form-wrapper
                              @value-changed="${this.updateDB}"
                              .serverApi="${this.serverApi}"
                              .docObject="${this.inquiry}"
                              .showDelete="${!0}"
                              .size="${20}" 
                              .title="${"Inquiry Info"}"
                            >
                            </form-wrapper>
                            <div class="button-collection-wrapper">
                              <div class="button-collection">
                                <div class="button-wrapper">
                                  <mwc-button class="form-button" label="Add Field" @click="${()=>{this.showInquiryNewFieldPopup=!0,console.log(this.showInquiryNewFieldPopup)}}"></mwc-button>
                                </div>
                              </div>
                            </div>
                          `:ee``}
                    </div>
                    `:ee``}


                    <hr class="rounded">
                    
                    <div id="coorespondence">
                      <form-wrapper 
                          .size="${20}" 
                          .title="${"Coorespondence"}"
                        >
                        </form-wrapper>
                    </div>
                  </content-item>
                <content-item id="calendar">
  <!--                 <events-calendar
                    .inquiries= "${this.inquiries}"
                  >
                  </events-calendar> -->
                </content-item>
            </div>
          `:ee``}
        </mwc-drawer>
      `:ee`Loading...`}};Ar.styles=yj,J([fe({type:Object})],Ar.prototype,"serverApi",2),J([fe({type:Array})],Ar.prototype,"clients",2),J([fe({type:Array})],Ar.prototype,"inquiries",2),J([nn()],Ar.prototype,"targetClient",2),J([nn()],Ar.prototype,"client",2),J([nn()],Ar.prototype,"targetInquiry",2),J([nn()],Ar.prototype,"inquiry",2),J([nn()],Ar.prototype,"slowMode",2),J([nn()],Ar.prototype,"showClientNewFieldPopup",2),J([nn()],Ar.prototype,"showInquiryNewFieldPopup",2),Ar=J([rt("clients-index")],Ar);var Oo=class extends We{constructor(){super(...arguments);this.open=!0;this.selectedPage="clients-display";this.clients=null;this.inquiries=null;this.firstUpdated=()=>{this.subscribeToServer()};this.subscribeToServer=()=>{this.serverApi.subscribeToServer(),this.serverApi.socket.on("dbInquiries",(e,n)=>{console.log("recieving inquiries"),e.inquiries!==this.inquiries&&(this.inquiries=e.inquiries),e.inquiries?n({status:"recieved"}):n({status:"failed"})}),this.serverApi.socket.on("dbClients",(e,n)=>{console.log("recieving clients"),console.log(e),e.clients!==this.clients&&(this.clients=e.clients),console.log(this.clients),e.clients?n({status:"recieved"}):n({status:"failed"})})};this.createPage=(e,n,r)=>({label:e,target:n,active:n===this.selectedPage,render:r});this.pages=()=>[this.createPage("Clients","clients-display",ee`
      <clients-index slot="content" .serverApi="${this.serverApi}" .clients="${this.clients}" .inquiries="${this.inquiries}"></clients-index>
    `),this.createPage("Calendar","calendar-page",ee`
    `),this.createPage("Ongoing","out-for-sign-page",ee`
    `),this.createPage("Bookings","bookings-page",ee`
    `),this.createPage("My Account","business-home",ee`
    `)];this.openDrawer=()=>{this.open=!this.open}}render(){return ee`
      <page-display>
        <mwc-drawer id="main-content-wrapper" slot="content" type="dismissible" ?open="${this.open}">
          <mwc-list-item twoline graphic="large" noninteractive>
            <span>${this.user.displayName}</span>
            <span slot="secondary">${this.user.email}</span>
            <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
          </mwc-list-item>  
          <mwc-list activatable>
            ${this.pages().map(e=>this.selectedPage==e.target?ee`
                  <li divider role="separator"></li>
                  <mwc-list-item twoline @click="${()=>{this.selectedPage=e.target.toString(),this.openDrawer}}" selected activated>${e.label}
                  </mwc-list-item>
                `:ee`
                  <mwc-list-item twoline @click="${()=>{this.selectedPage=e.target.toString(),this.openDrawer}}">${e.label}</mwc-list-item>
                `)}
          </mwc-list>
          <div id="appContent" slot="appContent">
              <mwc-top-app-bar>
                <mwc-icon-button slot="navigationIcon" @click="${this.openDrawer}">
                  <svg viewBox="0 0 100 80" width="40" height="40"><rect width="100" height="20"></rect><rect y="30" width="100" height="20"></rect><rect y="60" width="100" height="20"></rect></svg>
                </mwc-icon-button>
                  <div slot="title">Easy Events for Business</div>
              </mwc-top-app-bar>
              ${this.pages().filter(e=>e.target===this.selectedPage)[0].render}
          </div>
        </mwc-drawer>
      </page-display>
    `}};Oo.styles=Et`
    :host {
      --mdc-drawer-width: 200px;
    }
    #main-content-wrapper {
      position: fixed;
      bottom: 0;
      right:0;
    }
    #appContent {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
  `,J([fe({type:Boolean})],Oo.prototype,"open",2),J([fe({type:Object})],Oo.prototype,"serverApi",2),J([fe({type:String})],Oo.prototype,"selectedPage",2),J([fe({type:Object})],Oo.prototype,"user",2),J([nn()],Oo.prototype,"clients",2),J([nn()],Oo.prototype,"inquiries",2),Oo=J([rt("business-index")],Oo);var Ud=class extends We{render(){return this.isLoggedIn===!0?ee`
        <business-index
          .serverApi = "${this.serverApi}"
          .user="${this.user}"
        >
        </business-index>
      `:ee`
        <auth-index
          .serverApi = "${this.serverApi}"
        ></auth-index>
      `}};J([fe({type:Boolean})],Ud.prototype,"isLoggedIn",2),J([fe({type:Object})],Ud.prototype,"user",2),J([fe({type:Object})],Ud.prototype,"serverApi",2),Ud=J([rt("page-router")],Ud);var sW,Ca=class extends We{constructor(){super(...arguments);this.loadedFirebase=null;this.serverApi=null;this.isLoggedIn=!1;this.userId=null;this.user=null;this.isDebug=!1;this.startServerApi=()=>{sW=(0,tp.default)();let e=iV(sW);this.loadedFirebase||e.getConfig(n=>{Z.apps.length?this.loadedFirebase=Z.app():this.loadedFirebase=Z.initializeApp(n)}),this.serverApi=e};this.restartServerApi=()=>{this.serverApi&&(this.serverApi.socket.close(),this.serverApi=null),this.startServerApi()};this.testSessionAuth=()=>{this.serverApi?this.serverApi.getApiKey(e=>{let n=JSON.parse(window.sessionStorage.getItem(`firebase:authUser:${e}:[DEFAULT]`));n?(this.user=n,this.userId=n.uid,this.serverApi.setUserId(n.uid),this.isLoggedIn=!0):this.isLoggedIn=!1}):this.restartServerApi()};this.firstUpdated=()=>{this.testSessionAuth()};this.test=!1}render(){return ee`
      <page-router
        @login-change="${this.testSessionAuth}"
        ?isloggedin = "${this.isLoggedIn||this.isDebug}"
        .user = "${this.user}"
        .serverApi = "${this.serverApi}"
      ></page-router>
    `}};J([fe()],Ca.prototype,"loadedFirebase",2),J([fe()],Ca.prototype,"serverApi",2),J([fe({type:Boolean})],Ca.prototype,"isLoggedIn",2),J([fe()],Ca.prototype,"userId",2),J([nn()],Ca.prototype,"user",2),Ca=J([rt("easy-events")],Ca);})();
/*!
FullCalendar Scheduler v5.7.0
Docs & License: https://fullcalendar.io/scheduler
(c) 2021 Adam Shaw
*/
/*!
FullCalendar v5.7.0
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2020 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2021 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
//# sourceMappingURL=easy-events.js.map
