(()=>{var k5=Object.create,uf=Object.defineProperty;var WN=Object.getOwnPropertyDescriptor;var A5=Object.getOwnPropertyNames;var D5=Object.getPrototypeOf,N5=Object.prototype.hasOwnProperty;var P5=t=>uf(t,"__esModule",{value:!0});var xm=(t,e)=>()=>(t&&(e=t(t=0)),e),ke=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),bw=(t,e)=>{for(var n in e)uf(t,n,{get:e[n],enumerable:!0})},O5=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of A5(e))!N5.call(t,r)&&r!=="default"&&uf(t,r,{get:()=>e[r],enumerable:!(n=WN(e,r))||n.enumerable});return t},Gr=t=>O5(P5(uf(t!=null?k5(D5(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Z=(t,e,n,r)=>{for(var i=r>1?void 0:r?WN(e,n):e,o=t.length-1,a;o>=0;o--)(a=t[o])&&(i=(r?a(e,n,i):a(i))||i);return r&&i&&uf(e,n,i),i};var Dw=ke((kme,Pm)=>{var _P,wP,EP,SP,xP,TP,CP,IP,RP,Dm,Aw,kP,AP,DP,Au,NP,PP,OP,MP,LP,FP,UP,BP,Nm;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof Pm=="object"&&typeof Pm.exports=="object"?t(n(e,n(Pm.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(o,a){return r[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])};_P=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},wP=Object.assign||function(r){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},EP=function(r,i){var o={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(o[a[l]]=r[a[l]]);return o},SP=function(r,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,i,o,a);else for(var f=r.length-1;f>=0;f--)(d=r[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u},xP=function(r,i){return function(o,a){i(o,a,r)}},TP=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},CP=function(r,i,o,a){function l(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function f(g){try{m(a.next(g))}catch(y){d(y)}}function p(g){try{m(a.throw(g))}catch(y){d(y)}}function m(g){g.done?u(g.value):l(g.value).then(f,p)}m((a=a.apply(r,i||[])).next())})},IP=function(r,i){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,l,u,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(g){return p([m,g])}}function p(m){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,l&&(u=m[0]&2?l.return:m[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,m[1])).done)return u;switch(l=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,l=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){o.label=m[1];break}if(m[0]===6&&o.label<u[1]){o.label=u[1],u=m;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(m);break}u[2]&&o.ops.pop(),o.trys.pop();continue}m=i.call(r,o)}catch(g){m=[6,g],l=0}finally{a=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},RP=function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Nm(i,r,o)},Nm=Object.create?function(r,i,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]},Dm=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&r[i],a=0;if(o)return o.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Aw=function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var a=o.call(r),l,u=[],d;try{for(;(i===void 0||i-- >0)&&!(l=a.next()).done;)u.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(d)throw d.error}}return u},kP=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(Aw(arguments[i]));return r},AP=function(){for(var r=0,i=0,o=arguments.length;i<o;i++)r+=arguments[i].length;for(var a=Array(r),l=0,i=0;i<o;i++)for(var u=arguments[i],d=0,f=u.length;d<f;d++,l++)a[l]=u[d];return a},DP=function(r,i){for(var o=0,a=i.length,l=r.length;o<a;o++,l++)r[l]=i[o];return r},Au=function(r){return this instanceof Au?(this.v=r,this):new Au(r)},NP=function(r,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(r,i||[]),l,u=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l;function d(_){a[_]&&(l[_]=function(w){return new Promise(function(S,C){u.push([_,w,S,C])>1||f(_,w)})})}function f(_,w){try{p(a[_](w))}catch(S){y(u[0][3],S)}}function p(_){_.value instanceof Au?Promise.resolve(_.value.v).then(m,g):y(u[0][2],_)}function m(_){f("next",_)}function g(_){f("throw",_)}function y(_,w){_(w),u.shift(),u.length&&f(u[0][0],u[0][1])}},PP=function(r){var i,o;return i={},a("next"),a("throw",function(l){throw l}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(l,u){i[l]=r[l]?function(d){return(o=!o)?{value:Au(r[l](d)),done:l==="return"}:u?u(d):d}:u}},OP=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],o;return i?i.call(r):(r=typeof Dm=="function"?Dm(r):r[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(u){o[u]=r[u]&&function(d){return new Promise(function(f,p){d=r[u](d),l(f,p,d.done,d.value)})}}function l(u,d,f,p){Promise.resolve(p).then(function(m){u({value:m,done:f})},d)}},MP=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var n=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};LP=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&Nm(i,r,o);return n(i,r),i},FP=function(r){return r&&r.__esModule?r:{default:r}},UP=function(r,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(r):a?a.value:i.get(r)},BP=function(r,i,o,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!l:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(r,o):l?l.value=o:i.set(r,o),o},t("__extends",_P),t("__assign",wP),t("__rest",EP),t("__decorate",SP),t("__param",xP),t("__metadata",TP),t("__awaiter",CP),t("__generator",IP),t("__exportStar",RP),t("__createBinding",Nm),t("__values",Dm),t("__read",Aw),t("__spread",kP),t("__spreadArrays",AP),t("__spreadArray",DP),t("__await",Au),t("__asyncGenerator",NP),t("__asyncDelegator",PP),t("__asyncValues",OP),t("__makeTemplateObject",MP),t("__importStar",LP),t("__importDefault",FP),t("__classPrivateFieldGet",UP),t("__classPrivateFieldSet",BP)})});var HP,P,I,Ame,U,Dme,Nme,N,D,Pme,Ome,gt,Ct,Mme,De,me,Lme,Fme,Ume,Bme,Hme,Vme,jme,qme,Wme,le=xm(()=>{HP=Gr(Dw()),{__extends:P,__assign:I,__rest:Ame,__decorate:U,__param:Dme,__metadata:Nme,__awaiter:N,__generator:D,__exportStar:Pme,__createBinding:Ome,__values:gt,__read:Ct,__spread:Mme,__spreadArrays:De,__spreadArray:me,__await:Lme,__asyncGenerator:Fme,__asyncDelegator:Ume,__asyncValues:Bme,__makeTemplateObject:Hme,__importStar:Vme,__importDefault:jme,__classPrivateFieldGet:qme,__classPrivateFieldSet:Wme}=HP.default});var WP={};bw(WP,{CONSTANTS:()=>Om,Deferred:()=>cn,ErrorFactory:()=>Ln,FirebaseError:()=>Ei,MAX_VALUE_MILLIS:()=>jP,RANDOM_FACTOR:()=>qP,Sha1:()=>Vw,areCookiesEnabled:()=>Lm,assert:()=>G,assertionError:()=>ms,async:()=>Q5,base64:()=>Ha,base64Decode:()=>Pw,base64Encode:()=>Nw,calculateBackoffMillis:()=>Fu,contains:()=>wn,createMockUserToken:()=>pf,createSubscribe:()=>jw,decode:()=>vf,deepCopy:()=>hf,deepExtend:()=>Va,errorPrefix:()=>dn,extractQuerystring:()=>X5,getGlobal:()=>j5,getModularInstance:()=>ve,getUA:()=>Do,isAdmin:()=>Bw,isBrowser:()=>Ow,isBrowserExtension:()=>Nu,isElectron:()=>Mw,isEmpty:()=>gf,isIE:()=>Lw,isIndexedDBAvailable:()=>Pu,isMobileCordova:()=>Du,isNode:()=>Mm,isNodeSdk:()=>Kr,isReactNative:()=>mf,isSafari:()=>V5,isUWP:()=>Fw,isValidFormat:()=>Uw,isValidTimestamp:()=>G5,issuedAtTime:()=>K5,jsonEval:()=>ja,map:()=>Mu,ordinal:()=>nK,querystring:()=>Hw,querystringDecode:()=>Y5,safeGet:()=>No,stringLength:()=>Lu,stringToByteArray:()=>Ww,stringify:()=>It,validateArgCount:()=>ue,validateCallback:()=>Pt,validateContextObject:()=>Fm,validateIndexedDBOpenable:()=>Ou,validateNamespace:()=>Z5});function hf(t){return Va(void 0,t)}function Va(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!H5(r)||(t[r]=Va(t[r],e[r]));return t}function H5(t){return t!=="__proto__"}function pf(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=I({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Ha.encodeString(JSON.stringify(n),!1),Ha.encodeString(JSON.stringify(a),!1),l].join(".")}function Do(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Du(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Do())}function Mm(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(t){return!1}}function Ow(){return typeof self=="object"&&self.self===self}function Nu(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mw(){return Do().indexOf("Electron/")>=0}function Lw(){var t=Do();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fw(){return Do().indexOf("MSAppHost/")>=0}function Kr(){return Om.NODE_CLIENT===!0||Om.NODE_ADMIN===!0}function V5(){return!Mm()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pu(){return"indexedDB"in self&&indexedDB!=null}function Ou(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function Lm(){return!(!navigator||!navigator.cookieEnabled)}function j5(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}function W5(t,e){return t.replace(z5,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}function ja(t){return JSON.parse(t)}function It(t){return JSON.stringify(t)}function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function No(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mu(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Hw(t){for(var e=[],n=function(u,d){Array.isArray(d)?d.forEach(function(f){e.push(encodeURIComponent(u)+"="+encodeURIComponent(f))}):e.push(encodeURIComponent(u)+"="+encodeURIComponent(d))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],l=o[1];n(a,l)}return e.length?"&"+e.join("&"):""}function Y5(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(r){if(r){var i=r.split("="),o=i[0],a=i[1];e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function X5(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jw(t,e){var n=new $5(t,e);return n.subscribe.bind(n)}function Q5(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(i){e&&e(i)})}}function J5(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function qw(){}function dn(t,e){return t+" failed: "+e+" argument "}function Z5(t,e,n){if(!(n&&!e)&&typeof e!="string")throw new Error(dn(t,"namespace")+"must be a valid firebase namespace.")}function Pt(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(dn(t,e)+"must be a valid function.")}function Fm(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(dn(t,e)+"must be a valid context object.")}function Fu(t,e,n){e===void 0&&(e=eK),n===void 0&&(n=tK);var r=e*Math.pow(n,t),i=Math.round(qP*r*(Math.random()-.5)*2);return Math.min(jP,r+i)}function nK(t){return Number.isFinite(t)?t+rK(t):""+t}function rK(t){t=Math.abs(t);var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return n===1?"st":n===2?"nd":n===3?"rd":"th"}function ve(t){return t&&t._delegate?t._delegate:t}var Om,G,ms,VP,B5,Ha,Nw,Pw,cn,q5,Ei,Ln,z5,vf,G5,K5,Uw,Bw,Vw,$5,ue,Ww,Lu,eK,tK,jP,qP,sr=xm(()=>{le();Om={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};G=function(t,e){if(!t)throw ms(e)},ms=function(t){return new Error("Firebase Database ("+Om.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};VP=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)==55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B5=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Ha={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4,m=(l&15)<<2|d>>6,g=d&63;u||(g=64,a||(m=64)),r.push(n[f],n[p],n[m],n[g])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VP(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,l=a?n[t.charAt(i)]:0;++i;var u=i<t.length,d=u?n[t.charAt(i)]:64;++i;var f=i<t.length,p=f?n[t.charAt(i)]:64;if(++i,o==null||l==null||d==null||p==null)throw Error();var m=o<<2|l>>4;if(r.push(m),d!==64){var g=l<<4&240|d>>2;if(r.push(g),p!==64){var y=d<<6&192|p;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Nw=function(t){var e=VP(t);return Ha.encodeByteArray(e,!0)},Pw=function(t){try{return Ha.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};cn=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();q5="FirebaseError",Ei=function(t){P(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=q5,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ln.prototype.create),o}return e}(Error),Ln=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],l=a?W5(a,i):"Error",u=this.serviceName+": "+l+" ("+o+").",d=new Ei(o,u,i);return d},t}();z5=/\{\$([^}]+)}/g;vf=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=ja(Pw(o[0])||""),n=ja(Pw(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},G5=function(t){var e=vf(t).claims,n=Math.floor(new Date().getTime()/1e3),r=0,i=0;return typeof e=="object"&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),e.hasOwnProperty("exp")?i=e.exp:i=r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},K5=function(t){var e=vf(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},Uw=function(t){var e=vf(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Bw=function(t){var e=vf(t).claims;return typeof e=="object"&&e.admin===!0};Vw=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,m,i=0;i<80;i++){i<40?i<20?(p=d^l&(u^d),m=1518500249):(p=l^u^d,m=1859775393):i<60?(p=l&u|d&(l|u),m=2400959708):(p=l^u^d,m=3395469782);var o=(a<<5|a>>>27)+p+f+m+r[i]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();$5=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J5(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=qw),o.error===void 0&&(o.error=qw),o.complete===void 0&&(o.complete=qw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch(l){}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();ue=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};Ww=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lu=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};eK=1e3,tK=2,jP=4*60*60*1e3,qP=.5;});var zP={};bw(zP,{Component:()=>tt,ComponentContainer:()=>yf,Provider:()=>Um});function iK(t){return t===vs?void 0:t}function oK(t){return t.instantiationMode==="EAGER"}var tt,vs,Um,yf,Yr=xm(()=>{le();sr();tt=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();vs="[DEFAULT]";Um=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(e){e===void 0&&(e=vs);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new cn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(o){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=I({identifier:vs,optional:!1},e),r=n.identifier,i=n.optional,o=this.normalizeInstanceIdentifier(r);if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(oK(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch(p){}try{for(var i=gt(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Ct(o.value,2),l=a[0],u=a[1],d=this.normalizeInstanceIdentifier(l);try{var f=this.getOrInitializeService({instanceIdentifier:d});u.resolve(f)}catch(p){}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=vs),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(me(me([],Ct(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ct(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=vs),this.instances.has(e)},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.instanceIdentifier,o=i===void 0?vs:i,a=e.options,l=a===void 0?{}:a,u=this.normalizeInstanceIdentifier(o);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var d=this.getOrInitializeService({instanceIdentifier:u,options:l});try{for(var f=gt(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var m=Ct(p.value,2),g=m[0],y=m[1],_=this.normalizeInstanceIdentifier(g);u===_&&y.resolve(d)}}catch(w){n={error:w}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(d,u),d},t.prototype.onInit=function(e){var n=this;return this.onInitCallbacks.add(e),function(){n.onInitCallbacks.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i;try{for(var o=gt(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,n)}catch(u){}}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:iK(n),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:vs:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();yf=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new Um(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()});var Ki=ke(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});function Si(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}var qa,zw=[];(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je.LogLevel||(je.LogLevel={}));var GP={debug:je.LogLevel.DEBUG,verbose:je.LogLevel.VERBOSE,info:je.LogLevel.INFO,warn:je.LogLevel.WARN,error:je.LogLevel.ERROR,silent:je.LogLevel.SILENT},sK=je.LogLevel.INFO,aK=(qa={},qa[je.LogLevel.DEBUG]="log",qa[je.LogLevel.VERBOSE]="log",qa[je.LogLevel.INFO]="info",qa[je.LogLevel.WARN]="warn",qa[je.LogLevel.ERROR]="error",qa),lK=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=aK[e];if(o)console[o].apply(console,Si(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},uK=function(){function t(e){this.name=e,this._logLevel=sK,this._logHandler=lK,this._userLogHandler=null,zw.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in je.LogLevel))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?GP[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Si([this,je.LogLevel.DEBUG],e)),this._logHandler.apply(this,Si([this,je.LogLevel.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Si([this,je.LogLevel.VERBOSE],e)),this._logHandler.apply(this,Si([this,je.LogLevel.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Si([this,je.LogLevel.INFO],e)),this._logHandler.apply(this,Si([this,je.LogLevel.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Si([this,je.LogLevel.WARN],e)),this._logHandler.apply(this,Si([this,je.LogLevel.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Si([this,je.LogLevel.ERROR],e)),this._logHandler.apply(this,Si([this,je.LogLevel.ERROR],e))},t}();function cK(t){zw.forEach(function(e){e.setLogLevel(t)})}function dK(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=GP[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(u,d){for(var f=[],p=2;p<arguments.length;p++)f[p-2]=arguments[p];var m=f.map(function(g){if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch(y){return null}}).filter(function(g){return g}).join(" ");d>=(l??u.logLevel)&&t({level:je.LogLevel[d].toLowerCase(),message:m,args:f,type:u.name})}},r=0,i=zw;r<i.length;r++){var o=i[r];n(o)}}je.Logger=uK;je.setLogLevel=cK;je.setUserLogHandler=dK});var XP={};bw(XP,{default:()=>J,firebase:()=>Yw});function RK(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:d,setLogLevel:Uu.setLogLevel,onLog:f,apps:null,SDK_VERSION:IK,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:p}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete e[m]}function o(m){if(m=m||Bm,!wn(e,m))throw Bu.create("no-app",{appName:m});return e[m]}o.App=t;function a(m,g){if(g===void 0&&(g={}),typeof g!="object"||g===null){var y=g;g={name:y}}var _=g;_.name===void 0&&(_.name=Bm);var w=_.name;if(typeof w!="string"||!w)throw Bu.create("bad-app-name",{appName:String(w)});if(wn(e,w))throw Bu.create("duplicate-app",{appName:w});var S=new t(m,_,r);return e[w]=S,S}function l(){return Object.keys(e).map(function(m){return e[m]})}function u(m){var g=m.name;if(n.has(g))return Hu.debug("There were multiple attempts to register component "+g+"."),m.type==="PUBLIC"?r[g]:null;if(n.set(g,m),m.type==="PUBLIC"){var y=function(C){if(C===void 0&&(C=o()),typeof C[g]!="function")throw Bu.create("invalid-app-argument",{appName:g});return C[g]()};m.serviceProps!==void 0&&Va(y,m.serviceProps),r[g]=y,t.prototype[g]=function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];var A=this._getService.bind(this,g);return A.apply(this,m.multipleInstances?C:[])}}for(var _=0,w=Object.keys(e);_<w.length;_++){var S=w[_];e[S]._addComponent(m)}return m.type==="PUBLIC"?r[g]:null}function d(m,g,y){var _,w=(_=CK[m])!==null&&_!==void 0?_:m;y&&(w+="-"+y);var S=w.match(/\s|\//),C=g.match(/\s|\//);if(S||C){var R=['Unable to register library "'+w+'" with version "'+g+'":'];S&&R.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),S&&C&&R.push("and"),C&&R.push('version name "'+g+'" contains illegal characters (whitespace or "/")'),Hu.warn(R.join(" "));return}u(new tt(w+"-version",function(){return{library:w,version:g}},"VERSION"))}function f(m,g){if(m!==null&&typeof m!="function")throw Bu.create("invalid-log-argument");(0,Uu.setUserLogHandler)(m,g)}function p(m,g){if(g==="serverAuth")return null;var y=g;return y}return r}function YP(){var t=RK(Hm);t.INTERNAL=I(I({},t.INTERNAL),{createFirebaseNamespace:YP,extendNamespace:e,createSubscribe:jw,ErrorFactory:Ln,deepExtend:Va});function e(n){Va(t,n)}return t}function AK(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}function DK(t,e){t.INTERNAL.registerComponent(new tt("platform-logger",function(n){return new kK(n)},"PRIVATE")),t.registerVersion(KP,hK,e),t.registerVersion("fire-js","")}var Uu,gs,fK,Bu,KP,hK,pK,mK,vK,gK,yK,bK,_K,wK,EK,SK,xK,TK,En,Bm,CK,Hu,Hm,IK,Gw,kK,Kw,NK,Yw,J,ar=xm(()=>{le();sr();Yr();Uu=Gr(Ki());fK=(gs={},gs["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gs["bad-app-name"]="Illegal App name: '{$appName}",gs["duplicate-app"]="Firebase App named '{$appName}' already exists",gs["app-deleted"]="Firebase App named '{$appName}' already deleted",gs["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gs["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gs),Bu=new Ln("app","Firebase",fK),KP="@firebase/app",hK="0.6.22",pK="@firebase/analytics",mK="@firebase/app-check",vK="@firebase/auth",gK="@firebase/database",yK="@firebase/functions",bK="@firebase/installations",_K="@firebase/messaging",wK="@firebase/performance",EK="@firebase/remote-config",SK="@firebase/storage",xK="@firebase/firestore",TK="firebase-wrapper";Bm="[DEFAULT]",CK=(En={},En[KP]="fire-core",En[pK]="fire-analytics",En[mK]="fire-app-check",En[vK]="fire-auth",En[gK]="fire-rtdb",En[yK]="fire-fn",En[bK]="fire-iid",En[_K]="fire-fcm",En[wK]="fire-perf",En[EK]="fire-rc",En[SK]="fire-gcs",En[xK]="fire-fst",En["fire-js"]="fire-js",En[TK]="fire-js-all",En);Hu=new Uu.Logger("@firebase/app");Hm=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=hf(e),this.container=new yf(n.name),this._addComponent(new tt("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=Bm),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Bm),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Hu.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Bu.create("app-deleted",{appName:this.name_})},t}();Hm.prototype.name&&Hm.prototype.options||Hm.prototype.delete||console.log("dc");IK="8.6.1";Gw=YP();kK=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(AK(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();Ow()&&self.firebase!==void 0&&(Hu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),Kw=self.firebase.SDK_VERSION,Kw&&Kw.indexOf("LITE")>=0&&Hu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));NK=Gw.initializeApp;Gw.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Mm()&&Hu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),NK.apply(void 0,t)};Yw=Gw;DK(Yw);J=Yw});var sT=ke((Ng,NU)=>{(function(t,e){typeof Ng=="object"&&typeof NU!="undefined"?e(Ng):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.idb={}))})(Ng,function(t){"use strict";function e(S){return Array.prototype.slice.call(S)}function n(S){return new Promise(function(C,R){S.onsuccess=function(){C(S.result)},S.onerror=function(){R(S.error)}})}function r(S,C,R){var A,L=new Promise(function(M,W){A=S[C].apply(S,R),n(A).then(M,W)});return L.request=A,L}function i(S,C,R){var A=r(S,C,R);return A.then(function(L){if(!!L)return new f(L,A.request)})}function o(S,C,R){R.forEach(function(A){Object.defineProperty(S.prototype,A,{get:function(){return this[C][A]},set:function(L){this[C][A]=L}})})}function a(S,C,R,A){A.forEach(function(L){L in R.prototype&&(S.prototype[L]=function(){return r(this[C],L,arguments)})})}function l(S,C,R,A){A.forEach(function(L){L in R.prototype&&(S.prototype[L]=function(){return this[C][L].apply(this[C],arguments)})})}function u(S,C,R,A){A.forEach(function(L){L in R.prototype&&(S.prototype[L]=function(){return i(this[C],L,arguments)})})}function d(S){this._index=S}o(d,"_index",["name","keyPath","multiEntry","unique"]),a(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(d,"_index",IDBIndex,["openCursor","openKeyCursor"]);function f(S,C){this._cursor=S,this._request=C}o(f,"_cursor",["direction","key","primaryKey","value"]),a(f,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(S){S in IDBCursor.prototype&&(f.prototype[S]=function(){var C=this,R=arguments;return Promise.resolve().then(function(){return C._cursor[S].apply(C._cursor,R),n(C._request).then(function(A){if(!!A)return new f(A,C._request)})})})});function p(S){this._store=S}p.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},o(p,"_store",["name","keyPath","indexNames","autoIncrement"]),a(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(p,"_store",IDBObjectStore,["deleteIndex"]);function m(S){this._tx=S,this.complete=new Promise(function(C,R){S.oncomplete=function(){C()},S.onerror=function(){R(S.error)},S.onabort=function(){R(S.error)}})}m.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},o(m,"_tx",["objectStoreNames","mode"]),l(m,"_tx",IDBTransaction,["abort"]);function g(S,C,R){this._db=S,this.oldVersion=C,this.transaction=new m(R)}g.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},o(g,"_db",["name","version","objectStoreNames"]),l(g,"_db",IDBDatabase,["deleteObjectStore","close"]);function y(S){this._db=S}y.prototype.transaction=function(){return new m(this._db.transaction.apply(this._db,arguments))},o(y,"_db",["name","version","objectStoreNames"]),l(y,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(S){[p,d].forEach(function(C){S in C.prototype&&(C.prototype[S.replace("open","iterate")]=function(){var R=e(arguments),A=R[R.length-1],L=this._store||this._index,M=L[S].apply(L,R.slice(0,-1));M.onsuccess=function(){A(M.result)}})})}),[d,p].forEach(function(S){S.prototype.getAll||(S.prototype.getAll=function(C,R){var A=this,L=[];return new Promise(function(M){A.iterateCursor(C,function(W){if(!W){M(L);return}if(L.push(W.value),R!==void 0&&L.length==R){M(L);return}W.continue()})})})});function _(S,C,R){var A=r(indexedDB,"open",[S,C]),L=A.request;return L&&(L.onupgradeneeded=function(M){R&&R(new g(L.result,M.oldVersion,L.transaction))}),A.then(function(M){return new y(M)})}function w(S){return r(indexedDB,"deleteDatabase",[S])}t.openDb=_,t.deleteDb=w,Object.defineProperty(t,"__esModule",{value:!0})})});var QT=ke((wge,PH)=>{var qie=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wie=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];PH.exports=function(e){var n=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=qie.exec(e||""),a={},l=14;l--;)a[Wie[l]]=o[l]||"";return r!=-1&&i!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=zie(a,a.path),a.queryKey=Gie(a,a.query),a};function zie(t,e){var n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function Gie(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}});var MH=ke((Ege,OH)=>{var Vc=1e3,jc=Vc*60,qc=jc*60,Rl=qc*24,Kie=Rl*7,Yie=Rl*365.25;OH.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Xie(t);if(n==="number"&&isFinite(t))return e.long?Qie(t):$ie(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Xie(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Yie;case"weeks":case"week":case"w":return n*Kie;case"days":case"day":case"d":return n*Rl;case"hours":case"hour":case"hrs":case"hr":case"h":return n*qc;case"minutes":case"minute":case"mins":case"min":case"m":return n*jc;case"seconds":case"second":case"secs":case"sec":case"s":return n*Vc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function $ie(t){var e=Math.abs(t);return e>=Rl?Math.round(t/Rl)+"d":e>=qc?Math.round(t/qc)+"h":e>=jc?Math.round(t/jc)+"m":e>=Vc?Math.round(t/Vc)+"s":t+"ms"}function Qie(t){var e=Math.abs(t);return e>=Rl?ny(t,e,Rl,"day"):e>=qc?ny(t,e,qc,"hour"):e>=jc?ny(t,e,jc,"minute"):e>=Vc?ny(t,e,Vc,"second"):t+" ms"}function ny(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var FH=ke((Sge,LH)=>{function Jie(t){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=a,n.humanize=MH(),n.destroy=d,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let p=0;for(let m=0;m<f.length;m++)p=(p<<5)-p+f.charCodeAt(m),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=e;function n(f){let p,m=null;function g(...y){if(!g.enabled)return;let _=g,w=Number(new Date),S=w-(p||w);_.diff=S,_.prev=p,_.curr=w,p=w,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(A,L)=>{if(A==="%%")return"%";C++;let M=n.formatters[L];if(typeof M=="function"){let W=y[C];A=M.call(_,W),y.splice(C,1),C--}return A}),n.formatArgs.call(_,y),(_.log||n.log).apply(_,y)}return g.namespace=f,g.useColors=n.useColors(),g.color=n.selectColor(f),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>m===null?n.enabled(f):m,set:y=>{m=y}}),typeof n.init=="function"&&n.init(g),g}function r(f,p){let m=n(this.namespace+(typeof p=="undefined"?":":p)+f);return m.log=this.log,m}function i(f){n.save(f),n.names=[],n.skips=[];let p,m=(typeof f=="string"?f:"").split(/[\s,]+/),g=m.length;for(p=0;p<g;p++)!m[p]||(f=m[p].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.substr(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...n.names.map(l),...n.skips.map(l).map(p=>"-"+p)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let p,m;for(p=0,m=n.skips.length;p<m;p++)if(n.skips[p].test(f))return!1;for(p=0,m=n.names.length;p<m;p++)if(n.names[p].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}LH.exports=Jie});var Pi=ke((Or,ry)=>{Or.formatArgs=eoe;Or.save=toe;Or.load=noe;Or.useColors=Zie;Or.storage=roe();Or.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Or.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Zie(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function eoe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ry.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}Or.log=console.debug||console.log||(()=>{});function toe(t){try{t?Or.storage.setItem("debug",t):Or.storage.removeItem("debug")}catch(e){}}function noe(){let t;try{t=Or.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function roe(){try{return localStorage}catch(t){}}ry.exports=FH()(Or);var{formatters:ioe}=ry.exports;ioe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var BH=ke(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.url=void 0;var ooe=QT(),UH=Pi()("socket.io-client:url");function soe(t,e="",n){let r=t;n=n||typeof location!="undefined"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(UH("protocol-less url %s",t),typeof n!="undefined"?t=n.protocol+"//"+t:t="https://"+t),UH("parse %s",t),r=ooe(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}iy.url=soe});var HH=ke((Tge,JT)=>{try{JT.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){JT.exports=!1}});var Bh=ke((Cge,VH)=>{VH.exports=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())()});var ZT=ke((Ige,jH)=>{var aoe=HH(),loe=Bh();jH.exports=function(t){let e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||aoe))return new XMLHttpRequest}catch(i){}try{if(typeof XDomainRequest!="undefined"&&!n&&r)return new XDomainRequest}catch(i){}if(!e)try{return new loe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(i){}}});var eC=ke((Rge,WH)=>{var ao=Object.create(null);ao.open="0";ao.close="1";ao.ping="2";ao.pong="3";ao.message="4";ao.upgrade="5";ao.noop="6";var qH=Object.create(null);Object.keys(ao).forEach(t=>{qH[ao[t]]=t});var uoe={type:"error",data:"parser error"};WH.exports={PACKET_TYPES:ao,PACKET_TYPES_REVERSE:qH,ERROR_PACKET:uoe}});var KH=ke((kge,GH)=>{var{PACKET_TYPES:coe}=eC(),doe=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",foe=typeof ArrayBuffer=="function",hoe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,poe=({type:t,data:e},n,r)=>doe&&e instanceof Blob?n?r(e):zH(e,r):foe&&(e instanceof ArrayBuffer||hoe(e))?n?r(e instanceof ArrayBuffer?e:e.buffer):zH(new Blob([e]),r):r(coe[t]+(e||"")),zH=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+r)},n.readAsDataURL(t)};GH.exports=poe});var YH=ke(tC=>{(function(t){"use strict";tC.encode=function(e){var n=new Uint8Array(e),r,i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(n[r]&3)<<4|n[r+1]>>4],o+=t[(n[r+1]&15)<<2|n[r+2]>>6],o+=t[n[r+2]&63];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},tC.decode=function(e){var n=e.length*.75,r=e.length,i,o=0,a,l,u,d;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var f=new ArrayBuffer(n),p=new Uint8Array(f);for(i=0;i<r;i+=4)a=t.indexOf(e[i]),l=t.indexOf(e[i+1]),u=t.indexOf(e[i+2]),d=t.indexOf(e[i+3]),p[o++]=a<<2|l>>4,p[o++]=(l&15)<<4|u>>2,p[o++]=(u&3)<<6|d&63;return f}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")});var QH=ke((Dge,$H)=>{var{PACKET_TYPES_REVERSE:nC,ERROR_PACKET:moe}=eC(),voe=typeof ArrayBuffer=="function",rC;voe&&(rC=YH());var goe=(t,e)=>{if(typeof t!="string")return{type:"message",data:XH(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:yoe(t.substring(1),e)}:nC[n]?t.length>1?{type:nC[n],data:t.substring(1)}:{type:nC[n]}:moe},yoe=(t,e)=>{if(rC){let n=rC.decode(t);return XH(n,e)}else return{base64:!0,data:t}},XH=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};$H.exports=goe});var Wc=ke((Nge,tV)=>{var JH=KH(),ZH=QH(),eV=String.fromCharCode(30),boe=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((o,a)=>{JH(o,!1,l=>{r[a]=l,++i===n&&e(r.join(eV))})})},_oe=(t,e)=>{let n=t.split(eV),r=[];for(let i=0;i<n.length;i++){let o=ZH(n[i],e);if(r.push(o),o.type==="error")break}return r};tV.exports={protocol:4,encodePacket:JH,encodePayload:boe,decodePacket:ZH,decodePayload:_oe}});var zc=ke((Pge,iC)=>{typeof iC!="undefined"&&(iC.exports=Mr);function Mr(t){if(t)return woe(t)}function woe(t){for(var e in Mr.prototype)t[e]=Mr.prototype[e];return t}Mr.prototype.on=Mr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Mr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Mr.prototype.off=Mr.prototype.removeListener=Mr.prototype.removeAllListeners=Mr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Mr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Mr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Mr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var oy=ke((Oge,rV)=>{var Eoe=Wc(),Soe=zc(),xoe=Pi()("engine.io-client:transport"),nV=class extends Soe{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n){let r=new Error(e);return r.type="TransportError",r.description=n,this.emit("error",r),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):xoe("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let n=Eoe.decodePacket(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}};rV.exports=nV});var sy=ke(oC=>{oC.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e};oC.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}});var lC=ke((Lge,lV)=>{"use strict";var iV="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ay=64,oV={},sV=0,Xs=0,aV;function sC(t){var e="";do e=iV[t%ay]+e,t=Math.floor(t/ay);while(t>0);return e}function Toe(t){var e=0;for(Xs=0;Xs<t.length;Xs++)e=e*ay+oV[t.charAt(Xs)];return e}function aC(){var t=sC(+new Date);return t!==aV?(sV=0,aV=t):t+"."+sC(sV++)}for(;Xs<ay;Xs++)oV[iV[Xs]]=Xs;aC.encode=sC;aC.decode=Toe;lV.exports=aC});var uC=ke((Fge,dV)=>{var Coe=oy(),Ioe=sy(),uV=Wc(),Roe=lC(),Oi=Pi()("engine.io-client:polling"),cV=class extends Coe{get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let n=()=>{Oi("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(Oi("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Oi("pre-pause polling complete"),--r||n()})),this.writable||(Oi("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Oi("pre-pause writing complete"),--r||n()}))}else n()}poll(){Oi("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){Oi("polling got data %s",e);let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose(),!1;this.onPacket(r)};uV.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Oi('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{Oi("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(Oi("transport open - closing"),e()):(Oi("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,uV.encodePayload(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},n=this.opts.secure?"https":"http",r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Roe()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=Ioe.encode(e),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+e}};dV.exports=cV});var cC=ke((Uge,fV)=>{fV.exports.pick=(t,...e)=>e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})});var gV=ke((Bge,fC)=>{var hV=ZT(),koe=uC(),Aoe=zc(),{pick:Doe}=cC(),Noe=Bh(),dC=Pi()("engine.io-client:polling-xhr");function pV(){}var Poe=function(){return new hV({xdomain:!1}).responseType!=null}(),mV=class extends koe{constructor(e){super(e);if(typeof location!="undefined"){let r=location.protocol==="https:",i=location.port;i||(i=r?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}let n=e&&e.forceBase64;this.supportsBinary=Poe&&!n}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new si(this.uri(),e)}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",i=>{this.onError("xhr post error",i)})}doPoll(){dC("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",n=>{this.onError("xhr poll error",n)}),this.pollXhr=e}},si=class extends Aoe{constructor(e,n){super();this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){let e=Doe(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let n=this.xhr=new hV(e);try{dC("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch(r){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),this.hasXDR()?(n.onload=()=>{this.onLoad()},n.onerror=()=>{this.onError(n.responseText)}):n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():setTimeout(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},dC("xhr data %s",this.data),n.send(this.data)}catch(r){setTimeout(()=>{this.onError(r)},0);return}typeof document!="undefined"&&(this.index=si.requestsCount++,si.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=pV:this.xhr.onreadystatechange=pV,e)try{this.xhr.abort()}catch(n){}typeof document!="undefined"&&delete si.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};si.requestsCount=0;si.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",vV);else if(typeof addEventListener=="function"){let t="onpagehide"in Noe?"pagehide":"unload";addEventListener(t,vV,!1)}}function vV(){for(let t in si.requests)si.requests.hasOwnProperty(t)&&si.requests[t].abort()}fC.exports=mV;fC.exports.Request=si});var wV=ke((Hge,_V)=>{var Ooe=uC(),yV=Bh(),Moe=/\n/g,Loe=/\\n/g,ly,bV=class extends Ooe{constructor(e){super(e);this.query=this.query||{},ly||(ly=yV.___eio=yV.___eio||[]),this.index=ly.length,ly.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=i=>{this.onError("jsonp poll error",i)};let n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)}doWrite(e,n){let r;if(!this.form){let a=document.createElement("form"),l=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),l.name="d",a.appendChild(l),document.body.appendChild(a),this.form=a,this.area=l}this.form.action=this.uri();function i(){o(),n()}let o=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(a){this.onError("jsonp polling iframe removal error",a)}try{let a='<iframe src="javascript:0" name="'+this.iframeId+'">';r=document.createElement(a)}catch(a){r=document.createElement("iframe"),r.name=this.iframeId,r.src="javascript:0"}r.id=this.iframeId,this.form.appendChild(r),this.iframe=r};o(),e=e.replace(Loe,`\\
`),this.area.value=e.replace(Moe,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{this.iframe.readyState==="complete"&&i()}:this.iframe.onload=i}};_V.exports=bV});var xV=ke((Vge,SV)=>{var EV=Bh();SV.exports={WebSocket:EV.WebSocket||EV.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}});var RV=ke((jge,IV)=>{var TV=oy(),Foe=Wc(),Uoe=sy(),Boe=lC(),{pick:Hoe}=cC(),{WebSocket:Hh,usingBrowserWebSocket:hC,defaultBinaryType:Voe}=xV(),joe=Pi()("engine.io-client:websocket"),CV=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",uy=class extends TV{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),n=this.opts.protocols,r=CV?{}:Hoe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=hC&&!CV?n?new Hh(e,n):new Hh(e):new Hh(e,n,r)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||Voe,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;Foe.encodePacket(r,this.supportsBinary,o=>{let a={};hC||(r.options&&(a.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof o=="string"?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(a.compress=!1));try{hC?this.ws.send(o):this.ws.send(o,a)}catch(l){joe("websocket closed before onclose event")}i&&setTimeout(()=>{this.writable=!0,this.emit("drain")},0)})}}onClose(){TV.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},n=this.opts.secure?"wss":"ws",r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Boe()),this.supportsBinary||(e.b64=1),e=Uoe.encode(e),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+e}check(){return!!Hh&&!("__initialize"in Hh&&this.name===uy.prototype.name)}};IV.exports=uy});var mC=ke(pC=>{var qoe=ZT(),Woe=gV(),zoe=wV(),Goe=RV();pC.polling=Koe;pC.websocket=Goe;function Koe(t){let e,n=!1,r=!1,i=t.jsonp!==!1;if(typeof location!="undefined"){let o=location.protocol==="https:",a=location.port;a||(a=o?443:80),n=t.hostname!==location.hostname||a!==t.port,r=t.secure!==o}if(t.xdomain=n,t.xscheme=r,e=new qoe(t),"open"in e&&!t.forceJSONP)return new Woe(t);if(!i)throw new Error("JSONP disabled");return new zoe(t)}});var NV=ke((Wge,DV)=>{var Yoe=mC(),Xoe=zc(),Rt=Pi()("engine.io-client:socket"),kV=Wc(),AV=QT(),$oe=sy(),lo=class extends Xoe{constructor(e,n={}){super();e&&typeof e=="object"&&(n=e,e=null),e?(e=AV(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=AV(n.host).host),this.secure=n.secure!=null?n.secure:typeof location!="undefined"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=n.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=$oe.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Rt('creating transport "%s"',e);let n=Qoe(this.opts.query);n.EIO=kV.protocol,n.transport=e,this.id&&(n.sid=this.id);let r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Rt("options: %j",r),new Yoe[e](r)}open(){let e;if(this.opts.rememberUpgrade&&lo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){setTimeout(()=>{this.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(n){Rt("error while creating transport: %s",n),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Rt("setting transport %s",e.name),this.transport&&(Rt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){Rt('probing transport "%s"',e);let n=this.createTransport(e,{probe:1}),r=!1;lo.priorWebsocketSuccess=!1;let i=()=>{r||(Rt('probe transport "%s" opened',e),n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(Rt('probe transport "%s" pong',e),this.upgrading=!0,this.emit("upgrading",n),!n)return;lo.priorWebsocketSuccess=n.name==="websocket",Rt('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||this.readyState!=="closed"&&(Rt("changing transport and sending upgrade packet"),f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emit("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{Rt('probe transport "%s" failed',e);let m=new Error("probe error");m.transport=n.name,this.emit("upgradeError",m)}}))};function o(){r||(r=!0,f(),n.close(),n=null)}let a=p=>{let m=new Error("probe error: "+p);m.transport=n.name,o(),Rt('probe transport "%s" failed because of error: %s',e,p),this.emit("upgradeError",m)};function l(){a("transport closed")}function u(){a("socket closed")}function d(p){n&&p.name!==n.name&&(Rt('"%s" works - aborting "%s"',p.name,n.name),o())}let f=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",l),this.removeListener("close",u),this.removeListener("upgrading",d)};n.once("open",i),n.once("error",a),n.once("close",l),this.once("close",u),this.once("upgrading",d),n.open()}onOpen(){if(Rt("socket open"),this.readyState="open",lo.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Rt("starting upgrade probes");let e=0,n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Rt('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Rt('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Rt("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let o={type:e,data:n,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),Rt("socket closing - telling transport to close"),this.transport.close()},n=()=>{this.removeListener("upgrade",n),this.removeListener("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Rt("socket error %j",e),lo.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(Rt('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let n=[],r=0,i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};lo.priorWebsocketSuccess=!1;lo.protocol=kV.protocol;function Qoe(t){let e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}DV.exports=lo});var PV=ke((zge,kl)=>{var vC=NV();kl.exports=(t,e)=>new vC(t,e);kl.exports.Socket=vC;kl.exports.protocol=vC.protocol;kl.exports.Transport=oy();kl.exports.transports=mC();kl.exports.parser=Wc()});var gC=ke(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.hasBinary=Gc.isBinary=void 0;var Joe=typeof ArrayBuffer=="function",Zoe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,OV=Object.prototype.toString,ese=typeof Blob=="function"||typeof Blob!="undefined"&&OV.call(Blob)==="[object BlobConstructor]",tse=typeof File=="function"||typeof File!="undefined"&&OV.call(File)==="[object FileConstructor]";function MV(t){return Joe&&(t instanceof ArrayBuffer||Zoe(t))||ese&&t instanceof Blob||tse&&t instanceof File}Gc.isBinary=MV;function cy(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(cy(t[n]))return!0;return!1}if(MV(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return cy(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&cy(t[n]))return!0;return!1}Gc.hasBinary=cy});var LV=ke(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.reconstructPacket=Kc.deconstructPacket=void 0;var nse=gC();function rse(t){let e=[],n=t.data,r=t;return r.data=yC(n,e),r.attachments=e.length,{packet:r,buffers:e}}Kc.deconstructPacket=rse;function yC(t,e){if(!t)return t;if(nse.isBinary(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=yC(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)t.hasOwnProperty(r)&&(n[r]=yC(t[r],e));return n}return t}function ise(t,e){return t.data=bC(t.data,e),t.attachments=void 0,t}Kc.reconstructPacket=ise;function bC(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=bC(t[n],e);else if(typeof t=="object")for(let n in t)t.hasOwnProperty(n)&&(t[n]=bC(t[n],e));return t}});var fy=ke(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.Decoder=Mi.Encoder=Mi.PacketType=Mi.protocol=void 0;var ose=zc(),FV=LV(),UV=gC(),_C=Pi()("socket.io-parser");Mi.protocol=5;var Ut;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ut=Mi.PacketType||(Mi.PacketType={}));var BV=class{encode(e){return _C("encoding packet %j",e),(e.type===Ut.EVENT||e.type===Ut.ACK)&&UV.hasBinary(e)?(e.type=e.type===Ut.EVENT?Ut.BINARY_EVENT:Ut.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ut.BINARY_EVENT||e.type===Ut.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data)),_C("encoded %j as %s",e,n),n}encodeAsBinary(e){let n=FV.deconstructPacket(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};Mi.Encoder=BV;var dy=class extends ose{constructor(){super()}add(e){let n;if(typeof e=="string")n=this.decodeString(e),n.type===Ut.BINARY_EVENT||n.type===Ut.BINARY_ACK?(this.reconstructor=new HV(n),n.attachments===0&&super.emit("decoded",n)):super.emit("decoded",n);else if(UV.isBinary(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emit("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if(Ut[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ut.BINARY_EVENT||r.type===Ut.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let a=e.substring(o,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=sse(e.substr(n));if(dy.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return _C("decoded %s as %j",e,r),r}static isPayloadValid(e,n){switch(e){case Ut.CONNECT:return typeof n=="object";case Ut.DISCONNECT:return n===void 0;case Ut.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ut.EVENT:case Ut.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ut.ACK:case Ut.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};Mi.Decoder=dy;function sse(t){try{return JSON.parse(t)}catch(e){return!1}}var HV=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=FV.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var wC=ke(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});hy.on=void 0;function ase(t,e,n){return t.on(e,n),function(){t.off(e,n)}}hy.on=ase});var EC=ke(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.StrictEventEmitter=void 0;var lse=zc(),VV=class extends lse{on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}emit(e,...n){return super.emit(e,...n),this}emitReserved(e,...n){return super.emit(e,...n),this}listeners(e){return super.listeners(e)}};py.StrictEventEmitter=VV});var SC=ke(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});vy.Socket=void 0;var ai=fy(),my=wC(),use=EC(),li=Pi()("socket.io-client:socket"),cse=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),jV=class extends use.StrictEventEmitter{constructor(e,n,r){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let e=this.io;this.subs=[my.on(e,"open",this.onopen.bind(this)),my.on(e,"packet",this.onpacket.bind(this)),my.on(e,"error",this.onerror.bind(this)),my.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(cse.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);let r={type:ai.PacketType.EVENT,data:n};r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"&&(li("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),r.id=this.ids++);let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?li("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){li("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this.packet({type:ai.PacketType.CONNECT,data:e})}):this.packet({type:ai.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){li("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ai.PacketType.CONNECT:if(e.data&&e.data.sid){let i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ai.PacketType.EVENT:this.onevent(e);break;case ai.PacketType.BINARY_EVENT:this.onevent(e);break;case ai.PacketType.ACK:this.onack(e);break;case ai.PacketType.BINARY_ACK:this.onack(e);break;case ai.PacketType.DISCONNECT:this.ondisconnect();break;case ai.PacketType.CONNECT_ERROR:let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];li("emitting event %j",n),e.id!=null&&(li("attaching ack callback to event"),n.push(this.ack(e.id))),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e)}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,li("sending ack %j",i),n.packet({type:ai.PacketType.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"?(li("calling ack %s with %j",e.id,e.data),n.apply(this,e.data),delete this.acks[e.id]):li("bad ack %s",e.id)}onconnect(e){li("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){li("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(li("performing disconnect (%s)",this.nsp),this.packet({type:ai.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}};vy.Socket=jV});var WV=ke((Jge,qV)=>{qV.exports=Yc;function Yc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Yc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Yc.prototype.reset=function(){this.attempts=0};Yc.prototype.setMin=function(t){this.ms=t};Yc.prototype.setMax=function(t){this.max=t};Yc.prototype.setJitter=function(t){this.jitter=t}});var xC=ke(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0});gy.Manager=void 0;var dse=PV(),fse=SC(),hse=fy(),Al=wC(),pse=WV(),mse=EC(),yn=Pi()("socket.io-client:manager"),zV=class extends mse.StrictEventEmitter{constructor(e,n){super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||Infinity),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(n.randomizationFactor||.5),this.backoff=new pse({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let r=n.parser||hse;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(yn("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;yn("opening %s",this.uri),this.engine=dse(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Al.on(n,"open",function(){r.onopen(),e&&e()}),o=Al.on(n,"error",a=>{yn("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",a),e?e(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){let a=this._timeout;yn("connect attempt will timeout after %d",a),a===0&&i();let l=setTimeout(()=>{yn("connect attempt timed out after %d",a),i(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){yn("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Al.on(e,"ping",this.onping.bind(this)),Al.on(e,"data",this.ondata.bind(this)),Al.on(e,"error",this.onerror.bind(this)),Al.on(e,"close",this.onclose.bind(this)),Al.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){yn("error",e),this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r||(r=new fse.Socket(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active){yn("socket %s is still active, skipping close",r);return}this._close()}_packet(e){yn("writing packet %j",e);let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){yn("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){yn("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){yn("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)yn("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();yn("will wait %dms before reconnect attempt",n),this._reconnecting=!0;let r=setTimeout(()=>{e.skipReconnect||(yn("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(yn("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(yn("reconnect success"),e.onreconnect())}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};gy.Manager=zV});var XV=ke((fr,YV)=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.io=fr.Socket=fr.Manager=fr.protocol=void 0;var vse=BH(),GV=xC(),KV=Pi()("socket.io-client");YV.exports=fr=yy;var Vh=fr.managers={};function yy(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=vse.url(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Vh[i]&&o in Vh[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a,u;return l?(KV("ignoring socket cache for %s",r),u=new GV.Manager(r,e)):(Vh[i]||(KV("new io instance for %s",r),Vh[i]=new GV.Manager(r,e)),u=Vh[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}fr.io=yy;var gse=fy();Object.defineProperty(fr,"protocol",{enumerable:!0,get:function(){return gse.protocol}});fr.connect=yy;var yse=xC();Object.defineProperty(fr,"Manager",{enumerable:!0,get:function(){return yse.Manager}});var bse=SC();Object.defineProperty(fr,"Socket",{enumerable:!0,get:function(){return bse.Socket}});fr.default=yy});var Tm=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,zN=Symbol(),Cm=class{constructor(e,n){if(n!==zN)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return Tm&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}},GN=new Map,KN=t=>{let e=GN.get(t);return e===void 0&&GN.set(t,e=new Cm(t,zN)),e},YN=t=>KN(typeof t=="string"?t:t+""),Tt=(t,...e)=>{let n=t.length===1?t[0]:e.reduce((r,i,o)=>r+(a=>{if(a instanceof Cm)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return KN(n)},_w=(t,e)=>{Tm?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{let r=document.createElement("style");r.textContent=n.cssText,t.appendChild(r)})},Im=Tm?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(let r of e.cssRules)n+=r.cssText;return YN(n)})(t):t;var XN,ww,Ew,$N,Sw={toAttribute(t,e){switch(e){case Boolean:t=t?"":null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(r){n=null}}return n}},QN=(t,e)=>e!==t&&(e==e||t==t),xw={attribute:!0,type:String,converter:Sw,reflect:!1,hasChanged:QN},hs=class extends HTMLElement{constructor(){super(),this.\u03A0i=new Map,this.\u03A0o=void 0,this.\u03A0l=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.\u03A0h=null,this.u()}static addInitializer(e){var n;(n=this.v)!==null&&n!==void 0||(this.v=[]),this.v.push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((n,r)=>{let i=this.\u03A0p(r,n);i!==void 0&&(this.\u03A0m.set(i,r),e.push(i))}),e}static createProperty(e,n=xw){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let o=this[e];this[n]=i,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||xw}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this.\u03A0m=new Map,this.hasOwnProperty("properties")){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let n=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let i of r)n.unshift(Im(i))}else e!==void 0&&n.push(Im(e));return n}static \u03A0p(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this.\u03A0g=new Promise(n=>this.enableUpdating=n),this.L=new Map,this.\u03A0_(),this.requestUpdate(),(e=this.constructor.v)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this.\u03A0U)!==null&&n!==void 0?n:this.\u03A0U=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this.\u03A0U)===null||n===void 0||n.splice(this.\u03A0U.indexOf(e)>>>0,1)}\u03A0_(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this.\u03A0i.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;let n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return _w(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this.\u03A0U)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)}),this.\u03A0l&&(this.\u03A0l(),this.\u03A0o=this.\u03A0l=void 0)}enableUpdating(e){}disconnectedCallback(){var e;(e=this.\u03A0U)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)}),this.\u03A0o=new Promise(n=>this.\u03A0l=n)}attributeChangedCallback(e,n,r){this.K(e,r)}\u03A0j(e,n,r=xw){var i,o;let a=this.constructor.\u03A0p(e,r);if(a!==void 0&&r.reflect===!0){let l=((o=(i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==null&&o!==void 0?o:Sw.toAttribute)(n,r.type);this.\u03A0h=e,l==null?this.removeAttribute(a):this.setAttribute(a,l),this.\u03A0h=null}}K(e,n){var r,i,o;let a=this.constructor,l=a.\u03A0m.get(e);if(l!==void 0&&this.\u03A0h!==l){let u=a.getPropertyOptions(l),d=u.converter,f=(o=(i=(r=d)===null||r===void 0?void 0:r.fromAttribute)!==null&&i!==void 0?i:typeof d=="function"?d:null)!==null&&o!==void 0?o:Sw.fromAttribute;this.\u03A0h=l,this[l]=f(n,u.type),this.\u03A0h=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||QN)(this[e],n)?(this.L.has(e)||this.L.set(e,n),r.reflect===!0&&this.\u03A0h!==e&&(this.\u03A0k===void 0&&(this.\u03A0k=new Map),this.\u03A0k.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this.\u03A0g=this.\u03A0q())}async \u03A0q(){this.isUpdatePending=!0;try{for(await this.\u03A0g;this.\u03A0o;)await this.\u03A0o}catch(n){Promise.reject(n)}let e=this.performUpdate();return e!=null&&await e,!this.isUpdatePending}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this.\u03A0i&&(this.\u03A0i.forEach((i,o)=>this[o]=i),this.\u03A0i=void 0);let n=!1,r=this.L;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this.\u03A0U)===null||e===void 0||e.forEach(i=>{var o;return(o=i.hostUpdate)===null||o===void 0?void 0:o.call(i)}),this.update(r)):this.\u03A0$()}catch(i){throw n=!1,this.\u03A0$(),i}n&&this.E(r)}willUpdate(e){}E(e){var n;(n=this.\u03A0U)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}\u03A0$(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.\u03A0g}shouldUpdate(e){return!0}update(e){this.\u03A0k!==void 0&&(this.\u03A0k.forEach((n,r)=>this.\u03A0j(r,this[r],n)),this.\u03A0k=void 0),this.\u03A0$()}updated(e){}firstUpdated(e){}};hs.finalized=!0,hs.elementProperties=new Map,hs.elementStyles=[],hs.shadowRootOptions={mode:"open"},(ww=(XN=globalThis).reactiveElementPlatformSupport)===null||ww===void 0||ww.call(XN,{ReactiveElement:hs}),((Ew=($N=globalThis).reactiveElementVersions)!==null&&Ew!==void 0?Ew:$N.reactiveElementVersions=[]).push("1.0.0-rc.2");var JN,Tw,Cw,ZN,Rm=globalThis.trustedTypes,eP=Rm?Rm.createPolicy("lit-html",{createHTML:t=>t}):void 0,ps=`lit$${(Math.random()+"").slice(9)}$`,tP="?"+ps,M5=`<${tP}>`,Tu=document,cf=(t="")=>Tu.createComment(t),km=t=>t===null||typeof t!="object"&&typeof t!="function",nP=Array.isArray,L5=t=>{var e;return nP(t)||typeof((e=t)===null||e===void 0?void 0:e[Symbol.iterator])=="function"},df=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,rP=/-->/g,iP=/>/g,Ua=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,oP=/'/g,sP=/"/g,aP=/^(?:script|style|textarea)$/i,lP=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),ce=lP(1),Kpe=lP(2),Ba=Symbol.for("lit-noChange"),un=Symbol.for("lit-nothing"),uP=new WeakMap,cP=(t,e,n)=>{var r,i;let o=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e,a=o._$litPart$;if(a===void 0){let l=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;o._$litPart$=a=new ku(e.insertBefore(cf(),l),l,void 0,n)}return a.I(t),a},Cu=Tu.createTreeWalker(Tu,129,null,!1),F5=(t,e)=>{let n=t.length-1,r=[],i,o=e===2?"<svg>":"",a=df;for(let u=0;u<n;u++){let d=t[u],f,p,m=-1,g=0;for(;g<d.length&&(a.lastIndex=g,p=a.exec(d),p!==null);)g=a.lastIndex,a===df?p[1]==="!--"?a=rP:p[1]!==void 0?a=iP:p[2]!==void 0?(aP.test(p[2])&&(i=RegExp("</"+p[2],"g")),a=Ua):p[3]!==void 0&&(a=Ua):a===Ua?p[0]===">"?(a=i??df,m=-1):p[1]===void 0?m=-2:(m=a.lastIndex-p[2].length,f=p[1],a=p[3]===void 0?Ua:p[3]==='"'?sP:oP):a===sP||a===oP?a=Ua:a===rP||a===iP?a=df:(a=Ua,i=void 0);let y=a===Ua&&t[u+1].startsWith("/>")?" ":"";o+=a===df?d+M5:m>=0?(r.push(f),d.slice(0,m)+"$lit$"+d.slice(m)+ps+y):d+ps+(m===-2?(r.push(void 0),u):y)}let l=o+(t[n]||"<?>")+(e===2?"</svg>":"");return[eP!==void 0?eP.createHTML(l):l,r]},Iu=class{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,a=0,l=e.length-1,u=this.parts,[d,f]=F5(e,n);if(this.el=Iu.createElement(d,r),Cu.currentNode=this.el.content,n===2){let p=this.el.content,m=p.firstChild;m.remove(),p.append(...m.childNodes)}for(;(i=Cu.nextNode())!==null&&u.length<l;){if(i.nodeType===1){if(i.hasAttributes()){let p=[];for(let m of i.getAttributeNames())if(m.endsWith("$lit$")||m.startsWith(ps)){let g=f[a++];if(p.push(m),g!==void 0){let y=i.getAttribute(g.toLowerCase()+"$lit$").split(ps),_=/([.?@])?(.*)/.exec(g);u.push({type:1,index:o,name:_[2],strings:y,ctor:_[1]==="."?fP:_[1]==="?"?hP:_[1]==="@"?pP:ff})}else u.push({type:6,index:o})}for(let m of p)i.removeAttribute(m)}if(aP.test(i.tagName)){let p=i.textContent.split(ps),m=p.length-1;if(m>0){i.textContent=Rm?Rm.emptyScript:"";for(let g=0;g<m;g++)i.append(p[g],cf()),Cu.nextNode(),u.push({type:2,index:++o});i.append(p[m],cf())}}}else if(i.nodeType===8)if(i.data===tP)u.push({type:2,index:o});else{let p=-1;for(;(p=i.data.indexOf(ps,p+1))!==-1;)u.push({type:7,index:o}),p+=ps.length-1}o++}}static createElement(e,n){let r=Tu.createElement("template");return r.innerHTML=e,r}};function Ru(t,e,n=t,r){var i,o,a,l;if(e===Ba)return e;let u=r!==void 0?(i=n.\u03A3i)===null||i===void 0?void 0:i[r]:n.\u03A3o,d=km(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==d&&((o=u==null?void 0:u.O)===null||o===void 0||o.call(u,!1),d===void 0?u=void 0:(u=new d(t),u.T(t,n,r)),r!==void 0?((a=(l=n).\u03A3i)!==null&&a!==void 0?a:l.\u03A3i=[])[r]=u:n.\u03A3o=u),u!==void 0&&(e=Ru(t,u.S(t,e.values),u,r)),e}var dP=class{constructor(e,n){this.l=[],this.N=void 0,this.D=e,this.M=n}u(e){var n;let{el:{content:r},parts:i}=this.D,o=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Tu).importNode(r,!0);Cu.currentNode=o;let a=Cu.nextNode(),l=0,u=0,d=i[0];for(;d!==void 0;){if(l===d.index){let f;d.type===2?f=new ku(a,a.nextSibling,this,e):d.type===1?f=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(f=new mP(a,this,e)),this.l.push(f),d=i[++u]}l!==(d==null?void 0:d.index)&&(a=Cu.nextNode(),l++)}return o}v(e){let n=0;for(let r of this.l)r!==void 0&&(r.strings!==void 0?(r.I(e,r,n),n+=r.strings.length-2):r.I(e[n])),n++}},ku=class{constructor(e,n,r,i){this.type=2,this.N=void 0,this.A=e,this.B=n,this.M=r,this.options=i}setConnected(e){var n;(n=this.P)===null||n===void 0||n.call(this,e)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(e,n=this){e=Ru(this,e,n),km(e)?e===un||e==null||e===""?(this.H!==un&&this.R(),this.H=un):e!==this.H&&e!==Ba&&this.m(e):e._$litType$!==void 0?this._(e):e.nodeType!==void 0?this.$(e):L5(e)?this.g(e):this.m(e)}k(e,n=this.B){return this.A.parentNode.insertBefore(e,n)}$(e){this.H!==e&&(this.R(),this.H=this.k(e))}m(e){let n=this.A.nextSibling;n!==null&&n.nodeType===3&&(this.B===null?n.nextSibling===null:n===this.B.previousSibling)?n.data=e:this.$(Tu.createTextNode(e)),this.H=e}_(e){var n;let{values:r,_$litType$:i}=e,o=typeof i=="number"?this.C(e):(i.el===void 0&&(i.el=Iu.createElement(i.h,this.options)),i);if(((n=this.H)===null||n===void 0?void 0:n.D)===o)this.H.v(r);else{let a=new dP(o,this),l=a.u(this.options);a.v(r),this.$(l),this.H=a}}C(e){let n=uP.get(e.strings);return n===void 0&&uP.set(e.strings,n=new Iu(e)),n}g(e){nP(this.H)||(this.H=[],this.R());let n=this.H,r,i=0;for(let o of e)i===n.length?n.push(r=new ku(this.k(cf()),this.k(cf()),this,this.options)):r=n[i],r.I(o),i++;i<n.length&&(this.R(r&&r.B.nextSibling,i),n.length=i)}R(e=this.A.nextSibling,n){var r;for((r=this.P)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this.B;){let i=e.nextSibling;e.remove(),e=i}}},ff=class{constructor(e,n,r,i,o){this.type=1,this.H=un,this.N=void 0,this.V=void 0,this.element=e,this.name=n,this.M=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this.H=Array(r.length-1).fill(un),this.strings=r):this.H=un}get tagName(){return this.element.tagName}I(e,n=this,r,i){let o=this.strings,a=!1;if(o===void 0)e=Ru(this,e,n,0),a=!km(e)||e!==this.H&&e!==Ba,a&&(this.H=e);else{let l=e,u,d;for(e=o[0],u=0;u<o.length-1;u++)d=Ru(this,l[r+u],n,u),d===Ba&&(d=this.H[u]),a||(a=!km(d)||d!==this.H[u]),d===un?e=un:e!==un&&(e+=(d??"")+o[u+1]),this.H[u]=d}a&&!i&&this.W(e)}W(e){e===un?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},fP=class extends ff{constructor(){super(...arguments),this.type=3}W(e){this.element[this.name]=e===un?void 0:e}},hP=class extends ff{constructor(){super(...arguments),this.type=4}W(e){e&&e!==un?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}},pP=class extends ff{constructor(){super(...arguments),this.type=5}I(e,n=this){var r;if((e=(r=Ru(this,e,n,0))!==null&&r!==void 0?r:un)===Ba)return;let i=this.H,o=e===un&&i!==un||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,a=e!==un&&(i===un||o);o&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,e),this.H=e}handleEvent(e){var n,r;typeof this.H=="function"?this.H.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this.H.handleEvent(e)}},mP=class{constructor(e,n,r){this.element=e,this.type=6,this.N=void 0,this.V=void 0,this.M=n,this.options=r}I(e){Ru(this,e)}};(Tw=(JN=globalThis).litHtmlPlatformSupport)===null||Tw===void 0||Tw.call(JN,Iu,ku),((Cw=(ZN=globalThis).litHtmlVersions)!==null&&Cw!==void 0?Cw:ZN.litHtmlVersions=[]).push("2.0.0-rc.3");var Iw,vP,Rw,gP,kw,yP;((Iw=(yP=globalThis).litElementVersions)!==null&&Iw!==void 0?Iw:yP.litElementVersions=[]).push("3.0.0-rc.2");var ze=class extends hs{constructor(){super(...arguments),this.renderOptions={host:this},this.\u03A6t=void 0}createRenderRoot(){var e,n;let r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){let n=this.render();super.update(e),this.\u03A6t=cP(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this.\u03A6t)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.\u03A6t)===null||e===void 0||e.setConnected(!1)}render(){return Ba}};ze.finalized=!0,ze._$litElement$=!0,(Rw=(vP=globalThis).litElementHydrateSupport)===null||Rw===void 0||Rw.call(vP,{LitElement:ze}),(kw=(gP=globalThis).litElementPlatformSupport)===null||kw===void 0||kw.call(gP,{LitElement:ze});var st=t=>e=>typeof e=="function"?((n,r)=>(window.customElements.define(n,r),r))(t,e):((n,r)=>{let{kind:i,elements:o}=r;return{kind:i,elements:o,finisher(a){window.customElements.define(n,a)}}})(t,e);var U5=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function pe(t){return(e,n)=>n!==void 0?((r,i,o)=>{i.constructor.createProperty(o,r)})(t,e,n):U5(t,e)}function xr(t){return pe({...t,state:!0,attribute:!1})}var bP=Element.prototype,yme=bP.msMatchesSelector||bP.webkitMatchesSelector;ar();ar();ar();(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,h){s!=Array.prototype&&s!=Object.prototype&&(s[c]=h.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var c=0;c<s.length;++c){var h=s[c];if(h&&h.Math==Math)return h}return globalThis}var r=n(this);function i(s,c){if(c){var h=r;s=s.split(".");for(var v=0;v<s.length-1;v++){var b=s[v];b in h||(h[b]={}),h=h[b]}s=s[s.length-1],v=h[s],c=c(v),c!=v&&c!=null&&e(h,s,{configurable:!0,writable:!0,value:c})}}function o(s){var c=0;return function(){return c<s.length?{done:!1,value:s[c++]}:{done:!0}}}function a(s){var c=typeof Symbol!="undefined"&&Symbol.iterator&&s[Symbol.iterator];return c?c.call(s):{next:o(s)}}i("Promise",function(s){function c(T){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{T(k.resolve,k.reject)}catch(H){k.reject(H)}}function h(){this.a=null}function v(T){return T instanceof c?T:new c(function(k){k(T)})}if(s)return s;h.prototype.b=function(T){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(T)};var b=r.setTimeout;h.prototype.c=function(T){b(T,0)},h.prototype.g=function(){for(;this.a&&this.a.length;){var T=this.a;this.a=[];for(var k=0;k<T.length;++k){var H=T[k];T[k]=null;try{H()}catch(V){this.f(V)}}}this.a=null},h.prototype.f=function(T){this.c(function(){throw T})},c.prototype.f=function(){function T(V){return function(he){H||(H=!0,V.call(k,he))}}var k=this,H=!1;return{resolve:T(this.m),reject:T(this.g)}},c.prototype.m=function(T){if(T===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(T instanceof c)this.s(T);else{e:switch(typeof T){case"object":var k=T!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(T):this.h(T)}},c.prototype.v=function(T){var k=void 0;try{k=T.then}catch(H){this.g(H);return}typeof k=="function"?this.u(k,T):this.h(T)},c.prototype.g=function(T){this.i(2,T)},c.prototype.h=function(T){this.i(1,T)},c.prototype.i=function(T,k){if(this.b!=0)throw Error("Cannot settle("+T+", "+k+"): Promise already settled in state"+this.b);this.b=T,this.c=k,this.l()},c.prototype.l=function(){if(this.a!=null){for(var T=0;T<this.a.length;++T)E.b(this.a[T]);this.a=null}};var E=new h;return c.prototype.s=function(T){var k=this.f();T.Qa(k.resolve,k.reject)},c.prototype.u=function(T,k){var H=this.f();try{T.call(k,H.resolve,H.reject)}catch(V){H.reject(V)}},c.prototype.then=function(T,k){function H(Fe,Zt){return typeof Fe=="function"?function(Ao){try{V(Fe(Ao))}catch(yw){he(yw)}}:Zt}var V,he,We=new c(function(Fe,Zt){V=Fe,he=Zt});return this.Qa(H(T,V),H(k,he)),We},c.prototype.catch=function(T){return this.then(void 0,T)},c.prototype.Qa=function(T,k){function H(){switch(V.b){case 1:T(V.c);break;case 2:k(V.c);break;default:throw Error("Unexpected state: "+V.b)}}var V=this;this.a==null?E.b(H):this.a.push(H)},c.resolve=v,c.reject=function(T){return new c(function(k,H){H(T)})},c.race=function(T){return new c(function(k,H){for(var V=a(T),he=V.next();!he.done;he=V.next())v(he.value).Qa(k,H)})},c.all=function(T){var k=a(T),H=k.next();return H.done?v([]):new c(function(V,he){function We(Ao){return function(yw){Fe[Ao]=yw,Zt--,Zt==0&&V(Fe)}}var Fe=[],Zt=0;do Fe.push(void 0),Zt++,v(H.value).Qa(We(Fe.length-1),he),H=k.next();while(!H.done)})},c});var l=l||{},u=this||self,d=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&d.test(s)?s:""}function m(){}function g(s){var c=typeof s;return c!="object"?c:s?Array.isArray(s)?"array":c:"null"}function y(s){var c=g(s);return c=="array"||c=="object"&&typeof s.length=="number"}function _(s){return g(s)=="function"}function w(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function S(s){return Object.prototype.hasOwnProperty.call(s,C)&&s[C]||(s[C]=++R)}var C="closure_uid_"+(1e9*Math.random()>>>0),R=0;function A(s,c,h){return s.call.apply(s.bind,arguments)}function L(s,c,h){if(!s)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,v),s.apply(c,b)}}return function(){return s.apply(c,arguments)}}function M(s,c,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?M=A:M=L,M.apply(null,arguments)}function W(s,c){var h=Array.prototype.slice.call(arguments,1);return function(){var v=h.slice();return v.push.apply(v,arguments),s.apply(this,v)}}var K=Date.now;function q(s,c){function h(){}h.prototype=c.prototype,s.ab=c.prototype,s.prototype=new h,s.prototype.constructor=s}function Re(s){return s}function O(s,c,h){this.code=et+s,this.message=c||Vr[s]||"",this.a=h||null}q(O,Error),O.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},O.prototype.toJSON=function(){return this.w()};function mt(s){var c=s&&s.code;return c?new O(c.substring(et.length),s.message,s.serverResponse):null}var et="auth/",Vr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},er={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function xo(s){for(var c in er)if(er[c].id===s)return s=er[c],{firebaseEndpoint:s.Ta,secureTokenEndpoint:s.Za,identityPlatformEndpoint:s.Wa};return null}var pi;pi=xo("__EID__")?"__EID__":void 0;function XR(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch(c){return!1}}function _r(s){if(Error.captureStackTrace)Error.captureStackTrace(this,_r);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}q(_r,Error),_r.prototype.name="CustomError";function Vb(s,c){s=s.split("%s");for(var h="",v=s.length-1,b=0;b<v;b++)h+=s[b]+(b<c.length?c[b]:"%s");_r.call(this,h+s[v])}q(Vb,_r),Vb.prototype.name="AssertionError";function Zl(s,c){throw new Vb("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function jb(s,c){this.c=s,this.f=c,this.b=0,this.a=null}jb.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function $R(s,c){s.f(c),100>s.b&&(s.b++,c.next=s.a,s.a=c)}function QR(){this.b=this.a=null}var JR=new jb(function(){return new qb},function(s){s.reset()});QR.prototype.add=function(s,c){var h=JR.get();h.set(s,c),this.b?this.b.next=h:this.a=h,this.b=h};function TW(){var s=Tk,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.b=null),c.next=null),c}function qb(){this.next=this.b=this.a=null}qb.prototype.set=function(s,c){this.a=s,this.b=c,this.next=null},qb.prototype.reset=function(){this.next=this.b=this.a=null};var ZR=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(typeof s=="string")return typeof c!="string"||c.length!=1?-1:s.indexOf(c,0);for(var h=0;h<s.length;h++)if(h in s&&s[h]===c)return h;return-1},ct=Array.prototype.forEach?function(s,c,h){Array.prototype.forEach.call(s,c,h)}:function(s,c,h){for(var v=s.length,b=typeof s=="string"?s.split(""):s,E=0;E<v;E++)E in b&&c.call(h,b[E],E,s)};function CW(s,c){for(var h=typeof s=="string"?s.split(""):s,v=s.length-1;0<=v;--v)v in h&&c.call(void 0,h[v],v,s)}var IW=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var h=s.length,v=[],b=0,E=typeof s=="string"?s.split(""):s,T=0;T<h;T++)if(T in E){var k=E[T];c.call(void 0,k,T,s)&&(v[b++]=k)}return v},Sp=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var h=s.length,v=Array(h),b=typeof s=="string"?s.split(""):s,E=0;E<h;E++)E in b&&(v[E]=c.call(void 0,b[E],E,s));return v},RW=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var h=s.length,v=typeof s=="string"?s.split(""):s,b=0;b<h;b++)if(b in v&&c.call(void 0,v[b],b,s))return!0;return!1};function kW(s){e:{for(var c=lG,h=s.length,v=typeof s=="string"?s.split(""):s,b=0;b<h;b++)if(b in v&&c.call(void 0,v[b],b,s)){c=b;break e}c=-1}return 0>c?null:typeof s=="string"?s.charAt(c):s[c]}function To(s,c){return 0<=ZR(s,c)}function xp(s,c){c=ZR(s,c);var h;return(h=0<=c)&&Array.prototype.splice.call(s,c,1),h}function mi(s,c){var h=0;CW(s,function(v,b){c.call(void 0,v,b,s)&&Array.prototype.splice.call(s,b,1).length==1&&h++})}function Wb(s){return Array.prototype.concat.apply([],arguments)}function ga(s){var c=s.length;if(0<c){for(var h=Array(c),v=0;v<c;v++)h[v]=s[v];return h}return[]}var ek=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},AW=/&/g,DW=/</g,NW=/>/g,PW=/"/g,OW=/'/g,MW=/\x00/g,LW=/[\x00&<>"']/;function Je(s,c){return s.indexOf(c)!=-1}function zb(s,c){return s<c?-1:s>c?1:0}var eu;e:{var tk=u.navigator;if(tk){var nk=tk.userAgent;if(nk){eu=nk;break e}}eu=""}function Wt(s){return Je(eu,s)}function rk(s,c){for(var h in s)c.call(void 0,s[h],h,s)}function ya(s){for(var c in s)return!1;return!0}function is(s){var c={},h;for(h in s)c[h]=s[h];return c}var ik="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(s,c){for(var h,v,b=1;b<arguments.length;b++){v=arguments[b];for(h in v)s[h]=v[h];for(var E=0;E<ik.length;E++)h=ik[E],Object.prototype.hasOwnProperty.call(v,h)&&(s[h]=v[h])}}function ok(s,c){e:{try{var h=s&&s.ownerDocument,v=h&&(h.defaultView||h.parentWindow);if(v=v||u,v.Element&&v.Location){var b=v;break e}}catch(T){}b=null}if(b&&typeof b[c]!="undefined"&&(!s||!(s instanceof b[c])&&(s instanceof b.Location||s instanceof b.Element))){if(w(s))try{var E=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch(T){E="<object could not be stringified>"}else E=s===void 0?"undefined":s===null?"null":typeof s;Zl("Argument is not a %s (or a non-Element, non-Location mock); got: %s",c,E)}}function Bi(s,c){this.a=s===Tp&&c||"",this.b=sk}Bi.prototype.sa=!0,Bi.prototype.ra=function(){return this.a},Bi.prototype.toString=function(){return"Const{"+this.a+"}"};function Gb(s){return s instanceof Bi&&s.constructor===Bi&&s.b===sk?s.a:(Zl("expected object of type Const, got '"+s+"'"),"type_error:Const")}var sk={},Tp={},Cp;function ak(){if(Cp===void 0){var s=null,c=u.trustedTypes;if(c&&c.createPolicy){try{s=c.createPolicy("goog#html",{createHTML:Re,createScript:Re,createScriptURL:Re})}catch(h){u.console&&u.console.error(h.message)}Cp=s}else Cp=s}return Cp}function tu(s,c){this.a=c===uk?s:""}tu.prototype.sa=!0,tu.prototype.ra=function(){return this.a.toString()},tu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function lk(s){return s instanceof tu&&s.constructor===tu?s.a:(Zl("expected object of type TrustedResourceUrl, got '"+s+"' of type "+g(s)),"type_error:TrustedResourceUrl")}function Kb(s,c){var h=Gb(s);if(!UW.test(h))throw Error("Invalid TrustedResourceUrl format: "+h);return s=h.replace(FW,function(v,b){if(!Object.prototype.hasOwnProperty.call(c,b))throw Error('Found marker, "'+b+'", in format string, "'+h+'", but no valid label mapping found in args: '+JSON.stringify(c));return v=c[b],v instanceof Bi?Gb(v):encodeURIComponent(String(v))}),BW(s)}var FW=/%{(\w+)}/g,UW=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,uk={};function BW(s){var c=ak();return s=c?c.createScriptURL(s):s,new tu(s,uk)}function nr(s,c){this.a=c===Cd?s:""}nr.prototype.sa=!0,nr.prototype.ra=function(){return this.a.toString()},nr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ip(s){return s instanceof nr&&s.constructor===nr?s.a:(Zl("expected object of type SafeUrl, got '"+s+"' of type "+g(s)),"type_error:SafeUrl")}var HW=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,VW=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ck=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function dk(s){if(s instanceof nr)return s;if(s=typeof s=="object"&&s.sa?s.ra():String(s),ck.test(s))s=new nr(s,Cd);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var c=s.match(VW);s=c&&HW.test(c[1])?new nr(s,Cd):null}return s}function fk(s){return s instanceof nr?s:(s=typeof s=="object"&&s.sa?s.ra():String(s),ck.test(s)||(s="about:invalid#zClosurez"),new nr(s,Cd))}var Cd={},hk=new nr("about:invalid#zClosurez",Cd);function nu(s,c,h){this.a=h===pk?s:""}nu.prototype.sa=!0,nu.prototype.ra=function(){return this.a.toString()},nu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function jW(s){return s instanceof nu&&s.constructor===nu?s.a:(Zl("expected object of type SafeHtml, got '"+s+"' of type "+g(s)),"type_error:SafeHtml")}var pk={};function qW(s,c){ok(s,"HTMLScriptElement"),s.src=lk(c),(c=s.ownerDocument&&s.ownerDocument.defaultView)&&c!=u?c=p(c.document):(f===null&&(f=p(u.document)),c=f),c&&s.setAttribute("nonce",c)}function mk(s,c,h,v){return s=s instanceof nr?s:fk(s),c=c||u,h=h instanceof Bi?Gb(h):h||"",c.open(Ip(s),h,v,void 0)}function vk(s,c){for(var h=s.split("%s"),v="",b=Array.prototype.slice.call(arguments,1);b.length&&1<h.length;)v+=h.shift()+b.shift();return v+h.join("%s")}function Yb(s){return LW.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(AW,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(DW,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(NW,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(PW,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(OW,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(MW,"&#0;"))),s}function Xb(s){return Xb[" "](s),s}Xb[" "]=m;function WW(s,c){var h=YW;return Object.prototype.hasOwnProperty.call(h,s)?h[s]:h[s]=c(s)}var zW=Wt("Opera"),vi=Wt("Trident")||Wt("MSIE"),gk=Wt("Edge"),GW=gk||vi,yk=Wt("Gecko")&&!(Je(eu.toLowerCase(),"webkit")&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),KW=Je(eu.toLowerCase(),"webkit")&&!Wt("Edge");function bk(){var s=u.document;return s?s.documentMode:void 0}var Rp;e:{var $b="",Qb=function(){var s=eu;if(yk)return/rv:([^\);]+)(\)|;)/.exec(s);if(gk)return/Edge\/([\d\.]+)/.exec(s);if(vi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(KW)return/WebKit\/(\S+)/.exec(s);if(zW)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Qb&&($b=Qb?Qb[1]:""),vi){var Jb=bk();if(Jb!=null&&Jb>parseFloat($b)){Rp=String(Jb);break e}}Rp=$b}var YW={};function _k(s){return WW(s,function(){for(var c=0,h=ek(String(Rp)).split("."),v=ek(String(s)).split("."),b=Math.max(h.length,v.length),E=0;c==0&&E<b;E++){var T=h[E]||"",k=v[E]||"";do{if(T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],T[0].length==0&&k[0].length==0)break;c=zb(T[1].length==0?0:parseInt(T[1],10),k[1].length==0?0:parseInt(k[1],10))||zb(T[2].length==0,k[2].length==0)||zb(T[2],k[2]),T=T[3],k=k[3]}while(c==0)}return 0<=c})}var Zb;if(u.document&&vi){var wk=bk();Zb=wk||parseInt(Rp,10)||void 0}else Zb=void 0;var os=Zb;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(s){}var XW=!vi||9<=Number(os);function Id(s){var c=document;return typeof s=="string"?c.getElementById(s):s}function Ek(s,c){rk(c,function(h,v){h&&typeof h=="object"&&h.sa&&(h=h.ra()),v=="style"?s.style.cssText=h:v=="class"?s.className=h:v=="for"?s.htmlFor=h:Sk.hasOwnProperty(v)?s.setAttribute(Sk[v],h):v.lastIndexOf("aria-",0)==0||v.lastIndexOf("data-",0)==0?s.setAttribute(v,h):s[v]=h})}var Sk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function $W(s,c,h){var v=arguments,b=document,E=String(v[0]),T=v[1];if(!XW&&T&&(T.name||T.type)){if(E=["<",E],T.name&&E.push(' name="',Yb(T.name),'"'),T.type){E.push(' type="',Yb(T.type),'"');var k={};tr(k,T),delete k.type,T=k}E.push(">"),E=E.join("")}return E=kp(b,E),T&&(typeof T=="string"?E.className=T:Array.isArray(T)?E.className=T.join(" "):Ek(E,T)),2<v.length&&QW(b,E,v),E}function QW(s,c,h){function v(k){k&&c.appendChild(typeof k=="string"?s.createTextNode(k):k)}for(var b=2;b<h.length;b++){var E=h[b];if(!y(E)||w(E)&&0<E.nodeType)v(E);else{e:{if(E&&typeof E.length=="number"){if(w(E)){var T=typeof E.item=="function"||typeof E.item=="string";break e}if(_(E)){T=typeof E.item=="function";break e}}T=!1}ct(T?ga(E):E,v)}}}function kp(s,c){return c=String(c),s.contentType==="application/xhtml+xml"&&(c=c.toLowerCase()),s.createElement(c)}function xk(s){u.setTimeout(function(){throw s},0)}var e_;function JW(){var s=u.MessageChannel;if(typeof s=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Wt("Presto")&&(s=function(){var b=kp(document,"IFRAME");b.style.display="none",document.documentElement.appendChild(b);var E=b.contentWindow;b=E.document,b.open(),b.close();var T="callImmediate"+Math.random(),k=E.location.protocol=="file:"?"*":E.location.protocol+"//"+E.location.host;b=M(function(H){(k=="*"||H.origin==k)&&H.data==T&&this.port1.onmessage()},this),E.addEventListener("message",b,!1),this.port1={},this.port2={postMessage:function(){E.postMessage(T,k)}}}),typeof s!="undefined"&&!Wt("Trident")&&!Wt("MSIE")){var c=new s,h={},v=h;return c.port1.onmessage=function(){if(h.next!==void 0){h=h.next;var b=h.Gb;h.Gb=null,b()}},function(b){v.next={Gb:b},v=v.next,c.port2.postMessage(0)}}return function(b){u.setTimeout(b,0)}}function Ap(s,c){Dp||ZW(),t_||(Dp(),t_=!0),Tk.add(s,c)}var Dp;function ZW(){if(u.Promise&&u.Promise.resolve){var s=u.Promise.resolve(void 0);Dp=function(){s.then(Ck)}}else Dp=function(){var c=Ck;!_(u.setImmediate)||u.Window&&u.Window.prototype&&!Wt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(e_||(e_=JW()),e_(c)):u.setImmediate(c)}}var t_=!1,Tk=new QR;function Ck(){for(var s;s=TW();){try{s.a.call(s.b)}catch(c){xk(c)}$R(JR,s)}t_=!1}function Ae(s,c){if(this.a=ba,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=m)try{var h=this;s.call(c,function(v){_a(h,Rd,v)},function(v){if(!(v instanceof ru))try{throw v instanceof Error?v:Error("Promise rejected.")}catch(b){}_a(h,Co,v)})}catch(v){_a(this,Co,v)}}var ba=0,Rd=2,Co=3;function Ik(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ik.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Rk=new jb(function(){return new Ik},function(s){s.reset()});function n_(s,c,h){var v=Rk.get();return v.g=s,v.b=c,v.f=h,v}function ae(s){if(s instanceof Ae)return s;var c=new Ae(m);return _a(c,Rd,s),c}function it(s){return new Ae(function(c,h){h(s)})}function kk(s,c,h){Pk(s,c,h,null)||Ap(W(c,s))}function ez(s){return new Ae(function(c,h){var v=s.length,b=[];if(v)for(var E=function(V,he){v--,b[V]=he,v==0&&c(b)},T=function(V){h(V)},k=0,H;k<s.length;k++)H=s[k],kk(H,W(E,k),T);else c(b)})}function Ak(s){return new Ae(function(c){var h=s.length,v=[];if(h)for(var b=function(k,H,V){h--,v[k]=H?{Pb:!0,value:V}:{Pb:!1,reason:V},h==0&&c(v)},E=0,T;E<s.length;E++)T=s[E],kk(T,W(b,E,!0),W(b,E,!1));else c(v)})}Ae.prototype.then=function(s,c,h){return Nk(this,_(s)?s:null,_(c)?c:null,h)},Ae.prototype.$goog_Thenable=!0,t=Ae.prototype,t.oa=function(s,c){return s=n_(s,s,c),s.c=!0,r_(this,s),this},t.o=function(s,c){return Nk(this,null,s,c)},t.cancel=function(s){if(this.a==ba){var c=new ru(s);Ap(function(){Dk(this,c)},this)}};function Dk(s,c){if(s.a==ba)if(s.c){var h=s.c;if(h.b){for(var v=0,b=null,E=null,T=h.b;T&&(T.c||(v++,T.a==s&&(b=T),!(b&&1<v)));T=T.next)b||(E=T);b&&(h.a==ba&&v==1?Dk(h,c):(E?(v=E,v.next==h.f&&(h.f=v),v.next=v.next.next):Mk(h),Lk(h,b,Co,c)))}s.c=null}else _a(s,Co,c)}function r_(s,c){s.b||s.a!=Rd&&s.a!=Co||Ok(s),s.f?s.f.next=c:s.b=c,s.f=c}function Nk(s,c,h,v){var b=n_(null,null,null);return b.a=new Ae(function(E,T){b.g=c?function(k){try{var H=c.call(v,k);E(H)}catch(V){T(V)}}:E,b.b=h?function(k){try{var H=h.call(v,k);H===void 0&&k instanceof ru?T(k):E(H)}catch(V){T(V)}}:T}),b.a.c=s,r_(s,b),b.a}t.$c=function(s){this.a=ba,_a(this,Rd,s)},t.ad=function(s){this.a=ba,_a(this,Co,s)};function _a(s,c,h){s.a==ba&&(s===h&&(c=Co,h=new TypeError("Promise cannot resolve to itself")),s.a=1,Pk(h,s.$c,s.ad,s)||(s.i=h,s.a=c,s.c=null,Ok(s),c!=Co||h instanceof ru||nz(s,h)))}function Pk(s,c,h,v){if(s instanceof Ae)return r_(s,n_(c||m,h||null,v)),!0;if(XR(s))return s.then(c,h,v),!0;if(w(s))try{var b=s.then;if(_(b))return tz(s,b,c,h,v),!0}catch(E){return h.call(v,E),!0}return!1}function tz(s,c,h,v,b){function E(H){k||(k=!0,v.call(b,H))}function T(H){k||(k=!0,h.call(b,H))}var k=!1;try{c.call(s,T,E)}catch(H){E(H)}}function Ok(s){s.h||(s.h=!0,Ap(s.gc,s))}function Mk(s){var c=null;return s.b&&(c=s.b,s.b=c.next,c.next=null),s.b||(s.f=null),c}t.gc=function(){for(var s;s=Mk(this);)Lk(this,s,this.a,this.i);this.h=!1};function Lk(s,c,h,v){if(h==Co&&c.b&&!c.c)for(;s&&s.g;s=s.c)s.g=!1;if(c.a)c.a.c=null,Fk(c,h,v);else try{c.c?c.g.call(c.f):Fk(c,h,v)}catch(b){Uk.call(null,b)}$R(Rk,c)}function Fk(s,c,h){c==Rd?s.g.call(s.f,h):s.b&&s.b.call(s.f,h)}function nz(s,c){s.g=!0,Ap(function(){s.g&&Uk.call(null,c)})}var Uk=xk;function ru(s){_r.call(this,s)}q(ru,_r),ru.prototype.name="cancel";function Np(){i_!=0&&(Bk[S(this)]=this),this.xa=this.xa,this.pa=this.pa}var i_=0,Bk={};Np.prototype.xa=!1;function Hk(s){if(!s.xa&&(s.xa=!0,s.Da(),i_!=0)){var c=S(s);if(i_!=0&&s.pa&&0<s.pa.length)throw Error(s+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bk[c]}}Np.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var rz=Object.freeze||function(s){return s},Vk=!vi||9<=Number(os),iz=vi&&!_k("9"),oz=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{u.addEventListener("test",m,c),u.removeEventListener("test",m,c)}catch(h){}return s}();function rr(s,c){this.type=s,this.b=this.target=c,this.defaultPrevented=!1}rr.prototype.preventDefault=function(){this.defaultPrevented=!0};function wa(s,c){if(rr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var h=this.type=s.type,v=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=c,c=s.relatedTarget){if(yk){e:{try{Xb(c.nodeName);var b=!0;break e}catch(E){}b=!1}b||(c=null)}}else h=="mouseover"?c=s.fromElement:h=="mouseout"&&(c=s.toElement);this.relatedTarget=c,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:sz[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}q(wa,rr);var sz=rz({2:"touch",3:"pen",4:"mouse"});wa.prototype.preventDefault=function(){wa.ab.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,iz)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch(c){}},wa.prototype.g=function(){return this.a};var kd="closure_listenable_"+(1e6*Math.random()|0),az=0;function lz(s,c,h,v,b){this.listener=s,this.proxy=null,this.src=c,this.type=h,this.capture=!!v,this.Va=b,this.key=++az,this.va=this.Pa=!1}function Pp(s){s.va=!0,s.listener=null,s.proxy=null,s.src=null,s.Va=null}function Op(s){this.src=s,this.a={},this.b=0}Op.prototype.add=function(s,c,h,v,b){var E=s.toString();s=this.a[E],s||(s=this.a[E]=[],this.b++);var T=s_(s,c,v,b);return-1<T?(c=s[T],h||(c.Pa=!1)):(c=new lz(c,this.src,E,!!v,b),c.Pa=h,s.push(c)),c};function o_(s,c){var h=c.type;h in s.a&&xp(s.a[h],c)&&(Pp(c),s.a[h].length==0&&(delete s.a[h],s.b--))}function s_(s,c,h,v){for(var b=0;b<s.length;++b){var E=s[b];if(!E.va&&E.listener==c&&E.capture==!!h&&E.Va==v)return b}return-1}var a_="closure_lm_"+(1e6*Math.random()|0),l_={},jk=0;function jr(s,c,h,v,b){if(v&&v.once)u_(s,c,h,v,b);else if(Array.isArray(c))for(var E=0;E<c.length;E++)jr(s,c[E],h,v,b);else h=d_(h),s&&s[kd]?Yk(s,c,h,w(v)?!!v.capture:!!v,b):qk(s,c,h,!1,v,b)}function qk(s,c,h,v,b,E){if(!c)throw Error("Invalid event type");var T=w(b)?!!b.capture:!!b,k=Mp(s);if(k||(s[a_]=k=new Op(s)),h=k.add(c,h,v,T,E),!h.proxy){if(v=uz(),h.proxy=v,v.src=s,v.listener=h,s.addEventListener)oz||(b=T),b===void 0&&(b=!1),s.addEventListener(c.toString(),v,b);else if(s.attachEvent)s.attachEvent(zk(c.toString()),v);else if(s.addListener&&s.removeListener)s.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");jk++}}function uz(){var s=cz,c=Vk?function(h){return s.call(c.src,c.listener,h)}:function(h){if(h=s.call(c.src,c.listener,h),!h)return h};return c}function u_(s,c,h,v,b){if(Array.isArray(c))for(var E=0;E<c.length;E++)u_(s,c[E],h,v,b);else h=d_(h),s&&s[kd]?f_(s,c,h,w(v)?!!v.capture:!!v,b):qk(s,c,h,!0,v,b)}function wr(s,c,h,v,b){if(Array.isArray(c))for(var E=0;E<c.length;E++)wr(s,c[E],h,v,b);else v=w(v)?!!v.capture:!!v,h=d_(h),s&&s[kd]?(s=s.v,c=String(c).toString(),c in s.a&&(E=s.a[c],h=s_(E,h,v,b),-1<h&&(Pp(E[h]),Array.prototype.splice.call(E,h,1),E.length==0&&(delete s.a[c],s.b--)))):s&&(s=Mp(s))&&(c=s.a[c.toString()],s=-1,c&&(s=s_(c,h,v,b)),(h=-1<s?c[s]:null)&&Wk(h))}function Wk(s){if(typeof s!="number"&&s&&!s.va){var c=s.src;if(c&&c[kd])o_(c.v,s);else{var h=s.type,v=s.proxy;c.removeEventListener?c.removeEventListener(h,v,s.capture):c.detachEvent?c.detachEvent(zk(h),v):c.addListener&&c.removeListener&&c.removeListener(v),jk--,(h=Mp(c))?(o_(h,s),h.b==0&&(h.src=null,c[a_]=null)):Pp(s)}}}function zk(s){return s in l_?l_[s]:l_[s]="on"+s}function Gk(s,c,h,v){var b=!0;if((s=Mp(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var E=c[s];E&&E.capture==h&&!E.va&&(E=Kk(E,v),b=b&&E!==!1)}return b}function Kk(s,c){var h=s.listener,v=s.Va||s.src;return s.Pa&&Wk(s),h.call(v,c)}function cz(s,c){if(s.va)return!0;if(!Vk){if(!c)e:{c=["window","event"];for(var h=u,v=0;v<c.length;v++)if(h=h[c[v]],h==null){c=null;break e}c=h}if(v=c,c=new wa(v,this),h=!0,!(0>v.keyCode||v.returnValue!=null)){e:{var b=!1;if(v.keyCode==0)try{v.keyCode=-1;break e}catch(T){b=!0}(b||v.returnValue==null)&&(v.returnValue=!0)}for(v=[],b=c.b;b;b=b.parentNode)v.push(b);for(s=s.type,b=v.length-1;0<=b;b--){c.b=v[b];var E=Gk(v[b],s,!0,c);h=h&&E}for(b=0;b<v.length;b++)c.b=v[b],E=Gk(v[b],s,!1,c),h=h&&E}return h}return Kk(s,new wa(c,this))}function Mp(s){return s=s[a_],s instanceof Op?s:null}var c_="__closure_events_fn_"+(1e9*Math.random()>>>0);function d_(s){return _(s)?s:(s[c_]||(s[c_]=function(c){return s.handleEvent(c)}),s[c_])}function On(){Np.call(this),this.v=new Op(this),this.ac=this,this.gb=null}q(On,Np),On.prototype[kd]=!0,On.prototype.addEventListener=function(s,c,h,v){jr(this,s,c,h,v)},On.prototype.removeEventListener=function(s,c,h,v){wr(this,s,c,h,v)},On.prototype.dispatchEvent=function(s){var c,h=this.gb;if(h)for(c=[];h;h=h.gb)c.push(h);h=this.ac;var v=s.type||s;if(typeof s=="string")s=new rr(s,h);else if(s instanceof rr)s.target=s.target||h;else{var b=s;s=new rr(v,h),tr(s,b)}if(b=!0,c)for(var E=c.length-1;0<=E;E--){var T=s.b=c[E];b=Lp(T,v,!0,s)&&b}if(T=s.b=h,b=Lp(T,v,!0,s)&&b,b=Lp(T,v,!1,s)&&b,c)for(E=0;E<c.length;E++)T=s.b=c[E],b=Lp(T,v,!1,s)&&b;return b},On.prototype.Da=function(){if(On.ab.Da.call(this),this.v){var s=this.v,c=0,h;for(h in s.a){for(var v=s.a[h],b=0;b<v.length;b++)++c,Pp(v[b]);delete s.a[h],s.b--}}this.gb=null};function Yk(s,c,h,v,b){s.v.add(String(c),h,!1,v,b)}function f_(s,c,h,v,b){s.v.add(String(c),h,!0,v,b)}function Lp(s,c,h,v){if(c=s.v.a[String(c)],!c)return!0;c=c.concat();for(var b=!0,E=0;E<c.length;++E){var T=c[E];if(T&&!T.va&&T.capture==h){var k=T.listener,H=T.Va||T.src;T.Pa&&o_(s.v,T),b=k.call(H,v)!==!1&&b}}return b&&!v.defaultPrevented}function h_(s,c,h){if(_(s))h&&(s=M(s,h));else if(s&&typeof s.handleEvent=="function")s=M(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:u.setTimeout(s,c||0)}function iu(s){var c=null;return new Ae(function(h,v){c=h_(function(){h(void 0)},s),c==-1&&v(Error("Failed to schedule timer."))}).o(function(h){throw u.clearTimeout(c),h})}function Xk(s){if(s.W&&typeof s.W=="function")return s.W();if(typeof s=="string")return s.split("");if(y(s)){for(var c=[],h=s.length,v=0;v<h;v++)c.push(s[v]);return c}c=[],h=0;for(v in s)c[h++]=s[v];return c}function $k(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.W||typeof s.W!="function"){if(y(s)||typeof s=="string"){var c=[];s=s.length;for(var h=0;h<s;h++)c.push(h);return c}c=[],h=0;for(var v in s)c[h++]=v;return c}}function dz(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(y(s)||typeof s=="string")ct(s,c,void 0);else for(var h=$k(s),v=Xk(s),b=v.length,E=0;E<b;E++)c.call(void 0,v[E],h&&h[E],s)}function ou(s,c){this.b={},this.a=[],this.c=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var v=0;v<h;v+=2)this.set(arguments[v],arguments[v+1])}else if(s)if(s instanceof ou)for(h=s.Y(),v=0;v<h.length;v++)this.set(h[v],s.get(h[v]));else for(v in s)this.set(v,s[v])}t=ou.prototype,t.W=function(){p_(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.b[this.a[c]]);return s},t.Y=function(){return p_(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function p_(s){if(s.c!=s.a.length){for(var c=0,h=0;c<s.a.length;){var v=s.a[c];Ea(s.b,v)&&(s.a[h++]=v),c++}s.a.length=h}if(s.c!=s.a.length){var b={};for(h=c=0;c<s.a.length;)v=s.a[c],Ea(b,v)||(s.a[h++]=v,b[v]=1),c++;s.a.length=h}}t.get=function(s,c){return Ea(this.b,s)?this.b[s]:c},t.set=function(s,c){Ea(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=c},t.forEach=function(s,c){for(var h=this.Y(),v=0;v<h.length;v++){var b=h[v],E=this.get(b);s.call(c,E,b,this)}};function Ea(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var Qk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fz(s,c){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var v=s[h].indexOf("="),b=null;if(0<=v){var E=s[h].substring(0,v);b=s[h].substring(v+1)}else E=s[h];c(E,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ss(s,c){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var h;s instanceof ss?(this.i=c!==void 0?c:s.i,Ad(this,s.c),this.l=s.l,this.a=s.a,Dd(this,s.g),this.f=s.f,m_(this,tA(s.b)),this.h=s.h):s&&(h=String(s).match(Qk))?(this.i=!!c,Ad(this,h[1]||"",!0),this.l=Nd(h[2]||""),this.a=Nd(h[3]||"",!0),Dd(this,h[4]),this.f=Nd(h[5]||"",!0),m_(this,h[6]||"",!0),this.h=Nd(h[7]||"")):(this.i=!!c,this.b=new Sa(null,this.i))}ss.prototype.toString=function(){var s=[],c=this.c;c&&s.push(Pd(c,Jk,!0),":");var h=this.a;return(h||c=="file")&&(s.push("//"),(c=this.l)&&s.push(Pd(c,Jk,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.g,h!=null&&s.push(":",String(h))),(h=this.f)&&(this.a&&h.charAt(0)!="/"&&s.push("/"),s.push(Pd(h,h.charAt(0)=="/"?mz:pz,!0))),(h=this.b.toString())&&s.push("?",h),(h=this.h)&&s.push("#",Pd(h,gz)),s.join("")},ss.prototype.resolve=function(s){var c=new ss(this),h=!!s.c;h?Ad(c,s.c):h=!!s.l,h?c.l=s.l:h=!!s.a,h?c.a=s.a:h=s.g!=null;var v=s.f;if(h)Dd(c,s.g);else if(h=!!s.f){if(v.charAt(0)!="/")if(this.a&&!this.f)v="/"+v;else{var b=c.f.lastIndexOf("/");b!=-1&&(v=c.f.substr(0,b+1)+v)}if(b=v,b==".."||b==".")v="";else if(Je(b,"./")||Je(b,"/.")){v=b.lastIndexOf("/",0)==0,b=b.split("/");for(var E=[],T=0;T<b.length;){var k=b[T++];k=="."?v&&T==b.length&&E.push(""):k==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),v&&T==b.length&&E.push("")):(E.push(k),v=!0)}v=E.join("/")}else v=b}return h?c.f=v:h=s.b.toString()!=="",h?m_(c,tA(s.b)):h=!!s.h,h&&(c.h=s.h),c};function Ad(s,c,h){s.c=h?Nd(c,!0):c,s.c&&(s.c=s.c.replace(/:$/,""))}function Dd(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.g=c}else s.g=null}function m_(s,c,h){c instanceof Sa?(s.b=c,yz(s.b,s.i)):(h||(c=Pd(c,vz)),s.b=new Sa(c,s.i))}function Et(s,c,h){s.b.set(c,h)}function qr(s,c){return s.b.get(c)}function ir(s){return s instanceof ss?new ss(s):new ss(s,void 0)}function Fp(s,c,h,v){var b=new ss(null,void 0);return s&&Ad(b,s),c&&(b.a=c),h&&Dd(b,h),v&&(b.f=v),b}function Nd(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Pd(s,c,h){return typeof s=="string"?(s=encodeURI(s).replace(c,hz),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function hz(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Jk=/[#\/\?@]/g,pz=/[#\?:]/g,mz=/[#\?]/g,vz=/[#\?@]/g,gz=/#/g;function Sa(s,c){this.b=this.a=null,this.c=s||null,this.f=!!c}function as(s){s.a||(s.a=new ou,s.b=0,s.c&&fz(s.c,function(c,h){s.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}function Zk(s){var c=$k(s);if(typeof c=="undefined")throw Error("Keys are undefined");var h=new Sa(null,void 0);s=Xk(s);for(var v=0;v<c.length;v++){var b=c[v],E=s[v];Array.isArray(E)?eA(h,b,E):h.add(b,E)}return h}t=Sa.prototype,t.add=function(s,c){as(this),this.c=null,s=su(this,s);var h=this.a.get(s);return h||this.a.set(s,h=[]),h.push(c),this.b+=1,this};function Hi(s,c){as(s),c=su(s,c),Ea(s.a.b,c)&&(s.c=null,s.b-=s.a.get(c).length,s=s.a,Ea(s.b,c)&&(delete s.b[c],s.c--,s.a.length>2*s.c&&p_(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function v_(s,c){return as(s),c=su(s,c),Ea(s.a.b,c)}t.forEach=function(s,c){as(this),this.a.forEach(function(h,v){ct(h,function(b){s.call(c,b,v,this)},this)},this)},t.Y=function(){as(this);for(var s=this.a.W(),c=this.a.Y(),h=[],v=0;v<c.length;v++)for(var b=s[v],E=0;E<b.length;E++)h.push(c[v]);return h},t.W=function(s){as(this);var c=[];if(typeof s=="string")v_(this,s)&&(c=Wb(c,this.a.get(su(this,s))));else{s=this.a.W();for(var h=0;h<s.length;h++)c=Wb(c,s[h])}return c},t.set=function(s,c){return as(this),this.c=null,s=su(this,s),v_(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[c]),this.b+=1,this},t.get=function(s,c){return s?(s=this.W(s),0<s.length?String(s[0]):c):c};function eA(s,c,h){Hi(s,c),0<h.length&&(s.c=null,s.a.set(su(s,c),ga(h)),s.b+=h.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],c=this.a.Y(),h=0;h<c.length;h++){var v=c[h],b=encodeURIComponent(String(v));v=this.W(v);for(var E=0;E<v.length;E++){var T=b;v[E]!==""&&(T+="="+encodeURIComponent(String(v[E]))),s.push(T)}}return this.c=s.join("&")};function tA(s){var c=new Sa;return c.c=s.c,s.a&&(c.a=new ou(s.a),c.b=s.b),c}function su(s,c){return c=String(c),s.f&&(c=c.toLowerCase()),c}function yz(s,c){c&&!s.f&&(as(s),s.c=null,s.a.forEach(function(h,v){var b=v.toLowerCase();v!=b&&(Hi(this,v),eA(this,b,h))},s)),s.f=c}function nA(s){var c=[];return g_(new bz,s,c),c.join("")}function bz(){}function g_(s,c,h){if(c==null)h.push("null");else{if(typeof c=="object"){if(Array.isArray(c)){var v=c;c=v.length,h.push("[");for(var b="",E=0;E<c;E++)h.push(b),g_(s,v[E],h),b=",";h.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{h.push("{"),b="";for(v in c)Object.prototype.hasOwnProperty.call(c,v)&&(E=c[v],typeof E!="function"&&(h.push(b),iA(v,h),h.push(":"),g_(s,E,h),b=","));h.push("}");return}}switch(typeof c){case"string":iA(c,h);break;case"number":h.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":h.push(String(c));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var rA={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},_z=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function iA(s,c){c.push('"',s.replace(_z,function(h){var v=rA[h];return v||(v="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),rA[h]=v),v}),'"')}function y_(){var s=ln();return vi&&!!os&&os==11||/Edge\/\d+/.test(s)}function Od(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function oA(s,c){c=c||u.window;var h="about:blank";s&&(h=Ip(dk(s)||hk)),c.location.href=h}function sA(s,c){var h=[],v;for(v in s)v in c?typeof s[v]!=typeof c[v]?h.push(v):typeof s[v]=="object"&&s[v]!=null&&c[v]!=null?0<sA(s[v],c[v]).length&&h.push(v):s[v]!==c[v]&&h.push(v):h.push(v);for(v in c)v in s||h.push(v);return h}function wz(){var s=ln();return s=au(s)!=cA?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!vi||!os||9<os}function aA(s){return s=(s||ln()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function xa(s){s=s||u.window;try{s.close()}catch(c){}}function lA(s,c,h){var v=Math.floor(1e9*Math.random()).toString();c=c||500,h=h||600;var b=(window.screen.availHeight-h)/2,E=(window.screen.availWidth-c)/2;c={width:c,height:h,top:0<b?b:0,left:0<E?E:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},h=ln().toLowerCase(),v&&(c.target=v,Je(h,"crios/")&&(c.target="_blank")),au(ln())==w_&&(s=s||"http://localhost",c.scrollbars=!0),h=s||"",(s=c)||(s={}),v=window,c=h instanceof nr?h:dk(typeof h.href!="undefined"?h.href:String(h))||hk,h=s.target||h.target,b=[];for(T in s)switch(T){case"width":case"height":case"top":case"left":b.push(T+"="+s[T]);break;case"target":case"noopener":case"noreferrer":break;default:b.push(T+"="+(s[T]?1:0))}var T=b.join(",");if((Wt("iPhone")&&!Wt("iPod")&&!Wt("iPad")||Wt("iPad")||Wt("iPod"))&&v.navigator&&v.navigator.standalone&&h&&h!="_self"?(T=kp(document,"A"),ok(T,"HTMLAnchorElement"),c=c instanceof nr?c:fk(c),T.href=Ip(c),T.setAttribute("target",h),s.noreferrer&&T.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,v,1),T.dispatchEvent(s),T={}):s.noreferrer?(T=mk("",v,h,T),s=Ip(c),T&&(GW&&Je(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),T.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yb(s)+'">',s=(v=ak())?v.createHTML(s):s,s=new nu(s,null,pk),v=T.document)&&(v.write(jW(s)),v.close())):(T=mk(c,v,h,T))&&s.noopener&&(T.opener=null),T)try{T.focus()}catch(k){}return T}function Ez(s){return new Ae(function(c){function h(){iu(2e3).then(function(){if(!s||s.closed)c();else return h()})}return h()})}var Sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xz=/^[^@]+@[^@]+$/;function Up(){var s=null;return new Ae(function(c){u.document.readyState=="complete"?c():(s=function(){c()},u_(window,"load",s))}).o(function(c){throw wr(window,"load",s),c})}function Tz(){return b_(void 0)?Up().then(function(){return new Ae(function(s,c){var h=u.document,v=setTimeout(function(){c(Error("Cordova framework is not ready."))},1e3);h.addEventListener("deviceready",function(){clearTimeout(v),s()},!1)})}):it(Error("Cordova must run in an Android or iOS file scheme."))}function b_(s){return s=s||ln(),!(uu()!=="file:"&&uu()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function __(){var s=u.window;try{return!(!s||s==s.top)}catch(c){return!1}}function gi(){return typeof u.WorkerGlobalScope!="undefined"&&typeof u.importScripts=="function"}function Vi(){return J.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.INTERNAL.hasOwnProperty("node")?"Node":gi()?"Worker":"Browser"}function uA(){var s=Vi();return s==="ReactNative"||s==="Node"}function Cz(){for(var s=50,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}var w_="Firefox",cA="Chrome";function au(s){var c=s.toLowerCase();if(Je(c,"opera/")||Je(c,"opr/")||Je(c,"opios/"))return"Opera";if(Je(c,"iemobile"))return"IEMobile";if(Je(c,"msie")||Je(c,"trident/"))return"IE";if(Je(c,"edge/"))return"Edge";if(Je(c,"firefox/"))return w_;if(Je(c,"silk/"))return"Silk";if(Je(c,"blackberry"))return"Blackberry";if(Je(c,"webos"))return"Webos";if(!Je(c,"safari/")||Je(c,"chrome/")||Je(c,"crios/")||Je(c,"android"))if(!Je(c,"chrome/")&&!Je(c,"crios/")||Je(c,"edge/")){if(Je(c,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return cA;else return"Safari";return"Other"}var dA={md:"FirebaseCore-web",od:"FirebaseUI-web"};function lu(s,c){c=c||[];var h=[],v={},b;for(b in dA)v[dA[b]]=!0;for(b=0;b<c.length;b++)typeof v[c[b]]!="undefined"&&(delete v[c[b]],h.push(c[b]));return h.sort(),c=h,c.length||(c=["FirebaseCore-web"]),h=Vi(),h==="Browser"?(v=ln(),h=au(v)):h==="Worker"&&(v=ln(),h=au(v)+"-"+h),h+"/JsCore/"+s+"/"+c.join(",")}function ln(){return u.navigator&&u.navigator.userAgent||""}function ot(s,c){s=s.split("."),c=c||u;for(var h=0;h<s.length&&typeof c=="object"&&c!=null;h++)c=c[s[h]];return h!=s.length&&(c=void 0),c}function E_(){try{var s=u.localStorage,c=Ca();if(s)return s.setItem(c,"1"),s.removeItem(c),y_()?!!u.indexedDB:!0}catch(h){return gi()&&!!u.indexedDB}return!1}function Ta(){return(Bp()||uu()==="chrome-extension:"||b_())&&!uA()&&E_()&&!gi()}function Bp(){return uu()==="http:"||uu()==="https:"}function uu(){return u.location&&u.location.protocol||null}function Md(s){return s=s||ln(),!(aA(s)||au(s)==w_)}function Ld(s){return typeof s=="undefined"?null:nA(s)}function fA(s){var c={},h;for(h in s)s.hasOwnProperty(h)&&s[h]!==null&&s[h]!==void 0&&(c[h]=s[h]);return c}function cu(s){if(s!==null)return JSON.parse(s)}function Ca(s){return s||Math.floor(1e9*Math.random()).toString()}function hA(s){return s=s||ln(),!(au(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function pA(){var s=u.___jsl;if(s&&s.H){for(var c in s.H)if(s.H[c].r=s.H[c].r||[],s.H[c].L=s.H[c].L||[],s.H[c].r=s.H[c].L.concat(),s.CP)for(var h=0;h<s.CP.length;h++)s.CP[h]=null}}function ls(s,c){if(s>c)throw Error("Short delay should be less than long delay!");this.a=s,this.c=c,s=ln(),c=Vi(),this.b=aA(s)||c==="ReactNative"}ls.prototype.get=function(){var s=u.navigator;return(s&&typeof s.onLine=="boolean"&&(Bp()||uu()==="chrome-extension:"||typeof s.connection!="undefined")?s.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function S_(){var s=u.document;return s&&typeof s.visibilityState!="undefined"?s.visibilityState=="visible":!0}function Iz(){var s=u.document,c=null;return S_()||!s?ae():new Ae(function(h){c=function(){S_()&&(s.removeEventListener("visibilitychange",c,!1),h())},s.addEventListener("visibilitychange",c,!1)}).o(function(h){throw s.removeEventListener("visibilitychange",c,!1),h})}function Fd(s){try{var c=new Date(parseInt(s,10));if(!isNaN(c.getTime())&&!/[^0-9]/.test(s))return c.toUTCString()}catch(h){}return null}function mA(){return!(!ot("fireauth.oauthhelper",u)&&!ot("fireauth.iframe",u))}function Rz(){var s=u.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function kz(){var s=u.navigator;return s&&s.serviceWorker?ae().then(function(){return s.serviceWorker.ready}).then(function(c){return c.active||null}).o(function(){return null}):ae(null)}var vA={};function x_(s){vA[s]||(vA[s]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(s))}var T_;try{var C_={};Object.defineProperty(C_,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(C_,"abcd",{configurable:!0,enumerable:!0,value:2}),T_=C_.abcd==2}catch(s){T_=!1}function ne(s,c,h){T_?Object.defineProperty(s,c,{configurable:!0,enumerable:!0,value:h}):s[c]=h}function Mn(s,c){if(c)for(var h in c)c.hasOwnProperty(h)&&ne(s,h,c[h])}function ji(s){var c={};return Mn(c,s),c}function Az(s){var c={},h;for(h in s)s.hasOwnProperty(h)&&(c[h]=s[h]);return c}function Dz(s,c){if(!c||!c.length)return!0;if(!s)return!1;for(var h=0;h<c.length;h++){var v=s[c[h]];if(v==null||v==="")return!1}return!0}function I_(s){var c=s;if(typeof s=="object"&&s!=null){c="length"in s?[]:{};for(var h in s)ne(c,h,I_(s[h]))}return c}function R_(s){var c=s&&(s[N_]?"phone":null);if(c&&s&&s[D_]){ne(this,"uid",s[D_]),ne(this,"displayName",s[gA]||null);var h=null;s[A_]&&(h=new Date(s[A_]).toUTCString()),ne(this,"enrollmentTime",h),ne(this,"factorId",c)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}R_.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function k_(s){try{var c=new Ud(s)}catch(h){c=null}return c}var gA="displayName",A_="enrolledAt",D_="mfaEnrollmentId",N_="phoneInfo";function Ud(s){R_.call(this,s),ne(this,"phoneNumber",s[N_])}q(Ud,R_),Ud.prototype.w=function(){var s=Ud.ab.w.call(this);return s.phoneNumber=this.phoneNumber,s};function Nz(s){var c={},h=s[Pz],v=s[Mz],b=s[Lz];if(s=k_(s[Oz]),!b||b!=Hp&&b!=Bd&&!h||b==Bd&&!v||b==P_&&!s)throw Error("Invalid checkActionCode response!");b==Bd?(c[bA]=h||null,c[_A]=h||null,c[yA]=v):(c[bA]=v||null,c[_A]=v||null,c[yA]=h||null),c[Fz]=s||null,ne(this,Bz,b),ne(this,Uz,I_(c))}var P_="REVERT_SECOND_FACTOR_ADDITION",Hp="EMAIL_SIGNIN",Bd="VERIFY_AND_CHANGE_EMAIL",Pz="email",Oz="mfaInfo",Mz="newEmail",Lz="requestType",yA="email",bA="fromEmail",Fz="multiFactorInfo",_A="previousEmail",Uz="data",Bz="operation";function O_(s){s=ir(s);var c=qr(s,wA)||null,h=qr(s,EA)||null,v=qr(s,SA)||null;if(v=v&&qz[v]||null,!c||!h||!v)throw new O("argument-error",wA+", "+EA+"and "+SA+" are required in a valid action code URL.");Mn(this,{apiKey:c,operation:v,code:h,continueUrl:qr(s,Hz)||null,languageCode:qr(s,Vz)||null,tenantId:qr(s,jz)||null})}var wA="apiKey",EA="oobCode",Hz="continueUrl",Vz="languageCode",SA="mode",jz="tenantId",qz={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:P_,signIn:Hp,verifyAndChangeEmail:Bd,verifyEmail:"VERIFY_EMAIL"};function xA(s){try{return new O_(s)}catch(c){return null}}function Vp(s){var c=s[Wz];if(typeof c=="undefined")throw new O("missing-continue-uri");if(typeof c!="string"||typeof c=="string"&&!c.length)throw new O("invalid-continue-uri");this.h=c,this.b=this.a=null,this.g=!1;var h=s[TA];if(h&&typeof h=="object"){c=h[AA];var v=h[RA];if(h=h[kA],typeof c=="string"&&c.length){if(this.a=c,typeof v!="undefined"&&typeof v!="boolean")throw new O("argument-error",RA+" property must be a boolean when specified.");if(this.g=!!v,typeof h!="undefined"&&(typeof h!="string"||typeof h=="string"&&!h.length))throw new O("argument-error",kA+" property must be a non empty string when specified.");this.b=h||null}else{if(typeof c!="undefined")throw new O("argument-error",AA+" property must be a non empty string when specified.");if(typeof v!="undefined"||typeof h!="undefined")throw new O("missing-android-pkg-name")}}else if(typeof h!="undefined")throw new O("argument-error",TA+" property must be a non null object when specified.");if(this.f=null,(c=s[IA])&&typeof c=="object"){if(c=c[DA],typeof c=="string"&&c.length)this.f=c;else if(typeof c!="undefined")throw new O("argument-error",DA+" property must be a non empty string when specified.")}else if(typeof c!="undefined")throw new O("argument-error",IA+" property must be a non null object when specified.");if(c=s[M_],typeof c!="undefined"&&typeof c!="boolean")throw new O("argument-error",M_+" property must be a boolean when specified.");if(this.c=!!c,s=s[CA],typeof s!="undefined"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new O("argument-error",CA+" property must be a non empty string when specified.");this.i=s||null}var TA="android",CA="dynamicLinkDomain",M_="handleCodeInApp",IA="iOS",Wz="url",RA="installApp",kA="minimumVersion",AA="packageName",DA="bundleId";function jp(s){var c={};c.continueUrl=s.h,c.canHandleCodeInApp=s.c,(c.androidPackageName=s.a)&&(c.androidMinimumVersion=s.b,c.androidInstallApp=s.g),c.iOSBundleId=s.f,c.dynamicLinkDomain=s.i;for(var h in c)c[h]===null&&delete c[h];return c}function zz(s){return Sp(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}var Hd=null;function Gz(s){var c=[];return Kz(s,function(h){c.push(h)}),c}function Kz(s,c){function h(H){for(;v<s.length;){var V=s.charAt(v++),he=Hd[V];if(he!=null)return he;if(!/^[\s\xa0]*$/.test(V))throw Error("Unknown base64 encoding at char: "+V)}return H}Yz();for(var v=0;;){var b=h(-1),E=h(0),T=h(64),k=h(64);if(k===64&&b===-1)break;c(b<<2|E>>4),T!=64&&(c(E<<4&240|T>>2),k!=64&&c(T<<6&192|k))}}function Yz(){if(!Hd){Hd={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=["+/=","+/","-_=","-_.","-_"],h=0;5>h;h++)for(var v=s.concat(c[h].split("")),b=0;b<v.length;b++){var E=v[b];Hd[E]===void 0&&(Hd[E]=b)}}}function qp(s){var c=NA(s);if(!(c&&c.sub&&c.iss&&c.aud&&c.exp))throw Error("Invalid JWT");this.h=s,this.a=c.exp,this.i=c.sub,s=Date.now()/1e3,this.g=c.iat||(s>this.a?this.a:s),this.b=c.provider_id||c.firebase&&c.firebase.sign_in_provider||null,this.f=c.firebase&&c.firebase.tenant||null,this.c=!!c.is_anonymous||this.b=="anonymous"}qp.prototype.T=function(){return this.f},qp.prototype.l=function(){return this.c},qp.prototype.toString=function(){return this.h};function Wp(s){try{return new qp(s)}catch(c){return null}}function NA(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var c=(4-s.length%4)%4,h=0;h<c;h++)s+=".";try{var v=Gz(s);for(s=[],h=c=0;c<v.length;){var b=v[c++];if(128>b)s[h++]=String.fromCharCode(b);else if(191<b&&224>b){var E=v[c++];s[h++]=String.fromCharCode((b&31)<<6|E&63)}else if(239<b&&365>b){E=v[c++];var T=v[c++],k=v[c++],H=((b&7)<<18|(E&63)<<12|(T&63)<<6|k&63)-65536;s[h++]=String.fromCharCode(55296+(H>>10)),s[h++]=String.fromCharCode(56320+(H&1023))}else E=v[c++],T=v[c++],s[h++]=String.fromCharCode((b&15)<<12|(E&63)<<6|T&63)}return JSON.parse(s.join(""))}catch(V){}return null}var PA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zp=["client_id","response_type","scope","redirect_uri","state"],L_={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:zp},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:zp},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:zp},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:PA},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function F_(s){for(var c in L_)if(L_[c].fa==s)return L_[c];return null}function OA(s){var c={};c["facebook.com"]=LA,c["google.com"]=UA,c["github.com"]=FA,c["twitter.com"]=BA;var h=s&&s[MA];try{if(h)return c[h]?new c[h](s):new qi(s);if(typeof s[U_]!="undefined")return new B_(s)}catch(v){}return null}var U_="idToken",MA="providerId";function B_(s){var c=s[MA];if(!c&&s[U_]){var h=Wp(s[U_]);h&&h.b&&(c=h.b)}if(!c)throw Error("Invalid additional user info!");(c=="anonymous"||c=="custom")&&(c=null),h=!1,typeof s.isNewUser!="undefined"?h=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(h=!0),ne(this,"providerId",c),ne(this,"isNewUser",h)}function qi(s){B_.call(this,s),s=cu(s.rawUserInfo||"{}"),ne(this,"profile",I_(s||{}))}q(qi,B_);function LA(s){if(qi.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}q(LA,qi);function FA(s){if(qi.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");ne(this,"username",this.profile&&this.profile.login||null)}q(FA,qi);function UA(s){if(qi.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}q(UA,qi);function BA(s){if(qi.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ne(this,"username",s.screenName||null)}q(BA,qi);function HA(s){var c=ir(s),h=qr(c,"link"),v=qr(ir(h),"link");return c=qr(c,"deep_link_id"),qr(ir(c),"link")||c||v||h||s}function Gp(s,c){if(!s&&!c)throw new O("internal-error","Internal assert: no raw session string available");if(s&&c)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=c||null,this.type=this.a?Vd:Kp}var Vd="enroll",Kp="signin";Gp.prototype.Ha=function(){return this.a?ae(this.a):ae(this.b)},Gp.prototype.w=function(){return this.type==Vd?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function du(){}du.prototype.ka=function(){},du.prototype.b=function(){},du.prototype.c=function(){},du.prototype.w=function(){};function fu(s,c){return s.then(function(h){if(h[_i]){var v=Wp(h[_i]);if(!v||c!=v.i)throw new O("user-mismatch");return h}throw new O("user-mismatch")}).o(function(h){throw h&&h.code&&h.code==et+"user-not-found"?new O("user-mismatch"):h})}function Ia(s,c){if(c)this.a=c;else throw new O("internal-error","failed to construct a credential");ne(this,"providerId",s),ne(this,"signInMethod",s)}Ia.prototype.ka=function(s){return u0(s,H_(this))},Ia.prototype.b=function(s,c){var h=H_(this);return h.idToken=c,c0(s,h)},Ia.prototype.c=function(s,c){return fu(d0(s,H_(this)),c)};function H_(s){return{pendingToken:s.a,requestUri:"http://localhost"}}Ia.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Xz(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new Ia(s.providerId,s.pendingToken)}catch(c){}return null}function Io(s,c,h){if(this.a=null,c.idToken||c.accessToken)c.idToken&&ne(this,"idToken",c.idToken),c.accessToken&&ne(this,"accessToken",c.accessToken),c.nonce&&!c.pendingToken&&ne(this,"nonce",c.nonce),c.pendingToken&&(this.a=c.pendingToken);else if(c.oauthToken&&c.oauthTokenSecret)ne(this,"accessToken",c.oauthToken),ne(this,"secret",c.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");ne(this,"providerId",s),ne(this,"signInMethod",h)}Io.prototype.ka=function(s){return u0(s,V_(this))},Io.prototype.b=function(s,c){var h=V_(this);return h.idToken=c,c0(s,h)},Io.prototype.c=function(s,c){var h=V_(this);return fu(d0(s,h),c)};function V_(s){var c={};return s.idToken&&(c.id_token=s.idToken),s.accessToken&&(c.access_token=s.accessToken),s.secret&&(c.oauth_token_secret=s.secret),c.providerId=s.providerId,s.nonce&&!s.a&&(c.nonce=s.nonce),c={postBody:Zk(c).toString(),requestUri:"http://localhost"},s.a&&(delete c.postBody,c.pendingToken=s.a),c}Io.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function $z(s){if(s&&s.providerId&&s.signInMethod){var c={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new Io(s.providerId,c,s.signInMethod)}catch(h){}}return null}function Ra(s,c){this.Qc=c||[],Mn(this,{providerId:s,isOAuthProvider:!0}),this.Ib={},this.pb=(F_(s)||{}).Ja||null,this.ob=null}Ra.prototype.Ka=function(s){return this.Ib=is(s),this};function VA(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Ra.call(this,s,[])}q(VA,Ra);function Er(s){Ra.call(this,s,zp),this.a=[]}q(Er,Ra),Er.prototype.Ca=function(s){return To(this.a,s)||this.a.push(s),this},Er.prototype.Qb=function(){return ga(this.a)},Er.prototype.credential=function(s,c){var h;if(w(s)?h={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:h={idToken:s||null,accessToken:c||null},!h.idToken&&!h.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new Io(this.providerId,h,this.providerId)};function ka(){Er.call(this,"facebook.com")}q(ka,Er),ne(ka,"PROVIDER_ID","facebook.com"),ne(ka,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function jA(s){if(!s)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=s;return w(s)&&(c=s.accessToken),new ka().credential({accessToken:c})}function Aa(){Er.call(this,"github.com")}q(Aa,Er),ne(Aa,"PROVIDER_ID","github.com"),ne(Aa,"GITHUB_SIGN_IN_METHOD","github.com");function qA(s){if(!s)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=s;return w(s)&&(c=s.accessToken),new Aa().credential({accessToken:c})}function Da(){Er.call(this,"google.com"),this.Ca("profile")}q(Da,Er),ne(Da,"PROVIDER_ID","google.com"),ne(Da,"GOOGLE_SIGN_IN_METHOD","google.com");function WA(s,c){var h=s;return w(s)&&(h=s.idToken,c=s.accessToken),new Da().credential({idToken:h,accessToken:c})}function hu(){Ra.call(this,"twitter.com",PA)}q(hu,Ra),ne(hu,"PROVIDER_ID","twitter.com"),ne(hu,"TWITTER_SIGN_IN_METHOD","twitter.com");function zA(s,c){var h=s;if(w(h)||(h={oauthToken:s,oauthTokenSecret:c}),!h.oauthToken||!h.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Io("twitter.com",h,"twitter.com")}function us(s,c,h){this.a=s,this.f=c,ne(this,"providerId","password"),ne(this,"signInMethod",h===Wr.EMAIL_LINK_SIGN_IN_METHOD?Wr.EMAIL_LINK_SIGN_IN_METHOD:Wr.EMAIL_PASSWORD_SIGN_IN_METHOD)}us.prototype.ka=function(s){return this.signInMethod==Wr.EMAIL_LINK_SIGN_IN_METHOD?Pe(s,MG,{email:this.a,oobCode:this.f}):Pe(s,bD,{email:this.a,password:this.f})},us.prototype.b=function(s,c){return this.signInMethod==Wr.EMAIL_LINK_SIGN_IN_METHOD?Pe(s,LG,{idToken:c,email:this.a,oobCode:this.f}):Pe(s,yD,{idToken:c,email:this.a,password:this.f})},us.prototype.c=function(s,c){return fu(this.ka(s),c)},us.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Qz(s){return s&&s.email&&s.password?new us(s.email,s.password,s.signInMethod):null}function Wr(){Mn(this,{providerId:"password",isOAuthProvider:!1})}function GA(s,c){if(c=j_(c),!c)throw new O("argument-error","Invalid email link!");return new us(s,c.code,Wr.EMAIL_LINK_SIGN_IN_METHOD)}function j_(s){return s=HA(s),(s=xA(s))&&s.operation===Hp?s:null}Mn(Wr,{PROVIDER_ID:"password"}),Mn(Wr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Mn(Wr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function cs(s){if(!(s.eb&&s.cb||s.La&&s.ea))throw new O("internal-error");this.a=s,ne(this,"providerId","phone"),this.fa="phone",ne(this,"signInMethod","phone")}cs.prototype.ka=function(s){return s.fb(jd(this))},cs.prototype.b=function(s,c){var h=jd(this);return h.idToken=c,Pe(s,n6,h)},cs.prototype.c=function(s,c){var h=jd(this);return h.operation="REAUTH",s=Pe(s,r6,h),fu(s,c)},cs.prototype.w=function(){var s={providerId:"phone"};return this.a.eb&&(s.verificationId=this.a.eb),this.a.cb&&(s.verificationCode=this.a.cb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function Jz(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var c={};return ct(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(h){s[h]&&(c[h]=s[h])}),new cs(c)}return null}function jd(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.eb,code:s.a.cb}}function Ro(s){try{this.a=s||J.auth()}catch(c){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Mn(this,{providerId:"phone",isOAuthProvider:!1})}Ro.prototype.fb=function(s,c){var h=this.a.a;return ae(c.verify()).then(function(v){if(typeof v!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(c.type){case"recaptcha":var b=w(s)?s.session:null,E=w(s)?s.phoneNumber:s,T;return b&&b.type==Vd?T=b.Ha().then(function(k){return CG(h,{idToken:k,phoneEnrollmentInfo:{phoneNumber:E,recaptchaToken:v}})}):b&&b.type==Kp?T=b.Ha().then(function(k){return IG(h,{mfaPendingCredential:k,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:v}})}):T=TG(h,{phoneNumber:E,recaptchaToken:v}),T.then(function(k){return typeof c.reset=="function"&&c.reset(),k},function(k){throw typeof c.reset=="function"&&c.reset(),k});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function KA(s,c){if(!s)throw new O("missing-verification-id");if(!c)throw new O("missing-verification-code");return new cs({eb:s,cb:c})}Mn(Ro,{PROVIDER_ID:"phone"}),Mn(Ro,{PHONE_SIGN_IN_METHOD:"phone"});function q_(s){if(s.temporaryProof&&s.phoneNumber)return new cs({La:s.temporaryProof,ea:s.phoneNumber});var c=s&&s.providerId;if(!c||c==="password")return null;var h=s&&s.oauthAccessToken,v=s&&s.oauthTokenSecret,b=s&&s.nonce,E=s&&s.oauthIdToken,T=s&&s.pendingToken;try{switch(c){case"google.com":return WA(E,h);case"facebook.com":return jA(h);case"github.com":return qA(h);case"twitter.com":return zA(h,v);default:return h||v||E||T?T?c.indexOf("saml.")==0?new Ia(c,T):new Io(c,{pendingToken:T,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},c):new Er(c).credential({idToken:E,accessToken:h,rawNonce:b}):null}}catch(k){return null}}function W_(s){if(!s.isOAuthProvider)throw new O("invalid-oauth-provider")}function yi(s,c,h,v,b,E,T){if(this.c=s,this.b=c||null,this.g=h||null,this.f=v||null,this.i=E||null,this.h=T||null,this.a=b||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}yi.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},yi.prototype.T=function(){return this.h},yi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function YA(s){return s=s||{},s.type?new yi(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&mt(s.error),s.postBody,s.tenantId):null}function Zz(){this.b=null,this.a=[]}var z_=null;function eG(s){var c=z_;c.a.push(s),c.b||(c.b=function(h){for(var v=0;v<c.a.length;v++)c.a[v](h)},s=ot("universalLinks.subscribe",u),typeof s=="function"&&s(null,c.b))}function G_(s){var c="unauthorized-domain",h=void 0,v=ir(s);s=v.a,v=v.c,v=="chrome-extension"?h=vk("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):v=="http"||v=="https"?h=vk("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):c="operation-not-supported-in-this-environment",O.call(this,c,h)}q(G_,O);function qd(s,c,h){O.call(this,s,h),s=c||{},s.Jb&&ne(this,"email",s.Jb),s.ea&&ne(this,"phoneNumber",s.ea),s.credential&&ne(this,"credential",s.credential),s.Zb&&ne(this,"tenantId",s.Zb)}q(qd,O),qd.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var c=this.credential&&this.credential.w();return c&&tr(s,c),s},qd.prototype.toJSON=function(){return this.w()};function Yp(s){if(s.code){var c=s.code||"";c.indexOf(et)==0&&(c=c.substring(et.length));var h={credential:q_(s),Zb:s.tenantId};if(s.email)h.Jb=s.email;else if(s.phoneNumber)h.ea=s.phoneNumber;else if(!h.credential)return new O(c,s.message||void 0);return new qd(c,h,s.message)}return null}function Wd(){}Wd.prototype.c=null;function XA(s){return s.c||(s.c=s.b())}var K_;function Xp(){}q(Xp,Wd),Xp.prototype.a=function(){var s=$A(this);return s?new ActiveXObject(s):new XMLHttpRequest},Xp.prototype.b=function(){var s={};return $A(this)&&(s[0]=!0,s[1]=!0),s};function $A(s){if(!s.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],h=0;h<c.length;h++){var v=c[h];try{return new ActiveXObject(v),s.f=v}catch(b){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}K_=new Xp;function $p(){}q($p,Wd),$p.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest!="undefined")return new QA;throw Error("Unsupported browser")},$p.prototype.b=function(){return{}};function QA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=M(this.qc,this),this.a.onerror=M(this.Sb,this),this.a.onprogress=M(this.rc,this),this.a.ontimeout=M(this.vc,this)}t=QA.prototype,t.open=function(s,c,h){if(h!=null&&!h)throw Error("Only async requests are supported.");this.a.open(s,c)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Y_(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Y_(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Y_(this,1)};function Y_(s,c){s.readyState=c,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function X_(s,c,h){this.reset(s,c,h,void 0,void 0)}X_.prototype.a=null;var tG=0;X_.prototype.reset=function(s,c,h,v,b){typeof b=="number"||tG++,v||K(),delete this.a};function $_(s){this.f=s,this.b=this.c=this.a=null}function zd(s,c){this.name=s,this.value=c}zd.prototype.toString=function(){return this.name};var JA=new zd("SEVERE",1e3),Q_=new zd("WARNING",900),nG=new zd("CONFIG",700),rG=new zd("FINE",500);function ZA(s){return s.c?s.c:s.a?ZA(s.a):(Zl("Root logger has no level set."),null)}$_.prototype.log=function(s,c,h){if(s.value>=ZA(this).value)for(_(c)&&(c=c()),s=new X_(s,String(c),this.f),h&&(s.a=h),h=this;h;)h=h.a};var J_={},Qp=null;function Z_(s){Qp||(Qp=new $_(""),J_[""]=Qp,Qp.c=nG);var c;if(!(c=J_[s])){c=new $_(s);var h=s.lastIndexOf("."),v=s.substr(h+1);h=Z_(s.substr(0,h)),h.b||(h.b={}),h.b[v]=c,c.a=h,J_[s]=c}return c}function zr(s,c){s&&s.log(rG,c,void 0)}function Jp(s){this.f=s}q(Jp,Wd),Jp.prototype.a=function(){return new Zp(this.f)},Jp.prototype.b=function(s){return function(){return s}}({});function Zp(s){On.call(this),this.u=s,this.h=void 0,this.readyState=e0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Z_("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}q(Zp,On);var e0=0;t=Zp.prototype,t.open=function(s,c){if(this.readyState!=e0)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=c,this.readyState=1,Kd(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var c={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(c.body=s),this.u.fetch(new Request(this.f,c)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Gd(this)),this.readyState=e0},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Kd(this)),this.a&&(this.readyState=3,Kd(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof u.ReadableStream!="undefined"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,eD(this)):s.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function eD(s){s.c.read().then(s.pc.bind(s)).catch(s.Ua.bind(s))}t.pc=function(s){if(this.a){var c=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});c&&(this.response=this.responseText+=c),s.done?Gd(this):Kd(this),this.readyState==3&&eD(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,Gd(this))},t.sc=function(s){this.a&&(this.response=s,Gd(this))},t.Ua=function(s){var c=this.i;c&&c.log(Q_,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Gd(this)};function Gd(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Kd(s)}t.setRequestHeader=function(s,c){this.l.append(s,c)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(Q_,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(Q_,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var c=this.b.entries(),h=c.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=c.next();return s.join(`\r
`)};function Kd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Zp.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function Yd(s){On.call(this),this.headers=new ou,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=tD,this.u=this.S=!1}q(Yd,On);var tD="";Yd.prototype.b=Z_("goog.net.XhrIo");var iG=/^https?$/i,oG=["POST","PUT"];function sG(s,c,h,v,b){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+c);h=h?h.toUpperCase():"GET",s.l=c,s.h="",s.R=h,s.J=!1,s.c=!0,s.a=s.D?s.D.a():K_.a(),s.C=s.D?XA(s.D):XA(K_),s.a.onreadystatechange=M(s.Vb,s);try{zr(s.b,ko(s,"Opening Xhr")),s.O=!0,s.a.open(h,String(c),!0),s.O=!1}catch(T){zr(s.b,ko(s,"Error opening Xhr: "+T.message)),nD(s,T);return}c=v||"";var E=new ou(s.headers);b&&dz(b,function(T,k){E.set(k,T)}),b=kW(E.Y()),v=u.FormData&&c instanceof u.FormData,!To(oG,h)||b||v||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),E.forEach(function(T,k){this.a.setRequestHeader(k,T)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{oD(s),0<s.g&&(s.u=aG(s.a),zr(s.b,ko(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=M(s.Ma,s)):s.s=h_(s.Ma,s.g,s)),zr(s.b,ko(s,"Sending request")),s.i=!0,s.a.send(c),s.i=!1}catch(T){zr(s.b,ko(s,"Send error: "+T.message)),nD(s,T)}}function aG(s){return vi&&_k(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function lG(s){return s.toLowerCase()=="content-type"}t=Yd.prototype,t.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zr(this.b,ko(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function nD(s,c){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=c,rD(s),em(s)}function rD(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(zr(this.b,ko(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),em(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),em(this,!0)),Yd.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?iD(this):this.Jc())},t.Jc=function(){iD(this)};function iD(s){if(s.c&&typeof l!="undefined"){if(s.C[1]&&Xd(s)==4&&tm(s)==2)zr(s.b,ko(s,"Local request error detected and ignored"));else if(s.i&&Xd(s)==4)h_(s.Vb,0,s);else if(s.dispatchEvent("readystatechange"),Xd(s)==4){zr(s.b,ko(s,"Request complete")),s.c=!1;try{var c=tm(s);e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var v;if(!(v=h)){var b;if(b=c===0){var E=String(s.l).match(Qk)[1]||null;if(!E&&u.self&&u.self.location){var T=u.self.location.protocol;E=T.substr(0,T.length-1)}b=!iG.test(E?E.toLowerCase():"")}v=b}if(v)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var k=2<Xd(s)?s.a.statusText:""}catch(H){zr(s.b,"Can not get status: "+H.message),k=""}s.h=k+" ["+tm(s)+"]",rD(s)}}finally{em(s)}}}}function em(s,c){if(s.a){oD(s);var h=s.a,v=s.C[0]?m:null;s.a=null,s.C=null,c||s.dispatchEvent("ready");try{h.onreadystatechange=v}catch(b){(s=s.b)&&s.log(JA,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}}function oD(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(u.clearTimeout(s.s),s.s=null)}function Xd(s){return s.a?s.a.readyState:0}function tm(s){try{return 2<Xd(s)?s.a.status:-1}catch(c){return-1}}function uG(s){try{return s.a?s.a.responseText:""}catch(c){return zr(s.b,"Can not get responseText: "+c.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case tD:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(JA,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(c){return zr(this.b,"Can not get response: "+c.message),null}};function ko(s,c){return c+" ["+s.R+" "+s.l+" "+tm(s)+"]"}function Na(s){var c=fG;this.g=[],this.u=c,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Na.prototype.cancel=function(s){if(this.a)this.c instanceof Na&&this.c.cancel();else{if(this.b){var c=this.b;delete this.b,s?c.cancel(s):(c.l--,0>=c.l&&c.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new Qd(this),nm(this),$d(this,!1,s))}},Na.prototype.m=function(s,c){this.i=!1,$d(this,s,c)};function $d(s,c,h){s.a=!0,s.c=h,s.f=!c,aD(s)}function nm(s){if(s.a){if(!s.v)throw new rm(s);s.v=!1}}function cG(s,c){t0(s,null,c,void 0)}function t0(s,c,h,v){s.g.push([c,h,v]),s.a&&aD(s)}Na.prototype.then=function(s,c,h){var v,b,E=new Ae(function(T,k){v=T,b=k});return t0(this,v,function(T){T instanceof Qd?E.cancel():b(T)}),E.then(s,c,h)},Na.prototype.$goog_Thenable=!0;function sD(s){return RW(s.g,function(c){return _(c[1])})}function aD(s){if(s.h&&s.a&&sD(s)){var c=s.h,h=im[c];h&&(u.clearTimeout(h.a),delete im[c]),s.h=0}s.b&&(s.b.l--,delete s.b),c=s.c;for(var v=h=!1;s.g.length&&!s.i;){var b=s.g.shift(),E=b[0],T=b[1];if(b=b[2],E=s.f?T:E)try{var k=E.call(b||s.s,c);k!==void 0&&(s.f=s.f&&(k==c||k instanceof Error),s.c=c=k),(XR(c)||typeof u.Promise=="function"&&c instanceof u.Promise)&&(v=!0,s.i=!0)}catch(H){c=H,s.f=!0,sD(s)||(h=!0)}}s.c=c,v&&(k=M(s.m,s,!0),v=M(s.m,s,!1),c instanceof Na?(t0(c,k,v),c.C=!0):c.then(k,v)),h&&(c=new lD(c),im[c.a]=c,s.h=c.a)}function rm(){_r.call(this)}q(rm,_r),rm.prototype.message="Deferred has already fired",rm.prototype.name="AlreadyCalledError";function Qd(){_r.call(this)}q(Qd,_r),Qd.prototype.message="Deferred was canceled",Qd.prototype.name="CanceledError";function lD(s){this.a=u.setTimeout(M(this.c,this),0),this.b=s}lD.prototype.c=function(){throw delete im[this.a],this.b};var im={};function n0(s){var c={},h=c.document||document,v=lk(s).toString(),b=kp(document,"SCRIPT"),E={Wb:b,Ma:void 0},T=new Na(E),k=null,H=c.timeout!=null?c.timeout:5e3;return 0<H&&(k=window.setTimeout(function(){om(b,!0);var V=new r0(pG,"Timeout reached for loading script "+v);nm(T),$d(T,!1,V)},H),E.Ma=k),b.onload=b.onreadystatechange=function(){b.readyState&&b.readyState!="loaded"&&b.readyState!="complete"||(om(b,c.xd||!1,k),nm(T),$d(T,!0,null))},b.onerror=function(){om(b,!0,k);var V=new r0(hG,"Error while loading script "+v);nm(T),$d(T,!1,V)},E=c.attributes||{},tr(E,{type:"text/javascript",charset:"UTF-8"}),Ek(b,E),qW(b,s),dG(h).appendChild(b),T}function dG(s){var c;return(c=(s||document).getElementsByTagName("HEAD"))&&c.length!=0?c[0]:s.documentElement}function fG(){if(this&&this.Wb){var s=this.Wb;s&&s.tagName=="SCRIPT"&&om(s,!0,this.Ma)}}function om(s,c,h){h!=null&&u.clearTimeout(h),s.onload=m,s.onerror=m,s.onreadystatechange=m,c&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var hG=0,pG=1;function r0(s,c){var h="Jsloader error (code #"+s+")";c&&(h+=": "+c),_r.call(this,h),this.code=s}q(r0,_r);function sm(s){this.f=s}q(sm,Wd),sm.prototype.a=function(){return new this.f},sm.prototype.b=function(){return{}};function bi(s,c,h){if(this.c=s,s=c||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||mG,this.g=is(s.secureTokenHeaders||vG),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||gG,this.a=is(s.firebaseHeaders||yG),h&&(this.a["X-Client-Version"]=h,this.g["X-Client-Version"]=h),h=Vi()=="Node",h=u.XMLHttpRequest||h&&J.INTERNAL.node&&J.INTERNAL.node.XMLHttpRequest,!h&&!gi())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gi()?this.f=new Jp(self):uA()?this.f=new sm(h):this.f=new $p,this.b=null}var i0,_i="idToken",mG=new ls(3e4,6e4),vG={"Content-Type":"application/x-www-form-urlencoded"},gG=new ls(3e4,6e4),yG={"Content-Type":"application/json"};function uD(s,c){c?s.a["X-Firebase-Locale"]=c:delete s.a["X-Firebase-Locale"]}function pu(s,c){c&&(s.l=o0("https://securetoken.googleapis.com/v1/token",c),s.h=o0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",c),s.i=o0("https://identitytoolkit.googleapis.com/v2/",c))}function o0(s,c){return s=ir(s),c=ir(c.url),s.f=s.a+s.f,Ad(s,c.c),s.a=c.a,Dd(s,c.g),s.toString()}function cD(s,c){c?(s.a["X-Client-Version"]=c,s.g["X-Client-Version"]=c):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}bi.prototype.T=function(){return this.b};function dD(s,c,h,v,b,E,T){wz()||gi()?s=M(s.u,s):(i0||(i0=new Ae(function(k,H){_G(k,H)})),s=M(s.s,s)),s(c,h,v,b,E,T)}bi.prototype.u=function(s,c,h,v,b,E){if(gi()&&(typeof u.fetch=="undefined"||typeof u.Headers=="undefined"||typeof u.Request=="undefined"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var T=new Yd(this.f);if(E){T.g=Math.max(0,E);var k=setTimeout(function(){T.dispatchEvent("timeout")},E)}Yk(T,"complete",function(){k&&clearTimeout(k);var H=null;try{H=JSON.parse(uG(this))||null}catch(V){H=null}c&&c(H)}),f_(T,"ready",function(){k&&clearTimeout(k),Hk(this)}),f_(T,"timeout",function(){k&&clearTimeout(k),Hk(this),c&&c(null)}),sG(T,s,h,v,b)};var bG=new Bi(Tp,"https://apis.google.com/js/client.js?onload=%{onload}"),fD="__fcb"+Math.floor(1e6*Math.random()).toString();function _G(s,c){if(((window.gapi||{}).client||{}).request)s();else{u[fD]=function(){((window.gapi||{}).client||{}).request?s():c(Error("CORS_UNSUPPORTED"))};var h=Kb(bG,{onload:fD});cG(n0(h),function(){c(Error("CORS_UNSUPPORTED"))})}}bi.prototype.s=function(s,c,h,v,b){var E=this;i0.then(function(){window.gapi.client.setApiKey(E.c);var T=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:h,body:v,headers:b,authType:"none",callback:function(k){window.gapi.auth.setToken(T),c&&c(k)}})}).o(function(T){c&&c({error:{message:T&&T.message||"CORS_UNSUPPORTED"}})})};function wG(s,c){return new Ae(function(h,v){c.grant_type=="refresh_token"&&c.refresh_token||c.grant_type=="authorization_code"&&c.code?dD(s,s.l+"?key="+encodeURIComponent(s.c),function(b){b?b.error?v(h0(b)):b.access_token&&b.refresh_token?h(b):v(new O("internal-error")):v(new O("network-request-failed"))},"POST",Zk(c).toString(),s.g,s.m.get()):v(new O("internal-error"))})}function hD(s,c,h,v,b,E,T){var k=ir(c+h);Et(k,"key",s.c),T&&Et(k,"cb",Date.now().toString());var H=v=="GET";if(H)for(var V in b)b.hasOwnProperty(V)&&Et(k,V,b[V]);return new Ae(function(he,We){dD(s,k.toString(),function(Fe){Fe?Fe.error?We(h0(Fe,E||{})):he(Fe):We(new O("network-request-failed"))},v,H?void 0:nA(fA(b)),s.a,s.v.get())})}function Pa(s){if(s=s.email,typeof s!="string"||!xz.test(s))throw new O("invalid-email")}function pD(s){"email"in s&&Pa(s)}function EG(s,c){return Pe(s,NG,{identifier:c,continueUri:Bp()?Od():"http://localhost"}).then(function(h){return h.signinMethods||[]})}function SG(s){return Pe(s,WG,{}).then(function(c){return c.authorizedDomains||[]})}function or(s){if(!s[_i])throw s.mfaPendingCredential?new O("multi-factor-auth-required",null,is(s)):new O("internal-error")}function s0(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new O("internal-error")}else{if(!s.sessionInfo)throw new O("missing-verification-id");if(!s.code)throw new O("missing-verification-code")}}bi.prototype.zb=function(){return Pe(this,YG,{})},bi.prototype.Bb=function(s,c){return Pe(this,gD,{idToken:s,email:c})},bi.prototype.Cb=function(s,c){return Pe(this,yD,{idToken:s,password:c})};var xG={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=bi.prototype,t.Db=function(s,c){var h={idToken:s},v=[];return rk(xG,function(b,E){var T=c[E];T===null?v.push(b):E in c&&(h[E]=T)}),v.length&&(h.deleteAttribute=v),Pe(this,gD,h)},t.vb=function(s,c){return s={requestType:"PASSWORD_RESET",email:s},tr(s,c),Pe(this,qG,s)},t.wb=function(s,c){return s={requestType:"EMAIL_SIGNIN",email:s},tr(s,c),Pe(this,HG,s)},t.ub=function(s,c){return s={requestType:"VERIFY_EMAIL",idToken:s},tr(s,c),Pe(this,VG,s)},t.Eb=function(s,c,h){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:c},tr(s,h),Pe(this,jG,s)};function TG(s,c){return Pe(s,KG,c)}t.fb=function(s){return Pe(this,t6,s)};function CG(s,c){return Pe(s,XG,c).then(function(h){return h.phoneSessionInfo.sessionInfo})}function mD(s){if(!s.phoneVerificationInfo)throw new O("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new O("missing-verification-code")}function IG(s,c){return Pe(s,$G,c).then(function(h){return h.phoneResponseInfo.sessionInfo})}function RG(s,c,h){return Pe(s,OG,{idToken:c,deleteProvider:h})}function a0(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new O("internal-error")}function l0(s,c){return c.oauthIdToken&&c.providerId&&c.providerId.indexOf("oidc.")==0&&!c.pendingToken&&(s.sessionId?c.nonce=s.sessionId:s.postBody&&(s=new Sa(s.postBody),v_(s,"nonce")&&(c.nonce=s.get("nonce")))),c}function vD(s){var c=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",c=Yp(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",c=Yp(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",c=Yp(s)):s.errorMessage&&(c=_D(s.errorMessage)),c)throw c;or(s)}function u0(s,c){return c.returnIdpCredential=!0,Pe(s,QG,c)}function c0(s,c){return c.returnIdpCredential=!0,Pe(s,ZG,c)}function d0(s,c){return c.returnIdpCredential=!0,c.autoCreate=!1,Pe(s,JG,c)}function f0(s){if(!s.oobCode)throw new O("invalid-action-code")}t.nb=function(s,c){return Pe(this,GG,{oobCode:s,newPassword:c})},t.Ra=function(s){return Pe(this,AG,{oobCode:s})},t.jb=function(s){return Pe(this,kG,{oobCode:s})};var kG={endpoint:"setAccountInfo",A:f0,Z:"email",B:!0},AG={endpoint:"resetPassword",A:f0,G:function(s){var c=s.requestType;if(!c||!s.email&&c!="EMAIL_SIGNIN"&&c!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},DG={endpoint:"signupNewUser",A:function(s){if(Pa(s),!s.password)throw new O("weak-password")},G:or,V:!0,B:!0},NG={endpoint:"createAuthUri",B:!0},PG={endpoint:"deleteAccount",N:["idToken"]},OG={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new O("internal-error")}},MG={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Pa,G:or,V:!0,B:!0},LG={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Pa,G:or,V:!0},FG={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:mD,G:or,B:!0,Na:!0},UG={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:mD,G:or,B:!0,Na:!0},BG={endpoint:"getAccountInfo"},HG={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Pa(s)},Z:"email",B:!0},VG={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},jG={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},qG={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new O("internal-error");Pa(s)},Z:"email",B:!0},WG={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},zG={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new O("internal-error")}},GG={endpoint:"resetPassword",A:f0,Z:"email",B:!0},KG={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},gD={endpoint:"setAccountInfo",N:["idToken"],A:pD,V:!0},yD={endpoint:"setAccountInfo",N:["idToken"],A:function(s){if(pD(s),!s.password)throw new O("weak-password")},G:or,V:!0},YG={endpoint:"signupNewUser",G:or,V:!0,B:!0},XG={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new O("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},$G={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},QG={endpoint:"verifyAssertion",A:a0,Ya:l0,G:vD,V:!0,B:!0},JG={endpoint:"verifyAssertion",A:a0,Ya:l0,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(s.errorMessage)throw _D(s.errorMessage);or(s)},V:!0,B:!0},ZG={endpoint:"verifyAssertion",A:function(s){if(a0(s),!s.idToken)throw new O("internal-error")},Ya:l0,G:vD,V:!0},e6={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new O("invalid-custom-token")},G:or,V:!0,B:!0},bD={endpoint:"verifyPassword",A:function(s){if(Pa(s),!s.password)throw new O("wrong-password")},G:or,V:!0,B:!0},t6={endpoint:"verifyPhoneNumber",A:s0,G:or,B:!0},n6={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new O("internal-error");s0(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Yp(s);or(s)}},r6={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:s0,G:or,B:!0},i6={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[_i]^!!s.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function Pe(s,c,h){if(!Dz(h,c.N))return it(new O("internal-error"));var v=!!c.Na,b=c.Ub||"POST",E;return ae(h).then(c.A).then(function(){return c.V&&(h.returnSecureToken=!0),c.B&&s.b&&typeof h.tenantId=="undefined"&&(h.tenantId=s.b),v?hD(s,s.i,c.endpoint,b,h,c.Hb,c.lb||!1):hD(s,s.h,c.endpoint,b,h,c.Hb,c.lb||!1)}).then(function(T){return E=T,c.Ya?c.Ya(h,E):E}).then(c.G).then(function(){if(!c.Z)return E;if(!(c.Z in E))throw new O("internal-error");return E[c.Z]})}function _D(s){return h0({error:{errors:[{message:s}],code:400,message:s}})}function h0(s,c){var h=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",v={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(h=v[h]?new O(v[h]):null)return h;h=s.error&&s.error.message||"",v={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},tr(v,c||{}),c=(c=h.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<c.length?c[1]:void 0;for(var b in v)if(h.indexOf(b)===0)return new O(v[b],c);return!c&&s&&(c=Ld(s)),new O("internal-error",c)}function o6(s){this.b=s,this.a=null,this.rb=s6(this)}function s6(s){return f6().then(function(){return new Ae(function(c,h){ot("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(v){function b(){clearTimeout(E),c()}s.a=v,s.a.restyle({setHideOnLeave:!1});var E=setTimeout(function(){h(Error("Network Error"))},d6.get());v.ping(b).then(b,function(){h(Error("Network Error"))})})})})}function a6(s,c){return s.rb.then(function(){return new Ae(function(h){s.a.send(c.type,c,h,ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function l6(s,c){s.rb.then(function(){s.a.register("authEvent",c,ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var u6=new Bi(Tp,"https://apis.google.com/js/api.js?onload=%{onload}"),c6=new ls(3e4,6e4),d6=new ls(5e3,15e3),am=null;function f6(){return am||(am=new Ae(function(s,c){function h(){pA(),ot("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){pA(),c(Error("Network Error"))},timeout:c6.get()})}if(ot("gapi.iframes.Iframe"))s();else if(ot("gapi.load"))h();else{var v="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[v]=function(){ot("gapi.load")?h():c(Error("Network Error"))},v=Kb(u6,{onload:v}),ae(n0(v)).o(function(){c(Error("Network Error"))})}}).o(function(s){throw am=null,s}))}function wD(s,c,h,v){this.l=s,this.h=c,this.i=h,this.g=v,this.f=null,this.g?(s=ir(this.g.url),s=Fp(s.c,s.a,s.g,"/emulator/auth/iframe")):s=Fp("https",this.l,null,"/__/auth/iframe"),this.a=s,Et(this.a,"apiKey",this.h),Et(this.a,"appName",this.i),this.b=null,this.c=[]}wD.prototype.toString=function(){return this.f?Et(this.a,"v",this.f):Hi(this.a.b,"v"),this.b?Et(this.a,"eid",this.b):Hi(this.a.b,"eid"),this.c.length?Et(this.a,"fw",this.c.join(",")):Hi(this.a.b,"fw"),this.a.toString()};function p0(s,c,h,v,b,E){this.u=s,this.s=c,this.c=h,this.m=v,this.v=E,this.i=this.g=this.l=null,this.a=b,this.h=this.f=null}p0.prototype.yb=function(s){return this.h=s,this},p0.prototype.toString=function(){if(this.v){var s=ir(this.v.url);s=Fp(s.c,s.a,s.g,"/emulator/auth/handler")}else s=Fp("https",this.u,null,"/__/auth/handler");if(Et(s,"apiKey",this.s),Et(s,"appName",this.c),Et(s,"authType",this.m),this.a.isOAuthProvider){var c=this.a;try{var h=J.app(this.c).auth().la()}catch(k){h=null}c.ob=h,Et(s,"providerId",this.a.providerId),h=this.a,c=fA(h.Ib);for(var v in c)c[v]=c[v].toString();v=h.Qc,c=is(c);for(var b=0;b<v.length;b++){var E=v[b];E in c&&delete c[E]}h.pb&&h.ob&&!c[h.pb]&&(c[h.pb]=h.ob),ya(c)||Et(s,"customParameters",Ld(c))}if(typeof this.a.Qb=="function"&&(h=this.a.Qb(),h.length&&Et(s,"scopes",h.join(","))),this.l?Et(s,"redirectUrl",this.l):Hi(s.b,"redirectUrl"),this.g?Et(s,"eventId",this.g):Hi(s.b,"eventId"),this.i?Et(s,"v",this.i):Hi(s.b,"v"),this.b)for(var T in this.b)this.b.hasOwnProperty(T)&&!qr(s,T)&&Et(s,T,this.b[T]);return this.h?Et(s,"tid",this.h):Hi(s.b,"tid"),this.f?Et(s,"eid",this.f):Hi(s.b,"eid"),T=m0(this.c),T.length&&Et(s,"fw",T.join(",")),s.toString()};function m0(s){try{return J.app(s).auth().Ga()}catch(c){return[]}}function ED(s,c,h,v,b,E){this.s=s,this.g=c,this.b=h,this.f=E,this.c=v||null,this.i=b||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function SD(s){var c=Od();return SG(s).then(function(h){e:{var v=ir(c),b=v.c;v=v.a;for(var E=0;E<h.length;E++){var T=h[E],k=v,H=b;if(T.indexOf("chrome-extension://")==0?k=ir(T).a==k&&H=="chrome-extension":H!="http"&&H!="https"?k=!1:Sz.test(T)?k=k==T:(T=T.split(".").join("\\."),k=new RegExp("^(.+\\."+T+"|"+T+")$","i").test(k)),k){h=!0;break e}}h=!1}if(!h)throw new G_(Od())})}function xD(s){return s.m||(s.m=Up().then(function(){if(!s.u){var c=s.c,h=s.i,v=m0(s.b),b=new wD(s.s,s.g,s.b,s.f);b.f=c,b.b=h,b.c=ga(v||[]),s.u=b.toString()}s.v=new o6(s.u),h6(s)})),s.m}t=ED.prototype,t.Ob=function(s,c,h){var v=new O("popup-closed-by-user"),b=new O("web-storage-unsupported"),E=this,T=!1;return this.ma().then(function(){p6(E).then(function(k){k||(s&&xa(s),c(b),T=!0)})}).o(function(){}).then(function(){if(!T)return Ez(s)}).then(function(){if(!T)return iu(h).then(function(){c(v)})})},t.Xb=function(){var s=ln();return!Md(s)&&!hA(s)},t.Tb=function(){return!1},t.Mb=function(s,c,h,v,b,E,T,k){if(!s)return it(new O("popup-blocked"));if(T&&!Md())return this.ma().o(function(V){xa(s),b(V)}),v(),ae();this.a||(this.a=SD(TD(this)));var H=this;return this.a.then(function(){var V=H.ma().o(function(he){throw xa(s),b(he),he});return v(),V}).then(function(){if(W_(h),!T){var V=Jd(H.s,H.g,H.b,c,h,null,E,H.c,void 0,H.i,k,H.f);oA(V,s)}}).o(function(V){throw V.code=="auth/network-request-failed"&&(H.a=null),V})};function TD(s){return s.l||(s.C=s.c?lu(s.c,m0(s.b)):null,s.l=new bi(s.g,xo(s.i),s.C),s.f&&pu(s.l,s.f)),s.l}t.Nb=function(s,c,h,v){this.a||(this.a=SD(TD(this)));var b=this;return this.a.then(function(){W_(c);var E=Jd(b.s,b.g,b.b,s,c,Od(),h,b.c,void 0,b.i,v,b.f);oA(E)}).o(function(E){throw E.code=="auth/network-request-failed"&&(b.a=null),E})},t.ma=function(){var s=this;return xD(this).then(function(){return s.v.rb}).o(function(){throw s.a=null,new O("network-request-failed")})},t.$b=function(){return!0};function Jd(s,c,h,v,b,E,T,k,H,V,he,We){return s=new p0(s,c,h,v,b,We),s.l=E,s.g=T,s.i=k,s.b=is(H||null),s.f=V,s.yb(he).toString()}function h6(s){if(!s.v)throw Error("IfcHandler must be initialized!");l6(s.v,function(c){var h={};if(c&&c.authEvent){var v=!1;for(c=YA(c.authEvent),h=0;h<s.h.length;h++)v=s.h[h](c)||v;return h={},h.status=v?"ACK":"ERROR",ae(h)}return h.status="ERROR",ae(h)})}function p6(s){var c={type:"webStorageSupport"};return xD(s).then(function(){return a6(s.v,c)}).then(function(h){if(h&&h.length&&typeof h[0].webStorageSupport!="undefined")return h[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Sa=function(s){mi(this.h,function(c){return c==s})};function CD(s){if(this.a=s||J.INTERNAL.reactNative&&J.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=CD.prototype,t.get=function(s){return ae(this.a.getItem(s)).then(function(c){return c&&cu(c)})},t.set=function(s,c){return ae(this.a.setItem(s,Ld(c)))},t.U=function(s){return ae(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function ID(s){this.b=s,this.a={},this.f=M(this.c,this)}var RD=[];function m6(){var s=gi()?self:null;if(ct(RD,function(h){h.b==s&&(c=h)}),!c){var c=new ID(s);RD.push(c)}return c}ID.prototype.c=function(s){var c=s.data.eventType,h=s.data.eventId,v=this.a[c];if(v&&0<v.length){s.ports[0].postMessage({status:"ack",eventId:h,eventType:c,response:null});var b=[];ct(v,function(E){b.push(ae().then(function(){return E(s.origin,s.data.data)}))}),Ak(b).then(function(E){var T=[];ct(E,function(k){T.push({fulfilled:k.Pb,value:k.value,reason:k.reason?k.reason.message:void 0})}),ct(T,function(k){for(var H in k)typeof k[H]=="undefined"&&delete k[H]}),s.ports[0].postMessage({status:"done",eventId:h,eventType:c,response:T})})}};function kD(s,c,h){ya(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[c]=="undefined"&&(s.a[c]=[]),s.a[c].push(h)}function AD(s){this.a=s}AD.prototype.postMessage=function(s,c){this.a.postMessage(s,c)};function DD(s){this.c=s,this.b=!1,this.a=[]}function ND(s,c,h,v){var b,E=h||{},T,k,H,V=null;if(s.b)return it(Error("connection_unavailable"));var he=v?800:50,We=typeof MessageChannel!="undefined"?new MessageChannel:null;return new Ae(function(Fe,Zt){We?(b=Math.floor(Math.random()*Math.pow(10,20)).toString(),We.port1.start(),k=setTimeout(function(){Zt(Error("unsupported_event"))},he),T=function(Ao){Ao.data.eventId===b&&(Ao.data.status==="ack"?(clearTimeout(k),H=setTimeout(function(){Zt(Error("timeout"))},3e3)):Ao.data.status==="done"?(clearTimeout(H),typeof Ao.data.response!="undefined"?Fe(Ao.data.response):Zt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(H),Zt(Error("invalid_response"))))},V={messageChannel:We,onMessage:T},s.a.push(V),We.port1.addEventListener("message",T),s.c.postMessage({eventType:c,eventId:b,data:E},[We.port2])):Zt(Error("connection_unavailable"))}).then(function(Fe){return v0(s,V),Fe}).o(function(Fe){throw v0(s,V),Fe})}function v0(s,c){if(c){var h=c.messageChannel,v=c.onMessage;h&&(h.port1.removeEventListener("message",v),h.port1.close()),mi(s.a,function(b){return b==c})}}DD.prototype.close=function(){for(;0<this.a.length;)v0(this,this.a[0]);this.b=!0};function PD(){if(!b0())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;gi()&&self?(this.v=m6(),kD(this.v,"keyChanged",function(c,h){return LD(s).then(function(v){return 0<v.length&&ct(s.a,function(b){b(v)}),{keyProcessed:To(v,h.key)}})}),kD(this.v,"ping",function(){return ae(["keyChanged"])})):kz().then(function(c){(s.h=c)&&(s.g=new DD(new AD(c)),ND(s.g,"ping",null,!0).then(function(h){h[0].fulfilled&&To(h[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var g0;function v6(s){return new Ae(function(c,h){var v=s.m.deleteDatabase("firebaseLocalStorageDb");v.onsuccess=function(){c()},v.onerror=function(b){h(Error(b.target.error))}})}function OD(s){return new Ae(function(c,h){var v=s.m.open("firebaseLocalStorageDb",1);v.onerror=function(b){try{b.preventDefault()}catch(E){}h(Error(b.target.error))},v.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(E){h(E)}},v.onsuccess=function(b){b=b.target.result,b.objectStoreNames.contains("firebaseLocalStorage")?c(b):v6(s).then(function(){return OD(s)}).then(function(E){c(E)}).o(function(E){h(E)})}})}function y0(s){return s.i||(s.i=OD(s)),s.i}function lm(s,c){function h(b,E){y0(s).then(c).then(b).o(function(T){if(3<++v)E(T);else return y0(s).then(function(k){return k.close(),s.i=void 0,h(b,E)}).o(function(k){E(k)})})}var v=0;return new Ae(h)}function b0(){try{return!!u.indexedDB}catch(s){return!1}}function Zd(s){return s.objectStore("firebaseLocalStorage")}function ef(s,c){return s.transaction(["firebaseLocalStorage"],c?"readwrite":"readonly")}function mu(s){return new Ae(function(c,h){s.onsuccess=function(v){v&&v.target?c(v.target.result):c()},s.onerror=function(v){h(v.target.error)}})}t=PD.prototype,t.set=function(s,c){var h=this,v=!1;return lm(this,function(b){return b=Zd(ef(b,!0)),mu(b.get(s))}).then(function(b){return lm(h,function(E){if(E=Zd(ef(E,!0)),b)return b.value=c,mu(E.put(b));h.b++,v=!0;var T={};return T.fbase_key=s,T.value=c,mu(E.add(T))})}).then(function(){return h.c[s]=c,MD(h,s)}).oa(function(){v&&h.b--})};function MD(s,c){return s.g&&s.h&&Rz()===s.h?ND(s.g,"keyChanged",{key:c},s.s).then(function(){}).o(function(){}):ae()}t.get=function(s){return lm(this,function(c){return mu(Zd(ef(c,!1)).get(s))}).then(function(c){return c&&c.value})},t.U=function(s){var c=this,h=!1;return lm(this,function(v){return h=!0,c.b++,mu(Zd(ef(v,!0)).delete(s))}).then(function(){return delete c.c[s],MD(c,s)}).oa(function(){h&&c.b--})};function LD(s){return y0(s).then(function(c){var h=Zd(ef(c,!1));return h.getAll?mu(h.getAll()):new Ae(function(v,b){var E=[],T=h.openCursor();T.onsuccess=function(k){(k=k.target.result)?(E.push(k.value),k.continue()):v(E)},T.onerror=function(k){b(k.target.error)}})}).then(function(c){var h={},v=[];if(s.b==0){for(v=0;v<c.length;v++)h[c[v].fbase_key]=c[v].value;v=sA(s.c,h),s.c=h}return v})}t.ca=function(s){this.a.length==0&&g6(this),this.a.push(s)},t.ia=function(s){mi(this.a,function(c){return c==s}),this.a.length==0&&FD(this)};function g6(s){function c(){s.f=setTimeout(function(){s.l=LD(s).then(function(h){0<h.length&&ct(s.a,function(v){v(h)})}).then(function(){c()}).o(function(h){h.message!="STOP_EVENT"&&c()})},800)}FD(s),c()}function FD(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function UD(s){var c=this,h=null;this.a=[],this.type="indexedDB",this.c=s,this.b=ae().then(function(){if(b0()){var v=Ca(),b="__sak"+v;return g0||(g0=new PD),h=g0,h.set(b,v).then(function(){return h.get(b)}).then(function(E){if(E!==v)throw Error("indexedDB not supported!");return h.U(b)}).then(function(){return h}).o(function(){return c.c})}return c.c}).then(function(v){return c.type=v.type,v.ca(function(b){ct(c.a,function(E){E(b)})}),v})}t=UD.prototype,t.get=function(s){return this.b.then(function(c){return c.get(s)})},t.set=function(s,c){return this.b.then(function(h){return h.set(s,c)})},t.U=function(s){return this.b.then(function(c){return c.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){mi(this.a,function(c){return c==s})};function tf(){this.a={},this.type="inMemory"}t=tf.prototype,t.get=function(s){return ae(this.a[s])},t.set=function(s,c){return this.a[s]=c,ae()},t.U=function(s){return delete this.a[s],ae()},t.ca=function(){},t.ia=function(){};function um(){if(!y6())throw Vi()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=BD()||J.INTERNAL.node.localStorage,this.type="localStorage"}function BD(){try{var s=u.localStorage,c=Ca();return s&&(s.setItem(c,"1"),s.removeItem(c)),s}catch(h){return null}}function y6(){var s=Vi()=="Node";if(s=BD()||s&&J.INTERNAL.node&&J.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(c){return!1}}t=um.prototype,t.get=function(s){var c=this;return ae().then(function(){var h=c.a.getItem(s);return cu(h)})},t.set=function(s,c){var h=this;return ae().then(function(){var v=Ld(c);v===null?h.U(s):h.a.setItem(s,v)})},t.U=function(s){var c=this;return ae().then(function(){c.a.removeItem(s)})},t.ca=function(s){u.window&&jr(u.window,"storage",s)},t.ia=function(s){u.window&&wr(u.window,"storage",s)};function _0(){this.type="nullStorage"}t=_0.prototype,t.get=function(){return ae(null)},t.set=function(){return ae()},t.U=function(){return ae()},t.ca=function(){},t.ia=function(){};function w0(){if(!b6())throw Vi()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=HD()||J.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function HD(){try{var s=u.sessionStorage,c=Ca();return s&&(s.setItem(c,"1"),s.removeItem(c)),s}catch(h){return null}}function b6(){var s=Vi()=="Node";if(s=HD()||s&&J.INTERNAL.node&&J.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(c){return!1}}t=w0.prototype,t.get=function(s){var c=this;return ae().then(function(){var h=c.a.getItem(s);return cu(h)})},t.set=function(s,c){var h=this;return ae().then(function(){var v=Ld(c);v===null?h.U(s):h.a.setItem(s,v)})},t.U=function(s){var c=this;return ae().then(function(){c.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function _6(){var s={};s.Browser=w6,s.Node=E6,s.ReactNative=S6,s.Worker=x6,this.a=s[Vi()]}var E0,w6={F:um,bb:w0},E6={F:um,bb:w0},S6={F:CD,bb:_0},x6={F:um,bb:_0},vu={rd:"local",NONE:"none",td:"session"};function T6(s){var c=new O("invalid-persistence-type"),h=new O("unsupported-persistence-type");e:{for(v in vu)if(vu[v]==s){var v=!0;break e}v=!1}if(!v||typeof s!="string")throw c;switch(Vi()){case"ReactNative":if(s==="session")throw h;break;case"Node":if(s!=="none")throw h;break;case"Worker":if(s==="session"||!b0()&&s!=="none")throw h;break;default:if(!E_()&&s!=="none")throw h}}function VD(){var s=!!(!hA(ln())&&__()),c=Md(),h=E_();this.m=s,this.h=c,this.l=h,this.a={},E0||(E0=new _6),s=E0;try{this.g=!y_()&&mA()||!u.indexedDB?new s.a.F:new UD(gi()?new tf:new s.a.F)}catch(v){this.g=new tf,this.h=!0}try{this.i=new s.a.bb}catch(v){this.i=new tf}this.v=new tf,this.f=M(this.Yb,this),this.b={}}var S0;function nf(){return S0||(S0=new VD),S0}function Oa(s,c){switch(c){case"session":return s.i;case"none":return s.v;default:return s.g}}function gu(s,c){return"firebase:"+s.name+(c?":"+c:"")}function C6(s,c,h){var v=gu(c,h),b=Oa(s,c.F);return s.get(c,h).then(function(E){var T=null;try{T=cu(u.localStorage.getItem(v))}catch(k){}if(T&&!E)return u.localStorage.removeItem(v),s.set(c,T,h);T&&E&&b.type!="localStorage"&&u.localStorage.removeItem(v)})}t=VD.prototype,t.get=function(s,c){return Oa(this,s.F).get(gu(s,c))};function yu(s,c,h){return h=gu(c,h),c.F=="local"&&(s.b[h]=null),Oa(s,c.F).U(h)}t.set=function(s,c,h){var v=gu(s,h),b=this,E=Oa(this,s.F);return E.set(v,c).then(function(){return E.get(v)}).then(function(T){s.F=="local"&&(b.b[v]=T)})},t.addListener=function(s,c,h){s=gu(s,c),this.l&&(this.b[s]=u.localStorage.getItem(s)),ya(this.a)&&(Oa(this,"local").ca(this.f),this.h||(y_()||!mA())&&u.indexedDB||!this.l||I6(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(h)},t.removeListener=function(s,c,h){s=gu(s,c),this.a[s]&&(mi(this.a[s],function(v){return v==h}),this.a[s].length==0&&delete this.a[s]),ya(this.a)&&(Oa(this,"local").ia(this.f),x0(this))};function I6(s){x0(s),s.c=setInterval(function(){for(var c in s.a){var h=u.localStorage.getItem(c),v=s.b[c];h!=v&&(s.b[c]=h,h=new wa({type:"storage",key:c,target:window,oldValue:v,newValue:h,a:!0}),s.Yb(h))}},1e3)}function x0(s){s.c&&(clearInterval(s.c),s.c=null)}t.Yb=function(s){if(s&&s.g){var c=s.a.key;if(c==null)for(var h in this.a){var v=this.b[h];typeof v=="undefined"&&(v=null);var b=u.localStorage.getItem(h);b!==v&&(this.b[h]=b,this.mb(h))}else if(c.indexOf("firebase:")==0&&this.a[c]){if(typeof s.a.a!="undefined"?Oa(this,"local").ia(this.f):x0(this),this.m){if(h=u.localStorage.getItem(c),v=s.a.newValue,v!==h)v!==null?u.localStorage.setItem(c,v):u.localStorage.removeItem(c);else if(this.b[c]===v&&typeof s.a.a=="undefined")return}var E=this;h=function(){(typeof s.a.a!="undefined"||E.b[c]!==u.localStorage.getItem(c))&&(E.b[c]=u.localStorage.getItem(c),E.mb(c))},vi&&os&&os==10&&u.localStorage.getItem(c)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(h,10):h()}}else ct(s,M(this.mb,this))},t.mb=function(s){this.a[s]&&ct(this.a[s],function(c){c()})};function R6(s){this.a=s,this.b=nf()}var T0={name:"authEvent",F:"local"};function k6(s){return s.b.get(T0,s.a).then(function(c){return YA(c)})}function A6(){this.a=nf()}function D6(){this.b=-1}function cm(s,c){this.b=jD,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=c,this.l=u.Int32Array?new Int32Array(64):Array(64),dm===void 0&&(u.Int32Array?dm=new Int32Array(zD):dm=zD),this.reset()}var dm;q(cm,D6);for(var jD=64,N6=jD-1,qD=[],C0=0;C0<N6;C0++)qD[C0]=0;var WD=Wb(128,qD);cm.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):ga(this.h)};function I0(s){for(var c=s.f,h=s.l,v=0,b=0;b<c.length;)h[v++]=c[b]<<24|c[b+1]<<16|c[b+2]<<8|c[b+3],b=4*v;for(c=16;64>c;c++){b=h[c-15]|0,v=h[c-2]|0;var E=(h[c-16]|0)+((b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3)|0,T=(h[c-7]|0)+((v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)|0;h[c]=E+T|0}v=s.a[0]|0,b=s.a[1]|0;var k=s.a[2]|0,H=s.a[3]|0,V=s.a[4]|0,he=s.a[5]|0,We=s.a[6]|0;for(E=s.a[7]|0,c=0;64>c;c++){var Fe=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&b^v&k^b&k)|0;T=V&he^~V&We,E=E+((V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7))|0,T=T+(dm[c]|0)|0,T=E+(T+(h[c]|0)|0)|0,E=We,We=he,he=V,V=H+T|0,H=k,k=b,b=v,v=T+Fe|0}s.a[0]=s.a[0]+v|0,s.a[1]=s.a[1]+b|0,s.a[2]=s.a[2]+k|0,s.a[3]=s.a[3]+H|0,s.a[4]=s.a[4]+V|0,s.a[5]=s.a[5]+he|0,s.a[6]=s.a[6]+We|0,s.a[7]=s.a[7]+E|0}function R0(s,c,h){h===void 0&&(h=c.length);var v=0,b=s.c;if(typeof c=="string")for(;v<h;)s.f[b++]=c.charCodeAt(v++),b==s.b&&(I0(s),b=0);else if(y(c))for(;v<h;){var E=c[v++];if(!(typeof E=="number"&&0<=E&&255>=E&&E==(E|0)))throw Error("message must be a byte array");s.f[b++]=E,b==s.b&&(I0(s),b=0)}else throw Error("message must be string or array");s.c=b,s.g+=h}var zD=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function GD(){cm.call(this,8,P6)}q(GD,cm);var P6=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function KD(s,c,h,v,b,E){this.v=s,this.i=c,this.l=h,this.m=v||null,this.u=b||null,this.s=E,this.h=c+":"+h,this.C=new A6,this.g=new R6(this.h),this.f=null,this.b=[],this.a=this.c=null}function fm(s){return new O("invalid-cordova-configuration",s)}t=KD.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Tz().then(function(){if(typeof ot("universalLinks.subscribe",u)!="function")throw fm("cordova-universal-links-plugin-fix is not installed");if(typeof ot("BuildInfo.packageName",u)=="undefined")throw fm("cordova-plugin-buildinfo is not installed");if(typeof ot("cordova.plugins.browsertab.openUrl",u)!="function")throw fm("cordova-plugin-browsertab is not installed");if(typeof ot("cordova.InAppBrowser.open",u)!="function")throw fm("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function O6(){for(var s=20,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function M6(s){var c=new GD;R0(c,s),s=[];var h=8*c.g;56>c.c?R0(c,WD,56-c.c):R0(c,WD,c.b-(c.c-56));for(var v=63;56<=v;v--)c.f[v]=h&255,h/=256;for(I0(c),v=h=0;v<c.i;v++)for(var b=24;0<=b;b-=8)s[h++]=c.a[v]>>b&255;return zz(s)}t.Ob=function(s,c){return c(new O("operation-not-supported-in-this-environment")),ae()},t.Mb=function(){return it(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(s,c,h,v){if(this.c)return it(new O("redirect-operation-pending"));var b=this,E=u.document,T=null,k=null,H=null,V=null;return this.c=ae().then(function(){return W_(c),XD(b)}).then(function(){return L6(b,s,c,h,v)}).then(function(){return new Ae(function(he,We){k=function(){var Fe=ot("cordova.plugins.browsertab.close",u);return he(),typeof Fe=="function"&&Fe(),b.a&&typeof b.a.close=="function"&&(b.a.close(),b.a=null),!1},b.Ea(k),H=function(){T||(T=iu(2e3).then(function(){We(new O("redirect-cancelled-by-user"))}))},V=function(){S_()&&H()},E.addEventListener("resume",H,!1),ln().toLowerCase().match(/android/)||E.addEventListener("visibilitychange",V,!1)}).o(function(he){return k0(b).then(function(){throw he})})}).oa(function(){H&&E.removeEventListener("resume",H,!1),V&&E.removeEventListener("visibilitychange",V,!1),T&&T.cancel(),k&&b.Sa(k),b.c=null})};function L6(s,c,h,v,b){var E=O6(),T=new yi(c,v,null,E,new O("no-auth-event"),null,b),k=ot("BuildInfo.packageName",u);if(typeof k!="string")throw new O("invalid-cordova-configuration");var H=ot("BuildInfo.displayName",u),V={};if(ln().toLowerCase().match(/iphone|ipad|ipod/))V.ibi=k;else if(ln().toLowerCase().match(/android/))V.apn=k;else return it(new O("operation-not-supported-in-this-environment"));H&&(V.appDisplayName=H),E=M6(E),V.sessionId=E;var he=Jd(s.v,s.i,s.l,c,h,null,v,s.m,V,s.u,b,s.s);return s.ma().then(function(){var We=s.h;return s.C.a.set(T0,T.w(),We)}).then(function(){var We=ot("cordova.plugins.browsertab.isAvailable",u);if(typeof We!="function")throw new O("invalid-cordova-configuration");var Fe=null;We(function(Zt){if(Zt){if(Fe=ot("cordova.plugins.browsertab.openUrl",u),typeof Fe!="function")throw new O("invalid-cordova-configuration");Fe(he)}else{if(Fe=ot("cordova.InAppBrowser.open",u),typeof Fe!="function")throw new O("invalid-cordova-configuration");Zt=ln(),s.a=Fe(he,Zt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Zt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function YD(s,c){for(var h=0;h<s.b.length;h++)try{s.b[h](c)}catch(v){}}function XD(s){return s.f||(s.f=s.ma().then(function(){return new Ae(function(c){function h(v){return c(v),s.Sa(h),!1}s.Ea(h),F6(s)})})),s.f}function k0(s){var c=null;return k6(s.g).then(function(h){return c=h,h=s.g,yu(h.b,T0,h.a)}).then(function(){return c})}function F6(s){function c(T){v=!0,b&&b.cancel(),k0(s).then(function(k){var H=h;if(k&&T&&T.url){var V=null;H=HA(T.url),H.indexOf("/__/auth/callback")!=-1&&(V=ir(H),V=cu(qr(V,"firebaseError")||null),V=(V=typeof V=="object"?mt(V):null)?new yi(k.c,k.b,null,null,V,null,k.T()):new yi(k.c,k.b,H,k.f,null,null,k.T())),H=V||h}YD(s,H)})}var h=new yi("unknown",null,null,null,new O("no-auth-event")),v=!1,b=iu(500).then(function(){return k0(s).then(function(){v||YD(s,h)})}),E=u.handleOpenURL;u.handleOpenURL=function(T){if(T.toLowerCase().indexOf(ot("BuildInfo.packageName",u).toLowerCase()+"://")==0&&c({url:T}),typeof E=="function")try{E(T)}catch(k){console.error(k)}},z_||(z_=new Zz),eG(c)}t.Ea=function(s){this.b.push(s),XD(this).o(function(c){c.code==="auth/invalid-cordova-configuration"&&(c=new yi("unknown",null,null,null,new O("no-auth-event")),s(c))})},t.Sa=function(s){mi(this.b,function(c){return c==s})};function U6(s){this.a=s,this.b=nf()}var A0={name:"pendingRedirect",F:"session"};function B6(s){return s.b.set(A0,"pending",s.a)}function D0(s){return yu(s.b,A0,s.a)}function H6(s){return s.b.get(A0,s.a).then(function(c){return c=="pending"})}function hm(s,c,h,v){this.i={},this.u=0,this.D=s,this.v=c,this.m=h,this.J=v,this.h=[],this.f=!1,this.l=M(this.s,this),this.b=new pm,this.C=new aN,this.g=new U6(rN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=$D(this.D,this.v,this.m,pi,this.J)}function $D(s,c,h,v,b){var E=J.SDK_VERSION||null;return b_()?new KD(s,c,h,E,v,b):new ED(s,c,h,E,v,b)}hm.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=$D(this.D,this.v,this.m,null,this.J),this.i={}};function QD(s){s.f||(s.f=!0,s.a.Ea(s.l));var c=s.a;return s.a.ma().o(function(h){throw s.a==c&&s.reset(),h})}function JD(s){s.a.Xb()&&QD(s).o(function(c){var h=new yi("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));P0(c)&&s.s(h)}),s.a.Tb()||oN(s.b)}function N0(s,c){To(s.h,c)||s.h.push(c),s.f||H6(s.g).then(function(h){h?D0(s.g).then(function(){QD(s).o(function(v){var b=new yi("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));P0(v)&&s.s(b)})}):JD(s)}).o(function(){JD(s)})}function ZD(s,c){mi(s.h,function(h){return h==c})}hm.prototype.s=function(s){if(!s)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var c=!1,h=0;h<this.h.length;h++){var v=this.h[h];if(v.Fb(s.c,s.b)){(c=this.c[s.c])&&(c.h(s,v),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),c=!0;break}}return oN(this.b),c};var V6=new ls(2e3,1e4),j6=new ls(3e4,6e4);hm.prototype.qa=function(){return this.b.qa()};function eN(s,c,h,v,b,E,T){return s.a.Mb(c,h,v,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},b,E,T)}function P0(s){return!!(s&&s.code=="auth/cordova-not-ready")}function tN(s,c,h,v,b){var E;return B6(s.g).then(function(){return s.a.Nb(c,h,v,b).o(function(T){if(P0(T))throw new O("operation-not-supported-in-this-environment");return E=T,D0(s.g).then(function(){throw E})}).then(function(){return s.a.$b()?new Ae(function(){}):D0(s.g).then(function(){return s.qa()}).then(function(){}).o(function(){})})})}function nN(s,c,h,v,b){return s.a.Ob(v,function(E){c.na(h,null,E,b)},V6.get())}var O0={};function rN(s,c,h){return s=s+":"+c,h&&(s=s+":"+h.url),s}function iN(s,c,h,v){var b=rN(c,h,v);return O0[b]||(O0[b]=new hm(s,c,h,v)),O0[b]}function pm(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}pm.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pm.prototype.h=function(s,c){if(s){this.reset(),this.g=!0;var h=s.c,v=s.b,b=s.a&&s.a.code=="auth/web-storage-unsupported",E=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!b&&!E),h!="unknown"||b||E?s.a?(Ma(this,!0,null,s.a),ae()):c.Fa(h,v)?q6(this,s,c):it(new O("invalid-auth-event")):(Ma(this,!1,null,null),ae())}else it(new O("invalid-auth-event"))};function oN(s){s.g||(s.g=!0,Ma(s,!1,null,null))}function mm(s){s.g&&!s.i&&Ma(s,!1,null,null)}function q6(s,c,h){h=h.Fa(c.c,c.b);var v=c.g,b=c.f,E=c.i,T=c.T(),k=!!c.c.match(/Redirect$/);h(v,b,T,E).then(function(H){Ma(s,k,H,null)}).o(function(H){Ma(s,k,null,H)})}function W6(s,c){if(s.b=function(){return it(c)},s.c.length)for(var h=0;h<s.c.length;h++)s.c[h](c)}function sN(s,c){if(s.b=function(){return ae(c)},s.f.length)for(var h=0;h<s.f.length;h++)s.f[h](c)}function Ma(s,c,h,v){c?v?W6(s,v):sN(s,h):sN(s,{user:null}),s.f=[],s.c=[]}pm.prototype.qa=function(){var s=this;return new Ae(function(c,h){s.b?s.b().then(c,h):(s.f.push(c),s.c.push(h),z6(s))})};function z6(s){var c=new O("timeout");s.a&&s.a.cancel(),s.a=iu(j6.get()).then(function(){s.b||(s.g=!0,Ma(s,!0,null,c))})}function aN(){}aN.prototype.h=function(s,c){if(s){var h=s.c,v=s.b;s.a?(c.na(s.c,null,s.a,s.b),ae()):c.Fa(h,v)?G6(s,c):it(new O("invalid-auth-event"))}else it(new O("invalid-auth-event"))};function G6(s,c){var h=s.b,v=s.c;c.Fa(v,h)(s.g,s.f,s.T(),s.i).then(function(b){c.na(v,b,null,h)}).o(function(b){c.na(v,null,b,h)})}function lN(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(s){this.ib=s},enumerable:!1})}function M0(s,c){this.a=c,ne(this,"verificationId",s)}M0.prototype.confirm=function(s){return s=KA(this.verificationId,s),this.a(s)};function L0(s,c,h,v){return new Ro(s).fb(c,h).then(function(b){return new M0(b,v)})}function K6(s){var c=NA(s);if(!(c&&c.exp&&c.auth_time&&c.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Mn(this,{token:s,expirationTime:Fd(1e3*c.exp),authTime:Fd(1e3*c.auth_time),issuedAtTime:Fd(1e3*c.iat),signInProvider:c.firebase&&c.firebase.sign_in_provider?c.firebase.sign_in_provider:null,signInSecondFactor:c.firebase&&c.firebase.sign_in_second_factor?c.firebase.sign_in_second_factor:null,claims:c})}function F0(s,c,h){var v=c&&c[cN];if(!v)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=is(c),this.g=h,this.c=new Gp(null,v),this.b=[];var b=this;ct(c[uN]||[],function(E){(E=k_(E))&&b.b.push(E)}),ne(this,"auth",this.a),ne(this,"session",this.c),ne(this,"hints",this.b)}var uN="mfaInfo",cN="mfaPendingCredential";F0.prototype.Rc=function(s){var c=this;return s.sb(this.a.a,this.c).then(function(h){var v=is(c.f);return delete v[uN],delete v[cN],tr(v,h),c.g(v)})};function U0(s,c,h,v){O.call(this,"multi-factor-auth-required",v,c),this.b=new F0(s,c,h),ne(this,"resolver",this.b)}q(U0,O);function dN(s,c,h){if(s&&w(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new U0(c,s.serverResponse,h,s.message)}catch(v){}return null}function fN(){}fN.prototype.sb=function(s,c,h){return c.type==Vd?Y6(this,s,c,h):X6(this,s,c)};function Y6(s,c,h,v){return h.Ha().then(function(b){return b={idToken:b},typeof v!="undefined"&&(b.displayName=v),tr(b,{phoneVerificationInfo:jd(s.a)}),Pe(c,FG,b)})}function X6(s,c,h){return h.Ha().then(function(v){return v={mfaPendingCredential:v},tr(v,{phoneVerificationInfo:jd(s.a)}),Pe(c,UG,v)})}function B0(s){ne(this,"factorId",s.fa),this.a=s}q(B0,fN);function hN(s){if(B0.call(this,s),this.a.fa!=Ro.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}q(hN,B0);function bu(s,c){rr.call(this,s);for(var h in c)this[h]=c[h]}q(bu,rr);function H0(s,c){this.a=s,this.b=[],this.c=M(this.yc,this),jr(this.a,"userReloaded",this.c);var h=[];c&&c.multiFactor&&c.multiFactor.enrolledFactors&&ct(c.multiFactor.enrolledFactors,function(v){var b=null,E={};if(v){v.uid&&(E[D_]=v.uid),v.displayName&&(E[gA]=v.displayName),v.enrollmentTime&&(E[A_]=new Date(v.enrollmentTime).toISOString()),v.phoneNumber&&(E[N_]=v.phoneNumber);try{b=new Ud(E)}catch(T){}v=b}else v=null;v&&h.push(v)}),vm(this,h)}function $6(s){var c=[];return ct(s.mfaInfo||[],function(h){(h=k_(h))&&c.push(h)}),c}t=H0.prototype,t.yc=function(s){vm(this,$6(s.hd))};function vm(s,c){s.b=c,ne(s,"enrolledFactors",c)}t.Rb=function(){return this.a.I().then(function(s){return new Gp(s,null)})},t.fc=function(s,c){var h=this,v=this.a.a;return this.Rb().then(function(b){return s.sb(v,b,c)}).then(function(b){return Wi(h.a,b),h.a.reload()})},t.bd=function(s){var c=this,h=typeof s=="string"?s:s.uid,v=this.a.a;return this.a.I().then(function(b){return Pe(v,i6,{idToken:b,mfaEnrollmentId:h})}).then(function(b){var E=IW(c.b,function(T){return T.uid!=h});return vm(c,E),Wi(c.a,b),c.a.reload().o(function(T){if(T.code!="auth/user-token-expired")throw T})})},t.w=function(){return{multiFactor:{enrolledFactors:Sp(this.b,function(s){return s.w()})}}};function V0(s,c,h){if(this.h=s,this.i=c,this.g=h,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}V0.prototype.start=function(){this.a=this.c,j0(this,!0)};function Q6(s,c){return c?(s.a=s.c,s.g()):(c=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),c)}function j0(s,c){s.stop(),s.b=iu(Q6(s,c)).then(function(){return Iz()}).then(function(){return s.h()}).then(function(){j0(s,!0)}).o(function(h){s.i(h)&&j0(s,!1)})}V0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function q0(s){this.f=s,this.b=this.a=null,this.c=Date.now()}q0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function pN(s,c){typeof c=="undefined"&&(s.b?(c=s.b,c=c.a-c.g):c=0),s.c=Date.now()+1e3*c}function mN(s,c){s.b=Wp(c[_i]||""),s.a=c.refreshToken,c=c.expiresIn,pN(s,typeof c!="undefined"?Number(c):void 0)}function J6(s,c){s.b=c.b,s.a=c.a,s.c=c.c}function Z6(s,c){return wG(s.f,c).then(function(h){return s.b=Wp(h.access_token),s.a=h.refresh_token,pN(s,h.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(h){throw h.code=="auth/user-token-expired"&&(s.a=null),h})}q0.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?it(new O("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?Z6(this,{grant_type:"refresh_token",refresh_token:this.a}):ae(null):ae({accessToken:this.b.toString(),refreshToken:this.a})};function gm(s,c){this.a=s||null,this.b=c||null,Mn(this,{lastSignInTime:Fd(c||null),creationTime:Fd(s||null)})}function e5(s){return new gm(s.a,s.b)}gm.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function t5(s,c,h,v,b,E){Mn(this,{uid:s,displayName:v||null,photoURL:b||null,email:h||null,phoneNumber:E||null,providerId:c})}function Sr(s,c,h){this.J=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var v=J.SDK_VERSION?lu(J.SDK_VERSION):null;this.a=new bi(this.l,xo(pi),v),s.emulatorConfig&&pu(this.a,s.emulatorConfig),this.b=new q0(this.a),X0(this,c[_i]),mN(this.b,c),ne(this,"refreshToken",this.b.a),gN(this,h||{}),On.call(this),this.R=!1,this.s&&Ta()&&(this.i=iN(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=n5(this),this.aa=M(this.hb,this);var b=this;this.ya=null,this.Oa=function(E){b.wa(E.h)},this.ja=null,this.Aa=function(E){pu(b.a,E.c)},this.X=null,this.$=[],this.Ba=function(E){rf(b,E.f)},this.ba=null,this.O=new H0(this,h),ne(this,"multiFactor",this.O)}q(Sr,On),Sr.prototype.wa=function(s){this.ya=s,uD(this.a,s)},Sr.prototype.la=function(){return this.ya};function W0(s,c){s.ja&&wr(s.ja,"languageCodeChanged",s.Oa),(s.ja=c)&&jr(c,"languageCodeChanged",s.Oa)}function z0(s,c){s.X&&wr(s.X,"emulatorConfigChanged",s.Aa),(s.X=c)&&jr(c,"emulatorConfigChanged",s.Aa)}function rf(s,c){s.$=c,cD(s.a,J.SDK_VERSION?lu(J.SDK_VERSION,s.$):null)}Sr.prototype.Ga=function(){return ga(this.$)};function G0(s,c){s.ba&&wr(s.ba,"frameworkChanged",s.Ba),(s.ba=c)&&jr(c,"frameworkChanged",s.Ba)}Sr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function K0(s){try{return J.app(s.m).auth()}catch(c){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function n5(s){return new V0(function(){return s.I(!0)},function(c){return!!(c&&c.code=="auth/network-request-failed")},function(){var c=s.b.c-Date.now()-3e5;return 0<c?c:0})}function vN(s){s.D||s.u.b||(s.u.start(),wr(s,"tokenChanged",s.aa),jr(s,"tokenChanged",s.aa))}function Y0(s){wr(s,"tokenChanged",s.aa),s.u.stop()}function X0(s,c){s.za=c,ne(s,"_lat",c)}function r5(s,c){mi(s.S,function(h){return h==c})}function La(s){for(var c=[],h=0;h<s.S.length;h++)c.push(s.S[h](s));return Ak(c).then(function(){return s})}function of(s){s.i&&!s.R&&(s.R=!0,N0(s.i,s))}function gN(s,c){Mn(s,{uid:c.uid,displayName:c.displayName||null,photoURL:c.photoURL||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,isAnonymous:c.isAnonymous||!1,tenantId:c.tenantId||null,metadata:new gm(c.createdAt,c.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}ne(Sr.prototype,"providerId","firebase");function yN(){}function $0(s){return ae().then(function(){if(s.D)throw new O("app-deleted")})}function Q0(s){return Sp(s.providerData,function(c){return c.providerId})}function J0(s,c){c&&(bN(s,c.providerId),s.providerData.push(c))}function bN(s,c){mi(s.providerData,function(h){return h.providerId==c})}function ds(s,c,h){(c!="uid"||h)&&s.hasOwnProperty(c)&&ne(s,c,h)}function ym(s,c){s!=c&&(Mn(s,{uid:c.uid,displayName:c.displayName,photoURL:c.photoURL,email:c.email,emailVerified:c.emailVerified,phoneNumber:c.phoneNumber,isAnonymous:c.isAnonymous,tenantId:c.tenantId,providerData:[]}),c.metadata?ne(s,"metadata",e5(c.metadata)):ne(s,"metadata",new gm),ct(c.providerData,function(h){J0(s,h)}),J6(s.b,c.b),ne(s,"refreshToken",s.b.a),vm(s.O,c.O.b))}t=Sr.prototype,t.reload=function(){var s=this;return zt(this,$0(this).then(function(){return Z0(s).then(function(){return La(s)}).then(yN)}))};function Z0(s){return s.I().then(function(c){var h=s.isAnonymous;return i5(s,c).then(function(){return h||ds(s,"isAnonymous",!1),c})})}t.oc=function(s){return this.I(s).then(function(c){return new K6(c)})},t.I=function(s){var c=this;return zt(this,$0(this).then(function(){return c.b.getToken(s)}).then(function(h){if(!h)throw new O("internal-error");return h.accessToken!=c.za&&(X0(c,h.accessToken),c.dispatchEvent(new bu("tokenChanged"))),ds(c,"refreshToken",h.refreshToken),h.accessToken}))};function Wi(s,c){c[_i]&&s.za!=c[_i]&&(mN(s.b,c),s.dispatchEvent(new bu("tokenChanged")),X0(s,c[_i]),ds(s,"refreshToken",s.b.a))}function i5(s,c){return Pe(s.a,BG,{idToken:c}).then(M(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new O("internal-error");s=s[0],gN(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var c=o5(s),h=0;h<c.length;h++)J0(this,c[h]);ds(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new bu("userReloaded",{hd:s}))};function o5(s){return(s=s.providerUserInfo)&&s.length?Sp(s,function(c){return new t5(c.rawId,c.providerId,c.email,c.displayName,c.photoUrl,c.phoneNumber)}):[]}t.Lc=function(s){return x_("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(s)},t.tb=function(s){var c=this,h=null;return zt(this,s.c(this.a,this.uid).then(function(v){return Wi(c,v),h=sf(c,v,"reauthenticate"),c.h=null,c.reload()}).then(function(){return h}),!0)};function bm(s,c){return Z0(s).then(function(){if(To(Q0(s),c))return La(s).then(function(){throw new O("provider-already-linked")})})}t.Cc=function(s){return x_("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(s)},t.qb=function(s){var c=this,h=null;return zt(this,bm(this,s.providerId).then(function(){return c.I()}).then(function(v){return s.b(c.a,v)}).then(function(v){return h=sf(c,v,"link"),_N(c,v)}).then(function(){return h}))},t.Dc=function(s,c){var h=this;return zt(this,bm(this,"phone").then(function(){return L0(K0(h),s,c,M(h.qb,h))}))},t.Mc=function(s,c){var h=this;return zt(this,ae().then(function(){return L0(K0(h),s,c,M(h.tb,h))}),!0)};function sf(s,c,h){var v=q_(c);return c=OA(c),ji({user:s,credential:v,additionalUserInfo:c,operationType:h})}function _N(s,c){return Wi(s,c),s.reload().then(function(){return s})}t.Bb=function(s){var c=this;return zt(this,this.I().then(function(h){return c.a.Bb(h,s)}).then(function(h){return Wi(c,h),c.reload()}))},t.ed=function(s){var c=this;return zt(this,this.I().then(function(h){return s.b(c.a,h)}).then(function(h){return Wi(c,h),c.reload()}))},t.Cb=function(s){var c=this;return zt(this,this.I().then(function(h){return c.a.Cb(h,s)}).then(function(h){return Wi(c,h),c.reload()}))},t.Db=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return $0(this);var c=this;return zt(this,this.I().then(function(h){return c.a.Db(h,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(h){return Wi(c,h),ds(c,"displayName",h.displayName||null),ds(c,"photoURL",h.photoUrl||null),ct(c.providerData,function(v){v.providerId==="password"&&(ne(v,"displayName",c.displayName),ne(v,"photoURL",c.photoURL))}),La(c)}).then(yN))},t.cd=function(s){var c=this;return zt(this,Z0(this).then(function(h){return To(Q0(c),s)?RG(c.a,h,[s]).then(function(v){var b={};return ct(v.providerUserInfo||[],function(E){b[E.providerId]=!0}),ct(Q0(c),function(E){b[E]||bN(c,E)}),b[Ro.PROVIDER_ID]||ne(c,"phoneNumber",null),La(c)}):La(c).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var s=this;return zt(this,this.I().then(function(c){return Pe(s.a,PG,{idToken:c})}).then(function(){s.dispatchEvent(new bu("userDeleted"))})).then(function(){for(var c=0;c<s.J.length;c++)s.J[c].cancel("app-deleted");W0(s,null),z0(s,null),G0(s,null),s.J=[],s.D=!0,Y0(s),ne(s,"refreshToken",null),s.i&&ZD(s.i,s)})},t.Fb=function(s,c){return!!(s=="linkViaPopup"&&(this.g||null)==c&&this.f||s=="reauthViaPopup"&&(this.g||null)==c&&this.f||s=="linkViaRedirect"&&(this.ga||null)==c||s=="reauthViaRedirect"&&(this.ga||null)==c)},t.na=function(s,c,h,v){s!="linkViaPopup"&&s!="reauthViaPopup"||v!=(this.g||null)||(h&&this.C?this.C(h):c&&!h&&this.f&&this.f(c),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,c){return s=="linkViaPopup"&&c==(this.g||null)?M(this.Kb,this):s=="reauthViaPopup"&&c==(this.g||null)?M(this.Lb,this):s=="linkViaRedirect"&&(this.ga||null)==c?M(this.Kb,this):s=="reauthViaRedirect"&&(this.ga||null)==c?M(this.Lb,this):null},t.Ec=function(s){var c=this;return wN(this,"linkViaPopup",s,function(){return bm(c,s.providerId).then(function(){return La(c)})},!1)},t.Nc=function(s){return wN(this,"reauthViaPopup",s,function(){return ae()},!0)};function wN(s,c,h,v,b){if(!Ta())return it(new O("operation-not-supported-in-this-environment"));if(s.h&&!b)return it(s.h);var E=F_(h.providerId),T=Ca(s.uid+":::"),k=null;(!Md()||__())&&s.s&&h.isOAuthProvider&&(k=Jd(s.s,s.l,s.m,c,h,null,T,J.SDK_VERSION||null,null,null,s.tenantId));var H=lA(k,E&&E.ua,E&&E.ta);return v=v().then(function(){if(SN(s),!b)return s.I().then(function(){})}).then(function(){return eN(s.i,H,c,h,T,!!k,s.tenantId)}).then(function(){return new Ae(function(V,he){s.na(c,null,new O("cancelled-popup-request"),s.g||null),s.f=V,s.C=he,s.g=T,s.c=nN(s.i,s,c,H,T)})}).then(function(V){return H&&xa(H),V?ji(V):null}).o(function(V){throw H&&xa(H),V}),zt(s,v,b)}t.Fc=function(s){var c=this;return EN(this,"linkViaRedirect",s,function(){return bm(c,s.providerId)},!1)},t.Oc=function(s){return EN(this,"reauthViaRedirect",s,function(){return ae()},!0)};function EN(s,c,h,v,b){if(!Ta())return it(new O("operation-not-supported-in-this-environment"));if(s.h&&!b)return it(s.h);var E=null,T=Ca(s.uid+":::");return v=v().then(function(){if(SN(s),!b)return s.I().then(function(){})}).then(function(){return s.ga=T,La(s)}).then(function(k){return s.ha&&(k=s.ha,k=k.b.set(ew,s.w(),k.a)),k}).then(function(){return tN(s.i,c,h,T,s.tenantId)}).o(function(k){if(E=k,s.ha)return TN(s.ha);throw E}).then(function(){if(E)throw E}),zt(s,v,b)}function SN(s){if(!s.i||!s.R)throw s.i&&!s.R?new O("internal-error"):new O("auth-domain-config-required")}t.Kb=function(s,c,h,v){var b=this;this.c&&(this.c.cancel(),this.c=null);var E=null;return h=this.I().then(function(T){return c0(b.a,{requestUri:s,postBody:v,sessionId:c,idToken:T})}).then(function(T){return E=sf(b,T,"link"),_N(b,T)}).then(function(){return E}),zt(this,h)},t.Lb=function(s,c,h,v){var b=this;this.c&&(this.c.cancel(),this.c=null);var E=null,T=ae().then(function(){return fu(d0(b.a,{requestUri:s,sessionId:c,postBody:v,tenantId:h}),b.uid)}).then(function(k){return E=sf(b,k,"reauthenticate"),Wi(b,k),b.h=null,b.reload()}).then(function(){return E});return zt(this,T,!0)},t.ub=function(s){var c=this,h=null;return zt(this,this.I().then(function(v){return h=v,typeof s=="undefined"||ya(s)?{}:jp(new Vp(s))}).then(function(v){return c.a.ub(h,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))},t.Eb=function(s,c){var h=this,v=null;return zt(this,this.I().then(function(b){return v=b,typeof c=="undefined"||ya(c)?{}:jp(new Vp(c))}).then(function(b){return h.a.Eb(v,s,b)}).then(function(b){if(h.email!=b)return h.reload()}).then(function(){}))};function zt(s,c,h){var v=s5(s,c,h);return s.J.push(v),v.oa(function(){xp(s.J,v)}),v.o(function(b){var E=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(E=dN(b.w(),K0(s),M(s.jc,s))),E||b})}t.jc=function(s){var c=null,h=this;return s=fu(ae(s),h.uid).then(function(v){return c=sf(h,v,"reauthenticate"),Wi(h,v),h.h=null,h.reload()}).then(function(){return c}),zt(this,s,!0)};function s5(s,c,h){return s.h&&!h?(c.cancel(),it(s.h)):c.o(function(v){throw!v||v.code!="auth/user-disabled"&&v.code!="auth/user-token-expired"||(s.h||s.dispatchEvent(new bu("userInvalidated")),s.h=v),v})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&tr(s,this.metadata.w()),ct(this.providerData,function(c){s.providerData.push(Az(c))}),tr(s,this.O.w()),s};function xN(s){if(!s.apiKey)return null;var c={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},h={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){h[_i]=s.stsTokenManager.accessToken,h.refreshToken=s.stsTokenManager.refreshToken||null;var v=s.stsTokenManager.expirationTime;v&&(h.expiresIn=(v-Date.now())/1e3)}else return null;var b=new Sr(c,h,s);return s.providerData&&ct(s.providerData,function(E){E&&J0(b,ji(E))}),s.redirectEventId&&(b.ga=s.redirectEventId),b}function a5(s,c,h,v){var b=new Sr(s,c);return h&&(b.ha=h),v&&rf(b,v),b.reload().then(function(){return b})}function l5(s,c,h,v){var b=s.b,E={};return E[_i]=b.b&&b.b.toString(),E.refreshToken=b.a,c=new Sr(c||{apiKey:s.l,authDomain:s.s,appName:s.m},E),h&&(c.ha=h),v&&rf(c,v),ym(c,s),c}function u5(s){this.a=s,this.b=nf()}var ew={name:"redirectUser",F:"session"};function TN(s){return yu(s.b,ew,s.a)}function c5(s,c){return s.b.get(ew,s.a).then(function(h){return h&&c&&(h.authDomain=c),xN(h||{})})}function tw(s){this.a=s,this.b=nf(),this.c=null,this.f=d5(this),this.b.addListener(zi("local"),this.a,M(this.g,this))}tw.prototype.g=function(){var s=this,c=zi("local");_u(this,function(){return ae().then(function(){return s.c&&s.c.F!="local"?s.b.get(c,s.a):null}).then(function(h){if(h)return nw(s,"local").then(function(){s.c=c})})})};function nw(s,c){var h=[],v;for(v in vu)vu[v]!==c&&h.push(yu(s.b,zi(vu[v]),s.a));return h.push(yu(s.b,rw,s.a)),ez(h)}function d5(s){var c=zi("local"),h=zi("session"),v=zi("none");return C6(s.b,c,s.a).then(function(){return s.b.get(h,s.a)}).then(function(b){return b?h:s.b.get(v,s.a).then(function(E){return E?v:s.b.get(c,s.a).then(function(T){return T?c:s.b.get(rw,s.a).then(function(k){return k?zi(k):c})})})}).then(function(b){return s.c=b,nw(s,b.F)}).o(function(){s.c||(s.c=c)})}var rw={name:"persistence",F:"session"};function zi(s){return{name:"authUser",F:s}}tw.prototype.xb=function(s){var c=null,h=this;return T6(s),_u(this,function(){return s!=h.c.F?h.b.get(h.c,h.a).then(function(v){return c=v,nw(h,s)}).then(function(){if(h.c=zi(s),c)return h.b.set(h.c,c,h.a)}):ae()})};function f5(s){return _u(s,function(){return s.b.set(rw,s.c.F,s.a)})}function CN(s,c){return _u(s,function(){return s.b.set(s.c,c.w(),s.a)})}function IN(s){return _u(s,function(){return yu(s.b,s.c,s.a)})}function RN(s,c,h){return _u(s,function(){return s.b.get(s.c,s.a).then(function(v){return v&&c&&(v.authDomain=c),v&&h&&(v.emulatorConfig=h),xN(v||{})})})}function _u(s,c){return s.f=s.f.then(c,c),s.f}function wi(s){if(this.l=!1,ne(this,"settings",new lN),ne(this,"app",s),Ye(this).options&&Ye(this).options.apiKey)s=J.SDK_VERSION?lu(J.SDK_VERSION):null,this.a=new bi(Ye(this).options&&Ye(this).options.apiKey,xo(pi),s);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=J.INTERNAL.createSubscribe(M(this.zc,this)),this.X=void 0,this.bc=J.INTERNAL.createSubscribe(M(this.Ac,this)),wu(this,null),this.i=new tw(Ye(this).options.apiKey+":"+Ye(this).name),this.D=new u5(Ye(this).options.apiKey+":"+Ye(this).name),this.$=vt(this,y5(this)),this.h=vt(this,b5(this)),this.ba=!1,this.ja=M(this.Zc,this),this.Ba=M(this.da,this),this.ya=M(this.mc,this),this.za=M(this.wc,this),this.Aa=M(this.xc,this),this.b=null,m5(this),this.INTERNAL={},this.INTERNAL.delete=M(this.delete,this),this.INTERNAL.logFramework=M(this.Gc,this),this.u=0,On.call(this),p5(this),this.J=[],this.P=null}q(wi,On);function kN(s){rr.call(this,"languageCodeChanged"),this.h=s}q(kN,rr);function AN(s){rr.call(this,"emulatorConfigChanged"),this.c=s}q(AN,rr);function DN(s){rr.call(this,"frameworkChanged"),this.f=s}q(DN,rr),t=wi.prototype,t.xb=function(s){return s=this.i.xb(s),vt(this,s)},t.wa=function(s){this.aa===s||this.l||(this.aa=s,uD(this.a,this.aa),this.dispatchEvent(new kN(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=u.navigator;this.wa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,c){if(!this.P){if(!/^https?:\/\//.test(s))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");c=c?!!c.disableWarnings:!1,h5(c),this.P={url:s,ec:c},this.settings.ib=!0,pu(this.a,this.P),this.dispatchEvent(new AN(this.P))}};function h5(s){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!s&&Up().then(function(){var c=u.document.createElement("div");c.innerText="Running in emulator mode. Do not use with production credentials.",c.style.position="fixed",c.style.width="100%",c.style.backgroundColor="#ffffff",c.style.border=".1em solid #000000",c.style.color="#b50000",c.style.bottom="0px",c.style.left="0px",c.style.margin="0px",c.style.zIndex=1e4,c.style.textAlign="center",c.classList.add("firebase-emulator-warning"),u.document.body.appendChild(c)})}t.Gc=function(s){this.J.push(s),cD(this.a,J.SDK_VERSION?lu(J.SDK_VERSION,this.J):null),this.dispatchEvent(new DN(this.J))},t.Ga=function(){return ga(this.J)},t.yb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function p5(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(c){this.wa(c)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(c){this.yb(c)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.P){var c=ir(this.P.url);c=ji({protocol:c.c,host:c.a,port:c.g,options:ji({disableWarnings:this.P.ec})})}else c=null;return c},enumerable:!1})}t.toJSON=function(){return{apiKey:Ye(this).options.apiKey,authDomain:Ye(this).options.authDomain,appName:Ye(this).name,currentUser:Se(this)&&Se(this).w()}};function iw(s){return s.Oa||it(new O("auth-domain-config-required"))}function m5(s){var c=Ye(s).options.authDomain,h=Ye(s).options.apiKey;c&&Ta()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=iN(c,h,Ye(s).name,s.P),N0(s.b,s),Se(s)&&of(Se(s)),s.m){of(s.m);var v=s.m;v.wa(s.la()),W0(v,s),v=s.m,rf(v,s.J),G0(v,s),v=s.m,pu(v.a,s.P),z0(v,s),s.m=null}return s.b}}))}t.Fb=function(s,c){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==c&&!!this.f;default:return!1}},t.na=function(s,c,h,v){s=="signInViaPopup"&&this.g==v&&(h&&this.C?this.C(h):c&&!h&&this.f&&this.f(c),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,c){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==c&&this.f?M(this.ic,this):null},t.ic=function(s,c,h,v){var b=this,E={requestUri:s,postBody:v,sessionId:c,tenantId:h};return this.c&&(this.c.cancel(),this.c=null),b.$.then(function(){return Fa(b,u0(b.a,E))})},t.Xc=function(s){if(!Ta())return it(new O("operation-not-supported-in-this-environment"));var c=this,h=F_(s.providerId),v=Ca(),b=null;(!Md()||__())&&Ye(this).options.authDomain&&s.isOAuthProvider&&(b=Jd(Ye(this).options.authDomain,Ye(this).options.apiKey,Ye(this).name,"signInViaPopup",s,null,v,J.SDK_VERSION||null,null,null,this.T(),this.P));var E=lA(b,h&&h.ua,h&&h.ta);return h=iw(this).then(function(T){return eN(T,E,"signInViaPopup",s,v,!!b,c.T())}).then(function(){return new Ae(function(T,k){c.na("signInViaPopup",null,new O("cancelled-popup-request"),c.g),c.f=T,c.C=k,c.g=v,c.c=nN(c.b,c,"signInViaPopup",E,v)})}).then(function(T){return E&&xa(E),T?ji(T):null}).o(function(T){throw E&&xa(E),T}),vt(this,h)},t.Yc=function(s){if(!Ta())return it(new O("operation-not-supported-in-this-environment"));var c=this,h=iw(this).then(function(){return f5(c.i)}).then(function(){return tN(c.b,"signInViaRedirect",s,void 0,c.T())});return vt(this,h)};function NN(s){if(!Ta())return it(new O("operation-not-supported-in-this-environment"));var c=iw(s).then(function(){return s.b.qa()}).then(function(h){return h?ji(h):null});return vt(s,c)}t.qa=function(){var s=this;return NN(this).then(function(c){return s.b&&mm(s.b.b),c}).o(function(c){throw s.b&&mm(s.b.b),c})},t.dd=function(s){if(!s)return it(new O("null-user"));if(this.S!=s.tenantId)return it(new O("tenant-id-mismatch"));var c=this,h={};h.apiKey=Ye(this).options.apiKey,h.authDomain=Ye(this).options.authDomain,h.appName=Ye(this).name;var v=l5(s,h,c.D,c.Ga());return vt(this,this.h.then(function(){if(Ye(c).options.apiKey!=s.l)return v.reload()}).then(function(){return Se(c)&&s.uid==Se(c).uid?(ym(Se(c),s),c.da(s)):(wu(c,v),of(v),c.da(v))}).then(function(){af(c)}))};function v5(s,c){var h={};return h.apiKey=Ye(s).options.apiKey,h.authDomain=Ye(s).options.authDomain,h.appName=Ye(s).name,s.P&&(h.emulatorConfig=s.P),s.$.then(function(){return a5(h,c,s.D,s.Ga())}).then(function(v){return Se(s)&&v.uid==Se(s).uid?(ym(Se(s),v),s.da(v)):(wu(s,v),of(v),s.da(v))}).then(function(){af(s)})}function wu(s,c){Se(s)&&(r5(Se(s),s.Ba),wr(Se(s),"tokenChanged",s.ya),wr(Se(s),"userDeleted",s.za),wr(Se(s),"userInvalidated",s.Aa),Y0(Se(s))),c&&(c.S.push(s.Ba),jr(c,"tokenChanged",s.ya),jr(c,"userDeleted",s.za),jr(c,"userInvalidated",s.Aa),0<s.u&&vN(c)),ne(s,"currentUser",c),c&&(c.wa(s.la()),W0(c,s),rf(c,s.J),G0(c,s),pu(c.a,s.P),z0(c,s))}t.Ab=function(){var s=this,c=this.h.then(function(){return s.b&&mm(s.b.b),Se(s)?(wu(s,null),IN(s.i).then(function(){af(s)})):ae()});return vt(this,c)};function g5(s){var c=c5(s.D,Ye(s).options.authDomain).then(function(h){return(s.m=h)&&(h.ha=s.D),TN(s.D)});return vt(s,c)}function y5(s){var c=Ye(s).options.authDomain,h=g5(s).then(function(){return RN(s.i,c,s.P)}).then(function(v){return v?(v.ha=s.D,s.m&&(s.m.ga||null)==(v.ga||null)?v:v.reload().then(function(){return CN(s.i,v).then(function(){return v})}).o(function(b){return b.code=="auth/network-request-failed"?v:IN(s.i)})):null}).then(function(v){wu(s,v||null)});return vt(s,h)}function b5(s){return s.$.then(function(){return NN(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var c=s.i;c.b.addListener(zi("local"),c.a,s.ja)}})}t.Zc=function(){var s=this;return RN(this.i,Ye(this).options.authDomain).then(function(c){if(!s.l){var h;if(h=Se(s)&&c){h=Se(s).uid;var v=c.uid;h=h==null||h===""||v===void 0||v===null||v===""?!1:h==v}if(h)return ym(Se(s),c),Se(s).I();(Se(s)||c)&&(wu(s,c),c&&(of(c),c.ha=s.D),s.b&&N0(s.b,s),af(s))}})},t.da=function(s){return CN(this.i,s)},t.mc=function(){af(this),this.da(Se(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function Fa(s,c){var h=null,v=null;return vt(s,c.then(function(b){return h=q_(b),v=OA(b),v5(s,b)},function(b){var E=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(E=dN(b.w(),s,M(s.kc,s))),E||b}).then(function(){return ji({user:Se(s),credential:h,additionalUserInfo:v,operationType:"signIn"})}))}t.kc=function(s){var c=this;return this.h.then(function(){return Fa(c,ae(s))})},t.zc=function(s){var c=this;this.addAuthTokenListener(function(){s.next(Se(c))})},t.Ac=function(s){var c=this;_5(this,function(){s.next(Se(c))})},t.Ic=function(s,c,h){var v=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(Se(v)):typeof s.next=="function"&&s.next(Se(v))}),this.hb(s,c,h)},t.Hc=function(s,c,h){var v=this;return this.ba&&Promise.resolve().then(function(){v.X=v.getUid(),typeof s=="function"?s(Se(v)):typeof s.next=="function"&&s.next(Se(v))}),this.bc(s,c,h)},t.nc=function(s){var c=this,h=this.h.then(function(){return Se(c)?Se(c).I(s).then(function(v){return{accessToken:v}}):null});return vt(this,h)},t.Tc=function(s){var c=this;return this.h.then(function(){return Fa(c,Pe(c.a,e6,{token:s}))}).then(function(h){var v=h.user;return ds(v,"isAnonymous",!1),c.da(v),h})},t.Uc=function(s,c){var h=this;return this.h.then(function(){return Fa(h,Pe(h.a,bD,{email:s,password:c}))})},t.dc=function(s,c){var h=this;return this.h.then(function(){return Fa(h,Pe(h.a,DG,{email:s,password:c}))})},t.$a=function(s){var c=this;return this.h.then(function(){return Fa(c,s.ka(c.a))})},t.Sc=function(s){return x_("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(s)},t.zb=function(){var s=this;return this.h.then(function(){var c=Se(s);if(c&&c.isAnonymous){var h=ji({providerId:null,isNewUser:!1});return ji({user:c,credential:null,additionalUserInfo:h,operationType:"signIn"})}return Fa(s,s.a.zb()).then(function(v){var b=v.user;return ds(b,"isAnonymous",!0),s.da(b),v})})};function Ye(s){return s.app}function Se(s){return s.currentUser}t.getUid=function(){return Se(this)&&Se(this).uid||null};function _m(s){return Se(s)&&Se(s)._lat||null}function af(s){if(s.ba){for(var c=0;c<s.s.length;c++)s.s[c]&&s.s[c](_m(s));if(s.X!==s.getUid()&&s.O.length)for(s.X=s.getUid(),c=0;c<s.O.length;c++)s.O[c]&&s.O[c](_m(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&Se(this)&&vN(Se(this))},t.Pc=function(s){var c=this;ct(this.s,function(h){h==s&&c.u--}),0>this.u&&(this.u=0),this.u==0&&Se(this)&&Y0(Se(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var c=this;this.s.push(s),vt(this,this.h.then(function(){c.l||To(c.s,s)&&s(_m(c))}))},t.removeAuthTokenListener=function(s){mi(this.s,function(c){return c==s})};function _5(s,c){s.O.push(c),vt(s,s.h.then(function(){!s.l&&To(s.O,c)&&s.X!==s.getUid()&&(s.X=s.getUid(),c(_m(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.R.length;s++)this.R[s].cancel("app-deleted");return this.R=[],this.i&&(s=this.i,s.b.removeListener(zi("local"),s.a,this.ja)),this.b&&(ZD(this.b,this),mm(this.b.b)),Promise.resolve()};function vt(s,c){return s.R.push(c),c.oa(function(){xp(s.R,c)}),c}t.hc=function(s){return vt(this,EG(this.a,s))},t.Bc=function(s){return!!j_(s)},t.wb=function(s,c){var h=this;return vt(this,ae().then(function(){var v=new Vp(c);if(!v.c)throw new O("argument-error",M_+" must be true when sending sign in link to email");return jp(v)}).then(function(v){return h.a.wb(s,v)}).then(function(){}))},t.jd=function(s){return this.Ra(s).then(function(c){return c.data.email})},t.nb=function(s,c){return vt(this,this.a.nb(s,c).then(function(){}))},t.Ra=function(s){return vt(this,this.a.Ra(s).then(function(c){return new Nz(c)}))},t.jb=function(s){return vt(this,this.a.jb(s).then(function(){}))},t.vb=function(s,c){var h=this;return vt(this,ae().then(function(){return typeof c=="undefined"||ya(c)?{}:jp(new Vp(c))}).then(function(v){return h.a.vb(s,v)}).then(function(){}))},t.Wc=function(s,c){return vt(this,L0(this,s,c,M(this.$a,this)))},t.Vc=function(s,c){var h=this;return vt(this,ae().then(function(){var v=c||Od(),b=GA(s,v);if(v=j_(v),!v)throw new O("argument-error","Invalid email link!");if(v.tenantId!==h.T())throw new O("tenant-id-mismatch");return h.$a(b)}))};function lf(){}lf.prototype.render=function(){},lf.prototype.reset=function(){},lf.prototype.getResponse=function(){},lf.prototype.execute=function(){};function Eu(){this.a={},this.b=1e12}var ow=null;Eu.prototype.render=function(s,c){return this.a[this.b.toString()]=new wm(s,c),this.b++},Eu.prototype.reset=function(s){var c=sw(this,s);s=PN(s),c&&s&&(c.delete(),delete this.a[s])},Eu.prototype.getResponse=function(s){return(s=sw(this,s))?s.getResponse():null},Eu.prototype.execute=function(s){(s=sw(this,s))&&s.execute()};function sw(s,c){return(c=PN(c))&&s.a[c]||null}function PN(s){return(s=typeof s=="undefined"?1e12:s)?s.toString():null}function wm(s,c){this.g=!1,this.c=c,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Id(s);var h=this;this.i=function(){h.execute()},this.h?this.execute():jr(this.f,"click",this.i)}wm.prototype.getResponse=function(){return aw(this),this.b},wm.prototype.execute=function(){aw(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=Cz();var c=s.c.callback,h=s.c["expired-callback"];if(c)try{c(s.b)}catch(v){}s.a=setTimeout(function(){if(s.a=null,s.b=null,h)try{h()}catch(v){}s.h&&s.execute()},6e4)},500))},wm.prototype.delete=function(){aw(this),this.g=!0,clearTimeout(this.a),this.a=null,wr(this.f,"click",this.i)};function aw(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function lw(){}ne(lw,"FACTOR_ID","phone");function uw(){}uw.prototype.g=function(){return ow||(ow=new Eu),ae(ow)},uw.prototype.c=function(){};var cw=null;function dw(){this.b=u.grecaptcha?Infinity:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var w5=new Bi(Tp,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),E5=new ls(3e4,6e4);dw.prototype.g=function(s){var c=this;return new Ae(function(h,v){var b=setTimeout(function(){v(new O("network-request-failed"))},E5.get());if(!u.grecaptcha||s!==c.f&&!c.b){u[c.a]=function(){if(u.grecaptcha){c.f=s;var T=u.grecaptcha.render;u.grecaptcha.render=function(k,H){return k=T(k,H),c.b++,k},clearTimeout(b),h(u.grecaptcha)}else clearTimeout(b),v(new O("internal-error"));delete u[c.a]};var E=Kb(w5,{onload:c.a,hl:s||""});ae(n0(E)).o(function(){clearTimeout(b),v(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(b),h(u.grecaptcha)})},dw.prototype.c=function(){this.b--};var fw=null;function hw(s,c,h,v,b,E,T){if(ne(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=c,this.g=null,T?(cw||(cw=new uw),T=cw):(fw||(fw=new dw),T=fw),this.m=T,this.a=h||{theme:"light",type:"image"},this.h=[],this.a[LN])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[S5]==="invisible",!u.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Id(c)||!this.i&&Id(c).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new bi(s,E||null,b||null),this.u=v||function(){return null};var k=this;this.l=[];var H=this.a[ON];this.a[ON]=function(he){if(FN(k,he),typeof H=="function")H(he);else if(typeof H=="string"){var We=ot(H,u);typeof We=="function"&&We(he)}};var V=this.a[MN];this.a[MN]=function(){if(FN(k,null),typeof V=="function")V();else if(typeof V=="string"){var he=ot(V,u);typeof he=="function"&&he()}}}var ON="callback",MN="expired-callback",LN="sitekey",S5="size";function FN(s,c){for(var h=0;h<s.l.length;h++)try{s.l[h](c)}catch(v){}}function x5(s,c){mi(s.l,function(h){return h==c})}function pw(s,c){return s.h.push(c),c.oa(function(){xp(s.h,c)}),c}t=hw.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=pw(this,ae().then(function(){if(Bp()&&!gi())return Up();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(c){return s.g=c,Pe(s.s,zG,{})}).then(function(c){s.a[LN]=c.recaptchaSiteKey}).o(function(c){throw s.f=null,c}))},t.render=function(){Em(this);var s=this;return pw(this,this.Ia().then(function(){if(s.c===null){var c=s.v;if(!s.i){var h=Id(c);c=$W("DIV"),h.appendChild(c)}s.c=s.g.render(c,s.a)}return s.c}))},t.verify=function(){Em(this);var s=this;return pw(this,this.render().then(function(c){return new Ae(function(h){var v=s.g.getResponse(c);if(v)h(v);else{var b=function(E){E&&(x5(s,b),h(E))};s.l.push(b),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){Em(this),this.c!==null&&this.g.reset(this.c)};function Em(s){if(s.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Em(this),this.D=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=Id(this.v);for(var c;c=s.firstChild;)s.removeChild(c)}};function mw(s,c,h){var v=!1;try{this.b=h||J.app()}catch(T){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)h=this.b.options.apiKey;else throw new O("invalid-api-key");var b=this,E=null;try{E=this.b.auth().Ga()}catch(T){}try{v=this.b.auth().settings.appVerificationDisabledForTesting}catch(T){}E=J.SDK_VERSION?lu(J.SDK_VERSION,E):null,hw.call(this,h,s,c,function(){try{var T=b.b.auth().la()}catch(k){T=null}return T},E,xo(pi),v)}q(mw,hw);function UN(s,c,h,v){e:{h=Array.prototype.slice.call(h);for(var b=0,E=!1,T=0;T<c.length;T++)if(c[T].optional)E=!0;else{if(E)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");b++}if(E=c.length,h.length<b||E<h.length)v="Expected "+(b==E?b==1?"1 argument":b+" arguments":b+"-"+E+" arguments")+" but got "+h.length+".";else{for(b=0;b<h.length;b++)if(E=c[b].optional&&h[b]===void 0,!c[b].M(h[b])&&!E){if(c=c[b],0>b||b>=BN.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");h=BN[b],v=(v?"":h+" argument ")+(c.name?'"'+c.name+'" ':"")+"must be "+c.K+".";break e}v=null}}if(v)throw new O("argument-error",s+" failed: "+v)}var BN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function te(s,c){return{name:s||"",K:"a valid string",optional:!!c,M:function(h){return typeof h=="string"}}}function vw(s,c){return{name:s||"",K:"a boolean",optional:!!c,M:function(h){return typeof h=="boolean"}}}function Nt(s,c){return{name:s||"",K:"a valid object",optional:!!c,M:w}}function Su(s,c){return{name:s||"",K:"a function",optional:!!c,M:function(h){return typeof h=="function"}}}function Gi(s,c){return{name:s||"",K:"null",optional:!!c,M:function(h){return h===null}}}function T5(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function C5(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof wi)}}}function I5(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof J.app.App)}}}function fs(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(c){if(!c)return!1;var h=!s||c.providerId===s;return!(!c.ka||!h)}}}function HN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.sb:!1}}}function xu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function gw(s,c){return w(s)&&typeof s.type=="string"&&s.type===c&&typeof s.Ha=="function"}function VN(s){return w(s)&&typeof s.uid=="string"}function Sm(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function St(s,c,h,v){return{name:h||"",K:s.K+" or "+c.K,optional:!!v,M:function(b){return s.M(b)||c.M(b)}}}function dt(s,c){for(var h in c){var v=c[h].name;s[v]=qN(v,s[h],c[h].j)}}function jN(s,c){for(var h in c){var v=c[h].name;v!==h&&Object.defineProperty(s,v,{get:W(function(b){return this[b]},h),set:W(function(b,E,T,k){UN(b,[T],[k],!0),this[E]=k},v,h,c[h].kb),enumerable:!0})}}function xt(s,c,h,v){s[c]=qN(c,h,v)}function qN(s,c,h){function v(){var T=Array.prototype.slice.call(arguments);return UN(b,h,T),c.apply(this,T)}if(!h)return c;var b=R5(s),E;for(E in c)v[E]=c[E];for(E in c.prototype)v.prototype[E]=c.prototype[E];return v}function R5(s){return s=s.split("."),s[s.length-1]}dt(wi.prototype,{jb:{name:"applyActionCode",j:[te("code")]},Ra:{name:"checkActionCode",j:[te("code")]},nb:{name:"confirmPasswordReset",j:[te("code"),te("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[te("email"),te("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[te("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[te("emailLink")]},Hc:{name:"onAuthStateChanged",j:[St(Nt(),Su(),"nextOrObserver"),Su("opt_error",!0),Su("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[St(Nt(),Su(),"nextOrObserver"),Su("opt_error",!0),Su("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[te("email"),St(Nt("opt_actionCodeSettings",!0),Gi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[te("email"),Nt("actionCodeSettings")]},xb:{name:"setPersistence",j:[te("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[fs()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[fs()]},Tc:{name:"signInWithCustomToken",j:[te("token")]},Uc:{name:"signInWithEmailAndPassword",j:[te("email"),te("password")]},Vc:{name:"signInWithEmailLink",j:[te("email"),te("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[te("phoneNumber"),Sm()]},Xc:{name:"signInWithPopup",j:[xu()]},Yc:{name:"signInWithRedirect",j:[xu()]},dd:{name:"updateCurrentUser",j:[St(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(c){return!!(c&&c instanceof Sr)}}}(),Gi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[te(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[te("url"),Nt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[te("code")]}}),jN(wi.prototype,{lc:{name:"languageCode",kb:St(te(),Gi(),"languageCode")},ti:{name:"tenantId",kb:St(te(),Gi(),"tenantId")}}),wi.Persistence=vu,wi.Persistence.LOCAL="local",wi.Persistence.SESSION="session",wi.Persistence.NONE="none",dt(Sr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[vw("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[vw("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[fs()]},qb:{name:"linkWithCredential",j:[fs()]},Dc:{name:"linkWithPhoneNumber",j:[te("phoneNumber"),Sm()]},Ec:{name:"linkWithPopup",j:[xu()]},Fc:{name:"linkWithRedirect",j:[xu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[fs()]},tb:{name:"reauthenticateWithCredential",j:[fs()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[te("phoneNumber"),Sm()]},Nc:{name:"reauthenticateWithPopup",j:[xu()]},Oc:{name:"reauthenticateWithRedirect",j:[xu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[St(Nt("opt_actionCodeSettings",!0),Gi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[te(null,!0)]},cd:{name:"unlink",j:[te("provider")]},Bb:{name:"updateEmail",j:[te("email")]},Cb:{name:"updatePassword",j:[te("password")]},ed:{name:"updatePhoneNumber",j:[fs("phone")]},Db:{name:"updateProfile",j:[Nt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[te("email"),St(Nt("opt_actionCodeSettings",!0),Gi(null,!0),"opt_actionCodeSettings",!0)]}}),dt(Eu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dt(lf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dt(Ae.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),jN(lN.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:vw("appVerificationDisabledForTesting")}}),dt(M0.prototype,{confirm:{name:"confirm",j:[te("verificationCode")]}}),xt(du,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var c,h=[$z,Qz,Jz,Xz],v=0;v<h.length;v++)if(c=h[v](s))return c;return null},[St(te(),Nt(),"json")]),xt(Wr,"credential",function(s,c){return new us(s,c)},[te("email"),te("password")]),dt(us.prototype,{w:{name:"toJSON",j:[te(null,!0)]}}),dt(ka.prototype,{Ca:{name:"addScope",j:[te("scope")]},Ka:{name:"setCustomParameters",j:[Nt("customOAuthParameters")]}}),xt(ka,"credential",jA,[St(te(),Nt(),"token")]),xt(Wr,"credentialWithLink",GA,[te("email"),te("emailLink")]),dt(Aa.prototype,{Ca:{name:"addScope",j:[te("scope")]},Ka:{name:"setCustomParameters",j:[Nt("customOAuthParameters")]}}),xt(Aa,"credential",qA,[St(te(),Nt(),"token")]),dt(Da.prototype,{Ca:{name:"addScope",j:[te("scope")]},Ka:{name:"setCustomParameters",j:[Nt("customOAuthParameters")]}}),xt(Da,"credential",WA,[St(te(),St(Nt(),Gi()),"idToken"),St(te(),Gi(),"accessToken",!0)]),dt(hu.prototype,{Ka:{name:"setCustomParameters",j:[Nt("customOAuthParameters")]}}),xt(hu,"credential",zA,[St(te(),Nt(),"token"),te("secret",!0)]),dt(Er.prototype,{Ca:{name:"addScope",j:[te("scope")]},credential:{name:"credential",j:[St(te(),St(Nt(),Gi()),"optionsOrIdToken"),St(te(),Gi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Nt("customOAuthParameters")]}}),dt(Io.prototype,{w:{name:"toJSON",j:[te(null,!0)]}}),dt(Ia.prototype,{w:{name:"toJSON",j:[te(null,!0)]}}),xt(Ro,"credential",KA,[te("verificationId"),te("verificationCode")]),dt(Ro.prototype,{fb:{name:"verifyPhoneNumber",j:[St(te(),function(s,c){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!c,M:function(h){return h?h.session&&h.phoneNumber?gw(h.session,Vd)&&typeof h.phoneNumber=="string":h.session&&h.multiFactorHint?gw(h.session,Kp)&&VN(h.multiFactorHint):h.session&&h.multiFactorUid?gw(h.session,Kp)&&typeof h.multiFactorUid=="string":h.phoneNumber?typeof h.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Sm()]}}),dt(cs.prototype,{w:{name:"toJSON",j:[te(null,!0)]}}),dt(O.prototype,{toJSON:{name:"toJSON",j:[te(null,!0)]}}),dt(qd.prototype,{toJSON:{name:"toJSON",j:[te(null,!0)]}}),dt(G_.prototype,{toJSON:{name:"toJSON",j:[te(null,!0)]}}),dt(U0.prototype,{toJSON:{name:"toJSON",j:[te(null,!0)]}}),dt(F0.prototype,{Rc:{name:"resolveSignIn",j:[HN()]}}),dt(H0.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[HN(),te("displayName",!0)]},bd:{name:"unenroll",j:[St({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:VN},te(),"multiFactorInfoIdentifier")]}}),dt(mw.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xt(O_,"parseLink",xA,[te("link")]),xt(lw,"assertion",function(s){return new hN(s)},[fs("phone")]),function(){if(typeof J!="undefined"&&J.INTERNAL&&J.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:P_,VERIFY_AND_CHANGE_EMAIL:Bd,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wi,AuthCredential:du,Error:O};xt(s,"EmailAuthProvider",Wr,[]),xt(s,"FacebookAuthProvider",ka,[]),xt(s,"GithubAuthProvider",Aa,[]),xt(s,"GoogleAuthProvider",Da,[]),xt(s,"TwitterAuthProvider",hu,[]),xt(s,"OAuthProvider",Er,[te("providerId")]),xt(s,"SAMLAuthProvider",VA,[te("providerId")]),xt(s,"PhoneAuthProvider",Ro,[C5()]),xt(s,"RecaptchaVerifier",mw,[St(te(),T5(),"recaptchaContainer"),Nt("recaptchaParameters",!0),I5()]),xt(s,"ActionCodeURL",O_,[]),xt(s,"PhoneMultiFactorGenerator",lw,[]),J.INTERNAL.registerComponent({name:"auth",instanceFactory:function(c){return c=c.getProvider("app").getImmediate(),new wi(c)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC"}),J.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(c){return c=c.getProvider("auth").getImmediate(),{getUid:M(c.getUid,c),getToken:M(c.nc,c),addAuthTokenListener:M(c.cc,c),removeAuthTokenListener:M(c.Pc,c)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.registerVersion("@firebase/auth","0.16.6"),J.INTERNAL.extendNamespace({User:Sr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});ar();Yr();sr();le();var Vm=Gr(Ki()),PK="@firebase/database",OK="0.10.1";var Xw="";function $P(t){Xw=t}var MK=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),It(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ja(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();var LK=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return wn(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();var QP=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MK(e)}}catch(n){}return new LK},Wa=QP("localStorage"),$w=QP("sessionStorage");var Vu=new Vm.Logger("@firebase/database"),JP=function(){var t=1;return function(){return t++}}(),ZP=function(t){var e=Ww(t),n=new Vw;n.update(e);var r=n.digest();return Ha.encodeByteArray(r)},bf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=bf.apply(null,i):typeof i=="object"?n+=It(i):n+=i,n+=" "}return n},za=null,e1=!0,t1=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vu.logLevel=Vm.LogLevel.VERBOSE,za=Vu.log.bind(Vu),e&&$w.set("logging_enabled",!0)):typeof t=="function"?za=t:(za=null,$w.remove("logging_enabled"))},en=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(e1===!0&&(e1=!1,za===null&&$w.get("logging_enabled")===!0&&t1(!0)),za){var n=bf.apply(null,t);za(n)}},_f=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];en.apply(void 0,me([t],Ct(e)))}},Qw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+bf.apply(void 0,me([],Ct(t)));Vu.error(n)},Yi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+bf.apply(void 0,me([],Ct(t)));throw Vu.error(n),new Error(n)},fn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+bf.apply(void 0,me([],Ct(t)));Vu.warn(n)},FK=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},UK=function(t){if(Kr()||document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Po="[MIN_NAME]",Xi="[MAX_NAME]",Ga=function(t,e){if(t===e)return 0;if(t===Po||e===Xi)return-1;if(e===Po||t===Xi)return 1;var n=qm(t),r=qm(e);return n!==null?r!==null?n-r==0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},BK=function(t,e){return t===e?0:t<e?-1:1},wf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+It(e))},Jw=function(t){if(typeof t!="object"||t===null)return It(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=It(e[i]),r+=":",r+=Jw(t[e[i]]);return r+="}",r},n1=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Gt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var r1=function(t){G(!jm(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,l,u;t===0?(o=0,a=0,i=1/t==-Infinity?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var d=[];for(u=n;u;u-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();var f=d.join(""),p="";for(u=0;u<64;u+=8){var m=parseInt(f.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},HK=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},VK=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jK(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var qK=new RegExp("^-?(0*)\\d{1,10}$"),i1=-2147483648,Zw=2147483647,qm=function(t){if(qK.test(t)){var e=Number(t);if(e>=i1&&e<=Zw)return e}return null},ju=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw fn("Exception was thrown by user callback.",n),e},Math.floor(0))}},WK=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ef=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};var zK=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){fn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();var GK=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fn(e)},t}(),Sf=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();var Wm="5",o1="v",s1="s",a1="r",l1="f",u1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c1="ls",KK="p",eE="ac",d1="websocket",f1="long_polling";var tE=function(){function t(e,n,r,i,o,a,l){o===void 0&&(o=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wa.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wa.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function YK(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function h1(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");var r;if(e===d1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===f1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YK(t)&&(n.ns=t.namespace);var i=[];return Gt(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}var XK=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return hf(this.counters_)},t}();var nE={},rE={};function iE(t){var e=t.toString();return nE[e]||(nE[e]=new XK),nE[e]}function $K(t,e){var n=t.toString();return rE[n]||(rE[n]=e()),rE[n]}var QK=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var l=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var u=function(f){l[f]&&ju(function(){r.onMessage_(l[f])})},d=0;d<l.length;++d)u(d);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();var p1="start",JK="close",ZK="pLPCommand",eY="pRTLPCB",m1="id",v1="pw",g1="ser",tY="cb",nY="seg",rY="ts",iY="d",oY="dframe",y1=1870,b1=30,sY=y1-b1,aY=25e3,lY=3e4,oE=function(){function t(e,n,r,i,o,a,l){var u=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_f(e),this.stats_=iE(n),this.urlFn=function(d){return u.appCheckToken&&(d[eE]=u.appCheckToken),h1(n,f1,d)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new QK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(lY)),UK(function(){if(!r.isClosed_){r.scriptTagHolder=new uY(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var u=Ct(a,5),d=u[0],f=u[1],p=u[2],m=u[3],g=u[4];if(r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,d===p1)r.id=f,r.password=p;else if(d===JK)f?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(f,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+d)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var u=Ct(a,2),d=u[0],f=u[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(d,f)},function(){r.onClosed_()},r.urlFn);var i={};i[p1]="t",i[g1]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[tY]=r.scriptTagHolder.uniqueCallbackIdentifier),i[o1]=Wm,r.transportSessionId&&(i[s1]=r.transportSessionId),r.lastSessionId&&(i[c1]=r.lastSessionId),r.applicationId&&(i[KK]=r.applicationId),r.appCheckToken&&(i[eE]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&u1.test(location.hostname)&&(i[a1]=l1);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return Kr()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!HK()&&!VK()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=It(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=Nw(n),i=n1(r,sY),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){if(!Kr()){this.myDisconnFrame=document.createElement("iframe");var r={};r[oY]="t",r[m1]=e,r[v1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(e){var n=It(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),uY=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Kr())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=JP(),window[ZK+this.uniqueCallbackIdentifier]=e,window[eY+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";</script>'}var l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){en("frame writing exception"),u.stack&&en(u.stack),en(u)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||en("No IE domain setting required")}catch(i){var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[m1]=this.myID,e[v1]=this.myPW,e[g1]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+b1+r.length<=y1){var a=this.pendingSegs.shift();r=r+"&"+nY+i+"="+a.seg+"&"+rY+i+"="+a.ts+"&"+iY+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(aY)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;Kr()?this.doNodeLongPoll(e,n):setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){en("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch(o){}},Math.floor(1))},t}();var cY=16384,dY=45e3,xf=null;typeof MozWebSocket!="undefined"?xf=MozWebSocket:typeof WebSocket!="undefined"&&(xf=WebSocket);var Ka=function(){function t(e,n,r,i,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_f(this.connId),this.stats_=iE(n),this.connURL=t.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[o1]=Wm,!Kr()&&typeof location!="undefined"&&location.hostname&&u1.test(location.hostname)&&(o[a1]=l1),n&&(o[s1]=n),r&&(o[c1]=r),i&&(o[eE]=i),h1(e,d1,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wa.set("previous_websocket_failure",!0);try{if(Kr()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+Wm+"/"+Xw+"/"+process.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?o.headers.Authorization=this.authToken||"":o.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,l=this.connURL.indexOf("wss://")===0?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;l&&(o.proxy={origin:l}),this.mySock=new xf(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new xf(this.connURL,[],o)}}catch(d){this.log_("Error instantiating WebSocket.");var u=d.message||d.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(d){r.handleIncomingFrame(d)},this.mySock.onerror=function(d){r.log_("WebSocket error.  Closing connection.");var f=d.message||d.data;f&&r.log_(f),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xf!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Wa.isInMemoryStorage||Wa.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Wa.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ja(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=It(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=n1(n,cY);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(dY))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();var fY=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[oE,Ka]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ka&&Ka.isAvailable(),o=i&&!Ka.previouslyFailed();if(e.webSocketOnly&&(i||fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ka];else{var a=this.transports_=[];try{for(var l=gt(t.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var d=u.value;d&&d.isAvailable()&&a.push(d)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();var hY=6e4,pY=5e3,mY=10*1024,vY=100*1024,sE="t",_1="d",gY="s",w1="r",yY="e",E1="o",S1="a",x1="n",T1="p",bY="h",C1=function(){function t(e,n,r,i,o,a,l,u,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_f("c:"+this.id+":"),this.transportManager_=new fY(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ef(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>vY?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>mY?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(sE in e){var n=e[sE];n===S1?this.upgradeIfSecondaryHealthy_():n===w1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===E1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=wf("t",e),r=wf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T1,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:S1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:x1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=wf("t",e),r=wf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=wf(sE,e);if(_1 in e){var r=e[_1];if(n===bY)this.onHandshake_(r);else if(n===x1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gY?this.onConnectionShutdown_(r):n===w1?this.onReset_(r):n===yY?Qw("Server Error: "+r):n===E1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qw("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wm!==r&&fn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Ef(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(hY))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ef(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(pY))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T1,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();var I1=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();var R1=function(){function t(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=me([],Ct(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){G(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();var k1=function(t){P(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!Du()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return G(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(R1);var A1=32,D1=768,qe=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function Ue(){return new qe("")}function Te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ys(t){return t.pieces_.length-t.pieceNum_}function Xe(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new qe(t.pieces_,e)}function aE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _Y(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Tf(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function N1(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qe(e,0)}function at(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qe)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new qe(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function Fn(t,e){var n=Te(t),r=Te(e);if(n===null)return e;if(n===r)return Fn(Xe(t),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wY(t,e){for(var n=Tf(t,0),r=Tf(e,0),i=0;i<n.length&&i<r.length;i++){var o=Ga(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function lE(t,e){if(ys(t)!==ys(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xr(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ys(t)>ys(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var EY=function(){function t(e,n){this.errorPrefix_=n,this.parts_=Tf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Lu(this.parts_[r]);P1(this)}return t}();function SY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lu(e),P1(t)}function xY(t){var e=t.parts_.pop();t.byteLength_-=Lu(e),t.parts_.length>0&&(t.byteLength_-=1)}function P1(t){if(t.byteLength_>D1)throw new Error(t.errorPrefix_+"has a key path longer than "+D1+" bytes ("+t.byteLength_+").");if(t.parts_.length>A1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A1+") or object contains a cycle "+Ya(t))}function Ya(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var TY=function(t){P(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return G(n==="visible","Unknown event type: "+n),[this.visible_]},e}(R1);var Cf=1e3,CY=60*5*1e3,IY=3*1e3,O1=30*1e3,RY=1.3,kY=3e4,AY="server_kill",M1=3,Xa=function(t){P(e,t);function e(n,r,i,o,a,l,u,d){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=a,f.authTokenProvider_=l,f.appCheckTokenProvider_=u,f.authOverride_=d,f.id=e.nextPersistentConnectionId_++,f.log_=_f("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Cf,f.maxReconnectDelay_=CY,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,d&&!Kr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return TY.getInstance().on("visible",f.onVisible_,f),n.host.indexOf("fblocal")===-1&&k1.getInstance().on("online",f.onOnline_,f),f}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(It(a)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new cn,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(u){var d=u.d;u.s==="ok"?(r.onDataUpdate_(o.p,d,!1,null),i.resolve(d)):i.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var u=r.outstandingGets_[l];u===void 0||a!==u||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},IY),this.connected_&&this.sendGet_(l),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var u={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var l={p:o},u="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(u,l,function(d){var f=d.d,p=d.s;e.warnOnListenWarnings_(f,i);var m=r.listens.get(o)&&r.listens.get(o).get(a);m===n&&(r.log_("listen response",d),p!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(p,f))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&wn(n,"w")){var i=No(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();fn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||Bw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O1)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=Uw(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var l=a.s,u=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,u))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";o&&(a.q=i,a.t=o),this.sendRequest(l,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){o&&setTimeout(function(){o(l.s,l.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:o}),this.outstandingPutCount_++;var u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var l=o.d;r.log_("reportStats","Error sending stats: "+l)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+It(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Qw("Unrecognized action received from server: "+It(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cf,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Cf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>kY&&(this.reconnectDelay_=Cf),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RY)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d,f,p,m,g,y,_,w=this;return D(this,function(S){switch(S.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,l=!1,u=null,d=function(){u?u.close():(l=!0,i())},f=function(C){G(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(C)},this.realtime_={close:d,sendRequest:f},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return m=Ct.apply(void 0,[S.sent(),2]),g=m[0],y=m[1],l?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,u=new C1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(C){fn(C+" ("+w.repoInfo_.toString()+")"),w.interrupt(AY)},a)),[3,4];case 3:return _=S.sent(),this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&fn(_),d()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){en("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){en("Resuming connection for reason: "+n),delete this.interruptReasons_[n],gf(this.interruptReasons_)&&(this.reconnectDelay_=Cf,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Jw(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new qe(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){en("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M1&&(this.reconnectDelay_=O1,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){en("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M1&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=gt(this.listens.values()),l=a.next();!l.done;l=a.next()){var u=l.value;try{for(var d=(i=void 0,gt(u.values())),f=d.next();!f.done;f=d.next()){var p=f.value;this.sendListen_(p)}}catch(y){i={error:y}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},e.prototype.sendConnectStats_=function(){var n={},r="js";Kr()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xw.replace(/\./g,"-")]=1,Du()?n["framework.cordova"]=1:mf()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=k1.getInstance().currentlyOnline();return gf(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(I1);var Oe=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();var zm=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Oe(Po,e),i=new Oe(Po,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Oe.MIN},t}();var Gm,L1=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Gm},set:function(n){Gm=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Ga(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw ms("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Oe.MIN},e.prototype.maxPost=function(){return new Oe(Xi,Gm)},e.prototype.makePost=function(n,r){return G(typeof n=="string","KeyIndex indexValue must always be a string."),new Oe(n,Gm)},e.prototype.toString=function(){return".key"},e}(zm),$i=new L1;var Km=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),xi=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??Oo.EMPTY_NODE,this.right=o??Oo.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Oo.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Oo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),DY=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new xi(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Oo=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xi.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Km(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Km(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Km(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Km(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new DY,t}();function NY(t,e){return Ga(t.name,e.name)}function uE(t,e){return Ga(t,e)}var cE;function PY(t){cE=t}var F1=function(t){return typeof t=="number"?"number:"+r1(t):"string:"+t},U1=function(t){if(t.isLeafNode()){var e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wn(e,".sv"),"Priority must be a string or number.")}else G(t===cE||t.isEmpty(),"priority of unexpected type.");G(t===cE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var B1,qu=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),U1(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return B1},set:function(e){B1=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Ce(e)?this:Te(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+F1(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=r1(this.value_):e+=this.value_,this.lazyHash_=ZP(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var H1,V1;function OY(t){H1=t}function MY(t){V1=t}var LY=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Ga(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Oe.MIN},e.prototype.maxPost=function(){return new Oe(Xi,new qu("[PRIORITY-POST]",V1))},e.prototype.makePost=function(n,r){var i=H1(n);return new Oe(r,new qu("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(zm),Ze=new LY;var FY=Math.log(2),UY=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/FY,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Ym=function(t,e,n,r){t.sort(e);var i=function(u,d){var f=d-u,p,m;if(f===0)return null;if(f===1)return p=t[u],m=n?n(p):p,new xi(m,p.node,xi.BLACK,null,null);var g=parseInt(f/2,10)+u,y=i(u,g),_=i(g+1,d);return p=t[g],m=n?n(p):p,new xi(m,p.node,xi.BLACK,y,_)},o=function(u){for(var d=null,f=null,p=t.length,m=function(S,C){var R=p-S,A=p;p-=S;var L=i(R+1,A),M=t[R],W=n?n(M):M;g(new xi(W,M.node,C,null,L))},g=function(S){d?(d.left=S,d=S):(f=S,d=S)},y=0;y<u.count;++y){var _=u.nextBitIsOne(),w=Math.pow(2,u.count-(y+1));_?m(w,xi.BLACK):(m(w,xi.BLACK),m(w,xi.RED))}return f},a=new UY(t.length),l=o(a);return new Oo(r||e,l)};var dE,Wu={},Xm=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return G(Wu&&Ze,"ChildrenNode.ts has not been loaded"),dE=dE||new t({".priority":Wu},{".priority":Ze}),dE},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=No(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Oo?n:null},t.prototype.hasIndex=function(e){return wn(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){G(e!==$i,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Oe.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var l;i?l=Ym(r,e.getCompare()):l=Wu;var u=e.toString(),d=I({},this.indexSet_);d[u]=e;var f=I({},this.indexes_);return f[u]=l,new t(f,d)},t.prototype.addToIndexes=function(e,n){var r=this,i=Mu(this.indexes_,function(o,a){var l=No(r.indexSet_,a);if(G(l,"Missing index implementation for "+a),o===Wu)if(l.isDefinedOn(e.node)){for(var u=[],d=n.getIterator(Oe.Wrap),f=d.getNext();f;)f.name!==e.name&&u.push(f),f=d.getNext();return u.push(e),Ym(u,l.getCompare())}else return Wu;else{var p=n.get(e.name),m=o;return p&&(m=m.remove(new Oe(e.name,p))),m.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Mu(this.indexes_,function(i){if(i===Wu)return i;var o=n.get(e.name);return o?i.remove(new Oe(e.name,o)):i});return new t(r,this.indexSet_)},t}();var If,be=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&U1(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return If||(If=new t(new Oo(uE),null,Xm.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||If},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?If:n},t.prototype.getChild=function(e){var n=Te(e);return n===null?this:this.getImmediateChild(n).getChild(Xe(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Oe(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?If:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=Te(e);if(r===null)return n;G(Te(e)!==".priority"||ys(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Xe(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ze,function(u,d){n[u]=d.val(e),r++,o&&t.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):o=!1}),!e&&o&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+F1(this.getPriority().val())+":"),this.forEachChild(Ze,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ZP(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new Oe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Oe(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Oe(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Oe.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rf?-1:0},t.prototype.withIndex=function(e){if(e===$i||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===$i||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Ze),i=n.getIterator(Ze),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===$i?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),BY=function(t){P(e,t);function e(){return t.call(this,new Oo(uE),be.EMPTY_NODE,Xm.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return be.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(be),Rf=new BY;Object.defineProperties(Oe,{MIN:{value:new Oe(Po,be.EMPTY_NODE)},MAX:{value:new Oe(Xi,Rf)}});L1.__EMPTY_NODE=be.EMPTY_NODE;qu.__childrenNodeConstructor=be;PY(Rf);MY(Rf);var HY=!0;function ft(t,e){if(e===void 0&&(e=null),t===null)return be.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new qu(n,ft(e))}if(!(t instanceof Array)&&HY){var r=[],i=!1,o=t;if(Gt(o,function(d,f){if(d.substring(0,1)!=="."){var p=ft(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),r.push(new Oe(d,p)))}}),r.length===0)return be.EMPTY_NODE;var a=Ym(r,NY,function(d){return d.name},uE);if(i){var l=Ym(r,Ze.getCompare());return new be(a,ft(e),new Xm({".priority":l},{".priority":Ze}))}else return new be(a,ft(e),Xm.Default)}else{var u=be.EMPTY_NODE;return Gt(t,function(d,f){if(wn(t,d)&&d.substring(0,1)!=="."){var p=ft(f);(p.isLeafNode()||!p.isEmpty())&&(u=u.updateImmediateChild(d,p))}}),u.updatePriority(ft(e))}}OY(ft);var fE=function(t){P(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,G(!Ce(n)&&Te(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Ga(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=ft(n),o=be.EMPTY_NODE.updateChild(this.indexPath_,i);return new Oe(r,o)},e.prototype.maxPost=function(){var n=be.EMPTY_NODE.updateChild(this.indexPath_,Rf);return new Oe(Xi,n)},e.prototype.toString=function(){return Tf(this.indexPath_,0).join("/")},e}(zm);var VY=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ga(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Oe.MIN},e.prototype.maxPost=function(){return Oe.MAX},e.prototype.makePost=function(n,r){var i=ft(n);return new Oe(r,i)},e.prototype.toString=function(){return".value"},e}(zm),hE=new VY;var zu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pE="-",j1="z",q1=786,jY=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=zu.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=zu.charAt(e[i]);return G(a.length===20,"nextPushId: Length should be 20."),a}}(),W1=function(t){if(t===""+Zw)return pE;var e=qm(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<q1)return n.push(pE),n.join("");for(var i=n.length-1;i>=0&&n[i]===j1;)i--;if(i===-1)return Xi;var o=n[i],a=zu.charAt(zu.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},z1=function(t){if(t===""+i1)return Po;var e=qm(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===pE?n.length===1?""+Zw:(delete n[n.length-1],n.join("")):(n[n.length-1]=zu.charAt(zu.indexOf(n[n.length-1])-1),n.join("")+j1.repeat(q1-n.length))};function G1(t){return{type:"value",snapshotNode:t}}function Gu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function kf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Af(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function qY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var mE=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(kf(n,l)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Gu(n,r)):a.trackChildChange(Af(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ze,function(i,o){n.hasChild(i)||r.trackChildChange(kf(i,o))}),n.isLeafNode()||n.forEachChild(Ze,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(Af(i,o,a))}else r.trackChildChange(Gu(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?be.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();var K1=function(){function t(e){this.indexedFilter_=new mE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new Oe(n,r))||(r=be.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=be.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(be.EMPTY_NODE);var o=this;return n.forEachChild(Ze,function(a,l){o.matches(new Oe(a,l))||(i=i.updateImmediateChild(a,be.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();var WY=function(){function t(e){this.rangedFilter_=new K1(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new Oe(n,r))||(r=be.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=be.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=be.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var l=o.getNext(),u=void 0;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:u=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(be.EMPTY_NODE);var d=void 0,f=void 0,p=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();p=function(w,S){return m(S,w)}}else o=i.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();for(var a=0,g=!1;o.hasNext();){var l=o.getNext();!g&&p(d,l)<=0&&(g=!0);var u=g&&a<this.limit_&&p(l,f)<=0;u?a++:i=i.updateImmediateChild(l.name,be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(C,R){return l(R,C)}}else a=this.index_.getCompare();var u=e;G(u.numChildren()===this.limit_,"");var d=new Oe(n,r),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(u.hasChild(n)){for(var m=u.getImmediateChild(n),g=i.getChildAfterChild(this.index_,f,this.reverse_);g!=null&&(g.name===n||u.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);var y=g==null?1:a(g,d),_=p&&!r.isEmpty()&&y>=0;if(_)return o!=null&&o.trackChildChange(Af(n,r,m)),u.updateImmediateChild(n,r);o!=null&&o.trackChildChange(kf(n,m));var w=u.updateImmediateChild(n,be.EMPTY_NODE),S=g!=null&&this.rangedFilter_.matches(g);return S?(o!=null&&o.trackChildChange(Gu(g.name,g.node)),w.updateImmediateChild(g.name,g.node)):w}else return r.isEmpty()?e:p&&a(f,d)>=0?(o!=null&&(o.trackChildChange(kf(f.name,f.node)),o.trackChildChange(Gu(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(f.name,be.EMPTY_NODE)):e},t}();var Y1=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Po},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xi},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ze},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function zY(t){return t.loadsAllData()?new mE(t.getIndex()):t.hasLimit()?new WY(t):new K1(t)}function GY(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function KY(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function vE(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function YY(t,e,n){var r;if(t.index_===$i)typeof e=="string"&&(e=W1(e)),r=vE(t,e,n);else{var i=void 0;n==null?i=Xi:i=W1(n),r=vE(t,e,i)}return r.startAfterSet_=!0,r}function gE(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function XY(t,e,n){var r,i;return t.index_===$i?(typeof e=="string"&&(e=z1(e)),i=gE(t,e,n)):(n==null?r=Po:r=z1(n),i=gE(t,e,r)),i.endBeforeSet_=!0,i}function $m(t,e){var n=t.copy();return n.index_=e,n}function X1(t){var e={};if(t.isDefault())return e;var n;return t.index_===Ze?n="$priority":t.index_===hE?n="$value":t.index_===$i?n="$key":(G(t.index_ instanceof fE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=It(n),t.startSet_&&(e.startAt=It(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+It(t.indexStartName_))),t.endSet_&&(e.endAt=It(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+It(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $1(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ze&&(e.i=t.index_.toString()),e}var $Y=function(t){P(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=_f("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(G(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var u=e.getListenId_(n,i),d={};this.listens_[u]=d;var f=X1(n._queryParams);this.restRequest_(l+".json",f,function(p,m){var g=m;if(p===404&&(g=null,p=null),p===null&&a.onDataUpdate_(l,g,!1,i),No(a.listens_,u)===d){var y;p?p===401?y="permission_denied":y="rest_error:"+p:y="ok",o(y,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=X1(n._queryParams),o=n._path.toString(),a=new cn;return this.restRequest_(o+".json",i,function(l,u){var d=u;l===404&&(d=null,l=null),l===null?(r.onDataUpdate_(o,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Ct(a,2),u=l[0],d=l[1];u&&u.accessToken&&(r.auth=u.accessToken),d&&d.token&&(r.ac=d.token);var f=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+Hw(r);o.log_("Sending REST request for "+f);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(i&&p.readyState===4){o.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);var m=null;if(p.status>=200&&p.status<300){try{m=ja(p.responseText)}catch(g){fn("Failed to parse JSON response for "+f+": "+p.responseText)}i(null,m)}else p.status!==401&&p.status!==404&&fn("Got unsuccessful REST response for "+f+" Status: "+p.status),i(p.status);i=null}},p.open("GET",f,!0),p.send()})},e}(I1);var QY=function(){function t(){this.rootNode_=be.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();function Qm(){return{value:null,children:new Map}}function Ku(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=Te(e);t.children.has(r)||t.children.set(r,Qm());var i=t.children.get(r);e=Xe(e),Ku(i,e,n)}}function yE(t,e){if(Ce(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Ze,function(o,a){Ku(t,new qe(o),a)}),yE(t,e)}else if(t.children.size>0){var r=Te(e);if(e=Xe(e),t.children.has(r)){var i=yE(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function bE(t,e,n){t.value!==null?n(e,t.value):JY(t,function(r,i){var o=new qe(e.toString()+"/"+r);bE(i,o,n)})}function JY(t,e){t.children.forEach(function(n,r){e(r,n)})}var Q1=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=I({},e);return this.last_&&Gt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();var J1=10*1e3,ZY=30*1e3,eX=5*60*1e3,tX=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Q1(e);var r=J1+(ZY-J1)*Math.random();Ef(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Gt(n,function(o,a){a>0&&wn(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),Ef(this.reportStats_.bind(this),Math.floor(Math.random()*2*eX))},t}();function nX(t,e){t.statsToReport_[e]=!0}var Ti;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ti||(Ti={}));function _E(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function EE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var rX=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ti.ACK_USER_WRITE,this.source=_E()}return t.prototype.operationForChild=function(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new qe(e));return new t(Ue(),n,this.revert)}else return G(Te(this.path)===e,"operationForChild called for unrelated child."),new t(Xe(this.path),this.affectedTree,this.revert)},t}();var Z1=function(){function t(e,n){this.source=e,this.path=n,this.type=Ti.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Ce(this.path)?new t(this.source,Ue()):new t(this.source,Xe(this.path))},t}();var Jm=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ti.OVERWRITE}return t.prototype.operationForChild=function(e){return Ce(this.path)?new t(this.source,Ue(),this.snap.getImmediateChild(e)):new t(this.source,Xe(this.path),this.snap)},t}();var SE=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ti.MERGE}return t.prototype.operationForChild=function(e){if(Ce(this.path)){var n=this.children.subtree(new qe(e));return n.isEmpty()?null:n.value?new Jm(this.source,Ue(),n.value):new t(this.source,Ue(),n)}else return G(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Xe(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();var bs=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;var n=Te(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();var iX=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function oX(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(qY(a.childName,a.snapshotNode))}),Df(t,i,"child_removed",e,r,n),Df(t,i,"child_added",e,r,n),Df(t,i,"child_moved",o,r,n),Df(t,i,"child_changed",e,r,n),Df(t,i,"value",e,r,n),i}function Df(t,e,n,r,i,o){var a=r.filter(function(l){return l.type===n});a.sort(function(l,u){return aX(t,l,u)}),a.forEach(function(l){var u=sX(t,l,o);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(u,t.query_))})})}function sX(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function aX(t,e,n){if(e.childName==null||n.childName==null)throw ms("Should only compare child_ events.");var r=new Oe(e.childName,e.snapshotNode),i=new Oe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Zm(t,e){return{eventCache:t,serverCache:e}}function Nf(t,e,n,r){return Zm(new bs(e,n,r),t.serverCache)}function eO(t,e,n,r){return Zm(t.eventCache,new bs(e,n,r))}function ev(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $a(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var xE,lX=function(){return xE||(xE=new Oo(BK)),xE},Tr=function(){function t(e,n){n===void 0&&(n=lX()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return Gt(e,function(r,i){n=n.set(new qe(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(Ce(e))return null;var r=Te(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(Xe(e),n);if(o!=null){var a=at(new qe(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Ce(e))return this;var n=Te(e),r=this.children.get(n);return r!==null?r.subtree(Xe(e)):new t(null)},t.prototype.set=function(e,n){if(Ce(e))return new t(n,this.children);var r=Te(e),i=this.children.get(r)||new t(null),o=i.set(Xe(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(Ce(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Te(e),r=this.children.get(n);if(r){var i=r.remove(Xe(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(Ce(e))return this.value;var n=Te(e),r=this.children.get(n);return r?r.get(Xe(e)):null},t.prototype.setTree=function(e,n){if(Ce(e))return n;var r=Te(e),i=this.children.get(r)||new t(null),o=i.setTree(Xe(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(Ue(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(at(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,Ue(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Ce(e))return null;var o=Te(e),a=this.children.get(o);return a?a.findOnPath_(Xe(e),at(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,Ue(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Ce(e))return this;this.value&&r(n,this.value);var i=Te(e),o=this.children.get(i);return o?o.foreachOnPath_(Xe(e),at(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(Ue(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(at(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();var Mo=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Tr(null))},t}();function Pf(t,e,n){if(Ce(e))return new Mo(new Tr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Fn(i,e);return o=o.updateChild(a,n),new Mo(t.writeTree_.set(i,o))}else{var l=new Tr(n),u=t.writeTree_.setTree(e,l);return new Mo(u)}}function TE(t,e,n){var r=t;return Gt(n,function(i,o){r=Pf(r,at(e,i),o)}),r}function tO(t,e){if(Ce(e))return Mo.empty();var n=t.writeTree_.setTree(e,new Tr(null));return new Mo(n)}function CE(t,e){return Qa(t,e)!=null}function Qa(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fn(n.path,e)):null}function nO(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ze,function(r,i){e.push(new Oe(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Oe(r,i.value))}),e}function _s(t,e){if(Ce(e))return t;var n=Qa(t,e);return n!=null?new Mo(new Tr(n)):new Mo(t.writeTree_.subtree(e))}function IE(t){return t.writeTree_.isEmpty()}function Yu(t,e){return rO(Ue(),t.writeTree_,e)}function rO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(G(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=rO(at(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(at(t,".priority"),r)),n}function tv(t,e){return lO(e,t)}function uX(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pf(t.visibleWrites,e,n)),t.lastWriteId=r}function cX(t,e,n,r){G(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=TE(t.visibleWrites,e,n),t.lastWriteId=r}function dX(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function fX(t,e){var n=t.allWrites.findIndex(function(d){return d.writeId===e});G(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var l=t.allWrites[a];l.visible&&(a>=n&&hX(l,r.path)?i=!1:Xr(r.path,l.path)&&(o=!0)),a--}if(i){if(o)return pX(t),!0;if(r.snap)t.visibleWrites=tO(t.visibleWrites,r.path);else{var u=r.children;Gt(u,function(d){t.visibleWrites=tO(t.visibleWrites,at(r.path,d))})}return!0}else return!1}function hX(t,e){if(t.snap)return Xr(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Xr(at(t.path,n),e))return!0;return!1}function pX(t){t.visibleWrites=iO(t.allWrites,mX,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mX(t){return t.visible}function iO(t,e,n){for(var r=Mo.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,l=void 0;if(o.snap)Xr(n,a)?(l=Fn(n,a),r=Pf(r,l,o.snap)):Xr(a,n)&&(l=Fn(a,n),r=Pf(r,Ue(),o.snap.getChild(l)));else if(o.children){if(Xr(n,a))l=Fn(n,a),r=TE(r,l,o.children);else if(Xr(a,n))if(l=Fn(a,n),Ce(l))r=TE(r,Ue(),o.children);else{var u=No(o.children,Te(l));if(u){var d=u.getChild(Xe(l));r=Pf(r,Ue(),d)}}}else throw ms("WriteRecord should have .snap or .children")}}return r}function oO(t,e,n,r,i){if(!r&&!i){var o=Qa(t.visibleWrites,e);if(o!=null)return o;var a=_s(t.visibleWrites,e);if(IE(a))return n;if(n==null&&!CE(a,Ue()))return null;var l=n||be.EMPTY_NODE;return Yu(a,l)}else{var u=_s(t.visibleWrites,e);if(!i&&IE(u))return n;if(!i&&n==null&&!CE(u,Ue()))return null;var d=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Xr(m.path,e)||Xr(e,m.path))},f=iO(t.allWrites,d,e),l=n||be.EMPTY_NODE;return Yu(f,l)}}function vX(t,e,n){var r=be.EMPTY_NODE,i=Qa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ze,function(l,u){r=r.updateImmediateChild(l,u)}),r;if(n){var o=_s(t.visibleWrites,e);return n.forEachChild(Ze,function(l,u){var d=Yu(_s(o,new qe(l)),u);r=r.updateImmediateChild(l,d)}),nO(o).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=_s(t.visibleWrites,e);return nO(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function gX(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=at(e,n);if(CE(t.visibleWrites,o))return null;var a=_s(t.visibleWrites,o);return IE(a)?i.getChild(n):Yu(a,i.getChild(n))}function yX(t,e,n,r){var i=at(e,n),o=Qa(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=_s(t.visibleWrites,i);return Yu(a,r.getNode().getImmediateChild(n))}else return null}function bX(t,e){return Qa(t.visibleWrites,e)}function _X(t,e,n,r,i,o,a){var l,u=_s(t.visibleWrites,e),d=Qa(u,Ue());if(d!=null)l=d;else if(n!=null)l=Yu(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var f=[],p=a.getCompare(),m=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),g=m.getNext();g&&f.length<i;)p(g,r)!==0&&f.push(g),g=m.getNext();return f}else return[]}function wX(){return{visibleWrites:Mo.empty(),allWrites:[],lastWriteId:-1}}function nv(t,e,n,r){return oO(t.writeTree,t.treePath,e,n,r)}function RE(t,e){return vX(t.writeTree,t.treePath,e)}function sO(t,e,n,r){return gX(t.writeTree,t.treePath,e,n,r)}function rv(t,e){return bX(t.writeTree,at(t.treePath,e))}function EX(t,e,n,r,i,o){return _X(t.writeTree,t.treePath,e,n,r,i,o)}function kE(t,e,n){return yX(t.writeTree,t.treePath,e,n)}function aO(t,e){return lO(at(t.treePath,e),t.writeTree)}function lO(t,e){return{treePath:t,writeTree:e}}var SX=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Af(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,kf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Gu(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Af(r,e.snapshotNode,i.oldSnap));else throw ms("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();var xX=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),uO=new xX,AE=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kE(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$a(this.viewCache_),o=EX(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();function TX(t){return{filter:t}}function CX(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function IX(t,e,n,r,i){var o=new SX,a,l;if(n.type===Ti.OVERWRITE){var u=n;u.source.fromUser?a=DE(t,e,u.path,u.snap,r,i,o):(G(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Ce(u.path),a=iv(t,e,u.path,u.snap,r,i,l,o))}else if(n.type===Ti.MERGE){var d=n;d.source.fromUser?a=kX(t,e,d.path,d.children,r,i,o):(G(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),a=NE(t,e,d.path,d.children,r,i,l,o))}else if(n.type===Ti.ACK_USER_WRITE){var f=n;f.revert?a=NX(t,e,f.path,r,i,o):a=AX(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===Ti.LISTEN_COMPLETE)a=DX(t,e,n.path,r,o);else throw ms("Unknown operation type: "+n.type);var p=o.getChanges();return RX(e,a,p),{viewCache:a,changes:p}}function RX(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ev(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(G1(ev(e)))}}function cO(t,e,n,r,i,o){var a=e.eventCache;if(rv(r,n)!=null)return e;var l=void 0,u=void 0;if(Ce(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=$a(e),f=d instanceof be?d:be.EMPTY_NODE,p=RE(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{var m=nv(r,$a(e));l=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{var g=Te(n);if(g===".priority"){G(ys(n)===1,"Can't have a priority with additional path components");var y=a.getNode();u=e.serverCache.getNode();var _=sO(r,n,y,u);_!=null?l=t.filter.updatePriority(y,_):l=a.getNode()}else{var w=Xe(n),S=void 0;if(a.isCompleteForChild(g)){u=e.serverCache.getNode();var C=sO(r,n,a.getNode(),u);C!=null?S=a.getNode().getImmediateChild(g).updateChild(w,C):S=a.getNode().getImmediateChild(g)}else S=kE(r,g,e.serverCache);S!=null?l=t.filter.updateChild(a.getNode(),g,S,w,i,o):l=a.getNode()}}return Nf(e,l,a.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}function iv(t,e,n,r,i,o,a,l){var u=e.serverCache,d,f=a?t.filter:t.filter.getIndexedFilter();if(Ce(n))d=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){var p=u.getNode().updateChild(n,r);d=f.updateFullNode(u.getNode(),p,null)}else{var m=Te(n);if(!u.isCompleteForPath(n)&&ys(n)>1)return e;var g=Xe(n),y=u.getNode().getImmediateChild(m),_=y.updateChild(g,r);m===".priority"?d=f.updatePriority(u.getNode(),_):d=f.updateChild(u.getNode(),m,_,g,uO,null)}var w=eO(e,d,u.isFullyInitialized()||Ce(n),f.filtersNodes()),S=new AE(i,w,o);return cO(t,w,n,i,S,l)}function DE(t,e,n,r,i,o,a){var l=e.eventCache,u,d,f=new AE(i,e,o);if(Ce(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=Nf(e,d,!0,t.filter.filtersNodes());else{var p=Te(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),u=Nf(e,d,l.isFullyInitialized(),l.isFiltered());else{var m=Xe(n),g=l.getNode().getImmediateChild(p),y=void 0;if(Ce(m))y=r;else{var _=f.getCompleteChild(p);_!=null?aE(m)===".priority"&&_.getChild(N1(m)).isEmpty()?y=_:y=_.updateChild(m,r):y=be.EMPTY_NODE}if(g.equals(y))u=e;else{var w=t.filter.updateChild(l.getNode(),p,y,m,f,a);u=Nf(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function dO(t,e){return t.eventCache.isCompleteForChild(e)}function kX(t,e,n,r,i,o,a){var l=e;return r.foreach(function(u,d){var f=at(n,u);dO(e,Te(f))&&(l=DE(t,l,f,d,i,o,a))}),r.foreach(function(u,d){var f=at(n,u);dO(e,Te(f))||(l=DE(t,l,f,d,i,o,a))}),l}function fO(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function NE(t,e,n,r,i,o,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u=e,d;Ce(n)?d=r:d=new Tr(null).setTree(n,r);var f=e.serverCache.getNode();return d.children.inorderTraversal(function(p,m){if(f.hasChild(p)){var g=e.serverCache.getNode().getImmediateChild(p),y=fO(t,g,m);u=iv(t,u,new qe(p),y,i,o,a,l)}}),d.children.inorderTraversal(function(p,m){var g=!e.serverCache.isCompleteForChild(p)&&m.value===void 0;if(!f.hasChild(p)&&!g){var y=e.serverCache.getNode().getImmediateChild(p),_=fO(t,y,m);u=iv(t,u,new qe(p),_,i,o,a,l)}}),u}function AX(t,e,n,r,i,o,a){if(rv(i,n)!=null)return e;var l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Ce(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return iv(t,e,n,u.getNode().getChild(n),i,o,l,a);if(Ce(n)){var d=new Tr(null);return u.getNode().forEachChild($i,function(p,m){d=d.set(new qe(p),m)}),NE(t,e,n,d,i,o,l,a)}else return e}else{var f=new Tr(null);return r.foreach(function(p,m){var g=at(n,p);u.isCompleteForPath(g)&&(f=f.set(p,u.getNode().getChild(g)))}),NE(t,e,n,f,i,o,l,a)}}function DX(t,e,n,r,i){var o=e.serverCache,a=eO(e,o.getNode(),o.isFullyInitialized()||Ce(n),o.isFiltered());return cO(t,a,n,r,uO,i)}function NX(t,e,n,r,i,o){var a;if(rv(r,n)!=null)return e;var l=new AE(r,e,i),u=e.eventCache.getNode(),d=void 0;if(Ce(n)||Te(n)===".priority"){var f=void 0;if(e.serverCache.isFullyInitialized())f=nv(r,$a(e));else{var p=e.serverCache.getNode();G(p instanceof be,"serverChildren would be complete if leaf node"),f=RE(r,p)}f=f,d=t.filter.updateFullNode(u,f,o)}else{var m=Te(n),g=kE(r,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=u.getImmediateChild(m)),g!=null?d=t.filter.updateChild(u,m,g,Xe(n),l,o):e.eventCache.getNode().hasChild(m)?d=t.filter.updateChild(u,m,be.EMPTY_NODE,Xe(n),l,o):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=nv(r,$a(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||rv(r,Ue())!=null,Nf(e,d,a,t.filter.filtersNodes())}var PX=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new mE(r.getIndex()),o=zY(r);this.processor_=TX(o);var a=n.serverCache,l=n.eventCache,u=i.updateFullNode(be.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(be.EMPTY_NODE,l.getNode(),null),f=new bs(u,a.isFullyInitialized(),i.filtersNodes()),p=new bs(d,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Zm(p,f),this.eventGenerator_=new iX(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function OX(t){return t.viewCache_.serverCache.getNode()}function MX(t){return ev(t.viewCache_)}function LX(t,e){var n=$a(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(Te(e)).isEmpty())?n.getChild(e):null}function hO(t){return t.eventRegistrations_.length===0}function FX(t,e){t.eventRegistrations_.push(e)}function pO(t,e,n){var r=[];if(n){G(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(u){var d=u.createCancelEvent(n,i);d&&r.push(d)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var l=t.eventRegistrations_[a];if(!l.matches(e))o.push(l);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function mO(t,e,n,r){e.type===Ti.MERGE&&e.source.queryId!==null&&(G($a(t.viewCache_),"We should always have a full cache before handling merges"),G(ev(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=IX(t.processor_,i,e,n,r);return CX(t.processor_,o.viewCache),G(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,vO(t,o.changes,o.viewCache.eventCache.getNode(),null)}function UX(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Ze,function(o,a){r.push(Gu(o,a))})}return n.isFullyInitialized()&&r.push(G1(n.getNode())),vO(t,r,n.getNode(),e)}function vO(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return oX(t.eventGenerator_,e,n,i)}var ov,gO=function(){function t(){this.views=new Map}return t}();function BX(t){G(!ov,"__referenceConstructor has already been defined"),ov=t}function HX(){return G(ov,"Reference.ts has not been loaded"),ov}function VX(t){return t.views.size===0}function PE(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var l=t.views.get(a);return G(l!=null,"SyncTree gave us an op for an invalid query."),mO(l,e,n,r)}else{var u=[];try{for(var d=gt(t.views.values()),f=d.next();!f.done;f=d.next()){var l=f.value;u=u.concat(mO(l,e,n,r))}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return u}}function yO(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var l=nv(n,i?r:null),u=!1;l?u=!0:r instanceof be?(l=RE(n,r),u=!1):(l=be.EMPTY_NODE,u=!1);var d=Zm(new bs(l,u,!1),new bs(r,i,!1));return new PX(e,d)}return a}function jX(t,e,n,r,i,o){var a=yO(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),FX(a,n),UX(a,n)}function qX(t,e,n,r){var i,o,a=e._queryIdentifier,l=[],u=[],d=Es(t);if(a==="default")try{for(var f=gt(t.views.entries()),p=f.next();!p.done;p=f.next()){var m=Ct(p.value,2),g=m[0],y=m[1];u=u.concat(pO(y,n,r)),hO(y)&&(t.views.delete(g),y.query._queryParams.loadsAllData()||l.push(y.query))}}catch(_){i={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else{var y=t.views.get(a);y&&(u=u.concat(pO(y,n,r)),hO(y)&&(t.views.delete(a),y.query._queryParams.loadsAllData()||l.push(y.query)))}return d&&!Es(t)&&l.push(new(HX())(e._repo,e._path)),{removed:l,events:u}}function bO(t){var e,n,r=[];try{for(var i=gt(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function ws(t,e){var n,r,i=null;try{for(var o=gt(t.views.values()),a=o.next();!a.done;a=o.next()){var l=a.value;i=i||LX(l,e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function _O(t,e){var n=e._queryParams;if(n.loadsAllData())return sv(t);var r=e._queryIdentifier;return t.views.get(r)}function wO(t,e){return _O(t,e)!=null}function Es(t){return sv(t)!=null}function sv(t){var e,n;try{for(var r=gt(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var av;function WX(t){G(!av,"__referenceConstructor has already been defined"),av=t}function zX(){return G(av,"Reference.ts has not been loaded"),av}var GX=1,EO=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Tr(null),this.pendingWriteTree_=wX(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function OE(t,e,n,r,i){return uX(t.pendingWriteTree_,e,n,r,i),i?Xu(t,new Jm(_E(),e,n)):[]}function KX(t,e,n,r){cX(t.pendingWriteTree_,e,n,r);var i=Tr.fromObject(n);return Xu(t,new SE(_E(),e,i))}function Ss(t,e,n){n===void 0&&(n=!1);var r=dX(t.pendingWriteTree_,e),i=fX(t.pendingWriteTree_,e);if(i){var o=new Tr(null);return r.snap!=null?o=o.set(Ue(),!0):Gt(r.children,function(a){o=o.set(new qe(a),!0)}),Xu(t,new rX(r.path,o,n))}else return[]}function Of(t,e,n){return Xu(t,new Jm(wE(),e,n))}function YX(t,e,n){var r=Tr.fromObject(n);return Xu(t,new SE(wE(),e,r))}function XX(t,e){return Xu(t,new Z1(wE(),e))}function $X(t,e,n){var r=LE(t,n);if(r){var i=FE(r),o=i.path,a=i.queryId,l=Fn(o,e),u=new Z1(EE(a),l);return UE(t,o,u)}else return[]}function ME(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||wO(o,e))){var l=qX(o,e,n,r);VX(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=l.removed;a=l.events;var d=u.findIndex(function(C){return C._queryParams.loadsAllData()})!==-1,f=t.syncPointTree_.findOnPath(i,function(C,R){return Es(R)});if(d&&!f){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var m=e$(p),g=0;g<m.length;++g){var y=m[g],_=y.query,w=CO(t,y);t.listenProvider_.startListening(Mf(_),uv(t,_),w.hashFn,w.onComplete)}}if(!f&&u.length>0&&!r)if(d){var S=null;t.listenProvider_.stopListening(Mf(e),S)}else u.forEach(function(C){var R=t.queryToTagMap.get(cv(C));t.listenProvider_.stopListening(Mf(C),R)});t$(t,u)}return a}function QX(t,e,n,r){var i=LE(t,r);if(i!=null){var o=FE(i),a=o.path,l=o.queryId,u=Fn(a,e),d=new Jm(EE(l),u,n);return UE(t,a,d)}else return[]}function JX(t,e,n,r){var i=LE(t,r);if(i){var o=FE(i),a=o.path,l=o.queryId,u=Fn(a,e),d=Tr.fromObject(n),f=new SE(EE(l),u,d);return UE(t,a,f)}else return[]}function SO(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(_,w){var S=Fn(_,r);i=i||ws(w,S),o=o||Es(w)});var a=t.syncPointTree_.get(r);a?(o=o||Es(a),i=i||ws(a,Ue())):(a=new gO,t.syncPointTree_=t.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=be.EMPTY_NODE;var u=t.syncPointTree_.subtree(r);u.foreachChild(function(_,w){var S=ws(w,Ue());S&&(i=i.updateImmediateChild(_,S))})}var d=wO(a,e);if(!d&&!e._queryParams.loadsAllData()){var f=cv(e);G(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");var p=n$();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}var m=tv(t.pendingWriteTree_,r),g=jX(a,e,n,m,i,l);if(!d&&!o){var y=_O(a,e);g=g.concat(r$(t,e,y))}return g}function lv(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,l){var u=Fn(a,e),d=ws(l,u);if(d)return d});return oO(i,e,o,n,r)}function ZX(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(d,f){var p=Fn(d,n);r=r||ws(f,p)});var i=t.syncPointTree_.get(n);i?r=r||ws(i,Ue()):(i=new gO,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new bs(r,!0,!1):null,l=tv(t.pendingWriteTree_,e._path),u=yO(i,e,l,o?a.getNode():be.EMPTY_NODE,o);return MX(u)}function Xu(t,e){return xO(e,t.syncPointTree_,null,tv(t.pendingWriteTree_,Ue()))}function xO(t,e,n,r){if(Ce(t.path))return TO(t,e,n,r);var i=e.get(Ue());n==null&&i!=null&&(n=ws(i,Ue()));var o=[],a=Te(t.path),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){var d=n?n.getImmediateChild(a):null,f=aO(r,a);o=o.concat(xO(l,u,d,f))}return i&&(o=o.concat(PE(i,t,r,n))),o}function TO(t,e,n,r){var i=e.get(Ue());n==null&&i!=null&&(n=ws(i,Ue()));var o=[];return e.children.inorderTraversal(function(a,l){var u=n?n.getImmediateChild(a):null,d=aO(r,a),f=t.operationForChild(a);f&&(o=o.concat(TO(f,l,u,d)))}),i&&(o=o.concat(PE(i,t,r,n))),o}function CO(t,e){var n=e.query,r=uv(t,n);return{hashFn:function(){var i=OX(e)||be.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?$X(t,n._path,r):XX(t,n._path);var o=jK(i,n);return ME(t,n,null,o)}}}function uv(t,e){var n=cv(e);return t.queryToTagMap.get(n)}function cv(t){return t._path.toString()+"$"+t._queryIdentifier}function LE(t,e){return t.tagToQueryMap.get(e)}function FE(t){var e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qe(t.substr(0,e))}}function UE(t,e,n){var r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");var i=tv(t.pendingWriteTree_,e);return PE(r,n,i,null)}function e$(t){return t.fold(function(e,n,r){if(n&&Es(n)){var i=sv(n);return[i]}else{var o=[];return n&&(o=bO(n)),Gt(r,function(a,l){o=o.concat(l)}),o}})}function Mf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zX())(t._repo,t._path):t}function t$(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=cv(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function n$(){return GX++}function r$(t,e,n){var r=e._path,i=uv(t,e),o=CO(t,n),a=t.listenProvider_.startListening(Mf(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)G(!Es(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold(function(p,m,g){if(!Ce(p)&&m&&Es(m))return[sv(m).query];var y=[];return m&&(y=y.concat(bO(m).map(function(_){return _.query}))),Gt(g,function(_,w){y=y.concat(w)}),y}),d=0;d<u.length;++d){var f=u[d];t.listenProvider_.stopListening(Mf(f),uv(t,f))}return a}var i$=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),o$=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=at(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return lv(this.syncTree_,this.path_)},t}(),s$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},IO=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l$(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},l$=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);var i=e.node();if(G(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},RO=function(t,e,n,r){return HE(e,new o$(n,t),r)},BE=function(t,e,n){return HE(t,new i$(e),n)};function HE(t,e,n){var r=t.getPriority().val(),i=IO(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,l=IO(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new qu(l,ft(i)):t}else{var u=t;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new qu(i))),u.forEachChild(Ze,function(d,f){var p=HE(f,e.getImmediateChild(d),n);p!==f&&(o=o.updateImmediateChild(d,p))}),o}}var VE=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function dv(t,e){for(var n=e instanceof qe?e:new qe(e),r=t,i=Te(n);i!==null;){var o=No(r.node.children,i)||{children:{},childCount:0};r=new VE(i,r,o),n=Xe(n),i=Te(n)}return r}function Ja(t){return t.node.value}function jE(t,e){t.node.value=e,qE(t)}function kO(t){return t.node.childCount>0}function u$(t){return Ja(t)===void 0&&!kO(t)}function fv(t,e){Gt(t.node.children,function(n,r){e(new VE(n,t,r))})}function AO(t,e,n,r){n&&!r&&e(t),fv(t,function(i){AO(i,e,!0,r)}),n&&r&&e(t)}function c$(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Lf(t){return new qe(t.parent===null?t.name:Lf(t.parent)+"/"+t.name)}function qE(t){t.parent!==null&&d$(t.parent,t.name,t)}function d$(t,e,n){var r=u$(n),i=wn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qE(t))}var f$=/[\[\].#$\/\u0000-\u001F\u007F]/,h$=/[\[\].#$\u0000-\u001F\u007F]/,WE=10*1024*1024,hv=function(t){return typeof t=="string"&&t.length!==0&&!f$.test(t)},DO=function(t){return typeof t=="string"&&t.length!==0&&!h$.test(t)},p$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DO(t)},Ff=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!jm(t)||t&&typeof t=="object"&&wn(t,".sv")},Qi=function(t,e,n,r){r&&e===void 0||Uf(dn(t,"value"),e,n)},Uf=function(t,e,n){var r=n instanceof qe?new EY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ya(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ya(r)+" with contents = "+e.toString());if(jm(e))throw new Error(t+"contains "+e.toString()+" "+Ya(r));if(typeof e=="string"&&e.length>WE/3&&Lu(e)>WE)throw new Error(t+"contains a string greater than "+WE+" utf8 bytes "+Ya(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(Gt(e,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!hv(a)))throw new Error(t+" contains an invalid key ("+a+") "+Ya(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SY(r,a),Uf(t,l,r),xY(r)}),i&&o)throw new Error(t+' contains ".value" child '+Ya(r)+" in addition to actual children.")}},m$=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=Tf(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!hv(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(wY);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&Xr(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},NO=function(t,e,n,r){if(!(r&&e===void 0)){var i=dn(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];Gt(e,function(a,l){var u=new qe(a);if(Uf(i,l,at(n,u)),aE(u)===".priority"&&!Ff(l))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),m$(i,o)}},zE=function(t,e,n){if(!(n&&e===void 0)){if(jm(e))throw new Error(dn(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ff(e))throw new Error(dn(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},v$=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(dn(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Bf=function(t,e,n,r){if(!(r&&n===void 0)&&!hv(n))throw new Error(dn(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Hf=function(t,e,n,r){if(!(r&&n===void 0)&&!DO(n))throw new Error(dn(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},g$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Hf(t,e,n,r)},$r=function(t,e){if(Te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},PO=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!p$(n))throw new Error(dn(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},y$=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(dn(t,e)+"must be a boolean.")};var b$=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function pv(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!lE(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function GE(t,e,n){pv(t,n),OO(t,function(r){return lE(r,e)})}function Qr(t,e,n){pv(t,n),OO(t,function(r){return Xr(r,e)||Xr(e,r)})}function OO(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(_$(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _$(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();za&&en("event: "+n.toString()),ju(r)}}}var MO="repo_interrupt",w$=25,E$=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new b$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qm(),this.transactionQueueTree_=new VE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function S$(t,e,n){if(t.stats_=iE(t.repoInfo_),t.forceRestClient_||WK())t.server_=new $Y(t.repoInfo_,function(r,i,o,a){FO(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return UO(t,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Xa(t.repoInfo_,e,function(r,i,o,a){FO(t,r,i,o,a)},function(r){UO(t,r)},function(r){T$(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=$K(t.repoInfo_,function(){return new tX(t.stats_,t.server_)}),t.infoData_=new QY,t.infoSyncTree_=new EO({startListening:function(r,i,o,a){var l=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=Of(t.infoSyncTree_,r._path,u),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),KE(t,"connected",!1),t.serverSyncTree_=new EO({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(l,u){var d=a(l,u);Qr(t.eventQueue_,r._path,d)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function LO(t){var e=t.infoData_.getNode(new qe(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function Vf(t){return s$({timestamp:LO(t)})}function FO(t,e,n,r,i){t.dataUpdateCount++;var o=new qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var l=Mu(n,function(m){return ft(m)});a=JX(t.serverSyncTree_,o,l,i)}else{var u=ft(n);a=QX(t.serverSyncTree_,o,u,i)}else if(r){var d=Mu(n,function(m){return ft(m)});a=YX(t.serverSyncTree_,o,d)}else{var f=ft(n);a=Of(t.serverSyncTree_,o,f)}var p=o;a.length>0&&(p=Qu(t,o)),Qr(t.eventQueue_,p,a)}function x$(t,e){t.interceptServerDataCallback_=e}function UO(t,e){KE(t,"connected",e),e===!1&&R$(t)}function T$(t,e){Gt(e,function(n,r){KE(t,n,r)})}function KE(t,e,n){var r=new qe("/.info/"+e),i=ft(n);t.infoData_.updateSnapshot(r,i);var o=Of(t.infoSyncTree_,r,i);Qr(t.eventQueue_,r,o)}function mv(t){return t.nextWriteId_++}function C$(t,e){var n=ZX(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=ft(r),o=Of(t.serverSyncTree_,e._path,i);return GE(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return $u(t,"get for query "+It(e)+" failed: "+r),Promise.reject(new Error(r))})}function YE(t,e,n,r,i){$u(t,"set",{path:e.toString(),value:n,priority:r});var o=Vf(t),a=ft(n,r),l=lv(t.serverSyncTree_,e),u=BE(a,l,o),d=mv(t),f=OE(t.serverSyncTree_,e,u,d,!0);pv(t.eventQueue_,f),t.server_.put(e.toString(),a.val(!0),function(m,g){var y=m==="ok";y||fn("set at "+e+" failed: "+m);var _=Ss(t.serverSyncTree_,d,!y);Qr(t.eventQueue_,e,_),xs(t,i,m,g)});var p=QE(t,e);Qu(t,p),Qr(t.eventQueue_,p,[])}function I$(t,e,n,r){$u(t,"update",{path:e.toString(),value:n});var i=!0,o=Vf(t),a={};if(Gt(n,function(d,f){i=!1,a[d]=RO(at(e,d),ft(f),t.serverSyncTree_,o)}),i)en("update() called with empty data.  Don't do anything."),xs(t,r,"ok",void 0);else{var l=mv(t),u=KX(t.serverSyncTree_,e,a,l);pv(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(d,f){var p=d==="ok";p||fn("update at "+e+" failed: "+d);var m=Ss(t.serverSyncTree_,l,!p),g=m.length>0?Qu(t,e):e;Qr(t.eventQueue_,g,m),xs(t,r,d,f)}),Gt(n,function(d){var f=QE(t,at(e,d));Qu(t,f)}),Qr(t.eventQueue_,e,[])}}function R$(t){$u(t,"onDisconnectEvents");var e=Vf(t),n=Qm();bE(t.onDisconnect_,Ue(),function(i,o){var a=RO(i,o,t.serverSyncTree_,e);Ku(n,i,a)});var r=[];bE(n,Ue(),function(i,o){r=r.concat(Of(t.serverSyncTree_,i,o));var a=QE(t,i);Qu(t,a)}),t.onDisconnect_=Qm(),Qr(t.eventQueue_,Ue(),r)}function k$(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&yE(t.onDisconnect_,e),xs(t,n,r,i)})}function BO(t,e,n,r){var i=ft(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&Ku(t.onDisconnect_,e,i),xs(t,r,o,a)})}function A$(t,e,n,r,i){var o=ft(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,l){a==="ok"&&Ku(t.onDisconnect_,e,o),xs(t,i,a,l)})}function D$(t,e,n,r){if(gf(n)){en("onDisconnect().update() called with empty data.  Don't do anything."),xs(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&Gt(n,function(a,l){var u=ft(l);Ku(t.onDisconnect_,at(e,a),u)}),xs(t,r,i,o)})}function N$(t,e,n){var r;Te(e._path)===".info"?r=SO(t.infoSyncTree_,e,n):r=SO(t.serverSyncTree_,e,n),GE(t.eventQueue_,e._path,r)}function XE(t,e,n){var r;Te(e._path)===".info"?r=ME(t.infoSyncTree_,e,n):r=ME(t.serverSyncTree_,e,n),GE(t.eventQueue_,e._path,r)}function HO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(MO)}function P$(t){t.persistentConnection_&&t.persistentConnection_.resume(MO)}function O$(t,e){if(e===void 0&&(e=!1),typeof console!="undefined"){var n;e?(t.statsListener_||(t.statsListener_=new Q1(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);Gt(n,function(i,o){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+o)})}}function M$(t,e){t.stats_.incrementCounter(e),nX(t.statsReporter_,e)}function $u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),en.apply(void 0,me([r],Ct(e)))}function xs(t,e,n,r){e&&ju(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function L$(t,e,n,r,i,o){$u(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:JP(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=$E(t,e,void 0);a.currentInputSnapshot=l;var u=a.update(l.val());if(u===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Uf("transaction failed: Data returned ",u,a.path),a.status=0;var d=dv(t.transactionQueueTree_,e),f=Ja(d)||[];f.push(a),jE(d,f);var p=void 0;if(typeof u=="object"&&u!==null&&wn(u,".priority"))p=No(u,".priority"),G(Ff(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=lv(t.serverSyncTree_,e)||be.EMPTY_NODE;p=m.getPriority().val()}var g=Vf(t),y=ft(u,p),_=BE(y,l,g);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=_,a.currentWriteId=mv(t);var w=OE(t.serverSyncTree_,e,_,a.currentWriteId,a.applyLocally);Qr(t.eventQueue_,e,w),vv(t,t.transactionQueueTree_)}}function $E(t,e,n){return lv(t.serverSyncTree_,e,n)||be.EMPTY_NODE}function vv(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||gv(t,e),Ja(e)){var n=jO(t,e);G(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&F$(t,Lf(e),n)}else kO(e)&&fv(e,function(i){vv(t,i)})}function F$(t,e,n){for(var r=n.map(function(m){return m.currentWriteId}),i=$E(t,e,r),o=i,a=i.hash(),l=0;l<n.length;l++){var u=n[l];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var d=Fn(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}var f=o.val(!0),p=e;t.server_.put(p.toString(),f,function(m){$u(t,"transaction put response",{path:p.toString(),status:m});var g=[];if(m==="ok"){for(var y=[],_=function(S){n[S].status=2,g=g.concat(Ss(t.serverSyncTree_,n[S].currentWriteId)),n[S].onComplete&&y.push(function(){return n[S].onComplete(null,!0,n[S].currentOutputSnapshotResolved)}),n[S].unwatcher()},w=0;w<n.length;w++)_(w);gv(t,dv(t.transactionQueueTree_,e)),vv(t,t.transactionQueueTree_),Qr(t.eventQueue_,e,g);for(var w=0;w<y.length;w++)ju(y[w])}else{if(m==="datastale")for(var w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{fn("transaction at "+p.toString()+" failed: "+m);for(var w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=m}Qu(t,e)}},a)}function Qu(t,e){var n=VO(t,e),r=Lf(n),i=jO(t,n);return U$(t,i,r),r}function U$(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(d){return d.status===0}),a=o.map(function(d){return d.currentWriteId}),l=function(d){var f=e[d],p=Fn(n,f.path),m=!1,g;if(G(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)m=!0,g=f.abortReason,i=i.concat(Ss(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=w$)m=!0,g="maxretry",i=i.concat(Ss(t.serverSyncTree_,f.currentWriteId,!0));else{var y=$E(t,f.path,a);f.currentInputSnapshot=y;var _=e[d].update(y.val());if(_!==void 0){Uf("transaction failed: Data returned ",_,f.path);var w=ft(_),S=typeof _=="object"&&_!=null&&wn(_,".priority");S||(w=w.updatePriority(y.getPriority()));var C=f.currentWriteId,R=Vf(t),A=BE(w,y,R);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=A,f.currentWriteId=mv(t),a.splice(a.indexOf(C),1),i=i.concat(OE(t.serverSyncTree_,f.path,A,f.currentWriteId,f.applyLocally)),i=i.concat(Ss(t.serverSyncTree_,C,!0))}else m=!0,g="nodata",i=i.concat(Ss(t.serverSyncTree_,f.currentWriteId,!0))}Qr(t.eventQueue_,n,i),i=[],m&&(e[d].status=2,function(L){setTimeout(L,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(g==="nodata"?r.push(function(){return e[d].onComplete(null,!1,e[d].currentInputSnapshot)}):r.push(function(){return e[d].onComplete(new Error(g),!1,null)})))},u=0;u<e.length;u++)l(u);gv(t,t.transactionQueueTree_);for(var u=0;u<r.length;u++)ju(r[u]);vv(t,t.transactionQueueTree_)}}function VO(t,e){var n,r=t.transactionQueueTree_;for(n=Te(e);n!==null&&Ja(r)===void 0;)r=dv(r,n),e=Xe(e),n=Te(e);return r}function jO(t,e){var n=[];return qO(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function qO(t,e,n){var r=Ja(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);fv(e,function(o){qO(t,o,n)})}function gv(t,e){var n=Ja(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,jE(e,n.length>0?n:void 0)}fv(e,function(o){gv(t,o)})}function QE(t,e){var n=Lf(VO(t,e)),r=dv(t.transactionQueueTree_,e);return c$(r,function(i){JE(t,i)}),JE(t,r),AO(r,function(i){JE(t,i)}),n}function JE(t,e){var n=Ja(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(G(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(G(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ss(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?jE(e,void 0):n.length=o+1,Qr(t.eventQueue_,Lf(e),i);for(var a=0;a<r.length;a++)ju(r[a])}}function B$(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function H$(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=gt(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):fn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var ZE=function(t,e){var n=V$(t),r=n.namespace;n.domain==="firebase.com"&&Yi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FK();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tE(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new qe(n.pathString)}},V$=function(t){var e="",n="",r="",i="",o="",a=!0,l="https",u=443;if(typeof t=="string"){var d=t.indexOf("//");d>=0&&(l=t.substring(0,d-1),t=t.substring(d+2));var f=t.indexOf("/");f===-1&&(f=t.length);var p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=B$(t.substring(f,p)));var m=H$(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;var g=e.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{var y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}};var WO=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())},t}(),zO=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();var GO=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();var j$=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new cn;return k$(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){$r("OnDisconnect.remove",this._path);var e=new cn;return BO(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){$r("OnDisconnect.set",this._path),Qi("OnDisconnect.set",e,this._path,!1);var n=new cn;return BO(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){$r("OnDisconnect.setWithPriority",this._path),Qi("OnDisconnect.setWithPriority",e,this._path,!1),zE("OnDisconnect.setWithPriority",n,!1);var r=new cn;return A$(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){$r("OnDisconnect.update",this._path),NO("OnDisconnect.update",e,this._path,!1);var n=new cn;return D$(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();var Jr=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Ce(this._path)?null:aE(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ji(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=$1(this._queryParams),n=Jw(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return $1(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=ve(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=lE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+_Y(this._path)},t}();function yv(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ts(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===$i){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==Po)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==Xi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ze){if(e!=null&&!Ff(e)||n!=null&&!Ff(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(t.getIndex()instanceof fE||t.getIndex()===hE,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bv(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ji=function(t){P(e,t);function e(n,r){return t.call(this,n,r,new Y1,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=N1(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Jr),_v=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new qe(e),r=Za(this.ref,e);return new t(this._node.getChild(n),r,Ze)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,Za(n.ref,i),Ze))})},t.prototype.hasChild=function(e){var n=new qe(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function KO(t,e){return t=ve(t),t._checkNotDeleted("ref"),e!==void 0?Za(t._root,e):t._root}function YO(t,e){t=ve(t),t._checkNotDeleted("refFromURL");var n=ZE(e,t._repo.repoInfo_.nodeAdmin);PO("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Yi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),KO(t,n.path.toString())}function Za(t,e){return t=ve(t),Te(t._path)===null?g$("child","path",e,!1):Hf("child","path",e,!1),new Ji(t._repo,at(t._path,e))}function q$(t,e){t=ve(t),$r("push",t._path),Qi("push",e,t._path,!0);var n=LO(t._repo),r=jY(n),i=Za(t,r),o=Za(t,r),a;return e!=null?a=eS(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function W$(t){return $r("remove",t._path),eS(t,null)}function eS(t,e){t=ve(t),$r("set",t._path),Qi("set",e,t._path,!1);var n=new cn;return YE(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function z$(t,e){t=ve(t),$r("setPriority",t._path),zE("setPriority",e,!1);var n=new cn;return YE(t._repo,at(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function G$(t,e,n){if($r("setWithPriority",t._path),Qi("setWithPriority",e,t._path,!1),zE("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new cn;return YE(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function K$(t,e){NO("update",e,t._path,!1);var n=new cn;return I$(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function Y$(t){return t=ve(t),C$(t._repo,t).then(function(e){return new _v(e,new Ji(t._repo,t._path),t._queryParams.getIndex())})}var XO=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new WO("value",this,new _v(e.snapshotNode,new Ji(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new zO(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),$O=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new zO(this,e,n):null},t.prototype.createEvent=function(e,n){G(e.childName!=null,"Child events should have a childName.");var r=Za(new Ji(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new WO(e.type,this,new _v(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function jf(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,l=function(f,p){XE(t._repo,t,d),a(f,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}var u=new GO(n,o||void 0),d=e==="value"?new XO(u):new $O(e,u);return N$(t._repo,t,d),function(){return XE(t._repo,t,d)}}function tS(t,e,n,r){return jf(t,"value",e,n,r)}function QO(t,e,n,r){return jf(t,"child_added",e,n,r)}function JO(t,e,n,r){return jf(t,"child_changed",e,n,r)}function ZO(t,e,n,r){return jf(t,"child_moved",e,n,r)}function eM(t,e,n,r){return jf(t,"child_removed",e,n,r)}function tM(t,e,n){var r=null,i=n?new GO(n):null;e==="value"?r=new XO(i):e&&(r=new $O(e,i)),XE(t._repo,t,r)}var Ci=function(){function t(){}return t}(),nM=function(t){P(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Qi("endAt",this._value,n._path,!0);var r=gE(n._queryParams,this._value,this._key);if(bv(r),Ts(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jr(n._repo,n._path,r,n._orderByCalled)},e}(Ci);function X$(t,e){return Bf("endAt","key",e,!0),new nM(t,e)}var $$=function(t){P(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Qi("endBefore",this._value,n._path,!1);var r=XY(n._queryParams,this._value,this._key);if(bv(r),Ts(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jr(n._repo,n._path,r,n._orderByCalled)},e}(Ci);function Q$(t,e){return Bf("endBefore","key",e,!0),new $$(t,e)}var rM=function(t){P(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Qi("startAt",this._value,n._path,!0);var r=vE(n._queryParams,this._value,this._key);if(bv(r),Ts(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jr(n._repo,n._path,r,n._orderByCalled)},e}(Ci);function J$(t,e){return t===void 0&&(t=null),Bf("startAt","key",e,!0),new rM(t,e)}var Z$=function(t){P(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){Qi("startAfter",this._value,n._path,!1);var r=YY(n._queryParams,this._value,this._key);if(bv(r),Ts(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jr(n._repo,n._path,r,n._orderByCalled)},e}(Ci);function e8(t,e){return Bf("startAfter","key",e,!0),new Z$(t,e)}var t8=function(t){P(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jr(n._repo,n._path,GY(n._queryParams,this._limit),n._orderByCalled)},e}(Ci);function n8(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new t8(t)}var r8=function(t){P(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jr(n._repo,n._path,KY(n._queryParams,this._limit),n._orderByCalled)},e}(Ci);function i8(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new r8(t)}var o8=function(t){P(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){yv(n,"orderByChild");var r=new qe(this._path);if(Ce(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new fE(r),o=$m(n._queryParams,i);return Ts(o),new Jr(n._repo,n._path,o,!0)},e}(Ci);function s8(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Hf("orderByChild","path",t,!1),new o8(t)}var a8=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){yv(n,"orderByKey");var r=$m(n._queryParams,$i);return Ts(r),new Jr(n._repo,n._path,r,!0)},e}(Ci);function l8(){return new a8}var u8=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){yv(n,"orderByPriority");var r=$m(n._queryParams,Ze);return Ts(r),new Jr(n._repo,n._path,r,!0)},e}(Ci);function c8(){return new u8}var d8=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){yv(n,"orderByValue");var r=$m(n._queryParams,hE);return Ts(r),new Jr(n._repo,n._path,r,!0)},e}(Ci);function f8(){return new d8}var h8=function(t){P(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if(Qi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new nM(this._value,this._key)._apply(new rM(this._value,this._key)._apply(n))},e}(Ci);function p8(t,e){return Bf("equalTo","key",e,!0),new h8(t,e)}function Ii(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=ve(t);try{for(var a=gt(r),l=a.next();!l.done;l=a.next()){var u=l.value;o=u._apply(o)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}BX(Ji);WX(Ji);var m8="FIREBASE_DATABASE_EMULATOR_HOST",nS={},iM=!1;function v8(t,e,n,r){t.repoInfo_=new tE(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function oM(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=ZE(o,i),l=a.repoInfo,u,d=void 0;typeof process!="undefined"&&(d=process.env[m8]),d?(u=!0,o="http://"+d+"?ns="+l.namespace,a=ZE(o,i),l=a.repoInfo):u=!a.repoInfo.secure;var f=i&&u?new Sf(Sf.OWNER):new GK(t.name,t.options,e);PO("Invalid Firebase Database URL",a),Ce(a.path)||Yi("Database URL must point to the root of a Firebase Database (not including a child path).");var p=y8(l,t,f,new zK(t.name,n));return new _8(p,t)}function g8(t,e){var n=nS[e];(!n||n[t.key]!==t)&&Yi("Database "+e+"("+t.repoInfo_+") has already been deleted."),HO(t),delete n[t.key]}function y8(t,e,n,r){var i=nS[e.name];i||(i={},nS[e.name]=i);var o=i[t.toURLString()];return o&&Yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new E$(t,iM,n,r),i[t.toURLString()]=o,o}function b8(t){iM=t}var _8=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(S$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ji(this._repo,Ue())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._checkNotDeleted("delete"),g8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Yi("Cannot call "+e+" on a deleted database.")},t}();function w8(t,e,n,r){r===void 0&&(r={}),t=ve(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yi("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Sf(Sf.OWNER);else if(r.mockUserToken){var a=pf(r.mockUserToken,t.app.options.projectId);o=new Sf(a)}v8(i,e,n,o)}function E8(t){t=ve(t),t._checkNotDeleted("goOffline"),HO(t._repo)}function S8(t){t=ve(t),t._checkNotDeleted("goOnline"),P$(t._repo)}var x8={".sv":"timestamp"};function T8(){return x8}function C8(t){return{".sv":{increment:t}}}var I8=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function R8(t,e,n){var r;if(t=ve(t),$r("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new cn,a=function(u,d,f){var p=null;u?o.reject(u):(p=new _v(f,new Ji(t._repo,t._path),Ze),o.resolve(new I8(d,p)))},l=tS(t,function(){});return L$(t._repo,t._path,e,a,l,i),o.promise}var k8=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){ue("OnDisconnect.cancel",0,1,arguments.length),Pt("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){ue("OnDisconnect.remove",0,1,arguments.length),Pt("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){ue("OnDisconnect.set",1,2,arguments.length),Pt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){ue("OnDisconnect.setWithPriority",2,3,arguments.length),Pt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(ue("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,fn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pt("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();var A8=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return ue("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();var qf=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return ue("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return ue("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return ue("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return ue("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return ue("DataSnapshot.child",0,1,arguments.length),e=String(e),Hf("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return ue("DataSnapshot.hasChild",1,1,arguments.length),Hf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return ue("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return ue("DataSnapshot.forEach",1,1,arguments.length),Pt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return ue("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return ue("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return ue("DataSnapshot.ref",0,0,arguments.length),new el(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),sM=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;ue("Query.on",2,4,arguments.length),Pt("Query.on","callback",n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,i),u=function(f,p){n.call(l.context,new qf(o.database,f),p)};u.userCallback=n,u.context=l.context;var d=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(e){case"value":return tS(this._delegate,u,d),n;case"child_added":return QO(this._delegate,u,d),n;case"child_removed":return eM(this._delegate,u,d),n;case"child_changed":return JO(this._delegate,u,d),n;case"child_moved":return ZO(this._delegate,u,d),n;default:throw new Error(dn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(ue("Query.off",0,3,arguments.length),v$("Query.off",e,!0),Pt("Query.off","callback",n,!0),Fm("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,tM(this._delegate,e,i)}else tM(this._delegate,e)},t.prototype.get=function(){var e=this;return Y$(this._delegate).then(function(n){return new qf(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;ue("Query.once",1,4,arguments.length),Pt("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),l=new cn,u=function(f,p){var m=new qf(o.database,f);n&&n.call(a.context,m,p),l.resolve(m)};u.userCallback=n,u.context=a.context;var d=function(f){a.cancel&&a.cancel.call(a.context,f),l.reject(f)};switch(e){case"value":tS(this._delegate,u,d,{onlyOnce:!0});break;case"child_added":QO(this._delegate,u,d,{onlyOnce:!0});break;case"child_removed":eM(this._delegate,u,d,{onlyOnce:!0});break;case"child_changed":JO(this._delegate,u,d,{onlyOnce:!0});break;case"child_moved":ZO(this._delegate,u,d,{onlyOnce:!0});break;default:throw new Error(dn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},t.prototype.limitToFirst=function(e){return ue("Query.limitToFirst",1,1,arguments.length),new t(this.database,Ii(this._delegate,n8(e)))},t.prototype.limitToLast=function(e){return ue("Query.limitToLast",1,1,arguments.length),new t(this.database,Ii(this._delegate,i8(e)))},t.prototype.orderByChild=function(e){return ue("Query.orderByChild",1,1,arguments.length),new t(this.database,Ii(this._delegate,s8(e)))},t.prototype.orderByKey=function(){return ue("Query.orderByKey",0,0,arguments.length),new t(this.database,Ii(this._delegate,l8()))},t.prototype.orderByPriority=function(){return ue("Query.orderByPriority",0,0,arguments.length),new t(this.database,Ii(this._delegate,c8()))},t.prototype.orderByValue=function(){return ue("Query.orderByValue",0,0,arguments.length),new t(this.database,Ii(this._delegate,f8()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),ue("Query.startAt",0,2,arguments.length),new t(this.database,Ii(this._delegate,J$(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),ue("Query.startAfter",0,2,arguments.length),new t(this.database,Ii(this._delegate,e8(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),ue("Query.endAt",0,2,arguments.length),new t(this.database,Ii(this._delegate,X$(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),ue("Query.endBefore",0,2,arguments.length),new t(this.database,Ii(this._delegate,Q$(e,n)))},t.prototype.equalTo=function(e,n){return ue("Query.equalTo",1,2,arguments.length),new t(this.database,Ii(this._delegate,p8(e,n)))},t.prototype.toString=function(){return ue("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return ue("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(ue("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Pt(e,"cancel",i.cancel,!0),i.context=r,Fm(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(dn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new el(this.database,new Ji(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),el=function(t){P(e,t);function e(n,r){var i=t.call(this,n,new Jr(r._repo,r._path,new Y1,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return ue("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return ue("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Za(this._delegate,n))},e.prototype.getParent=function(){ue("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return ue("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){ue("Reference.set",1,2,arguments.length),Pt("Reference.set","onComplete",r,!0);var i=eS(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(ue("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,fn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$r("Reference.update",this._delegate._path),Pt("Reference.update","onComplete",r,!0);var a=K$(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},e.prototype.setWithPriority=function(n,r,i){ue("Reference.setWithPriority",2,3,arguments.length),Pt("Reference.setWithPriority","onComplete",i,!0);var o=G$(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){ue("Reference.remove",0,1,arguments.length),Pt("Reference.remove","onComplete",n,!0);var r=W$(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;ue("Reference.transaction",1,3,arguments.length),Pt("Reference.transaction","transactionUpdate",n,!1),Pt("Reference.transaction","onComplete",r,!0),y$("Reference.transaction","applyLocally",i,!0);var a=R8(this._delegate,n,{applyLocally:i}).then(function(l){return new A8(l.committed,new qf(o.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},e.prototype.setPriority=function(n,r){ue("Reference.setPriority",1,2,arguments.length),Pt("Reference.setPriority","onComplete",r,!0);var i=z$(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;ue("Reference.push",0,2,arguments.length),Pt("Reference.push","onComplete",r,!0);var o=q$(this._delegate,n),a=o.then(function(u){return new e(i.database,u)});r&&a.then(function(){return r(null)},function(u){return r(u)});var l=new e(this.database,o);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},e.prototype.onDisconnect=function(){return $r("Reference.onDisconnect",this._delegate._path),new k8(new j$(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(sM);var wv=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),w8(this._delegate,e,n,r)},t.prototype.ref=function(e){if(ue("database.ref",0,1,arguments.length),e instanceof el){var n=YO(this._delegate,e.toString());return new el(this,n)}else{var n=KO(this._delegate,e);return new el(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";ue(n,1,1,arguments.length);var r=YO(this._delegate,e);return new el(this,r)},t.prototype.goOffline=function(){return ue("database.goOffline",0,0,arguments.length),E8(this._delegate)},t.prototype.goOnline=function(){return ue("database.goOnline",0,0,arguments.length),S8(this._delegate)},t.ServerValue={TIMESTAMP:T8(),increment:function(e){return C8(e)}},t}();var D8=function(){Ka.forceDisallow(),oE.forceAllow()},N8=function(){oE.forceDisallow()},P8=function(){return Ka.isAvailable()},O8=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},M8=function(t,e){O$(t._delegate._repo,e)},L8=function(t,e){M$(t._delegate._repo,e)},F8=function(t){return t._delegate._repo.dataUpdateCount},U8=function(t,e){return x$(t._delegate._repo,e)};function B8(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,l=a===void 0?!1:a;$P(r);var u=new Um("auth-internal",new yf("database-standalone"));return u.setComponent(new tt("auth-internal",function(){return i},"PRIVATE")),{instance:new wv(oM(e,u,void 0,n,l),e),namespace:o}}var H8=Object.freeze({__proto__:null,forceLongPolling:D8,forceWebSockets:N8,isWebSocketsAvailable:P8,setSecurityDebugCallback:O8,stats:M8,statsIncrementCounter:L8,dataUpdateCount:F8,interceptServerData:U8,initStandalone:B8});var V8=Xa;Xa.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xa.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var j8=C1,q8=function(t){var e=Xa.prototype.put;return Xa.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){Xa.prototype.put=e}},W8=tE,z8=function(t){return t._delegate._queryIdentifier},G8=function(t){b8(t)},K8=Object.freeze({__proto__:null,DataConnection:V8,RealTimeConnection:j8,hijackHash:q8,ConnectionTarget:W8,queryIdentifier:z8,forceRestClient:G8});var Y8=wv.ServerValue;function X8(t){$P(t.SDK_VERSION);var e=t.INTERNAL.registerComponent(new tt("database",function(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),l=n.getProvider("app-check-internal");return new wv(oM(o,a,l,i),o)},"PUBLIC").setServiceProps({Reference:el,Query:sM,Database:wv,DataSnapshot:qf,enableLogging:t1,INTERNAL:H8,ServerValue:Y8,TEST_ACCESS:K8}).setMultipleInstances(!0));t.registerVersion(PK,OK),Kr()&&(module.exports=e)}X8(J);ar();sr();var fve=Gr(Ki());var rS=function(t,e){return rS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rS(t,e)};function $8(t,e){rS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function aM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Q8=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},re,iS=iS||{},_e=Q8||self;function Ev(){}function oS(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function J8(t){return Object.prototype.hasOwnProperty.call(t,sS)&&t[sS]||(t[sS]=++Z8)}var sS="closure_uid_"+(1e9*Math.random()>>>0),Z8=0;function e7(t,e,n){return t.call.apply(t.bind,arguments)}function t7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sn=e7:Sn=t7,Sn.apply(null,arguments)}function Sv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Zi(){return Date.now()}function Un(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[i].apply(r,a)}}function Cs(){this.j=this.j,this.i=this.i}var n7=0;Cs.prototype.j=!1;Cs.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),n7!=0))var t=J8(this)};Cs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var lM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},uM=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function r7(t){e:{for(var e=G7,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function cM(t){return Array.prototype.concat.apply([],arguments)}function aS(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xv(t){return/^[\s\xa0]*$/.test(t)}var dM=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bn(t,e){return t.indexOf(e)!=-1}function lS(t,e){return t<e?-1:t>e?1:0}var Hn;e:{if(uS=_e.navigator,uS&&(cS=uS.userAgent,cS)){Hn=cS;break e}Hn=""}var uS,cS;function dS(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function fM(t){var e={};for(var n in t)e[n]=t[n];return e}var hM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pM(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<hM.length;o++)n=hM[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fS(t){return fS[" "](t),t}fS[" "]=Ev;function i7(t,e){var n=a7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var o7=Bn(Hn,"Opera"),Is=Bn(Hn,"Trident")||Bn(Hn,"MSIE"),mM=Bn(Hn,"Edge"),hS=mM||Is,vM=Bn(Hn,"Gecko")&&!(Bn(Hn.toLowerCase(),"webkit")&&!Bn(Hn,"Edge"))&&!(Bn(Hn,"Trident")||Bn(Hn,"MSIE"))&&!Bn(Hn,"Edge"),s7=Bn(Hn.toLowerCase(),"webkit")&&!Bn(Hn,"Edge");function gM(){var t=_e.document;return t?t.documentMode:void 0}var Tv;e:{if(Cv="",Iv=function(){var t=Hn;if(vM)return/rv:([^\);]+)(\)|;)/.exec(t);if(mM)return/Edge\/([\d\.]+)/.exec(t);if(Is)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(s7)return/WebKit\/(\S+)/.exec(t);if(o7)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Iv&&(Cv=Iv?Iv[1]:""),Is&&(Rv=gM(),Rv!=null&&Rv>parseFloat(Cv))){Tv=String(Rv);break e}Tv=Cv}var Cv,Iv,Rv,a7={};function yM(t){return i7(t,function(){for(var e=0,n=dM(String(Tv)).split("."),r=dM(String(t)).split("."),i=Math.max(n.length,r.length),o=0;e==0&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;e=lS(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||lS(a[2].length==0,l[2].length==0)||lS(a[2],l[2]),a=a[3],l=l[3]}while(e==0)}return 0<=e})}var pS;_e.document&&Is?(mS=gM(),pS=mS||parseInt(Tv,10)||void 0):pS=void 0;var mS,bM=pS,vS=!Is||9<=Number(bM),l7=Is&&!yM("9"),u7=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_e.addEventListener("test",Ev,e),_e.removeEventListener("test",Ev,e)}catch(n){}return t}();function xn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}xn.prototype.b=function(){this.defaultPrevented=!0};function zf(t,e){if(xn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(vM){e:{try{fS(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:c7[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Un(zf,xn);var c7={2:"touch",3:"pen",4:"mouse"};zf.prototype.b=function(){zf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,l7)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Gf="closure_listenable_"+(1e6*Math.random()|0),d7=0;function f7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++d7,this.Y=this.Z=!1}function kv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Av(t){this.src=t,this.a={},this.b=0}Av.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=yS(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new f7(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};function gS(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=lM(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(kv(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function yS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}var bS="closure_lm_"+(1e6*Math.random()|0),_S={};function wS(t,e,n,r,i){if(r&&r.once)return wM(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wS(t,e[o],n,r,i);return null}return n=TS(n),t&&t[Gf]?t.va(e,n,Wf(r)?!!r.capture:!!r,i):_M(t,e,n,!1,r,i)}function _M(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Wf(i)?!!i.capture:!!i;if(a&&!vS)return null;var l=SS(t);if(l||(t[bS]=l=new Av(t)),n=l.add(e,n,r,a,o),n.proxy)return n;if(r=h7(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)u7||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(SM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function h7(){var t=p7,e=vS?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function wM(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)wM(t,e[o],n,r,i);return null}return n=TS(n),t&&t[Gf]?t.wa(e,n,Wf(r)?!!r.capture:!!r,i):_M(t,e,n,!0,r,i)}function EM(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)EM(t,e[o],n,r,i);else r=Wf(r)?!!r.capture:!!r,n=TS(n),t&&t[Gf]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=yS(o,n,r,i),-1<n&&(kv(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.a[e],t.b--)))):t&&(t=SS(t))&&(e=t.a[e.toString()],t=-1,e&&(t=yS(e,n,r,i)),(n=-1<t?e[t]:null)&&ES(n))}function ES(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[Gf])gS(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(SM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=SS(e))?(gS(n,t),n.b==0&&(n.src=null,e[bS]=null)):kv(t)}}}function SM(t){return t in _S?_S[t]:_S[t]="on"+t}function xM(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ES(t),n.call(r,e)}function p7(t,e){if(t.Y)return!0;if(!vS){if(!e)e:{e=["window","event"];for(var n=_e,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new zf(e,this),xM(t,e)}return xM(t,new zf(e,this))}function SS(t){return t=t[bS],t instanceof Av?t:null}var xS="__closure_events_fn_"+(1e9*Math.random()>>>0);function TS(t){return typeof t=="function"?t:(t[xS]||(t[xS]=function(e){return t.handleEvent(e)}),t[xS])}function Cr(){Cs.call(this),this.c=new Av(this),this.J=this,this.C=null}Un(Cr,Cs);Cr.prototype[Gf]=!0;re=Cr.prototype;re.addEventListener=function(t,e,n,r){wS(this,t,e,n,r)};re.removeEventListener=function(t,e,n,r){EM(this,t,e,n,r)};function hn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new xn(e,t);else if(e instanceof xn)e.target=e.target||t;else{var i=e;e=new xn(r,t),pM(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Dv(a,r,!0,e)&&i}if(a=e.a=t,i=Dv(a,r,!0,e)&&i,i=Dv(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.a=n[o],i=Dv(a,r,!1,e)&&i}re.G=function(){if(Cr.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)kv(n[r]);delete t.a[e],t.b--}}this.C=null};re.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};re.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function Dv(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var l=a.listener,u=a.ca||a.src;a.Z&&gS(t.c,a),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var CS=_e.JSON.stringify;function TM(){this.b=this.a=null}var CM=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new IS},function(t){t.reset()});TM.prototype.add=function(t,e){var n=CM.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function m7(){var t=RM,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function IS(){this.next=this.b=this.a=null}IS.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};IS.prototype.reset=function(){this.next=this.b=this.a=null};function v7(t){_e.setTimeout(function(){throw t},0)}function IM(t,e){RS||g7(),kS||(RS(),kS=!0),RM.add(t,e)}var RS;function g7(){var t=_e.Promise.resolve(void 0);RS=function(){t.then(y7)}}var kS=!1,RM=new TM;function y7(){for(var t;t=m7();){try{t.a.call(t.b)}catch(n){v7(n)}var e=CM;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}kS=!1}function Nv(t,e){Cr.call(this),this.b=t||1,this.a=e||_e,this.f=Sn(this.Za,this),this.g=Zi()}Un(Nv,Cr);re=Nv.prototype;re.aa=!1;re.M=null;re.Za=function(){if(this.aa){var t=Zi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),hn(this,"tick"),this.aa&&(AS(this),this.start()))}};re.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Zi())};function AS(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}re.G=function(){Nv.X.G.call(this),AS(this),delete this.a};function DS(t,e,n){if(typeof t=="function")n&&(t=Sn(t,n));else if(t&&typeof t.handleEvent=="function")t=Sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function kM(t){t.a=DS(function(){t.a=null,t.c&&(t.c=!1,kM(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var b7=function(t){$8(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:kM(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(_e.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Cs);function Kf(t){Cs.call(this),this.b=t,this.a={}}Un(Kf,Cs);var AM=[];function DM(t,e,n,r){Array.isArray(n)||(n&&(AM[0]=n.toString()),n=AM);for(var i=0;i<n.length;i++){var o=wS(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function NM(t){dS(t.a,function(e,n){this.a.hasOwnProperty(n)&&ES(e)},t),t.a={}}Kf.prototype.G=function(){Kf.X.G.call(this),NM(this)};Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function NS(){this.a=!0}function _7(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",l=o.split("&"),u=0;u<l.length;u++){var d=l[u].split("=");if(1<d.length){var f=d[0];d=d[1];var p=f.split("_");a=2<=p.length&&p[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function w7(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function Ju(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+S7(t,n)+(r?" "+r:"")})}function E7(t,e){t.info(function(){return"TIMEOUT: "+e})}NS.prototype.info=function(){};function S7(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return CS(n)}catch(l){return e}}var tl={},PM=null;function Pv(){return PM=PM||new Cr}tl.Fa="serverreachability";function OM(t){xn.call(this,tl.Fa,t)}Un(OM,xn);function Yf(t){var e=Pv();hn(e,new OM(e,t))}tl.STAT_EVENT="statevent";function MM(t,e){xn.call(this,tl.STAT_EVENT,t),this.stat=e}Un(MM,xn);function Vn(t){var e=Pv();hn(e,new MM(e,t))}tl.Ga="timingevent";function LM(t){xn.call(this,tl.Ga,t)}Un(LM,xn);function Xf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}var Ov={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},FM={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function UM(){}UM.prototype.a=null;function BM(t){var e;return(e=t.a)||(e=t.a={}),e}function HM(){}var $f={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function PS(){xn.call(this,"d")}Un(PS,xn);function OS(){xn.call(this,"c")}Un(OS,xn);var VM;function jM(){}Un(jM,UM);VM=new jM;function Qf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Kf(this),this.P=x7,t=hS?125:void 0,this.R=new Nv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var x7=45e3,qM={},MS={};re=Qf.prototype;re.setTimeout=function(t){this.P=t};function LS(t,e,n){t.H=1,t.i=Hv(Lo(e)),t.j=n,t.I=!0,WM(t,null)}function WM(t,e){t.u=Zi(),Jf(t),t.l=Lo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),JM(n.b,"t",r),t.D=0,t.a=yL(t.g,t.g.C?e:null),0<t.O&&(t.F=new b7(Sn(t.Ca,t,t.a),t.O)),DM(t.J,t.a,"readystatechange",t.Xa),e=t.B?fM(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Yf(1),_7(t.c,t.m,t.l,t.f,t.S,t.j)}re.Xa=function(t){t=t.target;var e=this.F;e&&ks(t)==3?e.f():this.Ca(t)};re.Ca=function(t){try{if(t==this.a)e:{var e=ks(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!hS&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?Yf(3):Yf(2)),Mv(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=i==200,w7(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xv(a)){var u=a;break t}}u=null}if(u)Ju(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,FS(this,u);else{this.b=!1,this.h=3,Vn(12),Zu(this),Lv(this);break e}}this.I?(zM(this,e,o),hS&&this.b&&e==3&&(DM(this.J,this.R,"tick",this.Wa),this.R.start())):(Ju(this.c,this.f,o,null),FS(this,o)),e==4&&Zu(this),this.b&&!this.A&&(e==4?pL(this.g,this):(this.b=!1,Jf(this)))}else i==400&&0<o.indexOf("Unknown SID")?(this.h=3,Vn(12)):(this.h=0,Vn(13)),Zu(this),Lv(this)}}}catch(d){}finally{}};function zM(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=T7(t,n);if(i==MS){e==4&&(t.h=4,Vn(14),r=!1),Ju(t.c,t.f,null,"[Incomplete Response]");break}else if(i==qM){t.h=4,Vn(15),Ju(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else Ju(t.c,t.f,i,null),FS(t,i)}e==4&&n.length==0&&(t.h=1,Vn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),KS(e),e.F=!0,Vn(11))):(Ju(t.c,t.f,n,"[Invalid Chunked Response]"),Zu(t),Lv(t))}re.Wa=function(){if(this.a){var t=ks(this.a),e=this.a.$();this.D<e.length&&(Mv(this),zM(this,t,e),this.b&&t!=4&&Jf(this))}};function T7(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?MS:(n=Number(e.substring(n,r)),isNaN(n)?qM:(r+=1,r+n>e.length?MS:(e=e.substr(r,n),t.D=r+n,e)))}re.cancel=function(){this.A=!0,Zu(this)};function Jf(t){t.T=Zi()+t.P,GM(t,t.P)}function GM(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=Xf(Sn(t.Va,t),e)}function Mv(t){t.o&&(_e.clearTimeout(t.o),t.o=null)}re.Va=function(){this.o=null;var t=Zi();0<=t-this.T?(E7(this.c,this.l),this.H!=2&&(Yf(3),Vn(17)),Zu(this),this.h=2,Lv(this)):GM(this,this.T-t)};function Lv(t){t.g.v==0||t.A||pL(t.g,t)}function Zu(t){Mv(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,AS(t.R),NM(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function FS(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||HS(n.b,t))){if(n.I=t.N,!t.C&&HS(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch(w){r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)zv(n),qv(n);else break e;GS(n),Vn(18)}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Xf(Sn(n.Sa,n),6e3));if(1>=tL(n.b)&&n.ea){try{n.ea()}catch(w){}n.ea=void 0}}else il(n,11)}else if((t.C||n.a==t)&&zv(n),!xv(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var o=i[3];o!=null&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var u=1.5*l;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var d=t.a;if(d){var f=d.a?d.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var p=u.b;!p.a&&(Bn(f,"spdy")||Bn(f,"quic")||Bn(f,"h2"))&&(p.f=p.g,p.a=new Set,p.b&&(VS(p,p.b),p.b=null))}if(u.A){var m=d.a?d.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(u.na=m,lt(u.B,u.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Zi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),u=n;var g=t;if(u.la=gL(u,u.C?u.ga:null,u.fa),g.C){nL(u.b,g);var y=g,_=u.D;_&&y.setTimeout(_),y.o&&(Mv(y),Jf(y)),u.a=g}else fL(u);0<n.g.length&&Wv(n)}else i[0]!="stop"&&i[0]!="close"||il(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?il(n,7):WS(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Yf(4)}catch(w){}}function C7(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(oS(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function US(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(oS(t)||typeof t=="string")uM(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(oS(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=C7(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ec(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ec)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}re=ec.prototype;re.K=function(){BS(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};re.L=function(){return BS(this),this.a.concat()};function BS(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];nl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],nl(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}re.get=function(t,e){return nl(this.b,t)?this.b[t]:e};re.set=function(t,e){nl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};re.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function nl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var KM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function I7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function rl(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof rl){this.a=e!==void 0?e:t.a,Fv(this,t.f),this.j=t.j,Uv(this,t.c),Bv(this,t.h),this.g=t.g,e=t.b;var n=new th;n.c=e.c,e.a&&(n.a=new ec(e.a),n.b=e.b),YM(this,n),this.i=t.i}else t&&(n=String(t).match(KM))?(this.a=!!e,Fv(this,n[1]||"",!0),this.j=Zf(n[2]||""),Uv(this,n[3]||"",!0),Bv(this,n[4]),this.g=Zf(n[5]||"",!0),YM(this,n[6]||"",!0),this.i=Zf(n[7]||"")):(this.a=!!e,this.b=new th(null,this.a))}rl.prototype.toString=function(){var t=[],e=this.f;e&&t.push(eh(e,XM,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(eh(e,XM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(eh(n,n.charAt(0)=="/"?N7:D7,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",eh(n,O7)),t.join("")};function Lo(t){return new rl(t)}function Fv(t,e,n){t.f=n?Zf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Uv(t,e,n){t.c=n?Zf(e,!0):e}function Bv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function YM(t,e,n){e instanceof th?(t.b=e,M7(t.b,t.a)):(n||(e=eh(e,P7)),t.b=new th(e,t.a))}function lt(t,e,n){t.b.set(e,n)}function Hv(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Zi()).toString(36)),t}function R7(t){return t instanceof rl?Lo(t):new rl(t,void 0)}function k7(t,e,n,r){var i=new rl(null,void 0);return t&&Fv(i,t),e&&Uv(i,e),n&&Bv(i,n),r&&(i.g=r),i}function Zf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,A7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function A7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XM=/[#\/\?@]/g,D7=/[#\?:]/g,N7=/[#\?]/g,P7=/[#\?@]/g,O7=/#/g;function th(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rs(t){t.a||(t.a=new ec,t.b=0,t.c&&I7(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=th.prototype;re.add=function(t,e){Rs(this),this.c=null,t=tc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function $M(t,e){Rs(t),e=tc(t,e),nl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,nl(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&BS(t)))}function QM(t,e){return Rs(t),e=tc(t,e),nl(t.a.b,e)}re.forEach=function(t,e){Rs(this),this.a.forEach(function(n,r){uM(n,function(i){t.call(e,i,r,this)},this)},this)};re.L=function(){Rs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};re.K=function(t){Rs(this);var e=[];if(typeof t=="string")QM(this,t)&&(e=cM(e,this.a.get(tc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=cM(e,t[n])}return e};re.set=function(t,e){return Rs(this),this.c=null,t=tc(this,t),QM(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};re.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function JM(t,e,n){$M(t,e),0<n.length&&(t.c=null,t.a.set(tc(t,e),aS(n)),t.b+=n.length)}re.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};function tc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function M7(t,e){e&&!t.f&&(Rs(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($M(this,r),JM(this,i,n))},t)),t.f=e}var L7=function(){function t(e,n){this.b=e,this.a=n}return t}();function ZM(t){this.g=t||F7,_e.PerformanceNavigationTiming?(t=_e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_e.ia&&_e.ia.ya&&_e.ia.ya()&&_e.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var F7=10;function eL(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function tL(t){return t.b?1:t.a?t.a.size:0}function HS(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function VS(t,e){t.a?t.a.add(e):t.b=e}function nL(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}ZM.prototype.cancel=function(){var t,e;if(this.c=rL(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=aM(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function rL(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=aM(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return aS(t.c)}function jS(){}jS.prototype.stringify=function(t){return _e.JSON.stringify(t,void 0)};jS.prototype.parse=function(t){return _e.JSON.parse(t,void 0)};function U7(){this.a=new jS}function B7(t,e,n){var r=n||"";try{US(t,function(i,o){var a=i;Wf(i)&&(a=CS(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function H7(t,e){var n=new NS;if(_e.Image){var r=new Image;r.onload=Sv(Vv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sv(Vv,n,r,"TestLoadImage: error",!1,e),r.onabort=Sv(Vv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sv(Vv,n,r,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Vv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}var V7=_e.JSON.parse;function Kt(t){Cr.call(this),this.headers=new ec,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=j7,this.D=this.F=!1}Un(Kt,Cr);var j7="",q7=/^https?$/i,W7=["POST","PUT"];re=Kt.prototype;re.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?BM(this.H):BM(VM),this.a.onreadystatechange=Sn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){iL(this,o);return}t=n||"";var i=new ec(this.headers);r&&US(r,function(o,a){i.set(a,o)}),r=r7(i.L()),n=_e.FormData&&t instanceof _e.FormData,!(0<=lM(W7,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.a.setRequestHeader(a,o)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{aL(this),0<this.o&&((this.D=z7(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Sn(this.xa,this)):this.m=DS(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){iL(this,o)}};function z7(t){return Is&&yM(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function G7(t){return t.toLowerCase()=="content-type"}re.xa=function(){typeof iS!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,hn(this,"timeout"),this.abort(8))};function iL(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,oL(t),jv(t)}function oL(t){t.u||(t.u=!0,hn(t,"complete"),hn(t,"error"))}re.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,hn(this,"complete"),hn(this,"abort"),jv(this))};re.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),jv(this,!0)),Kt.X.G.call(this)};re.za=function(){this.j||(this.A||this.l||this.g?sL(this):this.Ua())};re.Ua=function(){sL(this)};function sL(t){if(t.b&&typeof iS!="undefined"&&(!t.s[1]||ks(t)!=4||t.W()!=2)){if(t.l&&ks(t)==4)DS(t.za,0,t);else if(hn(t,"readystatechange"),ks(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.B).match(KM)[1]||null;if(!o&&_e.self&&_e.self.location){var a=_e.self.location.protocol;o=a.substr(0,a.length-1)}i=!q7.test(o?o.toLowerCase():"")}r=i}var l=r}if(l)hn(t,"complete"),hn(t,"success");else{t.h=6;try{var u=2<ks(t)?t.a.statusText:""}catch(d){u=""}t.f=u+" ["+t.W()+"]",oL(t)}}finally{jv(t)}}}}function jv(t,e){if(t.a){aL(t);var n=t.a,r=t.s[0]?Ev:null;t.a=null,t.s=null,e||hn(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function aL(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(_e.clearTimeout(t.m),t.m=null)}function ks(t){return t.a?t.a.readyState:0}re.W=function(){try{return 2<ks(this)?this.a.status:-1}catch(t){return-1}};re.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}};re.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),V7(e)}};re.ua=function(){return this.h};re.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function K7(t){var e="";return dS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=K7(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function nh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lL(t){this.pa=0,this.g=[],this.c=new NS,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=nh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=nh("baseRetryDelayMs",5e3,t),this.Ra=nh("retryDelaySeedMs",1e4,t),this.Ma=nh("forwardChannelMaxRetries",2,t),this.ma=nh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ZM(t&&t.concurrentRequestLimit),this.ka=new U7,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}re=lL.prototype;re.ha=8;re.v=1;function WS(t){if(uL(t),t.v==3){var e=t.R++,n=Lo(t.B);lt(n,"SID",t.J),lt(n,"RID",e),lt(n,"TYPE","terminate"),rh(t,n),e=new Qf(t,t.c,e,void 0),e.H=2,e.i=Hv(Lo(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon&&(n=_e.navigator.sendBeacon(e.i.toString(),"")),!n&&_e.Image&&(new Image().src=e.i,n=!0),n||(e.a=yL(e.g,null),e.a.ba(e.i)),e.u=Zi(),Jf(e)}vL(t)}function qv(t){t.a&&(KS(t),t.a.cancel(),t.a=null)}function uL(t){qv(t),t.j&&(_e.clearTimeout(t.j),t.j=null),zv(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&_e.clearTimeout(t.h),t.h=null)}function zS(t,e){t.g.push(new L7(t.Oa++,e)),t.v==3&&Wv(t)}function Wv(t){eL(t.b)||t.h||(t.h=!0,IM(t.Ba,t),t.u=0)}function Y7(t,e){return tL(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=Xf(Sn(t.Ba,t,e),mL(t,t.u)),t.u++,!0)}re.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new Qf(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=fM(n),pM(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var o=this.g[i];if("__data__"in o.a&&(o=o.a.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=dL(this,e,r),i=Lo(this.B),lt(i,"RID",t),lt(i,"CVER",22),this.A&&lt(i,"X-HTTP-Session-Id",this.A),rh(this,i),this.i&&n&&qS(i,this.i,n),VS(this.b,e),this.Ia&&lt(i,"TYPE","init"),this.da?(lt(i,"$req",r),lt(i,"SID","null"),e.U=!0,LS(e,i,null)):LS(e,i,r),this.v=2}}else this.v==3&&(t?cL(this,t):this.g.length==0||eL(this.b)||cL(this))};function cL(t,e){var n;e?n=e.f:n=t.R++;var r=Lo(t.B);lt(r,"SID",t.J),lt(r,"RID",n),lt(r,"AID",t.P),rh(t,r),t.i&&t.l&&qS(r,t.i,t.l),n=new Qf(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=dL(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),VS(t.b,n),LS(n,r,e)}function rh(t,e){t.f&&US({},function(n,r){lt(e,r,n)})}function dL(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Sn(t.f.Ja,t.f,t):null;e:for(var i=t.g,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var l=!0,u=0;u<n;u++){var d=i[u].b,f=i[u].a;if(d-=o,0>d)o=Math.max(0,i[u].b-100),l=!1;else try{B7(f,a,"req"+d+"_")}catch(p){r&&r(f)}}if(l){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function fL(t){t.a||t.j||(t.T=1,IM(t.Aa,t),t.o=0)}function GS(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=Xf(Sn(t.Aa,t),mL(t,t.o)),t.o++,!0)}re.Aa=function(){if(this.j=null,hL(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Xf(Sn(this.Ta,this),t)}};re.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Vn(10),qv(this),hL(this))};function KS(t){t.s!=null&&(_e.clearTimeout(t.s),t.s=null)}function hL(t){t.a=new Qf(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Lo(t.la);lt(e,"RID","rpc"),lt(e,"SID",t.J),lt(e,"CI",t.H?"0":"1"),lt(e,"AID",t.P),rh(t,e),lt(e,"TYPE","xmlhttp"),t.i&&t.l&&qS(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Hv(Lo(e)),n.j=null,n.I=!0,WM(n,t)}re.Sa=function(){this.m!=null&&(this.m=null,qv(this),GS(this),Vn(19))};function zv(t){t.m!=null&&(_e.clearTimeout(t.m),t.m=null)}function pL(t,e){var n=null;if(t.a==e){zv(t),KS(t),t.a=null;var r=2}else if(HS(t.b,e))n=e.s,nL(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=Zi()-e.u;var i=t.u;r=Pv(),hn(r,new LM(r,n,e,i)),Wv(t)}else fL(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&Y7(t,e)||r==2&&GS(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:il(t,5);break;case 4:il(t,10);break;case 3:il(t,6);break;default:il(t,2)}}}function mL(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function il(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=Sn(t.Ya,t);n||(n=new rl("//www.google.com/images/cleardot.gif"),_e.location&&_e.location.protocol=="http"||Fv(n,"https"),Hv(n)),H7(n.toString(),r)}else Vn(2);t.v=0,t.f&&t.f.ra(e),vL(t),uL(t)}re.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Vn(2)):(this.c.info("Failed to ping google.com"),Vn(1))};function vL(t){t.v=0,t.I=-1,t.f&&((rL(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,aS(t.g),t.g.length=0),t.f.qa())}function gL(t,e,n){var r=R7(n);if(r.c!="")e&&Uv(r,e+"."+r.c),Bv(r,r.h);else{var i=_e.location;r=k7(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&dS(t.V,function(o,a){lt(r,a,o)}),e=t.A,n=t.na,e&&n&&lt(r,e,n),lt(r,"VER",t.ha),rh(t,r),r}function yL(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Kt(t.Na),e.F=t.C,e}function bL(){}re=bL.prototype;re.ta=function(){};re.sa=function(){};re.ra=function(){};re.qa=function(){};re.Ja=function(){};function Gv(){if(Is&&!(10<=Number(bM)))throw Error("Environmental error: no available transport.")}Gv.prototype.a=function(t,e){return new Ir(t,e)};function Ir(t,e){Cr.call(this),this.a=new lL(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!xv(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xv(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new nc(this)}Un(Ir,Cr);Ir.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Vn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=gL(t,null,t.fa),Wv(t)};Ir.prototype.close=function(){WS(this.a)};Ir.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,zS(this.a,e)}else this.l?(e={},e.__data__=CS(t),zS(this.a,e)):zS(this.a,t)};Ir.prototype.G=function(){this.a.f=null,delete this.f,WS(this.a),delete this.a,Ir.X.G.call(this)};function _L(t){PS.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Un(_L,PS);function wL(){OS.call(this),this.status=1}Un(wL,OS);function nc(t){this.a=t}Un(nc,bL);nc.prototype.ta=function(){hn(this.a,"a")};nc.prototype.sa=function(t){hn(this.a,new _L(t))};nc.prototype.ra=function(t){hn(this.a,new wL(t))};nc.prototype.qa=function(){hn(this.a,"b")};Gv.prototype.createWebChannel=Gv.prototype.a;Ir.prototype.send=Ir.prototype.h;Ir.prototype.open=Ir.prototype.g;Ir.prototype.close=Ir.prototype.close;Ov.NO_ERROR=0;Ov.TIMEOUT=8;Ov.HTTP_ERROR=6;FM.COMPLETE="complete";HM.EventType=$f;$f.OPEN="a";$f.CLOSE="b";$f.ERROR="c";$f.MESSAGE="d";Cr.prototype.listen=Cr.prototype.va;Kt.prototype.listenOnce=Kt.prototype.wa;Kt.prototype.getLastError=Kt.prototype.Qa;Kt.prototype.getLastErrorCode=Kt.prototype.ua;Kt.prototype.getStatus=Kt.prototype.W;Kt.prototype.getResponseJson=Kt.prototype.Pa;Kt.prototype.getResponseText=Kt.prototype.$;Kt.prototype.send=Kt.prototype.ba;var EL=function(){return new Gv},SL=function(){return Pv()},Kv=Ov,xL=FM,TL=tl,YS={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ih=HM,CL=Kt;le();sr();var Fo=Gr(Ki());le();var Rr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Rr.o=-1;var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return P(e,t),e}(Error),Ri=new Fo.Logger("@firebase/firestore");function XS(){return Ri.logLevel}function X(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ri.logLevel<=Fo.LogLevel.DEBUG){var r=e.map($S);Ri.debug.apply(Ri,me(["Firestore (8.6.2): "+t],r))}}function Ot(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ri.logLevel<=Fo.LogLevel.ERROR){var r=e.map($S);Ri.error.apply(Ri,me(["Firestore (8.6.2): "+t],r))}}function Yv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ri.logLevel<=Fo.LogLevel.WARN){var r=e.map($S);Ri.warn.apply(Ri,me(["Firestore (8.6.2): "+t],r))}}function $S(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}function ie(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw Ot(e),new Error(e)}function fe(t,e){t||ie()}function $(t,e){return t}function X7(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var IL=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=X7(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function Me(t,e){return t<e?-1:t>e?1:0}function rc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function RL(t){return t+"\0"}var jn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ie=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new jn(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function kL(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AL(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var DL=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Be=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var l=a[o];if(l.indexOf("//")>=0)throw new j(B.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(u){return u.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(DL),$7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return $7.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new j(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new j(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new j(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=d,o+=2}else u==="`"?(l=!l,o++):u!=="."||l?(i+=u,o++):(a(),o++)}if(a(),l)throw new j(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(DL),ic=function(){function t(e){this.fields=e,e.sort(Zr.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return rc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),qn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Me(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();qn.EMPTY_BYTE_STRING=new qn("");var Q7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(fe(!!t),typeof t=="string"){var e=0,n=Q7.exec(t);if(fe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oc(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}function QS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NL(t){var e=t.mapValue.fields.__previous_value__;return QS(e)?NL(e):e}function sh(t){var e=As(t.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}function ol(t){return t==null}function Xv(t){return t===0&&1/t==-1/0}function PL(t){return typeof t=="number"&&Number.isInteger(t)&&!Xv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var oe=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Be.fromString(e))},t.fromName=function(e){return new t(Be.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Be.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Be.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Be(e.slice()))},t}();function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?QS(t)?4:10:ie()}function eo(t,e){var n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=As(r.timestampValue),a=As(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return oc(r.bytesValue).isEqual(oc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Mt(r.geoPointValue.latitude)===Mt(i.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mt(r.integerValue)===Mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Mt(r.doubleValue),a=Mt(i.doubleValue);return o===a?Xv(o)===Xv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(kL(o)!==kL(a))return!1;for(var l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eo(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function ah(t,e){return(t.values||[]).find(function(n){return eo(n,e)})!==void 0}function sc(t,e){var n=Ds(t),r=Ds(e);if(n!==r)return Me(n,r);switch(n){case 0:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=Mt(i.integerValue||i.doubleValue),l=Mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return OL(t.timestampValue,e.timestampValue);case 4:return OL(sh(t),sh(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,o){var a=oc(i),l=oc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),l=o.split("/"),u=0;u<a.length&&u<l.length;u++){var d=Me(a[u],l[u]);if(d!==0)return d}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=Me(Mt(i.latitude),Mt(o.latitude));return a!==0?a:Me(Mt(i.longitude),Mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],l=o.values||[],u=0;u<a.length&&u<l.length;++u){var d=sc(a[u],l[u]);if(d)return d}return Me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(var f=0;f<l.length&&f<d.length;++f){var p=Me(l[f],d[f]);if(p!==0)return p;var m=sc(a[l[f]],u[d[f]]);if(m!==0)return m}return Me(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function OL(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);var n=As(t),r=As(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function JS(t){return ZS(t)}function ZS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=As(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,l=r.values||[];a<l.length;a++)o?o=!1:i+=",",i+=ZS(l[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var u=l[a];o?o=!1:i+=",",i+=u+":"+ZS(r.fields[u])}return i+"}"}(t.mapValue):ie();var e,n}function $v(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ex(t){return!!t&&"integerValue"in t}function tx(t){return!!t&&"arrayValue"in t}function ML(t){return!!t&&"nullValue"in t}function LL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nx(t){return!!t&&"mapValue"in t}var kr=function(){function t(e){this.overlayMap=new Map,this.partialValue=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Zr.emptyPath())},t.prototype.set=function(e,n){this.setOverlay(e,n)},t.prototype.setAll=function(e){var n=this;e.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},t.prototype.delete=function(e){this.setOverlay(e,null)},t.prototype.isEqual=function(e){return eo(this.buildProto(),e.buildProto())},t.prototype.setOverlay=function(e,n){for(var r=this.overlayMap,i=0;i<e.length-1;++i){var o=e.get(i),a=r.get(o);a instanceof Map?r=a:a&&Ds(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(o,a),r=a):(a=new Map,r.set(o,a),r=a)}r.set(e.lastSegment(),n)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=nx(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(l,u){if(l instanceof Map){var d=r.applyOverlay(e.child(u),l);d!=null&&(a[u]=d,i=!0)}else l!==null?(a[u]=l,i=!0):a.hasOwnProperty(u)&&(delete a[u],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var e=this.applyOverlay(Zr.emptyPath(),this.overlayMap);return e!=null&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(e,n){if(n.isEmpty())return e;for(var r=e,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!nx(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function FL(t){var e=[];return oh(t.fields||{},function(n,r){var i=new Zr([n]);if(nx(r)){var o=FL(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,l=o;a<l.length;a++){var u=l[a];e.push(i.child(u))}}else e.push(i)}),new ic(e)}var pn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,Ie.min(),kr.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,kr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,kr.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),J7=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function UL(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new J7(t,e,n,r,i,o,a)}function lh(t){var e=$(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+JS(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),ol(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Zv(e.startAt)),e.endAt&&(n+="|ub:",n+=Zv(e.endAt)),e.h=n}return e.h}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!eo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VL(t.startAt,e.startAt)&&VL(t.endAt,e.endAt)}function Jv(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ar=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return P(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Z7(n,r,i):r==="array-contains"?new nQ(n,i):r==="in"?new rQ(n,i):r==="not-in"?new iQ(n,i):r==="array-contains-any"?new oQ(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new eQ(n,i):new tQ(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(sc(r,this.value)):r!==null&&Ds(this.value)===Ds(r)&&this.m(sc(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ie()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Z7=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=oe.fromName(i.referenceValue),o}return P(e,t),e.prototype.matches=function(n){var r=oe.comparator(n.key,this.key);return this.m(r)},e}(Ar),eQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=BL("in",r),i}return P(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Ar),tQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=BL("not-in",r),i}return P(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Ar);function BL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return oe.fromName(r.referenceValue)})}var nQ=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return P(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return tx(r)&&ah(r.arrayValue,this.value)},e}(Ar),rQ=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return P(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ah(this.value.arrayValue,r)},e}(Ar),iQ=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return P(e,t),e.prototype.matches=function(n){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ah(this.value.arrayValue,r)},e}(Ar),oQ=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return P(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!tx(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return ah(r.value.arrayValue,o)})},e}(Ar),uh=function(t,e){this.position=t,this.before=e};function Zv(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return JS(e)}).join(",")}var ac=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function sQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function HL(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?oe.comparator(oe.fromName(a.referenceValue),n.key):sc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function VL(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!eo(t.position[n],e.position[n]))return!1;return!0}var Uo=function(t,e,n,r,i,o,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function jL(t,e,n,r,i,o,a,l){return new Uo(t,e,n,r,i,o,a,l)}function lc(t){return new Uo(t)}function eg(t){return!ol(t.limit)&&t.limitType==="F"}function tg(t){return!ol(t.limit)&&t.limitType==="L"}function rx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ix(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ox(t){return t.collectionGroup!==null}function uc(t){var e=$(t);if(e.p===null){e.p=[];var n=ix(e),r=rx(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new ac(n)),e.p.push(new ac(Zr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var l=a[o];e.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ac(Zr.keyField(),u))}}}return e.p}function ei(t){var e=$(t);if(!e.T)if(e.limitType==="F")e.T=UL(e.path,e.collectionGroup,uc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=uc(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new ac(o.field,a))}var l=e.endAt?new uh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new uh(e.startAt.position,!e.startAt.before):null;e.T=UL(e.path,e.collectionGroup,n,e.filters,e.limit,l,u)}return e.T}function qL(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return Qv(ei(t),ei(e))&&t.limitType===e.limitType}function WL(t){return lh(ei(t))+"|lt:"+t.limitType}function sx(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+JS(i.value);var i}).join(", ")+"]"),ol(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Zv(e.startAt)),e.endAt&&(n+=", endAt: "+Zv(e.endAt)),"Target("+n+")"}(ei(t))+"; limitType="+t.limitType+")"}function dh(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!HL(n.startAt,uc(n),r))&&(!n.endAt||!HL(n.endAt,uc(n),r))}(t,e)}function zL(t){return function(e,n){for(var r=!1,i=0,o=uc(t);i<o.length;i++){var a=o[i],l=aQ(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function aQ(t,e,n){var r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){var l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?sc(l,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}function GL(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xv(e)?"-0":e}}function KL(t){return{integerValue:""+t}}function YL(t,e){return PL(e)?KL(e):GL(t,e)}var ng=function(){this._=void 0};function lQ(t,e,n){return t instanceof cc?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof sl?$L(t,e):t instanceof al?QL(t,e):function(r,i){var o=XL(r,i),a=JL(o)+JL(r.A);return ex(o)&&ex(r.A)?KL(a):GL(r.R,a)}(t,e)}function uQ(t,e,n){return t instanceof sl?$L(t,e):t instanceof al?QL(t,e):n}function XL(t,e){return t instanceof dc?ex(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var cc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e}(ng),sl=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return P(e,t),e}(ng);function $L(t,e){for(var n=ZL(e),r=function(a){n.some(function(l){return eo(l,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var al=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return P(e,t),e}(ng);function QL(t,e){for(var n=ZL(e),r=function(a){n=n.filter(function(l){return!eo(l,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return P(e,t),e}(ng);function JL(t){return Mt(t.integerValue||t.doubleValue)}function ZL(t){return tx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var fh=function(t,e){this.field=t,this.transform=e},cQ=function(t,e){this.version=t,this.transformResults=e},Tn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ig=function(){};function dQ(t,e,n){t instanceof hh?function(r,i,o){var a=r.value.clone(),l=rF(r.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(r,i,o){if(rg(r.precondition,i)){var a=rF(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(nF(r)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ax(t,e,n){t instanceof hh?function(r,i,o){if(rg(r.precondition,i)){var a=r.value.clone(),l=iF(r.fieldTransforms,o,i);a.setAll(l),i.convertToFoundDocument(tF(i),a).setHasLocalMutations()}}(t,e,n):t instanceof Ns?function(r,i,o){if(rg(r.precondition,i)){var a=iF(r.fieldTransforms,o,i),l=i.data;l.setAll(nF(r)),l.setAll(a),i.convertToFoundDocument(tF(i),l).setHasLocalMutations()}}(t,e,n):function(r,i){rg(r.precondition,i)&&i.convertToNoDocument(Ie.min())}(t,e)}function fQ(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),l=XL(o.transform,a||null);l!=null&&(n==null&&(n=kr.empty()),n.set(o.field,l))}return n||null}function eF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&rc(n,r,function(i,o){return function(a,l){return a.field.isEqual(l.field)&&function(u,d){return u instanceof sl&&d instanceof sl||u instanceof al&&d instanceof al?rc(u.elements,d.elements,eo):u instanceof dc&&d instanceof dc?eo(u.A,d.A):u instanceof cc&&d instanceof cc}(a.transform,l.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function tF(t){return t.isFoundDocument()?t.version:Ie.min()}var hh=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return P(e,t),e}(ig),Ns=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=o,l.fieldTransforms=a,l.type=1,l}return P(e,t),e}(ig);function nF(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function rF(t,e,n){var r=new Map;fe(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,uQ(a,l,n[i]))}return r}function iF(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],l=a.transform,u=n.data.field(a.field);r.set(a.field,lQ(l,u,e))}return r}var Lt,Le,ph=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return P(e,t),e}(ig),lx=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return P(e,t),e}(ig),hQ=function(t){this.count=t};function oF(t){switch(t){case B.OK:return ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ie()}}function sF(t){if(t===void 0)return Ot("GRPC error has no .code"),B.UNKNOWN;switch(t){case Lt.OK:return B.OK;case Lt.CANCELLED:return B.CANCELLED;case Lt.UNKNOWN:return B.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return B.INTERNAL;case Lt.UNAVAILABLE:return B.UNAVAILABLE;case Lt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Lt.NOT_FOUND:return B.NOT_FOUND;case Lt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Lt.ABORTED:return B.ABORTED;case Lt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Lt.DATA_LOSS:return B.DATA_LOSS;default:return ie()}}(Le=Lt||(Lt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";var Cn=function(){function t(e,n){this.comparator=e,this.root=n||Ps.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ps.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new og(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new og(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new og(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new og(this.root,e,this.comparator,!0)},t}(),og=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ps=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();var e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)},t}();Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ie()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new Ps(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Yt=function(){function t(e){this.comparator=e,this.data=new Cn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new aF(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new aF(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),aF=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pQ=new Cn(oe.comparator);function ti(){return pQ}var mQ=new Cn(oe.comparator);function ux(){return mQ}var vQ=new Cn(oe.comparator);function lF(){return vQ}var gQ=new Yt(oe.comparator);function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gQ,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var yQ=new Yt(Me);function sg(){return yQ}var cx=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,dx.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ie.min(),r,sg(),ti(),Ge())},t}(),dx=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(qn.EMPTY_BYTE_STRING,n,Ge(),Ge(),Ge())},t}(),ag=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},uF=function(t,e){this.targetId=t,this.V=e},cF=function(t,e,n,r){n===void 0&&(n=qn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},dF=function(){function t(){this.S=0,this.D=hF(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=Ge(),n=Ge(),r=Ge();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new dx(this.C,this.N,e,n,r)},t.prototype.L=function(){this.F=!1,this.D=hF()},t.prototype.B=function(e,n){this.F=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),bQ=function(){function t(e){this.W=e,this.G=new Map,this.H=ti(),this.J=fF(),this.Y=new Yt(Me)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.$(e.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(e.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(e.resumeToken));break;default:ie()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(Jv(o))if(r===0){var a=new oe(o.path);this.tt(n,a,pn.newNoDocument(a,Ie.min()))}else fe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.at=function(e){var n=this,r=new Map;this.G.forEach(function(a,l){var u=n.ot(l);if(u){if(a.current&&Jv(u.target)){var d=new oe(u.target.path);n.H.get(d)!==null||n.ut(l,d)||n.tt(l,d,pn.newNoDocument(d,e))}a.O&&(r.set(l,a.M()),a.L())}});var i=Ge();this.J.forEach(function(a,l){var u=!0;l.forEachWhile(function(d){var f=n.ot(d);return!f||f.purpose===2||(u=!1,!1)}),u&&(i=i.add(a))});var o=new cx(e,r,this.Y,this.H,i);return this.H=ti(),this.J=fF(),this.Y=new Yt(Me),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.ut(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.ut(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new dF,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Yt(Me),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.k?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new dF),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.ut=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function fF(){return new Cn(oe.comparator)}function hF(){return new Cn(oe.comparator)}var _Q={asc:"ASCENDING",desc:"DESCENDING"},wQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EQ=function(t,e){this.databaseId=t,this.I=e};function mh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function pF(t,e){return t.I?e.toBase64():e.toUint8Array()}function SQ(t,e){return mh(t,e.toTimestamp())}function tn(t){return fe(!!t),Ie.fromTimestamp(function(e){var n=As(e);return new jn(n.seconds,n.nanos)}(t))}function fx(t,e){return function(n){return new Be(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mF(t){var e=Be.fromString(t);return fe(IF(e)),e}function vh(t,e){return fx(t.databaseId,e.path)}function to(t,e){var n=mF(e);if(n.get(1)!==t.databaseId.projectId)throw new j(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(gF(n))}function hx(t,e){return fx(t.databaseId,e)}function vF(t){var e=mF(t);return e.length===4?Be.emptyPath():gF(e)}function gh(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gF(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yF(t,e,n){return{name:vh(t,e),fields:n.toProto().mapValue.fields}}function bF(t,e,n){var r=to(t,e.name),i=tn(e.updateTime),o=new kr({mapValue:{fields:e.fields}}),a=pn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function lg(t,e){var n;if(e instanceof hh)n={update:yF(t,e.key,e.value)};else if(e instanceof ph)n={delete:vh(t,e.key)};else if(e instanceof Ns)n={update:yF(t,e.key,e.data),updateMask:RQ(e.fieldMask)};else{if(!(e instanceof lx))return ie();n={verify:vh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),increment:a.A};throw ie()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:SQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(t,e.precondition)),n}function _F(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?Tn.updateTime(tn(d.updateTime)):d.exists!==void 0?Tn.exists(d.exists):Tn.none()}(e.currentDocument):Tn.none(),r=e.updateTransforms?e.updateTransforms.map(function(d){return function(f,p){var m=null;if("setToServerValue"in p)fe(p.setToServerValue==="REQUEST_TIME"),m=new cc;else if("appendMissingElements"in p){var g=p.appendMissingElements.values||[];m=new sl(g)}else if("removeAllFromArray"in p){var y=p.removeAllFromArray.values||[];m=new al(y)}else"increment"in p?m=new dc(f,p.increment):ie();var _=Zr.fromServerFormat(p.fieldPath);return new fh(_,m)}(t,d)}):[];if(e.update){e.update.name;var i=to(t,e.update.name),o=new kr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var f=d.fieldPaths||[];return new ic(f.map(function(p){return Zr.fromServerFormat(p)}))}(e.updateMask);return new Ns(i,o,a,n,r)}return new hh(i,o,n,r)}if(e.delete){var l=to(t,e.delete);return new ph(l,n)}if(e.verify){var u=to(t,e.verify);return new lx(u,n)}return ie()}function wF(t,e){return{documents:[hx(t,e.path)]}}function EF(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var u=l.map(function(d){return function(f){if(f.op==="=="){if(LL(f.value))return{unaryFilter:{field:fc(f.field),op:"IS_NAN"}};if(ML(f.value))return{unaryFilter:{field:fc(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(LL(f.value))return{unaryFilter:{field:fc(f.field),op:"IS_NOT_NAN"}};if(ML(f.value))return{unaryFilter:{field:fc(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(f.field),op:TQ(f.op),value:f.value}}}(d)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(l){if(l.length!==0)return l.map(function(u){return function(d){return{field:fc(d.field),direction:xQ(d.dir)}}(u)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(l,u){return l.I||ol(u)?u:{value:u}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=TF(e.startAt)),e.endAt&&(n.structuredQuery.endAt=TF(e.endAt)),n}function SF(t){var e=vF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=xF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(p){return function(m){return new ac(hc(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(p)}));var u=null;n.limit&&(u=function(p){var m;return ol(m=typeof p=="object"?p.value:p)?null:m}(n.limit));var d=null;n.startAt&&(d=CF(n.startAt));var f=null;return n.endAt&&(f=CF(n.endAt)),jL(e,i,l,a,u,"F",d,f)}function xF(t){return t?t.unaryFilter!==void 0?[IQ(t)]:t.fieldFilter!==void 0?[CQ(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return xF(e)}).reduce(function(e,n){return e.concat(n)}):ie():[]}function TF(t){return{before:t.before,values:t.position}}function CF(t){var e=!!t.before,n=t.values||[];return new uh(n,e)}function xQ(t){return _Q[t]}function TQ(t){return wQ[t]}function fc(t){return{fieldPath:t.canonicalString()}}function hc(t){return Zr.fromServerFormat(t.fieldPath)}function CQ(t){return Ar.create(hc(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}function IQ(t){switch(t.unaryFilter.op){case"IS_NAN":var e=hc(t.unaryFilter.field);return Ar.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=hc(t.unaryFilter.field);return Ar.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hc(t.unaryFilter.field);return Ar.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hc(t.unaryFilter.field);return Ar.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ie()}}function RQ(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function IF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function ki(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=RF(e)),e=kQ(t.get(n),e);return RF(e)}function kQ(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function RF(t){return t+""}function Bo(t){var e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Be.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&ie(),t.charAt(a+1)){case"":var l=t.substring(o,a),u=void 0;i.length===0?u=l:(u=i+=l,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ie()}o=a+2}return new Be(r)}var AQ=function(t,e){this.seconds=t,this.nanoseconds=e},Dr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dr.store="owner",Dr.key="owner";var Os=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Os.store="mutationQueues",Os.keyPath="userId";var nt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};nt.store="mutations",nt.keyPath="batchId",nt.userMutationsIndex="userMutationsIndex",nt.userMutationsKeyPath=["userId","batchId"];var In=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,ki(n)]},t.key=function(e,n,r){return[e,ki(n),r]},t}();In.store="documentMutations",In.PLACEHOLDER=new In;var DQ=function(t,e){this.path=t,this.readTime=e},NQ=function(t,e){this.path=t,this.version=e},yt=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yt.store="remoteDocuments",yt.readTimeIndex="readTimeIndex",yt.readTimeIndexPath="readTime",yt.collectionReadTimeIndex="collectionReadTimeIndex",yt.collectionReadTimeIndexPath=["parentPath","readTime"];var no=function(t){this.byteSize=t};no.store="remoteDocumentGlobal",no.key="remoteDocumentGlobalKey";var lr=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};lr.store="targets",lr.keyPath="targetId",lr.queryTargetsIndexName="queryTargetsIndex",lr.queryTargetsKeyPath=["canonicalId","targetId"];var mn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mn.store="targetDocuments",mn.keyPath=["targetId","path"],mn.documentTargetsIndex="documentTargetsIndex",mn.documentTargetsKeyPath=["path","targetId"];var Nr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Nr.key="targetGlobalKey",Nr.store="targetGlobal";var ll=function(t,e){this.collectionId=t,this.parent=e};ll.store="collectionParents",ll.keyPath=["collectionId","parent"];var Ho=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ho.store="clientMetadata",Ho.keyPath="clientId";var pc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};pc.store="bundles",pc.keyPath="bundleId";var mc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};mc.store="namedQueries",mc.keyPath="name";var PQ=me(me([],me(me([],me(me([],me(me([],[Os.store,nt.store,In.store,yt.store,lr.store,Dr.store,Nr.store,mn.store]),[Ho.store])),[no.store])),[ll.store])),[pc.store,mc.store]),kF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AF=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Wn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},z=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(l){++i,l.next(function(){++o,a&&o===i&&n()},function(u){return r(u)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),DF=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Wn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new yh(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=px(i.target.error);r.ft.reject(new yh(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new yh(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new MQ(n)},t}(),vc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(Do())===12.2&&Ot("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return X("SimpleDb","Removing database:",e),cl(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB=="undefined")return!1;if(t.gt())return!0;var e=Do(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(X("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(u){var d=u.target.result;o(d)},l.onblocked=function(){a(new yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(u){var d=u.target.error;d.name==="VersionError"?a(new j(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new yh(e,d))},l.onupgradeneeded=function(u){X("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var d=u.target.result;r.wt.Rt(d,l.transaction,u.oldVersion,r.version).next(function(){X("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return N(this,void 0,void 0,function(){var o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:o=n==="readonly",a=0,l=function(){var p,m,g,y,_;return D(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=w.sent(),p=DF.open(u.db,e,o?"readonly":"readwrite",r),m=i(p).catch(function(S){return p.abort(S),z.reject(S)}).toPromise(),g={},m.catch(function(){}),[4,p.dt];case 3:return[2,(g.value=(w.sent(),m),g)];case 4:return y=w.sent(),_=y.name!=="FirebaseError"&&a<3,X("SimpleDb","Transaction failed with error:",y.message,"Retrying:",_),u.close(),_?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},u=this,f.label=1;case 1:return[5,l()];case 2:if(typeof(d=f.sent())=="object")return[2,d.value];f.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),OQ=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return cl(this.Pt.delete())},t}(),yh=function(t){function e(n,r){var i=this;return(i=t.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return P(e,t),e}(j);function ul(t){return t.name==="IndexedDbTransactionError"}var MQ=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),cl(r)},t.prototype.add=function(e){return X("SimpleDb","ADD",this.store.name,e,e),cl(this.store.add(e))},t.prototype.get=function(e){var n=this;return cl(this.store.get(e)).next(function(r){return r===void 0&&(r=null),X("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return X("SimpleDb","DELETE",this.store.name,e),cl(this.store.delete(e))},t.prototype.count=function(){return X("SimpleDb","COUNT",this.store.name),cl(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.Ft=function(e,n){X("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(o,a,l){return l.delete()})},t.prototype.Ot=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.$t=function(e){var n=this.cursor({});return new z(function(r,i){n.onerror=function(o){var a=px(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new z(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var u=new OQ(l),d=n(l.primaryKey,l.value,u);if(d instanceof z){var f=d.catch(function(p){return u.done(),z.reject(p)});r.push(f)}u.isDone?i():u.Dt===null?l.continue():l.continue(u.Dt)}else i()}}).next(function(){return z.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.kt?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function cl(t){return new z(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=px(r.target.error);n(i)}})}var NF=!1;function px(t){var e=vc._t(Do());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return NF||(NF=!0,setTimeout(function(){throw r},0)),r}}return t}var PF=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return P(e,t),e}(AF);function ur(t,e){var n=$(t);return vc.It(n.Mt,e)}var mx=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&dQ(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&ax(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&ax(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(Ie.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Ge())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,function(n,r){return eF(n,r)})&&rc(this.baseMutations,e.baseMutations,function(n,r){return eF(n,r)})},t}(),LQ=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){fe(e.mutations.length===r.length);for(var i=lF(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),ug=function(){function t(e,n,r,i,o,a,l){o===void 0&&(o=Ie.min()),a===void 0&&(a=Ie.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),OF=function(t){this.Lt=t};function vx(t,e){if(e.document)return bF(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=oe.fromSegments(e.noDocument.path),r=yc(e.noDocument.readTime),i=pn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=oe.fromSegments(e.unknownDocument.path);return r=yc(e.unknownDocument.version),pn.newUnknownDocument(o,r)}return ie()}function MF(t,e,n){var r=gx(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(p,m){return{name:vh(p,m.key),fields:m.data.toProto().mapValue.fields,updateTime:mh(p,m.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new yt(null,null,o,a,r,i)}if(e.isNoDocument()){var l=e.key.path.toArray(),u=gc(e.version);return a=e.hasCommittedMutations,new yt(null,new DQ(l,u),null,a,r,i)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),f=gc(e.version);return new yt(new NQ(d,f),null,null,!0,r,i)}return ie()}function gx(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function LF(t){var e=new jn(t[0],t[1]);return Ie.fromTimestamp(e)}function gc(t){var e=t.toTimestamp();return new AQ(e.seconds,e.nanoseconds)}function yc(t){var e=new jn(t.seconds,t.nanoseconds);return Ie.fromTimestamp(e)}function bc(t,e){for(var n=(e.baseMutations||[]).map(function(u){return _F(t.Lt,u)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(u){return _F(t.Lt,u)}),l=jn.fromMillis(e.localWriteTimeMs);return new mx(e.batchId,l,n,a)}function bh(t){var e,n,r=yc(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?yc(t.lastLimboFreeSnapshotVersion):Ie.min();return t.query.documents!==void 0?(fe((n=t.query).documents.length===1),e=ei(lc(vF(n.documents[0])))):e=function(o){return ei(SF(o))}(t.query),new ug(e,t.targetId,0,t.lastListenSequenceNumber,r,i,qn.fromBase64String(t.resumeToken))}function FF(t,e){var n,r=gc(e.snapshotVersion),i=gc(e.lastLimboFreeSnapshotVersion);n=Jv(e.target)?wF(t.Lt,e.target):EF(t.Lt,e.target);var o=e.resumeToken.toBase64();return new lr(e.targetId,lh(e.target),r,o,e.sequenceNumber,i,n)}function yx(t){var e=SF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qL(e,e.limit,"L"):e}var FQ=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return UF(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:yc(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return UF(e).put({bundleId:(r=n).id,createTime:gc(tn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return BF(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:yx(i.bundledQuery),readTime:yc(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return BF(e).put(function(r){return{name:r.name,readTime:gc(tn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function UF(t){return ur(t,pc.store)}function BF(t){return ur(t,mc.store)}var UQ=function(){function t(){this.Bt=new bx}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),z.resolve()},t.prototype.getCollectionParents=function(e,n){return z.resolve(this.Bt.getEntries(n))},t}(),bx=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Yt(Be.comparator)).toArray()},t}(),BQ=function(){function t(){this.qt=new bx}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:ki(o)};return HF(e).put(a)}return z.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[RL(n),""],!1,!0);return HF(e).Nt(i).next(function(o){for(var a=0,l=o;a<l.length;a++){var u=l[a];if(u.collectionId!==n)break;r.push(Bo(u.parent))}return r})},t}();function HF(t){return ur(t,ll.store)}var VF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ro=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function jF(t,e,n){var r=t.store(nt.store),i=t.store(In.store),o=[],a=IDBKeyRange.only(n.batchId),l=0,u=r.Ot({range:a},function(y,_,w){return l++,w.delete()});o.push(u.next(function(){fe(l===1)}));for(var d=[],f=0,p=n.mutations;f<p.length;f++){var m=p[f],g=In.key(e,m.key.path,n.batchId);o.push(i.delete(g)),d.push(m.key)}return z.waitFor(o).next(function(){return d})}function cg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ie();e=t.noDocument}return JSON.stringify(e).length}ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(41943040,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);var HQ=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return t.Kt=function(e,n,r,i){return fe(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ms(e).Ot({index:nt.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=_c(e),l=Ms(e);return l.add({}).next(function(u){fe(typeof u=="number");for(var d=new mx(u,n,r,i),f=function(S,C,R){var A=R.baseMutations.map(function(M){return lg(S.Lt,M)}),L=R.mutations.map(function(M){return lg(S.Lt,M)});return new nt(C,R.batchId,R.localWriteTime.toMillis(),A,L)}(o.R,o.userId,d),p=[],m=new Yt(function(S,C){return Me(S.canonicalString(),C.canonicalString())}),g=0,y=i;g<y.length;g++){var _=y[g],w=In.key(o.userId,_.key.path,u);m=m.add(_.key.path.popLast()),p.push(l.put(f)),p.push(a.put(w,In.PLACEHOLDER))}return m.forEach(function(S){p.push(o.Ut.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(function(){o.Qt[u]=d.keys()}),z.waitFor(p).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return Ms(e).get(n).next(function(i){return i?(fe(i.userId===r.userId),bc(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Qt[n]?z.resolve(this.Qt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Qt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Ms(e).Ot({index:nt.userMutationsIndex,range:o},function(l,u,d){u.userId===r.userId&&(fe(u.batchId>=i),a=bc(r.R,u)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ms(e).Ot({index:nt.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ms(e).Nt(nt.userMutationsIndex,r).next(function(i){return i.map(function(o){return bc(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=In.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return _c(e).Ot({range:o},function(l,u,d){var f=l[0],p=l[1],m=l[2],g=Bo(p);if(f===r.userId&&n.path.isEqual(g))return Ms(e).get(m).next(function(y){if(!y)throw ie();fe(y.userId===r.userId),a.push(bc(r.R,y))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Yt(Me),o=[];return n.forEach(function(a){var l=In.prefixForPath(r.userId,a.path),u=IDBKeyRange.lowerBound(l),d=_c(e).Ot({range:u},function(f,p,m){var g=f[0],y=f[1],_=f[2],w=Bo(y);g===r.userId&&a.path.isEqual(w)?i=i.add(_):m.done()});o.push(d)}),z.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=In.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),u=new Yt(Me);return _c(e).Ot({range:l},function(d,f,p){var m=d[0],g=d[1],y=d[2],_=Bo(g);m===r.userId&&i.isPrefixOf(_)?_.length===o&&(u=u.add(y)):p.done()}).next(function(){return r.Wt(e,u)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(Ms(e).get(a).next(function(l){if(l===null)throw ie();fe(l.userId===r.userId),i.push(bc(r.R,l))}))}),z.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return jF(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),z.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Qt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return z.resolve();var i=IDBKeyRange.lowerBound(In.prefixForUser(n.userId)),o=[];return _c(e).Ot({range:i},function(a,l,u){if(a[0]===n.userId){var d=Bo(a[1]);o.push(d)}else u.done()}).next(function(){fe(o.length===0)})})},t.prototype.containsKey=function(e,n){return qF(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return WF(e).get(this.userId).next(function(r){return r||new Os(n.userId,-1,"")})},t}();function qF(t,e,n){var r=In.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return _c(t).Ot({range:o,kt:!0},function(l,u,d){var f=l[0],p=l[1];l[2],f===e&&p===i&&(a=!0),d.done()}).next(function(){return a})}function Ms(t){return ur(t,nt.store)}function _c(t){return ur(t,In.store)}function WF(t){return ur(t,Os.store)}var dg=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),VQ=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new dg(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Ie.fromTimestamp(new jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return wc(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return fe(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return wc(e).Ot(function(l,u){var d=bh(u);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(o++,a.push(i.removeTargetData(e,d)))}).next(function(){return z.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return wc(e).Ot(function(r,i){var o=bh(i);n(o)})},t.prototype.Xt=function(e){return zF(e).get(Nr.key).next(function(n){return fe(n!==null),n})},t.prototype.Zt=function(e,n){return zF(e).put(Nr.key,n)},t.prototype.te=function(e,n){return wc(e).put(FF(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=lh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return wc(e).Ot({range:i,index:lr.queryTargetsIndexName},function(a,l,u){var d=bh(l);Qv(n,d.target)&&(o=d,u.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=Ls(e);return n.forEach(function(l){var u=ki(l.path);o.push(a.put(new mn(r,u))),o.push(i.referenceDelegate.addReference(e,r,l))}),z.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=Ls(e);return z.forEach(n,function(a){var l=ki(a.path);return z.waitFor([o.delete([r,l]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Ls(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ls(e),o=Ge();return i.Ot({range:r,kt:!0},function(a,l,u){var d=Bo(a[1]),f=new oe(d);o=o.add(f)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=ki(n.path),i=IDBKeyRange.bound([r],[RL(r)],!1,!0),o=0;return Ls(e).Ot({index:mn.documentTargetsIndex,kt:!0,range:i},function(a,l,u){var d=a[0];a[1],d!==0&&(o++,u.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return wc(e).get(n).next(function(r){return r?bh(r):null})},t}();function wc(t){return ur(t,lr.store)}function zF(t){return ur(t,Nr.store)}function Ls(t){return ur(t,mn.store)}function dl(t){return N(this,void 0,void 0,function(){return D(this,function(e){if(t.code!==B.FAILED_PRECONDITION||t.message!==kF)throw t;return X("LocalStore","Unexpectedly lost primary lease"),[2]})})}function GF(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Me(n,i);return a===0?Me(r,o):a}var jQ=function(){function t(e){this.ne=e,this.buffer=new Yt(GF),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();GF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qQ=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ae(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ae=function(e){var n=this,r=this.oe?3e5:6e4;X("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return ul(i=o.sent())?(X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,dl(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ae(e)];case 8:return o.sent(),[2]}})})})},t}(),WQ=function(){function t(e,n){this.ue=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ue.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return z.resolve(Rr.o);var i=new jQ(n);return this.ue.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ue.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ue.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ue.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(VF)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),VF):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ue.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,l,u,d,f=this,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(m){return m>f.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+m),i=f.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),f.nthSequenceNumber(e,i)}).next(function(m){return r=m,l=Date.now(),f.removeTargets(e,r,n)}).next(function(m){return o=m,u=Date.now(),f.removeOrphanedDocuments(e,r)}).next(function(m){return d=Date.now(),XS()<=Fo.LogLevel.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-p)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+o+" targets in "+(u-l)+`ms
	Removed `+m+" documents in "+(d-u)+`ms
Total Duration: `+(d-p)+"ms"),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})})},t}(),zQ=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new WQ(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return fg(e,r)},t.prototype.removeReference=function(e,n,r){return fg(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return fg(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return WF(r).$t(function(a){return qF(r,a,i).next(function(l){return l&&(o=!0),z.resolve(!l)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(l,u){if(u<=n){var d=r._e(e,l).next(function(f){if(!f)return a++,i.getEntry(e,l).next(function(){return i.removeEntry(l),Ls(e).delete([0,ki(l.path)])})});o.push(d)}}).next(function(){return z.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return fg(e,n)},t.prototype.we=function(e,n){var r,i=Ls(e),o=Rr.o;return i.Ot({index:mn.documentTargetsIndex},function(a,l){var u=a[0],d=(a[1],l.path),f=l.sequenceNumber;u===0?(o!==Rr.o&&n(new oe(Bo(r)),o),o=f,r=d):o=Rr.o}).next(function(){o!==Rr.o&&n(new oe(Bo(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function fg(t,e){return Ls(t).put(function(n,r){return new mn(0,ki(n.path),r)}(e,t.currentSequenceNumber))}var Ec=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],l=a[0],u=a[1];if(this.equalsFn(l,e))return u}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){oh(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],l=a[0],u=a[1];e(l,u)}})},t.prototype.isEmpty=function(){return AL(this.inner)},t}(),KF=function(){function t(){this.changes=new Ec(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Ie.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:pn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?z.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),GQ=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Fs(e).put(hg(n),r)},t.prototype.removeEntry=function(e,n){var r=Fs(e),i=hg(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Fs(e).get(hg(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Fs(e).get(hg(n)).next(function(i){return{document:r.ye(n,i),size:cg(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=ti();return this.pe(e,n,function(o,a){var l=r.ye(o,a);i=i.insert(o,l)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=ti(),o=new Cn(oe.comparator);return this.pe(e,n,function(a,l){var u=r.ye(a,l);i=i.insert(a,u),o=o.insert(a,cg(l))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return z.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return Fs(e).Ot({range:i},function(l,u,d){for(var f=oe.fromSegments(l);a&&oe.comparator(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=ti(),a=n.path.length+1,l={};if(r.isEqual(Ie.min())){var u=n.path.toArray();l.range=IDBKeyRange.lowerBound(u)}else{var d=n.path.toArray(),f=gx(r);l.range=IDBKeyRange.lowerBound([d,f],!0),l.index=yt.collectionReadTimeIndex}return Fs(e).Ot(l,function(p,m,g){if(p.length===a){var y=vx(i.R,m);n.path.isPrefixOf(y.key.path)?dh(n,y)&&(o=o.insert(y.key,y)):g.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new KQ(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return YF(e).get(no.key).next(function(n){return fe(!!n),n})},t.prototype.me=function(e,n){return YF(e).put(no.key,n)},t.prototype.ye=function(e,n){if(n){var r=vx(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ie.min()))return r}return pn.newInvalidDocument(e)},t}(),KQ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Ec(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return P(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new Yt(function(l,u){return Me(l.canonicalString(),u.canonicalString())});return this.changes.forEach(function(l,u){var d=r.Ae.get(l);if(u.document.isValidDocument()){var f=MF(r.Ie.R,u.document,r.getReadTime(l));a=a.add(l.path.popLast());var p=cg(f);o+=p-d,i.push(r.Ie.addEntry(n,l,f))}else if(o-=d,r.trackRemovals){var m=MF(r.Ie.R,pn.newNoDocument(l,Ie.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,o)),z.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(l,u){i.Ae.set(l,u)}),a})},e}(KF);function YF(t){return ur(t,no.store)}function Fs(t){return ur(t,yt.store)}function hg(t){return t.path.toArray()}var YQ=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;fe(r<i&&r>=0&&i<=11);var a=new DF("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(Dr.store)}(e),function(u){u.createObjectStore(Os.store,{keyPath:Os.keyPath}),u.createObjectStore(nt.store,{keyPath:nt.keyPath,autoIncrement:!0}).createIndex(nt.userMutationsIndex,nt.userMutationsKeyPath,{unique:!0}),u.createObjectStore(In.store)}(e),XF(e),function(u){u.createObjectStore(yt.store)}(e));var l=z.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(mn.store),u.deleteObjectStore(lr.store),u.deleteObjectStore(Nr.store)}(e),XF(e)),l=l.next(function(){return function(u){var d=u.store(Nr.store),f=new Nr(0,0,Ie.min().toTimestamp(),0);return d.put(Nr.key,f)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(u,d){return d.store(nt.store).Nt().next(function(f){u.deleteObjectStore(nt.store),u.createObjectStore(nt.store,{keyPath:nt.keyPath,autoIncrement:!0}).createIndex(nt.userMutationsIndex,nt.userMutationsKeyPath,{unique:!0});var p=d.store(nt.store),m=f.map(function(g){return p.put(g)});return z.waitFor(m)})}(e,a)})),l=l.next(function(){(function(u){u.createObjectStore(Ho.store,{keyPath:Ho.keyPath})})(e)})),r<5&&i>=5&&(l=l.next(function(){return o.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(u){u.createObjectStore(no.store)}(e),o.be(a)})),r<7&&i>=7&&(l=l.next(function(){return o.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(l=l.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e),function(u){var d=u.objectStore(yt.store);d.createIndex(yt.readTimeIndex,yt.readTimeIndexPath,{unique:!1}),d.createIndex(yt.collectionReadTimeIndex,yt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return o.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(u){u.createObjectStore(pc.store,{keyPath:pc.keyPath})})(e),function(u){u.createObjectStore(mc.store,{keyPath:mc.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(yt.store).Ot(function(r,i){n+=cg(i)}).next(function(){var r=new no(n);return e.store(no.store).put(no.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Os.store),i=e.store(nt.store);return r.Nt().next(function(o){return z.forEach(o,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(nt.userMutationsIndex,l).next(function(u){return z.forEach(u,function(d){fe(d.userId===a.userId);var f=bc(n.R,d);return jF(e,a.userId,f).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(mn.store),r=e.store(yt.store);return e.store(Nr.store).get(Nr.key).next(function(i){var o=[];return r.Ot(function(a,l){var u=new Be(a),d=function(f){return[0,ki(f)]}(u);o.push(n.get(d).next(function(f){return f?z.resolve():function(p){return n.put(new mn(0,ki(p),i.highestListenSequenceNumber))}(u)}))}).next(function(){return z.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(ll.store,{keyPath:ll.keyPath});var r=n.store(ll.store),i=new bx,o=function(a){if(i.add(a)){var l=a.lastSegment(),u=a.popLast();return r.put({collectionId:l,parent:ki(u)})}};return n.store(yt.store).Ot({kt:!0},function(a,l){var u=new Be(a);return o(u.popLast())}).next(function(){return n.store(In.store).Ot({kt:!0},function(a,l){a[0];var u=a[1],d=(a[2],Bo(u));return o(d.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(lr.store);return r.Ot(function(i,o){var a=bh(o),l=FF(n.R,a);return r.put(l)})},t}();function XF(t){t.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(lr.store,{keyPath:lr.keyPath}).createIndex(lr.queryTargetsIndexName,lr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Nr.store)}var _x="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XQ=function(){function t(e,n,r,i,o,a,l,u,d,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=l,this.De=d,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(p){return Promise.resolve()},!t.yt())throw new j(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zQ(this,i),this.Le=n+"main",this.R=new OF(u),this.Be=new vc(this.Le,11,new YQ(this.R)),this.qe=new VQ(this.referenceDelegate,this.R),this.Ut=new BQ,this.Ue=function(p,m){return new GQ(p,m)}(this.R,this.Ut),this.Qe=new FQ,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,f===!1&&Ot("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new j(B.FAILED_PRECONDITION,_x);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Rr(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return N(n,void 0,void 0,function(){return D(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return N(n,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return N(n,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return pg(n).put(new Ho(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(ul(n))return X("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return _h(e).get(Dr.key).next(function(r){return z.resolve(n.tn(r))})},t.prototype.en=function(e){return pg(e).delete(this.clientId)},t.prototype.nn=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o=this;return D(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var u=ur(l,Ho.store);return u.Nt().next(function(d){var f=o.rn(d,18e5),p=d.filter(function(m){return f.indexOf(m)===-1});return z.forEach(p,function(m){return u.delete(m.clientId)}).next(function(){return p})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Ke)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?z.resolve(!0):_h(e).get(Dr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(B.FAILED_PRECONDITION,_x);return!1}}return!(!n.networkEnabled||!n.inForeground)||pg(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,l=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(a||l&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&X("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return N(this,void 0,void 0,function(){var e=this;return D(this,function(n){switch(n.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dr.store,Ho.store],function(r){var i=new PF(r,Rr.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return pg(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return HQ.Kt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(e,n,r){var i=this;X("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,PQ,function(l){return o=new PF(l,i.Ne?i.Ne.next():Rr.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw Ot("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new j(B.FAILED_PRECONDITION,kF);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(l){return o.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return _h(e).get(Dr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(B.FAILED_PRECONDITION,_x)})},t.prototype.Ze=function(e){var n=new Dr(this.clientId,this.allowTabSynchronization,Date.now());return _h(e).put(Dr.key,n)},t.yt=function(){return vc.yt()},t.prototype.Xe=function(e){var n=this,r=_h(e);return r.get(Dr.key).next(function(i){return n.tn(i)?(X("IndexedDbPersistence","Releasing primary lease."),r.delete(Dr.key)):z.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Ot("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fe=function(){n.an(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return X("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ot("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ot("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function _h(t){return ur(t,Dr.store)}function pg(t){return ur(t,Ho.store)}function wx(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var $Q=function(t,e){this.progress=t,this.wn=e},$F=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):ox(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new oe(n)).next(function(r){var i=ux();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=ux();return this.Ut.getCollectionParents(e,o).next(function(l){return z.forEach(l,function(u){var d=function(f,p){return new Uo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return i.An(e,d,r).next(function(f){f.forEach(function(p,m){a=a.insert(p,m)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return o=l,a.Rn(e,o,i).next(function(u){i=u;for(var d=0,f=o;d<f.length;d++)for(var p=f[d],m=0,g=p.mutations;m<g.length;m++){var y=g[m],_=y.key,w=i.get(_);w==null&&(w=pn.newInvalidDocument(_),i=i.insert(_,w)),ax(y,w,p.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}})}).next(function(){return i.forEach(function(l,u){dh(n,u)||(i=i.remove(l))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Ge(),o=0,a=n;o<a.length;o++)for(var l=0,u=a[o].mutations;l<u.length;l++){var d=u[l];d instanceof Ns&&r.get(d.key)===null&&(i=i.add(d.key))}var f=r;return this.Ue.getEntries(e,i).next(function(p){return p.forEach(function(m,g){g.isFoundDocument()&&(f=f.insert(m,g))}),f})},t}(),QQ=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Ge(),i=Ge(),o=0,a=n.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),QF=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ie.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var l=o.Cn(n,a);return(eg(n)||tg(n))&&o.Nn(n.limitType,l,i,r)?o.Dn(e,n):(XS()<=Fo.LogLevel.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sx(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(u){return l.forEach(function(d){u=u.insert(d.key,d)}),u}))})},t.prototype.Cn=function(e,n){var r=new Yt(zL(e));return n.forEach(function(i,o){dh(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return XS()<=Fo.LogLevel.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",sx(n)),this.Sn.getDocumentsMatchingQuery(e,n,Ie.min())},t}(),JQ=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.Fn=new Cn(Me),this.kn=new Ec(function(o){return lh(o)},Qv),this.On=Ie.min(),this._n=e.getMutationQueue(r),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new $F(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.Fn)})},t}();function JF(t,e,n,r){return new JQ(t,e,n,r)}function ZF(t,e){return N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=$(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var u;return n._n.getAllMutationBatches(l).next(function(d){return u=d,r=n.persistence.getMutationQueue(e),i=new $F(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var f=[],p=[],m=Ge(),g=0,y=u;g<y.length;g++){var _=y[g];f.push(_.batchId);for(var w=0,S=_.mutations;w<S.length;w++){var C=S[w];m=m.add(C.key)}}for(var R=0,A=d;R<A.length;R++){var L=A[R];p.push(L.batchId);for(var M=0,W=L.mutations;M<W.length;M++){var K=W[M];m=m.add(K.key)}}return i.pn(l,m).next(function(q){return{Ln:q,removedBatchIds:f,addedBatchIds:p}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ZQ(t,e){var n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){var f=u.batch,p=f.keys(),m=z.resolve();return p.forEach(function(g){m=m.next(function(){return d.getEntry(l,g)}).next(function(y){var _=u.docVersions.get(g);fe(_!==null),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&d.addEntry(y,u.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,f)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function e2(t){var e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function e9(t,e){var n=$(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];e.targetChanges.forEach(function(f,p){var m=i.get(p);if(m){l.push(n.qe.removeMatchingKeys(o,f.removedDocuments,p).next(function(){return n.qe.addMatchingKeys(o,f.addedDocuments,p)}));var g=f.resumeToken;if(g.approximateByteSize()>0){var y=m.withResumeToken(g,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(p,y),function(_,w,S){return fe(w.resumeToken.approximateByteSize()>0),_.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,y,f)&&l.push(n.qe.updateTargetData(o,y))}}});var u=ti();if(e.documentUpdates.forEach(function(f,p){e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(t2(o,a,e.documentUpdates,r,void 0).next(function(f){u=f})),!r.isEqual(Ie.min())){var d=n.qe.getLastRemoteSnapshotVersion(o).next(function(f){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});l.push(d)}return z.waitFor(l).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.Fn=i,o})}function t2(t,e,n,r,i){var o=Ge();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var l=ti();return n.forEach(function(u,d){var f=a.get(u),p=(i==null?void 0:i.get(u))||r;d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(u,p),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d,p),l=l.insert(u,d)):X("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),l})}function t9(t,e){var n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function Sc(t,e){var n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,z.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new ug(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(e,r.targetId)),r})}function xc(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:r=$(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ul(a=l.sent()))throw a;return X("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function mg(t,e,n){var r=$(t),i=Ie.min(),o=Ge();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,u,d){var f=$(l),p=f.kn.get(d);return p!==void 0?z.resolve(f.Fn.get(p)):f.qe.getTargetData(u,d)}(r,a,ei(e)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Ie.min(),n?o:Ge())}).next(function(l){return{documents:l,Bn:o}})})}function n2(t,e){var n=$(t),r=$(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function r2(t){var e=$(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=$(r),l=ti(),u=gx(o),d=Fs(i),f=IDBKeyRange.lowerBound(u,!0);return d.Ot({index:yt.readTimeIndex,range:f},function(p,m){var g=vx(a.R,m);l=l.insert(g.key,g),u=m.readTime}).next(function(){return{wn:l,readTime:LF(u)}})}(e.$n,n,e.On)}).then(function(n){var r=n.wn,i=n.readTime;return e.On=i,r})}function n9(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){return[2,(e=$(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Fs(i),a=Ie.min();return o.Ot({index:yt.readTimeIndex,reverse:!0},function(l,u,d){u.readTime&&(a=LF(u.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){e.On=r})]})})}function r9(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p,m,g;return D(this,function(y){switch(y.label){case 0:for(i=$(t),o=Ge(),a=ti(),l=lF(),u=0,d=n;u<d.length;u++)f=d[u],p=e.qn(f.metadata.name),f.document&&(o=o.add(p)),a=a.insert(p,e.Un(f)),l=l.insert(p,e.Qn(f.metadata.readTime));return m=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Sc(i,function(_){return ei(lc(Be.fromString("__bundle__/docs/"+_)))}(r))];case 1:return g=y.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(_){return t2(_,m,a,Ie.min(),l).next(function(w){return m.apply(_),w}).next(function(w){return i.qe.removeMatchingKeysForTargetId(_,g.targetId).next(function(){return i.qe.addMatchingKeys(_,o,g.targetId)}).next(function(){return i.Mn.En(_,w)}).next(function(){return w})})})]}})})}function i9(t,e,n){return n===void 0&&(n=Ge()),N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,Sc(t,ei(yx(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=$(t)).persistence.runTransaction("Save named query","readwrite",function(a){var l=tn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,e);var u=r.withResumeToken(qn.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(u.targetId,u),i.qe.updateTargetData(a,u).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,e)})})]}})})}var o9=function(){function t(e){this.R=e,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return z.resolve(this.Kn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:tn(r.createTime)}),z.resolve()},t.prototype.getNamedQuery=function(e,n){return z.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:yx(r.bundledQuery),readTime:tn(r.readTime)}}(n)),z.resolve()},t}(),Ex=function(){function t(){this.Wn=new Yt(nn.Gn),this.zn=new Yt(nn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new nn(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new nn(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new oe(new Be([])),i=new nn(r,e),o=new nn(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new oe(new Be([])),r=new nn(n,e),i=new nn(n,e+1),o=Ge();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new nn(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),nn=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return oe.comparator(e.key,n.key)||Me(e.ns,n.ns)},t.Hn=function(e,n){return Me(e.ns,n.ns)||oe.comparator(e.key,n.key)},t}(),s9=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(nn.Gn)}return t.prototype.checkEmpty=function(e){return z.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new mx(o,n,r,i);this._n.push(a);for(var l=0,u=i;l<u.length;l++){var d=u[l];this.rs=this.rs.add(new nn(d.key,o)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return z.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return z.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return z.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return z.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return z.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new nn(n,0),o=new nn(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(l){var u=r.os(l.ns);a.push(u)}),z.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Yt(Me);return n.forEach(function(o){var a=new nn(o,0),l=new nn(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(u){i=i.add(u.ns)})}),z.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));var a=new nn(new oe(o),0),l=new Yt(Me);return this.rs.forEachWhile(function(u){var d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.ns)),!0)},a),z.resolve(this.us(l))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;fe(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return z.forEach(n.mutations,function(o){var a=new nn(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new nn(n,0),i=this.rs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,z.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),a9=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Cn(oe.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return z.resolve(r?r.document.clone():pn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=ti();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():pn.newInvalidDocument(o))}),z.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=ti(),o=new oe(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var l=a.getNext(),u=l.key,d=l.value,f=d.document,p=d.readTime;if(!n.path.isPrefixOf(u.path))break;p.compareTo(r)<=0||dh(n,f)&&(i=i.insert(f.key,f.clone()))}return z.resolve(i)},t.prototype.fs=function(e,n){return z.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new l9(this)},t.prototype.getSize=function(e){return z.resolve(this.size)},t}(),l9=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return P(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),z.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(KF),u9=function(){function t(e){this.persistence=e,this.ds=new Ec(function(n){return lh(n)},Qv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ws=0,this._s=new Ex,this.targetCount=0,this.ys=dg.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),z.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return z.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return z.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),z.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),z.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new dg(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,z.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),z.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,z.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(l,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),z.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return z.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return z.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),z.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),z.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return z.resolve(r)},t.prototype.containsKey=function(e,n){return z.resolve(this._s.containsKey(n))},t}(),c9=function(){function t(e,n){var r=this;this.gs={},this.Ne=new Rr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new u9(this),this.Ut=new UQ,this.Ue=function(i,o){return new a9(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new OF(n),this.Qe=new o9(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new s9(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(e,n,r){var i=this;X("MemoryPersistence","Starting transaction:",e);var o=new d9(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return z.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),d9=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return P(e,t),e}(AF),f9=function(){function t(e){this.persistence=e,this.As=new Ex,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ie()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),z.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),z.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),z.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.vs,function(i){var o=oe.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return z.or([function(){return z.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),cr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function i2(t,e){return"firestore_clients_"+t+"_"+e}function o2(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Sx(t,e){return"firestore_targets_"+t+"_"+e}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid");var s2=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new j(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Ot("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),xx=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new j(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ot("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),a2=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=sg(),a=0;i&&a<r.activeTargetIds.length;++a)i=PL(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Ot("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),h9=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Ot("SharedClientState","Failed to parse online state: "+e),null)},t}(),Tx=function(){function t(){this.activeTargetIds=sg()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Cx=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Cn(Me),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.$s=i2(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Tx),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o,a,l,u,d,f,p,m=this;return D(this,function(g){switch(g.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=g.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(i2(this.persistenceKey,i)))&&(a=a2.Vs(i,o))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(u=this.js(l))&&this.Ws(u),d=0,f=this.Os;d<f.length;d++)p=f[d],this.Fs(p);return this.Os=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(Sx(this.persistenceKey,e));if(r){var i=xx.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Ks(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(Sx(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return X("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){X("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(X("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void Ot("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return N(n,void 0,void 0,function(){var i,o,a,l,u,d;return D(this,function(f){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(d=function(p){var m=Rr.o;if(p!=null)try{var g=JSON.parse(p);fe(typeof g=="number"),m=g}catch(y){Ot("SharedClientState","Failed to read sequence number from WebStorage",y)}return m}(r.newValue))!==Rr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new s2(this.currentUser,e,n,r),o=o2(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=o2(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=Sx(this.persistenceKey,e),o=new xx(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return a2.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return s2.Vs(new cr(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return xx.Vs(i,n)},t.prototype.js=function(e){return h9.Vs(e)},t.prototype.ii=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(e.batchId,e.state,e.error)]:(X("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ui(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.ks.insert(e,n):this.ks.remove(e),o=this.Gs(this.ks),a=this.Gs(i),l=[],u=[];return a.forEach(function(d){o.has(d)||l.push(d)}),o.forEach(function(d){a.has(d)||u.push(d)}),this.syncEngine.hi(l,u).then(function(){r.ks=i})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=sg();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),l2=function(){function t(){this.li=new Tx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Tx,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),p9=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),u2=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),m9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},v9=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),g9=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return P(e,t),e.prototype.ki=function(n,r,i,o){return new Promise(function(a,l){var u=new CL;u.listenOnce(xL.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Kv.NO_ERROR:var f=u.getResponseJson();X("Connection","XHR received:",JSON.stringify(f)),a(f);break;case Kv.TIMEOUT:X("Connection",'RPC "'+n+'" timed out'),l(new j(B.DEADLINE_EXCEEDED,"Request time out"));break;case Kv.HTTP_ERROR:var p=u.getStatus();if(X("Connection",'RPC "'+n+'" failed with status:',p,"response text:",u.getResponseText()),p>0){var m=u.getResponseJson().error;if(m&&m.status&&m.message){var g=function(y){var _=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(m.status);l(new j(g,m.message))}else l(new j(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new j(B.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{X("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(o);u.send(r,"POST",d,i,15)})},e.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=EL(),a=SL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),Du()||mf()||Mw()||Lw()||Fw()||Nu()||(l.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");X("Connection","Creating WebChannel: "+u,l);var d=o.createWebChannel(u,l),f=!1,p=!1,m=new v9({Ei:function(y){p?X("Connection","Not sending because WebChannel is closed:",y):(f||(X("Connection","Opening WebChannel transport."),d.open(),f=!0),X("Connection","WebChannel sending:",y),d.send(y))},Ti:function(){return d.close()}}),g=function(y,_,w){y.listen(_,function(S){try{w(S)}catch(C){setTimeout(function(){throw C},0)}})};return g(d,ih.EventType.OPEN,function(){p||X("Connection","WebChannel transport opened.")}),g(d,ih.EventType.CLOSE,function(){p||(p=!0,X("Connection","WebChannel transport closed"),m.Vi())}),g(d,ih.EventType.ERROR,function(y){p||(p=!0,Yv("Connection","WebChannel transport errored:",y),m.Vi(new j(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,ih.EventType.MESSAGE,function(y){var _;if(!p){var w=y.data[0];fe(!!w);var S=w,C=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(C){X("Connection","WebChannel received error:",C);var R=C.status,A=function(M){var W=Lt[M];if(W!==void 0)return sF(W)}(R),L=C.message;A===void 0&&(A=B.INTERNAL,L="Unknown error status: "+R+" with message "+C.message),p=!0,m.Vi(new j(A,L)),d.close()}else X("Connection","WebChannel received:",w),m.Si(w)}}),g(a,TL.STAT_EVENT,function(y){y.stat===YS.PROXY?X("Connection","Detected buffering proxy"):y.stat===YS.NOPROXY&&X("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);X("RestConnection","Sending: ",o,r);var a={};return this.Fi(a,i),this.ki(e,o,a,r).then(function(l){return X("RestConnection","Received: ",l),l},function(l){throw Yv("RestConnection",e+" failed with error: ",l,"url: ",o,"request:",r),l})},t.prototype.Oi=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.Fi=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=m9[e];return this.Di+"/v1/"+n+":"+r},t}());function c2(){return typeof window!="undefined"?window:null}function vg(){return typeof document!="undefined"?document:null}function wh(t){return new EQ(t,!0)}var Ix=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),o=Math.max(0,r-i);o>0&&X("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Qi=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),d2=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ix(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ar(),this.stream.send(e)},t.prototype.rr=function(){return N(this,void 0,void 0,function(){return D(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return N(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ot(n.toString()),Ot("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===B.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ur(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new j(B.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return N(e,void 0,void 0,function(){return D(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return X("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),y9=function(t){function e(n,r,i,o,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,l}return P(e,t),e.prototype.wr=function(n){return this.Hi.$i("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var l;if("targetChange"in a){a.targetChange;var u=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:ie()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],f=function(w,S){return w.I?(fe(S===void 0||typeof S=="string"),qn.fromBase64String(S||"")):(fe(S===void 0||S instanceof Uint8Array),qn.fromUint8Array(S||new Uint8Array))}(o,a.targetChange.resumeToken),p=(m=a.targetChange.cause)&&function(w){var S=w.code===void 0?B.UNKNOWN:sF(w.code);return new j(S,w.message||"")}(m);l=new cF(u,d,f,p||null)}else if("documentChange"in a){a.documentChange,(u=a.documentChange).document,u.document.name,u.document.updateTime,d=to(o,u.document.name),f=tn(u.document.updateTime);var m=new kr({mapValue:{fields:u.document.fields}}),g=(p=pn.newFoundDocument(d,f,m),u.targetIds||[]),y=u.removedTargetIds||[];l=new ag(g,y,p.key,p)}else if("documentDelete"in a)a.documentDelete,(u=a.documentDelete).document,d=to(o,u.document),f=u.readTime?tn(u.readTime):Ie.min(),m=pn.newNoDocument(d,f),p=u.removedTargetIds||[],l=new ag([],p,m.key,m);else if("documentRemove"in a)a.documentRemove,(u=a.documentRemove).document,d=to(o,u.document),f=u.removedTargetIds||[],l=new ag([],f,d,null);else{if(!("filter"in a))return ie();a.filter;var _=a.filter;_.targetId,u=_.count||0,d=new hQ(u),f=_.targetId,l=new uF(f,d)}return l}(this.R,n),i=function(o){if(!("targetChange"in o))return Ie.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?Ie.min():a.readTime?tn(a.readTime):Ie.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=gh(this.R),r.addTarget=function(o,a){var l,u=a.target;return(l=Jv(u)?{documents:wF(o,u)}:{query:EF(o,u)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=pF(o,a.resumeToken):a.snapshotVersion.compareTo(Ie.min())>0&&(l.readTime=mh(o,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(o,a){var l=function(u,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=gh(this.R),r.removeTarget=n,this.cr(r)},e}(d2),b9=function(t){function e(n,r,i,o,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,l.gr=!1,l}return P(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.$i("Write",n)},e.prototype.onMessage=function(n){if(fe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(fe(a!==void 0),o.map(function(l){return function(u,d){var f=u.updateTime?tn(u.updateTime):tn(d);return f.isEqual(Ie.min())&&(f=tn(d)),new cQ(f,u.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=tn(n.commitTime);return this.listener.Tr(i,r)}return fe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=gh(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return lg(r.R,o)})};this.cr(i)},e}(d2),_9=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return P(e,t),e.prototype.br=function(){if(this.Rr)throw new j(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new j(B.UNKNOWN,a.toString())})},e.prototype.Oi=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new j(B.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),w9=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ot(n),this.Vr=!1):X("OnlineStateTracker",n)},t.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),E9=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return N(o,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return Us(this)?(X("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return N(this,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return(d=$(u)).$r.add(4),[4,Tc(d)];case 1:return f.sent(),d.Br.set("Unknown"),d.$r.delete(4),[4,Eh(d)];case 2:return f.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new w9(n,r)};function Eh(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:if(!Us(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Tc(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gg(t,e){var n=$(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Ax(n)?kx(n):Ic(n).er()&&Rx(n,e))}function Sh(t,e){var n=$(t),r=Ic(n);n.Or.delete(e),r.er()&&f2(n,e),n.Or.size===0&&(r.er()?r.ir():Us(n)&&n.Br.set("Unknown"))}function Rx(t,e){t.qr.U(e.targetId),Ic(t).mr(e)}function f2(t,e){t.qr.U(e),Ic(t).yr(e)}function kx(t){t.qr=new bQ({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Ic(t).start(),t.Br.Sr()}function Ax(t){return Us(t)&&!Ic(t).tr()&&t.Or.size>0}function Us(t){return $(t).$r.size===0}function h2(t){t.qr=void 0}function S9(t){return N(this,void 0,void 0,function(){return D(this,function(e){return t.Or.forEach(function(n,r){Rx(t,n)}),[2]})})}function x9(t,e){return N(this,void 0,void 0,function(){return D(this,function(n){return h2(t),Ax(t)?(t.Br.Nr(e),kx(t)):t.Br.set("Unknown"),[2]})})}function T9(t,e,n){return N(this,void 0,void 0,function(){var r,i,o;return D(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof cF&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,u){return N(this,void 0,void 0,function(){var d,f,p,m;return D(this,function(g){switch(g.label){case 0:d=u.cause,f=0,p=u.targetIds,g.label=1;case 1:return f<p.length?(m=p[f],l.Or.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:g.sent(),l.Or.delete(m),l.qr.removeTarget(m),g.label=3;case 3:g.label=4;case 4:return f++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,yg(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ag?t.qr.X(e):e instanceof uF?t.qr.rt(e):t.qr.et(e),n.isEqual(Ie.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,e2(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,u){var d=l.qr.at(u);return d.targetChanges.forEach(function(f,p){if(f.resumeToken.approximateByteSize()>0){var m=l.Or.get(p);m&&l.Or.set(p,m.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(function(f){var p=l.Or.get(f);if(p){l.Or.set(f,p.withResumeToken(qn.EMPTY_BYTE_STRING,p.snapshotVersion)),f2(l,f);var m=new ug(p.target,f,1,p.sequenceNumber);Rx(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return X("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,yg(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function yg(t,e,n){return N(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:if(!ul(e))throw e;return t.$r.add(1),[4,Tc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return e2(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return D(this,function(o){switch(o.label){case 0:return X("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.$r.delete(1),[4,Eh(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function p2(t,e){return e().catch(function(n){return yg(t,n,e)})}function Cc(t){return N(this,void 0,void 0,function(){var e,n,r,i,o;return D(this,function(a){switch(a.label){case 0:e=$(t),n=Bs(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Us(l)&&l.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,t9(e.localStore,r)];case 3:return(i=a.sent())===null?(e.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,u){l.kr.push(u);var d=Bs(l);d.er()&&d.pr&&d.Er(u.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,yg(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return m2(e)&&v2(e),[2]}})})}function m2(t){return Us(t)&&!Bs(t).tr()&&t.kr.length>0}function v2(t){Bs(t).start()}function C9(t){return N(this,void 0,void 0,function(){return D(this,function(e){return Bs(t).Ar(),[2]})})}function I9(t){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){for(e=Bs(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function R9(t,e,n){return N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=LQ.from(r,e,n),[4,p2(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Cc(t)];case 2:return o.sent(),[2]}})})}function k9(t,e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return e&&Bs(t).pr?[4,function(r,i){return N(this,void 0,void 0,function(){var o,a;return D(this,function(l){switch(l.label){case 0:return oF(a=i.code)&&a!==B.ABORTED?(o=r.kr.shift(),Bs(r).sr(),[4,p2(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Cc(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return m2(t)&&v2(t),[2]}})})}function Dx(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return n=$(t),e?(n.$r.delete(2),[4,Eh(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return(r=e)?[3,4]:(n.$r.add(2),[4,Tc(n)]);case 3:i.sent(),r=n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Ic(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=$(n);return o.br(),new y9(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:S9.bind(null,t),Ri:x9.bind(null,t),_r:T9.bind(null,t)}),t.Mr.push(function(n){return N(e,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),Ax(t)?kx(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),h2(t),r.label=3;case 3:return[2]}})})})),t.Ur}function Bs(t){var e=this;return t.Qr||(t.Qr=function(n,r,i){var o=$(n);return o.br(),new b9(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:C9.bind(null,t),Ri:k9.bind(null,t),Ir:I9.bind(null,t),Tr:R9.bind(null,t)}),t.Mr.push(function(n){return N(e,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return n?(t.Qr.sr(),[4,Cc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:r.sent(),t.kr.length>0&&(X("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),r.label=4;case 4:return[2]}})})})),t.Qr}var A9=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Rc(t,e){if(Ot("AsyncQueue",e+": "+t),ul(t))return new j(B.UNAVAILABLE,e+": "+t);throw t}var g2=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||oe.comparator(n.key,r.key)}:function(n,r){return oe.comparator(n.key,r.key)},this.keyedMap=ux(),this.sortedSet=new Cn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),y2=function(){function t(){this.Kr=new Cn(oe.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Kr.get(n);r?e.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,e):e.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Kr=this.Kr.remove(n):e.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:e.doc}):ie():this.Kr=this.Kr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),bg=function(){function t(e,n,r,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,g2.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),D9=function(){this.Wr=void 0,this.listeners=[]},N9=function(){this.queries=new Ec(function(t){return WL(t)},ch),this.onlineState="Unknown",this.Gr=new Set};function Nx(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:if(n=$(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new D9),!i)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),u=Rc(l,"Initialization of query '"+sx(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Ox(n),[2]}})})}function Px(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){return n=$(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function P9(t,e){for(var n=$(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],l=a.query,u=n.queries.get(l);if(u){for(var d=0,f=u.listeners;d<f.length;d++)f[d].Hr(a)&&(r=!0);u.Wr=a}}r&&Ox(n)}function O9(t,e,n){var r=$(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Ox(t){t.Gr.forEach(function(e){e.next()})}var Mx=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new bg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=bg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),M9=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),b2=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return to(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?bF(this.R,e.document,!1):pn.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},t.prototype.Qn=function(e){return tn(e)},t}(),L9=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=_2(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new b2(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),u=0,d=a.metadata.queries;u<d.length;u++){var f=d[u],p=(n.get(f)||Ge()).add(l);n.set(f,p)}}return n},t.prototype.complete=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,r9(this.localStore,new b2(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,i9(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $Q(Object.assign({},this.progress),e))]}})})},t}();function _2(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var w2=function(t){this.key=t},E2=function(t){this.key=t},S2=function(){function t(e,n){this.query=e,this.ao=n,this.uo=null,this.current=!1,this.ho=Ge(),this.mutatedKeys=Ge(),this.lo=zL(e),this.fo=new g2(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new y2,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=o,u=!1,d=eg(this.query)&&o.size===this.query.limit?o.last():null,f=tg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(m,g){var y=o.get(m),_=dh(r.query,g)?g:null,w=!!y&&r.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||r.mutatedKeys.has(_.key)&&_.hasCommittedMutations),C=!1;y&&_?y.data.isEqual(_.data)?w!==S&&(i.track({type:3,doc:_}),C=!0):r.yo(y,_)||(i.track({type:2,doc:_}),C=!0,(d&&r.lo(_,d)>0||f&&r.lo(_,f)<0)&&(u=!0)):!y&&_?(i.track({type:0,doc:_}),C=!0):y&&!_&&(i.track({type:1,doc:y}),C=!0,(d||f)&&(u=!0)),C&&(_?(l=l.add(_),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),eg(this.query)||tg(this.query))for(;l.size>this.query.limit;){var p=eg(this.query)?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{fo:l,mo:i,Nn:u,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(f,p){return function(m,g){var y=function(_){switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return y(m)-y(g)}(f.type,p.type)||i.lo(f.doc,p.doc)}),this.po(r);var l=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,d=u!==this.uo;return this.uo=u,a.length!==0||d?{snapshot:new bg(this.query,e.fo,o,a,e.mutatedKeys,u===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new y2,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.ao.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.ao=n.ao.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.ao=n.ao.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Ge(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new E2(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new w2(i))}),r},t.prototype.Ao=function(e){this.ao=e.Bn,this.ho=Ge();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return bg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.uo===0)},t}(),F9=function(t,e,n){this.query=t,this.targetId=e,this.view=n},U9=function(t){this.key=t,this.bo=!1},B9=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Ec(function(l){return WL(l)},ch),this.Vo=new Map,this.So=new Set,this.Do=new Cn(oe.comparator),this.Co=new Map,this.No=new Ex,this.xo={},this.Fo=new Map,this.ko=dg.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),t}();function H9(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return n=Vx(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sc(n.localStore,ei(e))];case 2:return a=u.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Lx(n,e,r,l==="current")];case 3:i=u.sent(),n.isPrimaryClient&&gg(n.remoteStore,a),u.label=4;case 4:return[2,i]}})})}function Lx(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return t.$o=function(p,m,g){return function(y,_,w,S){return N(this,void 0,void 0,function(){var C,R,A;return D(this,function(L){switch(L.label){case 0:return C=_.view._o(w),C.Nn?[4,mg(y.localStore,_.query,!1).then(function(M){var W=M.documents;return _.view._o(W,C)})]:[3,2];case 1:C=L.sent(),L.label=2;case 2:return R=S&&S.targetChanges.get(_.targetId),A=_.view.applyChanges(C,y.isPrimaryClient,R),[2,(Bx(y,_.targetId,A.To),A.snapshot)]}})})}(t,p,m,g)},[4,mg(t.localStore,e,!0)];case 1:return i=f.sent(),o=new S2(e,i.Bn),a=o._o(i.documents),l=dx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),u=o.applyChanges(a,t.isPrimaryClient,l),Bx(t,n,u.To),d=new F9(e,n,o),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function V9(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return n=$(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!ch(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Sh(n.remoteStore,r.targetId),kc(n,r.targetId)}).catch(dl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kc(n,r.targetId),[4,xc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function j9(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:r=jx(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(u,d){var f,p=$(u),m=jn.now(),g=d.reduce(function(y,_){return y.add(_.key)},Ge());return p.persistence.runTransaction("Locally write mutations","readwrite",function(y){return p.Mn.pn(y,g).next(function(_){f=_;for(var w=[],S=0,C=d;S<C.length;S++){var R=C[S],A=fQ(R,f.get(R.key));A!=null&&w.push(new Ns(R.key,A,FL(A.toProto().mapValue),Tn.exists(!0)))}return p._n.addMutationBatch(y,m,w,d)})}).then(function(y){return y.applyToLocalDocumentSet(f),{batchId:y.batchId,changes:f}})}(r.localStore,e)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){var p=u.xo[u.currentUser.toKey()];p||(p=new Cn(Me)),p=p.insert(d,f),u.xo[u.currentUser.toKey()]=p}(r,i.batchId,n),[4,Vo(r,i.changes)];case 3:return l.sent(),[4,Cc(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return o=l.sent(),a=Rc(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function x2(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:n=$(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,e9(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var l=n.Co.get(a);l&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.bo=!0:o.modifiedDocuments.size>0?fe(l.bo):o.removedDocuments.size>0&&(fe(l.bo),l.bo=!1))}),[4,Vo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function T2(t,e,n){var r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var l=a.view.zr(e);l.snapshot&&i.push(l.snapshot)}),function(o,a){var l=$(o);l.onlineState=a;var u=!1;l.queries.forEach(function(d,f){for(var p=0,m=f.listeners;p<m.length;p++)m[p].zr(a)&&(u=!0)}),u&&Ox(l)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function q9(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return(r=$(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Cn(oe.comparator)).insert(o,pn.newNoDocument(o,Ie.min())),l=Ge().add(o),u=new cx(Ie.min(),new Map,new Yt(Me),a,l),[4,x2(r,u)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Hx(r),[3,4];case 2:return[4,xc(r.localStore,e,!1).then(function(){return kc(r,e,n)}).catch(dl)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function W9(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:n=$(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ZQ(n.localStore,e)];case 2:return i=o.sent(),Ux(n,r,null),Fx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Vo(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function z9(t,e,n){return N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:r=$(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,l){var u=$(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var f;return u._n.lookupMutationBatch(d,l).next(function(p){return fe(p!==null),f=p.keys(),u._n.removeMutationBatch(d,p)}).next(function(){return u._n.performConsistencyCheck(d)}).next(function(){return u.Mn.pn(d,f)})})}(r.localStore,e)];case 2:return i=o.sent(),Ux(r,e,n),Fx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Vo(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function G9(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:Us((n=$(t)).remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(u){var d=$(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(f){return d._n.getHighestUnacknowledgedBatchId(f)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=l.sent(),a=Rc(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Fx(t,e){(t.Fo.get(e)||[]).forEach(function(n){n.resolve()}),t.Fo.delete(e)}function Ux(t,e,n){var r=$(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function kc(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||C2(t,a)})}function C2(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Sh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Hx(t))}function Bx(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof w2?(t.No.addReference(o.key,e),K9(t,o)):o instanceof E2?(X("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||C2(t,o.key)):ie()}}function K9(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(X("SyncEngine","New document in limbo: "+n),t.So.add(r),Hx(t))}function Hx(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new oe(Be.fromString(e)),r=t.ko.next();t.Co.set(r,new U9(n)),t.Do=t.Do.insert(n,r),gg(t.remoteStore,new ug(ei(lc(n.path)),r,2,Rr.o))}}function Vo(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:return r=$(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,d){a.push(r.$o(d,e,n).then(function(f){if(f){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,f.fromCache?"not-current":"current"),i.push(f);var p=QQ.Pn(d.targetId,f);o.push(p)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(u,d){return N(this,void 0,void 0,function(){var f,p,m,g,y,_,w,S,C;return D(this,function(R){switch(R.label){case 0:f=$(u),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,f.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(A){return z.forEach(d,function(L){return z.forEach(L.bn,function(M){return f.persistence.referenceDelegate.addReference(A,L.targetId,M)}).next(function(){return z.forEach(L.vn,function(M){return f.persistence.referenceDelegate.removeReference(A,L.targetId,M)})})})})];case 2:return R.sent(),[3,4];case 3:if(!ul(p=R.sent()))throw p;return X("LocalStore","Failed to update sequence numbers: "+p),[3,4];case 4:for(m=0,g=d;m<g.length;m++)y=g[m],_=y.targetId,y.fromCache||(w=f.Fn.get(_),S=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(S),f.Fn=f.Fn.insert(_,C));return[2]}})})}(r.localStore,o)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Y9(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return(n=$(t)).currentUser.isEqual(e)?[3,3]:(X("SyncEngine","User change. New user:",e.toKey()),[4,ZF(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.Fo.forEach(function(l){l.forEach(function(u){u.reject(new j(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Vo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function X9(t,e){var n=$(t),r=n.Co.get(e);if(r&&r.bo)return Ge().add(r.key);var i=Ge(),o=n.Vo.get(e);if(!o)return i;for(var a=0,l=o;a<l.length;a++){var u=l[a],d=n.Po.get(u);i=i.unionWith(d.view.wo)}return i}function $9(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,mg((n=$(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Bx(n,e.targetId,i.To),i)]}})})}function Q9(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){return[2,r2((e=$(t)).localStore).then(function(r){return Vo(e,r)})]})})}function J9(t,e,n,r){return N(this,void 0,void 0,function(){var i,o;return D(this,function(a){switch(a.label){case 0:return[4,function(l,u){var d=$(l),f=$(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(p){return f.jt(p,u).next(function(m){return m?d.Mn.pn(p,m):z.resolve(null)})})}((i=$(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Cc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ux(i,e,r||null),Fx(i,e),function(l,u){$($(l)._n).Gt(u)}(i.localStore,e)):ie(),a.label=4;case 4:return[4,Vo(i,o)];case 5:return a.sent(),[3,7];case 6:X("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Z9(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return Vx(n=$(t)),jx(n),e!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,I2(n,r.toArray())]);case 1:return i=f.sent(),n.Oo=!0,[4,Dx(n.remoteStore,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)l=a[o],gg(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.Oo===!1?[3,7]:(u=[],d=Promise.resolve(),n.Vo.forEach(function(p,m){n.sharedClientState.isLocalQueryTarget(m)?u.push(m):d=d.then(function(){return kc(n,m),xc(n.localStore,m,!0)}),Sh(n.remoteStore,m)}),[4,d]);case 4:return f.sent(),[4,I2(n,u)];case 5:return f.sent(),function(p){var m=$(p);m.Co.forEach(function(g,y){Sh(m.remoteStore,y)}),m.No.ts(),m.Co=new Map,m.Do=new Cn(oe.comparator)}(n),n.Oo=!1,[4,Dx(n.remoteStore,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function I2(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a,l,u,d,f,p,m,g,y,_,w;return D(this,function(S){switch(S.label){case 0:r=$(t),i=[],o=[],a=0,l=e,S.label=1;case 1:return a<l.length?(u=l[a],d=void 0,(f=r.Vo.get(u))&&f.length!==0?[4,Sc(r.localStore,ei(f[0]))]:[3,7]):[3,13];case 2:d=S.sent(),p=0,m=f,S.label=3;case 3:return p<m.length?(g=m[p],y=r.Po.get(g),[4,$9(r,y)]):[3,6];case 4:(_=S.sent()).snapshot&&o.push(_.snapshot),S.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,n2(r.localStore,u)];case 8:return w=S.sent(),[4,Sc(r.localStore,w)];case 9:return d=S.sent(),[4,Lx(r,R2(w),u,!1)];case 10:S.sent(),S.label=11;case 11:i.push(d),S.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function R2(t){return jL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function eJ(t){var e=$(t);return $($(e.localStore).persistence).fn()}function tJ(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a;return D(this,function(l){switch(l.label){case 0:return(i=$(t)).Oo?(X("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,r2(i.localStore)];case 3:return o=l.sent(),a=cx.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Vo(i,o,a)];case 4:return l.sent(),[3,8];case 5:return[4,xc(i.localStore,e,!0)];case 6:return l.sent(),kc(i,e,r),[3,8];case 7:ie(),l.label=8;case 8:return[2]}})})}function nJ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a,l,u,d,f,p,m;return D(this,function(g){switch(g.label){case 0:if(!(r=Vx(t)).Oo)return[3,10];i=0,o=e,g.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(X("SyncEngine","Adding an already active target "+a),[3,5]):[4,n2(r.localStore,a)]):[3,6];case 2:return l=g.sent(),[4,Sc(r.localStore,l)];case 3:return u=g.sent(),[4,Lx(r,R2(l),u.targetId,!1)];case 4:g.sent(),gg(r.remoteStore,u),g.label=5;case 5:return i++,[3,1];case 6:d=function(y){return D(this,function(_){switch(_.label){case 0:return r.Vo.has(y)?[4,xc(r.localStore,y,!1).then(function(){Sh(r.remoteStore,y),kc(r,y)}).catch(dl)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})},f=0,p=n,g.label=7;case 7:return f<p.length?(m=p[f],[5,d(m)]):[3,10];case 8:g.sent(),g.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function Vx(t){var e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q9.bind(null,e),e.vo._r=P9.bind(null,e.eventManager),e.vo.Mo=O9.bind(null,e.eventManager),e}function jx(t){var e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}function rJ(t,e,n){var r=$(t);(function(i,o,a){return N(this,void 0,void 0,function(){var l,u,d,f,p,m;return D(this,function(g){switch(g.label){case 0:return g.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return l=g.sent(),[4,function(y,_){var w=$(y),S=tn(_.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",function(C){return w.Qe.getBundleMetadata(C,_.id)}).then(function(C){return!!C&&C.createTime.compareTo(S)>=0})}(i.localStore,l)];case 2:return g.sent()?[4,o.close()]:[3,4];case 3:return[2,(g.sent(),void a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(l)))];case 4:return a._updateProgress(_2(l)),u=new L9(l,i.localStore,o.R),[4,o.Lo()];case 5:d=g.sent(),g.label=6;case 6:return d?[4,u.oo(d)]:[3,10];case 7:return(f=g.sent())&&a._updateProgress(f),[4,o.Lo()];case 8:d=g.sent(),g.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return p=g.sent(),[4,Vo(i,p.wn,void 0)];case 12:return g.sent(),[4,function(y,_){var w=$(y);return w.persistence.runTransaction("Save bundle","readwrite",function(S){return w.Qe.saveBundleMetadata(S,_)})}(i.localStore,l)];case 13:return g.sent(),a._completeWith(p.progress),[3,15];case 14:return Yv("SyncEngine","Loading bundle failed with "+(m=g.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var k2=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return this.R=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Qo=function(e){return JF(this.persistence,new QF,e.initialUser,this.R)},t.prototype.qo=function(e){return new c9(f9.bs,this.R)},t.prototype.Bo=function(e){return new l2},t.prototype.terminate=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),A2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Ko=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return P(e,t),e.prototype.initialize=function(n){return N(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,n9(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,jx(this.Ko.syncEngine)];case 4:return r.sent(),[4,Cc(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},e.prototype.Qo=function(n){return JF(this.persistence,new QF,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new qQ(r,n.asyncQueue)},e.prototype.qo=function(n){var r=wx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new XQ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,c2(),vg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new l2},e}(k2),iJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return P(e,t),e.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return D(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof Cx?(this.sharedClientState.syncEngine={ai:J9.bind(null,r),ui:tJ.bind(null,r),hi:nJ.bind(null,r),fn:eJ.bind(null,r),ci:Q9.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return N(i,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return[4,Z9(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=c2();if(!Cx.yt(r))throw new j(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=wx(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Cx(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(A2),qx=function(){function t(){}return t.prototype.initialize=function(e,n){return N(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return T2(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Y9.bind(null,this.syncEngine),[4,Dx(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new N9},t.prototype.createDatastore=function(e){var n,r=wh(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new g9(n));return function(o,a,l){return new _9(o,a,l)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,l=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(u){return T2(l.syncEngine,u,0)},a=u2.yt()?new u2:new p9,new E9(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,l,u,d){var f=new B9(r,i,o,a,l,u);return d&&(f.Oo=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return n=$(e),X("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,Tc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function D2(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return D(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return D(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var _g=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),oJ=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new Wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return D(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new M9(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),sJ=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return N(this,void 0,void 0,function(){var l,u,d,f,p,m;return D(this,function(g){switch(g.label){case 0:return l=$(o),u=gh(l.R)+"/documents",d={documents:a.map(function(y){return vh(l.R,y)})},[4,l.Oi("BatchGetDocuments",u,d)];case 1:return f=g.sent(),p=new Map,f.forEach(function(y){var _=function(w,S){return"found"in S?function(C,R){fe(!!R.found),R.found.name,R.found.updateTime;var A=to(C,R.found.name),L=tn(R.found.updateTime),M=new kr({mapValue:{fields:R.found.fields}});return pn.newFoundDocument(A,L,M)}(w,S):"missing"in S?function(C,R){fe(!!R.missing),fe(!!R.readTime);var A=to(C,R.missing),L=tn(R.readTime);return pn.newNoDocument(A,L)}(w,S):ie()}(l.R,y);p.set(_.key.toString(),_)}),m=[],[2,(a.forEach(function(y){var _=p.get(y.toString());fe(!!_),m.push(_)}),m)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new ph(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return N(this,void 0,void 0,function(){var e,n=this;return D(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=oe.fromPath(o);n.mutations.push(new lx(a,n.precondition(a)))}),[4,function(i,o){return N(this,void 0,void 0,function(){var a,l,u;return D(this,function(d){switch(d.label){case 0:return a=$(i),l=gh(a.R)+"/documents",u={writes:o.map(function(f){return lg(a.R,f)})},[4,a.Ni("Commit",l,u)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ie();n=Ie.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new j(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Tn.updateTime(n):Tn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ie.min()))throw new j(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tn.updateTime(n)}return Tn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),aJ=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Ix(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return N(e,void 0,void 0,function(){var n,r,i=this;return D(this,function(o){return n=new sJ(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!ol(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!oF(n)}return!1},t}(),lJ=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=cr.UNAUTHENTICATED,this.clientId=IL.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return N(i,void 0,void 0,function(){return D(this,function(a){switch(a.label){case 0:return X("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return D(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return N(e,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Rc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();function N2(t,e){return N(this,void 0,void 0,function(){var n,r,i=this;return D(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return N(i,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,ZF(e.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function P2(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Wx(t)];case 1:return n=i.sent(),X("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,l){return N(this,void 0,void 0,function(){var u,d;return D(this,function(f){switch(f.label){case 0:return(u=$(a)).asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials"),d=Us(u),u.$r.add(3),[4,Tc(u)];case 1:return f.sent(),d&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(l)];case 2:return f.sent(),u.$r.delete(3),[4,Eh(u)];case 3:return f.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function Wx(t){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(X("FirestoreClient","Using default OfflineComponentProvider"),[4,N2(t,new k2)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function wg(t){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(X("FirestoreClient","Using default OnlineComponentProvider"),[4,P2(t,new qx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function O2(t){return Wx(t).then(function(e){return e.persistence})}function zx(t){return Wx(t).then(function(e){return e.localStore})}function M2(t){return wg(t).then(function(e){return e.remoteStore})}function Gx(t){return wg(t).then(function(e){return e.syncEngine})}function Ac(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return[4,wg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=H9.bind(null,e.syncEngine),n.onUnlisten=V9.bind(null,e.syncEngine),n)]}})})}function L2(t,e,n){var r=this;n===void 0&&(n={});var i=new Wn;return t.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return o=function(l,u,d,f,p){var m=new _g({next:function(y){u.enqueueAndForget(function(){return Px(l,g)});var _=y.docs.has(d);!_&&y.fromCache?p.reject(new j(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&f&&f.source==="server"?p.reject(new j(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),g=new Mx(lc(d.path),m,{includeMetadataChanges:!0,so:!0});return Nx(l,g)},[4,Ac(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function F2(t,e,n){var r=this;n===void 0&&(n={});var i=new Wn;return t.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return o=function(l,u,d,f,p){var m=new _g({next:function(y){u.enqueueAndForget(function(){return Px(l,g)}),y.fromCache&&f.source==="server"?p.reject(new j(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(y)},error:function(y){return p.reject(y)}}),g=new Mx(d,m,{includeMetadataChanges:!0,so:!0});return Nx(l,g)},[4,Ac(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var uJ=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Eg=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),U2=new Map,B2=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},H2=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(cr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cJ=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),dJ=function(){function t(e){var n=this;this.currentUser=cr.UNAUTHENTICATED,this.oc=new Wn,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.hc(),n.oc.resolve(),n.ac&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){X("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.lc(),n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):n.ac&&(X("FirebaseCredentialsProvider","Auth not yet detected"),n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)}))}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(X("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(fe(typeof i.accessToken=="string"),new B2(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){this.ac=!0,this.asyncQueue=e,this.changeListener=n},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new cr(e)},t.prototype.lc=function(){var e=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return N(e,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return[4,this.oc.promise];case 1:return n.sent(),[4,this.changeListener(this.currentUser)];case 2:return n.sent(),this.ac=!0,[2]}})})}))},t}(),fJ=function(){function t(e,n,r){this.fc=e,this.dc=n,this.wc=r,this.type="FirstParty",this.user=cr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.dc},n=this.fc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.wc&&(e["X-Goog-Iam-Authorization-Token"]=this.wc),e},enumerable:!1,configurable:!0}),t}(),hJ=function(){function t(e,n,r){this.fc=e,this.dc=n,this.wc=r}return t.prototype.getToken=function(){return Promise.resolve(new fJ(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(cr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Kx(t,e,n){if(!n)throw new j(B.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Yx(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new j(B.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function V2(t,e,n,r){if(e===!0&&r===!0)throw new j(B.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function j2(t){if(!oe.isDocumentKey(t))throw new j(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function q2(t){if(oe.isDocumentKey(t))throw new j(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ie()}function He(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sg(t);throw new j(B.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function W2(t,e){if(e<=0)throw new j(B.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var z2=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new j(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),xh=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z2({}),this._settingsFrozen=!1,e instanceof Eg?(this._databaseId=e,this._credentials=new H2):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eg(r.options.projectId)}(e),this._credentials=new dJ(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new j(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new j(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z2(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new H2;switch(n.type){case"gapi":var r=n.client;return fe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new hJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=U2.get(e))&&(X("ComponentProvider","Removing Datastore"),U2.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),ht=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),dr=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hs=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,lc(i))||this)._path=i,o.type="collection",o}return P(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ht(this.firestore,null,new oe(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(dr);function G2(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ve(t),Kx("collection","path",e),t instanceof xh)return q2(n=Be.fromString.apply(Be,me([e],r))),new Hs(t,null,n);if(!(t instanceof ht||t instanceof Hs))throw new j(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return q2(n=Be.fromString.apply(Be,me([t.path],r)).child(Be.fromString(e))),new Hs(t.firestore,null,n)}function xg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ve(t),arguments.length===1&&(e=IL.u()),Kx("doc","path",e),t instanceof xh)return j2(n=Be.fromString.apply(Be,me([e],r))),new ht(t,null,new oe(n));if(!(t instanceof ht||t instanceof Hs))throw new j(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return j2(n=t._path.child(Be.fromString.apply(Be,me([e],r)))),new ht(t.firestore,t instanceof Hs?t.converter:null,new oe(n))}function K2(t,e){return t=ve(t),e=ve(e),(t instanceof ht||t instanceof Hs)&&(e instanceof ht||e instanceof Hs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Y2(t,e){return t=ve(t),e=ve(e),t instanceof dr&&e instanceof dr&&t.firestore===e.firestore&&ch(t._query,e._query)&&t.converter===e.converter}var pJ=function(){function t(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Ix(this,"async_queue_retry"),this.Ac=function(){var r=vg();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Rc(),this.bc(e)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var e=vg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(e){return this.Rc(),this.yc?new Promise(function(n){}):this.bc(e)},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.mc.push(e),n.vc()})},t.prototype.vc=function(){return N(this,void 0,void 0,function(){var e,n=this;return D(this,function(r){switch(r.label){case 0:if(this.mc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return r.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!ul(e=r.sent()))throw e;return X("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return n.vc()}),r.label=5;case 5:return[2]}})})},t.prototype.bc=function(e){var n=this,r=this._c.then(function(){return n.Tc=!0,e().catch(function(i){throw n.Ec=i,n.Tc=!1,Ot("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.Tc=!1,i})});return this._c=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Rc(),this.Ic.indexOf(e)>-1&&(n=0);var o=A9.createAndSchedule(this,e,n,r,function(a){return i.Pc(a)});return this.gc.push(o),o},t.prototype.Rc=function(){this.Ec&&ie()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return[4,e=this._c];case 1:n.sent(),n.label=2;case 2:if(e!==this._c)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Sc=function(e){for(var n=0,r=this.gc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Dc=function(e){var n=this;return this.Vc().then(function(){n.gc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.gc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Vc()})},t.prototype.Cc=function(e){this.Ic.push(e)},t.prototype.Pc=function(e){var n=this.gc.indexOf(e);this.gc.splice(n,1)},t}();function Dc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var mJ=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),X2=-1,bt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new pJ,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return P(e,t),e.prototype._terminate=function(){return this._firestoreClient||$2(this),this._firestoreClient.terminate()},e}(xh);function rn(t){return t._firestoreClient||$2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $2(t){var e,n=t._freezeSettings(),r=function(i,o,a,l){return new uJ(i,o,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new lJ(t._credentials,t._queue,r)}function Q2(t,e,n){var r=this,i=new Wn;return t.asyncQueue.enqueue(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,N2(t,n)];case 1:return a.sent(),[4,P2(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function J2(t){if(t._initialized||t._terminated)throw new j(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var io=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new j(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),fl=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(qn.fromBase64String(e))}catch(n){throw new j(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(qn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),hl=function(t){this._methodName=t},Th=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Me(this._lat,e._lat)||Me(this._long,e._long)},t}(),vJ=/^__.*__$/,gJ=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)},t}(),Z2=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();function eU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var tU=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Nc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fc({path:r,Oc:!1});return i.$c(e),i},t.prototype.Mc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fc({path:r,Oc:!1});return i.Nc(),i},t.prototype.Lc=function(e){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(e){return Cg(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Nc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Bc("Document fields must not be empty");if(eU(this.xc)&&vJ.test(e))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),yJ=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||wh(e)}return t.prototype.Qc=function(e,n,r,i){return i===void 0&&(i=!1),new tU({xc:e,methodName:n,Uc:r,path:Zr.emptyPath(),Oc:!1,qc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function pl(t){var e=t._freezeSettings(),n=wh(t._databaseId);return new yJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tg(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Jx("Data must be an object, but it was:",a,r);var l,u,d=iU(r,a);if(o.merge)l=new ic(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],p=0,m=o.mergeFields;p<m.length;p++){var g=Zx(e,m[p],n);if(!a.contains(g))throw new j(B.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");sU(f,g)||f.push(g)}l=new ic(f),u=a.fieldTransforms.filter(function(y){return l.covers(y.field)})}else l=null,u=a.fieldTransforms;return new gJ(new kr(d),l,u)}var Xx=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype._toFieldTransform=function(n){if(n.xc!==2)throw n.xc===1?n.Bc(this._methodName+"() can only appear at the top level of your update data"):n.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(hl);function nU(t,e,n){return new tU({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var bJ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype._toFieldTransform=function(n){return new fh(n.path,new cc)},e.prototype.isEqual=function(n){return n instanceof e},e}(hl),_J=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return P(e,t),e.prototype._toFieldTransform=function(n){var r=nU(this,n,!0),i=this.Kc.map(function(a){return ml(a,r)}),o=new sl(i);return new fh(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(hl),wJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return P(e,t),e.prototype._toFieldTransform=function(n){var r=nU(this,n,!0),i=this.Kc.map(function(a){return ml(a,r)}),o=new al(i);return new fh(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(hl),EJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).jc=r,i}return P(e,t),e.prototype._toFieldTransform=function(n){var r=new dc(n.R,YL(n.R,this.jc));return new fh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(hl);function $x(t,e,n,r){var i=t.Qc(1,e,n);Jx("Data must be an object, but it was:",i,r);var o=[],a=kr.empty();oh(r,function(u,d){var f=eT(e,u,n);d=ve(d);var p=i.Mc(f);if(d instanceof Xx)o.push(f);else{var m=ml(d,p);m!=null&&(o.push(f),a.set(f,m))}});var l=new ic(o);return new Z2(a,l,i.fieldTransforms)}function Qx(t,e,n,r,i,o){var a=t.Qc(1,e,n),l=[Zx(e,r,n)],u=[i];if(o.length%2!=0)throw new j(B.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<o.length;d+=2)l.push(Zx(e,o[d])),u.push(o[d+1]);for(var f=[],p=kr.empty(),m=l.length-1;m>=0;--m)if(!sU(f,l[m])){var g=l[m],y=u[m];y=ve(y);var _=a.Mc(g);if(y instanceof Xx)f.push(g);else{var w=ml(y,_);w!=null&&(f.push(g),p.set(g,w))}}var S=new ic(f);return new Z2(p,S,a.fieldTransforms)}function rU(t,e,n,r){return r===void 0&&(r=!1),ml(n,t.Qc(r?4:3,e))}function ml(t,e){if(oU(t=ve(t)))return Jx("Unsupported field value:",e,t),iU(t,e);if(t instanceof hl)return function(n,r){if(!eU(r.xc))throw r.Bc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Bc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&e.xc!==4)throw e.Bc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,l=n;a<l.length;a++){var u=ml(l[a],r.Lc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ve(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YL(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=jn.fromDate(n);return{timestampValue:mh(r.R,i)}}if(n instanceof jn)return i=new jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:mh(r.R,i)};if(n instanceof Th)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fl)return{bytesValue:pF(r.R,n._byteString)};if(n instanceof ht){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Bc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:fx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Bc("Unsupported field value: "+Sg(n))}(t,e)}function iU(t,e){var n={};return AL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oh(t,function(r,i){var o=ml(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function oU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jn||t instanceof Th||t instanceof fl||t instanceof ht||t instanceof hl)}function Jx(t,e,n){if(!oU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Sg(n);throw r==="an object"?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}}function Zx(t,e,n){if((e=ve(e))instanceof io)return e._internalPath;if(typeof e=="string")return eT(t,e);throw Cg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var SJ=new RegExp("[~\\*/\\[\\]]");function eT(t,e,n){if(e.search(SJ)>=0)throw Cg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(io.bind.apply(io,me([void 0],e.split("."))))()._internalPath}catch(r){throw Cg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cg(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new j(B.INVALID_ARGUMENT,(l+=". ")+t+u)}function sU(t,e){return t.some(function(n){return n.isEqual(e)})}var Ch=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ht(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new xJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(Ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),xJ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ch);function Ig(t,e){return typeof e=="string"?eT(t,e):e instanceof io?e._internalPath:e._delegate._internalPath}var vl=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),jo=function(t){function e(n,r,i,o,a,l){var u=this;return(u=t.call(this,n,r,i,o,l)||this)._firestore=n,u._firestoreImpl=n,u.metadata=a,u}return P(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Ig("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(Ch),Ih=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(jo),Vs=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vl(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new Ih(r._firestore,r._userDataWriter,i.key,i,new vl(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(l){var u=new Ih(r._firestore,r._userDataWriter,l.doc.key,l.doc,new vl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var u=new Ih(r._firestore,r._userDataWriter,l.doc.key,l.doc,new vl(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(f=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:TJ(l.type),doc:u,oldIndex:d,newIndex:f}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function TJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}function aU(t,e){return t instanceof jo&&e instanceof jo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Vs&&e instanceof Vs&&t._firestore===e._firestore&&Y2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function lU(t){if(tg(t)&&t.explicitOrderBy.length===0)throw new j(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rh=function(){};function js(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var CJ=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Wc=n,o.Gc=r,o.zc=i,o.type="where",o}return P(e,t),e.prototype._apply=function(n){var r=pl(n.firestore),i=function(o,a,l,u,d,f,p){var m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new j(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+f+"' queries on FieldPath.documentId().");if(f==="in"||f==="not-in"){pU(p,f);for(var g=[],y=0,_=p;y<_.length;y++){var w=_[y];g.push(hU(u,o,w))}m={arrayValue:{values:g}}}else m=hU(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||pU(p,f),m=rU(l,"where",p,f==="in"||f==="not-in");var S=Ar.create(d,f,m);return function(C,R){if(R.g()){var A=ix(C);if(A!==null&&!A.isEqual(R.field))throw new j(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+A.toString()+"' and '"+R.field.toString()+"'");var L=rx(C);L!==null&&mU(C,R.field,L)}var M=function(W,K){for(var q=0,Re=W.filters;q<Re.length;q++){var O=Re[q];if(K.indexOf(O.op)>=0)return O.op}return null}(C,function(W){switch(W){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(M!==null)throw M===R.op?new j(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+R.op.toString()+"' filter."):new j(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+R.op.toString()+"' filters with '"+M.toString()+"' filters.")}(o,S),S}(n._query,0,r,n.firestore._databaseId,this.Wc,this.Gc,this.zc);return new dr(n.firestore,n.converter,function(o,a){var l=o.filters.concat([a]);return new Uo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),l,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Rh),IJ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Wc=n,i.Hc=r,i.type="orderBy",i}return P(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new j(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ac(o,a);return function(u,d){if(rx(u)===null){var f=ix(u);f!==null&&mU(u,f,d.field)}}(i,l),l}(n._query,this.Wc,this.Hc);return new dr(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new Uo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(Rh),uU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Jc=r,o.Yc=i,o}return P(e,t),e.prototype._apply=function(n){return new dr(n.firestore,n.converter,qL(n._query,this.Jc,this.Yc))},e}(Rh),cU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Xc=r,o.Zc=i,o}return P(e,t),e.prototype._apply=function(n){var r=fU(n,this.type,this.Xc,this.Zc);return new dr(n.firestore,n.converter,function(i,o){return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(Rh),dU=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Xc=r,o.Zc=i,o}return P(e,t),e.prototype._apply=function(n){var r=fU(n,this.type,this.Xc,this.Zc);return new dr(n.firestore,n.converter,function(i,o){return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(Rh);function fU(t,e,n,r){if(n[0]=ve(n[0]),n[0]instanceof Ch)return function(o,a,l,u,d){if(!u)throw new j(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var f=[],p=0,m=uc(o);p<m.length;p++){var g=m[p];if(g.field.isKeyField())f.push($v(a,u.key));else{var y=u.data.field(g.field);if(QS(y))throw new j(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var _=g.field.canonicalString();throw new j(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+_+"' (used as the orderBy) does not exist.")}f.push(y)}}return new uh(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=pl(t.firestore);return function(o,a,l,u,d,f){var p=o.explicitOrderBy;if(d.length>p.length)throw new j(B.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],g=0;g<d.length;g++){var y=d[g];if(p[g].field.isKeyField()){if(typeof y!="string")throw new j(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof y);if(!ox(o)&&y.indexOf("/")!==-1)throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+y+"' contains a slash.");var _=o.path.child(Be.fromString(y));if(!oe.isDocumentKey(_))throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+_+"' is not because it contains an odd number of segments.");var w=new oe(_);m.push($v(a,w))}else{var S=rU(l,u,y);m.push(S)}}return new uh(m,f)}(t._query,t.firestore._databaseId,i,e,n,r)}function hU(t,e,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ox(e)&&n.indexOf("/")!==-1)throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Be.fromString(n));if(!oe.isDocumentKey(r))throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $v(t,new oe(r))}if(n instanceof ht)return $v(t,n._key);throw new j(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sg(n)+".")}function pU(t,e){if(!Array.isArray(t)||t.length===0)throw new j(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new j(B.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function mU(t,e,n){if(!n.isEqual(e))throw new j(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var tT=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}},t.prototype.convertObject=function(e,n){var r=this,i={};return oh(e.fields||{},function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new Th(Mt(e.latitude),Mt(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=NL(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=As(e);return new jn(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Be.fromString(e);fe(IF(r));var i=new Eg(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Ot("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();function Rg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var RJ=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return P(e,t),e.prototype.convertBytes=function(n){return new fl(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ht(this.firestore,null,r)},e}(tT),kJ=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pl(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=qs(e,this._firestore),o=Rg(i.converter,n,r),a=Tg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Tn.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,l=qs(e,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof io?Qx(this._dataReader,"WriteBatch.update",l._key,n,r,i):$x(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,Tn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=qs(e,this._firestore);return this._mutations=this._mutations.concat(new ph(n._key,Tn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function qs(t,e){if((t=ve(t)).firestore!==e)throw new j(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var gl=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return P(e,t),e.prototype.convertBytes=function(n){return new fl(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ht(this.firestore,null,r)},e}(tT);function vU(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=He(t,ht);var o=He(t.firestore,bt),a=pl(o);return kh(o,[(typeof(e=ve(e))=="string"||e instanceof io?Qx(a,"updateDoc",t._key,e,n,r):$x(a,"updateDoc",t._key,e)).toMutation(t._key,Tn.exists(!0))])}function gU(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=ve(t);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Dc(i[l])||(a=i[l],l++);var u,d,f,p={includeMetadataChanges:a.includeMetadataChanges};if(Dc(i[l])){var m=i[l];i[l]=(e=m.next)===null||e===void 0?void 0:e.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(t instanceof ht)d=He(t.firestore,bt),f=lc(t._key.path),u={next:function(_){i[l]&&i[l](nT(d,t,_))},error:i[l+1],complete:i[l+2]};else{var g=He(t,dr);d=He(g.firestore,bt),f=g._query;var y=new gl(d);u={next:function(_){i[l]&&i[l](new Vs(d,y,g,_))},error:i[l+1],complete:i[l+2]},lU(t._query)}return function(_,w,S,C){var R=this,A=new _g(C),L=new Mx(w,A,S);return _.asyncQueue.enqueueAndForget(function(){return N(R,void 0,void 0,function(){var M;return D(this,function(W){switch(W.label){case 0:return M=Nx,[4,Ac(_)];case 1:return[2,M.apply(void 0,[W.sent(),L])]}})})}),function(){A.Wo(),_.asyncQueue.enqueueAndForget(function(){return N(R,void 0,void 0,function(){var M;return D(this,function(W){switch(W.label){case 0:return M=Px,[4,Ac(_)];case 1:return[2,M.apply(void 0,[W.sent(),L])]}})})})}}(rn(d),f,p,u)}function kh(t,e){return function(n,r){var i=this,o=new Wn;return n.asyncQueue.enqueueAndForget(function(){return N(i,void 0,void 0,function(){var a;return D(this,function(l){switch(l.label){case 0:return a=j9,[4,Gx(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,o])]}})})}),o.promise}(rn(t),e)}function nT(t,e,n){var r=n.docs.get(e._key),i=new gl(t);return new jo(t,i,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}var AJ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return P(e,t),e.prototype.get=function(n){var r=this,i=qs(n,this._firestore),o=new gl(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new jo(r._firestore,o,i._key,a._document,new vl(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=pl(e)}return t.prototype.get=function(e){var n=this,r=qs(e,this._firestore),i=new RJ(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return ie();var a=o[0];if(a.isFoundDocument())return new Ch(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Ch(n._firestore,i,r._key,null,r.converter);throw ie()})},t.prototype.set=function(e,n,r){var i=qs(e,this._firestore),o=Rg(i.converter,n,r),a=Tg(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,l=qs(e,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof io?Qx(this._dataReader,"Transaction.update",l._key,n,r,i):$x(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=qs(e,this._firestore);return this._transaction.delete(n._key),this},t}());function yU(){if(typeof Uint8Array=="undefined")throw new j(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bU(){if(typeof atob=="undefined")throw new j(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rT=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return bU(),new t(fl.fromBase64String(e))},t.fromUint8Array=function(e){return yU(),new t(fl.fromUint8Array(e))},t.prototype.toBase64=function(){return bU(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return yU(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),_U=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){J2(r=He(r,bt));var o=rn(r),a=r._freezeSettings(),l=new qx;return Q2(o,l,new A2(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){J2(n=He(n,bt));var r=rn(n),i=n._freezeSettings(),o=new qx;return Q2(r,o,new iJ(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Wn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return N(this,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return vc.yt()?(u=l+"main",[4,vc.delete(u)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(wx(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),Ah=function(){function t(e,n,r){var i=this;this._delegate=n,this.ta=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof Eg||(this.ea=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,l){l===void 0&&(l={});var u=(i=He(i,xh))._getSettings();if(u.host!=="firestore.googleapis.com"&&u.host!==o&&Yv("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},u),{host:o+":"+a,ssl:!1})),l.mockUserToken){var d=pf(l.mockUserToken),f=l.mockUserToken.sub||l.mockUserToken.user_id;if(!f)throw new j(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new cJ(new B2(d,new cr(f)))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,O2(e)];case 1:return r=o.sent(),[4,M2(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=$(a);return l.$r.delete(0),Eh(l)}(i))]}})})})}(rn(He(this._delegate,bt)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,O2(e)];case 1:return r=o.sent(),[4,M2(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return N(this,void 0,void 0,function(){var l;return D(this,function(u){switch(u.label){case 0:return(l=$(a)).$r.add(0),[4,Tc(l)];case 1:return u.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(rn(He(this._delegate,bt)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&V2("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new Wn;return e.asyncQueue.enqueueAndForget(function(){return N(n,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return i=G9,[4,Gx(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(rn(He(this._delegate,bt)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,l=new _g(o);return i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return u=function(f,p){$(f).Gr.add(p),p.next()},[4,Ac(i)];case 1:return[2,u.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return u=function(f,p){$(f).Gr.delete(p)},[4,Ac(i)];case 1:return[2,u.apply(void 0,[d.sent(),l])]}})})})}}(rn(n=He(n,bt)),Dc(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new j(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Dh(this,G2(this._delegate,e))}catch(n){throw zn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Ws(this,xg(this._delegate,e))}catch(n){throw zn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Oc(this,function(n,r){if(n=He(n,xh),Kx("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(B.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new dr(n,null,function(i){return new Uo(Be.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw zn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var l=this,u=new Wn;return o.asyncQueue.enqueueAndForget(function(){return N(l,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return[4,function(p){return wg(p).then(function(m){return m.datastore})}(o)];case 1:return d=f.sent(),new aJ(o.asyncQueue,d,a,u).run(),[2]}})})}),u.promise}(rn(r),function(o){return i(new AJ(r,o))})}(this._delegate,function(r){return e(new iT(n,r))})},t.prototype.batch=function(){var e=this;return rn(this._delegate),new oT(new kJ(this._delegate,function(n){return kh(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new j(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new j(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),kg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return P(e,t),e.prototype.convertBytes=function(n){return new rT(new fl(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ws.na(r,this.firestore,null)},e}(tT);function wU(t){var e;e=t,Ri.setLogLevel(e)}var iT=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new kg(e)}return t.prototype.get=function(e){var n=this,r=yl(e);return this._delegate.get(r).then(function(i){return new Nc(n._firestore,new jo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=yl(e);return r?(Yx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=yl(e);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],o)),this},t.prototype.delete=function(e){var n=yl(e);return this._delegate.delete(n),this},t}(),oT=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=yl(e);return r?(Yx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=yl(e);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],o)),this},t.prototype.delete=function(e){var n=yl(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ag=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new Ih(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pc(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new kg(e),n),i.set(n,o)),o},t}();Ag.ia=new WeakMap;var Ws=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new kg(e)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new j(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ht(n._delegate,r,new oe(e)))},t.na=function(e,n,r){return new t(n,new ht(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Dh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Dh(this.firestore,G2(this._delegate,e))}catch(n){throw zn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=ve(e))instanceof ht&&K2(this._delegate,e)},t.prototype.set=function(e,n){n=Yx("DocumentReference.set",n);try{return function(r,i,o){r=He(r,ht);var a=He(r.firestore,bt),l=Rg(r.converter,i,o);return kh(a,[Tg(pl(a),"setDoc",r._key,l,r.converter!==null,o).toMutation(r._key,Tn.none())])}(this._delegate,e,n)}catch(r){throw zn(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?vU(this._delegate,e):vU.apply(void 0,me([this._delegate,e,n],r))}catch(o){throw zn(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return kh(He((e=this._delegate).firestore,bt),[new ph(e._key,Tn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=EU(n),o=SU(n,function(a){return new Nc(e.firestore,new jo(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return gU(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=He(r,ht);var i=He(r.firestore,bt),o=rn(i),a=new gl(i);return function(l,u){var d=this,f=new Wn;return l.asyncQueue.enqueueAndForget(function(){return N(d,void 0,void 0,function(){var p;return D(this,function(m){switch(m.label){case 0:return p=function(g,y,_){return N(this,void 0,void 0,function(){var w,S;return D(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(R,A){var L=$(R);return L.persistence.runTransaction("read document","readonly",function(M){return L.Mn.mn(M,A)})}(g,y)];case 1:return(S=C.sent()).isFoundDocument()?_.resolve(S):S.isNoDocument()?_.resolve(null):_.reject(new j(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=C.sent(),S=Rc(w,"Failed to get document '"+y+" from cache"),_.reject(S),[3,3];case 3:return[2]}})})},[4,zx(l)];case 1:return[2,p.apply(void 0,[m.sent(),u,f])]}})})}),f.promise}(o,r._key).then(function(l){return new jo(i,a,r._key,l,new vl(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=He(r,ht);var i=He(r.firestore,bt);return L2(rn(i),r._key,{source:"server"}).then(function(o){return nT(i,r,o)})}(this._delegate):function(r){r=He(r,ht);var i=He(r.firestore,bt);return L2(rn(i),r._key).then(function(o){return nT(i,r,o)})}(this._delegate)).then(function(r){return new Nc(n.firestore,new jo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ag.sa(this.firestore,e)):this._delegate.withConverter(null))},t}();function zn(t,e,n){return t.message=t.message.replace(e,n),t}function EU(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Dc(r))return r}return{}}function SU(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=Dc(t[0])?t[0]:Dc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Nc=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ws(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return aU(this._delegate,e._delegate)},t}(),Pc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return P(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Nc),Oc=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new kg(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,js(this._delegate,function(i,o,a){var l=o,u=Ig("where",i);return new CJ(u,l,a)}(e,n,r)))}catch(i){throw zn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,js(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=Ig("orderBy",r);return new IJ(a,o)}(e,n)))}catch(r){throw zn(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,js(this._delegate,function(n){return W2("limit",n),new uU("limit",n,"F")}(e)))}catch(n){throw zn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,js(this._delegate,function(n){return W2("limitToLast",n),new uU("limitToLast",n,"L")}(e)))}catch(n){throw zn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,js(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new cU("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw zn(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,js(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new cU("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw zn(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,js(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dU("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw zn(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,js(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dU("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw zn(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Y2(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=He(r,dr);var i=He(r.firestore,bt),o=rn(i),a=new gl(i);return function(l,u){var d=this,f=new Wn;return l.asyncQueue.enqueueAndForget(function(){return N(d,void 0,void 0,function(){var p;return D(this,function(m){switch(m.label){case 0:return p=function(g,y,_){return N(this,void 0,void 0,function(){var w,S,C,R,A;return D(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,mg(g,y,!0)];case 1:return A=L.sent(),w=new S2(y,A.Bn),S=w._o(A.documents),C=w.applyChanges(S,!1),_.resolve(C.snapshot),[3,3];case 2:return R=L.sent(),A=Rc(R,"Failed to execute query '"+y+" against cache"),_.reject(A),[3,3];case 3:return[2]}})})},[4,zx(l)];case 1:return[2,p.apply(void 0,[m.sent(),u,f])]}})})}),f.promise}(o,r._query).then(function(l){return new Vs(i,a,r,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=He(r,dr);var i=He(r.firestore,bt),o=rn(i),a=new gl(i);return F2(o,r._query,{source:"server"}).then(function(l){return new Vs(i,a,r,l)})}(this._delegate):function(r){r=He(r,dr);var i=He(r.firestore,bt),o=rn(i),a=new gl(i);return lU(r._query),F2(o,r._query).then(function(l){return new Vs(i,a,r,l)})}(this._delegate)).then(function(r){return new Dg(n.firestore,new Vs(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=EU(n),o=SU(n,function(a){return new Dg(e.firestore,new Vs(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return gU(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ag.sa(this.firestore,e)):this._delegate.withConverter(null))},t}(),DJ=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Pc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Dg=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Oc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Pc(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new DJ(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new Pc(r._firestore,i))})},t.prototype.isEqual=function(e){return aU(this._delegate,e._delegate)},t}(),Dh=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return P(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ws(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Ws(this.firestore,n===void 0?xg(this._delegate):xg(this._delegate,n))}catch(r){throw zn(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=He(i.firestore,bt),l=xg(i),u=Rg(i.converter,o);return kh(a,[Tg(pl(i.firestore),"addDoc",l._key,u,i.converter!==null,{}).toMutation(l._key,Tn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Ws(r.firestore,i)})},e.prototype.isEqual=function(n){return K2(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(Ag.sa(this.firestore,n)):this._delegate.withConverter(null))},e}(Oc);function yl(t){return He(t,ht)}var xU=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(io.bind.apply(io,me([void 0],e)))}return t.documentId=function(){return new t(Zr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=ve(e))instanceof io&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),TU=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new bJ("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Xx("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new _J("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new wJ("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new EJ("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function CU(t){return function(e,n){var r=rn(e=He(e,bt)),i=new mJ;return function(o,a,l,u){var d=this,f=function(p,m){return function(g,y){return new oJ(g,y)}(function(g,y){if(g instanceof Uint8Array)return D2(g,y);if(g instanceof ArrayBuffer)return D2(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof p=="string"?new TextEncoder().encode(p):p),m)}(l,wh(a));o.asyncQueue.enqueueAndForget(function(){return N(d,void 0,void 0,function(){var p;return D(this,function(m){switch(m.label){case 0:return p=rJ,[4,Gx(o)];case 1:return p.apply(void 0,[m.sent(),f,u]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function IU(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return N(a,void 0,void 0,function(){var l;return D(this,function(u){switch(u.label){case 0:return l=function(d,f){var p=$(d);return p.persistence.runTransaction("Get named query","readonly",function(m){return p.Qe.getNamedQuery(m,f)})},[4,zx(i)];case 1:return[2,l.apply(void 0,[u.sent(),o])]}})})})}(rn(e=He(e,bt)),n).then(function(i){return i?new dr(e,null,i.query):null})).then(function(i){return i?new Oc(r,i):null})}Yr();var NJ={Firestore:Ah,GeoPoint:Th,Timestamp:jn,Blob:rT,Transaction:iT,WriteBatch:oT,DocumentReference:Ws,DocumentSnapshot:Nc,Query:Oc,QueryDocumentSnapshot:Pc,QuerySnapshot:Dg,CollectionReference:Dh,FieldPath:xU,FieldValue:TU,setLogLevel:wU,CACHE_SIZE_UNLIMITED:X2};function PJ(t){(function(e,n){e.INTERNAL.registerComponent(new tt("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},NJ)))})(t,function(e,n){return new Ah(e,new bt(e,n),new _U)}),t.registerVersion("@firebase/firestore","2.3.1")}PJ(J);sr();var bve=Gr(Ki());le();function OJ(t){t.prototype.loadBundle=CU,t.prototype.namedQuery=IU}OJ(Ah);ar();le();Yr();var RU={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mc=function(t){P(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function MJ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function LJ(t,e,n){var r=MJ(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var l=a.status;if(typeof l=="string"){if(!RU[l])return new Mc("internal","internal");r=RU[l],i=l}var u=a.message;typeof u=="string"&&(i=u),o=a.details,o!==void 0&&(o=n.decode(o))}}catch(d){}return r==="ok"?null:new Mc(r,i,o)}var FJ=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:if(!this.auth)return[2,void 0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=r.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n=r.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,n.sent()];case 3:return e=n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();var UJ="type.googleapis.com/google.protobuf.Int64Value",BJ="type.googleapis.com/google.protobuf.UInt64Value";function kU(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var HJ=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return kU(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case UJ:case BJ:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?kU(e,function(i){return n.decode(i)}):e},t}();function VJ(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Mc("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var AU=function(){function t(e,n,r,i,o,a){var l=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new HJ,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new FJ(n,r),this.cancelAllRequests=new Promise(function(d){l.deleteService=function(){return d()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(d){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=d.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=d.sent(),[3,5];case 4:return a=d.sent(),[2,{status:0,json:null}];case 5:l=null,d.label=6;case 6:return d.trys.push([6,8,,9]),[4,o.json()];case 7:return l=d.sent(),[3,9];case 8:return u=d.sent(),[3,9];case 9:return[2,{status:o.status,json:l}]}})})},t.prototype.getAppCheckToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p,m,g,y,_;return D(this,function(w){switch(w.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=w.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),u=r.timeout||7e4,d=VJ(u),f=d.timer,p=d.promise,[4,Promise.race([DU(f,this.postJSON(i,o,a)),p,DU(f,this.cancelAllRequests)])];case 2:if(m=w.sent(),!m)throw new Mc("cancelled","Firebase Functions instance was deleted.");if(g=LJ(m.status,m.json,this.serializer),g)throw g;if(!m.json)throw new Mc("internal","Response is not valid JSON object.");if(y=m.json.data,typeof y=="undefined"&&(y=m.json.result),typeof y=="undefined")throw new Mc("internal","Response is missing data field.");return _=this.serializer.decode(y),[2,{data:_}]}})})},t}();function DU(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}var jJ="functions";function qJ(t,e){var n={Functions:AU};function r(i,o){var a=o.instanceIdentifier,l=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),d=i.getProvider("app-check-internal"),f=i.getProvider("messaging");return new AU(l,u,f,d,a,e)}t.INTERNAL.registerComponent(new tt(jJ,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var WJ="@firebase/functions",zJ="0.6.9";qJ(J,fetch.bind(self));J.registerVersion(WJ,zJ);ar();Yr();le();sr();var PU=Gr(sT()),GJ="@firebase/installations",OU="0.4.26";var MU=1e4,LU="w:"+OU,FU="FIS_v2",KJ="https://firebaseinstallations.googleapis.com/v1",YJ=60*60*1e3,XJ="installations",$J="Installations";var zs,QJ=(zs={},zs["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',zs["not-registered"]="Firebase Installation is not registered.",zs["installation-not-found"]="Firebase Installation not found.",zs["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',zs["app-offline"]="Could not process request. Application offline.",zs["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",zs),qo=new Ln(XJ,$J,QJ);function UU(t){return t instanceof Ei&&t.code.includes("request-failed")}function aT(t){var e=t.projectId;return KJ+"/projects/"+e+"/installations"}function BU(t){return{token:t.token,requestStatus:2,expiresIn:JJ(t.expiresIn),creationTime:Date.now()}}function lT(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,qo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function HU(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function VU(t,e){var n=e.refreshToken,r=HU(t);return r.append("Authorization",ZJ(n)),r}function uT(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function JJ(t){return Number(t.replace("s","000"))}function ZJ(t){return FU+" "+t}function eZ(t,e){var n=e.fid;return N(this,void 0,void 0,function(){var r,i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return r=aT(t),i=HU(t),o={fid:n,authVersion:FU,appId:t.appId,sdkVersion:LU},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,uT(function(){return fetch(r,a)})];case 1:return l=f.sent(),l.ok?[4,l.json()]:[3,3];case 2:return u=f.sent(),d={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:BU(u.authToken)},[2,d];case 3:return[4,lT("Create Installation",l)];case 4:throw f.sent()}})})}function jU(t){return new Promise(function(e){setTimeout(e,t)})}function tZ(t){var e=btoa(String.fromCharCode.apply(String,me([],Ct(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}var nZ=/^[cdef][\w-]{21}$/,cT="";function rZ(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=iZ(t);return nZ.test(n)?n:cT}catch(r){return cT}}function iZ(t){var e=tZ(t);return e.substr(0,22)}function Lc(t){return t.appName+"!"+t.appId}var Fc=new Map;function qU(t,e){var n=Lc(t);WU(n,e),aZ(n,e)}function oZ(t,e){zU();var n=Lc(t),r=Fc.get(n);r||(r=new Set,Fc.set(n,r)),r.add(e)}function sZ(t,e){var n=Lc(t),r=Fc.get(n);!r||(r.delete(e),r.size===0&&Fc.delete(n),GU())}function WU(t,e){var n,r,i=Fc.get(t);if(!!i)try{for(var o=gt(i),a=o.next();!a.done;a=o.next()){var l=a.value;l(e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function aZ(t,e){var n=zU();n&&n.postMessage({key:t,fid:e}),GU()}var bl=null;function zU(){return!bl&&"BroadcastChannel"in self&&(bl=new BroadcastChannel("[Firebase] FID Change"),bl.onmessage=function(t){WU(t.data.key,t.data.fid)}),bl}function GU(){Fc.size===0&&bl&&(bl.close(),bl=null)}var lZ="firebase-installations-database",uZ=1,_l="firebase-installations-store",dT=null;function fT(){return dT||(dT=(0,PU.openDb)(lZ,uZ,function(t){switch(t.oldVersion){case 0:t.createObjectStore(_l)}})),dT}function Pg(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:return n=Lc(t),[4,fT()];case 1:return r=l.sent(),i=r.transaction(_l,"readwrite"),o=i.objectStore(_l),[4,o.get(n)];case 2:return a=l.sent(),[4,o.put(e,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==e.fid)&&qU(t,e.fid),[2,e]}})})}function hT(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return e=Lc(t),[4,fT()];case 1:return n=i.sent(),r=n.transaction(_l,"readwrite"),[4,r.objectStore(_l).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Nh(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return n=Lc(t),[4,fT()];case 1:return r=u.sent(),i=r.transaction(_l,"readwrite"),o=i.objectStore(_l),[4,o.get(n)];case 2:return a=u.sent(),l=e(a),l!==void 0?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(l,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),l&&(!a||a.fid!==l.fid)&&qU(t,l.fid),[2,l]}})})}function pT(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return[4,Nh(t,function(o){var a=cZ(o),l=dZ(t,a);return e=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==cT?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function cZ(t){var e=t||{fid:rZ(),registrationStatus:0};return YU(e)}function dZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(qo.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=fZ(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hZ(t)}:{installationEntry:e}}function fZ(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,eZ(t,e)];case 1:return n=i.sent(),[2,Pg(t,n)];case 2:return r=i.sent(),UU(r)&&r.customData.serverCode===409?[4,hT(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Pg(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function hZ(t){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,KU(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,jU(100)];case 3:return o.sent(),[4,KU(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,pT(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function KU(t){return Nh(t,function(e){if(!e)throw qo.create("installation-not-found");return YU(e)})}function YU(t){return pZ(t)?{fid:t.fid,registrationStatus:0}:t}function pZ(t){return t.registrationStatus===1&&t.registrationTime+MU<Date.now()}function mZ(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p;return D(this,function(m){switch(m.label){case 0:return i=vZ(n,e),o=VU(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:LU}},u={method:"POST",headers:o,body:JSON.stringify(l)},[4,uT(function(){return fetch(i,u)})];case 1:return d=m.sent(),d.ok?[4,d.json()]:[3,3];case 2:return f=m.sent(),p=BU(f),[2,p];case 3:return[4,lT("Generate Auth Token",d)];case 4:throw m.sent()}})})}function vZ(t,e){var n=e.fid;return aT(t)+"/"+n+"/authTokens:generate"}function mT(t,e){return e===void 0&&(e=!1),N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,Nh(t.appConfig,function(l){if(!$U(l))throw qo.create("not-registered");var u=l.authToken;if(!e&&bZ(u))return l;if(u.requestStatus===1)return n=gZ(t,e),l;if(!navigator.onLine)throw qo.create("app-offline");var d=wZ(l);return n=yZ(t,d),d})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function gZ(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,XU(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,jU(100)];case 3:return i.sent(),[4,XU(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,mT(t,e)]:[2,r]}})})}function XU(t){return Nh(t,function(e){if(!$U(e))throw qo.create("not-registered");var n=e.authToken;return EZ(n)?I(I({},e),{authToken:{requestStatus:0}}):e})}function yZ(t,e){return N(this,void 0,void 0,function(){var n,r,i,r;return D(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,mZ(t,e)];case 1:return n=o.sent(),r=I(I({},e),{authToken:n}),[4,Pg(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return i=o.sent(),UU(i)&&(i.customData.serverCode===401||i.customData.serverCode===404)?[4,hT(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=I(I({},e),{authToken:{requestStatus:0}}),[4,Pg(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}function $U(t){return t!==void 0&&t.registrationStatus===2}function bZ(t){return t.requestStatus===2&&!_Z(t)}function _Z(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+YJ}function wZ(t){var e={requestStatus:1,requestTime:Date.now()};return I(I({},t),{authToken:e})}function EZ(t){return t.requestStatus===1&&t.requestTime+MU<Date.now()}function SZ(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return[4,pT(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):mT(t).catch(console.error),[2,n.fid]}})})}function xZ(t,e){return e===void 0&&(e=!1),N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,TZ(t.appConfig)];case 1:return r.sent(),[4,mT(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function TZ(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return[4,pT(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function CZ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=IZ(t,e),r=VU(t,e),i={method:"DELETE",headers:r},[4,uT(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,lT("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function IZ(t,e){var n=e.fid;return aT(t)+"/"+n}function RZ(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Nh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw qo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw qo.create("app-offline");case 3:return[4,CZ(e,n)];case 4:return r.sent(),[4,hT(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function kZ(t,e){var n=t.appConfig;return oZ(n,e),function(){sZ(n,e)}}function AZ(t){var e,n;if(!t||!t.options)throw vT("App Configuration");if(!t.name)throw vT("App Name");var r=["projectId","apiKey","appId"];try{for(var i=gt(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw vT(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vT(t){return qo.create("missing-app-config-values",{valueName:t})}function DZ(t){var e="installations";t.INTERNAL.registerComponent(new tt(e,function(n){var r=n.getProvider("app").getImmediate(),i=AZ(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},l={app:r,getId:function(){return SZ(a)},getToken:function(u){return xZ(a,u)},delete:function(){return RZ(a)},onIdChange:function(u){return kZ(a,u)}};return l},"PUBLIC")),t.registerVersion(GJ,OU)}DZ(J);Yr();sr();le();var wl=Gr(sT());ar();var Xt,NZ=(Xt={},Xt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xt["only-available-in-window"]="This method is available in a Window context.",Xt["only-available-in-sw"]="This method is available in a service worker context.",Xt["permission-default"]="The notification permission was not granted and dismissed instead.",Xt["permission-blocked"]="The notification permission was not granted and blocked instead.",Xt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Xt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Xt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Xt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Xt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Xt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Xt["token-update-no-token"]="FCM returned no token when updating the user to push.",Xt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Xt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Xt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Xt["invalid-vapid-key"]="The public VAPID key must be a string.",Xt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Xt),Ke=new Ln("messaging","Messaging",NZ);var PZ="/firebase-messaging-sw.js",OZ="/firebase-cloud-messaging-push-scope",Og="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",MZ="https://fcmregistrations.googleapis.com/v1",QU="FCM_MSG",LZ="FirebaseMessaging: ",FZ="google.c.a.e",JU="google.c.a.c_id",UZ="google.c.a.ts",BZ="google.c.a.c_l",HZ=1e3,VZ=3e3;var El;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(El||(El={}));function Wo(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,me([],Ct(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jZ(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}var gT="fcm_token_details_db",qZ=5,ZU="fcm_token_object_Store";function WZ(t){return N(this,void 0,void 0,function(){var e,n,r,i,o=this;return D(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(l){return l.name}),!n.includes(gT))return[2,null];a.label=2;case 2:return r=null,[4,(0,wl.openDb)(gT,qZ,function(l){return N(o,void 0,void 0,function(){var u,d,f,f,f,p;return D(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(ZU)?(u=l.transaction.objectStore(ZU),[4,u.index("fcmSenderId").get(t)]):[2];case 1:return d=m.sent(),[4,u.clear()];case 2:if(m.sent(),!d)return[2];if(l.oldVersion===2){if(f=d,!f.auth||!f.p256dh||!f.endpoint)return[2];r={token:f.fcmToken,createTime:(p=f.createTime)!==null&&p!==void 0?p:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Wo(f.vapidKey)}}}else l.oldVersion===3?(f=d,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Wo(f.auth),p256dh:Wo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Wo(f.vapidKey)}}):l.oldVersion===4&&(f=d,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Wo(f.auth),p256dh:Wo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Wo(f.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,(0,wl.deleteDb)(gT)];case 4:return a.sent(),[4,(0,wl.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,wl.deleteDb)("undefined")];case 6:return a.sent(),[2,zZ(r)?r:null]}})})}function zZ(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var GZ="firebase-messaging-database",KZ=1,Sl="firebase-messaging-store",yT=null;function bT(){return yT||(yT=(0,wl.openDb)(GZ,KZ,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Sl)}})),yT}function Mg(t){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){switch(o.label){case 0:return e=wT(t),[4,bT()];case 1:return n=o.sent(),[4,n.transaction(Sl).objectStore(Sl).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,WZ(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,_T(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function _T(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return n=wT(t),[4,bT()];case 1:return r=o.sent(),i=r.transaction(Sl,"readwrite"),[4,i.objectStore(Sl).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function YZ(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return e=wT(t),[4,bT()];case 1:return n=i.sent(),r=n.transaction(Sl,"readwrite"),[4,r.objectStore(Sl).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function wT(t){var e=t.appConfig;return e.appId}function XZ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return[4,ST(t)];case 1:n=d.sent(),r=tB(e),i={method:"POST",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(ET(t.appConfig),i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw l=d.sent(),Ke.create("token-subscribe-failed",{errorInfo:l});case 6:if(o.error)throw u=o.error.message,Ke.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw Ke.create("token-subscribe-no-token");return[2,o.token]}})})}function $Z(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return[4,ST(t)];case 1:n=d.sent(),r=tB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(ET(t.appConfig)+"/"+e.token,i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw l=d.sent(),Ke.create("token-update-failed",{errorInfo:l});case 6:if(o.error)throw u=o.error.message,Ke.create("token-update-failed",{errorInfo:u});if(!o.token)throw Ke.create("token-update-no-token");return[2,o.token]}})})}function eB(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return[4,ST(t)];case 1:n=u.sent(),r={method:"DELETE",headers:n},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(ET(t.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw a=o.error.message,Ke.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=u.sent(),Ke.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function ET(t){var e=t.projectId;return MZ+"/projects/"+e+"/registrations"}function ST(t){var e=t.appConfig,n=t.installations;return N(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function tB(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==Og&&(o.web.applicationPubKey=i),o}var QZ=7*24*60*60*1e3;function xT(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Ke.create("permission-blocked");return[4,ZZ(e,n)];case 1:return r=l.sent(),[4,Mg(t)];case 2:return i=l.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Wo(r.getKey("auth")),p256dh:Wo(r.getKey("p256dh"))},i?[3,3]:[2,nB(t,o)];case 3:if(eee(i.subscriptionOptions,o))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,eB(t,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,nB(t,o)];case 8:return Date.now()>=i.createTime+QZ?[2,JZ({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function Ph(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,Mg(t)];case 1:return n=i.sent(),n?[4,eB(t,n.token)]:[3,4];case 2:return i.sent(),[4,YZ(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function JZ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,$Z(e,t)];case 1:return r=a.sent(),i=I(I({},t),{token:r,createTime:Date.now()}),[4,_T(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ph(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function nB(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,XZ(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,_T(t,r)];case 2:return i.sent(),[2,r.token]}})})}function ZZ(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jZ(e)})]}})})}function eee(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}function tee(t){var e={from:t.from,collapseKey:t.collapse_key};return nee(e,t),ree(e,t),iee(e,t),e}function nee(t,e){if(!!e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function ree(t,e){!e.data||(t.data=e.data)}function iee(t,e){if(!!e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}function rB(t){return typeof t=="object"&&!!t&&JU in t}function iB(t){return new Promise(function(e){setTimeout(e,t)})}var oee=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Ke.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return N(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Mg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:Og,i.label=2;case 2:return[2,xT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Ph(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Ke.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Ke.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Ke.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Ke.create("only-available-in-window")},t.prototype.onMessage=function(){throw Ke.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Ke.create("only-available-in-window")},t.prototype.onPush=function(e){return N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=aee(e),n?[4,oB()]:(console.debug(LZ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),uee(r)?[2,cee(r,n)]:(i=!1,n.notification?[4,dee(see(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=tee(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,iB(HZ)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return N(this,void 0,void 0,function(){var i,o;return D(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,Ph(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Mg(this.firebaseDependencies)];case 3:return o=a.sent(),[4,Ph(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,xT(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Og)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return N(this,void 0,void 0,function(){var i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[QU],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=fee(i),o?(a=new URL(o,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,lee(a)]):[2];case 1:return u=d.sent(),u?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=d.sent(),[4,iB(VZ)];case 3:return d.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=d.sent(),d.label=6;case 6:return u?(i.messageType=El.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,u.postMessage(i)]):[2]}})})},t}();function see(t){var e,n=I({},t.notification);return n.data=(e={},e[QU]=t,e),n}function aee(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function lee(t){return N(this,void 0,void 0,function(){var e,n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return[4,oB()];case 1:e=u.sent();try{for(n=gt(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(d){a={error:d}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function uee(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function cee(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=El.PUSH_RECEIVED;try{for(var i=gt(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function oB(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function dee(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function fee(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(rB(t.data)?self.location.origin:null)}var hee=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===El.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(mee(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,rB(r)&&r[FZ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Ke.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,xT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Og),[2]})})},t.prototype.updateSwReg=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&!!this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(PZ,{scope:OZ})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Ke.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ph(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Ke.create("permission-blocked"):Ke.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Ke.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Ke.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");if(this.swRegistration)throw Ke.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Ke.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Ke.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=pee(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[JU],message_name:n[BZ],message_time:n[UZ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function pee(t){switch(t){case El.NOTIFICATION_CLICKED:return"notification_open";case El.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mee(t){return delete t.messageType,delete t.isFirebaseMessaging,t}function vee(t){var e,n;if(!t||!t.options)throw TT("App Configuration Object");if(!t.name)throw TT("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=gt(r),a=o.next();!a.done;a=o.next()){var l=a.value;if(!i[l])throw TT(l)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function TT(t){return Ke.create("missing-app-config-values",{valueName:t})}var gee="messaging";function yee(t){var e=t.getProvider("app").getImmediate(),n=vee(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!sB())throw Ke.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new oee(o):new hee(o)}var bee={isSupported:sB};J.INTERNAL.registerComponent(new tt(gee,yee,"PUBLIC").setServiceProps(bee));function sB(){return self&&"ServiceWorkerGlobalScope"in self?wee():_ee()}function _ee(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function wee(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}ar();le();sr();Yr();var aB="firebasestorage.googleapis.com",lB="storageBucket",Eee=2*60*1e3,See=10*60*1e3,Ft=function(t){P(e,t);function e(n,r){var i=t.call(this,CT(n),"Firebase Storage: "+r+" ("+CT(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return CT(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(Ei);function CT(t){return"storage/"+t}function IT(){var t="An unknown error occurred, please check the error payload for server response.";return new Ft("unknown",t)}function xee(t){return new Ft("object-not-found","Object '"+t+"' does not exist.")}function Tee(t){return new Ft("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cee(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft("unauthenticated",t)}function Iee(){return new Ft("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Ree(t){return new Ft("unauthorized","User does not have permission to access '"+t+"'.")}function kee(){return new Ft("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function uB(){return new Ft("canceled","User canceled the upload/download.")}function Aee(t){return new Ft("invalid-url","Invalid URL '"+t+"'.")}function Dee(t){return new Ft("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Nee(){return new Ft("no-default-bucket","No default bucket found. Did you set the '"+lB+"' property when initializing the app?")}function cB(){return new Ft("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pee(){return new Ft("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Oee(){return new Ft("no-download-url","The given file does not have any download URLs.")}function xl(t){return new Ft("invalid-argument",t)}function dB(){return new Ft("app-deleted","The Firebase app was deleted.")}function fB(t){return new Ft("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oh(t,e){return new Ft("invalid-format","String does not match format '"+t+"': "+e)}function Lg(t){throw new Ft("internal-error","Internal error: "+t)}var ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},RT=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function hB(t,e){switch(t){case ni.RAW:return new RT(pB(e));case ni.BASE64:case ni.BASE64URL:return new RT(mB(t,e));case ni.DATA_URL:return new RT(Lee(e),Fee(e))}throw IT()}function pB(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)==55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)==56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Mee(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Oh(ni.DATA_URL,"Malformed data URL.")}return pB(e)}function mB(t,e){switch(t){case ni.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Oh(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case ni.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw Oh(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(e)}catch(f){throw Oh(t,"Invalid character found")}for(var u=new Uint8Array(l.length),d=0;d<l.length;d++)u[d]=l.charCodeAt(d);return u}var vB=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw Oh(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Uee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function Lee(t){var e=new vB(t);return e.base64?mB(ni.BASE64,e.rest):Mee(e.rest)}function Fee(t){var e=new vB(t);return e.contentType}function Uee(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}var Bee={STATE_CHANGED:"state_changed"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kT(t){switch(t){case"running":case"pausing":case"canceling":return Gn.RUNNING;case"paused":return Gn.PAUSED;case"success":return Gn.SUCCESS;case"canceled":return Gn.CANCELED;case"error":return Gn.ERROR;default:return Gn.ERROR}}var Tl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tl||(Tl={}));var Hee=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Tl.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Tl.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Tl.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Lg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Lg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Lg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Lg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();var Vee=function(){function t(){}return t.prototype.createXhrIo=function(){return new Hee},t}();var ri=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(r.path==="")return r;throw Dee(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d(q){q.path_=decodeURIComponent(q.path)}for(var f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp("^https?://"+p+"/"+f+"/b/"+i+"/o"+m,"i"),y={bucket:1,path:3},_=n===aB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",S=new RegExp("^https?://"+_+"/"+i+"/"+w,"i"),C={bucket:1,path:2},R=[{regex:l,indices:u,postModify:o},{regex:g,indices:y,postModify:d},{regex:S,indices:C,postModify:d}],A=0;A<R.length;A++){var L=R[A],M=L.regex.exec(e);if(M){var W=M[L.indices.bucket],K=M[L.indices.path];K||(K=""),r=new t(W,K),L.postModify(r);break}}if(r==null)throw Aee(e);return r},t}(),jee=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function qee(t,e,n){var r=1,i=null,o=!1,a=0;function l(){return a===2}var u=!1;function d(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];u||(u=!0,e.apply(null,y))}function f(y){i=setTimeout(function(){i=null,t(p,l())},y)}function p(y){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];if(!u){if(y){d.call.apply(d,me([null,y],_));return}var S=l()||o;if(S){d.call.apply(d,me([null,y],_));return}r<64&&(r*=2);var C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,f(C)}}var m=!1;function g(y){m||(m=!0,!u&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),setTimeout(function(){o=!0,g(!0)},n),g}function Wee(t){t(!1)}function zee(t){return t!==void 0}function Gee(t){return typeof t=="function"}function Kee(t){return typeof t=="object"&&!Array.isArray(t)}function Fg(t){return typeof t=="string"||t instanceof String}function gB(t){return AT()&&t instanceof Blob}function AT(){return typeof Blob!="undefined"}function DT(t,e,n,r){if(r<e)throw xl("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw xl("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Gs(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function yB(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yee=function(){function t(e,n,r,i,o,a,l,u,d,f,p){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=u,this.progressCallback_=f,this.timeout_=d,this.pool_=p,this.promise_=new Promise(function(g,y){m.resolve_=g,m.reject_=y,m.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new Ug(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function l(u){var d=u.loaded,f=u.lengthComputable?u.total:-1;e.progressCallback_!==null&&e.progressCallback_(d,f)}e.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(u){e.progressCallback_!==null&&u.removeUploadProgressListener(l),e.pendingXhr_=null,u=u;var d=u.getErrorCode()===Tl.NO_ERROR,f=u.getStatus();if(!d||e.isRetryStatusCode_(f)){var p=u.getErrorCode()===Tl.ABORT;i(!1,new Ug(!1,null,p));return}var m=e.successCodes_.indexOf(f)!==-1;i(!0,new Ug(m,u))})}function r(i,o){var a=e.resolve_,l=e.reject_,u=o.xhr;if(o.wasSuccessCode)try{var d=e.callback_(u,u.getResponseText());zee(d)?a(d):a()}catch(p){l(p)}else if(u!==null){var f=IT();f.serverResponse=u.getResponseText(),e.errorCallback_?l(e.errorCallback_(u,f)):l(f)}else if(o.canceled){var f=e.appDelete_?dB():uB();l(f)}else{var f=kee();l(f)}}this.canceled_?r(!1,new Ug(!1,null,!0)):this.backoffId_=qee(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wee(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),Ug=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function Xee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $ee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Qee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Jee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Zee(t,e,n,r,i,o){var a=yB(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Qee(u,e),Xee(u,n),$ee(u,o),Jee(u,r),new Yee(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}function ete(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function tte(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ete();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(AT())return new Blob(t);throw new Ft("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function nte(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}var NT=function(){function t(e,n){var r=0,i="";gB(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(gB(this.data_)){var r=this.data_,i=nte(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(AT()){var r=e.map(function(u){return u instanceof t?u.data_:u});return new t(tte.apply(null,r))}else{var i=e.map(function(u){return Fg(u)?hB(ni.RAW,u).data:u.data_}),o=0;i.forEach(function(u){o+=u.byteLength});var a=new Uint8Array(o),l=0;return i.forEach(function(u){for(var d=0;d<u.length;d++)a[l++]=u[d]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();function PT(t){var e;try{e=JSON.parse(t)}catch(n){return null}return Kee(e)?e:null}function rte(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function ite(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function bB(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function ote(t,e){return e}var Kn=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ote}return t}(),Bg=null;function ste(t){return!Fg(t)||t.length<2?t:bB(t)}function Hg(){if(Bg)return Bg;var t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(o,a){return ste(a)}var n=new Kn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new Kn("size");return i.xform=r,t.push(i),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),Bg=t,Bg}function ate(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new ri(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function lte(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return ate(r,t),r}function _B(t,e,n){var r=PT(e);if(r===null)return null;var i=r;return lte(t,i,n)}function ute(t,e,n){var r=PT(e);if(r===null||!Fg(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),l=a.map(function(u){var d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),m=Gs(p,n),g=yB({alt:"media",token:u});return m+g});return l[0]}function OT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var wB="prefixes",EB="items";function cte(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wB])for(var i=0,o=n[wB];i<o.length;i++){var a=o[i],l=a.replace(/\/$/,""),u=t._makeStorageReference(new ri(e,l));r.prefixes.push(u)}if(n[EB])for(var d=0,f=n[EB];d<f.length;d++){var p=f[d],u=t._makeStorageReference(new ri(e,p.name));r.items.push(u)}return r}function dte(t,e,n){var r=PT(n);if(r===null)return null;var i=r;return cte(t,e,i)}var zo=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();function oo(t){if(!t)throw IT()}function Vg(t,e){function n(r,i){var o=_B(t,i,e);return oo(o!==null),o}return n}function fte(t,e){function n(r,i){var o=dte(t,e,i);return oo(o!==null),o}return n}function hte(t,e){function n(r,i){var o=_B(t,i,e);return oo(o!==null),ute(o,i,t.host)}return n}function Uc(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=Iee():i=Cee():n.getStatus()===402?i=Tee(t.bucket):n.getStatus()===403?i=Ree(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function jg(t){var e=Uc(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=xee(t.path)),o.serverResponse=i.serverResponse,o}return n}function SB(t,e,n){var r=e.fullServerUrl(),i=Gs(r,t.host),o="GET",a=t.maxOperationRetryTime,l=new zo(i,o,Vg(t,n),a);return l.errorHandler=jg(e),l}function pte(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),l=Gs(a,t.host),u="GET",d=t.maxOperationRetryTime,f=new zo(l,u,fte(t,e.bucket),d);return f.urlParams=o,f.errorHandler=Uc(e),f}function mte(t,e,n){var r=e.fullServerUrl(),i=Gs(r,t.host),o="GET",a=t.maxOperationRetryTime,l=new zo(i,o,hte(t,n),a);return l.errorHandler=jg(e),l}function vte(t,e,n,r){var i=e.fullServerUrl(),o=Gs(i,t.host),a="PATCH",l=OT(n,r),u={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,f=new zo(o,a,Vg(t,r),d);return f.headers=u,f.body=l,f.errorHandler=jg(e),f}function gte(t,e){var n=e.fullServerUrl(),r=Gs(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(u,d){}var l=new zo(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=jg(e),l}function yte(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xB(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yte(null,e)),r}function bte(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var R="",A=0;A<2;A++)R=R+Math.random().toString().slice(2);return R}var u=l();a["Content-Type"]="multipart/related; boundary="+u;var d=xB(e,r,i),f=OT(d,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+u+"--",g=NT.getBlob(p,r,m);if(g===null)throw cB();var y={name:d.fullPath},_=Gs(o,t.host),w="POST",S=t.maxUploadRetryTime,C=new zo(_,w,Vg(t,n),S);return C.urlParams=y,C.headers=a,C.body=g.uploadData(),C.errorHandler=Uc(e),C}var qg=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function MT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){oo(!1)}var r=e||["active"];return oo(!!n&&r.indexOf(n)!==-1),n}function _te(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=xB(e,r,i),l={name:a.fullPath},u=Gs(o,t.host),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=OT(a,n),m=t.maxUploadRetryTime;function g(_){MT(_);var w;try{w=_.getResponseHeader("X-Goog-Upload-URL")}catch(S){oo(!1)}return oo(Fg(w)),w}var y=new zo(u,d,g,m);return y.urlParams=l,y.headers=f,y.body=p,y.errorHandler=Uc(e),y}function wte(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(d){var f=MT(d,["active","final"]),p=null;try{p=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch(g){oo(!1)}p||oo(!1);var m=Number(p);return oo(!isNaN(m)),new qg(m,r.size(),f==="final")}var a="POST",l=t.maxUploadRetryTime,u=new zo(n,a,o,l);return u.headers=i,u.errorHandler=Uc(e),u}var TB=256*1024;function Ete(t,e,n,r,i,o,a,l){var u=new qg(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw Pee();var d=u.total-u.current,f=d;i>0&&(f=Math.min(f,i));var p=u.current,m=p+f,g=f===d?"upload, finalize":"upload",y={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":u.current},_=r.slice(p,m);if(_===null)throw cB();function w(A,L){var M=MT(A,["active","final"]),W=u.current+f,K=r.size(),q;return M==="final"?q=Vg(e,o)(A,L):q=null,new qg(W,K,M==="final",q)}var S="POST",C=e.maxUploadRetryTime,R=new zo(n,S,w,C);return R.headers=y,R.body=_.uploadData(),R.progressCallback=l||null,R.errorHandler=Uc(t),R}var Ste=function(){function t(e,n,r){var i=Gee(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();function Bc(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var CB=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Hg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=_te(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=wte(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(l){l=l,e._request=void 0,e._updateProgress(l.current),e._needToFetchStatus=!1,l.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=TB*this._chunkMultiplier,r=new qg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var l;try{l=Ete(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(d){e._error=d,e._transition("error");return}var u=e._ref.storage._makeRequest(l,o,a);e._request=u,u.getPromise().then(function(d){e._increaseMultiplier(),e._request=void 0,e._updateProgress(d.current),d.finalized?(e._metadata=d.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=TB*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=SB(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=bte(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=uB(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=kT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new Ste(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(kT(this._state)){case Gn.SUCCESS:Bc(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:var n=this._reject;Bc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=kT(this._state);switch(n){case Gn.RUNNING:case Gn.PAUSED:e.next&&Bc(e.next.bind(e,this.snapshot))();break;case Gn.SUCCESS:e.complete&&Bc(e.complete.bind(e))();break;case Gn.CANCELED:case Gn.ERROR:e.error&&Bc(e.error.bind(e,this._error))();break;default:e.error&&Bc(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();var Wg=function(){function t(e,n){this._service=e,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new ri(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return bB(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=rte(this._location.path);if(e===null)return null;var n=new ri(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw fB(e)},t}();function xte(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new CB(t,new NT(e),n)}function Tte(t){var e={prefixes:[],items:[]};return IB(t,e).then(function(){return e})}function IB(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,RB(t,r)];case 1:return i=l.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,IB(t,e,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function RB(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&DT("options.maxResults",1,1e3,e.maxResults),n=e||{},r=pte(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Cte(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=SB(t.storage,t._location,Hg()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function Ite(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=vte(t.storage,t._location,e,Hg()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Rte(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=mte(t.storage,t._location,Hg()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Oee();return r})]}})})}function kte(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=gte(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function kB(t,e){var n=ite(t._location.path,e),r=new ri(t._location.bucket,n);return new Wg(t.storage,r)}function LT(t){return/^[A-Za-z]+:\/\//.test(t)}function Ate(t,e){return new Wg(t,e)}function AB(t,e){if(t instanceof zg){var n=t;if(n._bucket==null)throw Nee();var r=new Wg(n,n._bucket);return e!=null?AB(r,e):r}else if(e!==void 0){if(e.includes(".."))throw xl('`path` param cannot contain ".."');return kB(t,e)}else return t}function Dte(t,e){if(e&&LT(e)){if(t instanceof zg)return Ate(t,e);throw xl("To use ref(service, url), the first argument must be a Storage instance.")}else return AB(t,e)}function DB(t,e){var n=e==null?void 0:e[lB];return n==null?null:ri.makeFromBucketSpec(n,t)}function Nte(t,e,n){t.host="http://"+e+":"+n}var zg=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=aB,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Eee,this._maxUploadRetryTime=See,this._requests=new Set,o!=null?this._bucket=ri.makeFromBucketSpec(o,this._host):this._bucket=DB(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,e):this._bucket=DB(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){DT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){DT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new Wg(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new jee(dB());var o=Zee(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();function Pte(t,e,n){return t=ve(t),xte(t,e,n)}function Ote(t){return t=ve(t),Cte(t)}function Mte(t,e){return t=ve(t),Ite(t,e)}function Lte(t,e){return t=ve(t),RB(t,e)}function Fte(t){return t=ve(t),Tte(t)}function Ute(t){return t=ve(t),Rte(t)}function Bte(t){return t=ve(t),kte(t)}function NB(t,e){return t=ve(t),Dte(t,e)}function Hte(t,e){return kB(t,e)}var Gg=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();var PB=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Gg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new Gg(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Gg(l,o,o._ref))}:a={next:n.next?function(l){return n.next(new Gg(l,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),OB=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Mh(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Mh(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();var Mh=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Hte(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new PB(Pte(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=ni.RAW),this._throwIfRoot("putString");var i=hB(n,e),o=I({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new PB(new CB(this._delegate,new NT(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return Fte(this._delegate).then(function(n){return new OB(n,e.storage)})},t.prototype.list=function(e){var n=this;return Lte(this._delegate,e||void 0).then(function(r){return new OB(r,n.storage)})},t.prototype.getMetadata=function(){return Ote(this._delegate)},t.prototype.updateMetadata=function(e){return Mte(this._delegate,e)},t.prototype.getDownloadURL=function(){return Ute(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Bte(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw fB(e)},t}();var Vte=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(LT(e))throw xl("ref() expected a child path but got a URL, use refFromURL instead.");return new Mh(NB(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!LT(e))throw xl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ri.makeFromUrl(e,this._delegate.host)}catch(n){throw xl("refFromUrl() expected a valid full URL but got an invalid one.")}return new Mh(NB(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n){Nte(this._delegate,e,n)},t}(),jte="@firebase/storage",qte="0.5.2";var Wte="storage";function zte(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new Vte(r,new zg(r,i,o,new Vee,n,J.SDK_VERSION));return a}function Gte(t){var e={TaskState:Gn,TaskEvent:Bee,StringFormat:ni,Storage:zg,Reference:Mh};t.INTERNAL.registerComponent(new tt(Wte,zte,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(jte,qte)}Gte(J);ar();le();sr();var Kg=Gr(Ki());Yr();var Kte="@firebase/performance",MB="0.4.12";var LB=MB,Yte="FB-PERF-TRACE-START",Xte="FB-PERF-TRACE-STOP",FT="FB-PERF-TRACE-MEASURE",FB="_wt_",UB="_fp",BB="_fcp",HB="_fid",VB="@firebase/performance/config",jB="@firebase/performance/configexpire",$te="performance",qB="Performance";var vn,Qte=(vn={},vn["trace started"]="Trace {$traceName} was started before.",vn["trace stopped"]="Trace {$traceName} is not running.",vn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",vn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",vn["no window"]="Window is not available.",vn["no app id"]="App id is not available.",vn["no project id"]="Project id is not available.",vn["no api key"]="Api key is not available.",vn["invalid cc log"]="Attempted to queue invalid cc event",vn["FB not default"]="Performance can only start when Firebase app instance is the default one.",vn["RC response not ok"]="RC response is not ok",vn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",vn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",vn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",vn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",vn),Rn=new Ln($te,qB,Qte);var Go=new Kg.Logger(qB);Go.logLevel=Kg.LogLevel.INFO;var UT,WB,kn=function(){function t(e){if(this.window=e,!e)throw Rn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Go.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Pu()?!0:(Go.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var l=a[o];n(l)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return UT===void 0&&(UT=new t(WB)),UT},t}();function Jte(t){WB=t}function zB(t,e){var n=t.length-e.length;if(n<0||n>1)throw Rn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var BT,$t=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=zB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=zB("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Rn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Rn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Rn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return BT===void 0&&(BT=new t),BT},t}();var GB;function Zte(){var t=$t.getInstance().installationsService.getId();return t.then(function(e){GB=e}),t}function HT(){return GB}function ene(){var t=$t.getInstance().installationsService.getToken();return t.then(function(e){}),t}var Hc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Hc||(Hc={}));var tne=["firebase_","google_","ga_"],nne=new RegExp("^[a-zA-Z]\\w*$"),rne=40,ine=100;function one(){var t=kn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function KB(){var t=kn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Hc.VISIBLE;case"hidden":return Hc.HIDDEN;default:return Hc.UNKNOWN}}function sne(){var t=kn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function ane(t){if(t.length===0||t.length>rne)return!1;var e=tne.some(function(n){return t.startsWith(n)});return!e&&!!t.match(nne)}function lne(t){return t.length!==0&&t.length<=ine}var une="0.0.1",cne={loggingEnabled:!0},dne="FIREBASE_INSTALLATIONS_AUTH";function fne(t){var e=hne();return e?(YB(e),Promise.resolve()):vne(t).then(YB).then(function(n){return pne(n)},function(){})}function hne(){var t=kn.getInstance().localStorage;if(!!t){var e=t.getItem(jB);if(!(!e||!gne(e))){var n=t.getItem(VB);if(!!n)try{var r=JSON.parse(n);return r}catch(i){return}}}}function pne(t){var e=kn.getInstance().localStorage;!t||!e||(e.setItem(VB,JSON.stringify(t)),e.setItem(jB,String(Date.now()+$t.getInstance().configTimeToLive*60*60*1e3)))}var mne="Could not fetch config, will use default configs";function vne(t){return ene().then(function(e){var n=$t.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+$t.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:dne+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:$t.getInstance().getAppId(),app_version:LB,sdk_version:une})});return fetch(i).then(function(o){if(o.ok)return o.json();throw Rn.create("RC response not ok")})}).catch(function(){Go.info(mne)})}function YB(t){if(!t)return t;var e=$t.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=cne.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=XB(e.tracesSamplingRate),e.logNetworkAfterSampling=XB(e.networkRequestsSamplingRate),t}function gne(t){return Number(t)>Date.now()}function XB(t){return Math.random()<=t}var VT=1,jT;function $B(){return VT=2,jT=jT||bne(),jT}function yne(){return VT===3}function bne(){return _ne().then(function(){return Zte()}).then(function(t){return fne(t)}).then(function(){return QB()},function(){return QB()})}function _ne(){var t=kn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function QB(){VT=3}var qT=10*1e3,wne=5.5*1e3,JB=3,Ene=1e3,Yg=JB,Ks=[],ZB=!1;function Sne(){ZB||(Xg(wne),ZB=!0)}function Xg(t){setTimeout(function(){if(Yg!==0){if(!Ks.length)return Xg(qT);xne()}},t)}function xne(){var t=Ks.splice(0,Ene),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:$t.getInstance().logSource,log_event:e};Tne(n,t).catch(function(){Ks=me(me([],t),Ks),Yg--,Go.info("Tries left: "+Yg+"."),Xg(qT)})}function Tne(t,e){return Cne(t).then(function(n){return n.ok||Go.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=qT;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(Ks=me(me([],e),Ks),Go.info("Retry transport request later.")),Yg=JB,Xg(i)})}function Cne(t){var e=$t.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Ine(t){if(!t.eventTime||!t.message)throw Rn.create("invalid cc log");Ks=me(me([],Ks),[t])}function Rne(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Ine({message:r,eventTime:Date.now()})}}var WT;function eH(t,e){WT||(WT=Rne(Ane)),WT(t,e)}function $g(t){var e=$t.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!kn.getInstance().requiredApisAvailable()||t.isAuto&&KB()!==Hc.VISIBLE||(yne()?zT(t):$B().then(function(){return zT(t)},function(){return zT(t)}))}function zT(t){if(!!HT()){var e=$t.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return eH(t,1)},0)}}function kne(t){var e=$t.getInstance();if(!!e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return eH(t,0)},0)}}function Ane(t,e){return e===0?Dne(t):Nne(t)}function Dne(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:tH(),network_request_metric:e};return JSON.stringify(n)}function Nne(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:tH(),trace_metric:e};return JSON.stringify(r)}function tH(){return{google_app_id:$t.getInstance().getAppId(),app_instance_id:HT(),web_app_info:{sdk_version:LB,page_url:kn.getInstance().getUrl(),service_worker_status:one(),visibility_state:KB(),effective_connection_type:sne()},application_process_state:0}}var Pne=100,One="_",Mne=[UB,BB,HB];function Lne(t,e){return t.length===0||t.length>Pne?!1:e&&e.startsWith(FB)&&Mne.indexOf(t)>-1||!t.startsWith(One)}function Fne(t){var e=Math.floor(t);return e<t&&Go.info("Metric value should be an Integer, setting the value as : "+e+"."),e}var Lh=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=kn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Yte+"-"+this.randomId+"-"+this.name,this.traceStopMark=Xte+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||FT+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw Rn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw Rn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$g(this)},t.prototype.record=function(e,n,r){if(e<=0)throw Rn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Rn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=I({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}$g(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(Lne(e,this.name))this.counters[e]=Fne(n);else throw Rn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=ane(e),i=lne(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw Rn.create("invalid attribute name",{attributeName:e});if(!i)throw Rn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return I({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=kn.getInstance().getUrl();if(!!i){var o=new t(FB+i,!0),a=Math.floor(kn.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var l="first-paint",u="first-contentful-paint";if(n){var d=n.find(function(p){return p.name===l});d&&d.startTime&&o.putMetric(UB,Math.floor(d.startTime*1e3));var f=n.find(function(p){return p.name===u});f&&f.startTime&&o.putMetric(BB,Math.floor(f.startTime*1e3)),r&&o.putMetric(HB,Math.floor(r*1e3))}$g(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);$g(n)},t}();function nH(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=kn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],l={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};kne(l)}}var Une=5e3;function rH(){!HT()||(setTimeout(function(){return Hne()},0),setTimeout(function(){return Bne()},0),setTimeout(function(){return Vne()},0))}function Bne(){for(var t=kn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];nH(i)}t.setupObserver("resource",nH)}function Hne(){var t=kn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Lh.createOobTrace(e,n),r=void 0},Une);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),Lh.createOobTrace(e,n,i))})}else Lh.createOobTrace(e,n)}function Vne(){for(var t=kn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];iH(i)}t.setupObserver("measure",iH)}function iH(t){var e=t.name;e.substring(0,FT.length)!==FT&&Lh.createUserTimingTrace(e)}var jne=function(){function t(e){this.app=e,kn.getInstance().requiredApisAvailable()&&Ou().then(function(n){n&&(Sne(),$B().then(rH,rH))}).catch(function(n){Go.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new Lh(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return $t.getInstance().instrumentationEnabled},set:function(e){$t.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return $t.getInstance().dataCollectionEnabled},set:function(e){$t.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();var qne="[DEFAULT]";function Wne(t){var e=function(n,r){if(n.name!==qne)throw Rn.create("FB not default");if(typeof window=="undefined")throw Rn.create("no window");return Jte(window),$t.getInstance().firebaseAppInstance=n,$t.getInstance().installationsService=r,new jne(n)};t.INTERNAL.registerComponent(new tt("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(Kte,MB)}Wne(J);le();ar();var oH=Gr(Ki());sr();Yr();var zne="firebase_id",Gne="origin",Kne=60*1e3,Yne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sH="https://www.googletagmanager.com/gtag/js",An;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(An||(An={}));var GT;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(GT||(GT={}));function Xne(t,e,n,r,i){return N(this,void 0,void 0,function(){var o,a;return D(this,function(l){switch(l.label){case 0:return i&&i.global?(t(An.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=l.sent(),a=I(I({},r),{send_to:o}),t(An.EVENT,n,a),l.label=3;case 3:return[2]}})})}function $ne(t,e,n,r){return N(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return r&&r.global?(t(An.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(An.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function Qne(t,e,n,r){return N(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return r&&r.global?(t(An.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(An.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function Jne(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)l=a[o],i["user_properties."+l]=n[l];return t(An.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=d.sent(),t(An.CONFIG,u,{update:!0,user_properties:n}),d.label=3;case 3:return[2]}})})}function Zne(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}var gn=new oH.Logger("@firebase/analytics");function ere(t,e){var n=document.createElement("script");n.src=sH+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function tre(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function nre(t,e,n,r,i,o){return N(this,void 0,void 0,function(){var a,l,u,d;return D(this,function(f){switch(f.label){case 0:a=r[i],f.label=1;case 1:return f.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return f.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=f.sent(),u=l.find(function(p){return p.measurementId===i}),u?[4,e[u.appId]]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return d=f.sent(),gn.error(d),[3,8];case 8:return t(An.CONFIG,i,o),[2]}})})}function rre(t,e,n,r,i){return N(this,void 0,void 0,function(){var o,a,l,u,d,f,p,m,g;return D(this,function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=y.sent(),u=function(_){var w=l.find(function(C){return C.measurementId===_}),S=w&&e[w.appId];if(S)o.push(S);else return o=[],"break"},d=0,f=a;d<f.length&&(p=f[d],m=u(p),m!=="break");d++);y.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return y.sent(),t(An.EVENT,r,i||{}),[3,5];case 4:return g=y.sent(),gn.error(g),[3,5];case 5:return[2]}})})}function ire(t,e,n,r){function i(o,a,l){return N(this,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),o!==An.EVENT?[3,2]:[4,rre(t,e,n,a,l)];case 1:return d.sent(),[3,5];case 2:return o!==An.CONFIG?[3,4]:[4,nre(t,e,n,r,a,l)];case 3:return d.sent(),[3,5];case 4:t(An.SET,a),d.label=5;case 5:return[3,7];case 6:return u=d.sent(),gn.error(u),[3,7];case 7:return[2]}})})}return i}function ore(t,e,n,r,i){var o=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=ire(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function sre(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(sH))return r}return null}var Ai,are=(Ai={},Ai["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ai["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ai["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ai["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ai["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ai["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ai["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ai["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ai["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ai),ii=new Ln("analytics","Analytics",are);var lre=30,ure=1e3,cre=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=ure),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),aH=new cre;function dre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function fre(t){var e;return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:dre(r)},o=Yne.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=f.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.json()];case 3:return u=f.sent(),((e=u.error)===null||e===void 0?void 0:e.message)&&(l=u.error.message),[3,5];case 4:return d=f.sent(),[3,5];case 5:throw ii.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function hre(t,e,n){return e===void 0&&(e=aH),N(this,void 0,void 0,function(){var r,i,o,a,l,u,d=this;return D(this,function(f){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw ii.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw ii.create("no-api-key")}return l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new vre,setTimeout(function(){return N(d,void 0,void 0,function(){return D(this,function(p){return u.abort(),[2]})})},n!==void 0?n:Kne),[2,lH({appId:i,apiKey:o,measurementId:a},l,u,e)]})})}function lH(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=aH),N(this,void 0,void 0,function(){var a,l,u,d,f,p,m;return D(this,function(g){switch(g.label){case 0:a=t.appId,l=t.measurementId,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,pre(n,i)];case 2:return g.sent(),[3,4];case 3:if(u=g.sent(),l)return gn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]")),[2,{appId:a,measurementId:l}];throw u;case 4:return g.trys.push([4,6,,7]),[4,fre(t)];case 5:return d=g.sent(),r.deleteThrottleMetadata(a),[2,d];case 6:if(f=g.sent(),!mre(f)){if(r.deleteThrottleMetadata(a),l)return gn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:a,measurementId:l}];throw f}return p=Number(f.customData.httpStatus)===503?Fu(o,r.intervalMillis,lre):Fu(o,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},r.setThrottleMetadata(a,m),gn.debug("Calling attemptFetch again in "+p+" millis"),[2,lH(t,m,n,r)];case 7:return[2]}})})}function pre(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mre(t){if(!(t instanceof Ei)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var vre=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();function gre(){return N(this,void 0,void 0,function(){var t;return D(this,function(e){switch(e.label){case 0:return Pu()?[3,1]:(gn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Ou()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),gn.warn(ii.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function yre(t,e,n,r,i,o){return N(this,void 0,void 0,function(){var a,l,u,d,f,p,m;return D(this,function(g){switch(g.label){case 0:return a=hre(t),a.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&gn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return gn.error(y)}),e.push(a),l=gre().then(function(y){if(y)return r.getId()}),[4,Promise.all([a,l])];case 1:return u=g.sent(),d=u[0],f=u[1],sre()||ere(o,d.measurementId),i("js",new Date),p=(m={},m[Gne]="firebase",m.update=!0,m),f!=null&&(p[zne]=f),i(An.CONFIG,d.measurementId,p),[2,d.measurementId]}})})}var Ko={},uH=[],cH={},Qg="dataLayer",dH="gtag",fH,Fh,KT=!1;function bre(t){if(KT)throw ii.create("already-initialized");t.dataLayerName&&(Qg=t.dataLayerName),t.gtagName&&(dH=t.gtagName)}function _re(){var t=[];if(Nu()&&t.push("This is a browser extension environment."),Lm()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=ii.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function wre(t,e){_re();var n=t.options.appId;if(!n)throw ii.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw ii.create("no-api-key");if(Ko[n]!=null)throw ii.create("already-exists",{id:n});if(!KT){tre(Qg);var r=ore(Ko,uH,cH,Qg,dH),i=r.wrappedGtag,o=r.gtagCore;Fh=i,fH=o,KT=!0}Ko[n]=yre(t,uH,cH,e,fH,Qg);var a={app:t,logEvent:function(l,u,d){Xne(Fh,Ko[n],l,u,d).catch(function(f){return gn.error(f)})},setCurrentScreen:function(l,u){$ne(Fh,Ko[n],l,u).catch(function(d){return gn.error(d)})},setUserId:function(l,u){Qne(Fh,Ko[n],l,u).catch(function(d){return gn.error(d)})},setUserProperties:function(l,u){Jne(Fh,Ko[n],l,u).catch(function(d){return gn.error(d)})},setAnalyticsCollectionEnabled:function(l){Zne(Ko[n],l).catch(function(u){return gn.error(u)})},INTERNAL:{delete:function(){return delete Ko[n],Promise.resolve()}}};return a}var Ere="@firebase/analytics",Sre="0.6.10",hH="analytics";function xre(t){t.INTERNAL.registerComponent(new tt(hH,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return wre(r,i)},"PUBLIC").setServiceProps({settings:bre,EventName:GT,isSupported:Tre})),t.INTERNAL.registerComponent(new tt("analytics-internal",e,"PRIVATE")),t.registerVersion(Ere,Sre);function e(n){try{var r=n.getProvider(hH).getImmediate();return{logEvent:r.logEvent}}catch(i){throw ii.create("interop-component-reg-failed",{reason:i})}}}xre(J);function Tre(){return N(this,void 0,void 0,function(){var t,e;return D(this,function(n){switch(n.label){case 0:if(Nu())return[2,!1];if(!Lm())return[2,!1];if(!Pu())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ou()];case 2:return t=n.sent(),[2,t];case 3:return e=n.sent(),[2,!1];case 4:return[2]}})})}ar();le();sr();var Cl=Gr(Ki());Yr();var Cre=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return l.sent(),[2,o]}})})},t}();var Yn,Ire=(Yn={},Yn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Yn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Yn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Yn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Yn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Yn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Yn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Yn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Yn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Yn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Yn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Yn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Yn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Yn),oi=new Ln("remoteconfig","Remote Config",Ire);function Rre(t,e){return t instanceof Ei&&t.code.indexOf(e)!==-1}function kre(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}var Are=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d,f,p,m,g,y,_,w,S,C,R,A;return D(this,function(L){switch(L.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=L.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:kre()},d={method:"POST",headers:l,body:JSON.stringify(u)},f=fetch(a,d),p=new Promise(function(M,W){e.signal.addEventListener(function(){var K=new Error("The operation was aborted.");K.name="AbortError",W(K)})}),L.label=2;case 2:return L.trys.push([2,5,,6]),[4,Promise.race([f,p])];case 3:return L.sent(),[4,f];case 4:return m=L.sent(),[3,6];case 5:throw g=L.sent(),y="fetch-client-network",g.name==="AbortError"&&(y="fetch-timeout"),oi.create(y,{originalErrorMessage:g.message});case 6:if(_=m.status,w=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];R=void 0,L.label=7;case 7:return L.trys.push([7,9,,10]),[4,m.json()];case 8:return R=L.sent(),[3,10];case 9:throw A=L.sent(),oi.create("fetch-client-parse",{originalErrorMessage:A.message});case 10:S=R.entries,C=R.state,L.label=11;case 11:if(C==="INSTANCE_STATE_UNSPECIFIED"?_=500:C==="NO_CHANGE"?_=304:(C==="NO_TEMPLATE"||C==="EMPTY_CONFIG")&&(S={}),_!==304&&_!==200)throw oi.create("fetch-status",{httpStatus:_});return[2,{status:_,eTag:w,config:S}]}})})},t}();var Dre=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var Nre=!1,Pre="",pH=0,Ore=["1","true","t","yes","y","on"],YT=function(){function t(e,n){n===void 0&&(n=Pre),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Nre:Ore.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return pH;var e=Number(this._value);return isNaN(e)&&(e=pH),e},t.prototype.getSource=function(){return this._source},t}();var Mre=60*1e3,Lre=12*60*60*1e3,Fre=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Mre,minimumFetchIntervalMillis:Lre},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Cl.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Cl.LogLevel.SILENT;break;default:this._logger.logLevel=Cl.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return N(this,void 0,void 0,function(){var e,n,r,i=this;return D(this,function(o){switch(o.label){case 0:e=new Dre,setTimeout(function(){return N(i,void 0,void 0,function(){return D(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=Rre(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return Ure(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new YT("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new YT("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new YT("static"))},t}();function Ure(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(I(I({},t),e))}function Jg(t,e){var n=t.target.error||void 0;return oi.create(e,{originalErrorMessage:n&&n.message})}var Il="app_namespace_store",Bre="firebase_remote_config",Hre=1;function Vre(){return new Promise(function(t,e){var n=indexedDB.open(Bre,Hre);n.onerror=function(r){e(Jg(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Il,{keyPath:"compositeKey"})}}})}var jre=function(){function t(e,n,r,i){i===void 0&&(i=Vre()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var l=n.transaction([Il],"readonly"),u=l.objectStore(Il),d=r.createCompositeKey(e);try{var f=u.get(d);f.onerror=function(p){a(Jg(p,"storage-get"))},f.onsuccess=function(p){var m=p.target.result;o(m?m.value:void 0)}}catch(p){a(oi.create("storage-get",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.set=function(e,n){return N(this,void 0,void 0,function(){var r,i=this;return D(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,l){var u=r.transaction([Il],"readwrite"),d=u.objectStore(Il),f=i.createCompositeKey(e);try{var p=d.put({compositeKey:f,value:n});p.onerror=function(m){l(Jg(m,"storage-set"))},p.onsuccess=function(){a()}}catch(m){l(oi.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},t.prototype.delete=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var l=n.transaction([Il],"readwrite"),u=l.objectStore(Il),d=r.createCompositeKey(e);try{var f=u.delete(d);f.onerror=function(p){a(Jg(p,"storage-delete"))},f.onsuccess=function(){o()}}catch(p){a(oi.create("storage-delete",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();var qre=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=l.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function Wre(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(oi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zre(t){if(!(t instanceof Ei)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Gre=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var o,a,l;return D(this,function(u){switch(u.label){case 0:return[4,Wre(e.signal,r)];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=u.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return u.sent(),[2,o];case 5:if(a=u.sent(),!zre(a))throw a;return l={throttleEndTimeMillis:Date.now()+Fu(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return u.sent(),[2,this.attemptFetch(e,l)];case 7:return[2]}})})},t}(),mH="@firebase/remote-config",Kre="0.1.37";function Yre(t){t.INTERNAL.registerComponent(new tt("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(mH,Kre);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw oi.create("registration-window");var l=o.options,u=l.projectId,d=l.apiKey,f=l.appId;if(!u)throw oi.create("registration-project-id");if(!d)throw oi.create("registration-api-key");if(!f)throw oi.create("registration-app-id");i=i||"firebase";var p=new jre(f,o.name,i),m=new qre(p),g=new Cl.Logger(mH);g.logLevel=Cl.LogLevel.ERROR;var y=new Are(a,t.SDK_VERSION,i,u,d,f),_=new Gre(y,p),w=new Cre(_,p,m,g),S=new Fre(o,w,m,p,g);return S.ensureInitialized(),S}}Yre(J);"use strict";var Xre=(ar(),XP),vH=(Yr(),zP),Ee=Dw(),so=(sr(),WP),$re=Ki();function Qre(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Jre=Qre(Xre);var Di,Zre=(Di={},Di["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Di["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Di["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Di["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Di["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Di["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Di["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Di["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Di["recaptcha-error"]="ReCAPTCHA error.",Di),Ni=new so.ErrorFactory("appCheck","AppCheck",Zre);var gH=new Map,eie={activated:!1,tokenListeners:[]},tie={enabled:!1};function Pr(t){return gH.get(t)||eie}function Ys(t,e){gH.set(t,e)}function Zg(){return tie}function yH(){return self.grecaptcha}function bH(t){if(!Pr(t).activated)throw Ni.create("use-before-activation",{appName:t.name})}function nie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}var rie="https://www.google.com/recaptcha/api.js";function iie(t,e){var n=Pr(t),r=new so.Deferred;Ys(t,Ee.__assign(Ee.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=yH();return a?a.ready(function(){_H(t,e,a,i),r.resolve(a)}):sie(function(){var l=yH();if(!l)throw new Error("no recaptcha");l.ready(function(){_H(t,e,l,i),r.resolve(l)})}),r.promise}function oie(t){return Ee.__awaiter(this,void 0,void 0,function(){var e,n;return Ee.__generator(this,function(r){switch(r.label){case 0:return bH(t),e=Pr(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Pr(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function _H(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Pr(t);Ys(t,Ee.__assign(Ee.__assign({},o),{reCAPTCHAState:Ee.__assign(Ee.__assign({},o.reCAPTCHAState),{widgetId:i})}))}function sie(t){var e=document.createElement("script");e.src=""+rie,e.onload=t,document.head.appendChild(e)}function aie(t,e,n){var r=Pr(t);if(r.activated)throw Ni.create("already-activated",{appName:t.name});var i=Ee.__assign(Ee.__assign({},r),{activated:!0});typeof e=="string"?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,Ys(t,i),i.siteKey&&iie(t,i.siteKey).catch(function(){})}function lie(t,e){var n=Pr(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Ys(t,Ee.__assign(Ee.__assign({},n),{isTokenAutoRefreshEnabled:e}))}var wH="https://content-firebaseappcheck.googleapis.com/v1beta",uie="exchangeRecaptchaToken",cie="exchangeDebugToken",EH={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};var die=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return Ee.__awaiter(this,void 0,void 0,function(){var n;return Ee.__generator(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new so.Deferred,[4,fie(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new so.Deferred,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function fie(t){return new Promise(function(e){setTimeout(e,t)})}function SH(t,e){var n=t.url,r=t.body;return Ee.__awaiter(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p,m,g;return Ee.__generator(this,function(y){switch(y.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=y.sent(),[3,4];case 3:throw u=y.sent(),Ni.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(l.status!==200)throw Ni.create("fetch-status-error",{httpStatus:l.status});y.label=5;case 5:return y.trys.push([5,7,,8]),[4,l.json()];case 6:return d=y.sent(),[3,8];case 7:throw f=y.sent(),Ni.create("fetch-parse-error",{originalErrorMessage:f.message});case 8:if(p=d.ttl.match(/^([\d.]+)(s)$/),!p||!p[2]||isNaN(Number(p[1])))throw Ni.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+d.ttl)});return m=Number(p[1])*1e3,g=Date.now(),[2,{token:d.attestationToken,expireTimeMillis:g+m,issuedAtTimeMillis:g}]}})})}function hie(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:wH+"/projects/"+r+"/apps/"+i+":"+uie+"?key="+o,body:{recaptcha_token:e}}}function pie(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:wH+"/projects/"+r+"/apps/"+i+":"+cie+"?key="+o,body:{debug_token:e}}}var mie="firebase-app-check-database",vie=1,Uh="firebase-app-check-store",xH="debug-token",ey=null;function TH(){return ey||(ey=new Promise(function(t,e){try{var n=indexedDB.open(mie,vie);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(Ni.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Uh,{keyPath:"compositeKey"})}}}catch(r){e(Ni.create("storage-open",{originalErrorMessage:r.message}))}}),ey)}function gie(t){return IH(RH(t))}function yie(t,e){return CH(RH(t),e)}function bie(t){return CH(xH,t)}function _ie(){return IH(xH)}function CH(t,e){return Ee.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return Ee.__generator(this,function(a){switch(a.label){case 0:return[4,TH()];case 1:return n=a.sent(),r=n.transaction(Uh,"readwrite"),i=r.objectStore(Uh),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(l,u){o.onsuccess=function(d){l()},r.onerror=function(d){var f;u(Ni.create("storage-set",{originalErrorMessage:(f=d.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function IH(t){return Ee.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return Ee.__generator(this,function(o){switch(o.label){case 0:return[4,TH()];case 1:return e=o.sent(),n=e.transaction(Uh,"readonly"),r=n.objectStore(Uh),i=r.get(t),[2,new Promise(function(a,l){i.onsuccess=function(u){var d=u.target.result;a(d?d.value:void 0)},n.onerror=function(u){var d;l(Ni.create("storage-get",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function RH(t){return t.options.appId+"-"+t.name}var ty=new $re.Logger("@firebase/app-check");function wie(t){return Ee.__awaiter(this,void 0,void 0,function(){var e,n;return Ee.__generator(this,function(r){switch(r.label){case 0:if(!so.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,gie(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),ty.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function Eie(t,e){return so.isIndexedDBAvailable()?yie(t,e).catch(function(n){ty.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Sie(){return Ee.__awaiter(this,void 0,void 0,function(){var t,e,n;return Ee.__generator(this,function(r){switch(r.label){case 0:t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,_ie()];case 2:return t=r.sent(),[3,4];case 3:return e=r.sent(),[3,4];case 4:return t?[2,t]:(n=nie(),bie(n).catch(function(i){return ty.warn("Failed to persist debug token to indexeddb. Error: "+i)}),console.log("AppCheck debug token: "+n+". You will need to whitelist it in the Firebase console for it to work"),[2,n])}})})}function kH(){var t=Zg();return t.enabled}function xie(){return Ee.__awaiter(this,void 0,void 0,function(){var t;return Ee.__generator(this,function(e){if(t=Zg(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Tie(){var t=so.getGlobal();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=Zg();e.enabled=!0;var n=new so.Deferred;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Sie())}}var Cie={error:"UNKNOWN_ERROR"};function Iie(t){return so.base64.encodeString(JSON.stringify(t),!1)}function XT(t,e,n){return n===void 0&&(n=!1),Ee.__awaiter(this,void 0,void 0,function(){var r,i,o,a,l,u,d,f,p,m,g,y,_,w;return Ee.__generator(this,function(S){switch(S.label){case 0:return bH(t),kH()?(i=SH,o=pie,a=[t],[4,xie()]):[3,3];case 1:return[4,i.apply(void 0,[o.apply(void 0,a.concat([S.sent()])),e])];case 2:return r=S.sent(),[2,{token:r.token}];case 3:return l=Pr(t),u=l.token,d=void 0,u?[3,5]:[4,wie(t)];case 4:f=S.sent(),f&&$T(f)&&(u=f,Ys(t,Ee.__assign(Ee.__assign({},l),{token:u})),AH(t,{token:u.token})),S.label=5;case 5:if(!n&&u&&$T(u))return[2,{token:u.token}];S.label=6;case 6:return S.trys.push([6,12,,13]),l.customProvider?[4,l.customProvider.getToken()]:[3,8];case 7:return p=S.sent(),m=so.issuedAtTime(p.token),g=m!==null&&m<Date.now()&&m>0?m*1e3:Date.now(),u=Ee.__assign(Ee.__assign({},p),{issuedAtTimeMillis:g}),[3,11];case 8:return[4,oie(t).catch(function(C){throw Ni.create("recaptcha-error")})];case 9:return y=S.sent(),[4,SH(hie(t,y),e)];case 10:u=S.sent(),S.label=11;case 11:return[3,13];case 12:return _=S.sent(),ty.error(_),d=_,[3,13];case 13:return u?[3,14]:(w=Die(d),[3,16]);case 14:return w={token:u.token},Ys(t,Ee.__assign(Ee.__assign({},l),{token:u})),[4,Eie(t,u)];case 15:S.sent(),S.label=16;case 16:return AH(t,w),[2,w]}})})}function Rie(t,e,n){var r=Pr(t),i=Ee.__assign(Ee.__assign({},r),{tokenListeners:Ee.__spreadArray(Ee.__spreadArray([],r.tokenListeners),[n])});if(kH()){var o=Zg();o.enabled&&o.token&&o.token.promise.then(function(u){return n({token:u})}).catch(function(){})}else{if(!i.tokenRefresher){var a=Aie(t,e);i.tokenRefresher=a}if(!i.tokenRefresher.isRunning()&&r.isTokenAutoRefreshEnabled===!0&&i.tokenRefresher.start(),r.token&&$T(r.token)){var l=r.token;Promise.resolve().then(function(){return n({token:l.token})}).catch(function(){})}}Ys(t,i)}function kie(t,e){var n=Pr(t),r=n.tokenListeners.filter(function(i){return i!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ys(t,Ee.__assign(Ee.__assign({},n),{tokenListeners:r}))}function Aie(t,e){var n=this;return new die(function(){return Ee.__awaiter(n,void 0,void 0,function(){var r,i;return Ee.__generator(this,function(o){switch(o.label){case 0:return r=Pr(t),r.token?[3,2]:[4,XT(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,XT(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Pr(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+5*60*1e3,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},EH.RETRIAL_MIN_WAIT,EH.RETRIAL_MAX_WAIT)}function AH(t,e){for(var n=Pr(t).tokenListeners,r=0,i=n;r<i.length;r++){var o=i[r];try{o(e)}catch(a){}}}function $T(t){return t.expireTimeMillis-Date.now()>0}function Die(t){return{token:Iie(Cie),error:t}}function Nie(t){return{activate:function(e,n){return aie(t,e,n)},setTokenAutoRefreshEnabled:function(e){return lie(t,e)}}}function Pie(t,e){return{getToken:function(n){return XT(t,e,n)},addTokenListener:function(n){return Rie(t,e,n)},removeTokenListener:function(n){return kie(t,n)}}}var Oie="@firebase/app-check",Mie="0.1.1";var Lie="appCheck",DH="app-check-internal";function Fie(t){t.INTERNAL.registerComponent(new vH.Component(Lie,function(e){var n=e.getProvider("app").getImmediate();return Nie(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(DH);i.initialize()})),t.INTERNAL.registerComponent(new vH.Component(DH,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return Pie(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(Oie,Mie)}Fie(Jre.default);Tie();var Uie="firebase",Bie="8.6.2";J.registerVersion(Uie,Bie,"app");var Hie="firebase",Vie="8.6.2";console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);J.registerVersion(Hie,Vie);var jie=t=>{let e=null;return{socket:t,setUserId:n=>{e=n},subscribeToServer:()=>{let n={secret:"QuickEvents_v1",userId:e};t.emit("subscribeToServer",n,r=>{r&&r.status==="ok"&&console.log("Connection to Server established.")})},getApiKey:n=>{let r={secret:"QuickEvents_v1",userId:e};t.emit("getApiKey",r,i=>{i&&i.status==="ok"?n(i.apiKey):console.log("failed to get ApiKey from server")})},getConfig:n=>{let r={secret:"QuickEvents_v1",userId:e};t.emit("getConfig",r,i=>{i&&i.status==="ok"?n(i.config):console.log("failed to get config")})},setFieldValue:(n,r,i,o)=>{let a={userId:e,collectionKey:n,docKey:r,fieldKey:i,fieldValue:o};t.emit("setFieldValue",a,l=>{})},removeDoc:(n,r)=>{let i={userId:e,collectionKey:n,docKey:r};t.emit("removeDoc",i,o=>{})},createDoc:(n,r,i)=>{let o={userId:e,collectionKey:n,doc:r};t.emit("createDoc",o,a=>{i(a.id)})}}},NH=jie;var jh=Gr(XV()),eye=jh.default.Manager,tye=jh.default.Socket;var $V=Tt`
  :host {
    position: absolute;
    left:0; right:0;
    top:0; bottom:0;
    display: flex;
    flex-direction: column;
    background-color: #303030;
  }
  ::slotted(*) {
    position: fixed;
    top: 0; bottom: 0;
    left: 0; right: 0;
  }
`;var Xc=class extends ze{constructor(){super(...arguments);this.pageOutput=ce``}render(){return ce`
      <slot name="header-bar"></slot>
      <slot name="content"></slot>
    `}};Xc.styles=$V,Z([pe({type:String})],Xc.prototype,"page",2),Z([pe({attribute:!1})],Xc.prototype,"pageOutput",2),Xc=Z([st("page-display")],Xc);var QV=Tt`
  :host {
    display: flex;
    flex: auto;
    flex-direction: row;
  }
  #content-display-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    background-color: #d7d7d7;
    padding: 20px;
    margin: 0 auto 0 auto;
  }
  #content-display-render {
    width: 100%;
  }
`;var JV=Tt`
  :host {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100px;
    max-height: 6vh;
    background-color: #6200ee;
    text-align: center;
    color: #000000;
  }
  h1 {
    font-size: 2em;
    padding: 5px;
    margin: auto;
  }
  #header-accent {
    height: .5em;
    background-color: #000051;
    width: 100%;
  }
`;var Dl=class extends ze{constructor(){super(...arguments);this.showMenuToggle=!0;this.showAccent=!1}render(){return ce`
    ${this.showAccent?ce`<div id="header-accent"></div>`:ce``}
    <div id="menu-toggle"></div>
    <h1>${this.label}</h1>
    <slot name="content-right"></slot>
    `}};Dl.styles=JV,Z([pe({type:String})],Dl.prototype,"label",2),Z([pe({type:Boolean})],Dl.prototype,"showMenuToggle",2),Z([pe({type:Boolean})],Dl.prototype,"showAccent",2),Dl=Z([st("header-bar")],Dl);le();var TC=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0;var Nl=(t,e,n=null)=>{for(;e!==n;){let r=e.nextSibling;t.removeChild(e),e=r}};var ui=`{{lit-${String(Math.random()).slice(2)}}}`,CC=`<!--${ui}-->`,ZV=new RegExp(`${ui}|${CC}`),$c="$lit$",Qc=class{constructor(e,n){this.parts=[],this.element=n;let r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,l=-1,u=0,{strings:d,values:{length:f}}=e;for(;u<f;){let p=o.nextNode();if(p===null){o.currentNode=i.pop();continue}if(l++,p.nodeType===1){if(p.hasAttributes()){let m=p.attributes,{length:g}=m,y=0;for(let _=0;_<g;_++)ej(m[_].name,$c)&&y++;for(;y-- >0;){let _=d[u],w=by.exec(_)[2],S=w.toLowerCase()+$c,C=p.getAttribute(S);p.removeAttribute(S);let R=C.split(ZV);this.parts.push({type:"attribute",index:l,name:w,strings:R}),u+=R.length-1}}p.tagName==="TEMPLATE"&&(i.push(p),o.currentNode=p.content)}else if(p.nodeType===3){let m=p.data;if(m.indexOf(ui)>=0){let g=p.parentNode,y=m.split(ZV),_=y.length-1;for(let w=0;w<_;w++){let S,C=y[w];if(C==="")S=uo();else{let R=by.exec(C);R!==null&&ej(R[2],$c)&&(C=C.slice(0,R.index)+R[1]+R[2].slice(0,-$c.length)+R[3]),S=document.createTextNode(C)}g.insertBefore(S,p),this.parts.push({type:"node",index:++l})}y[_]===""?(g.insertBefore(uo(),p),r.push(p)):p.data=y[_],u+=_}}else if(p.nodeType===8)if(p.data===ui){let m=p.parentNode;(p.previousSibling===null||l===a)&&(l++,m.insertBefore(uo(),p)),a=l,this.parts.push({type:"node",index:l}),p.nextSibling===null?p.data="":(r.push(p),l--),u++}else{let m=-1;for(;(m=p.data.indexOf(ui,m+1))!==-1;)this.parts.push({type:"node",index:-1}),u++}}for(let p of r)p.parentNode.removeChild(p)}},ej=(t,e)=>{let n=t.length-e.length;return n>=0&&t.slice(n)===e},qh=t=>t.index!==-1,uo=()=>document.createComment(""),by=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var IC=133;function RC(t,e){let{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,IC,null,!1),o=Wh(r),a=r[o],l=-1,u=0,d=[],f=null;for(;i.nextNode();){l++;let p=i.currentNode;for(p.previousSibling===f&&(f=null),e.has(p)&&(d.push(p),f===null&&(f=p)),f!==null&&u++;a!==void 0&&a.index===l;)a.index=f!==null?-1:a.index-u,o=Wh(r,o),a=r[o]}d.forEach(p=>p.parentNode.removeChild(p))}var _se=t=>{let e=t.nodeType===11?0:1,n=document.createTreeWalker(t,IC,null,!1);for(;n.nextNode();)e++;return e},Wh=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){let r=t[n];if(qh(r))return n}return-1};function tj(t,e,n=null){let{element:{content:r},parts:i}=t;if(n==null){r.appendChild(e);return}let o=document.createTreeWalker(r,IC,null,!1),a=Wh(i),l=0,u=-1;for(;o.nextNode();)for(u++,o.currentNode===n&&(l=_se(e),n.parentNode.insertBefore(e,n));a!==-1&&i[a].index===u;){if(l>0){for(;a!==-1;)i[a].index+=l,a=Wh(i,a);return}a=Wh(i,a)}}var nj=new WeakMap,Lr=t=>(...e)=>{let n=t(...e);return nj.set(n,!0),n},Pl=t=>typeof t=="function"&&nj.has(t);var Fr={},_y={};var Ol=class{constructor(e,n,r){this.__parts=[],this.template=e,this.processor=n,this.options=r}update(e){let n=0;for(let r of this.__parts)r!==void 0&&r.setValue(e[n]),n++;for(let r of this.__parts)r!==void 0&&r.commit()}_clone(){let e=TC?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,l,u=i.nextNode();for(;o<r.length;){if(l=r[o],!qh(l)){this.__parts.push(void 0),o++;continue}for(;a<l.index;)a++,u.nodeName==="TEMPLATE"&&(n.push(u),i.currentNode=u.content),(u=i.nextNode())===null&&(i.currentNode=n.pop(),u=i.nextNode());if(l.type==="node"){let d=this.processor.handleTextExpression(this.options);d.insertAfterNode(u.previousSibling),this.__parts.push(d)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,l.name,l.strings,this.options));o++}return TC&&(document.adoptNode(e),customElements.upgrade(e)),e}};var rj=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),Ese=` ${ui} `,$s=class{constructor(e,n,r,i){this.strings=e,this.values=n,this.type=r,this.processor=i}getHTML(){let e=this.strings.length-1,n="",r=!1;for(let i=0;i<e;i++){let o=this.strings[i],a=o.lastIndexOf("<!--");r=(a>-1||r)&&o.indexOf("-->",a+1)===-1;let l=by.exec(o);l===null?n+=o+(r?Ese:CC):n+=o.substr(0,l.index)+l[1]+l[2]+$c+l[3]+ui}return n+=this.strings[e],n}getTemplateElement(){let e=document.createElement("template"),n=this.getHTML();return rj!==void 0&&(n=rj.createHTML(n)),e.innerHTML=n,e}};var wy=t=>t===null||!(typeof t=="object"||typeof t=="function"),Ey=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]),zh=class{constructor(e,n,r){this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(let i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new ci(this)}_getValue(){let e=this.strings,n=e.length-1,r=this.parts;if(n===1&&e[0]===""&&e[1]===""){let o=r[0].value;if(typeof o=="symbol")return String(o);if(typeof o=="string"||!Ey(o))return o}let i="";for(let o=0;o<n;o++){i+=e[o];let a=r[o];if(a!==void 0){let l=a.value;if(wy(l)||!Ey(l))i+=typeof l=="string"?l:String(l);else for(let u of l)i+=typeof u=="string"?u:String(u)}}return i+=e[n],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},ci=class{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==Fr&&(!wy(e)||e!==this.value)&&(this.value=e,Pl(e)||(this.committer.dirty=!0))}commit(){for(;Pl(this.value);){let e=this.value;this.value=Fr,e(this)}this.value!==Fr&&this.committer.commit()}},co=class{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(uo()),this.endNode=e.appendChild(uo())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=uo()),e.__insert(this.endNode=uo())}insertAfterPart(e){e.__insert(this.startNode=uo()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;Pl(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=Fr,n(this)}let e=this.__pendingValue;e!==Fr&&(wy(e)?e!==this.value&&this.__commitText(e):e instanceof $s?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):Ey(e)?this.__commitIterable(e):e===_y?(this.value=_y,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){let n=this.startNode.nextSibling;e=e??"";let r=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){let n=this.options.templateFactory(e);if(this.value instanceof Ol&&this.value.template===n)this.value.update(e.values);else{let r=new Ol(n,e.processor,this.options),i=r._clone();r.update(e.values),this.__commitNode(i),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());let n=this.value,r=0,i;for(let o of e)i=n[r],i===void 0&&(i=new co(this.options),n.push(i),r===0?i.appendIntoPart(this):i.insertAfterPart(n[r-1])),i.setValue(o),i.commit(),r++;r<n.length&&(n.length=r,this.clear(i&&i.endNode))}clear(e=this.startNode){Nl(this.startNode.parentNode,e.nextSibling,this.endNode)}},Jc=class{constructor(e,n,r){if(this.value=void 0,this.__pendingValue=void 0,r.length!==2||r[0]!==""||r[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;Pl(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=Fr,n(this)}if(this.__pendingValue===Fr)return;let e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=Fr}},Sy=class extends zh{constructor(e,n,r){super(e,n,r);this.single=r.length===2&&r[0]===""&&r[1]===""}_createPart(){return new Yo(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},Yo=class extends ci{},ij=!1;(()=>{try{let t={get capture(){return ij=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();var Zc=class{constructor(e,n,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=i=>this.handleEvent(i)}setValue(e){this.__pendingValue=e}commit(){for(;Pl(this.__pendingValue);){let o=this.__pendingValue;this.__pendingValue=Fr,o(this)}if(this.__pendingValue===Fr)return;let e=this.__pendingValue,n=this.value,r=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=e!=null&&(n==null||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Sse(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=Fr}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}},Sse=t=>t&&(ij?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function kC(t){let e=Ml.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},Ml.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;let r=t.strings.join(ui);return n=e.keyString.get(r),n===void 0&&(n=new Qc(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var Ml=new Map;var Qs=new WeakMap,AC=(t,e,n)=>{let r=Qs.get(e);r===void 0&&(Nl(e,e.firstChild),Qs.set(e,r=new co(Object.assign({templateFactory:kC},n))),r.appendInto(e)),r.setValue(t),r.commit()};var DC=class{handleAttributeExpressions(e,n,r,i){let o=n[0];return o==="."?new Sy(e,n.slice(1),r).parts:o==="@"?[new Zc(e,n.slice(1),i.eventContext)]:o==="?"?[new Jc(e,n.slice(1),r)]:new zh(e,n,r).parts}handleTextExpression(e){return new co(e)}},NC=new DC;typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var de=(t,...e)=>new $s(t,e,"html",NC);var sj=(t,e)=>`${t}--${e}`,xy=!0;typeof window.ShadyCSS=="undefined"?xy=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),xy=!1);var Tse=t=>e=>{let n=sj(e.type,t),r=Ml.get(n);r===void 0&&(r={stringsArray:new WeakMap,keyString:new Map},Ml.set(n,r));let i=r.stringsArray.get(e.strings);if(i!==void 0)return i;let o=e.strings.join(ui);if(i=r.keyString.get(o),i===void 0){let a=e.getTemplateElement();xy&&window.ShadyCSS.prepareTemplateDom(a,t),i=new Qc(e,a),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i},Cse=["html","svg"],Ise=t=>{Cse.forEach(e=>{let n=Ml.get(sj(e,t));n!==void 0&&n.keyString.forEach(r=>{let{element:{content:i}}=r,o=new Set;Array.from(i.querySelectorAll("style")).forEach(a=>{o.add(a)}),RC(r,o)})})},aj=new Set,Rse=(t,e,n)=>{aj.add(t);let r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:o}=i;if(o===0){window.ShadyCSS.prepareTemplateStyles(r,t);return}let a=document.createElement("style");for(let d=0;d<o;d++){let f=i[d];f.parentNode.removeChild(f),a.textContent+=f.textContent}Ise(t);let l=r.content;n?tj(n,a,l.firstChild):l.insertBefore(a,l.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);let u=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&u!==null)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){l.insertBefore(a,l.firstChild);let d=new Set;d.add(a),RC(n,d)}},lj=(t,e,n)=>{if(!n||typeof n!="object"||!n.scopeName)throw new Error("The `scopeName` option is required.");let r=n.scopeName,i=Qs.has(e),o=xy&&e.nodeType===11&&!!e.host,a=o&&!aj.has(r),l=a?document.createDocumentFragment():e;if(AC(t,l,Object.assign({templateFactory:Tse(r)},n)),a){let u=Qs.get(l);Qs.delete(l);let d=u.value instanceof Ol?u.value.template:void 0;Rse(r,l,d),Nl(e,e.firstChild),e.appendChild(l),Qs.set(e,u)}!i&&o&&window.ShadyCSS.styleElement(e.host)};var uj;window.JSCompiler_renameProperty=(t,e)=>t;var PC={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return t!==null;case Number:return t===null?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},cj=(t,e)=>e!==t&&(e===e||t===t),OC={attribute:!0,type:String,converter:PC,reflect:!1,hasChanged:cj},MC=1,LC=1<<2,FC=1<<3,UC=1<<4,BC="finalized",Ty=class extends HTMLElement{constructor(){super();this.initialize()}static get observedAttributes(){this.finalize();let e=[];return this._classProperties.forEach((n,r)=>{let i=this._attributeNameForProperty(r,n);i!==void 0&&(this._attributeToPropertyMap.set(i,r),e.push(i))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((n,r)=>this._classProperties.set(r,n))}}static createProperty(e,n=OC){if(this._ensureClassProperties(),this._classProperties.set(e,n),n.noAccessor||this.prototype.hasOwnProperty(e))return;let r=typeof e=="symbol"?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let o=this[e];this[n]=i,this.requestUpdateInternal(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||OC}static finalize(){let e=Object.getPrototypeOf(this);if(e.hasOwnProperty(BC)||e.finalize(),this[BC]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(n):[]];for(let i of r)this.createProperty(i,n[i])}}static _attributeNameForProperty(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,n,r=cj){return r(e,n)}static _propertyValueFromAttribute(e,n){let r=n.type,i=n.converter||PC,o=typeof i=="function"?i:i.fromAttribute;return o?o(e,r):e}static _propertyValueToAttribute(e,n){if(n.reflect===void 0)return;let r=n.type,i=n.converter;return(i&&i.toAttribute||PC.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,n)=>{if(this.hasOwnProperty(n)){let r=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,r)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,n)=>this[n]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,n,r){n!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,n,r=OC){let i=this.constructor,o=i._attributeNameForProperty(e,r);if(o!==void 0){let a=i._propertyValueToAttribute(n,r);if(a===void 0)return;this._updateState=this._updateState|FC,a==null?this.removeAttribute(o):this.setAttribute(o,a),this._updateState=this._updateState&~FC}}_attributeToProperty(e,n){if(this._updateState&FC)return;let r=this.constructor,i=r._attributeToPropertyMap.get(e);if(i!==void 0){let o=r.getPropertyOptions(i);this._updateState=this._updateState|UC,this[i]=r._propertyValueFromAttribute(n,o),this._updateState=this._updateState&~UC}}requestUpdateInternal(e,n,r){let i=!0;if(e!==void 0){let o=this.constructor;r=r||o.getPropertyOptions(e),o._valueHasChanged(this[e],n,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,n),r.reflect===!0&&!(this._updateState&UC)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,n){return this.requestUpdateInternal(e,n),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|LC;try{await this._updatePromise}catch(n){}let e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&LC}get hasUpdated(){return this._updateState&MC}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1,n=this._changedProperties;try{e=this.shouldUpdate(n),e?this.update(n):this._markUpdated()}catch(r){throw e=!1,this._markUpdated(),r}e&&(this._updateState&MC||(this._updateState=this._updateState|MC,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~LC}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((n,r)=>this._propertyToAttribute(r,this[r],n)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}};uj=BC;Ty[uj]=!0;var kse=(t,e)=>(window.customElements.define(t,e),e),Ase=(t,e)=>{let{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){window.customElements.define(t,i)}}},Bt=t=>e=>typeof e=="function"?kse(t,e):Ase(t,e),Dse=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},Nse=(t,e,n)=>{e.constructor.createProperty(n,t)};function Y(t){return(e,n)=>n!==void 0?Nse(t,e,n):Dse(t,e)}function pt(t){return Y({attribute:!1,hasChanged:t==null?void 0:t.hasChanged})}function $e(t,e){return(n,r)=>{let i={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){let o=typeof r=="symbol"?Symbol():`__${r}`;i.get=function(){return this[o]===void 0&&(this[o]=this.renderRoot.querySelector(t)),this[o]}}return r!==void 0?dj(i,n,r):fj(i,n)}}function ed(t){return(e,n)=>{let r={async get(){return await this.updateComplete,this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return n!==void 0?dj(r,e,n):fj(r,e)}}var dj=(t,e,n)=>{Object.defineProperty(e,n,t)},fj=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t}),Pse=(t,e)=>Object.assign(Object.assign({},e),{finisher(n){Object.assign(n.prototype[e.key],t)}}),Ose=(t,e,n)=>{Object.assign(e[n],t)};function Ll(t){return(e,n)=>n!==void 0?Ose(t,e,n):Pse(t,e)}var hj=Element.prototype,fbe=hj.msMatchesSelector||hj.webkitMatchesSelector;var Cy=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,HC=Symbol(),Iy=class{constructor(e,n){if(n!==HC)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(Cy?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}},pj=t=>new Iy(String(t),HC),Mse=t=>{if(t instanceof Iy)return t.cssText;if(typeof t=="number")return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},Ht=(t,...e)=>{let n=e.reduce((r,i,o)=>r+Mse(i)+t[o+1],t[0]);return new Iy(n,HC)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var mj={},Ur=class extends Ty{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;let e=this.getStyles();if(Array.isArray(e)){let n=(o,a)=>o.reduceRight((l,u)=>Array.isArray(u)?n(u,l):(l.add(u),l),a),r=n(e,new Set),i=[];r.forEach(o=>i.unshift(o)),this._styles=i}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(n=>{if(n instanceof CSSStyleSheet&&!Cy){let r=Array.prototype.slice.call(n.cssRules).reduce((i,o)=>i+o.cssText,"");return pj(r)}return n})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){let e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(n=>n.cssText),this.localName):Cy?this.renderRoot.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){let n=this.render();super.update(e),n!==mj&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(r=>{let i=document.createElement("style");i.textContent=r.cssText,this.renderRoot.appendChild(i)}))}render(){return mj}};Ur.finalized=!0;Ur.render=lj;le();le();le();le();le();function Ry(t,e){var n=t.matches||t.webkitMatchesSelector||t.msMatchesSelector;return n.call(t,e)}var ky=t=>t.nodeType===Node.ELEMENT_NODE;function vj(t,e){for(let n of t.assignedNodes({flatten:!0}))if(ky(n)){let r=n;if(Ry(r,e))return r}return null}function Js(t){return{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)}}var gj=!1,yj=()=>{},Lse={get passive(){return gj=!0,!1}};document.addEventListener("x",yj,Lse);document.removeEventListener("x",yj);var bj=gj,VC=(t=window.document)=>{let e=t.activeElement,n=[];if(!e)return n;for(;e&&(n.push(e),e.shadowRoot);)e=e.shadowRoot.activeElement;return n},_j=t=>{let e=VC();if(!e.length)return!1;let n=e[e.length-1],r=new Event("check-if-focused",{bubbles:!0,composed:!0}),i=[],o=a=>{i=a.composedPath()};return document.body.addEventListener("check-if-focused",o),n.dispatchEvent(r),document.body.removeEventListener("check-if-focused",o),i.indexOf(t)!==-1};var Br=class extends Ur{click(){if(this.mdcRoot){this.mdcRoot.focus(),this.mdcRoot.click();return}super.click()}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}};le();var Dn=function(){function t(e){e===void 0&&(e={}),this.adapter=e}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();var wj={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Ej={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},jC={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};function Sj(t,e,n){if(!t)return{x:0,y:0};var r=e.x,i=e.y,o=r+n.left,a=i+n.top,l,u;if(t.type==="touchstart"){var d=t;l=d.changedTouches[0].pageX-o,u=d.changedTouches[0].pageY-a}else{var f=t;l=f.pageX-o,u=f.pageY-a}return{x:l,y:u}}var xj=["touchstart","pointerdown","mousedown","keydown"],Tj=["touchend","pointerup","mouseup","contextmenu"],Ay=[],Fse=function(t){P(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(i){return r.activate_(i)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return wj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ej},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return jC},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=this,r=this.supportsPressRipple_();if(this.registerRootHandlers_(r),r){var i=e.cssClasses,o=i.ROOT,a=i.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(o),n.adapter.isUnbounded()&&(n.adapter.addClass(a),n.layoutInternal_())})}},e.prototype.destroy=function(){var n=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(i),n.adapter.removeClass(o),n.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(n){this.activate_(n)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var n=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(function(){n.layoutInternal_(),n.layoutFrame_=0})},e.prototype.setUnbounded=function(n){var r=e.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(n){var r=this;n&&(xj.forEach(function(i){r.adapter.registerInteractionHandler(i,r.activateHandler_)}),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(n){var r=this;n.type==="keydown"?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):Tj.forEach(function(i){r.adapter.registerDocumentInteractionHandler(i,r.deactivateHandler_)})},e.prototype.deregisterRootHandlers_=function(){var n=this;xj.forEach(function(r){n.adapter.deregisterInteractionHandler(r,n.activateHandler_)}),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var n=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),Tj.forEach(function(r){n.adapter.deregisterDocumentInteractionHandler(r,n.deactivateHandler_)})},e.prototype.removeCssVars_=function(){var n=this,r=e.strings,i=Object.keys(r);i.forEach(function(o){o.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[o],null)})},e.prototype.activate_=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var i=this.activationState_;if(!i.isActivated){var o=this.previousActivationEvent_,a=o&&n!==void 0&&o.type!==n.type;if(!a){i.isActivated=!0,i.isProgrammatic=n===void 0,i.activationEvent=n,i.wasActivatedByPointer=i.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var l=n!==void 0&&Ay.length>0&&Ay.some(function(u){return r.adapter.containsEventTarget(u)});if(l){this.resetActivationState_();return}n!==void 0&&(Ay.push(n.target),this.registerDeactivationHandlers_(n)),i.wasElementMadeActive=this.checkElementMadeActive_(n),i.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(function(){Ay=[],!i.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(i.wasElementMadeActive=r.checkElementMadeActive_(n),i.wasElementMadeActive&&r.animateActivation_()),i.wasElementMadeActive||(r.activationState_=r.defaultActivationState_())})}}}},e.prototype.checkElementMadeActive_=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},e.prototype.animateActivation_=function(){var n=this,r=e.strings,i=r.VAR_FG_TRANSLATE_START,o=r.VAR_FG_TRANSLATE_END,a=e.cssClasses,l=a.FG_DEACTIVATION,u=a.FG_ACTIVATION,d=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var f="",p="";if(!this.adapter.isUnbounded()){var m=this.getFgTranslationCoordinates_(),g=m.startPoint,y=m.endPoint;f=g.x+"px, "+g.y+"px",p=y.x+"px, "+y.y+"px"}this.adapter.updateCssVariable(i,f),this.adapter.updateCssVariable(o,p),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(l),this.adapter.computeBoundingRect(),this.adapter.addClass(u),this.activationTimer_=setTimeout(function(){return n.activationTimerCallback_()},d)},e.prototype.getFgTranslationCoordinates_=function(){var n=this.activationState_,r=n.activationEvent,i=n.wasActivatedByPointer,o;i?o=Sj(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):o={x:this.frame_.width/2,y:this.frame_.height/2},o={x:o.x-this.initialSize_/2,y:o.y-this.initialSize_/2};var a={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint:o,endPoint:a}},e.prototype.runDeactivationUXLogicIfReady_=function(){var n=this,r=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,o=i.hasDeactivationUXRun,a=i.isActivated,l=o||!a;l&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer_=setTimeout(function(){n.adapter.removeClass(r)},jC.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var n=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var n=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(function(){return n.previousActivationEvent_=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var n=this,r=this.activationState_;if(!!r.isActivated){var i=I({},r);r.isProgrammatic?(requestAnimationFrame(function(){return n.animateDeactivation_(i)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){n.activationState_.hasDeactivationUXRun=!0,n.animateDeactivation_(i),n.resetActivationState_()}))}},e.prototype.animateDeactivation_=function(n){var r=n.wasActivatedByPointer,i=n.wasElementMadeActive;(r||i)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var n=this;this.frame_=this.adapter.computeBoundingRect();var r=Math.max(this.frame_.height,this.frame_.width),i=function(){var a=Math.sqrt(Math.pow(n.frame_.width,2)+Math.pow(n.frame_.height,2));return a+e.numbers.PADDING};this.maxRadius_=this.adapter.isUnbounded()?r:i();var o=Math.floor(r*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&o%2!=0?this.initialSize_=o-1:this.initialSize_=o,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var n=e.strings,r=n.VAR_FG_SIZE,i=n.VAR_LEFT,o=n.VAR_TOP,a=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize_+"px"),this.adapter.updateCssVariable(a,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords_.top+"px"))},e}(Dn);var Cj=Fse;var Ij=class{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;let n=(e.getAttribute("class")||"").split(/\s+/);for(let r of n)this.classes.add(r)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach(n=>e+=n+" "),this.element.setAttribute("class",e)}}},Rj=new WeakMap,Qt=Lr(t=>e=>{if(!(e instanceof ci)||e instanceof Yo||e.committer.name!=="class"||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:n}=e,{element:r}=n,i=Rj.get(e);i===void 0&&(r.setAttribute("class",n.strings.join(" ")),Rj.set(e,i=new Set));let o=r.classList||new Ij(r);i.forEach(a=>{a in t||(o.remove(a),i.delete(a))});for(let a in t){let l=t[a];l!=i.has(a)&&(l?(o.add(a),i.add(a)):(o.remove(a),i.delete(a)))}typeof o.commit=="function"&&o.commit()});var kj=new WeakMap,Aj=Lr(t=>e=>{if(!(e instanceof ci)||e instanceof Yo||e.committer.name!=="style"||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");let{committer:n}=e,{style:r}=n.element,i=kj.get(e);i===void 0&&(r.cssText=n.strings.join(" "),kj.set(e,i=new Set)),i.forEach(o=>{o in t||(i.delete(o),o.indexOf("-")===-1?r[o]=null:r.removeProperty(o))});for(let o in t)i.add(o),o.indexOf("-")===-1?r[o]=t[o]:r.setProperty(o,t[o])});var Vt=class extends Br{constructor(){super(...arguments);this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=Cj}get isActive(){return Ry(this.parentElement||this,":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0;break;default:break}},removeClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1;break;default:break}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(e,n)=>{switch(e){case"--mdc-ripple-fg-scale":this.fgScale=n;break;case"--mdc-ripple-fg-size":this.fgSize=n;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=n;break;case"--mdc-ripple-fg-translate-start":this.translateStart=n;break;case"--mdc-ripple-left":this.leftPos=n;break;case"--mdc-ripple-top":this.topPos=n;break;default:break}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(e){this.waitForFoundation(()=>{this.mdcFoundation.activate(e)})}endPress(){this.waitForFoundation(()=>{this.mdcFoundation.deactivate()})}startFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleFocus()})}endFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleBlur()})}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(e){this.mdcFoundation?e():this.updateComplete.then(e)}update(e){e.has("disabled")&&this.disabled&&this.endHover(),super.update(e)}render(){let e=this.activated&&(this.primary||!this.accent),n=this.selected&&(this.primary||!this.accent),r={"mdc-ripple-surface--accent":this.accent,"mdc-ripple-surface--primary--activated":e,"mdc-ripple-surface--accent--activated":this.accent&&this.activated,"mdc-ripple-surface--primary--selected":n,"mdc-ripple-surface--accent--selected":this.accent&&this.selected,"mdc-ripple-surface--disabled":this.disabled,"mdc-ripple-surface--hover":this.hovering,"mdc-ripple-surface--primary":this.primary,"mdc-ripple-surface--selected":this.selected,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,"mdc-ripple-upgraded--unbounded":this.unbounded};return de`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${Qt(r)}"
          style="${Aj({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}};U([$e(".mdc-ripple-surface")],Vt.prototype,"mdcRoot",void 0);U([Y({type:Boolean})],Vt.prototype,"primary",void 0);U([Y({type:Boolean})],Vt.prototype,"accent",void 0);U([Y({type:Boolean})],Vt.prototype,"unbounded",void 0);U([Y({type:Boolean})],Vt.prototype,"disabled",void 0);U([Y({type:Boolean})],Vt.prototype,"activated",void 0);U([Y({type:Boolean})],Vt.prototype,"selected",void 0);U([pt()],Vt.prototype,"hovering",void 0);U([pt()],Vt.prototype,"bgFocused",void 0);U([pt()],Vt.prototype,"fgActivation",void 0);U([pt()],Vt.prototype,"fgDeactivation",void 0);U([pt()],Vt.prototype,"fgScale",void 0);U([pt()],Vt.prototype,"fgSize",void 0);U([pt()],Vt.prototype,"translateStart",void 0);U([pt()],Vt.prototype,"translateEnd",void 0);U([pt()],Vt.prototype,"leftPos",void 0);U([pt()],Vt.prototype,"topPos",void 0);var Dj=Ht`.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:block}:host .mdc-ripple-surface{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;will-change:unset}.mdc-ripple-surface--primary::before,.mdc-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary:hover::before,.mdc-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before,.mdc-ripple-surface--primary--activated::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--activated:hover::before,.mdc-ripple-surface--primary--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--primary--selected::before,.mdc-ripple-surface--primary--selected::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--selected:hover::before,.mdc-ripple-surface--primary--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent::before,.mdc-ripple-surface--accent::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent:hover::before,.mdc-ripple-surface--accent.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--accent.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before,.mdc-ripple-surface--accent--activated::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--activated:hover::before,.mdc-ripple-surface--accent--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--accent--selected::before,.mdc-ripple-surface--accent--selected::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--selected:hover::before,.mdc-ripple-surface--accent--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--disabled{opacity:0}`;var qC=class extends Vt{};qC.styles=Dj;qC=U([Bt("mwc-ripple")],qC);var Xn=t=>(e,n)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){let r=e.constructor._observers;e.constructor._observers=new Map,r.forEach((i,o)=>e.constructor._observers.set(o,i))}}else{e.constructor._observers=new Map;let r=e.updated;e.updated=function(i){r.call(this,i),i.forEach((o,a)=>{let u=this.constructor._observers.get(a);u!==void 0&&u.call(this,this[a],o)})}}e.constructor._observers.set(n,t)};var Fl=class{constructor(e){this.startPress=n=>{e().then(r=>{r&&r.startPress(n)})},this.endPress=()=>{e().then(n=>{n&&n.endPress()})},this.startFocus=()=>{e().then(n=>{n&&n.startFocus()})},this.endFocus=()=>{e().then(n=>{n&&n.endFocus()})},this.startHover=()=>{e().then(n=>{n&&n.startHover()})},this.endHover=()=>{e().then(n=>{n&&n.endHover()})}}};var on=class extends Ur{constructor(){super(...arguments);this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new Fl(()=>(this.shouldRenderRipple=!0,this.ripple)),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:e=>{let n=e.type;this.onDown(n==="mousedown"?"mouseup":"touchend",e)}}]}get text(){let e=this.textContent;return e?e.trim():""}render(){let e=this.renderText(),n=this.graphic?this.renderGraphic():de``,r=this.hasMeta?this.renderMeta():de``;return de`
      ${this.renderRipple()}
      ${n}
      ${e}
      ${r}`}renderRipple(){return this.shouldRenderRipple?de`
      <mwc-ripple
        .activated=${this.activated}>
      </mwc-ripple>`:this.activated?de`<div class="fake-activated-ripple"></div>`:""}renderGraphic(){let e={multi:this.multipleGraphics};return de`
      <span class="mdc-deprecated-list-item__graphic material-icons ${Qt(e)}">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return de`
      <span class="mdc-deprecated-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){let e=this.twoline?this.renderTwoline():this.renderSingleLine();return de`
      <span class="mdc-deprecated-list-item__text">
        ${e}
      </span>`}renderSingleLine(){return de`<slot></slot>`}renderTwoline(){return de`
      <span class="mdc-deprecated-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-deprecated-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(e,n){let r=()=>{window.removeEventListener(e,r),this.rippleHandlers.endPress()};window.addEventListener(e,r),this.rippleHandlers.startPress(n)}fireRequestSelected(e,n){if(this.noninteractive)return;let r=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:n,selected:e}});this.dispatchEvent(r)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(let e of this.listeners)for(let n of e.eventNames)e.target.addEventListener(n,e.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(let e of this.listeners)for(let n of e.eventNames)e.target.removeEventListener(n,e.cb);this._managingList&&(this._managingList.debouncedLayout?this._managingList.debouncedLayout(!0):this._managingList.layout(!0))}firstUpdated(){let e=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(e)}};U([$e("slot")],on.prototype,"slotElement",void 0);U([ed("mwc-ripple")],on.prototype,"ripple",void 0);U([Y({type:String})],on.prototype,"value",void 0);U([Y({type:String,reflect:!0})],on.prototype,"group",void 0);U([Y({type:Number,reflect:!0})],on.prototype,"tabindex",void 0);U([Y({type:Boolean,reflect:!0}),Xn(function(t){t?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")})],on.prototype,"disabled",void 0);U([Y({type:Boolean,reflect:!0})],on.prototype,"twoline",void 0);U([Y({type:Boolean,reflect:!0})],on.prototype,"activated",void 0);U([Y({type:String,reflect:!0})],on.prototype,"graphic",void 0);U([Y({type:Boolean})],on.prototype,"multipleGraphics",void 0);U([Y({type:Boolean})],on.prototype,"hasMeta",void 0);U([Y({type:Boolean,reflect:!0}),Xn(function(t){t?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")})],on.prototype,"noninteractive",void 0);U([Y({type:Boolean,reflect:!0}),Xn(function(t){let e=this.getAttribute("role"),n=e==="gridcell"||e==="option"||e==="row"||e==="tab";if(n&&t?this.setAttribute("aria-selected","true"):n&&this.setAttribute("aria-selected","false"),this._firstChanged){this._firstChanged=!1;return}this._skipPropRequest||this.fireRequestSelected(t,"property")})],on.prototype,"selected",void 0);U([pt()],on.prototype,"shouldRenderRipple",void 0);U([pt()],on.prototype,"_managingList",void 0);var Nj=Ht`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var( --mdc-theme-primary, #6200ee )}:host([activated]) .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-deprecated-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-deprecated-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-deprecated-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-item__meta.multi{width:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-deprecated-list-item__meta ::slotted(.material-icons),.mdc-deprecated-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-deprecated-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}[dir=rtl] .mdc-deprecated-list-item__meta,.mdc-deprecated-list-item__meta[dir=rtl]{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-deprecated-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-deprecated-list-item__text ::slotted([for]),.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-deprecated-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-deprecated-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-deprecated-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-deprecated-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}[dir=rtl] :host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=avatar]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}[dir=rtl] :host([graphic=icon]) .mdc-deprecated-list-item__graphic,:host([graphic=icon]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic.multi,:host([graphic=large]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`;var WC=class extends on{};WC.styles=Nj;WC=U([Bt("mwc-list-item")],WC);var zC=new WeakMap,sn=Lr(t=>e=>{let n=zC.get(e);if(t===void 0&&e instanceof ci){if(n!==void 0||!zC.has(e)){let r=e.committer.name;e.committer.element.removeAttribute(r)}}else t!==n&&e.setValue(t);zC.set(e,t)});var Ne={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},$n=new Set;$n.add(Ne.BACKSPACE);$n.add(Ne.ENTER);$n.add(Ne.SPACEBAR);$n.add(Ne.PAGE_UP);$n.add(Ne.PAGE_DOWN);$n.add(Ne.END);$n.add(Ne.HOME);$n.add(Ne.ARROW_LEFT);$n.add(Ne.ARROW_UP);$n.add(Ne.ARROW_RIGHT);$n.add(Ne.ARROW_DOWN);$n.add(Ne.DELETE);$n.add(Ne.ESCAPE);$n.add(Ne.TAB);var hr={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27,TAB:9},Qn=new Map;Qn.set(hr.BACKSPACE,Ne.BACKSPACE);Qn.set(hr.ENTER,Ne.ENTER);Qn.set(hr.SPACEBAR,Ne.SPACEBAR);Qn.set(hr.PAGE_UP,Ne.PAGE_UP);Qn.set(hr.PAGE_DOWN,Ne.PAGE_DOWN);Qn.set(hr.END,Ne.END);Qn.set(hr.HOME,Ne.HOME);Qn.set(hr.ARROW_LEFT,Ne.ARROW_LEFT);Qn.set(hr.ARROW_UP,Ne.ARROW_UP);Qn.set(hr.ARROW_RIGHT,Ne.ARROW_RIGHT);Qn.set(hr.ARROW_DOWN,Ne.ARROW_DOWN);Qn.set(hr.DELETE,Ne.DELETE);Qn.set(hr.ESCAPE,Ne.ESCAPE);Qn.set(hr.TAB,Ne.TAB);var Zs=new Set;Zs.add(Ne.PAGE_UP);Zs.add(Ne.PAGE_DOWN);Zs.add(Ne.END);Zs.add(Ne.HOME);Zs.add(Ne.ARROW_LEFT);Zs.add(Ne.ARROW_UP);Zs.add(Ne.ARROW_RIGHT);Zs.add(Ne.ARROW_DOWN);function Xo(t){var e=t.key;if($n.has(e))return e;var n=Qn.get(t.keyCode);return n||Ne.UNKNOWN}var ea,$o,rt={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},S_e=(ea={},ea[""+rt.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",ea[""+rt.LIST_ITEM_CLASS]="mdc-list-item",ea[""+rt.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",ea[""+rt.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",ea[""+rt.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",ea[""+rt.ROOT]="mdc-list",ea),td=($o={},$o[""+rt.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",$o[""+rt.LIST_ITEM_CLASS]="mdc-deprecated-list-item",$o[""+rt.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",$o[""+rt.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",$o[""+rt.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",$o[""+rt.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",$o[""+rt.ROOT]="mdc-deprecated-list",$o),Gh={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+rt.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+rt.LIST_ITEM_CLASS+` a,
    .`+td[rt.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+td[rt.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+rt.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+rt.LIST_ITEM_CLASS+` a,
    .`+rt.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+rt.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+td[rt.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+td[rt.LIST_ITEM_CLASS]+` a,
    .`+td[rt.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+td[rt.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Jn={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};var GC=(t,e)=>t-e,Use=(t,e)=>{let n=Array.from(t),r=Array.from(e),i={added:[],removed:[]},o=n.sort(GC),a=r.sort(GC),l=0,u=0;for(;l<o.length||u<a.length;){let d=o[l],f=a[u];if(d===f){l++,u++;continue}if(d!==void 0&&(f===void 0||d<f)){i.removed.push(d),l++;continue}if(f!==void 0&&(d===void 0||f<d)){i.added.push(f),u++;continue}}return i},Bse=["input","button","textarea","select"];function ta(t){return t instanceof Set}var Kh=t=>{let e=t===Jn.UNSET_INDEX?new Set:t;return ta(e)?new Set(e):new Set([e])},Dy=class extends Dn{constructor(e){super(Object.assign(Object.assign({},Dy.defaultAdapter),e));this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=Jn.UNSET_INDEX,this.focusedItemIndex_=Jn.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return Gh}static get numbers(){return Jn}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(e){this.wrapFocus_=e}setMulti(e){this.isMulti_=e;let n=this.selectedIndex_;if(e){if(!ta(n)){let r=n===Jn.UNSET_INDEX;this.selectedIndex_=r?new Set:new Set([n])}}else if(ta(n))if(n.size){let r=Array.from(n).sort(GC);this.selectedIndex_=r[0]}else this.selectedIndex_=Jn.UNSET_INDEX}setVerticalOrientation(e){this.isVertical_=e}setUseActivatedClass(e){this.useActivatedClass_=e}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(e){!this.isIndexValid_(e)||(this.isMulti_?this.setMultiSelectionAtIndex_(Kh(e)):this.setSingleSelectionAtIndex_(e))}handleFocusIn(e,n){n>=0&&this.adapter.setTabIndexForElementIndex(n,0)}handleFocusOut(e,n){n>=0&&this.adapter.setTabIndexForElementIndex(n,-1),setTimeout(()=>{this.adapter.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()},0)}handleKeydown(e,n,r){let i=Xo(e)==="ArrowLeft",o=Xo(e)==="ArrowUp",a=Xo(e)==="ArrowRight",l=Xo(e)==="ArrowDown",u=Xo(e)==="Home",d=Xo(e)==="End",f=Xo(e)==="Enter",p=Xo(e)==="Spacebar";if(this.adapter.isRootFocused()){o||d?(e.preventDefault(),this.focusLastElement()):(l||u)&&(e.preventDefault(),this.focusFirstElement());return}let m=this.adapter.getFocusedElementIndex();if(m===-1&&(m=r,m<0))return;let g;if(this.isVertical_&&l||!this.isVertical_&&a)this.preventDefaultEvent(e),g=this.focusNextElement(m);else if(this.isVertical_&&o||!this.isVertical_&&i)this.preventDefaultEvent(e),g=this.focusPrevElement(m);else if(u)this.preventDefaultEvent(e),g=this.focusFirstElement();else if(d)this.preventDefaultEvent(e),g=this.focusLastElement();else if((f||p)&&n){let y=e.target;if(y&&y.tagName==="A"&&f)return;this.preventDefaultEvent(e),this.setSelectedIndexOnAction_(m,!0)}this.focusedItemIndex_=m,g!==void 0&&(this.setTabindexAtIndex_(g),this.focusedItemIndex_=g)}handleSingleSelection(e,n,r){e!==Jn.UNSET_INDEX&&(this.setSelectedIndexOnAction_(e,n,r),this.setTabindexAtIndex_(e),this.focusedItemIndex_=e)}focusNextElement(e){let n=this.adapter.getListItemCount(),r=e+1;if(r>=n)if(this.wrapFocus_)r=0;else return e;return this.adapter.focusItemAtIndex(r),r}focusPrevElement(e){let n=e-1;if(n<0)if(this.wrapFocus_)n=this.adapter.getListItemCount()-1;else return e;return this.adapter.focusItemAtIndex(n),n}focusFirstElement(){return this.adapter.focusItemAtIndex(0),0}focusLastElement(){let e=this.adapter.getListItemCount()-1;return this.adapter.focusItemAtIndex(e),e}setEnabled(e,n){!this.isIndexValid_(e)||this.adapter.setDisabledStateForElementIndex(e,!n)}preventDefaultEvent(e){let r=`${e.target.tagName}`.toLowerCase();Bse.indexOf(r)===-1&&e.preventDefault()}setSingleSelectionAtIndex_(e,n=!0){this.selectedIndex_!==e&&(this.selectedIndex_!==Jn.UNSET_INDEX&&(this.adapter.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(this.selectedIndex_,!1)),n&&this.adapter.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(e,!0),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e,this.adapter.notifySelected(e))}setMultiSelectionAtIndex_(e,n=!0){let r=Kh(this.selectedIndex_),i=Use(r,e);if(!(!i.removed.length&&!i.added.length)){for(let o of i.removed)n&&this.adapter.setSelectedStateForElementIndex(o,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(o,!1);for(let o of i.added)n&&this.adapter.setSelectedStateForElementIndex(o,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(o,!0);this.selectedIndex_=e,this.adapter.notifySelected(e,i)}}setAriaForSingleSelectionAtIndex_(e){this.selectedIndex_===Jn.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(e,Gh.ARIA_CURRENT));let n=this.ariaCurrentAttrValue_!==null,r=n?Gh.ARIA_CURRENT:Gh.ARIA_SELECTED;this.selectedIndex_!==Jn.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,r,"false");let i=n?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(e,r,i)}setTabindexAtIndex_(e){this.focusedItemIndex_===Jn.UNSET_INDEX&&e!==0?this.adapter.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==e&&this.adapter.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter.setTabIndexForElementIndex(e,0)}setTabindexToFirstSelectedItem_(){let e=0;typeof this.selectedIndex_=="number"&&this.selectedIndex_!==Jn.UNSET_INDEX?e=this.selectedIndex_:ta(this.selectedIndex_)&&this.selectedIndex_.size>0&&(e=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(e)}isIndexValid_(e){if(e instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(e.size===0)return!0;{let n=!1;for(let r of e)if(n=this.isIndexInRange_(r),n)break;return n}}else if(typeof e=="number"){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return e===Jn.UNSET_INDEX||this.isIndexInRange_(e)}else return!1}isIndexInRange_(e){let n=this.adapter.getListItemCount();return e>=0&&e<n}setSelectedIndexOnAction_(e,n,r){if(this.adapter.getDisabledStateForElementIndex(e))return;let i=e;this.isMulti_&&(i=new Set([e])),!!this.isIndexValid_(i)&&(this.isMulti_?this.toggleMultiAtIndex(e,r,n):n||r?this.setSingleSelectionAtIndex_(e,n):this.selectedIndex_===e&&this.setSingleSelectionAtIndex_(Jn.UNSET_INDEX),n&&this.adapter.notifyAction(e))}toggleMultiAtIndex(e,n,r=!0){let i=!1;n===void 0?i=!this.adapter.getSelectedStateForElementIndex(e):i=n;let o=Kh(this.selectedIndex_);i?o.add(e):o.delete(e),this.setMultiSelectionAtIndex_(o,r)}},Pj=Dy;function Vse(t,e=50){let n;return function(r=!0){clearTimeout(n),n=setTimeout(()=>{t(r)},e)}}var Ny=t=>t.hasAttribute("mwc-list-item");function jse(){let t=this.itemsReadyResolver;this.itemsReady=new Promise(e=>this.itemsReadyResolver=e),t()}var pr=class extends Br{constructor(){super();this.mdcAdapter=null,this.mdcFoundationClass=Pj,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.innerAriaLabel=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.itemsReadyResolver=()=>{},this.itemsReady=Promise.resolve([]),this.items_=[];let e=Vse(this.layout.bind(this));this.debouncedLayout=(n=!0)=>{jse.call(this),e(n)}}async _getUpdateComplete(){let e=!1;return super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),await this.itemsReady,e}async getUpdateComplete(){return this._getUpdateComplete()}get assignedElements(){let e=this.slotElement;return e?e.assignedNodes({flatten:!0}).filter(ky):[]}get items(){return this.items_}updateItems(){let e=this.assignedElements,n=[];for(let o of e)Ny(o)&&(n.push(o),o._managingList=this),o.hasAttribute("divider")&&!o.hasAttribute("role")&&o.setAttribute("role","separator");this.items_=n;let r=new Set;if(this.items_.forEach((o,a)=>{this.itemRoles?o.setAttribute("role",this.itemRoles):o.removeAttribute("role"),o.selected&&r.add(a)}),this.multi)this.select(r);else{let o=r.size?r.entries().next().value[1]:-1;this.select(o)}let i=new Event("items-updated",{bubbles:!0,composed:!0});this.dispatchEvent(i)}get selected(){let e=this.index;if(!ta(e))return e===-1?null:this.items[e];let n=[];for(let r of e)n.push(this.items[r]);return n}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){let e=this.innerRole===null?void 0:this.innerRole,n=this.innerAriaLabel===null?void 0:this.innerAriaLabel,r=this.rootTabbable?"0":"-1";return de`
      <!-- @ts-ignore -->
      <ul
          tabindex=${r}
          role="${sn(e)}"
          aria-label="${sn(n)}"
          class="mdc-deprecated-list"
          @keydown=${this.onKeydown}
          @focusin=${this.onFocusIn}
          @focusout=${this.onFocusOut}
          @request-selected=${this.onRequestSelected}
          @list-item-rendered=${this.onListItemConnected}>
        <slot></slot>
        ${this.renderPlaceholder()}
      </ul>
    `}renderPlaceholder(){return this.emptyMessage!==void 0&&this.assignedElements.length===0?de`
        <mwc-list-item noninteractive>${this.emptyMessage}</mwc-list-item>
      `:null}firstUpdated(){super.firstUpdated(),this.items.length||(this.mdcFoundation.setMulti(this.multi),this.layout())}onFocusIn(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusIn(e,n)}}onFocusOut(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusOut(e,n)}}onKeydown(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e),r=e.target,i=Ny(r);this.mdcFoundation.handleKeydown(e,i,n)}}onRequestSelected(e){if(this.mdcFoundation){let n=this.getIndexOfTarget(e);if(n===-1&&(this.layout(),n=this.getIndexOfTarget(e),n===-1)||this.items[n].disabled)return;let i=e.detail.selected,o=e.detail.source;this.mdcFoundation.handleSingleSelection(n,o==="interaction",i),e.stopPropagation()}}getIndexOfTarget(e){let n=this.items,r=e.composedPath();for(let i of r){let o=-1;if(ky(i)&&Ny(i)&&(o=n.indexOf(i)),o!==-1)return o}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:this.getFocusedItemIndex,getAttributeForElementIndex:(e,n)=>{if(!this.mdcRoot)return"";let i=this.items[e];return i?i.getAttribute(n):""},setAttributeForElementIndex:(e,n,r)=>{if(!this.mdcRoot)return;let i=this.items[e];i&&i.setAttribute(n,r)},focusItemAtIndex:e=>{let n=this.items[e];n&&n.focus()},setTabIndexForElementIndex:(e,n)=>{let r=this.items[e];r&&(r.tabindex=n)},notifyAction:e=>{let n={bubbles:!0,composed:!0};n.detail={index:e};let r=new CustomEvent("action",n);this.dispatchEvent(r)},notifySelected:(e,n)=>{let r={bubbles:!0,composed:!0};r.detail={index:e,diff:n};let i=new CustomEvent("selected",r);this.dispatchEvent(i)},isFocusInsideList:()=>_j(this),isRootFocused:()=>{let e=this.mdcRoot;return e.getRootNode().activeElement===e},setDisabledStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.disabled=n)},getDisabledStateForElementIndex:e=>{let n=this.items[e];return n?n.disabled:!1},setSelectedStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.selected=n)},getSelectedStateForElementIndex:e=>{let n=this.items[e];return n?n.selected:!1},setActivatedStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.activated=n)}},this.mdcAdapter}selectUi(e,n=!1){let r=this.items[e];r&&(r.selected=!0,r.activated=n)}deselectUi(e){let n=this.items[e];n&&(n.selected=!1,n.activated=!1)}select(e){!this.mdcFoundation||this.mdcFoundation.setSelectedIndex(e)}toggle(e,n){this.multi&&this.mdcFoundation.toggleMultiAtIndex(e,n)}onListItemConnected(e){let n=e.target;this.layout(this.items.indexOf(n)===-1)}layout(e=!0){e&&this.updateItems();let n=this.items[0];for(let r of this.items)r.tabindex=-1;n&&(this.noninteractive?this.previousTabindex||(this.previousTabindex=n):n.tabindex=0),this.itemsReadyResolver()}getFocusedItemIndex(){if(!this.mdcRoot||!this.items.length)return-1;let e=VC();if(!e.length)return-1;for(let n=e.length-1;n>=0;n--){let r=e[n];if(Ny(r))return this.items.indexOf(r)}return-1}focusItemAtIndex(e){for(let n of this.items)if(n.tabindex===0){n.tabindex=-1;break}this.items[e].tabindex=0,this.items[e].focus()}focus(){let e=this.mdcRoot;e&&e.focus()}blur(){let e=this.mdcRoot;e&&e.blur()}};U([Y({type:String})],pr.prototype,"emptyMessage",void 0);U([$e(".mdc-deprecated-list")],pr.prototype,"mdcRoot",void 0);U([$e("slot")],pr.prototype,"slotElement",void 0);U([Y({type:Boolean}),Xn(function(t){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(t)})],pr.prototype,"activatable",void 0);U([Y({type:Boolean}),Xn(function(t,e){this.mdcFoundation&&this.mdcFoundation.setMulti(t),e!==void 0&&this.layout()})],pr.prototype,"multi",void 0);U([Y({type:Boolean}),Xn(function(t){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(t)})],pr.prototype,"wrapFocus",void 0);U([Y({type:String}),Xn(function(t,e){e!==void 0&&this.updateItems()})],pr.prototype,"itemRoles",void 0);U([Y({type:String})],pr.prototype,"innerRole",void 0);U([Y({type:String})],pr.prototype,"innerAriaLabel",void 0);U([Y({type:Boolean})],pr.prototype,"rootTabbable",void 0);U([Y({type:Boolean,reflect:!0}),Xn(function(t){let e=this.slotElement;if(t&&e){let n=vj(e,'[tabindex="0"]');this.previousTabindex=n,n&&n.setAttribute("tabindex","-1")}else!t&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)})],pr.prototype,"noninteractive",void 0);var Oj=Ht`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item{height:48px}.mdc-deprecated-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-deprecated-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-deprecated-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-deprecated-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc( 100% - var(--mdc-list-inset-margin, 72px) )}[dir=rtl] .mdc-deprecated-list ::slotted([divider][inset]),.mdc-deprecated-list ::slotted([divider][inset])[dir=rtl]{margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-deprecated-list ::slotted([divider][inset][padded]){width:calc( 100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px) )}.mdc-deprecated-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-deprecated-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-deprecated-list--two-line.mdc-deprecated-list--dense ::slotted([mwc-list-item]),.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`;var KC=class extends pr{};KC.styles=Oj;KC=U([Bt("mwc-list")],KC);var Mj=Tt`
  :host {
    display: flex;
    flex: auto;
    width: 22%;
    min-width: 10em;
    max-width: 13em;
    background-color: white;
    color: #ffffff;
  }
  #navigation-body {
    display: flex;
    flex-direction: column;
    flex: auto;
  }
  .navigation-body-item {
    display: flex;
    flex: auto;
    max-height: 50px;
    height: 10vh;
    background-color: #1a237e;
  }
  .navigation-body-item:hover {
    background-color: #000051;
  }
  .active {
    background-color: #534bae;
  }
  .navigation-body-item h2 {
    margin: auto auto auto 15px;
  }
`;var nd=class extends ze{constructor(){super(...arguments);this.selectItem=e=>{let n=new CustomEvent("page-selected",{detail:{data:{page:e.target},message:"Page Item Selected"},bubbles:!0,composed:!0});this.dispatchEvent(n)}}render(){return ce`
      <slot name="header-bar"></slot>
      <mwc-list activatable id="navigation-body">
        <li divider role="separator"></li>
        ${this.items.map(e=>ce`
        <mwc-list-item @click="${()=>{this.selectItem(e)}}">${e.label}</mwc-list-item>
        <li divider role="separator"></li>
        `)}
      </mwc-list>
    `}};nd.styles=Mj,Z([pe({type:String})],nd.prototype,"label",2),Z([pe({type:Array})],nd.prototype,"items",2),nd=Z([st("content-wrapper-nav")],nd);var Py=class extends ze{render(){return ce`
      <slot></slot>
    `}};Py.styles=Tt`
    :host {
      display: flex;
      margin: 15px;
      flex-direction: column;
      min-width:40%;
      max-width: 80%;
      min-height:40%;
      overflow: hidden;
      background-color: #E1E2E1;
    }`,Py=Z([st("content-item")],Py);var Ul=class extends ze{constructor(){super(...arguments);this.showNavigation=!1;this.contentItems=[]}render(){return[this.showNavigation&&this.contentItems.length>1?ce`
        <content-wrapper-nav
          .items = "${this.contentItems}" >
        </content-wrapper-nav>
      `:ce`
      `,ce`
      <div id="content-display-wrapper">
        <slot name="header-bar"></slot>
        <div id="content-display-render">
          <slot name="content"></slot>
        </div>
      </div>
    `]}};Ul.styles=QV,Z([pe({type:String})],Ul.prototype,"navLabel",2),Z([pe({type:Boolean})],Ul.prototype,"showNavigation",2),Z([pe({type:Array})],Ul.prototype,"contentItems",2),Ul=Z([st("content-wrapper")],Ul);var Lj=Tt`
  :host {
    
  }
  content-item {
    width: 30%;
    height: 30%;
    margin: auto;
  }
  .block-wrap {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    height: 100%;
  }
  .block-wrap > div {
    text-align: center;
  }

  .btn-google {
    display: inline-block;
    border-radius: 1px;
    text-decoration: none;
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.25);
    transition: background-color .218s, border-color .218s ,box-shadow .218s;
  }
  .google-content {
    display:flex;
    align-items: center;
    width: 100%;
    height: 100%;
  }
  .google-content .logo {
    height: 100%;
    width: 50px;
    padding: 15px;
  }
  .google-content svg {
  }
  .google-content .label {
    width: 100%;
    height: 100%;
    line-height: 1;
    letter-spacing: .21px;
    text-align: center;
    font-weight: 500;
    font-family: 'Roboto', sans-serif;
    padding: 15px;
    background: #4285f4;
    margin: 0;
    color: white;
    cursor: unset;
  }
  .btn-google {
    background: #FFF;
    cursor: pointer;
  }
	.btn-google:hover {
		box-shadow: 0 0 3px 3px rgba(66,133,244,.3)
  }
  .btn-google:active {
		background-color: #eee;
  }
	.btn-google.google-content p {
		color: #757575;
  }
  

`;var Yh=class extends ze{constructor(){super(...arguments);this.loggedIn=(e,n)=>{let r=new CustomEvent("login-change",{detail:{data:e,message:"Something important happened"},bubbles:!0,composed:!0});this.dispatchEvent(r)};this.handleGoogleLogin=()=>{let e=new J.auth.GoogleAuthProvider;J.auth().setPersistence(J.auth.Auth.Persistence.SESSION).then(()=>{J.auth().signInWithPopup(e).then(n=>{this.serverApi.setUserId(n.user.uid),this.loggedIn(!0,n.user)}).catch(n=>console.log(n))})}}render(){return ce`
    <page-display>
        <content-item slot="content">
          <div class="block-wrap">
              <a class="btn-google" @click='${this.handleGoogleLogin}'>
                <div class="google-content">
                  <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48">
                    <defs><path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z"/><path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z"/><path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z"/><path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z"/>
                  </svg>
                  </div>
                  <div class="label">
                    <p>Sign in with Google</p>
                  </div>
                </div>
              </a>
          </div>
        </content-item>
    </page-display>
    `}};Yh.styles=Lj,Z([pe()],Yh.prototype,"serverApi",2),Yh=Z([st("auth-index")],Yh);le();le();le();var Fj=Ht`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;var YC=class extends Ur{render(){return de`<slot></slot>`}};YC.styles=Fj;YC=U([Bt("mwc-icon")],YC);var bn=class extends Ur{constructor(){super(...arguments);this.raised=!1,this.unelevated=!1,this.outlined=!1,this.dense=!1,this.disabled=!1,this.trailingIcon=!1,this.fullwidth=!1,this.icon="",this.label="",this.expandContent=!1,this.shouldRenderRipple=!1,this.rippleHandlers=new Fl(()=>(this.shouldRenderRipple=!0,this.ripple))}renderOverlay(){return de``}renderRipple(){let e=this.raised||this.unelevated;return this.shouldRenderRipple?de`<mwc-ripple class="ripple" .primary="${!e}" .disabled="${this.disabled}"></mwc-ripple>`:""}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}focus(){let e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){let e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}getRenderClasses(){return Qt({"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense})}render(){return de`
      <button
          id="button"
          class="mdc-button ${this.getRenderClasses()}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}"
          @focus="${this.handleRippleFocus}"
          @blur="${this.handleRippleBlur}"
          @mousedown="${this.handleRippleActivate}"
          @mouseenter="${this.handleRippleMouseEnter}"
          @mouseleave="${this.handleRippleMouseLeave}"
          @touchstart="${this.handleRippleActivate}"
          @touchend="${this.handleRippleDeactivate}"
          @touchcancel="${this.handleRippleDeactivate}">
        ${this.renderOverlay()}
        ${this.renderRipple()}
        <span class="leading-icon">
          <slot name="icon">
            ${this.icon&&!this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
        <span class="mdc-button__label">${this.label}</span>
        <span class="slot-container ${Qt({flex:this.expandContent})}">
          <slot></slot>
        </span>
        <span class="trailing-icon">
          <slot name="trailingIcon">
            ${this.icon&&this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
      </button>`}renderIcon(){return de`
    <mwc-icon class="mdc-button__icon">
      ${this.icon}
    </mwc-icon>`}handleRippleActivate(e){let n=()=>{window.removeEventListener("mouseup",n),this.handleRippleDeactivate()};window.addEventListener("mouseup",n),this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}};U([Y({type:Boolean,reflect:!0})],bn.prototype,"raised",void 0);U([Y({type:Boolean,reflect:!0})],bn.prototype,"unelevated",void 0);U([Y({type:Boolean,reflect:!0})],bn.prototype,"outlined",void 0);U([Y({type:Boolean})],bn.prototype,"dense",void 0);U([Y({type:Boolean,reflect:!0})],bn.prototype,"disabled",void 0);U([Y({type:Boolean,attribute:"trailingicon"})],bn.prototype,"trailingIcon",void 0);U([Y({type:Boolean,reflect:!0})],bn.prototype,"fullwidth",void 0);U([Y({type:String})],bn.prototype,"icon",void 0);U([Y({type:String})],bn.prototype,"label",void 0);U([Y({type:Boolean})],bn.prototype,"expandContent",void 0);U([$e("#button")],bn.prototype,"buttonElement",void 0);U([ed("mwc-ripple")],bn.prototype,"ripple",void 0);U([pt()],bn.prototype,"shouldRenderRipple",void 0);U([Ll({passive:!0})],bn.prototype,"handleRippleActivate",null);var Uj=Ht`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;height:48px;left:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{border-style:solid}.mdc-button{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 8px 0 8px}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:disabled{background-color:transparent}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px;height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0, 0, 0, 0.12)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--raised .mdc-button__ripple,.mdc-button--unelevated .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 15px 0 15px;border-width:1px}.mdc-button--outlined:not(:disabled){background-color:transparent}.mdc-button--outlined:disabled{background-color:transparent}.mdc-button--outlined:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button--outlined:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--outlined .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined:disabled{border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined.mdc-button--icon-trailing{padding:0 11px 0 15px}.mdc-button--outlined.mdc-button--icon-leading{padding:0 15px 0 11px}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent;vertical-align:top}:host([fullwidth]){width:100%}:host([raised]),:host([unelevated]){--mdc-ripple-color:#fff;--mdc-ripple-focus-opacity:0.24;--mdc-ripple-hover-opacity:0.08;--mdc-ripple-press-opacity:0.24}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon,.leading-icon ::slotted(*),.leading-icon .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl],[dir=rtl] .leading-icon ::slotted(*),.leading-icon ::slotted(*)[dir=rtl],[dir=rtl] .leading-icon .mdc-button__icon,.leading-icon .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}.slot-container{display:inline-flex;align-items:center;justify-content:center}.slot-container.flex{flex:auto}.mdc-button{flex:auto;overflow:hidden;padding-left:8px;padding-left:var(--mdc-button-horizontal-padding, 8px);padding-right:8px;padding-right:var(--mdc-button-horizontal-padding, 8px)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-focus, var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)))}.mdc-button--raised:hover{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-active, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-disabled, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised,.mdc-button--unelevated{padding-left:16px;padding-left:var(--mdc-button-horizontal-padding, 16px);padding-right:16px;padding-right:var(--mdc-button-horizontal-padding, 16px)}.mdc-button--outlined{border-width:1px;border-width:var(--mdc-button-outline-width, 1px);padding-left:calc(16px - 1px);padding-left:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px));padding-right:calc(16px - 1px);padding-right:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px))}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined .ripple{top:calc(-1 * 1px);top:calc(-1 * var(--mdc-button-outline-width, 1px));left:calc(-1 * 1px);left:calc(-1 * var(--mdc-button-outline-width, 1px));right:initial;right:initial;border-width:1px;border-width:var(--mdc-button-outline-width, 1px);border-style:solid;border-color:transparent}[dir=rtl] .mdc-button--outlined .ripple,.mdc-button--outlined .ripple[dir=rtl]{left:initial;left:initial;right:calc(-1 * 1px);right:calc(-1 * var(--mdc-button-outline-width, 1px))}.mdc-button--dense{height:28px;margin-top:0;margin-bottom:0}.mdc-button--dense .mdc-button__touch{display:none}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-button{color:rgba(0, 0, 0, 0.38);color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button--raised,:host([disabled]) .mdc-button--unelevated{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-button-disabled-fill-color, rgba(0, 0, 0, 0.12))}:host([disabled]) .mdc-button--outlined{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}`;var XC=class extends bn{};XC.styles=Uj;XC=U([Bt("mwc-button")],XC);le();le();(()=>{var t,e,n;let r=Symbol(),i=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),u=Symbol(),d=Symbol(),f=Symbol(),p=Symbol(),m=Symbol(),g=Symbol(),y=Symbol(),_=Symbol();class w{constructor(){this[t]=[],this[e]=[],this[n]=new Set}destructor(){this[p](this[o]);let C=this;C[r]=null,C[o]=null,C[i]=null}get top(){let C=this[r];return C[C.length-1]||null}push(C){!C||C===this.top||(this.remove(C),this[u](C),this[r].push(C))}remove(C){let R=this[r].indexOf(C);return R===-1?!1:(this[r].splice(R,1),R===this[r].length&&this[u](this.top),!0)}pop(){let C=this.top;return C&&this.remove(C),C}has(C){return this[r].indexOf(C)!==-1}[(t=r,e=o,n=i,u)](C){let R=this[i],A=this[o];if(!C){this[p](A),R.clear(),this[o]=[];return}let L=this[m](C);if(L[L.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=L;let M=this[g](C);if(!A.length){this[f](L,M,R);return}let W=A.length-1,K=L.length-1;for(;W>0&&K>0&&A[W]===L[K];)W--,K--;A[W]!==L[K]&&this[d](A[W],L[K]),W>0&&this[p](A.slice(0,W)),K>0&&this[f](L.slice(0,K),M,null)}[d](C,R){let A=C[a];this[y](C)&&!C.inert&&(C.inert=!0,A.add(C)),A.has(R)&&(R.inert=!1,A.delete(R)),R[l]=C[l],R[a]=A,C[l]=void 0,C[a]=void 0}[p](C){for(let R of C){R[l].disconnect(),R[l]=void 0;let L=R[a];for(let M of L)M.inert=!1;R[a]=void 0}}[f](C,R,A){for(let L of C){let M=L.parentNode,W=M.children,K=new Set;for(let mt=0;mt<W.length;mt++){let et=W[mt];et===L||!this[y](et)||R&&R.has(et)||(A&&et.inert?A.add(et):(et.inert=!0,K.add(et)))}L[a]=K;let q=new MutationObserver(this[_].bind(this));L[l]=q;let Re=M,O=Re;O.__shady&&O.host&&(Re=O.host),q.observe(Re,{childList:!0})}}[_](C){let R=this[o],A=this[i];for(let L of C){let M=L.target.host||L.target,W=M===document.body?R.length:R.indexOf(M),K=R[W-1],q=K[a];for(let Re=0;Re<L.removedNodes.length;Re++){let O=L.removedNodes[Re];if(O===K){console.info("Detected removal of the top Blocking Element."),this.pop();return}q.has(O)&&(O.inert=!1,q.delete(O))}for(let Re=0;Re<L.addedNodes.length;Re++){let O=L.addedNodes[Re];!this[y](O)||(A&&O.inert?A.add(O):(O.inert=!0,q.add(O)))}}}[y](C){return/^(style|template|script)$/.test(C.localName)===!1}[m](C){let R=[],A=C;for(;A&&A!==document.body;){if(A.nodeType===Node.ELEMENT_NODE&&R.push(A),A.assignedSlot){for(;A=A.assignedSlot;)R.push(A);A=R.pop();continue}A=A.parentNode||A.host}return R}[g](C){let R=C.shadowRoot;if(!R)return null;let A=new Set,L,M,W,K=R.querySelectorAll("slot");if(K.length&&K[0].assignedNodes)for(L=0;L<K.length;L++)for(W=K[L].assignedNodes({flatten:!0}),M=0;M<W.length;M++)W[M].nodeType===Node.ELEMENT_NODE&&A.add(W[M]);return A}}document.$blockingElements=new w})();var $C=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function QC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(){if(typeof window=="undefined")return;var t=Array.prototype.slice,e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),r=function(){function d(f,p){QC(this,d),this._inertManager=p,this._rootElement=f,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return $C(d,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(this._savedAriaHidden!==null?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach(function(p){this._unmanageNode(p.node)},this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(p){var m=this;a(p,function(w){return m._visitNode(w)});var g=document.activeElement;if(!document.body.contains(p)){for(var y=p,_=void 0;y;){if(y.nodeType===Node.DOCUMENT_FRAGMENT_NODE){_=y;break}y=y.parentNode}_&&(g=_.activeElement)}p.contains(g)&&(g.blur(),g===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(p){if(p.nodeType===Node.ELEMENT_NODE){var m=p;m!==this._rootElement&&m.hasAttribute("inert")&&this._adoptInertRoot(m),(e.call(m,n)||m.hasAttribute("tabindex"))&&this._manageNode(m)}}},{key:"_manageNode",value:function(p){var m=this._inertManager.register(p,this);this._managedNodes.add(m)}},{key:"_unmanageNode",value:function(p){var m=this._inertManager.deregister(p,this);m&&this._managedNodes.delete(m)}},{key:"_unmanageSubtree",value:function(p){var m=this;a(p,function(g){return m._unmanageNode(g)})}},{key:"_adoptInertRoot",value:function(p){var m=this._inertManager.getInertRoot(p);m||(this._inertManager.setInert(p,!0),m=this._inertManager.getInertRoot(p)),m.managedNodes.forEach(function(g){this._manageNode(g.node)},this)}},{key:"_onMutation",value:function(p,m){p.forEach(function(g){var y=g.target;if(g.type==="childList")t.call(g.addedNodes).forEach(function(w){this._makeSubtreeUnfocusable(w)},this),t.call(g.removedNodes).forEach(function(w){this._unmanageSubtree(w)},this);else if(g.type==="attributes"){if(g.attributeName==="tabindex")this._manageNode(y);else if(y!==this._rootElement&&g.attributeName==="inert"&&y.hasAttribute("inert")){this._adoptInertRoot(y);var _=this._inertManager.getInertRoot(y);this._managedNodes.forEach(function(w){y.contains(w.node)&&_._manageNode(w.node)})}}},this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return this._savedAriaHidden!==null}},{key:"savedAriaHidden",set:function(p){this._savedAriaHidden=p},get:function(){return this._savedAriaHidden}}]),d}(),i=function(){function d(f,p){QC(this,d),this._node=f,this._overrodeFocusMethod=!1,this._inertRoots=new Set([p]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return $C(d,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var p=this._node;this._savedTabIndex!==null?p.setAttribute("tabindex",this._savedTabIndex):p.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete p.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var p=this.node;if(e.call(p,n)){if(p.tabIndex===-1&&this.hasSavedTabIndex)return;p.hasAttribute("tabindex")&&(this._savedTabIndex=p.tabIndex),p.setAttribute("tabindex","-1"),p.nodeType===Node.ELEMENT_NODE&&(p.focus=function(){},this._overrodeFocusMethod=!0)}else p.hasAttribute("tabindex")&&(this._savedTabIndex=p.tabIndex,p.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(p){this._throwIfDestroyed(),this._inertRoots.add(p)}},{key:"removeInertRoot",value:function(p){this._throwIfDestroyed(),this._inertRoots.delete(p),this._inertRoots.size===0&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return this._savedTabIndex!==null}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(p){this._throwIfDestroyed(),this._savedTabIndex=p},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),d}(),o=function(){function d(f){if(QC(this,d),!f)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=f,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),l(f.head||f.body||f.documentElement),f.readyState==="loading"?f.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return $C(d,[{key:"setInert",value:function(p,m){if(m){if(this._inertRoots.has(p))return;var g=new r(p,this);if(p.setAttribute("inert",""),this._inertRoots.set(p,g),!this._document.body.contains(p))for(var y=p.parentNode;y;)y.nodeType===11&&l(y),y=y.parentNode}else{if(!this._inertRoots.has(p))return;var _=this._inertRoots.get(p);_.destructor(),this._inertRoots.delete(p),p.removeAttribute("inert")}}},{key:"getInertRoot",value:function(p){return this._inertRoots.get(p)}},{key:"register",value:function(p,m){var g=this._managedNodes.get(p);return g!==void 0?g.addInertRoot(m):g=new i(p,m),this._managedNodes.set(p,g),g}},{key:"deregister",value:function(p,m){var g=this._managedNodes.get(p);return g?(g.removeInertRoot(m),g.destroyed&&this._managedNodes.delete(p),g):null}},{key:"_onDocumentLoaded",value:function(){var p=t.call(this._document.querySelectorAll("[inert]"));p.forEach(function(m){this.setInert(m,!0)},this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(p,m){var g=this;p.forEach(function(y){switch(y.type){case"childList":t.call(y.addedNodes).forEach(function(S){if(S.nodeType===Node.ELEMENT_NODE){var C=t.call(S.querySelectorAll("[inert]"));e.call(S,"[inert]")&&C.unshift(S),C.forEach(function(R){this.setInert(R,!0)},g)}},g);break;case"attributes":if(y.attributeName!=="inert")return;var _=y.target,w=_.hasAttribute("inert");g.setInert(_,w);break}},this)}}]),d}();function a(d,f,p){if(d.nodeType==Node.ELEMENT_NODE){var m=d;f&&f(m);var g=m.shadowRoot;if(g){a(g,f,g);return}if(m.localName=="content"){for(var y=m,_=y.getDistributedNodes?y.getDistributedNodes():[],w=0;w<_.length;w++)a(_[w],f,p);return}if(m.localName=="slot"){for(var S=m,C=S.assignedNodes?S.assignedNodes({flatten:!0}):[],R=0;R<C.length;R++)a(C[R],f,p);return}}for(var A=d.firstChild;A!=null;)a(A,f,p),A=A.nextSibling}function l(d){if(!d.querySelector("style#inert-style, link#inert-style")){var f=document.createElement("style");f.setAttribute("id","inert-style"),f.textContent=`
[inert] {
  pointer-events: none;
  cursor: default;
}

[inert], [inert] * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
`,d.appendChild(f)}}if(!Element.prototype.hasOwnProperty("inert")){var u=new o(document);Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(f){u.setInert(this,f)}})}})();var Zn={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},Xh={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim",LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",LIST_ITEM_ACTIVATED_SELECTOR:".mdc-list-item--activated,.mdc-deprecated-list-item--activated"};le();var JC=function(t){P(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.animationFrame_=0,r.animationTimer_=0,r}return Object.defineProperty(e,"strings",{get:function(){return Xh},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Zn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},e.prototype.open=function(){var n=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter.addClass(Zn.OPEN),this.adapter.addClass(Zn.ANIMATE),this.runNextAnimationFrame_(function(){n.adapter.addClass(Zn.OPENING)}),this.adapter.saveFocus())},e.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter.addClass(Zn.CLOSING)},e.prototype.isOpen=function(){return this.adapter.hasClass(Zn.OPEN)},e.prototype.isOpening=function(){return this.adapter.hasClass(Zn.OPENING)||this.adapter.hasClass(Zn.ANIMATE)},e.prototype.isClosing=function(){return this.adapter.hasClass(Zn.CLOSING)},e.prototype.handleKeydown=function(n){var r=n.keyCode,i=n.key,o=i==="Escape"||r===27;o&&this.close()},e.prototype.handleTransitionEnd=function(n){var r=Zn.OPENING,i=Zn.CLOSING,o=Zn.OPEN,a=Zn.ANIMATE,l=Zn.ROOT,u=this.isElement_(n.target)&&this.adapter.elementHasClass(n.target,l);!u||(this.isClosing()?(this.adapter.removeClass(o),this.closed_(),this.adapter.restoreFocus(),this.adapter.notifyClose()):(this.adapter.focusActiveNavigationItem(),this.opened_(),this.adapter.notifyOpen()),this.adapter.removeClass(a),this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.opened_=function(){},e.prototype.closed_=function(){},e.prototype.runNextAnimationFrame_=function(n){var r=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){r.animationFrame_=0,clearTimeout(r.animationTimer_),r.animationTimer_=setTimeout(n,0)})},e.prototype.isElement_=function(n){return Boolean(n.classList)},e}(Dn);var Bj=JC;le();var qse=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.handleScrimClick=function(){this.close()},e.prototype.opened_=function(){this.adapter.trapFocus()},e.prototype.closed_=function(){this.adapter.releaseFocus()},e}(JC);var ZC=qse;var Hj=document.$blockingElements,na=class extends Br{constructor(){super(...arguments);this._previousFocus=null,this.open=!1,this.hasHeader=!1,this.type=""}get mdcFoundationClass(){return this.type==="modal"?ZC:Bj}createAdapter(){return Object.assign(Object.assign({},Js(this.mdcRoot)),{elementHasClass:(e,n)=>e.classList.contains(n),saveFocus:()=>{this._previousFocus=this.getRootNode().activeElement},restoreFocus:()=>{this._previousFocus&&this._previousFocus.focus&&this._previousFocus.focus()},notifyClose:()=>{this.open=!1,this.dispatchEvent(new Event(Xh.CLOSE_EVENT,{bubbles:!0,cancelable:!0}))},notifyOpen:()=>{this.open=!0,this.dispatchEvent(new Event(Xh.OPEN_EVENT,{bubbles:!0,cancelable:!0}))},focusActiveNavigationItem:()=>{},trapFocus:()=>{Hj.push(this),this.appContent.inert=!0},releaseFocus:()=>{Hj.remove(this),this.appContent.inert=!1}})}_handleScrimClick(){this.mdcFoundation instanceof ZC&&this.mdcFoundation.handleScrimClick()}render(){let e=this.type==="dismissible"||this.type==="modal",n=this.type==="modal",r=this.hasHeader?de`
      <div class="mdc-drawer__header">
        <h3 class="mdc-drawer__title"><slot name="title"></slot></h3>
        <h6 class="mdc-drawer__subtitle"><slot name="subtitle"></slot></h6>
        <slot name="header"></slot>
      </div>
      `:"";return de`
      <aside class="mdc-drawer ${Qt({"mdc-drawer--dismissible":e,"mdc-drawer--modal":n})}">
        ${r}
        <div class="mdc-drawer__content"><slot></slot></div>
      </aside>
      ${n?de`<div class="mdc-drawer-scrim"
                          @click="${this._handleScrimClick}"></div>`:""}
      <div class="mdc-drawer-app-content">
        <slot name="appContent"></slot>
      </div>
      `}firstUpdated(){this.mdcRoot.addEventListener("keydown",e=>this.mdcFoundation.handleKeydown(e)),this.mdcRoot.addEventListener("transitionend",e=>this.mdcFoundation.handleTransitionEnd(e))}updated(e){e.has("type")&&this.createFoundation()}};U([$e(".mdc-drawer")],na.prototype,"mdcRoot",void 0);U([$e(".mdc-drawer-app-content")],na.prototype,"appContent",void 0);U([Xn(function(t){this.type!==""&&(t?this.mdcFoundation.open():this.mdcFoundation.close())}),Y({type:Boolean,reflect:!0})],na.prototype,"open",void 0);U([Y({type:Boolean})],na.prototype,"hasHeader",void 0);U([Y({reflect:!0})],na.prototype,"type",void 0);var Vj=Ht`.mdc-drawer{border-color:rgba(0, 0, 0, 0.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-top-left-radius:0;border-top-right-radius:0;border-top-right-radius:var(--mdc-shape-large, 0);border-bottom-right-radius:0;border-bottom-right-radius:var(--mdc-shape-large, 0);border-bottom-left-radius:0;z-index:6;width:256px;display:flex;flex-direction:column;flex-shrink:0;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer .mdc-drawer__title{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-group__subheader{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-drawer__subtitle{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item__graphic{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-deprecated-list-item--activated{color:rgba(98, 0, 238, 0.87)}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-top-left-radius:0;border-top-left-radius:var(--mdc-shape-large, 0);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom-left-radius:var(--mdc-shape-large, 0)}.mdc-drawer .mdc-deprecated-list-item{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-deprecated-list-item{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);height:calc(48px - 2 * 4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-deprecated-list-item:nth-child(1){margin-top:2px}.mdc-drawer .mdc-deprecated-list-item:nth-last-child(1){margin-bottom:0}.mdc-drawer .mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-deprecated-list-group__subheader::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-drawer .mdc-deprecated-list-divider{margin:3px 0 4px}.mdc-drawer .mdc-deprecated-list-item__text,.mdc-drawer .mdc-deprecated-list-item__graphic{pointer-events:none}.mdc-drawer--animate{transform:translateX(-100%)}[dir=rtl] .mdc-drawer--animate,.mdc-drawer--animate[dir=rtl]{transform:translateX(100%)}.mdc-drawer--opening{transform:translateX(0);transition-duration:250ms}[dir=rtl] .mdc-drawer--opening,.mdc-drawer--opening[dir=rtl]{transform:translateX(0)}.mdc-drawer--closing{transform:translateX(-100%);transition-duration:200ms}[dir=rtl] .mdc-drawer--closing,.mdc-drawer--closing[dir=rtl]{transform:translateX(100%)}.mdc-drawer__header{flex-shrink:0;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-drawer__title::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-drawer__subtitle{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:initial;display:none;position:absolute}[dir=rtl] .mdc-drawer--dismissible,.mdc-drawer--dismissible[dir=rtl]{left:initial;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:flex}.mdc-drawer-app-content{margin-left:0;margin-right:0;position:relative}[dir=rtl] .mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:0}.mdc-drawer--modal{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12);left:0;right:initial;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0, 0, 0, 0.32)}[dir=rtl] .mdc-drawer--modal,.mdc-drawer--modal[dir=rtl]{left:initial;right:0}.mdc-drawer--modal.mdc-drawer--open{display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{transition-duration:250ms;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{transition-duration:200ms;opacity:0}.mdc-drawer-app-content{overflow:auto;flex:1}:host{display:flex;height:100%}.mdc-drawer{width:256px;width:var(--mdc-drawer-width, 256px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-left:var(--mdc-drawer-width, 256px);margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px;margin-right:var(--mdc-drawer-width, 256px)}`;var eI=class extends na{};eI.styles=Vj;eI=U([Bt("mwc-drawer")],eI);le();le();function Wse(t,e,n){let r=t.constructor;if(!n){let l=`__${e}`;if(n=r.getPropertyDescriptor(e,l),!n)throw new Error("@ariaProperty must be used after a @property decorator")}let i=n,o="";if(!i.set)throw new Error(`@ariaProperty requires a setter for ${e}`);let a={configurable:!0,enumerable:!0,set(l){o===""&&(o=r.getPropertyOptions(e).attribute),this.hasAttribute(o)&&this.removeAttribute(o),i.set.call(this,l)}};return i.get&&(a.get=function(){return i.get.call(this)}),a}function jj(t,e,n){if(e!==void 0)return Wse(t,e,n);throw new Error("@ariaProperty only supports TypeScript Decorators")}var Li=class extends Ur{constructor(){super(...arguments);this.disabled=!1,this.icon="",this.shouldRenderRipple=!1,this.rippleHandlers=new Fl(()=>(this.shouldRenderRipple=!0,this.ripple))}renderRipple(){return this.shouldRenderRipple?de`
            <mwc-ripple
                .disabled="${this.disabled}"
                unbounded>
            </mwc-ripple>`:""}focus(){let e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){let e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}render(){return de`<button
        class="mdc-icon-button"
        aria-label="${this.ariaLabel||this.icon}"
        ?disabled="${this.disabled}"
        @focus="${this.handleRippleFocus}"
        @blur="${this.handleRippleBlur}"
        @mousedown="${this.handleRippleMouseDown}"
        @mouseenter="${this.handleRippleMouseEnter}"
        @mouseleave="${this.handleRippleMouseLeave}"
        @touchstart="${this.handleRippleTouchStart}"
        @touchend="${this.handleRippleDeactivate}"
        @touchcancel="${this.handleRippleDeactivate}"
    >${this.renderRipple()}
    <i class="material-icons">${this.icon}</i>
    <span
      ><slot></slot
    ></span>
  </button>`}handleRippleMouseDown(e){let n=()=>{window.removeEventListener("mouseup",n),this.handleRippleDeactivate()};window.addEventListener("mouseup",n),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}};U([Y({type:Boolean,reflect:!0})],Li.prototype,"disabled",void 0);U([Y({type:String})],Li.prototype,"icon",void 0);U([jj,Y({type:String,attribute:"aria-label"})],Li.prototype,"ariaLabel",void 0);U([$e("button")],Li.prototype,"buttonElement",void 0);U([ed("mwc-ripple")],Li.prototype,"ripple",void 0);U([pt()],Li.prototype,"shouldRenderRipple",void 0);U([Ll({passive:!0})],Li.prototype,"handleRippleMouseDown",null);U([Ll({passive:!0})],Li.prototype,"handleRippleTouchStart",null);var qj=Ht`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor;-webkit-tap-highlight-color:transparent}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc( (var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2 )}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`;var tI=class extends Li{};tI.styles=qj;tI=U([Bt("mwc-icon-button")],tI);le();le();le();var Wj={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},rd={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},Oy={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};le();var zj=function(t){P(e,t);function e(n){return t.call(this,I(I({},e.defaultAdapter),n))||this}return Object.defineProperty(e,"strings",{get:function(){return Oy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Wj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return rd},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},e}(Dn);var My=0,zse=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;return r.wasDocked_=!0,r.isDockedShowing_=!0,r.currentAppBarOffsetTop_=0,r.isCurrentlyBeingResized_=!1,r.resizeThrottleId_=My,r.resizeDebounceId_=My,r.lastScrollPosition_=r.adapter.getViewportScrollY(),r.topAppBarHeight_=r.adapter.getTopAppBarHeight(),r}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter.setStyle("top","")},e.prototype.handleTargetScroll=function(){var n=Math.max(this.adapter.getViewportScrollY(),0),r=n-this.lastScrollPosition_;this.lastScrollPosition_=n,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=r,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var n=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout(function(){n.resizeThrottleId_=My,n.throttledResizeHandler_()},rd.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout(function(){n.handleTargetScroll(),n.isCurrentlyBeingResized_=!1,n.resizeDebounceId_=My},rd.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var n=-this.topAppBarHeight_,r=this.currentAppBarOffsetTop_<0,i=this.currentAppBarOffsetTop_>n,o=r&&i;if(o)this.wasDocked_=!1;else if(this.wasDocked_){if(this.isDockedShowing_!==i)return this.isDockedShowing_=i,!0}else return this.wasDocked_=!0,!0;return o},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var n=this.currentAppBarOffsetTop_;Math.abs(n)>=this.topAppBarHeight_&&(n=-rd.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",n+"px")}},e.prototype.throttledResizeHandler_=function(){var n=this.adapter.getTopAppBarHeight();this.topAppBarHeight_!==n&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-n,this.topAppBarHeight_=n),this.handleTargetScroll()},e}(zj);var Gj=zse;le();var nI=bj?{passive:!0}:void 0,Bl=class extends Br{constructor(){super(...arguments);this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){this.unregisterScrollListener();let n=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",n),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){let e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=de`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(e=de`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${e}</section>`),de`
      <header class="mdc-top-app-bar ${Qt(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:e}
        </section>
        ${this.centerTitle?e:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${Qt(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},Js(this.mdcRoot)),{setStyle:(e,n)=>this.mdcRoot.style.setProperty(e,n),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(Oy.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,nI)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}};U([$e(".mdc-top-app-bar")],Bl.prototype,"mdcRoot",void 0);U([$e('slot[name="actionItems"]')],Bl.prototype,"_actionItemsSlot",void 0);U([Y({type:Boolean})],Bl.prototype,"centerTitle",void 0);U([Y({type:Object})],Bl.prototype,"scrollTarget",null);var $h=class extends Bl{constructor(){super(...arguments);this.mdcFoundationClass=Gj,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,nI)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}};U([Y({type:Boolean,reflect:!0})],$h.prototype,"prominent",void 0);U([Y({type:Boolean,reflect:!0})],$h.prototype,"dense",void 0);var Kj=Ht`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-primary, #fff))}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-surface--hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff);width:100%;width:var(--mdc-top-app-bar-width, 100%)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`;var rI=class extends $h{};rI.styles=Kj;rI=U([Bt("mwc-top-app-bar")],rI);var Yj=Tt`
  :host {
    display: flex;
    flex-wrap: wrap;
    flex-grow: 1;
    justify-content: center;

    --mdc-list-vertical-padding: 0;
    --mdc-icon-button-size: 60px;
    --mdc-drawer-width: 200px;
  }
  h1, h2, h3, h4 {
    margin: 15px 30px;
  }
  .indented {
    padding-left: 50px;
  }
  hr.rounded {
    border-top: 8px solid #bbb;
    border-radius: 5px;
    width: 95%
  }

  mwc-icon-button {
    color: white;
  }
  mwc-drawer {
    width:100%;
  }
  mwc-list.nested {
    margin-left: 20px;
  }


  #add-client-button {
    margin: 20px;
    --mdc-icon-size: 50px;
    position: absolute;
    background-color: rgb(0 0 0 / 25%);
    border-radius: 100%;
    color: white;
  }
  .client-index-wrapper {
    display: flex;
    width:100%;
  }
  .client-editable {
    display: flex;
    flex-direction: column;
  }

  .button-collection {
    display: flow-root;
  }

  .button-wrapper {
    float: right;
    margin: 5px;
  }

  content-item > mwc-drawer {
    flex-grow: 1;
  }
  .mdc-drawer {
    flex-grow: 1;
    height: unset;
  }

  #calendar {
    min-width: 675px;
  }

  #client-info {
    flex-grow: 1;
    min-width: 675px;
    max-width: 675px;
  }

  #client-header {
    display: flex;
    margin: 15px;
  }

  #client-portrait {
    display: flex;
    min-height: 200px;
    min-width: 200px;
    max-width: 300px;
    flex-grow: 1;
  }

  #client-portrait img {
    margin: auto;
    height: 70%;
    min-height: 100px;
    min-width: 100px;
    max-height: 200px;
    max-width: 200px;

  }

  #inquiry-info {
    margin: 15px;
  }
  #inquiry-info > .inquiry-left-half {
    width: 50%;
  }
  #inquiry-info > form-wrapper {
    width: 100%;
  }

  .inquiry-list-item {
    height: 30px;
  }

  .inquiry-list-item.add{
    background-color: #8eff8e; 
  }

  #coorespondence {
    display: flex;
    margin: 15px;
  }

  #coorespondence > form-wrapper {
    width: 100%;
  }

  mwc-list > .mdc-deprecated-list {
    padding-top: 0;
  }
`;le();le();le();le();le();var Xj={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},iI={NOTCH_ELEMENT_PADDING:8},$j={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};var Qj=function(t){P(e,t);function e(n){return t.call(this,I(I({},e.defaultAdapter),n))||this}return Object.defineProperty(e,"strings",{get:function(){return Xj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return $j},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return iI},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(n){var r=e.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=iI.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},e.prototype.closeNotch=function(){var n=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},e}(Dn);var Hl=class extends Br{constructor(){super(...arguments);this.mdcFoundationClass=Qj,this.width=0,this.open=!1,this.lastOpen=this.open}createAdapter(){return{addClass:e=>this.mdcRoot.classList.add(e),removeClass:e=>this.mdcRoot.classList.remove(e),setNotchWidthProperty:e=>this.notchElement.style.setProperty("width",`${e}px`),removeNotchWidthProperty:()=>this.notchElement.style.removeProperty("width")}}openOrClose(e,n){!this.mdcFoundation||(e&&n!==void 0?this.mdcFoundation.notch(n):this.mdcFoundation.closeNotch())}render(){this.openOrClose(this.open,this.width);let e=Qt({"mdc-notched-outline--notched":this.open});return de`
      <span class="mdc-notched-outline ${e}">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <slot></slot>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>`}};U([$e(".mdc-notched-outline")],Hl.prototype,"mdcRoot",void 0);U([Y({type:Number})],Hl.prototype,"width",void 0);U([Y({type:Boolean,reflect:!0})],Hl.prototype,"open",void 0);U([$e(".mdc-notched-outline__notch")],Hl.prototype,"notchElement",void 0);var Jj=Ht`.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}:host{display:block;position:absolute;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] :host,:host[dir=rtl]{text-align:right}::slotted(.mdc-floating-label){display:inline-block;position:relative;top:17px;bottom:auto;max-width:100%}::slotted(.mdc-floating-label--float-above){text-overflow:clip}.mdc-notched-outline--upgraded ::slotted(.mdc-floating-label--float-above){max-width:calc(100% / 0.75)}.mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__leading,.mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-color:var(--mdc-notched-outline-border-color, var(--mdc-theme-primary, #6200ee));border-width:1px;border-width:var(--mdc-notched-outline-stroke-width, 1px)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0;padding-top:var(--mdc-notched-outline-notch-offset, 0)}`;var oI=class extends Hl{};oI.styles=Jj;oI=U([Bt("mwc-notched-outline")],oI);var sI=class extends Br{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(e){this.formElement&&this.formElement.setAttribute("aria-label",e)}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",e=>{this.dispatchEvent(new Event("change",e))})}};le();var Zj={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};var eq=function(t){P(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return Zj},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(n){var r=e.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.float=function(n){var r=e.cssClasses,i=r.LABEL_FLOAT_ABOVE,o=r.LABEL_SHAKE;n?this.adapter.addClass(i):(this.adapter.removeClass(i),this.adapter.removeClass(o))},e.prototype.setRequired=function(n){var r=e.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleShakeAnimationEnd_=function(){var n=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},e}(Dn);var Gse=t=>({addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),getWidth:()=>t.scrollWidth,registerInteractionHandler:(e,n)=>{t.addEventListener(e,n)},deregisterInteractionHandler:(e,n)=>{t.removeEventListener(e,n)}}),tq=new WeakMap,nq=Lr(t=>e=>{if(!tq.get(e)){let r=e.committer.element;r.classList.add("mdc-floating-label");let i=Gse(r),o=new eq(i);o.init(),e.setValue(o),tq.set(e,{label:t,foundation:o})}});le();var ra={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};var rq=function(t){P(e,t);function e(n){var r=t.call(this,I(I({},e.defaultAdapter),n))||this;return r.transitionEndHandler_=function(i){return r.handleTransitionEnd(i)},r}return Object.defineProperty(e,"cssClasses",{get:function(){return ra},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.activate=function(){this.adapter.removeClass(ra.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(ra.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(ra.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(ra.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(ra.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(ra.LINE_RIPPLE_DEACTIVATING))},e}(Dn);var Kse=t=>({addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),hasClass:e=>t.classList.contains(e),setStyle:(e,n)=>t.style.setProperty(e,n),registerEventHandler:(e,n)=>{t.addEventListener(e,n)},deregisterEventHandler:(e,n)=>{t.removeEventListener(e,n)}}),iq=new WeakMap,oq=Lr(()=>t=>{if(!iq.get(t)){let n=t.committer.element;n.classList.add("mdc-line-ripple");let r=Kse(n),i=new rq(r);i.init(),t.setValue(i),iq.set(t,i)}});le();var Ly={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},sq={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},aI={LABEL_SCALE:.75},aq=["pattern","min","max","required","step","minlength","maxlength"],lq=["color","date","datetime-local","month","range","time","week"];var uq=["mousedown","touchstart"],cq=["click","keydown"],Yse=function(t){P(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,I(I({},e.defaultAdapter),n))||this;return i.isFocused_=!1,i.receivedUserInput_=!1,i.isValid_=!0,i.useNativeValidation_=!0,i.validateOnValueChange_=!0,i.helperText_=r.helperText,i.characterCounter_=r.characterCounter,i.leadingIcon_=r.leadingIcon,i.trailingIcon_=r.trailingIcon,i.inputFocusHandler_=function(){return i.activateFocus()},i.inputBlurHandler_=function(){return i.deactivateFocus()},i.inputInputHandler_=function(){return i.handleInput()},i.setPointerXOffset_=function(o){return i.setTransformOrigin(o)},i.textFieldInteractionHandler_=function(){return i.handleTextFieldInteraction()},i.validationAttributeChangeHandler_=function(o){return i.handleValidationAttributeChange(o)},i}return Object.defineProperty(e,"cssClasses",{get:function(){return sq},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ly},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return aI},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat_",{get:function(){var n=this.getNativeInput_().type;return lq.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=this;this.adapter.hasLabel()&&this.getNativeInput_().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler_():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating_(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler_),uq.forEach(function(r){n.adapter.registerInputInteractionHandler(r,n.setPointerXOffset_)}),cq.forEach(function(r){n.adapter.registerTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.validationObserver_=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},e.prototype.destroy=function(){var n=this;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler_),uq.forEach(function(r){n.adapter.deregisterInputInteractionHandler(r,n.setPointerXOffset_)}),cq.forEach(function(r){n.adapter.deregisterTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver_)},e.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput_=!0)},e.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(i){return aq.indexOf(i)>-1?(r.styleValidity_(!0),r.adapter.setLabelRequired(r.getNativeInput_().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},e.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*aI.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText_&&(this.helperText_.isPersistent()||!this.helperText_.isValidation()||!this.isValid_)&&this.helperText_.showToScreenReader()},e.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,i=r?r[0]:n,o=i.target.getBoundingClientRect(),a=i.clientX-o.left;this.adapter.setLineRippleTransformOrigin(a)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity_(n),this.styleFocused_(this.isFocused_),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},e.prototype.getValue=function(){return this.getNativeInput_().value},e.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput_().value=n),this.setCharacterCounter_(n.length),this.validateOnValueChange_){var r=this.isValid();this.styleValidity_(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.validateOnValueChange_&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},e.prototype.setValid=function(n){this.isValid_=n,this.styleValidity_(n);var r=!n&&!this.isFocused_&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},e.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange_=n},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange_},e.prototype.setUseNativeValidation=function(n){this.useNativeValidation_=n},e.prototype.isDisabled=function(){return this.getNativeInput_().disabled},e.prototype.setDisabled=function(n){this.getNativeInput_().disabled=n,this.styleDisabled_(n)},e.prototype.setHelperTextContent=function(n){this.helperText_&&this.helperText_.setContent(n)},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon_&&this.leadingIcon_.setContent(n)},e.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(n)},e.prototype.setTrailingIconContent=function(n){this.trailingIcon_&&this.trailingIcon_.setContent(n)},e.prototype.setCharacterCounter_=function(n){if(!!this.characterCounter_){var r=this.getNativeInput_().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(n,r)}},e.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},e.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},e.prototype.styleValidity_=function(n){var r=e.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText_){this.helperText_.setValidity(n);var i=this.helperText_.isValidation();if(!i)return;var o=this.helperText_.isVisible(),a=this.helperText_.getId();o&&a?this.adapter.setInputAttr(Ly.ARIA_DESCRIBEDBY,a):this.adapter.removeInputAttr(Ly.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused_=function(n){var r=e.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.styleDisabled_=function(n){var r=e.cssClasses,i=r.DISABLED,o=r.INVALID;n?(this.adapter.addClass(i),this.adapter.removeClass(o)):this.adapter.removeClass(i),this.leadingIcon_&&this.leadingIcon_.setDisabled(n),this.trailingIcon_&&this.trailingIcon_.setDisabled(n)},e.prototype.styleFloating_=function(n){var r=e.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.getNativeInput_=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(Dn);var dq=Yse;var fq=Lr(t=>e=>{let n;if(e instanceof Zc||e instanceof co)throw new Error("The `live` directive is not allowed on text or event bindings");if(e instanceof Jc)hq(e.strings),n=e.element.hasAttribute(e.name),e.value=n;else{let{element:r,name:i,strings:o}=e.committer;if(hq(o),e instanceof Yo){if(n=r[i],n===t)return}else e instanceof ci&&(n=r.getAttribute(i));if(n===String(t))return}e.setValue(t)}),hq=t=>{if(t.length!==2||t[0]!==""||t[1]!=="")throw new Error("`live` bindings can only contain a single expression")};var Xse=["touchstart","touchmove","scroll","mousewheel"],pq=(t={})=>{let e={};for(let n in t)e[n]=t[n];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},e)},we=class extends sI{constructor(){super(...arguments);this.mdcFoundationClass=dq,this.value="",this.type="text",this.placeholder="",this.label="",this.icon="",this.iconTrailing="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.min="",this.max="",this.step=null,this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.name="",this.readOnly=!1,this.autocapitalize="",this.outlineOpen=!1,this.outlineWidth=0,this.isUiValid=!0,this.focused=!1,this._validity=pq(),this._outlineUpdateComplete=null,this.validityTransform=null}get validity(){return this._checkValidity(this.value),this._validity}get willValidate(){return this.formElement.willValidate}get selectionStart(){return this.formElement.selectionStart}get selectionEnd(){return this.formElement.selectionEnd}focus(){let e=new CustomEvent("focus");this.formElement.dispatchEvent(e),this.formElement.focus()}blur(){let e=new CustomEvent("blur");this.formElement.dispatchEvent(e),this.formElement.blur()}select(){this.formElement.select()}setSelectionRange(e,n,r){this.formElement.setSelectionRange(e,n,r)}update(e){e.has("autoValidate")&&this.mdcFoundation&&this.mdcFoundation.setValidateOnValueChange(this.autoValidate),e.has("value")&&typeof this.value!="string"&&(this.value=`${this.value}`),super.update(e)}render(){let e=this.charCounter&&this.maxLength!==-1,n=!!this.helper||!!this.validationMessage||e,r={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--with-leading-icon":this.icon,"mdc-text-field--with-trailing-icon":this.iconTrailing,"mdc-text-field--end-aligned":this.endAligned};return de`
      <label class="mdc-text-field ${Qt(r)}">
        ${this.renderRipple()}
        ${this.outlined?this.renderOutline():this.renderLabel()}
        ${this.renderLeadingIcon()}
        ${this.renderPrefix()}
        ${this.renderInput(n)}
        ${this.renderSuffix()}
        ${this.renderTrailingIcon()}
        ${this.renderLineRipple()}
      </label>
      ${this.renderHelperText(n,e)}
    `}updated(e){e.has("value")&&e.get("value")!==void 0&&(this.mdcFoundation.setValue(this.value),this.autoValidate&&this.reportValidity())}renderRipple(){return this.outlined?"":de`
      <span class="mdc-text-field__ripple"></span>
    `}renderOutline(){return this.outlined?de`
      <mwc-notched-outline
          .width=${this.outlineWidth}
          .open=${this.outlineOpen}
          class="mdc-notched-outline">
        ${this.renderLabel()}
      </mwc-notched-outline>`:""}renderLabel(){return this.label?de`
      <span
          .floatingLabelFoundation=${nq(this.label)}
          id="label">${this.label}</span>
    `:""}renderLeadingIcon(){return this.icon?this.renderIcon(this.icon):""}renderTrailingIcon(){return this.iconTrailing?this.renderIcon(this.iconTrailing,!0):""}renderIcon(e,n=!1){return de`<i class="material-icons mdc-text-field__icon ${Qt({"mdc-text-field__icon--leading":!n,"mdc-text-field__icon--trailing":n})}">${e}</i>`}renderPrefix(){return this.prefix?this.renderAffix(this.prefix):""}renderSuffix(){return this.suffix?this.renderAffix(this.suffix,!0):""}renderAffix(e,n=!1){return de`<span class="mdc-text-field__affix ${Qt({"mdc-text-field__affix--prefix":!n,"mdc-text-field__affix--suffix":n})}">
        ${e}</span>`}renderInput(e){let n=this.minLength===-1?void 0:this.minLength,r=this.maxLength===-1?void 0:this.maxLength,i=this.autocapitalize?this.autocapitalize:void 0,o=this.validationMessage&&!this.isUiValid,a=e?"helper-text":void 0,l=this.focused||this.helperPersistent||o?"helper-text":void 0,u=o?"helper-text":void 0;return de`
      <input
          aria-labelledby="label"
          aria-controls="${sn(a)}"
          aria-describedby="${sn(l)}"
          aria-errortext="${sn(u)}"
          class="mdc-text-field__input"
          type="${this.type}"
          .value="${fq(this.value)}"
          ?disabled="${this.disabled}"
          placeholder="${this.placeholder}"
          ?required="${this.required}"
          ?readonly="${this.readOnly}"
          minlength="${sn(n)}"
          maxlength="${sn(r)}"
          pattern="${sn(this.pattern?this.pattern:void 0)}"
          min="${sn(this.min===""?void 0:this.min)}"
          max="${sn(this.max===""?void 0:this.max)}"
          step="${sn(this.step===null?void 0:this.step)}"
          size="${sn(this.size===null?void 0:this.size)}"
          name="${sn(this.name===""?void 0:this.name)}"
          inputmode="${sn(this.inputMode)}"
          autocapitalize="${sn(i)}"
          @input="${this.handleInputChange}"
          @focus="${this.onInputFocus}"
          @blur="${this.onInputBlur}">`}renderLineRipple(){return this.outlined?"":de`
      <span .lineRippleFoundation=${oq()}></span>
    `}renderHelperText(e,n){let r=this.validationMessage&&!this.isUiValid,i={"mdc-text-field-helper-text--persistent":this.helperPersistent,"mdc-text-field-helper-text--validation-msg":r},o=this.focused||this.helperPersistent||r?void 0:"true",a=r?this.validationMessage:this.helper;return e?de`
      <div class="mdc-text-field-helper-line">
        <div id="helper-text"
             aria-hidden="${sn(o)}"
             class="mdc-text-field-helper-text ${Qt(i)}"
             >${a}</div>
        ${this.renderCharCounter(n)}
      </div>`:""}renderCharCounter(e){let n=Math.min(this.value.length,this.maxLength);return e?de`
      <span class="mdc-text-field-character-counter"
            >${n} / ${this.maxLength}</span>`:""}onInputFocus(){this.focused=!0}onInputBlur(){this.focused=!1,this.reportValidity()}checkValidity(){let e=this._checkValidity(this.value);if(!e){let n=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(n)}return e}reportValidity(){let e=this.checkValidity();return this.mdcFoundation.setValid(e),this.isUiValid=e,e}_checkValidity(e){let n=this.formElement.validity,r=pq(n);if(this.validityTransform){let i=this.validityTransform(e,r);r=Object.assign(Object.assign({},r),i),this.mdcFoundation.setUseNativeValidation(!1)}else this.mdcFoundation.setUseNativeValidation(!0);return this._validity=r,this._validity.valid}setCustomValidity(e){this.validationMessage=e,this.formElement.setCustomValidity(e)}handleInputChange(){this.value=this.formElement.value}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init()}createAdapter(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods())}getRootAdapterMethods(){return Object.assign({registerTextFieldInteractionHandler:(e,n)=>this.addEventListener(e,n),deregisterTextFieldInteractionHandler:(e,n)=>this.removeEventListener(e,n),registerValidationAttributeChangeHandler:e=>{let n=o=>o.map(a=>a.attributeName).filter(a=>a),r=new MutationObserver(o=>{e(n(o))}),i={attributes:!0};return r.observe(this.formElement,i),r},deregisterValidationAttributeChangeHandler:e=>e.disconnect()},Js(this.mdcRoot))}getInputAdapterMethods(){return{getNativeInput:()=>this.formElement,setInputAttr:()=>{},removeInputAttr:()=>{},isFocused:()=>this.shadowRoot?this.shadowRoot.activeElement===this.formElement:!1,registerInputInteractionHandler:(e,n)=>this.formElement.addEventListener(e,n,{passive:e in Xse}),deregisterInputInteractionHandler:(e,n)=>this.formElement.removeEventListener(e,n)}}getLabelAdapterMethods(){return{floatLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.float(e),getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,hasLabel:()=>Boolean(this.labelElement),shakeLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.shake(e),setLabelRequired:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.setRequired(e)}}}getLineRippleAdapterMethods(){return{activateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},setLineRippleTransformOrigin:e=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(e)}}}async _getUpdateComplete(){let e=!1;return super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),await this._outlineUpdateComplete,e}async getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){let e=this.outlineElement;e&&(this._outlineUpdateComplete=e.updateComplete,await this._outlineUpdateComplete),super.firstUpdated(),this.mdcFoundation.setValidateOnValueChange(this.autoValidate),this.validateOnInitialRender&&this.reportValidity()}getOutlineAdapterMethods(){return{closeOutline:()=>this.outlineElement&&(this.outlineOpen=!1),hasOutline:()=>Boolean(this.outlineElement),notchOutline:e=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=e,this.outlineOpen=!0)}}}async layout(){await this.updateComplete;let e=this.labelElement;if(!e){this.outlineOpen=!1;return}let n=!!this.label&&!!this.value;if(e.floatingLabelFoundation.float(n),!this.outlined)return;this.outlineOpen=n,await this.updateComplete;let r=e.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=r)}};U([$e(".mdc-text-field")],we.prototype,"mdcRoot",void 0);U([$e("input")],we.prototype,"formElement",void 0);U([$e(".mdc-floating-label")],we.prototype,"labelElement",void 0);U([$e(".mdc-line-ripple")],we.prototype,"lineRippleElement",void 0);U([$e("mwc-notched-outline")],we.prototype,"outlineElement",void 0);U([$e(".mdc-notched-outline__notch")],we.prototype,"notchElement",void 0);U([Y({type:String})],we.prototype,"value",void 0);U([Y({type:String})],we.prototype,"type",void 0);U([Y({type:String})],we.prototype,"placeholder",void 0);U([Y({type:String}),Xn(function(t,e){e!==void 0&&this.label!==e&&this.layout()})],we.prototype,"label",void 0);U([Y({type:String})],we.prototype,"icon",void 0);U([Y({type:String})],we.prototype,"iconTrailing",void 0);U([Y({type:Boolean,reflect:!0})],we.prototype,"disabled",void 0);U([Y({type:Boolean})],we.prototype,"required",void 0);U([Y({type:Number})],we.prototype,"minLength",void 0);U([Y({type:Number})],we.prototype,"maxLength",void 0);U([Y({type:Boolean,reflect:!0}),Xn(function(t,e){e!==void 0&&this.outlined!==e&&this.layout()})],we.prototype,"outlined",void 0);U([Y({type:String})],we.prototype,"helper",void 0);U([Y({type:Boolean})],we.prototype,"validateOnInitialRender",void 0);U([Y({type:String})],we.prototype,"validationMessage",void 0);U([Y({type:Boolean})],we.prototype,"autoValidate",void 0);U([Y({type:String})],we.prototype,"pattern",void 0);U([Y({type:String})],we.prototype,"min",void 0);U([Y({type:String})],we.prototype,"max",void 0);U([Y({type:Number})],we.prototype,"step",void 0);U([Y({type:Number})],we.prototype,"size",void 0);U([Y({type:Boolean})],we.prototype,"helperPersistent",void 0);U([Y({type:Boolean})],we.prototype,"charCounter",void 0);U([Y({type:Boolean})],we.prototype,"endAligned",void 0);U([Y({type:String})],we.prototype,"prefix",void 0);U([Y({type:String})],we.prototype,"suffix",void 0);U([Y({type:String})],we.prototype,"name",void 0);U([Y({type:String})],we.prototype,"inputMode",void 0);U([Y({type:Boolean})],we.prototype,"readOnly",void 0);U([Y({type:String})],we.prototype,"autocapitalize",void 0);U([pt()],we.prototype,"outlineOpen",void 0);U([pt()],we.prototype,"outlineWidth",void 0);U([pt()],we.prototype,"isUiValid",void 0);U([pt()],we.prototype,"focused",void 0);U([Ll({passive:!0})],we.prototype,"handleInputChange",null);var mq=Ht`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-text-field--filled .mdc-text-field__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0, 0, 0, 0.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-text-field--filled:hover .mdc-text-field__ripple::before,.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:whitesmoke}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px;line-height:1.5rem}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0, 0, 0, 0.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{padding:12px;margin-left:0px;margin-right:0px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:0px;margin-right:0px}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-flex;flex-direction:column;outline:none}.mdc-text-field{width:100%}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42);border-bottom-color:var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42))}.mdc-text-field:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87);border-bottom-color:var(--mdc-text-field-hover-line-color, rgba(0, 0, 0, 0.87))}.mdc-text-field.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06);border-bottom-color:var(--mdc-text-field-disabled-line-color, rgba(0, 0, 0, 0.06))}.mdc-text-field.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-idle-border-color, rgba(0, 0, 0, 0.38) )}:host(:not([disabled]):hover) :not(.mdc-text-field--invalid):not(.mdc-text-field--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-hover-border-color, rgba(0, 0, 0, 0.87) )}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-error-color, var(--mdc-theme-error, #b00020) )}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-character-counter,:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid .mdc-text-field__icon{color:var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)) )}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input{color:var(--mdc-text-field-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg),:host(:not([disabled])) .mdc-text-field-helper-line:not(.mdc-text-field--invalid) .mdc-text-field-character-counter{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-text-field.mdc-text-field--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-disabled-border-color, rgba(0, 0, 0, 0.06) )}:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field .mdc-text-field__input,:host([disabled]) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-helper-text,:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-character-counter{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}`;var lI=class extends we{};lI.styles=mq;lI=U([Bt("mwc-textfield")],lI);var Qo=class extends ze{constructor(){super(...arguments);this.title=null;this.formObject=null;this.collectionKey=null;this.docKey=null;this.size=20;this.getForm=()=>{let e=[],n=([r,i])=>({collectionKey:this.formObject.collectionKey,dbKey:this.formObject.id,label:r,data:i});for(let r of Object.entries(this.formObject))e.push(n(r));return e};this.updateValue=(e,n)=>{console.log(n);let r=new CustomEvent("value-changed",{detail:{data:{collectionKey:this.collectionKey,docKey:this.docKey,fieldKey:e.label,value:n},message:"value changed"},bubbles:!0,composed:!0});this.dispatchEvent(r)};this.decompressKey=e=>{let n=e.replace(/([A-Z])/g," $1").trim();return n.charAt(0).toUpperCase()+n.slice(1)}}render(){return ce`
      <div>
        ${this.title?ce`<h2>${this.title}</h2>`:ce``}
        <div class="form">
          ${this.formObject?this.getForm().map(e=>e.data.type?ce`
                <mwc-textfield
                  @change="${n=>{console.log(n);let r=n.composedPath();console.log(r);let i=r[0];console.log(i.validity);let o=i.value;this.updateValue(e,o)}}"
                  size="${this.size}"
                  label="${this.decompressKey(e.label)}"
                  value="${e.data.value}"
                  type="${e.data.type}"
                  icon="${e.data.type==="date"?"event":""}"
                  >
                </mwc-textfield>
            `:ce`<span></span>`):ce``}
        </div>
      </div>
    `}};Qo.styles=Tt`
    :host {
      margin: auto;
    }
    :host .form {
      margin: auto;
      display: flex;
      flex-wrap: wrap;
      width: 100%;
    }
    h1, h2, h3, h4 {
      margin: auto 15px;
    }
    mwc-textfield {
      margin: 5px;
      flex-grow: 1;
    }
    span {
      width: 100%;
    }
  `,Z([pe({type:String})],Qo.prototype,"title",2),Z([pe({type:Object})],Qo.prototype,"formObject",2),Z([pe({type:String})],Qo.prototype,"collectionKey",2),Z([pe({type:String})],Qo.prototype,"docKey",2),Z([pe({type:Number})],Qo.prototype,"size",2),Qo=Z([st("form-wrapper")],Qo);le();var se,$se,Qh,vq,gq,yq,Fy={},uI=[],Qse=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ia(t,e){for(var n in e)t[n]=e[n];return t}function bq(t){var e=t.parentNode;e&&e.removeChild(t)}function Fi(t,e,n){var r,i,o,a=arguments,l={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:l[o]=e[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(n!=null&&(l.children=n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return Uy(t,l,r,i,null)}function Uy(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++se.__v};return se.vnode!=null&&se.vnode(o),o}function By(){return{current:null}}function fo(t){return t.children}function mr(t,e){this.props=t,this.context=e}function Jh(t,e){if(e==null)return t.__?Jh(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Jh(t):null}function _q(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return _q(t)}}function cI(t){(!t.__d&&(t.__d=!0)&&Qh.push(t)&&!Hy.__r++||gq!==se.debounceRendering)&&((gq=se.debounceRendering)||vq)(Hy)}function Hy(){for(var t;Hy.__r=Qh.length;)t=Qh.sort(function(e,n){return e.__v.__b-n.__v.__b}),Qh=[],t.some(function(e){var n,r,i,o,a,l;e.__d&&(a=(o=(n=e).__v).__e,(l=n.__P)&&(r=[],(i=ia({},o)).__v=o.__v+1,dI(l,o,i,n.__n,l.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??Jh(o),o.__h),Iq(r,o),o.__e!=a&&_q(o)))})}function wq(t,e,n,r,i,o,a,l,u,d){var f,p,m,g,y,_,w,S=r&&r.__k||uI,C=S.length;for(n.__k=[],f=0;f<e.length;f++)if((g=n.__k[f]=(g=e[f])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?Uy(null,g,null,null,g):Array.isArray(g)?Uy(fo,{children:g},null,null,null):g.__b>0?Uy(g.type,g.props,g.key,null,g.__v):g)!=null){if(g.__=n,g.__b=n.__b+1,(m=S[f])===null||m&&g.key==m.key&&g.type===m.type)S[f]=void 0;else for(p=0;p<C;p++){if((m=S[p])&&g.key==m.key&&g.type===m.type){S[p]=void 0;break}m=null}dI(t,g,m=m||Fy,i,o,a,l,u,d),y=g.__e,(p=g.ref)&&m.ref!=p&&(w||(w=[]),m.ref&&w.push(m.ref,null,g),w.push(p,g.__c||y,g)),y!=null?(_==null&&(_=y),typeof g.type=="function"&&g.__k!=null&&g.__k===m.__k?g.__d=u=Eq(g,u,t):u=Sq(t,g,m,S,y,u),d||n.type!=="option"?typeof n.type=="function"&&(n.__d=u):t.value=""):u&&m.__e==u&&u.parentNode!=t&&(u=Jh(m))}for(n.__e=_,f=C;f--;)S[f]!=null&&(typeof n.type=="function"&&S[f].__e!=null&&S[f].__e==n.__d&&(n.__d=Jh(r,f+1)),kq(S[f],S[f]));if(w)for(f=0;f<w.length;f++)Rq(w[f],w[++f],w[++f])}function Eq(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?Eq(i,e,n):Sq(n,i,i,t.__k,i.__e,e));return e}function Zh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Zh(n,e)}):e.push(t)),e}function Sq(t,e,n,r,i,o){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<r.length;u+=2)if(l==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function Jse(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||Vy(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||Vy(t,o,e[o],n[o],r)}function xq(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Qse.test(e)?n:n+"px"}function Vy(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||xq(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||xq(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?Cq:Tq,o):t.removeEventListener(e,o?Cq:Tq,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function Tq(t){this.l[t.type+!1](se.event?se.event(t):t)}function Cq(t){this.l[t.type+!0](se.event?se.event(t):t)}function dI(t,e,n,r,i,o,a,l,u){var d,f,p,m,g,y,_,w,S,C,R,A=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,o=[l]),(d=se.__b)&&d(e);try{e:if(typeof A=="function"){if(w=e.props,S=(d=A.contextType)&&r[d.__c],C=d?S?S.props.value:d.__:r,n.__c?_=(f=e.__c=n.__c).__=f.__E:("prototype"in A&&A.prototype.render?e.__c=f=new A(w,C):(e.__c=f=new mr(w,C),f.constructor=A,f.render=eae),S&&S.sub(f),f.props=w,f.state||(f.state={}),f.context=C,f.__n=r,p=f.__d=!0,f.__h=[]),f.__s==null&&(f.__s=f.state),A.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ia({},f.__s)),ia(f.__s,A.getDerivedStateFromProps(w,f.__s))),m=f.props,g=f.state,p)A.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(A.getDerivedStateFromProps==null&&w!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,C),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,C)===!1||e.__v===n.__v){f.props=w,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(L){L&&(L.__=e)}),f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,C),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,g,y)})}f.context=C,f.props=w,f.state=f.__s,(d=se.__r)&&d(e),f.__d=!1,f.__v=e,f.__P=t,d=f.render(f.props,f.state,f.context),f.state=f.__s,f.getChildContext!=null&&(r=ia(ia({},r),f.getChildContext())),p||f.getSnapshotBeforeUpdate==null||(y=f.getSnapshotBeforeUpdate(m,g)),R=d!=null&&d.type===fo&&d.key==null?d.props.children:d,wq(t,Array.isArray(R)?R:[R],e,n,r,i,o,a,l,u),f.base=e.__e,e.__h=null,f.__h.length&&a.push(f),_&&(f.__E=f.__=null),f.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Zse(n.__e,e,n,r,i,o,a,u);(d=se.diffed)&&d(e)}catch(L){e.__v=null,(u||o!=null)&&(e.__e=l,e.__h=!!u,o[o.indexOf(l)]=null),se.__e(L,e,n)}}function Iq(t,e){se.__c&&se.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){se.__e(r,n.__v)}})}function Zse(t,e,n,r,i,o,a,l){var u,d,f,p,m=n.props,g=e.props,y=e.type,_=0;if(y==="svg"&&(i=!0),o!=null){for(;_<o.length;_++)if((u=o[_])&&(u===t||(y?u.localName==y:u.nodeType==3))){t=u,o[_]=null;break}}if(t==null){if(y===null)return document.createTextNode(g);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,g.is&&g),o=null,l=!1}if(y===null)m===g||l&&t.data===g||(t.data=g);else{if(o=o&&uI.slice.call(t.childNodes),d=(m=n.props||Fy).dangerouslySetInnerHTML,f=g.dangerouslySetInnerHTML,!l){if(o!=null)for(m={},p=0;p<t.attributes.length;p++)m[t.attributes[p].name]=t.attributes[p].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(Jse(t,g,m,i,l),f)e.__k=[];else if(_=e.props.children,wq(t,Array.isArray(_)?_:[_],e,n,r,i&&y!=="foreignObject",o,a,t.firstChild,l),o!=null)for(_=o.length;_--;)o[_]!=null&&bq(o[_]);l||("value"in g&&(_=g.value)!==void 0&&(_!==t.value||y==="progress"&&!_)&&Vy(t,"value",_,m.value,!1),"checked"in g&&(_=g.checked)!==void 0&&_!==t.checked&&Vy(t,"checked",_,m.checked,!1))}return t}function Rq(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){se.__e(r,n)}}function kq(t,e,n){var r,i,o;if(se.unmount&&se.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Rq(r,null,e)),n||typeof t.type=="function"||(n=(i=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){se.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&kq(r[o],e,n);i!=null&&bq(i)}function eae(t,e,n){return this.constructor(t,n)}function Vl(t,e,n){var r,i,o;se.__&&se.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],dI(e,t=(!r&&n||e).__k=Fi(fo,null,[t]),i||Fy,Fy,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?uI.slice.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),Iq(o,t)}function jy(t,e){var n={__c:e="__cC"+yq++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(cI)},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}se={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t},__v:0},$se=function(t){return t!=null&&t.constructor===void 0},mr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ia({},this.state),typeof t=="function"&&(t=t(ia({},n),this.props)),t&&ia(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),cI(this))},mr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),cI(this))},mr.prototype.render=fo,Qh=[],vq=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hy.__r=0,yq=0;var tae,jl,Aq;var fI=[],Dq=se.__b,Nq=se.__r,Pq=se.diffed,Oq=se.__c,Mq=se.unmount;function nae(){fI.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(qy),t.__H.__h.forEach(hI),t.__H.__h=[]}catch(e){t.__H.__h=[],se.__e(e,t.__v)}}),fI=[]}se.__b=function(t){jl=null,Dq&&Dq(t)},se.__r=function(t){Nq&&Nq(t),tae=0;var e=(jl=t.__c).__H;e&&(e.__h.forEach(qy),e.__h.forEach(hI),e.__h=[])},se.diffed=function(t){Pq&&Pq(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(fI.push(e)!==1&&Aq===se.requestAnimationFrame||((Aq=se.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Lq&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Lq&&(r=requestAnimationFrame(i))})(nae)),jl=void 0},se.__c=function(t,e){e.some(function(n){try{n.__h.forEach(qy),n.__h=n.__h.filter(function(r){return!r.__||hI(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],se.__e(r,n.__v)}}),Oq&&Oq(t,e)},se.unmount=function(t){Mq&&Mq(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(qy)}catch(n){se.__e(n,e.__v)}};var Lq=typeof requestAnimationFrame=="function";function qy(t){var e=jl;typeof t.__c=="function"&&t.__c(),jl=e}function hI(t){var e=jl;t.__c=t.__(),jl=e}function rae(t,e){for(var n in e)t[n]=e[n];return t}function Fq(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Uq(t){this.props=t}(Uq.prototype=new mr).isPureReactComponent=!0,Uq.prototype.shouldComponentUpdate=function(t,e){return Fq(this.props,t)||Fq(this.state,e)};var Bq=se.__b;se.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Bq&&Bq(t)};var jSe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var iae=se.__e;se.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}iae(t,e,n)};var Hq=se.unmount;function pI(){this.__u=0,this.t=null,this.__b=null}function Vq(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Wy(){this.u=null,this.o=null}se.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Hq&&Hq(t)},(pI.prototype=new mr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Vq(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__e){var d=r.state.__e;r.__v.__k[0]=function p(m,g,y){return m&&(m.__v=null,m.__k=m.__k&&m.__k.map(function(_){return p(_,g,y)}),m.__c&&m.__c.__P===g&&(m.__e&&y.insertBefore(m.__e,m.__d),m.__c.__e=!0,m.__c.__P=y)),m}(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__e:r.__b=null});f=r.t.pop();)f.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},pI.prototype.componentWillUnmount=function(){this.t=[]},pI.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,l,u){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(d){typeof d.__c=="function"&&d.__c()}),a.__c.__H=null),(a=rae({},a)).__c!=null&&(a.__c.__P===u&&(a.__c.__P=l),a.__c=null),a.__k=a.__k&&a.__k.map(function(d){return o(d,l,u)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&Fi(fo,null,t.fallback);return i&&(i.__h=null),[Fi(fo,null,e.__e?null:t.children),i]};var jq=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function oae(t){return this.getChildContext=function(){return t.context},t.children}function sae(t){var e=this,n=t.i;e.componentWillUnmount=function(){Vl(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Vl(Fi(oae,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function qq(t,e){return Fi(sae,{__v:t,i:e})}(Wy.prototype=new mr).__e=function(t){var e=this,n=Vq(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),jq(e,t,r)):i()};n?n(o):o()}},Wy.prototype.render=function(t){this.u=null,this.o=new Map;var e=Zh(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Wy.prototype.componentDidUpdate=Wy.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){jq(t,n,e)})};var aae=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,lae=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uae=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};mr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(mr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Wq=se.event;function cae(){}function dae(){return this.cancelBubble}function fae(){return this.defaultPrevented}se.event=function(t){return Wq&&(t=Wq(t)),t.persist=cae,t.isPropagationStopped=dae,t.isDefaultPrevented=fae,t.nativeEvent=t};var hae,zq={configurable:!0,get:function(){return this.class}},Gq=se.vnode;se.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!uae(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():lae.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Zh(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Zh(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(zq.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",zq)),t.$$typeof=aae,Gq&&Gq(t)};var Kq=se.__r;se.__r=function(t){Kq&&Kq(t),hae=t.__c};var qSe=typeof performance=="object"&&typeof performance.now=="function"?performance.now.bind(performance):function(){return Date.now()};var Yq=typeof globalThis!="undefined"?globalThis:window;Yq.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):Yq.FullCalendarVDom={Component:mr,createElement:Fi,render:Vl,createRef:By,Fragment:fo,createContext:vae,createPortal:qq,flushToDom:pae,unmountComponentAtNode:gae};function pae(){var t=se.debounceRendering,e=[];function n(r){e.push(r)}for(se.debounceRendering=n,Vl(Fi(mae,{}),document.createElement("div"));e.length;)e.shift()();se.debounceRendering=t}var mae=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return Fi("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(mr);function vae(t){var e=jy(t),n=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,o=n.apply(this,arguments);if(i){var a=[];this.shouldComponentUpdate=function(l){r.props.value!==l.value&&a.forEach(function(u){u.context=l.value,u.forceUpdate()})},this.sub=function(l){a.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),u&&u.call(l)}}}return o},e}function gae(t){Vl(null,t)}le();le();if(typeof FullCalendarVDom=="undefined")throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var zy=FullCalendarVDom.Component,x=FullCalendarVDom.createElement,Xq=FullCalendarVDom.render,xe=FullCalendarVDom.createRef,ge=FullCalendarVDom.Fragment,mI=FullCalendarVDom.createContext,$q=FullCalendarVDom.createPortal,vI=FullCalendarVDom.flushToDom,Qq=FullCalendarVDom.unmountComponentAtNode;var id=function(){function t(e,n){this.context=e,this.internalEventSource=n}return t.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},t.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(t.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),t}();function ql(t){t.parentNode&&t.parentNode.removeChild(t)}function jt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Gy(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Gy(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector;return n.call(t,e)}function Jo(t,e){for(var n=t instanceof HTMLElement?[t]:t,r=[],i=0;i<n.length;i+=1)for(var o=n[i].querySelectorAll(e),a=0;a<o.length;a+=1)r.push(o[a]);return r}function Jq(t,e){for(var n=t instanceof HTMLElement?[t]:t,r=[],i=0;i<n.length;i+=1)for(var o=n[i].children,a=0;a<o.length;a+=1){var l=o[a];(!e||Gy(l,e))&&r.push(l)}return r}var yae=/(top|left|right|bottom|width|height)$/i;function Zo(t,e){for(var n in e)gI(t,n,e[n])}function gI(t,e,n){n==null?t.style[e]="":typeof n=="number"&&yae.test(e)?t.style[e]=n+"px":t.style[e]=n}function bae(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}function Ky(t){t.preventDefault()}function Zq(t,e){return function(n){var r=jt(n.target,t);r&&e.call(r,n,r)}}function e4(t,e,n,r){var i=Zq(n,r);return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function _ae(t,e,n,r){var i;return e4(t,"mouseover",e,function(o,a){if(a!==i){i=a,n(o,a);var l=function(u){i=null,r(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}var t4=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function n4(t,e){var n=function(r){e(r),t4.forEach(function(i){t.removeEventListener(i,n)})};t4.forEach(function(r){t.addEventListener(r,n)})}var r4=0;function ho(){return r4+=1,String(r4)}function ep(){document.body.classList.add("fc-not-allowed")}function tp(){document.body.classList.remove("fc-not-allowed")}function i4(t){t.classList.add("fc-unselectable"),t.addEventListener("selectstart",Ky)}function o4(t){t.classList.remove("fc-unselectable"),t.removeEventListener("selectstart",Ky)}function s4(t){t.addEventListener("contextmenu",Ky)}function a4(t){t.removeEventListener("contextmenu",Ky)}function Yy(t){var e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function yI(t,e,n){var r,i;for(r=0;r<n.length;r+=1)if(i=wae(t,e,n[r]),i)return i;return 0}function wae(t,e,n){return n.func?n.func(t,e):bI(t[n.field],e[n.field])*(n.order||1)}function bI(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function po(t,e){var n=String(t);return"000".substr(0,e-n.length)+n}function l4(t,e){return t-e}function oa(t){return t%1==0}function Eae(t){var e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var u4=["sun","mon","tue","wed","thu","fri","sat"];function _I(t,e){var n=aa(t);return n[2]+=e*7,vr(n)}function qt(t,e){var n=aa(t);return n[2]+=e,vr(n)}function es(t,e){var n=aa(t);return n[6]+=e,vr(n)}function c4(t,e){return sa(t,e)/7}function sa(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Sae(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function xae(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Tae(t,e){return(e.valueOf()-t.valueOf())/1e3}function Cae(t,e){var n=Ve(t),r=Ve(e);return{years:0,months:0,days:Math.round(sa(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function Iae(t,e){var n=od(t,e);return n!==null&&n%7==0?n/7:null}function od(t,e){return la(t)===la(e)?Math.round(sa(t,e)):null}function Ve(t){return vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Rae(t){return vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function kae(t){return vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Aae(t){return vr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Dae(t,e,n){var r=t.getUTCFullYear(),i=wI(t,r,e,n);if(i<1)return wI(t,r-1,e,n);var o=wI(t,r+1,e,n);return o>=1?Math.min(i,o):i}function wI(t,e,n,r){var i=vr([e,0,1+Nae(e,n,r)]),o=Ve(t),a=Math.round(sa(i,o));return Math.floor(a/7)+1}function Nae(t,e,n){var r=7+e-n,i=(7+vr([t,0,r]).getUTCDay()-e)%7;return-i+r-1}function d4(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function f4(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function aa(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function vr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC.apply(Date,t))}function Xy(t){return!isNaN(t.valueOf())}function la(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function np(t,e,n,r){return{instanceId:ho(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}var $y=Object.prototype.hasOwnProperty;function EI(t,e){var n={};if(e)for(var r in e){for(var i=[],o=t.length-1;o>=0;o-=1){var a=t[o][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){n[r]=a;break}}i.length&&(n[r]=EI(i))}for(var o=t.length-1;o>=0;o-=1){var l=t[o];for(var u in l)u in n||(n[u]=l[u])}return n}function mo(t,e){var n={};for(var r in t)e(t[r],r)&&(n[r]=t[r]);return n}function kt(t,e){var n={};for(var r in t)n[r]=e(t[r],r);return n}function h4(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];e[i]=!0}return e}function SI(t){var e=[];for(var n in t)e.push(t[n]);return e}function Jt(t,e){if(t===e)return!0;for(var n in t)if($y.call(t,n)&&!(n in e))return!1;for(var n in e)if($y.call(e,n)&&t[n]!==e[n])return!1;return!0}function p4(t,e){var n=[];for(var r in t)$y.call(t,r)&&(r in e||n.push(r));for(var r in e)$y.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Qy(t,e,n){if(n===void 0&&(n={}),t===e)return!0;for(var r in e)if(!(r in t&&Pae(t[r],e[r],n[r])))return!1;for(var r in t)if(!(r in e))return!1;return!0}function Pae(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function xI(t,e,n,r){e===void 0&&(e=0),r===void 0&&(r=1);var i=[];n==null&&(n=Object.keys(t).length);for(var o=e;o<n;o+=r){var a=t[o];a!==void 0&&i.push(a)}return i}function Oae(t,e,n,r){for(var i=0;i<r.length;i+=1){var o=r[i].parse(t,n);if(o){var a=t.allDay;return a==null&&(a=e,a==null&&(a=o.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}function sd(t,e,n){var r=n.dateEnv,i=n.pluginHooks,o=n.options,a=t.defs,l=t.instances;l=mo(l,function(w){return!a[w.defId].recurringDef});for(var u in a){var d=a[u];if(d.recurringDef){var f=d.recurringDef.duration;f||(f=d.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);for(var p=Mae(d,f,e,r,i.recurringTypes),m=0,g=p;m<g.length;m++){var y=g[m],_=np(u,{start:y,end:r.add(y,f)});l[_.instanceId]=_}}}return{defs:a,instances:l}}function Mae(t,e,n,r,i){var o=i[t.recurringDef.typeId],a=o.expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(a=a.map(Ve)),a}var m4=["years","months","days","milliseconds"],Lae=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ye(t,e){var n;return typeof t=="string"?Fae(t):typeof t=="object"&&t?v4(t):typeof t=="number"?v4((n={},n[e||"milliseconds"]=t,n)):null}function Fae(t){var e=Lae.exec(t);if(e){var n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function v4(t){var e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Uae(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function TI(t){return!t.years&&!t.months&&!t.milliseconds?t.days:0}function Jy(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function Bae(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Zy(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Hae(t){return ad(t)/365}function Vae(t){return ad(t)/30}function ad(t){return an(t)/864e5}function g4(t){return an(t)/(1e3*60)}function y4(t){return an(t)/1e3}function an(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function vo(t,e){for(var n=null,r=0;r<m4.length;r+=1){var i=m4[r];if(e[i]){var o=t[i]/e[i];if(!oa(o)||n!==null&&n!==o)return null;n=o}else if(t[i])return null}return n}function go(t){var e=t.milliseconds;if(e){if(e%1e3!=0)return{unit:"millisecond",value:e};if(e%(1e3*60)!=0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!=0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7==0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ld(t,e,n){n===void 0&&(n=!1);var r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",CI(e,!0)))),r}function rp(t){return t.toISOString().replace(/T.*$/,"")}function b4(t){return po(t.getUTCHours(),2)+":"+po(t.getUTCMinutes(),2)+":"+po(t.getUTCSeconds(),2)}function CI(t,e){e===void 0&&(e=!1);var n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=Math.round(r%60);return e?n+po(i,2)+":"+po(o,2):"GMT"+n+i+(o?":"+po(o,2):"")}function gr(t,e,n){if(t===e)return!0;var r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}function Q(t,e,n){var r,i;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!r)i=t.apply(this,o);else if(!gr(r,o)){n&&n(i);var l=t.apply(this,o);(!e||!e(l,i))&&(i=l)}return r=o,i}}function ts(t,e,n){var r=this,i,o;return function(a){if(!i)o=t.call(r,a);else if(!Jt(i,a)){n&&n(o);var l=t.call(r,a);(!e||!e(l,o))&&(o=l)}return i=a,o}}function eb(t,e,n){var r=this,i=[],o=[];return function(a){for(var l=i.length,u=a.length,d=0;d<l;d+=1)if(!a[d])n&&n(o[d]);else if(!gr(i[d],a[d])){n&&n(o[d]);var f=t.apply(r,a[d]);(!e||!e(f,o[d]))&&(o[d]=f)}for(;d<u;d+=1)o[d]=t.apply(r,a[d]);return i=a,o.splice(u),o}}function II(t,e,n){var r=this,i={},o={};return function(a){var l={};for(var u in a)if(!o[u])l[u]=t.apply(r,a[u]);else if(gr(i[u],a[u]))l[u]=o[u];else{n&&n(o[u]);var d=t.apply(r,a[u]);l[u]=e&&e(d,o[u])?o[u]:d}return i=a,o=l,l}}var _4={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},tb={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},nb=/\s*([ap])\.?m\.?/i,jae=/,/g,qae=/\s+/g,Wae=/\u200e/g,zae=/UTC|GMT/,Gae=function(){function t(e){var n={},r={},i=0;for(var o in e)o in _4?(r[o]=e[o],i=Math.max(_4[o],i)):(n[o]=e[o],o in tb&&(i=Math.max(tb[o],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Q(w4)}return t.prototype.format=function(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)},t.prototype.formatRange=function(e,n,r,i){var o=this,a=o.standardDateProps,l=o.extendedSettings,u=Jae(e.marker,n.marker,r.calendarSystem);if(!u)return this.format(e,r);var d=u;d>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(d=1);var f=this.format(e,r),p=this.format(n,r);if(f===p)return f;var m=Zae(a,d),g=w4(m,l,r),y=g(e),_=g(n),w=ele(f,y,p,_),S=l.separator||i||r.defaultSeparator||"";return w?w.before+y+S+_+w.after:f+S+p},t.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},t}();function w4(t,e,n){var r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?function(i){return CI(i.timeZoneOffset)}:r===0&&e.week?function(i){return Qae(n.computeWeekNumber(i.marker),n.weekText,n.locale,e.week)}:Kae(t,e,n)}function Kae(t,e,n){t=I({},t),e=I({},e),Yae(t,e),t.timeZone="UTC";var r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){var o=I({},t);delete o.minute,i=new Intl.DateTimeFormat(n.locale.codes,o)}return function(a){var l=a.marker,u;i&&!l.getUTCMinutes()?u=i:u=r;var d=u.format(l);return Xae(d,a,t,e,n)}}function Yae(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Xae(t,e,n,r,i){return t=t.replace(Wae,""),n.timeZoneName==="short"&&(t=$ae(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":CI(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(jae,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(nb,"").trim():r.meridiem==="narrow"?t=t.replace(nb,function(o,a){return a.toLocaleLowerCase()}):r.meridiem==="short"?t=t.replace(nb,function(o,a){return a.toLocaleLowerCase()+"m"}):r.meridiem==="lowercase"&&(t=t.replace(nb,function(o){return o.toLocaleLowerCase()})),t=t.replace(qae," "),t=t.trim(),t}function $ae(t,e){var n=!1;return t=t.replace(zae,function(){return n=!0,e}),n||(t+=" "+e),t}function Qae(t,e,n,r){var i=[];return r==="narrow"?i.push(e):r==="short"&&i.push(e," "),i.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function Jae(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:la(t)!==la(e)?1:0}function Zae(t,e){var n={};for(var r in t)(!(r in tb)||tb[r]<=e)&&(n[r]=t[r]);return n}function ele(t,e,n,r){for(var i=0;i<t.length;){var o=t.indexOf(e,i);if(o===-1)break;var a=t.substr(0,o);i=o+e.length;for(var l=t.substr(i),u=0;u<n.length;){var d=n.indexOf(r,u);if(d===-1)break;var f=n.substr(0,d);u=d+r.length;var p=n.substr(u);if(a===f&&l===p)return{before:a,after:l}}}return null}function E4(t,e){var n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function rb(t,e,n,r){var i=E4(t,n.calendarSystem),o=e?E4(e,n.calendarSystem):null;return{date:i,start:i,end:o,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var tle=function(){function t(e){this.cmdStr=e}return t.prototype.format=function(e,n,r){return n.cmdFormatter(this.cmdStr,rb(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return r.cmdFormatter(this.cmdStr,rb(e,n,r,i))},t}(),nle=function(){function t(e){this.func=e}return t.prototype.format=function(e,n,r){return this.func(rb(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return this.func(rb(e,n,r,i))},t}();function ut(t){return typeof t=="object"&&t?new Gae(t):typeof t=="string"?new tle(t):typeof t=="function"?new nle(t):null}var S4={navLinkDayClick:F,navLinkWeekClick:F,duration:ye,bootstrapFontAwesome:F,buttonIcons:F,customButtons:F,defaultAllDayEventDuration:ye,defaultTimedEventDuration:ye,nextDayThreshold:ye,scrollTime:ye,scrollTimeReset:Boolean,slotMinTime:ye,slotMaxTime:ye,dayPopoverFormat:ut,slotDuration:ye,snapDuration:ye,headerToolbar:F,footerToolbar:F,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ut,dayHeaderClassNames:F,dayHeaderContent:F,dayHeaderDidMount:F,dayHeaderWillUnmount:F,dayCellClassNames:F,dayCellContent:F,dayCellDidMount:F,dayCellWillUnmount:F,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:F,weekNumbers:Boolean,weekNumberClassNames:F,weekNumberContent:F,weekNumberDidMount:F,weekNumberWillUnmount:F,editable:Boolean,viewClassNames:F,viewDidMount:F,viewWillUnmount:F,nowIndicator:Boolean,nowIndicatorClassNames:F,nowIndicatorContent:F,nowIndicatorDidMount:F,nowIndicatorWillUnmount:F,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:F,locale:F,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:F,eventOrder:Yy,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:F,contentHeight:F,direction:String,weekNumberFormat:ut,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,progressiveEventRendering:Boolean,businessHours:F,initialDate:F,now:F,eventDataTransform:F,stickyHeaderDates:F,stickyFooterScrollbar:F,viewHeight:F,defaultAllDay:Boolean,eventSourceFailure:F,eventSourceSuccess:F,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:F,eventConstraint:F,eventAllow:F,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:F,eventContent:F,eventDidMount:F,eventWillUnmount:F,selectConstraint:F,selectOverlap:F,selectAllow:F,droppable:Boolean,unselectCancel:String,slotLabelFormat:F,slotLaneClassNames:F,slotLaneContent:F,slotLaneDidMount:F,slotLaneWillUnmount:F,slotLabelClassNames:F,slotLabelContent:F,slotLabelDidMount:F,slotLabelWillUnmount:F,dayMaxEvents:F,dayMaxEventRows:F,dayMinWidth:Number,slotLabelInterval:ye,allDayText:String,allDayClassNames:F,allDayContent:F,allDayDidMount:F,allDayWillUnmount:F,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ut,rerenderDelay:Number,moreLinkText:F,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:F,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ye,hiddenDays:F,monthMode:Boolean,fixedWeekCount:Boolean,validRange:F,visibleRange:F,titleFormat:F,noEventsText:String,moreLinkClick:F,moreLinkClassNames:F,moreLinkContent:F,moreLinkDidMount:F,moreLinkWillUnmount:F},Wl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},x4={datesSet:F,eventsSet:F,eventAdd:F,eventChange:F,eventRemove:F,windowResize:F,eventClick:F,eventMouseEnter:F,eventMouseLeave:F,select:F,unselect:F,loading:F,_unmount:F,_beforeprint:F,_afterprint:F,_noEventDrop:F,_noEventResize:F,_resize:F,_scrollRequest:F},T4={buttonText:F,views:F,plugins:F,initialEvents:F,events:F,eventSources:F},RI={headerToolbar:ib,footerToolbar:ib,buttonText:ib,buttonIcons:ib};function ib(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Jt(t,e):t===e}var rle={type:String,component:F,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:F,usesMinMaxTime:Boolean,classNames:F,content:F,didMount:F,willUnmount:F};function kI(t){return EI(t,RI)}function zl(t,e){var n={},r={};for(var i in e)i in t&&(n[i]=e[i](t[i]));for(var i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function F(t){return t}function ob(t,e,n,r){for(var i=_n(),o=AI(n),a=0,l=t;a<l.length;a++){var u=l[a],d=I4(u,e,n,r,o);d&&ud(d,i)}return i}function ud(t,e){return e===void 0&&(e=_n()),e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function sb(t,e){var n=t.instances[e];if(n){var r=t.defs[n.defId],i=ab(t,function(o){return ile(r,o)});return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return _n()}function ile(t,e){return Boolean(t.groupId&&t.groupId===e.groupId)}function _n(){return{defs:{},instances:{}}}function ip(t,e){return{defs:I(I({},t.defs),e.defs),instances:I(I({},t.instances),e.instances)}}function ab(t,e){var n=mo(t.defs,e),r=mo(t.instances,function(i){return n[i.defId]});return{defs:n,instances:r}}function ole(t,e){var n=t.defs,r=t.instances,i={},o={};for(var a in n)e.defs[a]||(i[a]=n[a]);for(var l in r)!e.instances[l]&&i[r[l].defId]&&(o[l]=r[l]);return{defs:i,instances:o}}function sle(t,e){return Array.isArray(t)?ob(t,null,e,!0):typeof t=="object"&&t?ob([t],null,e,!0):t!=null?String(t):null}function op(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var lb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:F,overlap:F,allow:F,className:op,classNames:op,color:String,backgroundColor:String,borderColor:String,textColor:String},ale={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function cd(t,e){var n=sle(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function ub(t){return t.reduce(lle,ale)}function lle(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var cb={id:String,groupId:String,title:String,url:String},C4={start:F,end:F,date:F,allDay:Boolean},ule=I(I(I({},cb),C4),{extendedProps:F});function I4(t,e,n,r,i){i===void 0&&(i=AI(n));var o=db(t,n,i),a=o.refined,l=o.extra,u=dle(e,n),d=Oae(a,u,n.dateEnv,n.pluginHooks.recurringTypes);if(d){var f=sp(a,l,e?e.sourceId:"",d.allDay,Boolean(d.duration),n);return f.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:f,instance:null}}var p=cle(a,u,n,r);if(p){var f=sp(a,l,e?e.sourceId:"",p.allDay,p.hasEnd,n),m=np(f.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return{def:f,instance:m}}return null}function db(t,e,n){return n===void 0&&(n=AI(e)),zl(t,n)}function AI(t){return I(I(I({},lb),ule),t.pluginHooks.eventRefiners)}function sp(t,e,n,r,i,o){for(var a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:ho(),sourceId:n,allDay:r,hasEnd:i,ui:cd(t,o),extendedProps:I(I({},t.extendedProps||{}),e)},l=0,u=o.pluginHooks.eventDefMemberAdders;l<u.length;l++){var d=u[l];I(a,d(t))}return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function cle(t,e,n,r){var i=t.allDay,o,a=null,l=!1,u,d=null,f=t.start!=null?t.start:t.date;if(o=n.dateEnv.createMarkerMeta(f),o)a=o.marker;else if(!r)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!o||o.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),i&&a&&(a=Ve(a)),u&&(d=u.marker,i&&(d=Ve(d)),a&&d<=a&&(d=null)),d?l=!0:r||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:d},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function dle(t,e){var n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function R4(t){var e=Math.floor(sa(t.start,t.end))||1,n=Ve(t.start),r=qt(n,e);return{start:n,end:r}}function fb(t,e){e===void 0&&(e=ye(0));var n=null,r=null;if(t.end){r=Ve(t.end);var i=t.end.valueOf()-r.valueOf();i&&i>=an(e)&&(r=qt(r,1))}return t.start&&(n=Ve(t.start),r&&r<=n&&(r=qt(n,1))),{start:n,end:r}}function Gl(t,e,n,r){return r==="year"?ye(n.diffWholeYears(t,e),"year"):r==="month"?ye(n.diffWholeMonths(t,e),"month"):Cae(t,e)}function fle(t,e){var n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function k4(t,e){var n=[],r=e.start,i,o;for(t.sort(hle),i=0;i<t.length;i+=1)o=t[i],o.start>r&&n.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&n.push({start:r,end:e.end}),n}function hle(t,e){return t.start.valueOf()-e.start.valueOf()}function yo(t,e){var n=t.start,r=t.end,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function DI(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function ap(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function lp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function di(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function ple(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function A4(t,e,n,r){var i={},o={},a={},l=[],u=[],d=hb(t.defs,e);for(var f in t.defs){var p=t.defs[f],m=d[p.defId];m.display==="inverse-background"&&(p.groupId?(i[p.groupId]=[],a[p.groupId]||(a[p.groupId]=p)):o[f]=[])}for(var g in t.instances){var y=t.instances[g],p=t.defs[y.defId],m=d[p.defId],_=y.range,w=!p.allDay&&r?fb(_,r):_,S=yo(w,n);S&&(m.display==="inverse-background"?p.groupId?i[p.groupId].push(S):o[y.defId].push(S):m.display!=="none"&&(m.display==="background"?l:u).push({def:p,ui:m,instance:y,range:S,isStart:w.start&&w.start.valueOf()===S.start.valueOf(),isEnd:w.end&&w.end.valueOf()===S.end.valueOf()}))}for(var C in i)for(var R=i[C],A=k4(R,n),L=0,M=A;L<M.length;L++){var W=M[L],p=a[C],m=d[p.defId];l.push({def:p,ui:m,instance:null,range:W,isStart:!1,isEnd:!1})}for(var f in o)for(var R=o[f],A=k4(R,n),K=0,q=A;K<q.length;K++){var W=q[K];l.push({def:t.defs[f],ui:d[f],instance:null,range:W,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function D4(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function N4(t,e){t.fcSeg=e}function Kl(t){return t.fcSeg||t.parentNode.fcSeg||null}function hb(t,e){return kt(t,function(n){return P4(n,e)})}function P4(t,e){var n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),ub(n)}function dd(t,e){var n=t.map(mle);return n.sort(function(r,i){return yI(r,i,e)}),n.map(function(r){return r._seg})}function mle(t){var e=t.eventRange,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return I(I(I({},n.extendedProps),n),{id:n.publicId,start:i,end:o,duration:o-i,allDay:Number(n.allDay),_seg:t})}function vle(t,e){for(var n=e.pluginHooks,r=n.isDraggableTransformers,i=t.eventRange,o=i.def,a=i.ui,l=a.startEditable,u=0,d=r;u<d.length;u++){var f=d[u];l=f(l,o,a,e)}return l}function gle(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function yle(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function NI(t,e,n,r,i,o,a){var l=n.dateEnv,u=n.options,d=u.displayEventTime,f=u.displayEventEnd,p=t.eventRange.def,m=t.eventRange.instance;d==null&&(d=r!==!1),f==null&&(f=i!==!1);var g=m.range.start,y=m.range.end,_=o||t.start||t.eventRange.range.start,w=a||t.end||t.eventRange.range.end,S=Ve(g).valueOf()===Ve(_).valueOf(),C=Ve(es(y,-1)).valueOf()===Ve(es(w,-1)).valueOf();return d&&!p.allDay&&(S||C)?(_=S?g:_,w=C?y:w,f&&p.hasEnd?l.formatRange(_,w,e,{forcedStartTzo:o?null:m.forcedStartTzo,forcedEndTzo:a?null:m.forcedEndTzo}):l.format(_,e,{forcedTzo:o?null:m.forcedStartTzo})):""}function yr(t,e,n){var r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&di(e,r.start)}}function ble(t){var e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function fd(t){return t.instance?t.instance.instanceId:t.def.defId+":"+t.range.start.toISOString()}var _le={start:F,end:F,allDay:Boolean};function wle(t,e,n){var r=Ele(t,e),i=r.range;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function Ele(t,e){var n=zl(t,_le),r=n.refined,i=n.extra,o=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,l=r.allDay;return l==null&&(l=o&&o.isTimeUnspecified&&(!a||a.isTimeUnspecified)),I({range:{start:o?o.marker:null,end:a?a.marker:null},allDay:l},i)}function O4(t,e){return DI(t.range,e.range)&&t.allDay===e.allDay&&Sle(t,e)}function Sle(t,e){for(var n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(var n in t)if(!(n in e))return!1;return!0}function xle(t,e){return I(I({},L4(t.range,e,t.allDay)),{allDay:t.allDay})}function M4(t,e,n){return I(I({},L4(t,e,n)),{timeZone:e.timeZone})}function L4(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function Tle(t,e,n){var r=db({editable:!1},n),i=sp(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:P4(i,e),instance:np(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function PI(t,e,n){n.emitter.trigger("select",I(I({},OI(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Cle(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function OI(t,e){for(var n={},r=0,i=e.pluginHooks.dateSpanTransforms;r<i.length;r++){var o=i[r];I(n,o(t,e))}return I(n,xle(t,e.dateEnv)),n}function pb(t,e,n){var r=n.dateEnv,i=n.options,o=e;return t?(o=Ve(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function mb(t,e,n,r){var i=hb(t.defs,e),o=_n();for(var a in t.defs){var l=t.defs[a];o.defs[a]=Ile(l,i[a],n,r)}for(var u in t.instances){var d=t.instances[u],l=o.defs[d.defId];o.instances[u]=Rle(d,l,i[d.defId],n,r)}return o}function Ile(t,e,n,r){var i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);var o=I(I(I({},t),i),{ui:I(I({},t.ui),i.ui)});n.extendedProps&&(o.extendedProps=I(I({},o.extendedProps),n.extendedProps));for(var a=0,l=r.pluginHooks.eventDefMutationAppliers;a<l.length;a++){var u=l[a];u(o,n,r)}return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function Rle(t,e,n,r,i){var o=i.dateEnv,a=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,u=I({},t);return a&&(u.range=R4(u.range)),r.datesDelta&&n.startEditable&&(u.range={start:o.add(u.range.start,r.datesDelta),end:o.add(u.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(u.range={start:o.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:o.add(u.range.end,r.endDelta)}),l&&(u.range={start:u.range.start,end:pb(e.allDay,u.range.start,i)}),e.allDay&&(u.range={start:Ve(u.range.start),end:Ve(u.range.end)}),u.range.end<u.range.start&&(u.range.end=pb(e.allDay,u.range.start,i)),u}var kle=function(){function t(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}return Object.defineProperty(t.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),t.prototype.getOption=function(e){return this.getCurrentData().options[e]},t}(),Ale={id:String,defaultAllDay:Boolean,url:String,format:String,events:F,eventDataTransform:F,success:F,failure:F};function F4(t,e,n){n===void 0&&(n=U4(e));var r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){var i=zl(r,n),o=i.refined,a=i.extra,l=Dle(o,e);if(l)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:o.defaultAllDay,eventDataTransform:o.eventDataTransform,success:o.success,failure:o.failure,publicId:o.id||"",sourceId:ho(),sourceDefId:l.sourceDefId,meta:l.meta,ui:cd(o,e),extendedProps:a}}return null}function U4(t){return I(I(I({},lb),Ale),t.pluginHooks.eventSourceRefiners)}function Dle(t,e){for(var n=e.pluginHooks.eventSourceDefs,r=n.length-1;r>=0;r-=1){var i=n[r],o=i.parseMeta(t);if(o)return{sourceDefId:r,meta:o}}return null}function Nle(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Ple(t,e){var n=t.initialDate;return n!=null?e.createMarker(n):up(t.now,e)}function up(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}var ua=function(){function t(){}return t.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},t.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(t.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),t.prototype.batchRendering=function(e){e()},t.prototype.updateSize=function(){this.trigger("_resize",!0)},t.prototype.setOption=function(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})},t.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},t.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},t.prototype.on=function(e,n){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn("Unknown listener name '"+e+"'")},t.prototype.off=function(e,n){this.currentDataManager.emitter.off(e,n)},t.prototype.trigger=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(n=this.currentDataManager.emitter).trigger.apply(n,De([e],r))},t.prototype.changeView=function(e,n){var r=this;this.batchRendering(function(){if(r.unselect(),n)if(n.start&&n.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{var i=r.getCurrentData().dateEnv;r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})},t.prototype.zoomTo=function(e,n){var r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},t.prototype.getUnitViewSpec=function(e){var n=this.getCurrentData(),r=n.viewSpecs,i=n.toolbarConfig,o=[].concat(i.viewsWithButtons),a,l;for(var u in r)o.push(u);for(a=0;a<o.length;a+=1)if(l=r[o[a]],l&&l.singleUnit===e)return l;return null},t.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},t.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},t.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},t.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},t.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:up(e.calendarOptions.now,e.dateEnv)})},t.prototype.gotoDate=function(e){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})},t.prototype.incrementDate=function(e){var n=this.getCurrentData(),r=ye(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))},t.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},t.prototype.formatDate=function(e,n){var r=this.getCurrentData().dateEnv;return r.format(r.createMarker(e),ut(n))},t.prototype.formatRange=function(e,n,r){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(n),ut(r),r)},t.prototype.formatIso=function(e,n){var r=this.getCurrentData().dateEnv;return r.formatIso(r.createMarker(e),{omitTime:n})},t.prototype.select=function(e,n){var r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};var i=this.getCurrentData(),o=wle(r,i.dateEnv,ye({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),PI(o,null,i))},t.prototype.unselect=function(e){var n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Cle(e,n))},t.prototype.addEvent=function(e,n){if(e instanceof Qe){var r=e._def,i=e._instance,o=this.getCurrentData();return o.eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ud({def:r,instance:i})}),this.triggerEventAdd(e)),e}var a=this.getCurrentData(),l;if(n instanceof id)l=n.internalEventSource;else if(typeof n=="boolean")n&&(l=SI(a.eventSources)[0]);else if(n!=null){var u=this.getEventSourceById(n);if(!u)return console.warn('Could not find an event source with ID "'+n+'"'),null;l=u.internalEventSource}var d=I4(e,l,a,!1);if(d){var f=new Qe(a,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ud(d)}),this.triggerEventAdd(f),f}return null},t.prototype.triggerEventAdd=function(e){var n=this,r=this.getCurrentData().emitter;r.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){n.dispatch({type:"REMOVE_EVENTS",eventStore:B4(e)})}})},t.prototype.getEventById=function(e){var n=this.getCurrentData(),r=n.eventStore,i=r.defs,o=r.instances;e=String(e);for(var a in i){var l=i[a];if(l.publicId===e){if(l.recurringDef)return new Qe(n,l,null);for(var u in o){var d=o[u];if(d.defId===l.defId)return new Qe(n,l,d)}}}return null},t.prototype.getEvents=function(){var e=this.getCurrentData();return ca(e.eventStore,e)},t.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},t.prototype.getEventSources=function(){var e=this.getCurrentData(),n=e.eventSources,r=[];for(var i in n)r.push(new id(e,n[i]));return r},t.prototype.getEventSourceById=function(e){var n=this.getCurrentData(),r=n.eventSources;e=String(e);for(var i in r)if(r[i].publicId===e)return new id(n,r[i]);return null},t.prototype.addEventSource=function(e){var n=this.getCurrentData();if(e instanceof id)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var r=F4(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new id(n,r)):null},t.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},t.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},t.prototype.scrollToTime=function(e){var n=ye(e);n&&this.trigger("_scrollRequest",{time:n})},t}(),Qe=function(){function t(e,n,r){this._context=e,this._def=n,this._instance=r||null}return t.prototype.setProp=function(e,n){var r,i;if(e in C4)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=cb[e](n),this.mutate({standardProps:{publicId:n}});else if(e in cb)n=cb[e](n),this.mutate({standardProps:(r={},r[e]=n,r)});else if(e in lb){var o=lb[e](n);e==="color"?o={backgroundColor:n,borderColor:n}:e==="editable"?o={startEditable:n,durationEditable:n}:o=(i={},i[e]=n,i),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},t.prototype.setExtendedProp=function(e,n){var r;this.mutate({extendedProps:(r={},r[e]=n,r)})},t.prototype.setStart=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i=r.createMarker(e);if(i&&this._instance){var o=this._instance.range,a=Gl(o.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}},t.prototype.setEnd=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){var o=Gl(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},t.prototype.setDates=function(e,n,r){r===void 0&&(r={});var i=this._context.dateEnv,o={allDay:r.allDay},a=i.createMarker(e),l;if(!!a&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){var u=this._instance.range;r.allDay===!0&&(u=R4(u));var d=Gl(u.start,a,i,r.granularity);if(l){var f=Gl(u.end,l,i,r.granularity);Uae(d,f)?this.mutate({datesDelta:d,standardProps:o}):this.mutate({startDelta:d,endDelta:f,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:d,standardProps:o})}},t.prototype.moveStart=function(e){var n=ye(e);n&&this.mutate({startDelta:n})},t.prototype.moveEnd=function(e){var n=ye(e);n&&this.mutate({endDelta:n})},t.prototype.moveDates=function(e){var n=ye(e);n&&this.mutate({datesDelta:n})},t.prototype.setAllDay=function(e,n){n===void 0&&(n={});var r={allDay:e},i=n.maintainDuration;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})},t.prototype.formatRange=function(e){var n=this._context.dateEnv,r=this._instance,i=ut(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})},t.prototype.mutate=function(e){var n=this._instance;if(n){var r=this._def,i=this._context,o=i.getCurrentData().eventStore,a=sb(o,n.instanceId),l={"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};a=mb(a,l,e,i);var u=new t(i,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:ca(a,i,n),revert:function(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}},t.prototype.remove=function(){var e=this._context,n=B4(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})},Object.defineProperty(t.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new id(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(e){e===void 0&&(e={});var n=this._def,r=n.ui,i=this,o=i.startStr,a=i.endStr,l={};return n.title&&(l.title=n.title),o&&(l.start=o),a&&(l.end=a),n.publicId&&(l.id=n.publicId),n.groupId&&(l.groupId=n.groupId),n.url&&(l.url=n.url),r.display&&r.display!=="auto"&&(l.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?I(l,n.extendedProps):l.extendedProps=n.extendedProps),l},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function B4(t){var e,n,r=t._def,i=t._instance;return{defs:(e={},e[r.defId]=r,e),instances:i?(n={},n[i.instanceId]=i,n):{}}}function ca(t,e,n){var r=t.defs,i=t.instances,o=[],a=n?n.instanceId:"";for(var l in i){var u=i[l],d=r[u.defId];u.instanceId!==a&&o.push(new Qe(e,d,u))}return o}var H4={};function Ole(t,e){H4[t]=e}function Mle(t){return new H4[t]}var Lle=function(){function t(){}return t.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},t.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},t.prototype.getMarkerDay=function(e){return e.getUTCDate()},t.prototype.arrayToMarker=function(e){return vr(e)},t.prototype.markerToArray=function(e){return aa(e)},t}();Ole("gregory",Lle);var Fle=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ule(t){var e=Fle.exec(t);if(e){var n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number("0."+e[12])*1e3:0));if(Xy(n)){var r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var Ble=function(){function t(e){var n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=Boolean(!r||this.namedTimeZoneImpl),this.calendarSystem=Mle(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return t.prototype.createMarker=function(e){var n=this.createMarkerMeta(e);return n===null?null:n.marker},t.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):vr(d4(new Date))},t.prototype.createMarkerMeta=function(e){if(typeof e=="string")return this.parse(e);var n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=vr(e)),n===null||!Xy(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}},t.prototype.parse=function(e){var n=Ule(e);if(n===null)return null;var r=n.marker,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}},t.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},t.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},t.prototype.add=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.subtract=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.addYears=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.addMonths=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.diffWholeYears=function(e,n){var r=this.calendarSystem;return la(e)===la(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null},t.prototype.diffWholeMonths=function(e,n){var r=this.calendarSystem;return la(e)===la(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null},t.prototype.greatestWholeUnit=function(e,n){var r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=Iae(e,n),r!==null?{unit:"week",value:r}:(r=od(e,n),r!==null?{unit:"day",value:r}:(r=Sae(e,n),oa(r)?{unit:"hour",value:r}:(r=xae(e,n),oa(r)?{unit:"minute",value:r}:(r=Tae(e,n),oa(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))},t.prototype.countDurationsBetween=function(e,n,r){var i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/Hae(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/Vae(r):r.days&&(i=od(e,n),i!==null)?i/ad(r):(n.valueOf()-e.valueOf())/an(r)},t.prototype.startOf=function(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ve(e):n==="hour"?Rae(e):n==="minute"?kae(e):n==="second"?Aae(e):null},t.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},t.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},t.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},t.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Dae(e,this.weekDow,this.weekDoy)},t.prototype.format=function(e,n,r){return r===void 0&&(r={}),n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)},t.prototype.formatRange=function(e,n,r,i){return i===void 0&&(i={}),i.isEndExclusive&&(n=es(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)},t.prototype.formatIso=function(e,n){n===void 0&&(n={});var r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),ld(e,r,n.omitTime)},t.prototype.timestampToMarker=function(e){return this.timeZone==="local"?vr(d4(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):vr(this.namedTimeZoneImpl.timestampToArray(e))},t.prototype.offsetForMarker=function(e){return this.timeZone==="local"?-f4(aa(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(aa(e)):null},t.prototype.toDate=function(e,n){return this.timeZone==="local"?f4(aa(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(aa(e))*1e3*60):new Date(e.valueOf()-(n||0))},t}(),Hle=[],MI={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};function Vle(t){for(var e=t.length>0?t[0].code:"en",n=Hle.concat(t),r={en:MI},i=0,o=n;i<o.length;i++){var a=o[i];r[a.code]=a}return{map:r,defaultCode:e}}function V4(t,e){return typeof t=="object"&&!Array.isArray(t)?j4(t.code,[t.code],t):jle(t,e)}function jle(t,e){var n=[].concat(t||[]),r=qle(n,e)||MI;return j4(t,n,r)}function qle(t,e){for(var n=0;n<t.length;n+=1)for(var r=t[n].toLocaleLowerCase().split("-"),i=r.length;i>0;i-=1){var o=r.slice(0,i).join("-");if(e[o])return e[o]}return null}function j4(t,e,n){var r=EI([MI,n],["buttonText"]);delete r.code;var i=r.week;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}var Wle={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function LI(t,e){return ob(zle(t),null,e)}function zle(t){var e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(function(n){return n.daysOfWeek}):typeof t=="object"&&t?e=[t]:e=[],e=e.map(function(n){return I(I({},Wle),n)}),e}function q4(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function FI(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function UI(t,e,n){return{left:t.left+e,right:t.right+e,top:t.top+n,bottom:t.bottom+n}}function W4(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function z4(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function G4(t,e){return{left:t.left-e.left,top:t.top-e.top}}var BI;function vb(){return BI==null&&(BI=Gle()),BI}function Gle(){if(typeof document=="undefined")return!0;var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);var e=t.querySelector("div"),n=e.offsetHeight>0;return document.body.removeChild(t),n}var HI=_n(),cp=function(){function t(){this.getKeysForEventDefs=Q(this._getKeysForEventDefs),this.splitDateSelection=Q(this._splitDateSpan),this.splitEventStore=Q(this._splitEventStore),this.splitIndividualUi=Q(this._splitIndividualUi),this.splitEventDrag=Q(this._splitInteraction),this.splitEventResize=Q(this._splitInteraction),this.eventUiBuilders={}}return t.prototype.splitProps=function(e){var n=this,r=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,i),l=this.splitEventStore(e.eventStore,i),u=this.splitEventDrag(e.eventDrag),d=this.splitEventResize(e.eventResize),f={};this.eventUiBuilders=kt(r,function(_,w){return n.eventUiBuilders[w]||Q(Kle)});for(var p in r){var m=r[p],g=l[p]||HI,y=this.eventUiBuilders[p];f[p]={businessHours:m.businessHours||e.businessHours,dateSelection:o[p]||null,eventStore:g,eventUiBases:y(e.eventUiBases[""],m.ui,a[p]),eventSelection:g.instances[e.eventSelection]?e.eventSelection:"",eventDrag:u[p]||null,eventResize:d[p]||null}}return f},t.prototype._splitDateSpan=function(e){var n={};if(e)for(var r=this.getKeysForDateSpan(e),i=0,o=r;i<o.length;i++){var a=o[i];n[a]=e}return n},t.prototype._getKeysForEventDefs=function(e){var n=this;return kt(e.defs,function(r){return n.getKeysForEventDef(r)})},t.prototype._splitEventStore=function(e,n){var r=e.defs,i=e.instances,o={};for(var a in r)for(var l=0,u=n[a];l<u.length;l++){var d=u[l];o[d]||(o[d]=_n()),o[d].defs[a]=r[a]}for(var f in i)for(var p=i[f],m=0,g=n[p.defId];m<g.length;m++){var d=g[m];o[d]&&(o[d].instances[f]=p)}return o},t.prototype._splitIndividualUi=function(e,n){var r={};for(var i in e)if(i)for(var o=0,a=n[i];o<a.length;o++){var l=a[o];r[l]||(r[l]={}),r[l][i]=e[i]}return r},t.prototype._splitInteraction=function(e){var n={};if(e){var r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,i),a=function(u){n[u]||(n[u]={affectedEvents:r[u]||HI,mutatedEvents:o[u]||HI,isEvent:e.isEvent})};for(var l in r)a(l);for(var l in o)a(l)}return n},t}();function Kle(t,e,n){var r=[];t&&r.push(t),e&&r.push(e);var i={"":ub(r)};return n&&I(i,n),i}function dp(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:Boolean(r&&!di(r.activeRange,t)),isOther:Boolean(r&&!di(r.currentRange,t)),isToday:Boolean(e&&di(e,t)),isPast:Boolean(n?t<n:e?t<e.start:!1),isFuture:Boolean(n?t>n:e?t>=e.end:!1)}}function hd(t,e){var n=["fc-day","fc-day-"+u4[t.dow]];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}function VI(t,e){var n=["fc-slot","fc-slot-"+u4[t.dow]];return t.isDisabled?n.push("fc-slot-disabled"):(t.isToday&&(n.push("fc-slot-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-slot-past"),t.isFuture&&n.push("fc-slot-future")),n}function da(t,e){return e===void 0&&(e="day"),JSON.stringify({date:rp(t),type:e})}var jI=null;function fp(){return jI===null&&(jI=Yle()),jI}function Yle(){var t=document.createElement("div");Zo(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);var e=t.firstChild,n=e.getBoundingClientRect().left>t.getBoundingClientRect().left;return ql(t),n}var qI;function WI(){return qI||(qI=Xle()),qI}function Xle(){var t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);var e=K4(t);return document.body.removeChild(t),e}function K4(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function zI(t,e){e===void 0&&(e=!1);var n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=K4(t),u=l.y-r-i,d=l.x-o-a,f={borderLeft:r,borderRight:i,borderTop:o,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return fp()&&n.direction==="rtl"?f.scrollbarLeft=u:f.scrollbarRight=u,e&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}function gb(t,e,n){e===void 0&&(e=!1);var r=n?t.getBoundingClientRect():yb(t),i=zI(t,e),o={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(o.left+=i.paddingLeft,o.right-=i.paddingRight,o.top+=i.paddingTop,o.bottom-=i.paddingBottom),o}function yb(t){var e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function $le(t){for(var e=GI(t),n=t.getBoundingClientRect(),r=0,i=e;r<i.length;r++){var o=i[r],a=FI(n,o.getBoundingClientRect());if(a)n=a;else return null}return n}function GI(t){for(var e=[];t instanceof HTMLElement;){var n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}function KI(t,e,n){var r=!1,i=function(){r||(r=!0,e.apply(this,arguments))},o=function(){r||(r=!0,n&&n.apply(this,arguments))},a=t(i,o);a&&typeof a.then=="function"&&a.then(i,o)}var Yl=function(){function t(){this.handlers={},this.thisContext=null}return t.prototype.setThisContext=function(e){this.thisContext=e},t.prototype.setOptions=function(e){this.options=e},t.prototype.on=function(e,n){Qle(this.handlers,e,n)},t.prototype.off=function(e,n){Jle(this.handlers,e,n)},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=this.handlers[e]||[],o=this.options&&this.options[e],a=[].concat(o||[],i),l=0,u=a;l<u.length;l++){var d=u[l];d.apply(this.thisContext,n)}},t.prototype.hasHandlers=function(e){return this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e]},t}();function Qle(t,e,n){(t[e]||(t[e]=[])).push(n)}function Jle(t,e,n){n?t[e]&&(t[e]=t[e].filter(function(r){return r!==n})):delete t[e]}var fi=function(){function t(e,n,r,i){this.els=n;var o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}return t.prototype.buildElHorizontals=function(e){for(var n=[],r=[],i=0,o=this.els;i<o.length;i++){var a=o[i],l=a.getBoundingClientRect();n.push(l.left-e),r.push(l.right-e)}this.lefts=n,this.rights=r},t.prototype.buildElVerticals=function(e){for(var n=[],r=[],i=0,o=this.els;i<o.length;i++){var a=o[i],l=a.getBoundingClientRect();n.push(l.top-e),r.push(l.bottom-e)}this.tops=n,this.bottoms=r},t.prototype.leftToIndex=function(e){var n=this,r=n.lefts,i=n.rights,o=r.length,a;for(a=0;a<o;a+=1)if(e>=r[a]&&e<i[a])return a},t.prototype.topToIndex=function(e){var n=this,r=n.tops,i=n.bottoms,o=r.length,a;for(a=0;a<o;a+=1)if(e>=r[a]&&e<i[a])return a},t.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},t.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},t}(),bb=function(){function t(){}return t.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},t.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},t.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},t.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},t.prototype.canScrollUp=function(){return this.getScrollTop()>0},t.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},t.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},t.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},t}(),Y4=function(t){P(e,t);function e(n){var r=t.call(this)||this;return r.el=n,r}return e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(n){this.el.scrollTop=n},e.prototype.setScrollLeft=function(n){this.el.scrollLeft=n},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e}(bb),X4=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollTop=function(){return window.pageYOffset},e.prototype.getScrollLeft=function(){return window.pageXOffset},e.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)},e.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)},e.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},e.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},e.prototype.getClientHeight=function(){return document.documentElement.clientHeight},e.prototype.getClientWidth=function(){return document.documentElement.clientWidth},e}(bb),hp=function(){function t(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return t.prototype.setIconOverride=function(e){var n,r;if(typeof e=="object"&&e){n=I({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(e){var n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e},t.prototype.getClass=function(e){return this.classes[e]||""},t.prototype.getIconClass=function(e,n){var r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?this.baseIconClass+" "+r:""},t.prototype.getCustomButtonIconClass=function(e){var n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?this.baseIconClass+" "+this.applyIconOverridePrefix(n):""},t}();hp.prototype.classes={};hp.prototype.iconClasses={};hp.prototype.baseIconClass="";hp.prototype.iconOverridePrefix="";var Zle=function(){function t(e,n,r,i){var o=this;this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=function(a){o.queuedRequest=I({},o.queuedRequest||{},a),o.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return t.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},t.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},t.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},t.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},t}(),hi=mI({});function eue(t,e,n,r,i,o,a,l,u,d,f,p,m){return{dateEnv:i,options:n,pluginHooks:a,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler:function(g){d.on("_resize",g)},removeResizeHandler:function(g){d.off("_resize",g)},createScrollResponder:function(g){return new Zle(g,d,ye(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:m}}var _b=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.shouldComponentUpdate=function(n,r){return this.debug&&console.log(p4(n,this.props),p4(r,this.state)),!Qy(this.props,n,this.propEquality)||!Qy(this.state,r,this.stateEquality)},e.addPropsEquality=tue,e.addStateEquality=nue,e.contextType=hi,e}(zy);_b.prototype.propEquality={};_b.prototype.stateEquality={};var ee=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.contextType=hi,e}(_b);function tue(t){var e=Object.create(this.prototype.propEquality);I(e,t),this.prototype.propEquality=e}function nue(t){var e=Object.create(this.prototype.stateEquality);I(e,t),this.prototype.stateEquality=e}function At(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var Nn=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.uid=ho(),n}return e.prototype.prepareHits=function(){},e.prototype.queryHit=function(n,r,i,o){return null},e.prototype.isValidSegDownEl=function(n){return!this.props.eventDrag&&!this.props.eventResize&&!jt(n,".fc-event-mirror")},e.prototype.isValidDateDownEl=function(n){return!jt(n,".fc-event:not(.fc-bg-event)")&&!jt(n,".fc-more-link")&&!jt(n,"a[data-navlink]")&&!jt(n,".fc-popover")},e}(ee);function _t(t){return{id:ho(),deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,contentTypeHandlers:t.contentTypeHandlers||{},listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function rue(t,e){var n={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(var a=0,l=o;a<l.length;a++){var u=l[a];n[u.id]||(n[u.id]=!0,i(u.deps),r=oue(r,u))}}return t&&i(t),i(e),r}function iue(){var t=[],e=[],n;return function(r,i){return(!n||!gr(r,t)||!gr(i,e))&&(n=rue(r,i)),t=r,e=i,n}}function oue(t,e){return{reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:I(I({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:I(I({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:I(I({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:I(I({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:I(I({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,contentTypeHandlers:I(I({},t.contentTypeHandlers),e.contentTypeHandlers),listenerRefiners:I(I({},t.listenerRefiners),e.listenerRefiners),optionRefiners:I(I({},t.optionRefiners),e.optionRefiners),propSetHandlers:I(I({},t.propSetHandlers),e.propSetHandlers)}}var fa=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(hp);fa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};fa.prototype.baseIconClass="fc-icon";fa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};fa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};fa.prototype.iconOverrideOption="buttonIcons";fa.prototype.iconOverrideCustomButtonOption="icon";fa.prototype.iconOverridePrefix="fc-icon-";function sue(t,e){var n={},r;for(r in t)YI(r,n,t,e);for(r in e)YI(r,n,t,e);return n}function YI(t,e,n,r){if(e[t])return e[t];var i=aue(t,e,n,r);return i&&(e[t]=i),i}function aue(t,e,n,r){var i=n[t],o=r[t],a=function(f){return i&&i[f]!==null?i[f]:o&&o[f]!==null?o[f]:null},l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=YI(u,e,n,r)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:I(I({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:I(I({},d?d.overrides:{}),o?o.rawOptions:{})}:null}var Dt=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n.handleRootEl=function(r){At(n.rootElRef,r),n.props.elRef&&At(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.hookProps;return x(ha,{hookProps:i,didMount:r.didMount,willUnmount:r.willUnmount,elRef:this.handleRootEl},function(o){return x(Xl,{hookProps:i,content:r.content,defaultContent:r.defaultContent,backupElRef:n.rootElRef},function(a,l){return r.children(o,$4(r.classNames,i),a,l)})})},e}(ee),XI=mI(0);function Xl(t){return x(XI.Consumer,null,function(e){return x(lue,I({renderId:e},t))})}var lue=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerElRef=xe(),n}return e.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},e.prototype.componentDidMount=function(){this.updateCustomContent()},e.prototype.componentDidUpdate=function(){this.updateCustomContent()},e.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},e.prototype.renderInnerContent=function(){var n=this.context.pluginHooks.contentTypeHandlers,r=this,i=r.props,o=r.customContentInfo,a=i.content,l=Q4(a,i.hookProps),u=null;if(l===void 0&&(l=Q4(i.defaultContent,i.hookProps)),l!==void 0){if(o)o.contentVal=l[o.contentKey];else if(typeof l=="object"){for(var d in n)if(l[d]!==void 0){var f=n[d]();o=this.customContentInfo=I({contentKey:d,contentVal:l[d]},f);break}}o?u=[]:u=l}return u},e.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},e}(ee),ha=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&At(n.props.elRef,r)},n}return e.prototype.render=function(){return this.props.children(this.handleRootEl)},e.prototype.componentDidMount=function(){var n=this.props.didMount;n&&n(I(I({},this.props.hookProps),{el:this.rootEl}))},e.prototype.componentWillUnmount=function(){var n=this.props.willUnmount;n&&n(I(I({},this.props.hookProps),{el:this.rootEl}))},e}(ee);function $l(){var t,e,n=[];return function(r,i){return(!e||!Jt(e,i)||r!==t)&&(t=r,e=i,n=$4(r,i)),n}}function $4(t,e){return typeof t=="function"&&(t=t(e)),op(t)}function Q4(t,e){return typeof t=="function"?t(e,x):t}var Ui=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.normalizeClassNames=$l(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a={view:i.viewApi},l=this.normalizeClassNames(o.viewClassNames,a);return x(ha,{hookProps:a,didMount:o.viewDidMount,willUnmount:o.viewWillUnmount,elRef:r.elRef},function(u){return r.children(u,["fc-"+r.viewSpec.type+"-view","fc-view"].concat(l))})},e}(ee);function J4(t){return kt(t,uue)}function uue(t){var e=typeof t=="function"?{component:t}:t,n=e.component;return e.content&&(n=cue(e)),{superType:e.type,component:n,rawOptions:e}}function cue(t){return function(e){return x(hi.Consumer,null,function(n){return x(Ui,{viewSpec:n.viewSpec},function(r,i){var o=I(I({},e),{nextDayThreshold:n.options.nextDayThreshold});return x(Dt,{hookProps:o,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:r},function(a,l,u,d){return x("div",{className:i.concat(l).join(" "),ref:a},d)})})})}}function due(t,e,n,r){var i=J4(t),o=J4(e.views),a=sue(i,o);return kt(a,function(l){return fue(l,o,e,n,r)})}function fue(t,e,n,r,i){var o=t.overrides.duration||t.defaults.duration||r.duration||n.duration,a=null,l="",u="",d={};if(o&&(a=hue(o),a)){var f=go(a);l=f.unit,f.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}var p=function(m){var g=m.buttonText||{},y=t.defaults.buttonTextKey;return y!=null&&g[y]!=null?g[y]:g[t.type]!=null?g[t.type]:g[u]!=null?g[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:I(I({},d),t.overrides),buttonTextOverride:p(r)||p(n)||t.overrides.buttonText,buttonTextDefault:p(i)||t.defaults.buttonText||p(Wl)||t.type}}var Z4={};function hue(t){var e=JSON.stringify(t),n=Z4[e];return n===void 0&&(n=ye(t),Z4[e]=n),n}var $I=function(){function t(e){this.props=e,this.nowDate=up(e.nowInput,e.dateEnv),this.initHiddenDays()}return t.prototype.buildPrev=function(e,n,r){var i=this.props.dateEnv,o=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)},t.prototype.buildNext=function(e,n,r){var i=this.props.dateEnv,o=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)},t.prototype.build=function(e,n,r){r===void 0&&(r=!0);var i=this.props,o,a,l,u,d,f;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=ple(e,o)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,i.showNonCurrentDates||(d=yo(d,a.range)),d=this.adjustActiveRange(d),d=yo(d,o),f=ap(a.range,o),{validRange:o,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:f,dateIncrement:this.buildDateIncrement(a.duration)}},t.prototype.buildValidRange=function(){var e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}},t.prototype.buildCurrentRangeInfo=function(e,n){var r=this.props,i=null,o=null,a=null,l;return r.duration?(i=r.duration,o=r.durationUnit,a=this.buildRangeFromDuration(e,n,i,o)):(l=this.props.dayCount)?(o="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),o=go(i).unit,a=this.buildRangeFromDuration(e,n,i,o)),{duration:i,unit:o,range:a}},t.prototype.getFallbackDuration=function(){return ye({day:1})},t.prototype.adjustActiveRange=function(e){var n=this.props,r=n.dateEnv,i=n.usesMinMaxTime,o=n.slotMinTime,a=n.slotMaxTime,l=e.start,u=e.end;return i&&(ad(o)<0&&(l=Ve(l),l=r.add(l,o)),ad(a)>1&&(u=Ve(u),u=qt(u,-1),u=r.add(u,a))),{start:l,end:u}},t.prototype.buildRangeFromDuration=function(e,n,r,i){var o=this.props,a=o.dateEnv,l=o.dateAlignment,u,d,f;if(!l){var p=this.props.dateIncrement;p&&an(p)<an(r)?l=go(p).unit:l=i}ad(r)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,n),u=Ve(u));function m(){u=a.startOf(e,l),d=a.add(u,r),f={start:u,end:d}}return m(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,n),m()),f},t.prototype.buildRangeFromDayCount=function(e,n,r){var i=this.props,o=i.dateEnv,a=i.dateAlignment,l=0,u=e,d;a&&(u=o.startOf(u,a)),u=Ve(u),u=this.skipHiddenDays(u,n),d=u;do d=qt(d,1),this.isHiddenDay(d)||(l+=1);while(l<r);return{start:u,end:d}},t.prototype.buildCustomVisibleRange=function(e){var n=this.props,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,o=this.refineRange(i);return o&&(o.start==null||o.end==null)?null:o},t.prototype.buildRenderRange=function(e,n,r){return e},t.prototype.buildDateIncrement=function(e){var n=this.props.dateIncrement,r;return n||((r=this.props.dateAlignment)?ye(1,r):e||ye({days:1}))},t.prototype.refineRange=function(e){if(e){var n=fle(e,this.props.dateEnv);return n&&(n=fb(n)),n}return null},t.prototype.initHiddenDays=function(){var e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},t.prototype.trimHiddenDays=function(e){var n=e.start,r=e.end;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null},t.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},t.prototype.skipHiddenDays=function(e,n,r){for(n===void 0&&(n=1),r===void 0&&(r=!1);this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=qt(e,n);return e},t}();function pue(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function mue(t,e){var n;switch(e.type){case"SET_OPTION":return I(I({},t),(n={},n[e.optionName]=e.rawOptionValue,n));default:return t}}function vue(t,e,n,r){var i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":if(!t.activeRange||!di(t.currentRange,e.dateMarker))return r.build(e.dateMarker);break;case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function gue(t,e,n){var r=e?e.activeRange:null;return t3({},xue(t,n),r,n)}function yue(t,e,n,r){var i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return t3(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return _ue(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?n3(t,i,r):t;case"FETCH_EVENT_SOURCES":return QI(t,e.sourceIds?h4(e.sourceIds):r3(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Sue(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function bue(t,e,n){var r=e?e.activeRange:null;return QI(t,r3(t,n),r,!0,n)}function e3(t){for(var e in t)if(t[e].isFetching)return!0;return!1}function t3(t,e,n,r){for(var i={},o=0,a=e;o<a.length;o++){var l=a[o];i[l.sourceId]=l}return n&&(i=n3(i,n,r)),I(I({},t),i)}function _ue(t,e){return mo(t,function(n){return n.sourceId!==e})}function n3(t,e,n){return QI(t,mo(t,function(r){return wue(r,e,n)}),e,!1,n)}function wue(t,e,n){return i3(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function QI(t,e,n,r,i){var o={};for(var a in t){var l=t[a];e[a]?o[a]=Eue(l,n,r,i):o[a]=l}return o}function Eue(t,e,n,r){var i=r.options,o=r.calendarApi,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=ho();return a.fetch({eventSource:t,range:e,isRefetch:n,context:r},function(u){var d=u.rawEvents;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(o,d,u.xhr)||d),t.success&&(d=t.success.call(o,d,u.xhr)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},function(u){console.warn(u.message,u),i.eventSourceFailure&&i.eventSourceFailure.call(o,u),t.failure&&t.failure(u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),I(I({},t),{isFetching:!0,latestFetchId:l})}function Sue(t,e,n,r){var i,o=t[e];return o&&n===o.latestFetchId?I(I({},t),(i={},i[e]=I(I({},o),{isFetching:!1,fetchRange:r}),i)):t}function r3(t,e){return mo(t,function(n){return i3(n,e)})}function xue(t,e){var n=U4(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(var o=0,a=r;o<a.length;o++){var l=a[o],u=F4(l,e,n);u&&i.push(u)}return i}function i3(t,e){var n=e.pluginHooks.eventSourceDefs;return!n[t.sourceDefId].ignoreRange}function Tue(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Cue(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"ADD_EVENTS":return Rue(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ip(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?sd(t,r.activeRange,i):t;case"REMOVE_EVENTS":return ole(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return s3(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ab(t,function(o){return!o.sourceId});case"REMOVE_ALL_EVENTS":return _n();default:return t}}function Cue(t,e,n,r,i,o){if(e&&n===e.latestFetchId){var a=ob(Iue(i,e,o),e,o);return r&&(a=sd(a,r,o)),ip(s3(t,e.sourceId),a)}return t}function Iue(t,e,n){var r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=o3(t,i)),r&&(t=o3(t,r)),t}function o3(t,e){var n;if(!e)n=t;else{n=[];for(var r=0,i=t;r<i.length;r++){var o=i[r],a=e(o);a?n.push(a):a==null&&n.push(o)}}return n}function Rue(t,e,n,r){return n&&(e=sd(e,n,r)),ip(t,e)}function kue(t,e,n){var r=t.defs,i=kt(t.instances,function(o){var a=r[o.defId];return a.allDay||a.recurringDef?o:I(I({},o),{range:{start:n.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:n.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:o.forcedEndTzo})});return{defs:r,instances:i}}function s3(t,e){return ab(t,function(n){return n.sourceId!==e})}function Aue(t,e){return{defs:t.defs,instances:mo(t.instances,function(n){return!e[n.instanceId]})}}function Due(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Nue(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Pue(t,e){var n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Oue(t,e){var n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Mue(t,e,n,r,i){var o=[],a=t.headerToolbar?a3(t.headerToolbar,t,e,n,r,i,o):null,l=t.footerToolbar?a3(t.footerToolbar,t,e,n,r,i,o):null;return{headerToolbar:a,footerToolbar:l,viewsWithButtons:o}}function a3(t,e,n,r,i,o,a){return kt(t,function(l){return Lue(l,e,n,r,i,o,a)})}function Lue(t,e,n,r,i,o,a){var l=e.direction==="rtl",u=e.customButtons||{},d=n.buttonText||{},f=e.buttonText||{},p=t?t.split(" "):[];return p.map(function(m){return m.split(",").map(function(g){if(g==="title")return{buttonName:g};var y,_,w,S,C;return(y=u[g])?(w=function(R){y.click&&y.click.call(R.target,R,R.target)},(S=r.getCustomButtonIconClass(y))||(S=r.getIconClass(g,l))||(C=y.text)):(_=i[g])?(a.push(g),w=function(){o.changeView(g)},(C=_.buttonTextOverride)||(S=r.getIconClass(g,l))||(C=_.buttonTextDefault)):o[g]&&(w=function(){o[g]()},(C=d[g])||(S=r.getIconClass(g,l))||(C=f[g])),{buttonName:g,buttonClick:w,buttonIcon:S,buttonText:C}})})}var Fue={ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.events)?t.events:null},fetch:function(t,e){e({rawEvents:t.eventSource.meta})}},Uue=_t({eventSourceDefs:[Fue]}),Bue={parseMeta:function(t){return typeof t.events=="function"?t.events:null},fetch:function(t,e,n){var r=t.context.dateEnv,i=t.eventSource.meta;KI(i.bind(null,M4(t.range,r)),function(o){e({rawEvents:o})},n)}},Hue=_t({eventSourceDefs:[Bue]});function JI(t,e,n,r,i){t=t.toUpperCase();var o=null;t==="GET"?e=Vue(e,n):o=l3(n);var a=new XMLHttpRequest;a.open(t,e,!0),t!=="GET"&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var l=!1,u=void 0;try{u=JSON.parse(a.responseText),l=!0}catch(d){}l?r(u,a):i("Failure parsing JSON",a)}else i("Request failed",a)},a.onerror=function(){i("Request failed",a)},a.send(o)}function Vue(t,e){return t+(t.indexOf("?")===-1?"?":"&")+l3(e)}function l3(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var jue={method:String,extraParams:F,startParam:String,endParam:String,timeZoneParam:String},que={parseMeta:function(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch:function(t,e,n){var r=t.eventSource.meta,i=zue(r,t.range,t.context);JI(r.method,r.url,i,function(o,a){e({rawEvents:o,xhr:a})},function(o,a){n({message:o,xhr:a})})}},Wue=_t({eventSourceRefiners:jue,eventSourceDefs:[que]});function zue(t,e,n){var r=n.dateEnv,i=n.options,o,a,l,u,d={};return o=t.startParam,o==null&&(o=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},I(d,u),d[o]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone),d}var Gue={daysOfWeek:F,startTime:ye,endTime:ye,duration:ye,startRecur:F,endRecur:F},Kue={parse:function(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){var n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r=void 0;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Bae(t.endTime,t.startTime)),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:r,typeData:n}}return null},expand:function(t,e,n){var r=yo(e,{start:t.startRecur,end:t.endRecur});return r?Xue(t.daysOfWeek,t.startTime,r,n):[]}},Yue=_t({recurringTypes:[Kue],eventRefiners:Gue});function Xue(t,e,n,r){for(var i=t?h4(t):null,o=Ve(n.start),a=n.end,l=[];o<a;){var u=void 0;(!i||i[o.getUTCDay()])&&(e?u=r.add(o,e):u=o,l.push(u)),o=qt(o,1)}return l}var $ue=_t({optionChangeHandlers:{events:function(t,e){u3([t],e)},eventSources:u3}});function u3(t,e){for(var n=SI(e.getCurrentData().eventSources),r=[],i=0,o=t;i<o.length;i++){for(var a=o[i],l=!1,u=0;u<n.length;u+=1)if(n[u]._raw===a){n.splice(u,1),l=!0;break}l||r.push(a)}for(var d=0,f=n;d<f.length;d++){var p=f[d];e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p.sourceId})}for(var m=0,g=r;m<g.length;m++){var y=g[m];e.calendarApi.addEventSource(y)}}function Que(t,e){e.emitter.trigger("datesSet",I(I({},M4(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Jue(t,e){var n=e.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ca(t,e))}var Zue=[Uue,Hue,Wue,Yue,$ue,_t({isLoadingFuncs:[function(t){return e3(t.eventSources)}],contentTypeHandlers:{html:function(){return{render:ece}},domNodes:function(){return{render:tce}}},propSetHandlers:{dateProfile:Que,eventStore:Jue}})];function ece(t,e){t.innerHTML=e}function tce(t,e){var n=Array.prototype.slice.call(t.childNodes),r=Array.prototype.slice.call(e);if(!gr(n,r)){for(var i=0,o=r;i<o.length;i++){var a=o[i];t.appendChild(a)}n.forEach(ql)}}var Ql=function(){function t(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return t.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},t.prototype.pause=function(e){e===void 0&&(e="");var n=this.pauseDepths;n[e]=(n[e]||0)+1,this.clearTimeout()},t.prototype.resume=function(e,n){e===void 0&&(e="");var r=this.pauseDepths;if(e in r){if(n)delete r[e];else{r[e]-=1;var i=r[e];i<=0&&delete r[e]}this.tryDrain()}},t.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},t.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},t.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},t.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},t.prototype.drained=function(){this.drainedOption&&this.drainedOption()},t}(),nce=function(){function t(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Ql(this.drain.bind(this))}return t.prototype.request=function(e,n){this.queue.push(e),this.delayedRunner.request(n)},t.prototype.pause=function(e){this.delayedRunner.pause(e)},t.prototype.resume=function(e,n){this.delayedRunner.resume(e,n)},t.prototype.drain=function(){for(var e=this.queue;e.length;){for(var n=[],r=void 0;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}},t.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},t.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},t}();function rce(t,e,n){var r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,ut(e.titleFormat||ice(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function ice(t){var e=t.currentRangeUnit;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};var n=od(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var ZI=function(){function t(e){var n=this;this.computeOptionsData=Q(this._computeOptionsData),this.computeCurrentViewData=Q(this._computeCurrentViewData),this.organizeRawLocales=Q(Vle),this.buildLocale=Q(V4),this.buildPluginHooks=iue(),this.buildDateEnv=Q(oce),this.buildTheme=Q(sce),this.parseToolbars=Q(Mue),this.buildViewSpecs=Q(due),this.buildDateProfileGenerator=ts(ace),this.buildViewApi=Q(lce),this.buildViewUiProps=ts(dce),this.buildEventUiBySource=Q(uce,Jt),this.buildEventUiBases=Q(cce),this.parseContextBusinessHours=ts(fce),this.buildTitle=Q(rce),this.emitter=new Yl,this.actionRunner=new nce(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return n.data},this.dispatch=function(R){n.actionRunner.request(R)},this.props=e,this.actionRunner.pause();var r={},i=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),o=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(o,i,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var l=Ple(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);di(u.activeRange,l)||(l=u.currentRange.start);for(var d={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=0,p=i.pluginHooks.contextInit;f<p.length;f++){var m=p[f];m(d)}for(var g=gue(i.calendarOptions,u,d),y={dynamicOptionOverrides:r,currentViewType:o,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(d),eventSources:g,eventUiBases:{},eventStore:_n(),renderableEventStore:_n(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},_=I(I({},d),y),w=0,S=i.pluginHooks.reducers;w<S.length;w++){var C=S[w];I(y,C(null,null,_))}eR(y,d)&&this.emitter.trigger("loading",!0),this.state=y,this.updateData(),this.actionRunner.resume()}return t.prototype.resetOptions=function(e,n){var r=this.props;r.optionOverrides=n?I(I({},r.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},t.prototype._handleAction=function(e){var n=this,r=n.props,i=n.state,o=n.emitter,a=mue(i.dynamicOptionOverrides,e),l=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),u=pue(i.currentViewType,e),d=this.computeCurrentViewData(u,l,r.optionOverrides,a);r.calendarApi.currentDataManager=this,o.setThisContext(r.calendarApi),o.setOptions(d.options);var f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},p=i.currentDate,m=i.dateProfile;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(m=d.dateProfileGenerator.build(p)),p=Nle(p,e),m=vue(m,e,p,d.dateProfileGenerator),di(m.currentRange,p)||(p=m.currentRange.start);for(var g=yue(i.eventSources,e,m,f),y=Tue(i.eventStore,e,g,m,f),_=e3(g),w=_&&!d.options.progressiveEventRendering&&i.renderableEventStore||y,S=this.buildViewUiProps(f),C=S.eventUiSingleBase,R=S.selectionConfig,A=this.buildEventUiBySource(g),L=this.buildEventUiBases(w.defs,C,A),M={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:m,eventSources:g,eventStore:y,renderableEventStore:w,selectionConfig:R,eventUiBases:L,businessHours:this.parseContextBusinessHours(f),dateSelection:Due(i.dateSelection,e),eventSelection:Nue(i.eventSelection,e),eventDrag:Pue(i.eventDrag,e),eventResize:Oue(i.eventResize,e)},W=I(I({},f),M),K=0,q=l.pluginHooks.reducers;K<q.length;K++){var Re=q[K];I(M,Re(i,e,W))}var O=eR(i,f),mt=eR(M,f);!O&&mt?o.trigger("loading",!0):O&&!mt&&o.trigger("loading",!1),this.state=M,r.onAction&&r.onAction(e)},t.prototype.updateData=function(){var e=this,n=e.props,r=e.state,i=this.data,o=this.computeOptionsData(n.optionOverrides,r.dynamicOptionOverrides,n.calendarApi),a=this.computeCurrentViewData(r.currentViewType,o,n.optionOverrides,r.dynamicOptionOverrides),l=this.data=I(I(I({viewTitle:this.buildTitle(r.dateProfile,a.options,o.dateEnv),calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o),a),r),u=o.pluginHooks.optionChangeHandlers,d=i&&i.calendarOptions,f=o.calendarOptions;if(d&&d!==f){d.timeZone!==f.timeZone&&(r.eventSources=l.eventSources=bue(l.eventSources,r.dateProfile,l),r.eventStore=l.eventStore=kue(l.eventStore,i.dateEnv,l.dateEnv));for(var p in u)d[p]!==f[p]&&u[p](f[p],l)}n.onData&&n.onData(l)},t.prototype._computeOptionsData=function(e,n,r){var i=this.processRawCalendarOptions(e,n),o=i.refinedOptions,a=i.pluginHooks,l=i.localeDefaults,u=i.availableLocaleData,d=i.extra;c3(d);var f=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,a,u,o.defaultRangeSeparator),p=this.buildViewSpecs(a.views,e,n,l),m=this.buildTheme(o,a),g=this.parseToolbars(o,e,m,p,r);return{calendarOptions:o,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:m,toolbarConfig:g,localeDefaults:l,availableRawLocales:u.map}},t.prototype.processRawCalendarOptions=function(e,n){var r=kI([Wl,e,n]),i=r.locales,o=r.locale,a=this.organizeRawLocales(i),l=a.map,u=this.buildLocale(o||a.defaultCode,l).options,d=this.buildPluginHooks(e.plugins||[],Zue),f=this.currentCalendarOptionsRefiners=I(I(I(I(I({},S4),x4),T4),d.listenerRefiners),d.optionRefiners),p={},m=kI([Wl,u,e,n]),g={},y=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,w=!1;for(var S in m)S!=="plugins"&&(m[S]===y[S]||RI[S]&&S in y&&RI[S](y[S],m[S])?g[S]=_[S]:f[S]?(g[S]=f[S](m[S]),w=!0):p[S]=y[S]);return w&&(this.currentCalendarOptionsInput=m,this.currentCalendarOptionsRefined=g),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:a,localeDefaults:u,extra:p}},t.prototype._computeCurrentViewData=function(e,n,r,i){var o=n.viewSpecs[e];if(!o)throw new Error('viewType "'+e+`" is not available. Please make sure you've loaded all neccessary plugins`);var a=this.processRawViewOptions(o,n.pluginHooks,n.localeDefaults,r,i),l=a.refinedOptions,u=a.extra;c3(u);var d=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,monthMode:l.monthMode,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:o,options:l,dateProfileGenerator:d,viewApi:f}},t.prototype.processRawViewOptions=function(e,n,r,i,o){var a=kI([Wl,e.optionDefaults,r,i,e.optionOverrides,o]),l=I(I(I(I(I(I({},S4),x4),T4),rle),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,f=this.currentViewOptionsRefined,p=!1,m={};for(var g in a)a[g]===d[g]?u[g]=f[g]:(a[g]===this.currentCalendarOptionsInput[g]?g in this.currentCalendarOptionsRefined&&(u[g]=this.currentCalendarOptionsRefined[g]):l[g]?u[g]=l[g](a[g]):m[g]=a[g],p=!0);return p&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}},t}();function oce(t,e,n,r,i,o,a,l){var u=V4(e||a.defaultCode,a.map);return new Ble({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function sce(t,e){var n=e.themeClasses[t.themeSystem]||fa;return new n(t)}function ace(t){var e=t.dateProfileGeneratorClass||$I;return new e(t)}function lce(t,e,n){return new kle(t,e,n)}function uce(t){return kt(t,function(e){return e.ui})}function cce(t,e,n){var r={"":e};for(var i in t){var o=t[i];o.sourceId&&n[o.sourceId]&&(r[i]=n[o.sourceId])}return r}function dce(t){var e=t.options;return{eventUiSingleBase:cd({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:cd({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function eR(t,e){for(var n=0,r=e.pluginHooks.isLoadingFuncs;n<r.length;n++){var i=r[n];if(i(t))return!0}return!1}function fce(t){return LI(t.options.businessHours,t)}function c3(t,e){for(var n in t)console.warn("Unknown option '"+n+"'"+(e?" for view '"+e+"'":""))}var nxe=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;return r.handleData=function(i){r.dataManager?r.setState(i):r.state=i},r.dataManager=new ZI({optionOverrides:n.optionOverrides,calendarApi:n.calendarApi,onData:r.handleData}),r}return e.prototype.render=function(){return this.props.children(this.state)},e.prototype.componentDidUpdate=function(n){var r=this.props.optionOverrides;r!==n.optionOverrides&&this.dataManager.resetOptions(r)},e}(zy);var rxe=function(){function t(e){this.timeZoneName=e}return t}(),pd=function(){function t(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return t.prototype.addSegs=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.insertEntry({segInput:o,spanStart:o.spanStart,spanEnd:o.spanEnd,thickness:o.thickness},n)}return n},t.prototype.insertEntry=function(e,n){var r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)},t.prototype.isInsertionValid=function(e,n){return(this.maxCoord===-1||e.levelCoord+n.thickness<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)},t.prototype.handleInvalidInsertion=function(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)},t.prototype.splitEntry=function(e,n,r){var i=0,o=[];return e.spanStart<n.spanStart&&(i+=this.insertEntry(I(I({},e),{spanStart:e.spanStart,spanEnd:n.spanStart}),o)),n.spanEnd<e.spanEnd&&(i+=this.insertEntry(I(I({},e),{spanStart:n.spanEnd,spanEnd:e.spanEnd}),o)),i?(r.push.apply(r,De([I(I({},e),{spanStart:Math.max(n.spanStart,e.spanStart),spanEnd:Math.min(n.spanEnd,e.spanEnd)})],o)),i):(r.push(e),0)},t.prototype.insertEntryAt=function(e,n){var r=n.nextLevel;!r||this.levelCoords[r-1]<n.levelCoord?(nR(this.levelCoords,r,n.levelCoord),nR(this.entriesByLevel,r,[e])):nR(this.entriesByLevel[r-1],n.lateralEnd,e),this.stackCnts[ns(e)]=n.stackCnt},t.prototype.findInsertion=function(e){var n=this,r=n.levelCoords,i=n.entriesByLevel,o=n.stackCnts,a=n.strictOrder,l=r.length,u,d,f=0,p=0,m=0,g=null;for(u=0;u<l&&(d=r[u],!(!a&&d>=m+e.thickness));u+=1){var y=i[u],_=void 0,w=rR(y,e.spanStart,tR);for(f=w[0]+w[1],p=f;(_=y[p])&&_.spanStart<e.spanEnd;)(a||m<d+_.thickness&&m+e.thickness>d)&&(g=_,m=d+_.thickness),p+=1}return{levelCoord:m,nextLevel:u,lateralStart:f,lateralEnd:p,touchingEntry:g,stackCnt:g?o[ns(g)]+1:0}},t.prototype.toRects=function(){for(var e=this,n=e.entriesByLevel,r=e.levelCoords,i=n.length,o=[],a=0;a<i;a+=1)for(var l=n[a],u=r[a],d=0,f=l;d<f.length;d++){var p=f[d];o.push(I(I({},p),{levelCoord:u}))}return o},t}();function tR(t){return t.spanEnd}function ns(t){return t.segInput.index+":"+t.spanStart}function wb(t){for(var e=[],n=0,r=t;n<r.length;n++){for(var i=r[n],o=[],a={spanStart:i.spanStart,spanEnd:i.spanEnd,entries:[i]},l=0,u=e;l<u.length;l++){var d=u[l];d.spanStart<a.spanEnd&&d.spanEnd>a.spanStart?a={spanStart:Math.min(d.spanStart,a.spanStart),spanEnd:Math.max(d.spanEnd,a.spanEnd),entries:d.entries.concat(a.entries)}:o.push(d)}o.push(a),e=o}return e}function nR(t,e,n){t.splice(e,0,n)}function rR(t,e,n){var r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){var o=Math.floor(r+(i-r)/2),a=n(t[o]);if(e<a)i=o;else if(e>a)r=o+1;else return[o,1]}return[r,0]}var Jl=function(){function t(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return t.prototype.destroy=function(){},t}();function hce(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Eb(t){var e;return e={},e[t.component.uid]=t,e}var pp={},iR=function(){function t(e,n){this.emitter=new Yl}return t.prototype.destroy=function(){},t.prototype.setMirrorIsVisible=function(e){},t.prototype.setMirrorNeedsRevert=function(e){},t.prototype.setAutoScrollEnabled=function(e){},t}(),Pn={},pce={startTime:ye,duration:ye,create:Boolean,sourceId:String};function Sb(t){var e=zl(t,pce),n=e.refined,r=e.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:n.create!=null?n.create:!0,sourceId:n.sourceId,leftoverProps:r}}var mce=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=this.props.widgetGroups.map(function(i){return n.renderWidgetGroup(i)});return x.apply(void 0,De(["div",{className:"fc-toolbar-chunk"}],r))},e.prototype.renderWidgetGroup=function(n){for(var r=this.props,i=this.context.theme,o=[],a=!0,l=0,u=n;l<u.length;l++){var d=u[l],f=d.buttonName,p=d.buttonClick,m=d.buttonText,g=d.buttonIcon;if(f==="title")a=!1,o.push(x("h2",{className:"fc-toolbar-title"},r.title));else{var y=g?{"aria-label":f}:{},_=["fc-"+f+"-button",i.getClass("button")];f===r.activeButton&&_.push(i.getClass("buttonActive"));var w=!r.isTodayEnabled&&f==="today"||!r.isPrevEnabled&&f==="prev"||!r.isNextEnabled&&f==="next";o.push(x("button",I({disabled:w,className:_.join(" "),onClick:p,type:"button"},y),m||(g?x("span",{className:g}):"")))}}if(o.length>1){var S=a&&i.getClass("buttonGroup")||"";return x.apply(void 0,De(["div",{className:S}],o))}return o[0]},e}(ee),d3=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.model,i=n.extraClassName,o=!1,a,l,u=r.center;r.left?(o=!0,a=r.left):a=r.start,r.right?(o=!0,l=r.right):l=r.end;var d=[i||"","fc-toolbar",o?"fc-toolbar-ltr":""];return x("div",{className:d.join(" ")},this.renderSection("start",a||[]),this.renderSection("center",u||[]),this.renderSection("end",l||[]))},e.prototype.renderSection=function(n,r){var i=this.props;return x(mce,{key:n,widgetGroups:r,title:i.title,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled})},e}(ee),vce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={availableWidth:null},n.handleEl=function(r){n.el=r,At(n.props.elRef,r),n.updateAvailableWidth()},n.handleResize=function(){n.updateAvailableWidth()},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=r.aspectRatio,a=["fc-view-harness",o||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",u="";return o?i.availableWidth!==null?l=i.availableWidth/o:u=1/o*100+"%":l=r.height||"",x("div",{ref:this.handleEl,onClick:r.onClick,className:a.join(" "),style:{height:l,paddingBottom:u}},r.children)},e.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},e.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},e}(ee),gce=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;return r.handleSegClick=function(i,o){var a=r.component,l=a.context,u=Kl(o);if(u&&a.isValidSegDownEl(i.target)){var d=jt(i.target,".fc-event-forced-url"),f=d?d.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:o,event:new Qe(a.context,u.eventRange.def,u.eventRange.instance),jsEvent:i,view:l.viewApi}),f&&!i.defaultPrevented&&(window.location.href=f)}},r.destroy=e4(n.el,"click",".fc-event",r.handleSegClick),r}return e}(Jl),yce=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;return r.handleEventElRemove=function(i){i===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(i,o){Kl(o)&&(r.currentSegEl=o,r.triggerEvent("eventMouseEnter",i,o))},r.handleSegLeave=function(i,o){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",i,o))},r.removeHoverListeners=_ae(n.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return e.prototype.destroy=function(){this.removeHoverListeners()},e.prototype.triggerEvent=function(n,r,i){var o=this.component,a=o.context,l=Kl(i);(!r||o.isValidSegDownEl(r.target))&&a.emitter.trigger(n,{el:i,event:new Qe(a,l.eventRange.def,l.eventRange.instance),jsEvent:r,view:a.viewApi})},e}(Jl),f3=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildViewContext=Q(eue),n.buildViewPropTransformers=Q(_ce),n.buildToolbarProps=Q(bce),n.handleNavLinkClick=Zq("a[data-navlink]",n._handleNavLinkClick.bind(n)),n.headerRef=xe(),n.footerRef=xe(),n.interactionsStore={},n.registerInteractiveComponent=function(r,i){var o=hce(r,i),a=[gce,yce],l=a.concat(n.props.pluginHooks.componentInteractions),u=l.map(function(d){return new d(o)});n.interactionsStore[r.uid]=u,pp[r.uid]=o},n.unregisterInteractiveComponent=function(r){for(var i=0,o=n.interactionsStore[r.uid];i<o.length;i++){var a=o[i];a.destroy()}delete n.interactionsStore[r.uid],delete pp[r.uid]},n.resizeRunner=new Ql(function(){n.props.emitter.trigger("_resize",!0),n.props.emitter.trigger("windowResize",{view:n.props.viewApi})}),n.handleWindowResize=function(r){var i=n.props.options;i.handleWindowResize&&r.target===window&&n.resizeRunner.request(i.windowResizeDelay)},n}return e.prototype.render=function(){var n=this.props,r=n.toolbarConfig,i=n.options,o=this.buildToolbarProps(n.viewSpec,n.dateProfile,n.dateProfileGenerator,n.currentDate,up(n.options.now,n.dateEnv),n.viewTitle),a=!1,l="",u;n.isHeightAuto||n.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);var d=this.buildViewContext(n.viewSpec,n.viewApi,n.options,n.dateProfileGenerator,n.dateEnv,n.theme,n.pluginHooks,n.dispatch,n.getCurrentData,n.emitter,n.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return x(hi.Provider,{value:d},r.headerToolbar&&x(d3,I({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.headerToolbar},o)),x(vce,{liquid:a,height:l,aspectRatio:u,onClick:this.handleNavLinkClick},this.renderView(n),this.buildAppendContent()),r.footerToolbar&&x(d3,I({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footerToolbar},o)))},e.prototype.componentDidMount=function(){var n=this.props;this.calendarInteractions=n.pluginHooks.calendarInteractions.map(function(o){return new o(n)}),window.addEventListener("resize",this.handleWindowResize);var r=n.pluginHooks.propSetHandlers;for(var i in r)r[i](n[i],n)},e.prototype.componentDidUpdate=function(n){var r=this.props,i=r.pluginHooks.propSetHandlers;for(var o in i)r[o]!==n[o]&&i[o](r[o],r)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var n=0,r=this.calendarInteractions;n<r.length;n++){var i=r[n];i.destroy()}this.props.emitter.trigger("_unmount")},e.prototype._handleNavLinkClick=function(n,r){var i=this.props,o=i.dateEnv,a=i.options,l=i.calendarApi,u=r.getAttribute("data-navlink");u=u?JSON.parse(u):{};var d=o.createMarker(u.date),f=u.type,p=f==="day"?a.navLinkDayClick:f==="week"?a.navLinkWeekClick:null;typeof p=="function"?p.call(l,o.toDate(d),n):(typeof p=="string"&&(f=p),l.zoomTo(d,f))},e.prototype.buildAppendContent=function(){var n=this.props,r=n.pluginHooks.viewContainerAppends.map(function(i){return i(n)});return x.apply(void 0,De([ge,{}],r))},e.prototype.renderView=function(n){for(var r=n.pluginHooks,i=n.viewSpec,o={dateProfile:n.dateProfile,businessHours:n.businessHours,eventStore:n.renderableEventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,isHeightAuto:n.isHeightAuto,forPrint:n.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers),l=0,u=a;l<u.length;l++){var d=u[l];I(o,d.transform(o,n))}var f=i.component;return x(f,I({},o))},e}(_b);function bce(t,e,n,r,i,o){var a=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),u=n.buildNext(e,r,!1);return{title:o,activeButton:t.type,isTodayEnabled:a.isValid&&!di(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function _ce(t){return t.map(function(e){return new e})}var h3=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={forPrint:!1},n.handleBeforePrint=function(){n.setState({forPrint:!0})},n.handleAfterPrint=function(){n.setState({forPrint:!1})},n}return e.prototype.render=function(){var n=this.props,r=n.options,i=this.state.forPrint,o=i||r.height==="auto"||r.contentHeight==="auto",a=!o&&r.height!=null?r.height:"",l=["fc",i?"fc-media-print":"fc-media-screen","fc-direction-"+r.direction,n.theme.getClass("root")];return vb()||l.push("fc-liquid-hack"),n.children(l,a,o,i)},e.prototype.componentDidMount=function(){var n=this.props.emitter;n.on("_beforeprint",this.handleBeforePrint),n.on("_afterprint",this.handleAfterPrint)},e.prototype.componentWillUnmount=function(){var n=this.props.emitter;n.off("_beforeprint",this.handleBeforePrint),n.off("_afterprint",this.handleAfterPrint)},e}(ee);function oR(t,e){return!t||e>10?ut({weekday:"short"}):e>1?ut({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ut({weekday:"long"})}var p3="fc-col-header-cell";function m3(t){return t.text}var sR=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.context,r=n.dateEnv,i=n.options,o=n.theme,a=n.viewApi,l=this.props,u=l.date,d=l.dateProfile,f=dp(u,l.todayRange,null,d),p=[p3].concat(hd(f,o)),m=r.format(u,l.dayHeaderFormat),g=i.navLinks&&!f.isDisabled&&l.colCnt>1?{"data-navlink":da(u),tabIndex:0}:{},y=I(I(I({date:r.toDate(u),view:a},l.extraHookProps),{text:m}),f);return x(Dt,{hookProps:y,classNames:i.dayHeaderClassNames,content:i.dayHeaderContent,defaultContent:m3,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},function(_,w,S,C){return x("th",I({ref:_,className:p.concat(w).join(" "),"data-date":f.isDisabled?void 0:rp(u),colSpan:l.colSpan},l.extraDataAttrs),x("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&x("a",I({ref:S,className:["fc-col-header-cell-cushion",l.isSticky?"fc-sticky":""].join(" ")},g),C)))})},e}(ee),aR=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context,i=r.dateEnv,o=r.theme,a=r.viewApi,l=r.options,u=qt(new Date(2592e5),n.dow),d={dow:n.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=[p3].concat(hd(d,o),n.extraClassNames||[]),p=i.format(u,n.dayHeaderFormat),m=I(I(I(I({date:u},d),{view:a}),n.extraHookProps),{text:p});return x(Dt,{hookProps:m,classNames:l.dayHeaderClassNames,content:l.dayHeaderContent,defaultContent:m3,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},function(g,y,_,w){return x("th",I({ref:g,className:f.concat(y).join(" "),colSpan:n.colSpan},n.extraDataAttrs),x("div",{className:"fc-scrollgrid-sync-inner"},x("a",{className:["fc-col-header-cell-cushion",n.isSticky?"fc-sticky":""].join(" "),ref:_},w)))})},e}(ee),Hr=function(t){P(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.initialNowDate=up(r.options.now,r.dateEnv),i.initialNowQueriedMs=new Date().valueOf(),i.state=i.computeTiming().currentState,i}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return r.children(i.nowDate,i.todayRange)},e.prototype.componentDidMount=function(){this.setTimeout()},e.prototype.componentDidUpdate=function(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},e.prototype.componentWillUnmount=function(){this.clearTimeout()},e.prototype.computeTiming=function(){var n=this,r=n.props,i=n.context,o=es(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),a=i.dateEnv.startOf(o,r.unit),l=i.dateEnv.add(a,ye(1,r.unit)),u=l.valueOf()-o.valueOf();return u=Math.min(1e3*60*60*24,u),{currentState:{nowDate:a,todayRange:v3(a)},nextState:{nowDate:l,todayRange:v3(l)},waitMs:u}},e.prototype.setTimeout=function(){var n=this,r=this.computeTiming(),i=r.nextState,o=r.waitMs;this.timeoutId=setTimeout(function(){n.setState(i,function(){n.setTimeout()})},o)},e.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.contextType=hi,e}(zy);function v3(t){var e=Ve(t),n=qt(e,1);return{start:e,end:n}}var xb=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.createDayHeaderFormatter=Q(wce),n}return e.prototype.render=function(){var n=this.context,r=this.props,i=r.dates,o=r.dateProfile,a=r.datesRepDistinctDays,l=r.renderIntro,u=this.createDayHeaderFormatter(n.options.dayHeaderFormat,a,i.length);return x(Hr,{unit:"day"},function(d,f){return x("tr",null,l&&l("day"),i.map(function(p){return a?x(sR,{key:p.toISOString(),date:p,dateProfile:o,todayRange:f,colCnt:i.length,dayHeaderFormat:u}):x(aR,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:u})}))})},e}(ee);function wce(t,e,n){return t||oR(e,n)}var Tb=function(){function t(e,n){for(var r=e.start,i=e.end,o=[],a=[],l=-1;r<i;)n.isHiddenDay(r)?o.push(l+.5):(l+=1,o.push(l),a.push(r)),r=qt(r,1);this.dates=a,this.indices=o,this.cnt=a.length}return t.prototype.sliceRange=function(e){var n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(qt(e.end,-1)),i=Math.max(0,n),o=Math.min(this.cnt-1,r);return i=Math.ceil(i),o=Math.floor(o),i<=o?{firstIndex:i,lastIndex:o,isStart:n===i,isEnd:r===o}:null},t.prototype.getDateDayIndex=function(e){var n=this.indices,r=Math.floor(sa(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]},t}(),Cb=function(){function t(e,n){var r=e.dates,i,o,a;if(n){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return t.prototype.buildCells=function(){for(var e=[],n=0;n<this.rowCnt;n+=1){for(var r=[],i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e},t.prototype.buildCell=function(e,n){var r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}},t.prototype.buildHeaderDates=function(){for(var e=[],n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e},t.prototype.sliceRange=function(e){var n=this.colCnt,r=this.daySeries.sliceRange(e),i=[];if(r)for(var o=r.firstIndex,a=r.lastIndex,l=o;l<=a;){var u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);i.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:r.isStart&&l===o,isEnd:r.isEnd&&d-1===a}),l=d}return i},t}(),md=function(){function t(){this.sliceBusinessHours=Q(this._sliceBusinessHours),this.sliceDateSelection=Q(this._sliceDateSpan),this.sliceEventStore=Q(this._sliceEventStore),this.sliceEventDrag=Q(this._sliceInteraction),this.sliceEventResize=Q(this._sliceInteraction),this.forceDayIfListItem=!1}return t.prototype.sliceProps=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var l=e.eventUiBases,u=this.sliceEventStore.apply(this,De([e.eventStore,l,n,r],o));return{dateSelectionSegs:this.sliceDateSelection.apply(this,De([e.dateSelection,l,i],o)),businessHourSegs:this.sliceBusinessHours.apply(this,De([e.businessHours,n,r,i],o)),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag.apply(this,De([e.eventDrag,l,n,r],o)),eventResize:this.sliceEventResize.apply(this,De([e.eventResize,l,n,r],o)),eventSelection:e.eventSelection}},t.prototype.sliceNowDate=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this._sliceDateSpan.apply(this,De([{range:{start:e,end:es(e,1)},allDay:!1},{},n],r))},t.prototype._sliceBusinessHours=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,De([sd(e,lR(n,Boolean(r)),i),{},n,r],o)).bg:[]},t.prototype._sliceEventStore=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(e){var l=A4(e,n,lR(r,Boolean(i)),i);return{bg:this.sliceEventRanges(l.bg,o),fg:this.sliceEventRanges(l.fg,o)}}return{bg:[],fg:[]}},t.prototype._sliceInteraction=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(!e)return null;var l=A4(e.mutatedEvents,n,lR(r,Boolean(i)),i);return{segs:this.sliceEventRanges(l.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},t.prototype._sliceDateSpan=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];if(!e)return[];for(var a=Tle(e,n,r),l=this.sliceRange.apply(this,De([e.range],i)),u=0,d=l;u<d.length;u++){var f=d[u];f.eventRange=a}return l},t.prototype.sliceEventRanges=function(e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];r.push.apply(r,this.sliceEventRange(a,n))}return r},t.prototype.sliceEventRange=function(e,n){var r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:qt(r.start,1)});for(var i=this.sliceRange.apply(this,De([r],n)),o=0,a=i;o<a.length;o++){var l=a[o];l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd}return i},t}();function lR(t,e){var n=t.activeRange;return e?n:{start:es(n.start,t.slotMinTime.milliseconds),end:es(n.end,t.slotMaxTime.milliseconds-864e5)}}function Ib(t,e,n){var r=t.mutatedEvents.instances;for(var i in r)if(!lp(e.validRange,r[i].range))return!1;return y3({eventDrag:t},n)}function g3(t,e,n){return lp(e.validRange,t.range)?y3({dateSelection:t},n):!1}function y3(t,e){var n=e.getCurrentData(),r=I({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||uR)(r,e)}function uR(t,e,n,r){return n===void 0&&(n={}),!(t.eventDrag&&!Ece(t,e,n,r)||t.dateSelection&&!Sce(t,e,n,r))}function Ece(t,e,n,r){var i=e.getCurrentData(),o=t.eventDrag,a=o.mutatedEvents,l=a.defs,u=a.instances,d=hb(l,o.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=kt(d,r));var f=Aue(t.eventStore,o.affectedEvents.instances),p=f.defs,m=f.instances,g=hb(p,t.eventUiBases);for(var y in u){var _=u[y],w=_.range,S=d[_.defId],C=l[_.defId];if(!b3(S.constraints,w,f,t.businessHours,e))return!1;var R=e.options.eventOverlap,A=typeof R=="function"?R:null;for(var L in m){var M=m[L];if(ap(w,M.range)){var W=g[M.defId].overlap;if(W===!1&&o.isEvent||S.overlap===!1||A&&!A(new Qe(e,p[M.defId],M),new Qe(e,C,_)))return!1}}for(var K=i.eventStore,q=0,Re=S.allows;q<Re.length;q++){var O=Re[q],mt=I(I({},n),{range:_.range,allDay:C.allDay}),et=K.defs[C.defId],Vr=K.instances[y],er=void 0;if(et?er=new Qe(e,et,Vr):er=new Qe(e,C),!O(OI(mt,e),er))return!1}}return!0}function Sce(t,e,n,r){var i=t.eventStore,o=i.defs,a=i.instances,l=t.dateSelection,u=l.range,d=e.getCurrentData().selectionConfig;if(r&&(d=r(d)),!b3(d.constraints,u,i,t.businessHours,e))return!1;var f=e.options.selectOverlap,p=typeof f=="function"?f:null;for(var m in a){var g=a[m];if(ap(u,g.range)&&(d.overlap===!1||p&&!p(new Qe(e,o[g.defId],g),null)))return!1}for(var y=0,_=d.allows;y<_.length;y++){var w=_[y],S=I(I({},n),l);if(!w(OI(S,e),null))return!1}return!0}function b3(t,e,n,r,i){for(var o=0,a=t;o<a.length;o++){var l=a[o];if(!Tce(xce(l,e,n,r,i),e))return!1}return!0}function xce(t,e,n,r,i){return t==="businessHours"?cR(sd(r,e,i)):typeof t=="string"?cR(ab(n,function(o){return o.groupId===t})):typeof t=="object"&&t?cR(sd(t,e,i)):[]}function cR(t){var e=t.instances,n=[];for(var r in e)n.push(e[r].range);return n}function Tce(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(lp(i,e))return!0}return!1}var Rb=/^(visible|hidden)$/,dR=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleEl=function(r){n.el=r,At(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this.props,r=n.liquid,i=n.liquidIsAbsolute,o=r&&i,a=["fc-scroller"];return r&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),x("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:n.overflowX,overflowY:n.overflowY,left:o&&-(n.overcomeLeft||0)||"",right:o&&-(n.overcomeRight||0)||"",bottom:o&&-(n.overcomeBottom||0)||"",marginLeft:!o&&-(n.overcomeLeft||0)||"",marginRight:!o&&-(n.overcomeRight||0)||"",marginBottom:!o&&-(n.overcomeBottom||0)||"",maxHeight:n.maxHeight||""}},n.children)},e.prototype.needsXScrolling=function(){if(Rb.test(this.props.overflowX))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),i=n.children,o=0;o<i.length;o+=1){var a=i[o];if(a.getBoundingClientRect().width>r)return!0}return!1},e.prototype.needsYScrolling=function(){if(Rb.test(this.props.overflowY))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),i=n.children,o=0;o<i.length;o+=1){var a=i[o];if(a.getBoundingClientRect().height>r)return!0}return!1},e.prototype.getXScrollbarWidth=function(){return Rb.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},e.prototype.getYScrollbarWidth=function(){return Rb.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},e}(ee),wt=function(){function t(e){var n=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(r,i){var o=n,a=o.depths,l=o.currentMap,u=!1,d=!1;r!==null?(u=i in l,l[i]=r,a[i]=(a[i]||0)+1,d=!0):(a[i]-=1,a[i]||(delete l[i],delete n.callbackMap[i],u=!0)),n.masterCallback&&(u&&n.masterCallback(null,String(i)),d&&n.masterCallback(r,String(i)))}}return t.prototype.createRef=function(e){var n=this,r=this.callbackMap[e];return r||(r=this.callbackMap[e]=function(i){n.handleValue(i,String(e))}),r},t.prototype.collect=function(e,n,r){return xI(this.currentMap,e,n,r)},t.prototype.getAll=function(){return SI(this.currentMap)},t}();function fR(t){for(var e=Jo(t,".fc-scrollgrid-shrink"),n=0,r=0,i=e;r<i.length;r++){var o=i[r];n=Math.max(n,Eae(o))}return Math.ceil(n)}function kb(t,e){return t.liquid&&e.liquid}function hR(t,e){return e.maxHeight!=null||kb(t,e)}function pR(t,e,n){var r=n.expandRows,i=typeof e.content=="function"?e.content(n):x("table",{className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,x("tbody",{},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent));return i}function mR(t,e){return gr(t,e,Jt)}function vR(t,e){for(var n=[],r=0,i=t;r<i.length;r++)for(var o=i[r],a=o.span||1,l=0;l<a;l+=1)n.push(x("col",{style:{width:o.width==="shrink"?gR(e):o.width||"",minWidth:o.minWidth||""}}));return x.apply(void 0,De(["colgroup",{}],n))}function gR(t){return t??4}function yR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.width==="shrink")return!0}return!1}function bR(t,e){var n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function _R(t,e){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+t.type,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function bo(t){return x("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function _o(t){var e=t.stickyHeaderDates;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function pa(t){var e=t.stickyFooterScrollbar;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var mp=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processCols=Q(function(r){return r},mR),n.renderMicroColGroup=Q(vR),n.scrollerRefs=new wt,n.scrollerElRefs=new wt(n._handleScrollerEl.bind(n)),n.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},n.handleSizing=function(){n.setState(I({shrinkWidth:n.computeShrinkWidth()},n.computeScrollerDims()))},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=r.sections||[],l=this.processCols(r.cols),u=this.renderMicroColGroup(l,i.shrinkWidth),d=bR(r.liquid,o);r.collapsibleWidth&&d.push("fc-scrollgrid-collapsible");for(var f=a.length,p=0,m,g=[],y=[],_=[];p<f&&(m=a[p]).type==="header";)g.push(this.renderSection(m,u)),p+=1;for(;p<f&&(m=a[p]).type==="body";)y.push(this.renderSection(m,u)),p+=1;for(;p<f&&(m=a[p]).type==="footer";)_.push(this.renderSection(m,u)),p+=1;var w=!vb();return x("table",{className:d.join(" "),style:{height:r.height}},Boolean(!w&&g.length)&&x.apply(void 0,De(["thead",{}],g)),Boolean(!w&&y.length)&&x.apply(void 0,De(["tbody",{}],y)),Boolean(!w&&_.length)&&x.apply(void 0,De(["tfoot",{}],_)),w&&x.apply(void 0,De(["tbody",{}],g,y,_)))},e.prototype.renderSection=function(n,r){return"outerContent"in n?x(ge,{key:n.key},n.outerContent):x("tr",{key:n.key,className:_R(n,this.props.liquid).join(" ")},this.renderChunkTd(n,r,n.chunk))},e.prototype.renderChunkTd=function(n,r,i){if("outerContent"in i)return i.outerContent;var o=this.props,a=this.state,l=a.forceYScrollbars,u=a.scrollerClientWidths,d=a.scrollerClientHeights,f=hR(o,n),p=kb(o,n),m=o.liquid?l?"scroll":f?"auto":"hidden":"visible",g=n.key,y=pR(n,i,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&u[g]!==void 0?u[g]:null,clientHeight:d[g]!==void 0?d[g]:null,expandRows:n.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}});return x("td",{ref:i.elRef},x("div",{className:"fc-scroller-harness"+(p?" fc-scroller-harness-liquid":"")},x(dR,{ref:this.scrollerRefs.createRef(g),elRef:this.scrollerElRefs.createRef(g),overflowY:m,overflowX:o.liquid?"hidden":"visible",maxHeight:n.maxHeight,liquid:p,liquidIsAbsolute:!0},y)))},e.prototype._handleScrollerEl=function(n,r){var i=Cce(this.props.sections,r);i&&At(i.chunk.scrollerElRef,n)},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(){this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.computeShrinkWidth=function(){return yR(this.props.cols)?fR(this.scrollerElRefs.getAll()):0},e.prototype.computeScrollerDims=function(){var n=WI(),r=this,i=r.scrollerRefs,o=r.scrollerElRefs,a=!1,l={},u={};for(var d in i.currentMap){var f=i.currentMap[d];if(f&&f.needsYScrolling()){a=!0;break}}for(var p=0,m=this.props.sections;p<m.length;p++){var g=m[p],d=g.key,y=o.currentMap[d];if(y){var _=y.parentNode;l[d]=Math.floor(_.getBoundingClientRect().width-(a?n.y:0)),u[d]=Math.floor(_.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}},e}(ee);mp.addStateEquality({scrollerClientWidths:Jt,scrollerClientHeights:Jt});function Cce(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.key===e)return i}return null}var Ab=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.elRef=xe(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=r.seg,l=a.eventRange,u=l.ui,d={event:new Qe(i,l.def,l.instance),view:i.viewApi,timeText:r.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!r.disableDragging&&vle(a,i),isStartResizable:!r.disableResizing&&gle(a,i),isEndResizable:!r.disableResizing&&yle(a),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)},f=ble(d).concat(u.classNames);return x(Dt,{hookProps:d,classNames:o.eventClassNames,content:o.eventContent,defaultContent:r.defaultContent,didMount:o.eventDidMount,willUnmount:o.eventWillUnmount,elRef:this.elRef},function(p,m,g,y){return r.children(p,f.concat(m),g,y,d)})},e.prototype.componentDidMount=function(){N4(this.elRef.current,this.props.seg)},e.prototype.componentDidUpdate=function(n){var r=this.props.seg;r!==n.seg&&N4(this.elRef.current,r)},e}(ee),vd=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.seg,a=i.options.eventTimeFormat||r.defaultTimeFormat,l=NI(o,a,i,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return x(Ab,{seg:o,timeText:l,disableDragging:r.disableDragging,disableResizing:r.disableResizing,defaultContent:r.defaultContent||Ice,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(u,d,f,p,m){return x("a",I({className:r.extraClassNames.concat(d).join(" "),style:{borderColor:m.borderColor,backgroundColor:m.backgroundColor},ref:u},Rce(o)),x("div",{className:"fc-event-main",ref:f,style:{color:m.textColor}},p),m.isStartResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-start"}),m.isEndResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},e}(ee);function Ice(t){return x("div",{className:"fc-event-main-frame"},t.timeText&&x("div",{className:"fc-event-time"},t.timeText),x("div",{className:"fc-event-title-container"},x("div",{className:"fc-event-title fc-sticky"},t.event.title||x(ge,null,"\xA0"))))}function Rce(t){var e=t.eventRange.def.url;return e?{href:e}:{}}var rs=function(t){return x(hi.Consumer,null,function(e){var n=e.options,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return x(Dt,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)})},kce=ut({day:"numeric"}),vp=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=_3({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv});return x(Xl,{hookProps:a,content:o.dayCellContent,defaultContent:r.defaultContent},r.children)},e}(ee);function _3(t){var e=t.date,n=t.dateEnv,r=dp(e,t.todayRange,null,t.dateProfile);return I(I(I({date:n.toDate(e),view:t.viewApi},r),{dayNumberText:t.showDayNumber?n.format(e,kce):""}),t.extraProps)}var gp=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=ts(_3),n.normalizeClassNames=$l(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=this.refineHookProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv}),l=hd(a,i.theme).concat(a.isDisabled?[]:this.normalizeClassNames(o.dayCellClassNames,a)),u=a.isDisabled?{}:{"data-date":rp(r.date)};return x(ha,{hookProps:a,didMount:o.dayCellDidMount,willUnmount:o.dayCellWillUnmount,elRef:r.elRef},function(d){return r.children(d,l,u,a.isDisabled)})},e}(ee);function gd(t){return x("div",{className:"fc-"+t})}var yd=function(t){return x(Ab,{defaultContent:Ace,seg:t.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},function(e,n,r,i,o){return x("div",{ref:e,className:["fc-bg-event"].concat(n).join(" "),style:{backgroundColor:o.backgroundColor}},i)})};function Ace(t){var e=t.event.title;return e&&x("div",{className:"fc-event-title"},t.event.title)}var Db=function(t){return x(hi.Consumer,null,function(e){var n=e.dateEnv,r=e.options,i=t.date,o=r.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(i),l=n.format(i,o),u={num:a,text:l,date:i};return x(Dt,{hookProps:u,classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:Dce,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)})};function Dce(t){return t.text}var wR=10,Nce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&At(n.props.elRef,r)},n.handleDocumentMousedown=function(r){var i=bae(r);n.rootEl.contains(i)||n.handleCloseClick()},n.handleCloseClick=function(){var r=n.props.onClose;r&&r()},n}return e.prototype.render=function(){var n=this.context.theme,r=this.props,i=["fc-popover",n.getClass("popover")].concat(r.extraClassNames||[]);return $q(x("div",I({className:i.join(" ")},r.extraAttrs,{ref:this.handleRootEl}),x("div",{className:"fc-popover-header "+n.getClass("popoverHeader")},x("span",{className:"fc-popover-title"},r.title),x("span",{className:"fc-popover-close "+n.getIconClass("close"),onClick:this.handleCloseClick})),x("div",{className:"fc-popover-body "+n.getClass("popoverContent")},r.children)),r.parentEl)},e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),this.updateSize()},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown)},e.prototype.updateSize=function(){var n=this.context.isRtl,r=this.props,i=r.alignmentEl,o=r.alignGridTop,a=this.rootEl,l=$le(i);if(l){var u=a.getBoundingClientRect(),d=o?jt(i,".fc-scrollgrid").getBoundingClientRect().top:l.top,f=n?l.right-u.width:l.left;d=Math.max(d,wR),f=Math.min(f,document.documentElement.clientWidth-wR-u.width),f=Math.max(f,wR);var p=a.offsetParent.getBoundingClientRect();Zo(a,{top:d-p.top,left:f-p.left})}},e}(ee),Pce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,useEventCenter:!1}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this.context,r=n.options,i=n.dateEnv,o=this.props,a=o.startDate,l=o.todayRange,u=o.dateProfile,d=i.format(a,r.dayPopoverFormat);return x(gp,{date:a,dateProfile:u,todayRange:l,elRef:this.handleRootEl},function(f,p,m){return x(Nce,{elRef:f,title:d,extraClassNames:["fc-more-popover"].concat(p),extraAttrs:m,parentEl:o.parentEl,alignmentEl:o.alignmentEl,alignGridTop:o.alignGridTop,onClose:o.onClose},x(vp,{date:a,dateProfile:u,todayRange:l},function(g,y){return y&&x("div",{className:"fc-more-popover-misc",ref:g},y)}),o.children)})},e.prototype.queryHit=function(n,r,i,o){var a=this,l=a.rootEl,u=a.props;return n>=0&&n<i&&r>=0&&r<o?{dateProfile:u.dateProfile,dateSpan:I({allDay:!0,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:i,bottom:o},layer:1}:null},e}(Nn),bd=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.linkElRef=xe(),n.state={isPopoverOpen:!1},n.handleClick=function(r){var i=n,o=i.props,a=i.context,l=a.options.moreLinkClick,u=w3(o).start;function d(f){var p=f.eventRange,m=p.def,g=p.instance,y=p.range;return{event:new Qe(a,m,g),start:a.dateEnv.toDate(y.start),end:a.dateEnv.toDate(y.end),isStart:f.isStart,isEnd:f.isEnd}}typeof l=="function"&&(l=l({date:u,allDay:Boolean(o.allDayDate),allSegs:o.allSegs.map(d),hiddenSegs:o.hiddenSegs.map(d),jsEvent:r,view:a.viewApi})),!l||l==="popover"?n.setState({isPopoverOpen:!0}):typeof l=="string"&&a.calendarApi.zoomTo(u,l)},n.handlePopoverClose=function(){n.setState({isPopoverOpen:!1})},n}return e.prototype.render=function(){var n=this,r=this.props;return x(hi.Consumer,null,function(i){var o=i.viewApi,a=i.options,l=i.calendarApi,u=a.moreLinkText,d=r.moreCnt,f=w3(r),p={num:d,shortText:"+"+d,text:typeof u=="function"?u.call(l,d):"+"+d+" "+u,view:o};return x(ge,null,Boolean(r.moreCnt)&&x(Dt,{elRef:n.linkElRef,hookProps:p,classNames:a.moreLinkClassNames,content:a.moreLinkContent,defaultContent:r.defaultContent||Oce,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},function(m,g,y,_){return r.children(m,["fc-more-link"].concat(g),y,_,n.handleClick)}),n.state.isPopoverOpen&&x(Pce,{startDate:f.start,endDate:f.end,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:r.extraDateSpan,parentEl:n.parentEl,alignmentEl:r.alignmentElRef.current,alignGridTop:r.alignGridTop,onClose:n.handlePopoverClose},r.popoverContent()))})},e.prototype.componentDidMount=function(){this.updateParentEl()},e.prototype.componentDidUpdate=function(){this.updateParentEl()},e.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=jt(this.linkElRef.current,".fc-view-harness"))},e}(ee);function Oce(t){return t.text}function w3(t){if(t.allDayDate)return{start:t.allDayDate,end:qt(t.allDayDate,1)};var e=t.hiddenSegs;return{start:_d(e),end:Lce(e)}}function _d(t){return t.reduce(Mce).eventRange.range.start}function Mce(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Lce(t){return t.reduce(Fce).eventRange.range.end}function Fce(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var ER=function(t){P(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(o){switch(o.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(o){i.currentData=o,i.renderRunner.request(o.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var o=i.currentData;Xq(x(h3,{options:o.calendarOptions,theme:o.theme,emitter:o.emitter},function(a,l,u,d){return i.setClassNames(a),i.setHeight(l),x(XI.Provider,{value:i.customContentRenderId},x(f3,I({isHeightAuto:u,forPrint:d},o)))}),i.el)}else i.isRendered&&(i.isRendered=!1,Qq(i.el),i.setClassNames([]),i.setHeight(""));vI()},i.el=n,i.renderRunner=new Ql(i.handleRenderRequest),new ZI({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.isRendering;n?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),n&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){t.prototype.updateSize.call(this),vI()},e.prototype.batchRendering=function(n){this.renderRunner.pause("batchRendering"),n(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(n,r){this.currentDataManager.resetOptions(n,r)},e.prototype.setClassNames=function(n){if(!gr(n,this.currentClassNames)){for(var r=this.el.classList,i=0,o=this.currentClassNames;i<o.length;i++){var a=o[i];r.remove(a)}for(var l=0,u=n;l<u.length;l++){var a=u[l];r.add(a)}this.currentClassNames=n}},e.prototype.setHeight=function(n){gI(this.el,"height",n)},e}(ua);le();var Uce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.headerElRef=xe(),n}return e.prototype.renderSimpleLayout=function(n,r){var i=this,o=i.props,a=i.context,l=[],u=_o(a.options);return n&&l.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),x(Ui,{viewSpec:a.viewSpec},function(d,f){return x("div",{ref:d,className:["fc-daygrid"].concat(f).join(" ")},x(mp,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[],sections:l}))})},e.prototype.renderHScrollLayout=function(n,r,i,o){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var l=this,u=l.props,d=l.context,f=!u.forPrint&&_o(d.options),p=!u.forPrint&&pa(d.options),m=[];return n&&m.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),p&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:bo}]}),x(Ui,{viewSpec:d.viewSpec},function(g,y){return x("div",{ref:g,className:["fc-daygrid"].concat(y).join(" ")},x(a,{liquid:!u.isHeightAuto&&!u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:i,minWidth:o}]}],sections:m}))})},e}(Nn);function Nb(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];n[a.row].push(a)}return n}function Pb(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];n[a.firstCol].push(a)}return n}function E3(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];n[a.row].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var Bce=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context.options.navLinks?{"data-navlink":da(n.date),tabIndex:0}:{};return x(vp,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,defaultContent:Hce},function(i,o){return(o||n.forceDayTop)&&x("div",{className:"fc-daygrid-day-top",ref:i},x("a",I({className:"fc-daygrid-day-number"},r),o||x(ge,null,"\xA0")))})},e}(ee);function Hce(t){return t.dayNumberText}var S3=ut({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function x3(t){var e=t.eventRange.ui.display;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var T3=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(vd,I({},n,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:S3,defaultDisplayEventEnd:n.defaultDisplayEventEnd,disableResizing:!n.seg.eventRange.def.allDay}))},e}(ee),C3=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options.eventTimeFormat||S3,a=NI(r.seg,o,i,!0,r.defaultDisplayEventEnd);return x(Ab,{seg:r.seg,timeText:a,defaultContent:Vce,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(l,u,d,f){return x("a",I({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(u).join(" "),ref:l},jce(r.seg)),f)})},e}(ee);function Vce(t){return x(ge,null,x("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&x("div",{className:"fc-event-time"},t.timeText),x("div",{className:"fc-event-title"},t.event.title||x(ge,null,"\xA0")))}function jce(t){var e=t.eventRange.def.url;return e?{href:e}:{}}var qce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.compileSegs=Q(Wce),n}return e.prototype.render=function(){var n=this.props,r=this.compileSegs(n.singlePlacements),i=r.allSegs,o=r.invisibleSegs;return x(bd,{dateProfile:n.dateProfile,todayRange:n.todayRange,allDayDate:n.allDayDate,moreCnt:n.moreCnt,allSegs:i,hiddenSegs:o,alignmentElRef:n.alignmentElRef,alignGridTop:n.alignGridTop,extraDateSpan:n.extraDateSpan,popoverContent:function(){var a=(n.eventDrag?n.eventDrag.affectedInstances:null)||(n.eventResize?n.eventResize.affectedInstances:null)||{};return x(ge,null,i.map(function(l){var u=l.eventRange.instance.instanceId;return x("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:a[u]?"hidden":""}},x3(l)?x(C3,I({seg:l,isDragging:!1,isSelected:u===n.eventSelection,defaultDisplayEventEnd:!1},yr(l,n.todayRange))):x(T3,I({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===n.eventSelection,defaultDisplayEventEnd:!1},yr(l,n.todayRange))))}))}},function(a,l,u,d,f){return x("a",{ref:a,className:["fc-daygrid-more-link"].concat(l).join(" "),onClick:f},d)})},e}(ee);function Wce(t){for(var e=[],n=[],r=0,i=t;r<i.length;r++){var o=i[r];e.push(o.seg),o.isVisible||n.push(o.seg)}return{allSegs:e,invisibleSegs:n}}var zce=ut({week:"narrow"}),Gce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n.handleRootEl=function(r){At(n.rootElRef,r),At(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=n.rootElRef,a=i.options,l=r.date,u=r.dateProfile,d=a.navLinks?{"data-navlink":da(l,"week"),tabIndex:0}:{};return x(gp,{date:l,dateProfile:u,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},function(f,p,m,g){return x("td",I({ref:f,className:["fc-daygrid-day"].concat(p,r.extraClassNames||[]).join(" ")},m,r.extraDataAttrs),x("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&x(Db,{date:l,defaultFormat:zce},function(y,_,w,S){return x("a",I({ref:y,className:["fc-daygrid-week-number"].concat(_).join(" ")},d),S)}),!g&&x(Bce,{date:l,dateProfile:u,showDayNumber:r.showDayNumber,forceDayTop:r.forceDayTop,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),x("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,x("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},x(qce,{allDayDate:l,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:o,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),x("div",{className:"fc-daygrid-day-bg"},r.bgContent)))})},e}(Nn);function Kce(t,e,n,r,i,o,a){var l=new $ce;l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=o,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);for(var u=[],d=[],f=0;f<t.length;f+=1){var p=t[f],m=p.eventRange.instance.instanceId,g=i[m];g!=null?u.push({index:f,spanStart:p.firstCol,spanEnd:p.lastCol+1,thickness:g}):d.push(p)}for(var y=l.addSegs(u),_=l.toRects(),w=Yce(_,t,a),S=w.singleColPlacements,C=w.multiColPlacements,R=w.leftoverMargins,A=[],L=[],M=0,W=d;M<W.length;M++){var p=W[M];C[p.firstCol].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var K=p.firstCol;K<=p.lastCol;K+=1)S[K].push({seg:yp(p,K,K+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var K=0;K<a.length;K+=1)A.push(0);for(var q=0,Re=y;q<Re.length;q++){var O=Re[q],p=t[O.segInput.index];C[O.spanStart].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var K=O.spanStart;K<O.spanEnd;K+=1)A[K]+=1,S[K].push({seg:yp(p,K,K+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var K=0;K<a.length;K+=1)L.push(R[K]);return{singleColPlacements:S,multiColPlacements:C,moreCnts:A,moreMarginTops:L}}function Yce(t,e,n){for(var r=Xce(t,n.length),i=[],o=[],a=[],l=0;l<n.length;l+=1){for(var u=r[l],d=[],f=0,p=0,m=0,g=u;m<g.length;m++){var y=g[m],_=e[y.segInput.index];d.push({seg:yp(_,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:0,marginTop:y.levelCoord-f}),f=y.levelCoord+y.thickness}var w=[];f=0,p=0;for(var S=0,C=u;S<C.length;S++){var y=C[S],_=e[y.segInput.index],R=y.spanEnd-y.spanStart>1,A=y.spanStart===l;p+=y.levelCoord-f,f=y.levelCoord+y.thickness,R?(p+=y.thickness,A&&w.push({seg:yp(_,y.spanStart,y.spanEnd,n),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):A&&(w.push({seg:yp(_,y.spanStart,y.spanEnd,n),isVisible:!0,isAbsolute:!1,absoluteTop:0,marginTop:p}),p=0)}i.push(d),o.push(w),a.push(p)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:a}}function Xce(t,e){for(var n=[],r=0;r<e;r+=1)n.push([]);for(var i=0,o=t;i<o.length;i++)for(var a=o[i],r=a.spanStart;r<a.spanEnd;r+=1)n[r].push(a);return n}function yp(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;var i=t.eventRange,o=i.range,a=yo(o,{start:r[e].date,end:qt(r[n-1].date,1)});return I(I({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:I(I({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===o.end.valueOf()})}var $ce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hiddenConsumes=!1,n.forceHidden={},n}return e.prototype.addSegs=function(n){for(var r=this,i=t.prototype.addSegs.call(this,n),o=this.entriesByLevel,a=function(u){return!r.forceHidden[ns(u)]},l=0;l<o.length;l+=1)o[l]=o[l].filter(a);return i},e.prototype.handleInvalidInsertion=function(n,r,i){var o=this,a=o.entriesByLevel,l=o.forceHidden,u=n.nextLevel-1;if(this.hiddenConsumes&&u>=0)for(var d=n.lateralStart;d<n.lateralEnd;d+=1){var f=a[u][d];if(this.allowReslicing){var p=I(I({},f),{spanStart:Math.max(f.spanStart,r.spanStart),spanEnd:Math.min(f.spanEnd,r.spanEnd)}),m=ns(p);l[m]||(l[m]=!0,a[u][d]=p,this.splitEntry(f,r,i))}else{var m=ns(f);l[m]||(l[m]=!0,i.push(f))}}return t.prototype.handleInvalidInsertion.call(this,n,r,i)},e}(pd),I3=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cellElRefs=new wt,n.frameElRefs=new wt,n.fgElRefs=new wt,n.segHarnessRefs=new wt,n.rootElRef=xe(),n.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,u=i.cells.length,d=Pb(i.businessHourSegs,u),f=Pb(i.bgEventSegs,u),p=Pb(this.getHighlightSegs(),u),m=Pb(this.getMirrorSegs(),u),g=Kce(dd(i.fgEventSegs,l.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,l.eventOrderStrict,o.eventInstanceHeights,o.maxContentHeight,i.cells),y=g.singleColPlacements,_=g.multiColPlacements,w=g.moreCnts,S=g.moreMarginTops,C=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return x("tr",{ref:this.rootElRef},i.renderIntro&&i.renderIntro(),i.cells.map(function(R,A){var L=n.renderFgSegs(A,i.forPrint?y[A]:_[A],i.todayRange,C),M=n.renderFgSegs(A,Qce(m[A],_),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return x(Gce,{key:R.key,elRef:n.cellElRefs.createRef(R.key),innerElRef:n.frameElRefs.createRef(R.key),dateProfile:i.dateProfile,date:R.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&A===0,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:R.extraHookProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:w[A],moreMarginTop:S[A],singlePlacements:y[A],fgContentElRef:n.fgElRefs.createRef(R.key),fgContent:x(ge,null,x(ge,null,L),x(ge,null,M)),bgContent:x(ge,null,n.renderFillSegs(p[A],"highlight"),n.renderFillSegs(d[A],"non-business"),n.renderFillSegs(f[A],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(n,r){var i=this.props;this.updateSizing(!Jt(n,i))},e.prototype.getHighlightSegs=function(){var n=this.props;return n.eventDrag&&n.eventDrag.segs.length?n.eventDrag.segs:n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:n.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var n=this.props;return n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:[]},e.prototype.renderFgSegs=function(n,r,i,o,a,l,u){var d=this.context,f=this.props.eventSelection,p=this.state.framePositions,m=this.props.cells.length===1,g=a||l||u,y=[];if(p)for(var _=0,w=r;_<w.length;_++){var S=w[_],C=S.seg,R=C.eventRange.instance.instanceId,A=R+":"+n,L=S.isVisible&&!o[R],M=S.isAbsolute,W="",K="";M&&(d.isRtl?(K=0,W=p.lefts[C.lastCol]-p.lefts[C.firstCol]):(W=0,K=p.rights[C.firstCol]-p.rights[C.lastCol])),y.push(x("div",{className:"fc-daygrid-event-harness"+(M?" fc-daygrid-event-harness-abs":""),key:A,ref:g?null:this.segHarnessRefs.createRef(A),style:{visibility:L?"":"hidden",marginTop:M?"":S.marginTop,top:M?S.absoluteTop:"",left:W,right:K}},x3(C)?x(C3,I({seg:C,isDragging:a,isSelected:R===f,defaultDisplayEventEnd:m},yr(C,i))):x(T3,I({seg:C,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:R===f,defaultDisplayEventEnd:m},yr(C,i)))))}return y},e.prototype.renderFillSegs=function(n,r){var i=this.context.isRtl,o=this.props.todayRange,a=this.state.framePositions,l=[];if(a)for(var u=0,d=n;u<d.length;u++){var f=d[u],p=i?{right:0,left:a.lefts[f.lastCol]-a.lefts[f.firstCol]}:{left:0,right:a.rights[f.firstCol]-a.rights[f.lastCol]};l.push(x("div",{key:fd(f.eventRange),className:"fc-daygrid-bg-harness",style:p},r==="bg-event"?x(yd,I({seg:f},yr(f,o))):gd(r)))}return x.apply(void 0,De([ge,{}],l))},e.prototype.updateSizing=function(n){var r=this,i=r.props,o=r.frameElRefs;if(!i.forPrint&&i.clientWidth!==null){if(n){var a=i.cells.map(function(d){return o.currentMap[d.key]});if(a.length){var l=this.rootElRef.current;this.setState({framePositions:new fi(l,a,!0,!1)})}}var u=i.dayMaxEvents===!0||i.dayMaxEventRows===!0;this.setState({eventInstanceHeights:this.queryEventInstanceHeights(),maxContentHeight:u?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var n=this.segHarnessRefs.currentMap,r={};for(var i in n){var o=Math.round(n[i].getBoundingClientRect().height),a=i.split(":")[0];r[a]=Math.max(r[a]||0,o)}return r},e.prototype.computeMaxContentHeight=function(){var n=this.props.cells[0].key,r=this.cellElRefs.currentMap[n],i=this.fgElRefs.currentMap[n];return r.getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var n=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return n[r.key]})},e}(Nn);I3.addStateEquality({eventInstanceHeights:Jt});function Qce(t,e){if(!t.length)return[];var n=Jce(e);return t.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}})}function Jce(t){for(var e={},n=0,r=t;n<r.length;n++)for(var i=r[n],o=0,a=i;o<a.length;o++){var l=a[o];e[l.seg.eventRange.instance.instanceId]=l.absoluteTop}return t}var Zce=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitBusinessHourSegs=Q(Nb),n.splitBgEventSegs=Q(Nb),n.splitFgEventSegs=Q(Nb),n.splitDateSelectionSegs=Q(Nb),n.splitEventDrag=Q(E3),n.splitEventResize=Q(E3),n.rowRefs=new wt,n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.dateProfile,o=r.dayMaxEventRows,a=r.dayMaxEvents,l=r.expandRows,u=r.cells.length,d=this.splitBusinessHourSegs(r.businessHourSegs,u),f=this.splitBgEventSegs(r.bgEventSegs,u),p=this.splitFgEventSegs(r.fgEventSegs,u),m=this.splitDateSelectionSegs(r.dateSelectionSegs,u),g=this.splitEventDrag(r.eventDrag,u),y=this.splitEventResize(r.eventResize,u),_=a===!0||o===!0;_&&!l&&(_=!1,o=null,a=null);var w=["fc-daygrid-body",_?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"];return x("div",{className:w.join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},x(Hr,{unit:"day"},function(S,C){return x(ge,null,x("table",{className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:l?r.clientHeight:""}},r.colGroupNode,x("tbody",null,r.cells.map(function(R,A){return x(I3,{ref:n.rowRefs.createRef(A),key:R.length?R[0].date.toISOString():A,showDayNumbers:u>1,showWeekNumbers:r.showWeekNumbers,todayRange:C,dateProfile:i,cells:R,renderIntro:r.renderRowIntro,businessHourSegs:d[A],eventSelection:r.eventSelection,bgEventSegs:f[A].filter(ede),fgEventSegs:p[A],dateSelectionSegs:m[A],eventDrag:g[A],eventResize:y[A],dayMaxEvents:a,dayMaxEventRows:o,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new fi(this.rootEl,this.rowRefs.collect().map(function(n){return n.getCellEls()[0]}),!1,!0),this.colPositions=new fi(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(n,r){var i=this,o=i.colPositions,a=i.rowPositions,l=o.leftToIndex(n),u=a.topToIndex(r);if(u!=null&&l!=null){var d=this.props.cells[u][l];return{dateProfile:this.props.dateProfile,dateSpan:I({range:this.getCellRange(u,l),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(u,l),rect:{left:o.lefts[l],right:o.rights[l],top:a.tops[u],bottom:a.bottoms[u]},layer:0}}return null},e.prototype.getCellEl=function(n,r){return this.rowRefs.currentMap[n].getCellEls()[r]},e.prototype.getCellRange=function(n,r){var i=this.props.cells[n][r].date,o=qt(i,1);return{start:i,end:o}},e}(Nn);function ede(t){return t.eventRange.def.allDay}var tde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.forceDayIfListItem=!0,n}return e.prototype.sliceRange=function(n,r){return r.sliceRange(n)},e}(md),SR=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slicer=new tde,n.tableRef=xe(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x(Zce,I({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,i,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(Nn),nde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayTableModel=Q(rde),n.headerRef=xe(),n.tableRef=xe(),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,o=r.dateProfileGenerator,a=this.props,l=this.buildDayTableModel(a.dateProfile,o),u=i.dayHeaders&&x(xb,{ref:this.headerRef,dateProfile:a.dateProfile,dates:l.headerDates,datesRepDistinctDays:l.rowCnt===1}),d=function(f){return x(SR,{ref:n.tableRef,dateProfile:a.dateProfile,dayTableModel:l,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:f.tableColGroupNode,tableMinWidth:f.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:n.headerElRef,clientWidth:f.clientWidth,clientHeight:f.clientHeight,forPrint:a.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(u,d,l.colCnt,i.dayMinWidth):this.renderSimpleLayout(u,d)},e}(Uce);function rde(t,e){var n=new Tb(t.renderRange,e);return new Cb(n,/year|month|week/.test(t.currentRangeUnit))}var ide=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.buildRenderRange=function(n,r,i){var o=this.props.dateEnv,a=t.prototype.buildRenderRange.call(this,n,r,i),l=a.start,u=a.end,d;if(/^(year|month)$/.test(r)&&(l=o.startOfWeek(l),d=o.startOfWeek(u),d.valueOf()!==u.valueOf()&&(u=_I(d,1))),this.props.monthMode&&this.props.fixedWeekCount){var f=Math.ceil(c4(l,u));u=_I(u,6-f)}return{start:l,end:u}},e}($I),ode=_t({initialView:"dayGridMonth",views:{dayGrid:{component:nde,dateProfileGeneratorClass:ide},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),R3=ode;le();var sde=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(n){return n.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(n){return n.allDay?D4(n)?["timed","allDay"]:["allDay"]:["timed"]},e}(cp),ade=ut({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function k3(t){var e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return x(hi.Consumer,null,function(n){if(!t.isLabeled)return x("td",{className:e.join(" "),"data-time":t.isoTimeStr});var r=n.dateEnv,i=n.options,o=n.viewApi,a=i.slotLabelFormat==null?ade:Array.isArray(i.slotLabelFormat)?ut(i.slotLabelFormat[0]):ut(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:o,text:r.format(t.date,a)};return x(Dt,{hookProps:l,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:lde,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},function(u,d,f,p){return x("td",{ref:u,className:e.concat(d).join(" "),"data-time":t.isoTimeStr},x("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},x("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:f},p)))})})}function lde(t){return t.text}var ude=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return this.props.slatMetas.map(function(n){return x("tr",{key:n.key},x(k3,I({},n)))})},e}(ee),cde=ut({week:"short"}),dde=5,fde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.allDaySplitter=new sde,n.headerElRef=xe(),n.rootElRef=xe(),n.scrollerElRef=xe(),n.state={slatCoords:null},n.handleScrollTopRequest=function(r){var i=n.scrollerElRef.current;i&&(i.scrollTop=r)},n.renderHeadAxis=function(r,i){i===void 0&&(i="");var o=n.context.options,a=n.props.dateProfile,l=a.renderRange,u=sa(l.start,l.end),d=o.navLinks&&u===1?{"data-navlink":da(l.start,"week"),tabIndex:0}:{};return o.weekNumbers&&r==="day"?x(Db,{date:l.start,defaultFormat:cde},function(f,p,m,g){return x("th",{ref:f,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(p).join(" ")},x("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:i}},x("a",I({ref:m,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},d),g)))}):x("th",{className:"fc-timegrid-axis"},x("div",{className:"fc-timegrid-axis-frame",style:{height:i}}))},n.renderTableRowAxis=function(r){var i=n.context,o=i.options,a=i.viewApi,l={text:o.allDayText,view:a};return x(Dt,{hookProps:l,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:hde,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},function(u,d,f,p){return x("td",{ref:u,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(d).join(" ")},x("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(r==null?" fc-timegrid-axis-frame-liquid":""),style:{height:r}},x("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:f},p)))})},n.handleSlatCoords=function(r){n.setState({slatCoords:r})},n}return e.prototype.renderSimpleLayout=function(n,r,i){var o=this,a=o.context,l=o.props,u=[],d=_o(a.options);return n&&u.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),r&&(u.push({type:"body",key:"all-day",chunk:{content:r}}),u.push({type:"body",key:"all-day-divider",outerContent:x("tr",{className:"fc-scrollgrid-section"},x("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),u.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(a.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),x(Ui,{viewSpec:a.viewSpec,elRef:this.rootElRef},function(f,p){return x("div",{className:["fc-timegrid"].concat(p).join(" "),ref:f},x(mp,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:u}))})},e.prototype.renderHScrollLayout=function(n,r,i,o,a,l,u){var d=this,f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var p=this,m=p.context,g=p.props,y=!g.forPrint&&_o(m.options),_=!g.forPrint&&pa(m.options),w=[];n&&w.push({type:"header",key:"header",isSticky:y,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(C){return x("tr",null,d.renderHeadAxis("day",C.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),r&&(w.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(C){return x("tr",null,d.renderTableRowAxis(C.rowSyncHeights[0]))}},{key:"cols",content:r}]}),w.push({key:"all-day-divider",type:"body",outerContent:x("tr",{className:"fc-scrollgrid-section"},x("td",{colSpan:2,className:"fc-timegrid-divider "+m.theme.getClass("tableCellShaded")}))}));var S=m.options.nowIndicator;return w.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(m.options.expandRows),chunks:[{key:"axis",content:function(C){return x("div",{className:"fc-timegrid-axis-chunk"},x("table",{style:{height:C.expandRows?C.clientHeight:""}},C.tableColGroupNode,x("tbody",null,x(ude,{slatMetas:l}))),x("div",{className:"fc-timegrid-now-indicator-container"},x(Hr,{unit:S?"minute":"day"},function(R){var A=S&&u&&u.safeComputeTop(R);return typeof A=="number"?x(rs,{isAxis:!0,date:R},function(L,M,W,K){return x("div",{ref:L,className:["fc-timegrid-now-indicator-arrow"].concat(M).join(" "),style:{top:A}},K)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),_&&w.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:bo},{key:"cols",content:bo}]}),x(Ui,{viewSpec:m.viewSpec,elRef:this.rootElRef},function(C,R){return x("div",{className:["fc-timegrid"].concat(R).join(" "),ref:C},x(f,{liquid:!g.isHeightAuto&&!g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:a}]}],sections:w}))})},e.prototype.getAllDayMaxEventProps=function(){var n=this.context.options,r=n.dayMaxEvents,i=n.dayMaxEventRows;return(r===!0||i===!0)&&(r=void 0,i=dde),{dayMaxEvents:r,dayMaxEventRows:i}},e}(Nn);function hde(t){return t.text}var pde=function(){function t(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}return t.prototype.safeComputeTop=function(e){var n=this.dateProfile;if(di(n.currentRange,e)){var r=Ve(e),i=e.valueOf()-r.valueOf();if(i>=an(n.slotMinTime)&&i<an(n.slotMaxTime))return this.computeTimeTop(ye(i))}return null},t.prototype.computeDateTop=function(e,n){return n||(n=Ve(e)),this.computeTimeTop(ye(e.valueOf()-n.valueOf()))},t.prototype.computeTimeTop=function(e){var n=this,r=n.positions,i=n.dateProfile,o=r.els.length,a=(e.milliseconds-an(i.slotMinTime))/an(this.slotDuration),l,u;return a=Math.max(0,a),a=Math.min(o,a),l=Math.floor(a),l=Math.min(l,o-1),u=a-l,r.tops[l]+r.getHeight(l)*u},t}(),mde=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=r.slatElRefs;return x("tbody",null,r.slatMetas.map(function(l,u){var d={time:l.time,date:i.dateEnv.toDate(l.date),view:i.viewApi},f=["fc-timegrid-slot","fc-timegrid-slot-lane",l.isLabeled?"":"fc-timegrid-slot-minor"];return x("tr",{key:l.key,ref:a.createRef(l.key)},r.axis&&x(k3,I({},l)),x(Dt,{hookProps:d,classNames:o.slotLaneClassNames,content:o.slotLaneContent,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount},function(p,m,g,y){return x("td",{ref:p,className:f.concat(m).join(" "),"data-time":l.isoTimeStr},y)}))}))},e}(ee),vde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n.slatElRefs=new wt,n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x("div",{className:"fc-timegrid-slots",ref:this.rootElRef},x("table",{className:i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},r.tableColGroupNode,x(mde,{slatElRefs:this.slatElRefs,axis:r.axis,slatMetas:r.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var n=this,r=n.context,i=n.props;if(i.onCoords&&i.clientWidth!==null){var o=this.rootElRef.current;o.offsetHeight&&i.onCoords(new pde(new fi(this.rootElRef.current,gde(this.slatElRefs.currentMap,i.slatMetas),!1,!0),this.props.dateProfile,r.options.slotDuration))}},e}(ee);function gde(t,e){return e.map(function(n){return t[n.key]})}function bp(t,e){var n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function A3(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];n[a.col].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var yde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n}return e.prototype.render=function(){var n=this,r=this.props;return x(bd,{allDayDate:null,moreCnt:r.hiddenSegs.length,allSegs:r.hiddenSegs,hiddenSegs:r.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:bde,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,todayRange:r.todayRange,popoverContent:function(){return O3(r.hiddenSegs,r)}},function(i,o,a,l,u){return x("a",{ref:function(d){At(i,d),At(n.rootElRef,d)},className:["fc-timegrid-more-link"].concat(o).join(" "),style:{top:r.top,bottom:r.bottom},onClick:u},x("div",{ref:a,className:"fc-timegrid-more-link-inner fc-sticky"},l))})},e}(ee);function bde(t){return t.shortText}function D3(t,e,n){var r=new pd;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);var i=r.addSegs(t),o=wb(i),a=_de(r);a=xde(a,1);var l=Tde(a);return{segRects:l,hiddenGroups:o}}function _de(t){var e=t.entriesByLevel,n=xR(function(r,i){return r+":"+i},function(r,i){var o=Sde(t,r,i),a=N3(o,n),l=e[r][i];return[I(I({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return N3(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function N3(t,e){if(!t)return[[],0];for(var n=t.level,r=t.lateralStart,i=t.lateralEnd,o=r,a=[];o<i;)a.push(e(n,o)),o+=1;return a.sort(wde),[a.map(Ede),a[0][1]]}function wde(t,e){return e[1]-t[1]}function Ede(t){return t[0]}function Sde(t,e,n){for(var r=t.levelCoords,i=t.entriesByLevel,o=i[e][n],a=r[e]+o.thickness,l=r.length,u=e;u<l&&r[u]<a;u+=1);for(;u<l;u+=1){for(var d=i[u],f=void 0,p=rR(d,o.spanStart,tR),m=p[0]+p[1],g=m;(f=d[g])&&f.spanStart<o.spanEnd;)g+=1;if(m<g)return{level:u,lateralStart:m,lateralEnd:g}}return null}function xde(t,e){var n=xR(function(r,i,o){return ns(r)},function(r,i,o){var a=r.nextLevelNodes,l=r.thickness,u=l+o,d=l/u,f,p=[];if(!a.length)f=e;else for(var m=0,g=a;m<g.length;m++){var y=g[m];if(f===void 0){var _=n(y,i,u);f=_[0],p.push(_[1])}else{var _=n(y,f,0);p.push(_[1])}}var w=(f-i)*d;return[f-w,I(I({},r),{thickness:w,nextLevelNodes:p})]});return t.map(function(r){return n(r,0,0)[1]})}function Tde(t){var e=[],n=xR(function(i,o,a){return ns(i)},function(i,o,a){var l=I(I({},i),{levelCoord:o,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,o+i.thickness,a+1)+1});function r(i,o,a){for(var l=0,u=0,d=i;u<d.length;u++){var f=d[u];l=Math.max(n(f,o,a),l)}return l}return r(t,0,0),e}function xR(t,e){var n={};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t.apply(void 0,r);return o in n?n[o]:n[o]=e.apply(void 0,r)}}var Cde=ut({hour:"numeric",minute:"2-digit",meridiem:!1}),P3=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&n.push("fc-timegrid-event-short"),x(vd,I({},this.props,{defaultTimeFormat:Cde,extraClassNames:n}))},e}(ee),Ide=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(vp,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps},function(r,i){return i&&x("div",{className:"fc-timegrid-col-misc",ref:r},i)})},e}(ee),Rde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortEventSegs=Q(dd),n.computeFgSegPlacements=Q(D3),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options.selectMirror,l=i.eventDrag&&i.eventDrag.segs||i.eventResize&&i.eventResize.segs||a&&i.dateSelectionSegs||[],u=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{},d=this.sortEventSegs(i.fgEventSegs,o.options.eventOrder);return x(gp,{elRef:i.elRef,date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps},function(f,p,m){return x("td",I({ref:f,className:["fc-timegrid-col"].concat(p,i.extraClassNames||[]).join(" ")},m,i.extraDataAttrs),x("div",{className:"fc-timegrid-col-frame"},x("div",{className:"fc-timegrid-col-bg"},n.renderFillSegs(i.businessHourSegs,"non-business"),n.renderFillSegs(i.bgEventSegs,"bg-event"),n.renderFillSegs(i.dateSelectionSegs,"highlight")),x("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(d,u)),x("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(l,{},Boolean(i.eventDrag),Boolean(i.eventResize),Boolean(a))),x("div",{className:"fc-timegrid-now-indicator-container"},n.renderNowIndicator(i.nowIndicatorSegs)),x(Ide,{date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps})))})},e.prototype.renderFgSegs=function(n,r,i,o,a){var l=this.props;return l.forPrint?O3(n,l):l.slatCoords?this.renderPositionedFgSegs(n,r,i,o,a):null},e.prototype.renderPositionedFgSegs=function(n,r,i,o,a){var l=this,u=this.context.options,d=u.eventMaxStack,f=u.eventShortHeight,p=u.eventOrderStrict,m=this.props,g=m.eventSelection,y=m.todayRange,_=m.nowDate,w=i||o||a,S=this.buildSegInputs(n),C=w?D3(S):this.computeFgSegPlacements(S,p,d),R=C.segRects,A=C.hiddenGroups;return x(ge,null,this.renderHiddenGroups(A,n),R.map(function(L){var M=n[L.segInput.index],W=M.eventRange.instance.instanceId,K=I(I({},l.computeSegTopBottomCss(L.segInput)),w?{left:0,right:0}:l.computeSegLeftRightCss(L));return x("div",{className:"fc-timegrid-event-harness"+(L.stackForward>0?" fc-timegrid-event-harness-inset":""),key:W,style:I({visibility:r[W]?"hidden":""},K)},x(P3,I({seg:M,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:W===g,isShort:L.spanEnd-L.spanStart<f},yr(M,y,_))))}))},e.prototype.renderHiddenGroups=function(n,r){var i=this,o=this.props,a=o.extraDateSpan,l=o.dateProfile,u=o.todayRange,d=o.nowDate,f=o.eventSelection,p=o.eventDrag,m=o.eventResize;return x(ge,null,n.map(function(g){var y=i.computeSegTopBottomCss(g),_=kde(g.entries,r);return x(yde,{key:ld(_d(_)),hiddenSegs:_,top:y.top,bottom:y.bottom,extraDateSpan:a,dateProfile:l,todayRange:u,nowDate:d,eventSelection:f,eventDrag:p,eventResize:m})}))},e.prototype.buildSegInputs=function(n){for(var r=this.props,i=r.date,o=r.slatCoords,a=this.context.options.eventMinHeight,l=[],u=0;u<n.length;u+=1){var d=n[u],f=o.computeDateTop(d.start,i),p=Math.max(f+(a||0),o.computeDateTop(d.end,i));l.push({index:u,spanStart:Math.round(f),spanEnd:Math.round(p),thickness:1})}return l},e.prototype.renderFillSegs=function(n,r){var i=this,o=this.props;if(!o.slatCoords)return null;var a=this.buildSegInputs(n),l=a.map(function(u){var d=n[u.index];return x("div",{key:fd(d.eventRange),className:"fc-timegrid-bg-harness",style:i.computeSegTopBottomCss(u)},r==="bg-event"?x(yd,I({seg:d},yr(d,o.todayRange,o.nowDate))):gd(r))});return x(ge,null,l)},e.prototype.renderNowIndicator=function(n){var r=this.props,i=r.slatCoords,o=r.date;return i?n.map(function(a,l){return x(rs,{isAxis:!1,date:o,key:l},function(u,d,f,p){return x("div",{ref:u,className:["fc-timegrid-now-indicator-line"].concat(d).join(" "),style:{top:i.computeDateTop(a.start,o)}},p)})}):null},e.prototype.computeSegTopBottomCss=function(n){return{top:n.spanStart,bottom:-n.spanEnd}},e.prototype.computeSegLeftRightCss=function(n){var r=this.context,i=r.isRtl,o=r.options,a=o.slotEventOverlap,l=n.levelCoord,u=n.levelCoord+n.thickness,d,f;a&&(u=Math.min(1,l+(u-l)*2)),i?(d=1-u,f=l):(d=l,f=1-u);var p={zIndex:n.stackDepth+1,left:d*100+"%",right:f*100+"%"};return a&&!n.stackForward&&(p[i?"marginLeft":"marginRight"]=10*2),p},e}(ee);function O3(t,e){var n=e.todayRange,r=e.nowDate,i=e.eventSelection,o=e.eventDrag,a=e.eventResize,l=(o?o.affectedInstances:null)||(a?a.affectedInstances:null)||{};return x(ge,null,t.map(function(u){var d=u.eventRange.instance.instanceId;return x("div",{key:d,style:{visibility:l[d]?"hidden":""}},x(P3,I({seg:u,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===i,isShort:!1},yr(u,n,r))))}))}function kde(t,e){return t.map(function(n){return e[n.segInput.index]})}var Ade=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitFgEventSegs=Q(bp),n.splitBgEventSegs=Q(bp),n.splitBusinessHourSegs=Q(bp),n.splitNowIndicatorSegs=Q(bp),n.splitDateSelectionSegs=Q(bp),n.splitEventDrag=Q(A3),n.splitEventResize=Q(A3),n.rootElRef=xe(),n.cellElRefs=new wt,n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options.nowIndicator&&i.slatCoords&&i.slatCoords.safeComputeTop(i.nowDate),l=i.cells.length,u=this.splitFgEventSegs(i.fgEventSegs,l),d=this.splitBgEventSegs(i.bgEventSegs,l),f=this.splitBusinessHourSegs(i.businessHourSegs,l),p=this.splitNowIndicatorSegs(i.nowIndicatorSegs,l),m=this.splitDateSelectionSegs(i.dateSelectionSegs,l),g=this.splitEventDrag(i.eventDrag,l),y=this.splitEventResize(i.eventResize,l);return x("div",{className:"fc-timegrid-cols",ref:this.rootElRef},x("table",{style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,x("tbody",null,x("tr",null,i.axis&&x("td",{className:"fc-timegrid-col fc-timegrid-axis"},x("div",{className:"fc-timegrid-col-frame"},x("div",{className:"fc-timegrid-now-indicator-container"},typeof a=="number"&&x(rs,{isAxis:!0,date:i.nowDate},function(_,w,S,C){return x("div",{ref:_,className:["fc-timegrid-now-indicator-arrow"].concat(w).join(" "),style:{top:a}},C)})))),i.cells.map(function(_,w){return x(Rde,{key:_.key,elRef:n.cellElRefs.createRef(_.key),dateProfile:i.dateProfile,date:_.date,nowDate:i.nowDate,todayRange:i.todayRange,extraHookProps:_.extraHookProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,fgEventSegs:u[w],bgEventSegs:d[w],businessHourSegs:f[w],nowIndicatorSegs:p[w],dateSelectionSegs:m[w],eventDrag:g[w],eventResize:y[w],slatCoords:i.slatCoords,eventSelection:i.eventSelection,forPrint:i.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var n=this.props;n.onColCoords&&n.clientWidth!==null&&n.onColCoords(new fi(this.rootElRef.current,Dde(this.cellElRefs.currentMap,n.cells),!0,!1))},e}(ee);function Dde(t,e){return e.map(function(n){return t[n.key]})}var Nde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processSlotOptions=Q(Pde),n.state={slatCoords:null},n.handleRootEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n.handleScrollRequest=function(r){var i=n.props.onScrollTopRequest,o=n.state.slatCoords;if(i&&o){if(r.time){var a=o.computeTimeTop(r.time);a=Math.ceil(a),a&&(a+=1),i(a)}return!0}return!1},n.handleColCoords=function(r){n.colCoords=r},n.handleSlatCoords=function(r){n.setState({slatCoords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return x("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},x(vde,{axis:r.axis,dateProfile:r.dateProfile,slatMetas:r.slatMetas,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,tableColGroupNode:r.axis?r.tableColGroupNode:null,onCoords:this.handleSlatCoords}),x(Ade,{cells:r.cells,axis:r.axis,dateProfile:r.dateProfile,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange,nowDate:r.nowDate,nowIndicatorSegs:r.nowIndicatorSegs,clientWidth:r.clientWidth,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,slatCoords:i.slatCoords,onColCoords:this.handleColCoords,forPrint:r.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(n){this.scrollResponder.update(n.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(n,r){var i=this.context,o=i.dateEnv,a=i.options,l=this.colCoords,u=this.props.dateProfile,d=this.state.slatCoords,f=this.processSlotOptions(this.props.slotDuration,a.snapDuration),p=f.snapDuration,m=f.snapsPerSlot,g=l.leftToIndex(n),y=d.positions.topToIndex(r);if(g!=null&&y!=null){var _=this.props.cells[g],w=d.positions.tops[y],S=d.positions.getHeight(y),C=(r-w)/S,R=Math.floor(C*m),A=y*m+R,L=this.props.cells[g].date,M=Jy(u.slotMinTime,Zy(p,A)),W=o.add(L,M),K=o.add(W,p);return{dateProfile:u,dateSpan:I({range:{start:W,end:K},allDay:!1},_.extraDateSpan),dayEl:l.els[g],rect:{left:l.lefts[g],right:l.rights[g],top:w,bottom:w+S},layer:0}}return null},e}(Nn);function Pde(t,e){var n=e||t,r=vo(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}var Ode=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sliceRange=function(n,r){for(var i=[],o=0;o<r.length;o+=1){var a=yo(n,r[o]);a&&i.push({start:a.start,end:a.end,isStart:a.start.valueOf()===n.start.valueOf(),isEnd:a.end.valueOf()===n.end.valueOf(),col:o})}return i},e}(md),Mde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayRanges=Q(Lde),n.slicer=new Ode,n.timeColsRef=xe(),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=i.dateProfile,l=i.dayTableModel,u=o.options.nowIndicator,d=this.buildDayRanges(l,a,o.dateEnv);return x(Hr,{unit:u?"minute":"day"},function(f,p){return x(Nde,I({ref:n.timeColsRef},n.slicer.sliceProps(i,a,null,o,d),{forPrint:i.forPrint,axis:i.axis,dateProfile:a,slatMetas:i.slatMetas,slotDuration:i.slotDuration,cells:l.cells[0],tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,clientWidth:i.clientWidth,clientHeight:i.clientHeight,expandRows:i.expandRows,nowDate:f,nowIndicatorSegs:u&&n.slicer.sliceNowDate(f,o,d),todayRange:p,onScrollTopRequest:i.onScrollTopRequest,onSlatCoords:i.onSlatCoords}))})},e}(Nn);function Lde(t,e,n){for(var r=[],i=0,o=t.headerDates;i<o.length;i++){var a=o[i];r.push({start:n.add(a,e.slotMinTime),end:n.add(a,e.slotMaxTime)})}return r}var M3=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Fde(t,e,n,r,i){for(var o=new Date(0),a=t,l=ye(0),u=n||Ude(r),d=[];an(a)<an(e);){var f=i.add(o,a),p=vo(l,u)!==null;d.push({date:f,time:a,key:f.toISOString(),isoTimeStr:b4(f),isLabeled:p}),a=Jy(a,r),l=Jy(l,r)}return d}function Ude(t){var e,n,r;for(e=M3.length-1;e>=0;e-=1)if(n=ye(M3[e]),r=vo(n,t),r!==null&&r>1)return n;return t}var Bde=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildTimeColsModel=Q(Hde),n.buildSlatMetas=Q(Fde),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,o=r.dateEnv,a=r.dateProfileGenerator,l=this.props,u=l.dateProfile,d=this.buildTimeColsModel(u,a),f=this.allDaySplitter.splitProps(l),p=this.buildSlatMetas(u.slotMinTime,u.slotMaxTime,i.slotLabelInterval,i.slotDuration,o),m=i.dayMinWidth,g=!m,y=m,_=i.dayHeaders&&x(xb,{dates:d.headerDates,dateProfile:u,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),w=i.allDaySlot!==!1&&function(C){return x(SR,I({},f.allDay,{dateProfile:u,dayTableModel:d,nextDayThreshold:i.nextDayThreshold,tableMinWidth:C.tableMinWidth,colGroupNode:C.tableColGroupNode,renderRowIntro:g?n.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:n.headerElRef,clientWidth:C.clientWidth,clientHeight:C.clientHeight,forPrint:l.forPrint},n.getAllDayMaxEventProps()))},S=function(C){return x(Mde,I({},f.timed,{dayTableModel:d,dateProfile:u,axis:g,slotDuration:i.slotDuration,slatMetas:p,forPrint:l.forPrint,tableColGroupNode:C.tableColGroupNode,tableMinWidth:C.tableMinWidth,clientWidth:C.clientWidth,clientHeight:C.clientHeight,onSlatCoords:n.handleSlatCoords,expandRows:C.expandRows,onScrollTopRequest:n.handleScrollTopRequest}))};return y?this.renderHScrollLayout(_,w,S,d.colCnt,m,p,this.state.slatCoords):this.renderSimpleLayout(_,w,S)},e}(fde);function Hde(t,e){var n=new Tb(t.renderRange,e);return new Cb(n,!1)}var Vde={allDaySlot:Boolean},jde=_t({initialView:"timeGridWeek",optionRefiners:Vde,views:{timeGrid:{component:Bde,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),L3=jde;le();Pn.touchMouseIgnoreWait=500;var TR=0,Ob=0,CR=!1,IR=function(){function t(e){var n=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!n.shouldIgnoreMouse()&&qde(r)&&n.tryStart(r)){var i=n.createEventFromMouse(r,!0);n.emitter.trigger("pointerdown",i),n.initScrollWatch(i),n.shouldIgnoreMove||document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp)}},this.handleMouseMove=function(r){var i=n.createEventFromMouse(r);n.recordCoords(i),n.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),n.emitter.trigger("pointerup",n.createEventFromMouse(r)),n.cleanup()},this.handleTouchStart=function(r){if(n.tryStart(r)){n.isTouchDragging=!0;var i=n.createEventFromTouch(r,!0);n.emitter.trigger("pointerdown",i),n.initScrollWatch(i);var o=r.target;n.shouldIgnoreMove||o.addEventListener("touchmove",n.handleTouchMove),o.addEventListener("touchend",n.handleTouchEnd),o.addEventListener("touchcancel",n.handleTouchEnd),window.addEventListener("scroll",n.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=n.createEventFromTouch(r);n.recordCoords(i),n.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(n.isDragging){var i=r.target;i.removeEventListener("touchmove",n.handleTouchMove),i.removeEventListener("touchend",n.handleTouchEnd),i.removeEventListener("touchcancel",n.handleTouchEnd),window.removeEventListener("scroll",n.handleTouchScroll,!0),n.emitter.trigger("pointerup",n.createEventFromTouch(r)),n.cleanup(),n.isTouchDragging=!1,Wde()}},this.handleTouchScroll=function(){n.wasTouchScroll=!0},this.handleScroll=function(r){if(!n.shouldIgnoreMove){var i=window.pageXOffset-n.prevScrollX+n.prevPageX,o=window.pageYOffset-n.prevScrollY+n.prevPageY;n.emitter.trigger("pointermove",{origEvent:r,isTouch:n.isTouchDragging,subjectEl:n.subjectEl,pageX:i,pageY:o,deltaX:i-n.origPageX,deltaY:o-n.origPageY})}},this.containerEl=e,this.emitter=new Yl,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),zde()}return t.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Gde()},t.prototype.tryStart=function(e){var n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||jt(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1},t.prototype.cleanup=function(){CR=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},t.prototype.querySubjectEl=function(e){return this.selector?jt(e.target,this.selector):this.containerEl},t.prototype.shouldIgnoreMouse=function(){return TR||this.isTouchDragging},t.prototype.cancelTouchScroll=function(){this.isDragging&&(CR=!0)},t.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},t.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},t.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},t.prototype.createEventFromMouse=function(e,n){var r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},t.prototype.createEventFromTouch=function(e,n){var r=e.touches,i,o,a=0,l=0;return r&&r.length?(i=r[0].pageX,o=r[0].pageY):(i=e.pageX,o=e.pageY),n?(this.origPageX=i,this.origPageY=o):(a=i-this.origPageX,l=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:a,deltaY:l}},t}();function qde(t){return t.button===0&&!t.ctrlKey}function Wde(){TR+=1,setTimeout(function(){TR-=1},Pn.touchMouseIgnoreWait)}function zde(){Ob+=1,Ob===1&&window.addEventListener("touchmove",F3,{passive:!1})}function Gde(){Ob-=1,Ob||window.removeEventListener("touchmove",F3,{passive:!1})}function F3(t){CR&&t.preventDefault()}var Kde=function(){function t(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return t.prototype.start=function(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},t.prototype.handleMove=function(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()},t.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},t.prototype.stop=function(e,n){var r=this,i=function(){r.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},t.prototype.doRevertAnimation=function(e,n){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Zo(r,{left:i.left,top:i.top}),n4(r,function(){r.style.transition="",e()})},t.prototype.cleanup=function(){this.mirrorEl&&(ql(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},t.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Zo(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},t.prototype.getMirrorEl=function(){var e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.classList.add("fc-unselectable"),n.classList.add("fc-event-dragging"),Zo(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n},t}(),U3=function(t){P(e,t);function e(n,r){var i=t.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=n,i.doesListening=r,i.scrollTop=i.origScrollTop=n.getScrollTop(),i.scrollLeft=i.origScrollLeft=n.getScrollLeft(),i.scrollWidth=n.getScrollWidth(),i.scrollHeight=n.getScrollHeight(),i.clientWidth=n.getClientWidth(),i.clientHeight=n.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(n){this.scrollController.setScrollTop(n),this.doesListening||(this.scrollTop=Math.max(Math.min(n,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(n){this.scrollController.setScrollLeft(n),this.doesListening||(this.scrollLeft=Math.max(Math.min(n,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(bb),B3=function(t){P(e,t);function e(n,r){return t.call(this,new Y4(n),r)||this}return e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return gb(this.scrollController.el)},e}(U3),Yde=function(t){P(e,t);function e(n){return t.call(this,new X4,n)||this}return e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(U3),H3=typeof performance=="function"?performance.now:Date.now,Xde=function(){function t(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var n=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(n){var r=H3();e.handleSide(n,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return t.prototype.start=function(e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))},t.prototype.handleMove=function(e,n){if(this.isEnabled){var r=e-window.pageXOffset,i=n-window.pageYOffset,o=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(H3()))}},t.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];r.destroy()}this.scrollCaches=null}},t.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},t.prototype.handleSide=function(e,n){var r=e.scrollCache,i=this.edgeThreshold,o=i-e.distance,a=o*o/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l);break}},t.prototype.computeBestEdge=function(e,n){for(var r=this.edgeThreshold,i=null,o=0,a=this.scrollCaches;o<a.length;o++){var l=a[o],u=l.clientRect,d=e-u.left,f=u.right-e,p=n-u.top,m=u.bottom-n;d>=0&&f>=0&&p>=0&&m>=0&&(p<=r&&this.everMovedUp&&l.canScrollUp()&&(!i||i.distance>p)&&(i={scrollCache:l,name:"top",distance:p}),m<=r&&this.everMovedDown&&l.canScrollDown()&&(!i||i.distance>m)&&(i={scrollCache:l,name:"bottom",distance:m}),d<=r&&this.everMovedLeft&&l.canScrollLeft()&&(!i||i.distance>d)&&(i={scrollCache:l,name:"left",distance:d}),f<=r&&this.everMovedRight&&l.canScrollRight()&&(!i||i.distance>f)&&(i={scrollCache:l,name:"right",distance:f}))}return i},t.prototype.buildCaches=function(){return this.queryScrollEls().map(function(e){return e===window?new Yde(!1):new B3(e,!1)})},t.prototype.queryScrollEls=function(){for(var e=[],n=0,r=this.scrollQuery;n<r.length;n++){var i=r[n];typeof i=="object"?e.push(i):e.push.apply(e,Array.prototype.slice.call(document.querySelectorAll(i)))}return e},t}(),wd=function(t){P(e,t);function e(n,r){var i=t.call(this,n)||this;i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(a){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i4(document.body),s4(document.body),a.isTouch||a.origEvent.preventDefault(),i.emitter.trigger("pointerdown",a),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(a.subjectEl,a.pageX,a.pageY),i.startDelay(a),i.minDistance||i.handleDistanceSurpassed(a)))},i.onPointerMove=function(a){if(i.isInteracting){if(i.emitter.trigger("pointermove",a),!i.isDistanceSurpassed){var l=i.minDistance,u=void 0,d=a.deltaX,f=a.deltaY;u=d*d+f*f,u>=l*l&&i.handleDistanceSurpassed(a)}i.isDragging&&(a.origEvent.type!=="scroll"&&(i.mirror.handleMove(a.pageX,a.pageY),i.autoScroller.handleMove(a.pageX,a.pageY)),i.emitter.trigger("dragmove",a))}},i.onPointerUp=function(a){i.isInteracting&&(i.isInteracting=!1,o4(document.body),a4(document.body),i.emitter.trigger("pointerup",a),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(a)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var o=i.pointer=new IR(n);return o.emitter.on("pointerdown",i.onPointerDown),o.emitter.on("pointermove",i.onPointerMove),o.emitter.on("pointerup",i.onPointerUp),r&&(o.selector=r),i.mirror=new Kde,i.autoScroller=new Xde,i}return e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(n){var r=this;typeof this.delay=="number"?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},e.prototype.handleDelayEnd=function(n){this.isDelayEnded=!0,this.tryStartDrag(n)},e.prototype.handleDistanceSurpassed=function(n){this.isDistanceSurpassed=!0,this.tryStartDrag(n)},e.prototype.tryStartDrag=function(n){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(n.pageX,n.pageY),this.emitter.trigger("dragstart",n),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(n){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,n))},e.prototype.stopDrag=function(n){this.isDragging=!1,this.emitter.trigger("dragend",n)},e.prototype.setIgnoreMove=function(n){this.pointer.shouldIgnoreMove=n},e.prototype.setMirrorIsVisible=function(n){this.mirror.setIsVisible(n)},e.prototype.setMirrorNeedsRevert=function(n){this.mirrorNeedsRevert=n},e.prototype.setAutoScrollEnabled=function(n){this.autoScroller.isEnabled=n},e}(iR),$de=function(){function t(e){this.origRect=yb(e),this.scrollCaches=GI(e).map(function(n){return new B3(n,!0)})}return t.prototype.destroy=function(){for(var e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];r.destroy()}},t.prototype.computeLeft=function(){for(var e=this.origRect.left,n=0,r=this.scrollCaches;n<r.length;n++){var i=r[n];e+=i.origScrollLeft-i.getScrollLeft()}return e},t.prototype.computeTop=function(){for(var e=this.origRect.top,n=0,r=this.scrollCaches;n<r.length;n++){var i=r[n];e+=i.origScrollTop-i.getScrollTop()}return e},t.prototype.isWithinClipping=function(e,n){for(var r={left:e,top:n},i=0,o=this.scrollCaches;i<o.length;i++){var a=o[i];if(!Qde(a.getEventTarget())&&!q4(r,a.clientRect))return!1}return!0},t}();function Qde(t){var e=t.tagName;return e==="HTML"||e==="BODY"}var _p=function(){function t(e,n){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var o=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(o.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):o.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Yl}return t.prototype.processFirstCoord=function(e){var n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,o;i!==document&&(o=yb(i),r=W4(r,o));var a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&o){var l=FI(o,a.rect);l&&(r=z4(l))}this.coordAdjust=G4(r,n)}else this.coordAdjust={left:0,top:0}},t.prototype.handleMove=function(e,n){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Mb(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},t.prototype.prepareHits=function(){this.offsetTrackers=kt(this.droppableStore,function(e){return e.component.prepareHits(),new $de(e.el)})},t.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var n in e)e[n].destroy();this.offsetTrackers={}},t.prototype.queryHitForOffset=function(e,n){var r=this,i=r.droppableStore,o=r.offsetTrackers,a=null;for(var l in i){var u=i[l].component,d=o[l];if(d&&d.isWithinClipping(e,n)){var f=d.computeLeft(),p=d.computeTop(),m=e-f,g=n-p,y=d.origRect,_=y.right-y.left,w=y.bottom-y.top;if(m>=0&&m<_&&g>=0&&g<w){var S=u.queryHit(m,g,_,w);S&&lp(S.dateProfile.activeRange,S.dateSpan.range)&&(!a||S.layer>a.layer)&&(S.componentId=l,S.context=u.context,S.rect.left+=f,S.rect.right+=f,S.rect.top+=p,S.rect.bottom+=p,a=S)}}}return a},t}();function Mb(t,e){return!t&&!e?!0:Boolean(t)!==Boolean(e)?!1:O4(t.dateSpan,e.dateSpan)}function RR(t,e){for(var n={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++){var o=i[r];I(n,o(t,e))}return I(n,Jde(t,e.dateEnv)),n}function Jde(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}var Zde=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;r.handlePointerDown=function(o){var a=r.dragging,l=o.origEvent.target;a.setIgnoreMove(!r.component.isValidDateDownEl(l))},r.handleDragEnd=function(o){var a=r.component,l=r.dragging.pointer;if(!l.wasTouchScroll){var u=r.hitDragging,d=u.initialHit,f=u.finalHit;if(d&&f&&Mb(d,f)){var p=a.context,m=I(I({},RR(d.dateSpan,p)),{dayEl:d.dayEl,jsEvent:o.origEvent,view:p.viewApi||p.calendarApi.view});p.emitter.trigger("dateClick",m)}}},r.dragging=new wd(n.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new _p(r.dragging,Eb(n));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e}(Jl),efe=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;r.dragSelection=null,r.handlePointerDown=function(u){var d=r,f=d.component,p=d.dragging,m=f.context.options,g=m.selectable&&f.isValidDateDownEl(u.origEvent.target);p.setIgnoreMove(!g),p.delay=u.isTouch?tfe(f):null},r.handleDragStart=function(u){r.component.context.calendarApi.unselect(u)},r.handleHitUpdate=function(u,d){var f=r.component.context,p=null,m=!1;if(u){var g=r.hitDragging.initialHit,y=u.componentId===g.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(g,u);y||(p=nfe(g,u,f.pluginHooks.dateSelectionTransformers)),(!p||!g3(p,u.dateProfile,f))&&(m=!0,p=null)}p?f.dispatch({type:"SELECT_DATES",selection:p}):d||f.dispatch({type:"UNSELECT_DATES"}),m?ep():tp(),d||(r.dragSelection=p)},r.handlePointerUp=function(u){r.dragSelection&&(PI(r.dragSelection,u,r.component.context),r.dragSelection=null)};var i=n.component,o=i.context.options,a=r.dragging=new wd(n.el);a.touchScrollAllowed=!1,a.minDistance=o.selectMinDistance||0,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new _p(r.dragging,Eb(n));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),r}return e.prototype.destroy=function(){this.dragging.destroy()},e}(Jl);function tfe(t){var e=t.context.options,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function nfe(t,e,n){var r=t.dateSpan,i=e.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(l4);for(var a={},l=0,u=n;l<u.length;l++){var d=u[l],f=d(t,e);if(f===!1)return null;f&&I(a,f)}return a.range={start:o[0],end:o[3]},a.allDay=r.allDay,a}var V3=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(u){var d=u.origEvent.target,f=r,p=f.component,m=f.dragging,g=m.mirror,y=p.context.options,_=p.context;r.subjectEl=u.subjectEl;var w=r.subjectSeg=Kl(u.subjectEl),S=r.eventRange=w.eventRange,C=S.instance.instanceId;r.relevantEvents=sb(_.getCurrentData().eventStore,C),m.minDistance=u.isTouch?0:y.eventDragMinDistance,m.delay=u.isTouch&&C!==p.props.eventSelection?ife(p):null,y.fixedMirrorParent?g.parentNode=y.fixedMirrorParent:g.parentNode=jt(d,".fc"),g.revertDuration=y.dragRevertDuration;var R=p.isValidSegDownEl(d)&&!jt(d,".fc-event-resizer");m.setIgnoreMove(!R),r.isDragging=R&&u.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(u){var d=r.component.context,f=r.eventRange,p=f.instance.instanceId;u.isTouch?p!==r.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):d.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(d.calendarApi.unselect(u),d.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new Qe(d,f.def,f.instance),jsEvent:u.origEvent,view:d.viewApi}))},r.handleHitUpdate=function(u,d){if(!!r.isDragging){var f=r.relevantEvents,p=r.hitDragging.initialHit,m=r.component.context,g=null,y=null,_=null,w=!1,S={affectedEvents:f,mutatedEvents:_n(),isEvent:!0};if(u){g=u.context;var C=g.options;m===g||C.editable&&C.droppable?(y=rfe(p,u,g.getCurrentData().pluginHooks.eventDragMutationMassagers),y&&(_=mb(f,g.getCurrentData().eventUiBases,y,g),S.mutatedEvents=_,Ib(S,u.dateProfile,g)||(w=!0,y=null,_=null,S.mutatedEvents=_n()))):g=null}r.displayDrag(g,S),w?ep():tp(),d||(m===g&&Mb(p,u)&&(y=null),r.dragging.setMirrorNeedsRevert(!y),r.dragging.setMirrorIsVisible(!u||!document.querySelector(".fc-event-mirror")),r.receivingContext=g,r.validMutation=y,r.mutatedRelevantEvents=_)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(u){if(r.isDragging){var d=r.component.context,f=d.viewApi,p=r,m=p.receivingContext,g=p.validMutation,y=r.eventRange.def,_=r.eventRange.instance,w=new Qe(d,y,_),S=r.relevantEvents,C=r.mutatedRelevantEvents,R=r.hitDragging.finalHit;if(r.clearDrag(),d.emitter.trigger("eventDragStop",{el:r.subjectEl,event:w,jsEvent:u.origEvent,view:f}),g){if(m===d){var A=new Qe(d,C.defs[y.defId],_?C.instances[_.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:C});for(var L={oldEvent:w,event:A,relatedEvents:ca(C,d,_),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:S})}},M={},W=0,K=d.getCurrentData().pluginHooks.eventDropTransformers;W<K.length;W++){var q=K[W];I(M,q(g,d))}d.emitter.trigger("eventDrop",I(I(I({},L),M),{el:u.subjectEl,delta:g.datesDelta,jsEvent:u.origEvent,view:f})),d.emitter.trigger("eventChange",L)}else if(m){var Re={event:w,relatedEvents:ca(S,d,_),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:S})}};d.emitter.trigger("eventLeave",I(I({},Re),{draggedEl:u.subjectEl,view:f})),d.dispatch({type:"REMOVE_EVENTS",eventStore:S}),d.emitter.trigger("eventRemove",Re);var O=C.defs[y.defId],mt=C.instances[_.instanceId],et=new Qe(m,O,mt);m.dispatch({type:"MERGE_EVENTS",eventStore:C});var Vr={event:et,relatedEvents:ca(C,m,mt),revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:C})}};m.emitter.trigger("eventAdd",Vr),u.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),m.emitter.trigger("drop",I(I({},RR(R.dateSpan,m)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:R.context.viewApi})),m.emitter.trigger("eventReceive",I(I({},Vr),{draggedEl:u.subjectEl,view:R.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}r.cleanup()};var i=r.component,o=i.context.options,a=r.dragging=new wd(n.el);a.pointer.selector=e.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new _p(r.dragging,pp);return l.useSubjectCenter=n.useEventCenter,l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),l.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(n,r){var i=this.component.context,o=this.receivingContext;o&&o!==n&&(o===i?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:_n(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),n&&n.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var n=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),n!==r&&n.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(Jl);function rfe(t,e,n){var r=t.dateSpan,i=e.dateSpan,o=r.range.start,a=i.range.start,l={};r.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(o=Ve(o)));var u=Gl(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);for(var d={datesDelta:u,standardProps:l},f=0,p=n;f<p.length;f++){var m=p[f];m(d,t,e)}return d}function ife(t){var e=t.context.options,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}var ofe=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(l){var u=r.component,d=r.querySegEl(l),f=Kl(d),p=r.eventRange=f.eventRange;r.dragging.minDistance=u.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&r.component.props.eventSelection!==p.instance.instanceId)},r.handleDragStart=function(l){var u=r.component.context,d=r.eventRange;r.relevantEvents=sb(u.getCurrentData().eventStore,r.eventRange.instance.instanceId);var f=r.querySegEl(l);r.draggingSegEl=f,r.draggingSeg=Kl(f),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:f,event:new Qe(u,d.def,d.instance),jsEvent:l.origEvent,view:u.viewApi})},r.handleHitUpdate=function(l,u,d){var f=r.component.context,p=r.relevantEvents,m=r.hitDragging.initialHit,g=r.eventRange.instance,y=null,_=null,w=!1,S={affectedEvents:p,mutatedEvents:_n(),isEvent:!0};if(l){var C=l.componentId===m.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(m,l);C||(y=sfe(m,l,d.subjectEl.classList.contains("fc-event-resizer-start"),g.range))}y&&(_=mb(p,f.getCurrentData().eventUiBases,y,f),S.mutatedEvents=_,Ib(S,l.dateProfile,f)||(w=!0,y=null,_=null,S.mutatedEvents=null)),_?f.dispatch({type:"SET_EVENT_RESIZE",state:S}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),w?ep():tp(),u||(y&&Mb(m,l)&&(y=null),r.validMutation=y,r.mutatedRelevantEvents=_)},r.handleDragEnd=function(l){var u=r.component.context,d=r.eventRange.def,f=r.eventRange.instance,p=new Qe(u,d,f),m=r.relevantEvents,g=r.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:p,jsEvent:l.origEvent,view:u.viewApi}),r.validMutation){var y=new Qe(u,g.defs[d.defId],f?g.instances[f.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:g});var _={oldEvent:p,event:y,relatedEvents:ca(g,u,f),revert:function(){u.dispatch({type:"MERGE_EVENTS",eventStore:m})}};u.emitter.trigger("eventResize",I(I({},_),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||ye(0),endDelta:r.validMutation.endDelta||ye(0),jsEvent:l.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",_)}else u.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=n.component,o=r.dragging=new wd(n.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=i.context.options.dragScroll;var a=r.hitDragging=new _p(r.dragging,Eb(n));return a.emitter.on("pointerdown",r.handlePointerDown),a.emitter.on("dragstart",r.handleDragStart),a.emitter.on("hitupdate",r.handleHitUpdate),a.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(n){return jt(n.subjectEl,".fc-event")},e}(Jl);function sfe(t,e,n,r){var i=t.context.dateEnv,o=t.dateSpan.range.start,a=e.dateSpan.range.start,l=Gl(o,a,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}var afe=function(){function t(e){var n=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(n.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var o=n.context.options.unselectCancel,a=i.origEvent.target;n.matchesCancel=!!jt(a,o),n.matchesEvent=!!jt(a,V3.SELECTOR)},this.onDocumentPointerUp=function(i){var o=n.context,a=n.documentPointer,l=o.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!n.isRecentPointerDateSelect){var u=o.options.unselectAuto;u&&(!u||!n.matchesCancel)&&o.calendarApi.unselect(i)}l.eventSelection&&!n.matchesEvent&&o.dispatch({type:"UNSELECT_EVENT"})}n.isRecentPointerDateSelect=!1};var r=this.documentPointer=new IR(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return t.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},t}(),lfe={fixedMirrorParent:F},ufe={dateClick:F,eventDragStart:F,eventDragStop:F,eventDrop:F,eventResizeStart:F,eventResizeStop:F,eventResize:F,drop:F,eventReceive:F,eventLeave:F},j3=function(){function t(e,n){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(o){r.dragMeta=r.buildDragMeta(o.subjectEl)},this.handleHitUpdate=function(o,a,l){var u=r.hitDragging.dragging,d=null,f=null,p=!1,m={affectedEvents:_n(),mutatedEvents:_n(),isEvent:r.dragMeta.create};o&&(d=o.context,r.canDropElOnCalendar(l.subjectEl,d)&&(f=cfe(o.dateSpan,r.dragMeta,d),m.mutatedEvents=ud(f),p=!Ib(m,o.dateProfile,d),p&&(m.mutatedEvents=_n(),f=null))),r.displayDrag(d,m),u.setMirrorIsVisible(a||!f||!document.querySelector(".fc-event-mirror")),p?ep():tp(),a||(u.setMirrorNeedsRevert(!f),r.receivingContext=d,r.droppableEvent=f)},this.handleDragEnd=function(o){var a=r,l=a.receivingContext,u=a.droppableEvent;if(r.clearDrag(),l&&u){var d=r.hitDragging.finalHit,f=d.context.viewApi,p=r.dragMeta;if(l.emitter.trigger("drop",I(I({},RR(d.dateSpan,l)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:f})),p.create){var m=ud(u);l.dispatch({type:"MERGE_EVENTS",eventStore:m}),o.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instance.instanceId}),l.emitter.trigger("eventReceive",{event:new Qe(l,u.def,u.instance),relatedEvents:[],revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:m})},draggedEl:o.subjectEl,view:f})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new _p(e,pp);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=n}return t.prototype.buildDragMeta=function(e){return typeof this.suppliedDragMeta=="object"?Sb(this.suppliedDragMeta):typeof this.suppliedDragMeta=="function"?Sb(this.suppliedDragMeta(e)):dfe(e)},t.prototype.displayDrag=function(e,n){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})},t.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.canDropElOnCalendar=function(e,n){var r=n.options.dropAccept;return typeof r=="function"?r.call(n.calendarApi,e):typeof r=="string"&&r?Boolean(Gy(e,r)):!0},t}();function cfe(t,e,n){for(var r=I({},e.leftoverProps),i=0,o=n.pluginHooks.externalDefTransforms;i<o.length;i++){var a=o[i];I(r,a(t,e))}var l=db(r,n),u=l.refined,d=l.extra,f=sp(u,d,e.sourceId,t.allDay,n.options.forceEventDuration||Boolean(e.duration),n),p=t.range.start;t.allDay&&e.startTime&&(p=n.dateEnv.add(p,e.startTime));var m=e.duration?n.dateEnv.add(p,e.duration):pb(t.allDay,p,n),g=np(f.defId,{start:p,end:m});return{def:f,instance:g}}function dfe(t){var e=ffe(t,"event"),n=e?JSON.parse(e):{create:!1};return Sb(n)}Pn.dataAttrPrefix="";function ffe(t,e){var n=Pn.dataAttrPrefix,r=(n?n+"-":"")+e;return t.getAttribute("data-"+r)||""}var Cxe=function(){function t(e,n){var r=this;n===void 0&&(n={}),this.handlePointerDown=function(o){var a=r.dragging,l=r.settings,u=l.minDistance,d=l.longPressDelay;a.minDistance=u??(o.isTouch?0:Wl.eventDragMinDistance),a.delay=o.isTouch?d??Wl.longPressDelay:0},this.handleDragStart=function(o){o.isTouch&&r.dragging.delay&&o.subjectEl.classList.contains("fc-event")&&r.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=n;var i=this.dragging=new wd(e);i.touchScrollAllowed=!1,n.itemSelector!=null&&(i.pointer.selector=n.itemSelector),n.appendTo!=null&&(i.mirror.parentNode=n.appendTo),i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),new j3(i,n.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),hfe=function(t){P(e,t);function e(n){var r=t.call(this,n)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(o){r.emitter.trigger("pointerdown",o),r.shouldIgnoreMove||r.emitter.trigger("dragstart",o)},r.handlePointerMove=function(o){r.shouldIgnoreMove||r.emitter.trigger("dragmove",o)},r.handlePointerUp=function(o){r.emitter.trigger("pointerup",o),r.shouldIgnoreMove||r.emitter.trigger("dragend",o)};var i=r.pointer=new IR(n);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}return e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(n){this.shouldIgnoreMove=n},e.prototype.setMirrorIsVisible=function(n){if(n)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}},e}(iR),Ixe=function(){function t(e,n){var r=document;e===document||e instanceof Element?(r=e,n=n||{}):n=e||{};var i=this.dragging=new hfe(r);typeof n.itemSelector=="string"?i.pointer.selector=n.itemSelector:r===document&&(i.pointer.selector="[data-event]"),typeof n.mirrorSelector=="string"&&(i.mirrorSelector=n.mirrorSelector),new j3(i,n.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),pfe=_t({componentInteractions:[Zde,efe,V3,ofe],calendarInteractions:[afe],elementDraggingImpl:wd,optionRefiners:lfe,listenerRefiners:ufe}),q3=pfe;var mfe="2021-05-12",vfe=365+7,gfe="http://fullcalendar.io/docs/schedulerLicenseKey#invalid",yfe="http://fullcalendar.io/docs/schedulerLicenseKey#outdated",bfe=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],_fe={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};function wfe(t){var e=t.options.schedulerLicenseKey,n=typeof window!="undefined"?window.location.href:"";if(!Sfe(n)){var r=Efe(e);if(r!=="valid")return x("div",{className:"fc-license-message",style:_fe},r==="outdated"?x(ge,null,"Your license key is too old to work with this version. ",x("a",{href:yfe},"More Info")):x(ge,null,"Your license key is invalid. ",x("a",{href:gfe},"More Info")))}return null}function Efe(t){if(bfe.indexOf(t)!==-1)return"valid";var e=(t||"").match(/^(\d+)-fcs-(\d+)$/);if(e&&e[1].length===10){var n=new Date(parseInt(e[2],10)*1e3),r=new Date(Pn.mockSchedulerReleaseDate||mfe);if(Xy(r)){var i=qt(r,-vfe);return i<n?"valid":"outdated"}}return"invalid"}function Sfe(t){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(t)}var xfe={schedulerLicenseKey:String},Tfe=_t({optionRefiners:xfe,viewContainerAppends:[wfe]}),ma=Tfe;le();le();var W3="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" "),z3=function(){function t(e){var n=this;this.el=e,this.emitter=new Yl,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new Ql(this._handleWheelWaited.bind(this)),this.scrollWaiter=new Ql(this._handleScrollWaited.bind(this)),this.handleScroll=function(){n.startScroll(),n.emitter.trigger("scroll",n.isRecentlyWheeled,n.isTouching),n.isRecentlyScrolled=!0,n.scrollWaiter.request(500)},this.handleWheel=function(){n.isRecentlyWheeled=!0,n.wheelWaiter.request(500)},this.handleTouchStart=function(){n.isTouching=!0},this.handleTouchEnd=function(){n.isTouching=!1,n.isRecentlyScrolled||n.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(var r=0,i=W3;r<i.length;r++){var o=i[r];e.addEventListener(o,this.handleWheel)}}return t.prototype.destroy=function(){var e=this.el;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(var n=0,r=W3;n<r.length;n++){var i=r[n];e.removeEventListener(i,this.handleWheel)}},t.prototype.startScroll=function(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))},t.prototype.endScroll=function(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())},t.prototype._handleScrollWaited=function(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()},t.prototype._handleWheelWaited=function(){this.isRecentlyWheeled=!1},t}();function Cfe(t){var e=t.getBoundingClientRect(),n=zI(t);return{left:e.left+n.borderLeft+n.scrollbarLeft-G3(t),top:e.top+n.borderTop-t.scrollTop}}function G3(t){var e=t.scrollLeft,n=window.getComputedStyle(t);if(n.direction==="rtl")switch(Y3()){case"negative":e=t.scrollWidth-t.clientWidth+e;break;case"reverse":e=t.scrollWidth-t.clientWidth-e;break}return e}function Ife(t,e){var n=window.getComputedStyle(t);if(n.direction==="rtl")switch(Y3()){case"positive":e=t.scrollWidth-t.clientWidth+e;break;case"reverse":e=-e;break}t.scrollLeft=e}var K3;function Y3(){return K3||(K3=Rfe())}function Rfe(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-1000px",t.style.width="1px",t.style.height="1px",t.style.overflow="scroll",t.style.direction="rtl",t.style.fontSize="100px",t.innerHTML="A",document.body.appendChild(t);var e;return t.scrollLeft>0?e="positive":(t.scrollLeft=1,t.scrollLeft>0?e="reverse":e="negative"),ql(t),e}var kfe=typeof navigator!="undefined"&&/Edge/.test(navigator.userAgent),Afe=".fc-sticky",Dfe=function(){function t(e,n){var r=this;this.scrollEl=e,this.isRtl=n,this.usingRelative=null,this.updateSize=function(){var i=r.scrollEl,o=Jo(i,Afe),a=r.queryElGeoms(o),l=i.clientWidth,u=i.clientHeight;if(r.usingRelative){var d=r.computeElDestinations(a,l);Nfe(o,a,d,l,u)}else Pfe(o,a,l)},this.usingRelative=!Ofe()||kfe&&n,this.usingRelative&&(this.listener=new z3(e),this.listener.emitter.on("scrollEnd",this.updateSize))}return t.prototype.destroy=function(){this.listener&&this.listener.destroy()},t.prototype.queryElGeoms=function(e){for(var n=this,r=n.scrollEl,i=n.isRtl,o=Cfe(r),a=[],l=0,u=e;l<u.length;l++){var d=u[l],f=UI(gb(d.parentNode,!0,!0),-o.left,-o.top),p=d.getBoundingClientRect(),m=window.getComputedStyle(d),g=window.getComputedStyle(d.parentNode).textAlign,y=null;g==="start"?g=i?"right":"left":g==="end"&&(g=i?"left":"right"),m.position!=="sticky"&&(y=UI(p,-o.left-(parseFloat(m.left)||0),-o.top-(parseFloat(m.top)||0))),a.push({parentBound:f,naturalBound:y,elWidth:p.width,elHeight:p.height,textAlign:g})}return a},t.prototype.computeElDestinations=function(e,n){var r=this.scrollEl,i=r.scrollTop,o=G3(r),a=o+n;return e.map(function(l){var u=l.elWidth,d=l.elHeight,f=l.parentBound,p=l.naturalBound,m,g;switch(l.textAlign){case"left":m=o;break;case"right":m=a-u;break;case"center":m=(o+a)/2-u/2;break}return m=Math.min(m,f.right-u),m=Math.max(m,f.left),g=i,g=Math.min(g,f.bottom-d),g=Math.max(g,p.top),{left:m,top:g}})},t}();function Nfe(t,e,n,r,i){t.forEach(function(o,a){var l=e[a],u=l.naturalBound,d=l.parentBound,f=d.right-d.left,p=d.bottom-d.bottom,m,g;f>r||p>i?(m=n[a].left-u.left,g=n[a].top-u.top):(m="",g=""),Zo(o,{position:"relative",left:m,right:-m,top:g})})}function Pfe(t,e,n){t.forEach(function(r,i){var o=e[i],a=o.textAlign,l=o.elWidth,u=o.parentBound,d=u.right-u.left,f;a==="center"&&d>n?f=(n-l)/2:f="",Zo(r,{left:f,right:f,top:0})})}function Ofe(){var t=document.createElement("div");t.className="fc-sticky",document.body.appendChild(t);var e=window.getComputedStyle(t).position;return ql(t),e.indexOf("sticky")!==-1?e:null}var Mfe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.elRef=xe(),n.state={xScrollbarWidth:0,yScrollbarWidth:0},n.handleScroller=function(r){n.scroller=r,At(n.props.scrollerRef,r)},n.handleSizing=function(){var r=n.props;r.overflowY==="scroll-hidden"&&n.setState({yScrollbarWidth:n.scroller.getYScrollbarWidth()}),r.overflowX==="scroll-hidden"&&n.setState({xScrollbarWidth:n.scroller.getXScrollbarWidth()})},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=o.isRtl&&fp(),l=0,u=0,d=0;return r.overflowX==="scroll-hidden"&&(d=i.xScrollbarWidth),r.overflowY==="scroll-hidden"&&i.yScrollbarWidth!=null&&(a?l=i.yScrollbarWidth:u=i.yScrollbarWidth),x("div",{ref:this.elRef,className:"fc-scroller-harness"+(r.liquid?" fc-scroller-harness-liquid":"")},x(dR,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:r.overflowX==="scroll-hidden"?"scroll":r.overflowX,overflowY:r.overflowY==="scroll-hidden"?"scroll":r.overflowY,overcomeLeft:l,overcomeRight:u,overcomeBottom:d,maxHeight:typeof r.maxHeight=="number"?r.maxHeight+(r.overflowX==="scroll-hidden"?i.xScrollbarWidth:0):"",liquid:r.liquid,liquidIsAbsolute:!0},r.children))},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(n){Jt(n,this.props)||this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.needsXScrolling=function(){return this.scroller.needsXScrolling()},e.prototype.needsYScrolling=function(){return this.scroller.needsYScrolling()},e}(ee),Lfe=function(){function t(e,n){var r=this;this.isVertical=e,this.scrollEls=n,this.isPaused=!1,this.scrollListeners=n.map(function(i){return r.bindScroller(i)})}return t.prototype.destroy=function(){for(var e=0,n=this.scrollListeners;e<n.length;e++){var r=n[e];r.destroy()}},t.prototype.bindScroller=function(e){var n=this,r=this,i=r.scrollEls,o=r.isVertical,a=new z3(e),l=function(d,f){if(!n.isPaused&&((!n.masterEl||n.masterEl!==e&&(d||f))&&n.assignMaster(e),n.masterEl===e))for(var p=0,m=i;p<m.length;p++){var g=m[p];g!==e&&(o?g.scrollTop=e.scrollTop:g.scrollLeft=e.scrollLeft)}},u=function(){n.masterEl===e&&(n.masterEl=null)};return a.emitter.on("scroll",l),a.emitter.on("scrollEnd",u),a},t.prototype.assignMaster=function(e){this.masterEl=e;for(var n=0,r=this.scrollListeners;n<r.length;n++){var i=r[n];i.el!==e&&i.endScroll()}},t.prototype.forceScrollLeft=function(e){this.isPaused=!0;for(var n=0,r=this.scrollListeners;n<r.length;n++){var i=r[n];Ife(i.el,e)}this.isPaused=!1},t.prototype.forceScrollTop=function(e){this.isPaused=!0;for(var n=0,r=this.scrollListeners;n<r.length;n++){var i=r[n];i.el.scrollTop=e}this.isPaused=!1},t}(),Ed=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.compileColGroupStats=eb(Hfe,jfe),n.renderMicroColGroups=eb(vR),n.clippedScrollerRefs=new wt,n.scrollerElRefs=new wt(n._handleScrollerEl.bind(n)),n.chunkElRefs=new wt(n._handleChunkEl.bind(n)),n.getStickyScrolling=eb(qfe,null,J3),n.getScrollSyncersBySection=II(Q3.bind(n,!0),null,Lb),n.getScrollSyncersByColumn=II(Q3.bind(n,!1),null,Lb),n.stickyScrollings=[],n.scrollSyncersBySection={},n.scrollSyncersByColumn={},n.rowUnstableMap=new Map,n.rowInnerMaxHeightMap=new Map,n.anyRowHeightsChanged=!1,n.recentSizingCnt=0,n.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},n.handleSizing=function(r,i){if(!!n.allowSizing()){i||(n.anyRowHeightsChanged=!0);var o={};(r||!i&&!n.rowUnstableMap.size)&&(o.sectionRowMaxHeights=n.computeSectionRowMaxHeights()),n.setState(I(I({shrinkWidths:n.computeShrinkWidths()},n.computeScrollerDims()),o),function(){n.rowUnstableMap.size||n.updateStickyScrolling()})}},n.handleRowHeightChange=function(r,i){var o=n,a=o.rowUnstableMap,l=o.rowInnerMaxHeightMap;if(!i)a.set(r,!0);else{a.delete(r);var u=X3(r);(!l.has(r)||l.get(r)!==u)&&(l.set(r,u),n.anyRowHeightsChanged=!0),!a.size&&n.anyRowHeightsChanged&&(n.anyRowHeightsChanged=!1,n.setState({sectionRowMaxHeights:n.computeSectionRowMaxHeights()}))}},n}return e.prototype.render=function(){for(var n=this,r=n.props,i=n.state,o=n.context,a=i.shrinkWidths,l=this.compileColGroupStats(r.colGroups.map(function(L){return[L]})),u=this.renderMicroColGroups(l.map(function(L,M){return[L.cols,a[M]]})),d=bR(r.liquid,o),f=this.getDims(),p=f[0],m=f[1],g=r.sections,y=g.length,_=0,w,S=[],C=[],R=[];_<y&&(w=g[_]).type==="header";)S.push(this.renderSection(w,_,l,u,i.sectionRowMaxHeights)),_+=1;for(;_<y&&(w=g[_]).type==="body";)C.push(this.renderSection(w,_,l,u,i.sectionRowMaxHeights)),_+=1;for(;_<y&&(w=g[_]).type==="footer";)R.push(this.renderSection(w,_,l,u,i.sectionRowMaxHeights)),_+=1;var A=!vb();return x("table",{ref:r.elRef,className:d.join(" ")},Bfe(l,a),Boolean(!A&&S.length)&&x.apply(void 0,De(["thead",{}],S)),Boolean(!A&&C.length)&&x.apply(void 0,De(["tbody",{}],C)),Boolean(!A&&R.length)&&x.apply(void 0,De(["tfoot",{}],R)),A&&x.apply(void 0,De(["tbody",{}],S,C,R)))},e.prototype.renderSection=function(n,r,i,o,a){var l=this;return"outerContent"in n?x(ge,{key:n.key},n.outerContent):x("tr",{key:n.key,className:_R(n,this.props.liquid).join(" ")},n.chunks.map(function(u,d){return l.renderChunk(n,r,i[d],o[d],u,d,(a[r]||[])[d]||[])}))},e.prototype.renderChunk=function(n,r,i,o,a,l,u){if("outerContent"in a)return x(ge,{key:a.key},a.outerContent);var d=this.state,f=d.scrollerClientWidths,p=d.scrollerClientHeights,m=this.getDims(),g=m[0],y=m[1],_=r*y+l,w=!this.context.isRtl||fp()?y-1:0,S=l===w,C=r===g-1,R=C&&d.forceXScrollbars,A=S&&d.forceYScrollbars,L=i&&i.allowXScrolling,M=hR(this.props,n),W=kb(this.props,n),K=n.expandRows&&W,q=i&&i.totalColMinWidth||"",Re=pR(n,a,{tableColGroupNode:o,tableMinWidth:q,clientWidth:f[_]!==void 0?f[_]:null,clientHeight:p[_]!==void 0?p[_]:null,expandRows:K,syncRowHeights:Boolean(n.syncRowHeights),rowSyncHeights:u,reportRowHeightChange:this.handleRowHeightChange}),O=R?C?"scroll":"scroll-hidden":L?C?"auto":"scroll-hidden":"hidden",mt=A?S?"scroll":"scroll-hidden":M?S?"auto":"scroll-hidden":"hidden";return Re=x(Mfe,{ref:this.clippedScrollerRefs.createRef(_),scrollerElRef:this.scrollerElRefs.createRef(_),overflowX:O,overflowY:mt,liquid:W,maxHeight:n.maxHeight},Re),x("td",{key:a.key,ref:this.chunkElRefs.createRef(_)},Re)},e.prototype.componentDidMount=function(){this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(n,r){this.updateScrollSyncers(),this.handleSizing(!1,r.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing),this.destroyStickyScrolling(),this.destroyScrollSyncers()},e.prototype.allowSizing=function(){var n=new Date;return!this.lastSizingDate||n.valueOf()>this.lastSizingDate.valueOf()+Pn.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=n,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10},e.prototype.computeShrinkWidths=function(){var n=this,r=this.compileColGroupStats(this.props.colGroups.map(function(d){return[d]})),i=this.getDims(),o=i[0],a=i[1],l=o*a,u=[];return r.forEach(function(d,f){if(d.hasShrinkCol){var p=n.chunkElRefs.collect(f,l,a);u[f]=fR(p)}}),u},e.prototype.computeSectionRowMaxHeights=function(){for(var n=new Map,r=this.getDims(),i=r[0],o=r[1],a=[],l=0;l<i;l+=1){var u=this.props.sections[l],d=[];if(u&&u.syncRowHeights){for(var f=[],p=0;p<o;p+=1){var m=l*o+p,g=[],y=this.chunkElRefs.currentMap[m];y?g=Jo(y,".fc-scrollgrid-sync-table tr").map(function(et){var Vr=X3(et);return n.set(et,Vr),Vr}):g=[],f.push(g)}for(var _=f[0].length,w=!0,p=1;p<o;p+=1){var S=u.chunks[p]&&u.chunks[p].outerContent!==void 0;if(!S&&f[p].length!==_){w=!1;break}}if(w){for(var p=0;p<o;p+=1)d.push([]);for(var q=0;q<_;q+=1){for(var Re=[],p=0;p<o;p+=1){var O=f[p][q];O!=null&&Re.push(O)}for(var mt=Math.max.apply(Math,Re),p=0;p<o;p+=1)d[p].push(mt)}}else{for(var C=[],p=0;p<o;p+=1)C.push(Ffe(f[p])+f[p].length);for(var R=Math.max.apply(Math,C),p=0;p<o;p+=1){var A=f[p].length,L=R-A,M=Math.floor(L/A),W=L-M*(A-1),K=[],q=0;for(q<A&&(K.push(W),q+=1);q<A;)K.push(M),q+=1;d.push(K)}}}a.push(d)}return this.rowInnerMaxHeightMap=n,a},e.prototype.computeScrollerDims=function(){for(var n=WI(),r=this.getDims(),i=r[0],o=r[1],a=!this.context.isRtl||fp()?o-1:0,l=i-1,u=this.clippedScrollerRefs.currentMap,d=this.scrollerElRefs.currentMap,f=!1,p=!1,m={},g={},y=0;y<i;y+=1){var _=y*o+a,w=u[_];if(w&&w.needsYScrolling()){f=!0;break}}for(var S=0;S<o;S+=1){var _=l*o+S,w=u[_];if(w&&w.needsXScrolling()){p=!0;break}}for(var y=0;y<i;y+=1)for(var S=0;S<o;S+=1){var _=y*o+S,C=d[_];if(C){var R=C.parentNode;m[_]=Math.floor(R.getBoundingClientRect().width-(S===a&&f?n.y:0)),g[_]=Math.floor(R.getBoundingClientRect().height-(y===l&&p?n.x:0))}}return{forceYScrollbars:f,forceXScrollbars:p,scrollerClientWidths:m,scrollerClientHeights:g}},e.prototype.updateStickyScrolling=function(){var n=this.context.isRtl,r=this.scrollerElRefs.getAll().map(function(o){return[o,n]}),i=this.getStickyScrolling(r);i.forEach(function(o){return o.updateSize()}),this.stickyScrollings=i},e.prototype.destroyStickyScrolling=function(){this.stickyScrollings.forEach(J3)},e.prototype.updateScrollSyncers=function(){for(var n=this.getDims(),r=n[0],i=n[1],o=r*i,a={},l={},u=this.scrollerElRefs.currentMap,d=0;d<r;d+=1){var f=d*i,p=f+i;a[d]=xI(u,f,p,1)}for(var m=0;m<i;m+=1)l[m]=this.scrollerElRefs.collect(m,o,i);this.scrollSyncersBySection=this.getScrollSyncersBySection(a),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(l)},e.prototype.destroyScrollSyncers=function(){kt(this.scrollSyncersBySection,Lb),kt(this.scrollSyncersByColumn,Lb)},e.prototype.getChunkConfigByIndex=function(n){var r=this.getDims()[1],i=Math.floor(n/r),o=n%r,a=this.props.sections[i];return a&&a.chunks[o]},e.prototype.forceScrollLeft=function(n,r){var i=this.scrollSyncersByColumn[n];i&&i.forceScrollLeft(r)},e.prototype.forceScrollTop=function(n,r){var i=this.scrollSyncersBySection[n];i&&i.forceScrollTop(r)},e.prototype._handleChunkEl=function(n,r){var i=this.getChunkConfigByIndex(parseInt(r,10));i&&At(i.elRef,n)},e.prototype._handleScrollerEl=function(n,r){var i=this.getChunkConfigByIndex(parseInt(r,10));i&&At(i.scrollerElRef,n)},e.prototype.getDims=function(){var n=this.props.sections.length,r=n?this.props.sections[0].chunks.length:0;return[n,r]},e}(ee);Ed.addStateEquality({shrinkWidths:gr,scrollerClientWidths:Jt,scrollerClientHeights:Jt});function Ffe(t){for(var e=0,n=0,r=t;n<r.length;n++){var i=r[n];e+=i}return e}function X3(t){var e=Jo(t,".fc-scrollgrid-sync-inner").map(Ufe);return e.length?Math.max.apply(Math,e):0}function Ufe(t){return t.offsetHeight}function Bfe(t,e){var n=t.map(function(r,i){var o=r.width;return o==="shrink"&&(o=r.totalColWidth+gR(e[i])+1),x("col",{style:{width:o}})});return x.apply(void 0,De(["colgroup",{}],n))}function Hfe(t){var e=$3(t.cols,"width"),n=$3(t.cols,"minWidth"),r=yR(t.cols),i=t.width!=="shrink"&&Boolean(e||n||r);return{hasShrinkCol:r,totalColWidth:e,totalColMinWidth:n,allowXScrolling:i,cols:t.cols,width:t.width}}function $3(t,e){for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r],a=o[e];typeof a=="number"&&(n+=a*(o.span||1))}return n}var Vfe={cols:mR};function jfe(t,e){return Qy(t,e,Vfe)}function Q3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Lfe(t,e)}function Lb(t){t.destroy()}function qfe(t,e){return new Dfe(t,e)}function J3(t){t.destroy()}var Uxe=_t({deps:[ma],scrollGridImpl:Ed});Pn.SCROLLGRID_RESIZE_INTERVAL=500;var Wfe=18,Fb=6,zfe=200;Pn.MAX_TIMELINE_SLOTS=1e3;var kR=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function AR(t,e,n,r){var i={labelInterval:n.slotLabelInterval,slotDuration:n.slotDuration};Kfe(i,t,e),eW(i,t,e),Yfe(i,t,e);var o=n.slotLabelFormat,a=Array.isArray(o)?o:o!=null?[o]:Xfe(i,t,e,n);i.headerFormats=a.map(function(L){return ut(L)}),i.isTimeScale=Boolean(i.slotDuration.milliseconds);var l=null;if(!i.isTimeScale){var u=go(i.slotDuration).unit;/year|month|week/.test(u)&&(l=u)}i.largeUnit=l,i.emphasizeWeeks=TI(i.slotDuration)===1&&Sd("weeks",t,e)>=2&&!n.businessHours;var d=n.snapDuration,f,p;d&&(f=ye(d),p=vo(i.slotDuration,f)),p==null&&(f=i.slotDuration,p=1),i.snapDuration=f,i.snapsPerSlot=p;var m=an(t.slotMaxTime)-an(t.slotMinTime),g=Z3(t.renderRange.start,i,e),y=Z3(t.renderRange.end,i,e);i.isTimeScale&&(g=e.add(g,t.slotMinTime),y=e.add(qt(y,-1),t.slotMaxTime)),i.timeWindowMs=m,i.normalizedRange={start:g,end:y};for(var _=[],w=g;w<y;)Ub(w,i,t,r)&&_.push(w),w=e.add(w,i.slotDuration);i.slotDates=_;var S=-1,C=0,R=[],A=[];for(w=g;w<y;)Ub(w,i,t,r)?(S+=1,R.push(S),A.push(C)):R.push(S+.5),w=e.add(w,i.snapDuration),C+=1;return i.snapDiffToIndex=R,i.snapIndexToDiff=A,i.snapCnt=S+1,i.slotCnt=i.snapCnt/i.snapsPerSlot,i.isWeekStarts=$fe(i,e),i.cellRows=Qfe(i,e),i.slotsPerLabel=vo(i.labelInterval,i.slotDuration),i}function Z3(t,e,n){var r=t;return e.isTimeScale||(r=Ve(r),e.largeUnit&&(r=n.startOf(r,e.largeUnit))),r}function Gfe(t,e,n){if(!e.isTimeScale&&(t=fb(t),e.largeUnit)){var r=t;t={start:n.startOf(t.start,e.largeUnit),end:n.startOf(t.end,e.largeUnit)},(t.end.valueOf()!==r.end.valueOf()||t.end<=t.start)&&(t={start:t.start,end:n.add(t.end,e.slotDuration)})}return t}function Ub(t,e,n,r){if(r.isHiddenDay(t))return!1;if(e.isTimeScale){var i=Ve(t),o=t.valueOf()-i.valueOf(),a=o-an(n.slotMinTime);return a=(a%864e5+864e5)%864e5,a<e.timeWindowMs}return!0}function Kfe(t,e,n){var r=e.currentRange;if(t.labelInterval){var i=n.countDurationsBetween(r.start,r.end,t.labelInterval);i>Pn.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),t.labelInterval=null)}if(t.slotDuration){var o=n.countDurationsBetween(r.start,r.end,t.slotDuration);o>Pn.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),t.slotDuration=null)}if(t.labelInterval&&t.slotDuration){var a=vo(t.labelInterval,t.slotDuration);(a===null||a<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),t.slotDuration=null)}}function eW(t,e,n){var r=e.currentRange,i=t.labelInterval;if(!i){var o=void 0;if(t.slotDuration){for(var a=0,l=kR;a<l.length;a++){o=l[a];var u=ye(o),d=vo(u,t.slotDuration);if(d!==null&&d<=Fb){i=u;break}}i||(i=t.slotDuration)}else for(var f=0,p=kR;f<p.length;f++){o=p[f],i=ye(o);var m=n.countDurationsBetween(r.start,r.end,i);if(m>=Wfe)break}t.labelInterval=i}return i}function Yfe(t,e,n){var r=e.currentRange,i=t.slotDuration;if(!i){for(var o=eW(t,e,n),a=0,l=kR;a<l.length;a++){var u=l[a],d=ye(u),f=vo(o,d);if(f!==null&&f>1&&f<=Fb){i=d;break}}if(i){var p=n.countDurationsBetween(r.start,r.end,i);p>zfe&&(i=null)}i||(i=o),t.slotDuration=i}return i}function Xfe(t,e,n,r){var i,o,a=t.labelInterval,l=go(a).unit,u=r.weekNumbers,d=i=o=null;switch(l==="week"&&!u&&(l="day"),l){case"year":d={year:"numeric"};break;case"month":Sd("years",e,n)>1&&(d={year:"numeric"}),i={month:"short"};break;case"week":Sd("years",e,n)>1&&(d={year:"numeric"}),i={week:"narrow"};break;case"day":Sd("years",e,n)>1?d={year:"numeric",month:"long"}:Sd("months",e,n)>1&&(d={month:"long"}),u&&(i={week:"short"}),o={weekday:"narrow",day:"numeric"};break;case"hour":u&&(d={week:"short"}),Sd("days",e,n)>1&&(i={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),o={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":g4(a)/60>=Fb?(d={hour:"numeric",meridiem:"short"},i=function(f){return":"+po(f.date.minute,2)}):d={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":y4(a)/60>=Fb?(d={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},i=function(f){return":"+po(f.date.second,2)}):d={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":d={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},i=function(f){return"."+po(f.millisecond,3)};break}return[].concat(d||[],i||[],o||[])}function Sd(t,e,n){var r=e.currentRange,i=null;return t==="years"?i=n.diffWholeYears(r.start,r.end):t==="months"||t==="weeks"?i=n.diffWholeMonths(r.start,r.end):t==="days"&&(i=od(r.start,r.end)),i||0}function $fe(t,e){for(var n=t.slotDates,r=t.emphasizeWeeks,i=null,o=[],a=0,l=n;a<l.length;a++){var u=l[a],d=e.computeWeekNumber(u),f=r&&i!==null&&i!==d;i=d,o.push(f)}return o}function Qfe(t,e){for(var n=t.slotDates,r=t.headerFormats,i=r.map(function(){return[]}),o=TI(t.slotDuration),a=o===7?"week":o===1?"day":null,l=r.map(function(A){return A.getLargestUnit?A.getLargestUnit():null}),u=0;u<n.length;u+=1)for(var d=n[u],f=t.isWeekStarts[u],p=0;p<r.length;p+=1){var m=r[p],g=i[p],y=g[g.length-1],_=p===r.length-1,w=r.length>1&&!_,S=null,C=l[p]||(_?a:null);if(w){var R=e.format(d,m);!y||y.text!==R?S=tW(d,R,C):y.colspan+=1}else if(!y||oa(e.countDurationsBetween(t.normalizedRange.start,d,t.labelInterval))){var R=e.format(d,m);S=tW(d,R,C)}else y.colspan+=1;S&&(S.weekStart=f,g.push(S))}return i}function tW(t,e,n){return{date:t,text:e,rowUnit:n,colspan:1,isWeekStart:!1}}var Jfe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.navLinkData?{"data-navlink":r.navLinkData,tabIndex:0}:{};return x(Xl,{hookProps:r.hookProps,content:i.options.slotLabelContent,defaultContent:Zfe},function(a,l){return x("a",I({ref:a,className:"fc-timeline-slot-cushion fc-scrollgrid-sync-inner"+(r.isSticky?" fc-sticky":"")},o),l)})},e}(ee);function Zfe(t){return t.text}function ehe(t){return{level:t.level,date:t.dateEnv.toDate(t.dateMarker),view:t.viewApi,text:t.text}}var the=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=ts(ehe),n.normalizeClassNames=$l(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.dateEnv,a=i.options,l=r.cell,u=r.dateProfile,d=r.tDateProfile,f=dp(l.date,r.todayRange,r.nowDate,u),p=["fc-timeline-slot","fc-timeline-slot-label"].concat(l.rowUnit==="time"?VI(f,i.theme):hd(f,i.theme));l.isWeekStart&&p.push("fc-timeline-slot-em");var m=a.navLinks&&l.rowUnit&&l.rowUnit!=="time"?da(l.date,l.rowUnit):null,g=this.refineHookProps({level:r.rowLevel,dateMarker:l.date,text:l.text,dateEnv:i.dateEnv,viewApi:i.viewApi}),y=this.normalizeClassNames(a.slotLabelClassNames,g);return x(ha,{hookProps:g,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},function(_){return x("th",{ref:_,className:p.concat(y).join(" "),"data-date":o.formatIso(l.date,{omitTime:!d.isTimeScale,omitTimeZoneOffset:!0}),colSpan:l.colspan},x("div",{className:"fc-timeline-slot-frame",style:{height:r.rowInnerHeight}},x(Jfe,{hookProps:g,isSticky:r.isSticky,navLinkData:m})))})},e}(ee),nhe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.dateProfile,i=n.tDateProfile,o=n.rowInnerHeights,a=n.todayRange,l=n.nowDate,u=i.cellRows;return x(ge,null,u.map(function(d,f){var p=f===u.length-1,m=i.isTimeScale&&p,g=["fc-timeline-header-row",m?"fc-timeline-header-row-chrono":""];return x("tr",{key:f,className:g.join(" ")},d.map(function(y){return x(the,{key:y.date.toISOString(),cell:y,rowLevel:f,dateProfile:r,tDateProfile:i,todayRange:a,nowDate:l,rowInnerHeight:o&&o[f],isSticky:!p})}))}))},e}(ee),DR=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=go(i.tDateProfile.slotDuration).unit,l=i.slatCoords&&i.slatCoords.dateProfile===i.dateProfile?i.slatCoords:null;return x(Hr,{unit:a},function(u,d){return x("div",{className:"fc-timeline-header",ref:n.rootElRef},x("table",{className:"fc-scrollgrid-sync-table",style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,x("tbody",null,x(nhe,{dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:u,todayRange:d,rowInnerHeights:i.rowInnerHeights}))),o.options.nowIndicator&&x("div",{className:"fc-timeline-now-indicator-container"},l&&l.isDateInRange(u)&&x(rs,{isAxis:!0,date:u},function(f,p,m,g){return x("div",{ref:f,className:["fc-timeline-now-indicator-arrow"].concat(p).join(" "),style:{left:l.dateToCoord(u)}},g)})))})},e.prototype.componentDidMount=function(){this.updateSize()},e.prototype.componentDidUpdate=function(){this.updateSize()},e.prototype.updateSize=function(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())},e.prototype.computeMaxCushionWidth=function(){return Math.max.apply(Math,Jo(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(function(n){return n.getBoundingClientRect().width}))},e}(ee),rhe=function(){function t(e,n,r,i,o,a){this.slatRootEl=e,this.dateProfile=r,this.tDateProfile=i,this.dateEnv=o,this.isRtl=a,this.outerCoordCache=new fi(e,n,!0,!1),this.innerCoordCache=new fi(e,Jq(n,"div"),!0,!1)}return t.prototype.rangeToCoords=function(e){return this.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},t.prototype.isDateInRange=function(e){return di(this.dateProfile.currentRange,e)},t.prototype.dateToCoord=function(e){var n=this.tDateProfile,r=this.computeDateSnapCoverage(e),i=r/n.snapsPerSlot,o=Math.floor(i);o=Math.min(o,n.slotCnt-1);var a=i-o,l=this,u=l.innerCoordCache,d=l.outerCoordCache;return this.isRtl?d.rights[o]-u.getWidth(o)*a-d.originClientRect.width:d.lefts[o]+u.getWidth(o)*a},t.prototype.computeDateSnapCoverage=function(e){return NR(e,this.tDateProfile,this.dateEnv)},t.prototype.computeDurationLeft=function(e){var n=this,r=n.dateProfile,i=n.tDateProfile,o=n.dateEnv,a=n.isRtl,l=0;if(r){var u=o.add(r.activeRange.start,e);i.isTimeScale||(u=Ve(u)),l=this.dateToCoord(u),!a&&l&&(l+=1)}return l},t}();function NR(t,e,n){var r=n.countDurationsBetween(e.normalizedRange.start,t,e.snapDuration);if(r<0)return 0;if(r>=e.snapDiffToIndex.length)return e.snapCnt;var i=Math.floor(r),o=e.snapDiffToIndex[i];return oa(o)?o+=r-i:o=Math.ceil(o),o}var ihe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.dateEnv,a=i.options,l=i.theme,u=r.date,d=r.tDateProfile,f=r.isEm,p=dp(r.date,r.todayRange,r.nowDate,r.dateProfile),m=["fc-timeline-slot","fc-timeline-slot-lane"],g={"data-date":o.formatIso(u,{omitTimeZoneOffset:!0,omitTime:!d.isTimeScale})},y=I(I({date:o.toDate(r.date)},p),{view:i.viewApi});return f&&m.push("fc-timeline-slot-em"),d.isTimeScale&&m.push(oa(o.countDurationsBetween(d.normalizedRange.start,r.date,d.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor"),m.push.apply(m,r.isDay?hd(p,l):VI(p,l)),x(Dt,{hookProps:y,classNames:a.slotLaneClassNames,content:a.slotLaneContent,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount,elRef:r.elRef},function(_,w,S,C){return x("td",I({ref:_,className:m.concat(w).join(" ")},g),x("div",{ref:S},C))})},e}(ee),ohe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.tDateProfile,i=n.cellElRefs,o=r.slotDates,a=r.isWeekStarts,l=!r.isTimeScale&&!r.largeUnit;return x("tbody",null,x("tr",null,o.map(function(u,d){var f=u.toISOString();return x(ihe,{key:f,elRef:i.createRef(f),date:u,dateProfile:n.dateProfile,tDateProfile:r,nowDate:n.nowDate,todayRange:n.todayRange,isEm:a[d],isDay:l})})))},e}(ee),PR=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n.cellElRefs=new wt,n.handleScrollRequest=function(r){var i=n.props.onScrollLeftRequest,o=n.coords;if(i&&o){if(r.time){var a=o.computeDurationLeft(r.time);i(a)}return!0}return null},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x("div",{className:"fc-timeline-slots",ref:this.rootElRef},x("table",{className:i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth}},r.tableColGroupNode,x(ohe,{cellElRefs:this.cellElRefs,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange})))},e.prototype.componentDidMount=function(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(n){this.updateSizing(),this.scrollResponder.update(n.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var n=this,r=n.props,i=n.context;if(r.clientWidth!==null&&this.scrollResponder){var o=this.rootElRef.current;o.offsetWidth&&(this.coords=new rhe(this.rootElRef.current,she(this.cellElRefs.currentMap,r.tDateProfile.slotDates),r.dateProfile,r.tDateProfile,i.dateEnv,i.isRtl),r.onCoords&&r.onCoords(this.coords),this.scrollResponder.update(!1))}},e.prototype.positionToHit=function(n){var r=this.coords.outerCoordCache,i=this.context,o=i.dateEnv,a=i.isRtl,l=this.props.tDateProfile,u=r.leftToIndex(n);if(u!=null){var d=r.getWidth(u),f=a?(r.rights[u]-n)/d:(n-r.lefts[u])/d,p=Math.floor(f*l.snapsPerSlot),m=o.add(l.slotDates[u],Zy(l.snapDuration,p)),g=o.add(m,l.snapDuration);return{dateSpan:{range:{start:m,end:g},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[u],left:r.lefts[u],right:r.rights[u]}}return null},e}(ee);function she(t,e){return e.map(function(n){var r=n.toISOString();return t[r]})}var OR=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=[].concat(n.eventResizeSegs,n.dateSelectionSegs);return n.timelineCoords&&x("div",{className:"fc-timeline-bg"},this.renderSegs(n.businessHourSegs||[],n.timelineCoords,"non-business"),this.renderSegs(n.bgEventSegs||[],n.timelineCoords,"bg-event"),this.renderSegs(r,n.timelineCoords,"highlight"))},e.prototype.renderSegs=function(n,r,i){var o=this.props,a=o.todayRange,l=o.nowDate,u=n.map(function(d){var f=r.rangeToCoords(d);return x("div",{key:fd(d.eventRange),className:"fc-timeline-bg-harness",style:{left:f.left,right:-f.right}},i==="bg-event"?x(yd,I({seg:d},yr(d,a,l))):gd(i))});return x(ge,null,u)},e}(ee),MR=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sliceRange=function(n,r,i,o,a){var l=Gfe(n,o,a),u=[];if(NR(l.start,o,a)<NR(l.end,o,a)){var d=yo(l,o.normalizedRange);d&&u.push({start:d.start,end:d.end,isStart:d.start.valueOf()===l.start.valueOf()&&Ub(d.start,o,r,i),isEnd:d.end.valueOf()===l.end.valueOf()&&Ub(es(d.end,-1),o,r,i)})}return u},e}(md),ahe=ut({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),nW=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(vd,I({},n,{extraClassNames:["fc-timeline-event","fc-h-event"],defaultTimeFormat:ahe,defaultDisplayEventTime:!n.isTimeScale}))},e}(ee),lhe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n}return e.prototype.render=function(){var n=this,r=this.props,i=r.hiddenSegs,o=r.elRef,a=r.placement,l=r.resourceId,u=l?{resourceId:l}:{};return x(bd,{allDayDate:null,moreCnt:i.length,allSegs:i,hiddenSegs:i,alignmentElRef:this.rootElRef,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:u,popoverContent:function(){return x(ge,null,i.map(function(d){var f=d.eventRange.instance.instanceId;return x("div",{key:f,style:{visibility:r.isForcedInvisible[f]?"hidden":""}},x(nW,I({isTimeScale:r.isTimeScale,seg:d,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:f===r.eventSelection},yr(d,r.todayRange,r.nowDate))))}))}},function(d,f,p,m,g){return x("a",{ref:function(y){At(d,y),At(o,y),At(n.rootElRef,y)},className:["fc-timeline-more-link"].concat(f).join(" "),style:{left:a.left,right:-a.right,top:a.top,visibility:a.isVisible?"":"hidden"},onClick:g},x("div",{ref:p,className:"fc-timeline-more-link-inner fc-sticky"},m))})},e}(ee);function uhe(t,e,n,r,i,o,a,l){var u=[],d=[];if(e)for(var f=0;f<t.length;f+=1){var p=t[f],m=p.eventRange.instance.instanceId,g=n[m],y=e.rangeToCoords(p),_=Math.round(y.left),w=Math.round(y.right);w-_<i&&(o?_=w-i:w=_+i),g!=null?u.push({index:f,spanStart:_,spanEnd:w,thickness:g}):d.push({seg:p,isVisible:!1,left:_,right:w,top:0})}var S=new pd;a!=null&&(S.strictOrder=a),l!=null&&(S.maxStackCnt=l);for(var C=S.addSegs(u),R=C.map(function(pi){return{seg:t[pi.segInput.index],isVisible:!1,left:pi.spanStart,right:pi.spanEnd,top:0}}),A=wb(C),L=[],M=[],W=function(pi){return t[pi.segInput.index]},f=0;f<A.length;f+=1){var K=A[f],q=K.entries.map(W),g=r[ld(_d(q))];g!=null?L.push({index:t.length+f,spanStart:K.spanStart,spanEnd:K.spanEnd,thickness:g}):M.push({seg:q,isVisible:!1,left:K.spanStart,right:K.spanEnd,top:0})}S.maxStackCnt=-1,S.addSegs(L);for(var Re=S.toRects(),O=[],mt=0,et=0,Vr=Re;et<Vr.length;et++){var er=Vr[et],xo=er.segInput.index;O.push({seg:xo<t.length?t[xo]:A[xo-t.length].entries.map(W),isVisible:!0,left:er.spanStart,right:er.spanEnd,top:er.levelCoord}),mt=Math.max(mt,er.levelCoord+er.thickness)}return[O.concat(d,R,M),mt]}var Bb=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slicer=new MR,n.sortEventSegs=Q(dd),n.computeFgSegPlacements=Q(uhe),n.harnessElRefs=new wt,n.moreElRefs=new wt,n.innerElRef=xe(),n.state={eventInstanceHeights:{},moreLinkHeights:{}},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=o.options,l=r.dateProfile,u=r.tDateProfile,d=this.slicer.sliceProps(r,l,u.isTimeScale?null:r.nextDayThreshold,o,l,o.dateProfileGenerator,u,o.dateEnv),f=(d.eventDrag?d.eventDrag.segs:null)||(d.eventResize?d.eventResize.segs:null)||[],p=this.sortEventSegs(d.fgEventSegs,a.eventOrder),m=this.computeFgSegPlacements(p,r.timelineCoords,i.eventInstanceHeights,i.moreLinkHeights,a.eventMinWidth,o.isRtl,a.eventOrderStrict,a.eventMaxStack),g=m[0],y=m[1],_=(d.eventDrag?d.eventDrag.affectedInstances:null)||(d.eventResize?d.eventResize.affectedInstances:null)||{};return x(ge,null,x(OR,{businessHourSegs:d.businessHourSegs,bgEventSegs:d.bgEventSegs,timelineCoords:r.timelineCoords,eventResizeSegs:d.eventResize?d.eventResize.segs:[],dateSelectionSegs:d.dateSelectionSegs,nowDate:r.nowDate,todayRange:r.todayRange}),x("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:y}},this.renderFgSegs(g,_),this.renderFgSegs(che(f,r.timelineCoords,g),{},Boolean(d.eventDrag),Boolean(d.eventResize),!1)))},e.prototype.componentDidMount=function(){this.updateSize()},e.prototype.componentDidUpdate=function(n,r){(n.eventStore!==this.props.eventStore||n.timelineCoords!==this.props.timelineCoords||r.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()},e.prototype.updateSize=function(){var n=this,r=this.props,i=r.timelineCoords;r.onHeightChange&&r.onHeightChange(this.innerElRef.current,!1),i&&this.setState({eventInstanceHeights:kt(this.harnessElRefs.currentMap,function(o){return Math.round(o.getBoundingClientRect().height)}),moreLinkHeights:kt(this.moreElRefs.currentMap,function(o){return Math.round(o.getBoundingClientRect().height)})},function(){r.onHeightChange&&r.onHeightChange(n.innerElRef.current,!0)})},e.prototype.renderFgSegs=function(n,r,i,o,a){var l=this,u=l.harnessElRefs,d=l.moreElRefs,f=l.props,p=i||o||a;return x(ge,null,n.map(function(m){var g=m.seg;if(Array.isArray(g)){var y=ld(_d(g));return x(lhe,{key:"m:"+y,elRef:d.createRef(y),hiddenSegs:g,placement:m,dateProfile:f.dateProfile,nowDate:f.nowDate,todayRange:f.todayRange,isTimeScale:f.tDateProfile.isTimeScale,eventSelection:f.eventSelection,resourceId:f.resourceId,isForcedInvisible:r})}var _=g.eventRange.instance.instanceId,w=m.isVisible&&!r[_];return x("div",{key:"e:"+_,ref:p?null:u.createRef(_),className:"fc-timeline-event-harness",style:{left:m.left,right:-m.right,top:m.top,visibility:w?"":"hidden"}},x(nW,I({isTimeScale:f.tDateProfile.isTimeScale,seg:g,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:_===f.eventSelection},yr(g,f.todayRange,f.nowDate))))}))},e}(ee);Bb.addStateEquality({eventInstanceHeights:Jt,moreLinkHeights:Jt});function che(t,e,n){if(!t.length||!e)return[];var r=dhe(n);return t.map(function(i){var o=e.rangeToCoords(i);return{seg:i,isVisible:!0,left:o.left,right:o.right,top:r[i.eventRange.instance.instanceId]}})}function dhe(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n],o=i.seg;Array.isArray(o)||(e[o.eventRange.instance.instanceId]=i.top)}return e}var fhe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slatsRef=xe(),n.state={coords:null},n.handeEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r}):n.context.unregisterInteractiveComponent(n)},n.handleCoords=function(r){n.setState({coords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,u=i.dateProfile,d=i.tDateProfile,f=go(d.slotDuration).unit;return x("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:i.tableMinWidth,height:i.clientHeight,width:i.clientWidth}},x(Hr,{unit:f},function(p,m){return x(ge,null,x(PR,{ref:n.slatsRef,dateProfile:u,tDateProfile:d,nowDate:p,todayRange:m,clientWidth:i.clientWidth,tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,onCoords:n.handleCoords,onScrollLeftRequest:i.onScrollLeftRequest}),x(Bb,{dateProfile:u,tDateProfile:i.tDateProfile,nowDate:p,todayRange:m,nextDayThreshold:l.nextDayThreshold,businessHours:i.businessHours,eventStore:i.eventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,timelineCoords:o.coords}),l.nowIndicator&&o.coords&&o.coords.isDateInRange(p)&&x("div",{className:"fc-timeline-now-indicator-container"},x(rs,{isAxis:!1,date:p},function(g,y,_,w){return x("div",{ref:g,className:["fc-timeline-now-indicator-line"].concat(y).join(" "),style:{left:o.coords.dateToCoord(p)}},w)})))}))},e.prototype.queryHit=function(n,r,i,o){var a=this.slatsRef.current,l=a.positionToHit(n);return l?{dateProfile:this.props.dateProfile,dateSpan:l.dateSpan,rect:{left:l.left,right:l.right,top:0,bottom:o},dayEl:l.dayEl,layer:0}:null},e}(Nn),hhe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildTimelineDateProfile=Q(AR),n.scrollGridRef=xe(),n.state={slatCoords:null,slotCushionMaxWidth:null},n.handleSlatCoords=function(r){n.setState({slatCoords:r})},n.handleScrollLeftRequest=function(r){var i=n.scrollGridRef.current;i.forceScrollLeft(0,r)},n.handleMaxCushionWidth=function(r){n.setState({slotCushionMaxWidth:Math.ceil(r)})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,u=!i.forPrint&&_o(l),d=!i.forPrint&&pa(l),f=this.buildTimelineDateProfile(i.dateProfile,a.dateEnv,l,a.dateProfileGenerator),p=["fc-timeline",l.eventOverlap===!1?"fc-timeline-overlap-disabled":""],m=l.slotMinWidth,g=LR(f,m||this.computeFallbackSlotMinWidth(f)),y=[{type:"header",key:"header",isSticky:u,chunks:[{key:"timeline",content:function(_){return x(DR,{dateProfile:i.dateProfile,clientWidth:_.clientWidth,clientHeight:_.clientHeight,tableMinWidth:_.tableMinWidth,tableColGroupNode:_.tableColGroupNode,tDateProfile:f,slatCoords:o.slatCoords,onMaxCushionWidth:m?null:n.handleMaxCushionWidth})}}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:function(_){return x(fhe,I({},i,{clientWidth:_.clientWidth,clientHeight:_.clientHeight,tableMinWidth:_.tableMinWidth,tableColGroupNode:_.tableColGroupNode,tDateProfile:f,onSlatCoords:n.handleSlatCoords,onScrollLeftRequest:n.handleScrollLeftRequest}))}}]}];return d&&y.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:bo}]}),x(Ui,{viewSpec:a.viewSpec},function(_,w){return x("div",{ref:_,className:p.concat(w).join(" ")},x(Ed,{ref:n.scrollGridRef,liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:!1,colGroups:[{cols:g}],sections:y}))})},e.prototype.computeFallbackSlotMinWidth=function(n){return Math.max(30,(this.state.slotCushionMaxWidth||0)/n.slotsPerLabel)},e}(Nn);function LR(t,e){return[{span:t.slotCnt,minWidth:e||1}]}var phe=_t({deps:[ma],initialView:"timelineDay",views:{timeline:{component:hhe,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}}),rW=phe;le();function mhe(t,e,n){var r=e.dateSpan.resourceId,i=n.dateSpan.resourceId;r&&i&&r!==i&&(t.resourceMutation={matchResourceId:r,setResourceId:i})}function vhe(t,e,n){var r=e.resourceMutation;if(r&&iW(t,n)){var i=t.resourceIds.indexOf(r.matchResourceId);if(i!==-1){var o=t.resourceIds.slice();o.splice(i,1),o.indexOf(r.setResourceId)===-1&&o.push(r.setResourceId),t.resourceIds=o}}}function iW(t,e){var n=t.resourceEditable;if(n==null){var r=t.sourceId&&e.getCurrentData().eventSources[t.sourceId];r&&(n=r.extendedProps.resourceEditable),n==null&&(n=e.options.eventResourceEditable,n==null&&(n=e.options.editable))}return n}function ghe(t,e){var n=t.resourceMutation;if(n){var r=e.calendarApi;return{oldResource:r.getResourceById(n.matchResourceId),newResource:r.getResourceById(n.setResourceId)}}return{oldResource:null,newResource:null}}var yhe=function(){function t(){this.filterResources=Q(bhe)}return t.prototype.transform=function(e,n){return n.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(n.resourceStore,n.options.filterResourcesWithEvents,n.eventStore,n.dateProfile.activeRange),resourceEntityExpansions:n.resourceEntityExpansions}:null},t}();function bhe(t,e,n,r){if(e){var i=_he(n.instances,r),o=whe(i,n.defs);return I(o,Ehe(o,t)),mo(t,function(a,l){return o[l]})}return t}function _he(t,e){return mo(t,function(n){return ap(n.range,e)})}function whe(t,e){var n={};for(var r in t)for(var i=t[r],o=0,a=e[i.defId].resourceIds;o<a.length;o++){var l=a[o];n[l]=!0}return n}function Ehe(t,e){var n={};for(var r in t)for(var i=void 0;(i=e[r])&&(r=i.parentId,r);)n[r]=!0;return n}function She(t,e,n,r){if(!t){var i=r.getCurrentData(),o=i.viewSpecs[i.currentViewType];if(o.optionDefaults.needsResourceData&&iW(e,r))return!0}return t}var xhe=function(){function t(){this.buildResourceEventUis=Q(The,Jt),this.injectResourceEventUis=Q(Che)}return t.prototype.transform=function(e,n){return n.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(n.resourceStore))}},t}();function The(t){return kt(t,function(e){return e.ui})}function Che(t,e,n){return kt(t,function(r,i){return i?Ihe(r,e[i],n):r})}function Ihe(t,e,n){for(var r=[],i=0,o=e.resourceIds;i<o.length;i++){var a=o[i];n[a]&&r.unshift(n[a])}return r.unshift(t),ub(r)}var FR=[];function UR(t){FR.push(t)}function oW(t){return FR[t]}function Rhe(){return FR}var khe={id:String,resources:F,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:F};function Ahe(t){var e;if(typeof t=="string"?e={url:t}:typeof t=="function"||Array.isArray(t)?e={resources:t}:typeof t=="object"&&t&&(e=t),e){var n=zl(e,khe),r=n.refined,i=n.extra;Nhe(i);var o=Dhe(r);if(o)return{_raw:t,sourceId:ho(),sourceDefId:o.sourceDefId,meta:o.meta,publicId:r.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function Dhe(t){for(var e=Rhe(),n=e.length-1;n>=0;n-=1){var r=e[n],i=r.parseMeta(t);if(i)return{meta:i,sourceDefId:n}}return null}function Nhe(t){for(var e in t)console.warn("Unknown resource prop '"+e+"'")}function Phe(t,e,n){var r=n.options,i=n.dateProfile;if(!t||!e)return sW(r.initialResources||r.resources,i.activeRange,r.refetchResourcesOnNavigate,n);switch(e.type){case"RESET_RESOURCE_SOURCE":return sW(e.resourceSourceInput,i.activeRange,r.refetchResourcesOnNavigate,n);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return Ohe(t,i.activeRange,r.refetchResourcesOnNavigate,n);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return Lhe(t,e.fetchId,e.fetchRange);case"REFETCH_RESOURCES":return BR(t,i.activeRange,n);default:return t}}function sW(t,e,n,r){if(t){var i=Ahe(t);return i=BR(i,n?e:null,r),i}return null}function Ohe(t,e,n,r){return n&&!Mhe(t)&&(!t.fetchRange||!DI(t.fetchRange,e))?BR(t,e,r):t}function Mhe(t){return Boolean(oW(t.sourceDefId).ignoreRange)}function BR(t,e,n){var r=oW(t.sourceDefId),i=ho();return r.fetch({resourceSource:t,range:e,context:n},function(o){n.dispatch({type:"RECEIVE_RESOURCES",fetchId:i,fetchRange:e,rawResources:o.rawResources})},function(o){n.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:i,fetchRange:e,error:o})}),I(I({},t),{isFetching:!0,latestFetchId:i})}function Lhe(t,e,n){return e===t.latestFetchId?I(I({},t),{isFetching:!1,fetchRange:n}):t}var aW="_fc:",Fhe={id:String,parentId:String,children:F,title:String,businessHours:F,extendedProps:F,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:F,eventOverlap:Boolean,eventAllow:F,eventClassNames:op,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function HR(t,e,n,r){e===void 0&&(e="");var i=zl(t,Fhe),o=i.refined,a=i.extra,l={id:o.id||aW+ho(),parentId:o.parentId||e,title:o.title||"",businessHours:o.businessHours?LI(o.businessHours,r):null,ui:cd({editable:o.eventEditable,startEditable:o.eventStartEditable,durationEditable:o.eventDurationEditable,constraint:o.eventConstraint,overlap:o.eventOverlap,allow:o.eventAllow,classNames:o.eventClassNames,backgroundColor:o.eventBackgroundColor,borderColor:o.eventBorderColor,textColor:o.eventTextColor,color:o.eventColor},r),extendedProps:I(I({},a),o.extendedProps)};if(Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),!n[l.id]){if(n[l.id]=l,o.children)for(var u=0,d=o.children;u<d.length;u++){var f=d[u];HR(f,l.id,n,r)}}return l}function VR(t){return t.indexOf(aW)===0?"":t}function Uhe(t,e,n,r){if(!t||!e)return{};switch(e.type){case"RECEIVE_RESOURCES":return Bhe(t,e.rawResources,e.fetchId,n,r);case"ADD_RESOURCE":return Hhe(t,e.resourceHash);case"REMOVE_RESOURCE":return Vhe(t,e.resourceId);case"SET_RESOURCE_PROP":return jhe(t,e.resourceId,e.propName,e.propValue);case"SET_RESOURCE_EXTENDED_PROP":return qhe(t,e.resourceId,e.propName,e.propValue);default:return t}}function Bhe(t,e,n,r,i){if(r.latestFetchId===n){for(var o={},a=0,l=e;a<l.length;a++){var u=l[a];HR(u,"",o,i)}return o}return t}function Hhe(t,e){return I(I({},t),e)}function Vhe(t,e){var n=I({},t);delete n[e];for(var r in n)n[r].parentId===e&&(n[r]=I(I({},n[r]),{parentId:""}));return n}function jhe(t,e,n,r){var i,o,a=t[e];return a?I(I({},t),(i={},i[e]=I(I({},a),(o={},o[n]=r,o)),i)):t}function qhe(t,e,n,r){var i,o,a=t[e];return a?I(I({},t),(i={},i[e]=I(I({},a),{extendedProps:I(I({},a.extendedProps),(o={},o[n]=r,o))}),i)):t}function Whe(t,e){var n;if(!t||!e)return{};switch(e.type){case"SET_RESOURCE_ENTITY_EXPANDED":return I(I({},t),(n={},n[e.id]=e.isExpanded,n));default:return t}}function zhe(t,e,n){var r=Phe(t&&t.resourceSource,e,n),i=Uhe(t&&t.resourceStore,e,r,n),o=Whe(t&&t.resourceEntityExpansions,e);return{resourceSource:r,resourceStore:i,resourceEntityExpansions:o}}var Ghe={resourceId:String,resourceIds:F,resourceEditable:Boolean};function Khe(t){return{resourceIds:Yhe(t.resourceIds).concat(t.resourceId?[t.resourceId]:[]),resourceEditable:t.resourceEditable}}function Yhe(t){return(t||[]).map(function(e){return String(e)})}function Xhe(t,e){var n=t.dateSpan.resourceId,r=e.dateSpan.resourceId;return n&&r?{resourceId:n}:null}var br=function(){function t(e,n){this._context=e,this._resource=n}return t.prototype.setProp=function(e,n){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:r.id,propName:e,propValue:n}),this.sync(r)},t.prototype.setExtendedProp=function(e,n){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:r.id,propName:e,propValue:n}),this.sync(r)},t.prototype.sync=function(e){var n=this._context,r=e.id;this._resource=n.getCurrentData().resourceStore[r],n.emitter.trigger("resourceChange",{oldResource:new t(n,e),resource:this,revert:function(){var i;n.dispatch({type:"ADD_RESOURCE",resourceHash:(i={},i[r]=e,i)})}})},t.prototype.remove=function(){var e=this._context,n=this._resource,r=n.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:r}),e.emitter.trigger("resourceRemove",{resource:this,revert:function(){var i;e.dispatch({type:"ADD_RESOURCE",resourceHash:(i={},i[r]=n,i)})}})},t.prototype.getParent=function(){var e=this._context,n=this._resource.parentId;return n?new t(e,e.getCurrentData().resourceSource[n]):null},t.prototype.getChildren=function(){var e=this._resource.id,n=this._context,r=n.getCurrentData().resourceStore,i=[];for(var o in r)r[o].parentId===e&&i.push(new t(n,r[o]));return i},t.prototype.getEvents=function(){var e=this._resource.id,n=this._context,r=n.getCurrentData().eventStore,i=r.defs,o=r.instances,a=[];for(var l in o){var u=o[l],d=i[u.defId];d.resourceIds.indexOf(e)!==-1&&a.push(new Qe(n,d,u))}return a},Object.defineProperty(t.prototype,"id",{get:function(){return VR(this._resource.id)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._resource.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(e){e===void 0&&(e={});var n=this._resource,r=n.ui,i=this.id,o={};return i&&(o.id=i),n.title&&(o.title=n.title),e.collapseEventColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.eventColor=r.backgroundColor:(r.backgroundColor&&(o.eventBackgroundColor=r.backgroundColor),r.borderColor&&(o.eventBorderColor=r.borderColor)),r.textColor&&(o.eventTextColor=r.textColor),r.classNames.length&&(o.eventClassNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?I(o,n.extendedProps):o.extendedProps=n.extendedProps),o},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function $he(t,e){var n=[];for(var r in t)n.push(new br(e,t[r]));return n}ua.prototype.addResource=function(t,e){var n,r=this;e===void 0&&(e=!0);var i=this.getCurrentData(),o,a;t instanceof br?(a=t._resource,o=(n={},n[a.id]=a,n)):(o={},a=HR(t,"",o,i)),this.dispatch({type:"ADD_RESOURCE",resourceHash:o}),e&&this.trigger("_scrollRequest",{resourceId:a.id});var l=new br(i,a);return i.emitter.trigger("resourceAdd",{resource:l,revert:function(){r.dispatch({type:"REMOVE_RESOURCE",resourceId:a.id})}}),l};ua.prototype.getResourceById=function(t){t=String(t);var e=this.getCurrentData();if(e.resourceStore){var n=e.resourceStore[t];if(n)return new br(e,n)}return null};ua.prototype.getResources=function(){var t=this.getCurrentData(),e=t.resourceStore,n=[];if(e)for(var r in e)n.push(new br(t,e[r]));return n};ua.prototype.getTopLevelResources=function(){var t=this.getCurrentData(),e=t.resourceStore,n=[];if(e)for(var r in e)e[r].parentId||n.push(new br(t,e[r]));return n};ua.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};function Qhe(t,e){return t.resourceId?{resource:e.calendarApi.getResourceById(t.resourceId)}:{}}function Jhe(t,e){return t.resourceId?{resource:e.calendarApi.getResourceById(t.resourceId)}:{}}var jR=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(n){return I({"":{}},n.resourceStore)},e.prototype.getKeysForDateSpan=function(n){return[n.resourceId||""]},e.prototype.getKeysForEventDef=function(n){var r=n.resourceIds;return r.length?r:[""]},e}(cp);function Zhe(t,e){var n=new jR,r=n.splitProps(I(I({},t),{resourceStore:e.getCurrentData().resourceStore}));for(var i in r){var o=r[i];if(i&&r[""]&&(o=I(I({},o),{eventStore:ip(r[""].eventStore,o.eventStore),eventUiBases:I(I({},r[""].eventUiBases),o.eventUiBases)})),!uR(o,e,{resourceId:i},epe.bind(null,i)))return!1}return!0}function epe(t,e){return I(I({},e),{constraints:tpe(t,e.constraints)})}function tpe(t,e){return e.map(function(n){var r=n.defs;if(r)for(var i in r){var o=r[i].resourceIds;if(o.length&&o.indexOf(t)===-1)return!1}return n})}function npe(t){return t.resourceId?{resourceId:t.resourceId}:{}}Qe.prototype.getResources=function(){var t=this._context.calendarApi;return this._def.resourceIds.map(function(e){return t.getResourceById(e)})};Qe.prototype.setResources=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n],o=null;typeof i=="string"?o=i:typeof i=="number"?o=String(i):i instanceof br?o=i.id:console.warn("unknown resource type: "+i),o&&e.push(o)}this.mutate({standardProps:{resourceIds:e}})};var rpe={resources:ipe};function ipe(t,e){var n=e.getCurrentData().resourceSource._raw;n!==t&&e.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:t})}var lW=Yy("id,title");function ope(t,e){var n=e.emitter;n.hasHandlers("resourcesSet")&&n.trigger("resourcesSet",$he(t,e))}var spe={initialResources:F,resources:F,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:Yy,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:F,resourceAreaColumns:F,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:F,resourceAreaHeaderContent:F,resourceAreaHeaderDidMount:F,resourceAreaHeaderWillUnmount:F,resourceGroupLabelClassNames:F,resourceGroupLabelContent:F,resourceGroupLabelDidMount:F,resourceGroupLabelWillUnmount:F,resourceLabelClassNames:F,resourceLabelContent:F,resourceLabelDidMount:F,resourceLabelWillUnmount:F,resourceLaneClassNames:F,resourceLaneContent:F,resourceLaneDidMount:F,resourceLaneWillUnmount:F,resourceGroupLaneClassNames:F,resourceGroupLaneContent:F,resourceGroupLaneDidMount:F,resourceGroupLaneWillUnmount:F},ape={resourcesSet:F,resourceAdd:F,resourceChange:F,resourceRemove:F};UR({ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.resources)?t.resources:null},fetch:function(t,e){e({rawResources:t.resourceSource.meta})}});UR({parseMeta:function(t){return typeof t.resources=="function"?t.resources:null},fetch:function(t,e,n){var r=t.context.dateEnv,i=t.resourceSource.meta,o=t.range?{start:r.toDate(t.range.start),end:r.toDate(t.range.end),startStr:r.formatIso(t.range.start),endStr:r.formatIso(t.range.end),timeZone:r.timeZone}:{};KI(i.bind(null,o),function(a){e({rawResources:a})},n)}});UR({parseMeta:function(t){return t.url?{url:t.url,method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams}:null},fetch:function(t,e,n){var r=t.resourceSource.meta,i=lpe(r,t.range,t.context);JI(r.method,r.url,i,function(o,a){e({rawResources:o,xhr:a})},function(o,a){n({message:o,xhr:a})})}});function lpe(t,e,n){var r=n.dateEnv,i=n.options,o,a,l,u,d={};return e&&(o=t.startParam,o==null&&(o=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),d[o]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone)),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},I(d,u),d}function upe(t){return x(hi.Consumer,null,function(e){var n=e.options,r={resource:new br(e,t.resource),date:t.date?e.dateEnv.toDate(t.date):null,view:e.viewApi},i={"data-resource-id":t.resource.id,"data-date":t.date?rp(t.date):void 0};return x(Dt,{hookProps:r,classNames:n.resourceLabelClassNames,content:n.resourceLabelContent,defaultContent:cpe,didMount:n.resourceLabelDidMount,willUnmount:n.resourceLabelWillUnmount},function(o,a,l,u){return t.children(o,a,i,l,u)})})}function cpe(t){return t.resource.title||t.resource.id}var qR=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(upe,{resource:n.resource,date:n.date},function(r,i,o,a,l){return x("th",I({ref:r,className:["fc-col-header-cell","fc-resource"].concat(i).join(" "),colSpan:n.colSpan},o),x("div",{className:"fc-scrollgrid-sync-inner"},x("span",{className:["fc-col-header-cell-cushion",n.isSticky?"fc-sticky":""].join(" "),ref:a},l)))})},e}(ee),Xxe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDateFormat=Q(dpe),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=this.buildDateFormat(o.options.dayHeaderFormat,i.datesRepDistinctDays,i.dates.length);return x(Hr,{unit:"day"},function(l,u){return i.dates.length===1?n.renderResourceRow(i.resources,i.dates[0]):o.options.datesAboveResources?n.renderDayAndResourceRows(i.dates,a,u,i.resources):n.renderResourceAndDayRows(i.resources,i.dates,a,u)})},e.prototype.renderResourceRow=function(n,r){var i=n.map(function(o){return x(qR,{key:o.id,resource:o,colSpan:1,date:r})});return this.buildTr(i,"resources")},e.prototype.renderDayAndResourceRows=function(n,r,i,o){for(var a=[],l=[],u=0,d=n;u<d.length;u++){var f=d[u];a.push(this.renderDateCell(f,r,i,o.length,null,!0));for(var p=0,m=o;p<m.length;p++){var g=m[p];l.push(x(qR,{key:g.id+":"+f.toISOString(),resource:g,colSpan:1,date:f}))}}return x(ge,null,this.buildTr(a,"day"),this.buildTr(l,"resources"))},e.prototype.renderResourceAndDayRows=function(n,r,i,o){for(var a=[],l=[],u=0,d=n;u<d.length;u++){var f=d[u];a.push(x(qR,{key:f.id,resource:f,colSpan:r.length,isSticky:!0}));for(var p=0,m=r;p<m.length;p++){var g=m[p];l.push(this.renderDateCell(g,i,o,1,f))}}return x(ge,null,this.buildTr(a,"resources"),this.buildTr(l,"day"))},e.prototype.renderDateCell=function(n,r,i,o,a,l){var u=this.props,d=a?":"+a.id:"",f=a?{resource:new br(this.context,a)}:{},p=a?{"data-resource-id":a.id}:{};return u.datesRepDistinctDays?x(sR,{key:n.toISOString()+d,date:n,dateProfile:u.dateProfile,todayRange:i,colCnt:u.dates.length*u.resources.length,dayHeaderFormat:r,colSpan:o,isSticky:l,extraHookProps:f,extraDataAttrs:p}):x(aR,{key:n.getUTCDay()+d,dow:n.getUTCDay(),dayHeaderFormat:r,colSpan:o,isSticky:l,extraHookProps:f,extraDataAttrs:p})},e.prototype.buildTr=function(n,r){var i=this.props.renderIntro;return n.length||(n=[x("td",{key:0},"\xA0")]),x("tr",{key:r},i&&i(r),n)},e}(ee);function dpe(t,e,n){return t||oR(e,n)}var fpe=function(){function t(e){for(var n={},r=[],i=0;i<e.length;i+=1){var o=e[i].id;r.push(o),n[o]=i}this.ids=r,this.indicesById=n,this.length=e.length}return t}(),uW=function(){function t(e,n,r){this.dayTableModel=e,this.resources=n,this.context=r,this.resourceIndex=new fpe(n),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*n.length,this.cells=this.buildCells()}return t.prototype.buildCells=function(){for(var e=this,n=e.rowCnt,r=e.dayTableModel,i=e.resources,o=[],a=0;a<n;a+=1){for(var l=[],u=0;u<r.colCnt;u+=1)for(var d=0;d<i.length;d+=1){var f=i[d],p={resource:new br(this.context,f)},m={"data-resource-id":f.id},g=["fc-resource"],y={resourceId:f.id},_=r.cells[a][u].date;l[this.computeCol(u,d)]={key:f.id+":"+_.toISOString(),date:_,extraHookProps:p,extraDataAttrs:m,extraClassNames:g,extraDateSpan:y}}o.push(l)}return o},t}(),$xe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.computeCol=function(n,r){return r*this.dayTableModel.colCnt+n},e.prototype.computeColRanges=function(n,r,i){return[{firstCol:this.computeCol(n,i),lastCol:this.computeCol(r,i),isStart:!0,isEnd:!0}]},e}(uW),Qxe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.computeCol=function(n,r){return n*this.resources.length+r},e.prototype.computeColRanges=function(n,r,i){for(var o=[],a=n;a<=r;a+=1){var l=this.computeCol(a,i);o.push({firstCol:l,lastCol:l,isStart:a===n,isEnd:a===r})}return o},e}(uW),cW=[],Jxe=function(){function t(){this.joinDateSelection=Q(this.joinSegs),this.joinBusinessHours=Q(this.joinSegs),this.joinFgEvents=Q(this.joinSegs),this.joinBgEvents=Q(this.joinSegs),this.joinEventDrags=Q(this.joinInteractions),this.joinEventResizes=Q(this.joinInteractions)}return t.prototype.joinProps=function(e,n){for(var r=[],i=[],o=[],a=[],l=[],u=[],d="",f=n.resourceIndex.ids.concat([""]),p=0,m=f;p<m.length;p++){var g=m[p],y=e[g];r.push(y.dateSelectionSegs),i.push(g?y.businessHourSegs:cW),o.push(g?y.fgEventSegs:cW),a.push(y.bgEventSegs),l.push(y.eventDrag),u.push(y.eventResize),d=d||y.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,De([n],r)),businessHourSegs:this.joinBusinessHours.apply(this,De([n],i)),fgEventSegs:this.joinFgEvents.apply(this,De([n],o)),bgEventSegs:this.joinBgEvents.apply(this,De([n],a)),eventDrag:this.joinEventDrags.apply(this,De([n],l)),eventResize:this.joinEventResizes.apply(this,De([n],u)),eventSelection:d}},t.prototype.joinSegs=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=e.resources.length,o=[],a=0;a<i;a+=1){for(var l=0,u=n[a];l<u.length;l++){var d=u[l];o.push.apply(o,this.transformSeg(d,e,a))}for(var f=0,p=n[i];f<p.length;f++){var d=p[f];o.push.apply(o,this.transformSeg(d,e,a))}}return o},t.prototype.expandSegs=function(e,n){for(var r=e.resources.length,i=[],o=0;o<r;o+=1)for(var a=0,l=n;a<l.length;a++){var u=l[a];i.push.apply(i,this.transformSeg(u,e,o))}return i},t.prototype.joinInteractions=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=e.resources.length,o={},a=[],l=!1,u=!1,d=0;d<i;d+=1){var f=n[d];if(f){l=!0;for(var p=0,m=f.segs;p<m.length;p++){var g=m[p];a.push.apply(a,this.transformSeg(g,e,d))}I(o,f.affectedInstances),u=u||f.isEvent}if(n[i])for(var y=0,_=n[i].segs;y<_.length;y++){var g=_[y];a.push.apply(a,this.transformSeg(g,e,d))}}return l?{affectedInstances:o,segs:a,isEvent:u}:null},t}(),Zxe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(n){var r=n.resourceDayTableModel,i=kt(r.resourceIndex.indicesById,function(o){return r.resources[o]});return i[""]={},i},e.prototype.getKeysForDateSpan=function(n){return[n.resourceId||""]},e.prototype.getKeysForEventDef=function(n){var r=n.resourceIds;return r.length?r:[""]},e}(cp);function dW(t,e,n,r,i,o){var a=hpe(t,r?-1:1,e,n),l=[];return Hb(a,l,r,[],0,i,o),l}function Hb(t,e,n,r,i,o,a){for(var l=0;l<t.length;l+=1){var u=t[l],d=u.group;if(d)if(n){var f=e.length,p=r.length;if(Hb(u.children,e,n,r.concat(0),i,o,a),f<e.length){var m=e[f],g=m.rowSpans=m.rowSpans.slice();g[p]=e.length-f}}else{var y=d.spec.field+":"+d.value,_=o[y]!=null?o[y]:a;e.push({id:y,group:d,isExpanded:_}),_&&Hb(u.children,e,n,r,i+1,o,a)}else if(u.resource){var y=u.resource.id,_=o[y]!=null?o[y]:a;e.push({id:y,rowSpans:r,depth:i,isExpanded:_,hasChildren:Boolean(u.children.length),resource:u.resource,resourceFields:u.resourceFields}),_&&Hb(u.children,e,n,r,i+1,o,a)}}}function hpe(t,e,n,r){var i=ppe(t,r),o=[];for(var a in i){var l=i[a];l.resource.parentId||fW(l,o,n,0,e,r)}return o}function ppe(t,e){var n={};for(var r in t){var i=t[r];n[r]={resource:i,resourceFields:WR(i),children:[]}}for(var r in t){var i=t[r];if(i.parentId){var o=n[i.parentId];o&&hW(n[r],o.children,e)}}return n}function fW(t,e,n,r,i,o){if(n.length&&(i===-1||r<=i)){var a=mpe(t,e,n[0]);fW(t,a.children,n.slice(1),r+1,i,o)}else hW(t,e,o)}function mpe(t,e,n){var r=t.resourceFields[n.field],i,o;if(n.order)for(o=0;o<e.length;o+=1){var a=e[o];if(a.group){var l=bI(r,a.group.value)*n.order;if(l===0){i=a;break}else if(l<0)break}}else for(o=0;o<e.length;o+=1){var a=e[o];if(a.group&&r===a.group.value){i=a;break}}return i||(i={group:{value:r,spec:n},children:[]},e.splice(o,0,i)),i}function hW(t,e,n){var r;for(r=0;r<e.length;r+=1){var i=yI(e[r].resourceFields,t.resourceFields,n);if(i>0)break}e.splice(r,0,t)}function WR(t){var e=I(I(I({},t.extendedProps),t.ui),t);return delete e.ui,delete e.extendedProps,e}function pW(t,e){return t.spec===e.spec&&t.value===e.value}var vpe=_t({deps:[ma],reducers:[zhe],isLoadingFuncs:[function(t){return t.resourceSource&&t.resourceSource.isFetching}],eventRefiners:Ghe,eventDefMemberAdders:[Khe],isDraggableTransformers:[She],eventDragMutationMassagers:[mhe],eventDefMutationAppliers:[vhe],dateSelectionTransformers:[Xhe],datePointTransforms:[Qhe],dateSpanTransforms:[Jhe],viewPropsTransformers:[yhe,xhe],isPropsValid:Zhe,externalDefTransforms:[npe],eventDropTransformers:[ghe],optionChangeHandlers:rpe,optionRefiners:spe,listenerRefiners:ape,propSetHandlers:{resourceStore:ope}}),mW=vpe;le();function vW(t){for(var e=t.depth,n=t.hasChildren,r=t.isExpanded,i=t.onExpanderClick,o=[],a=0;a<e;a+=1)o.push(x("span",{className:"fc-icon"}));var l=["fc-icon"];return n&&(r?l.push("fc-icon-minus-square"):l.push("fc-icon-plus-square")),o.push(x("span",{className:"fc-datagrid-expander"+(n?"":" fc-datagrid-expander-placeholder"),onClick:i},x("span",{className:l.join(" ")}))),x.apply(void 0,De([ge,{}],o))}function gpe(t){return{resource:new br(t.context,t.resource),fieldValue:t.fieldValue,view:t.context.viewApi}}var ype=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return x(Xl,{hookProps:n.hookProps,content:n.colSpec.cellContent,defaultContent:bpe},function(r,i){return x("span",{className:"fc-datagrid-cell-main",ref:r},i)})},e}(ee);function bpe(t){return t.fieldValue||x(ge,null,"\xA0")}var _pe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=ts(gpe),n.normalizeClassNames=$l(),n.onExpanderClick=function(r){var i=n.props;i.hasChildren&&n.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:i.resource.id,isExpanded:!i.isExpanded})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=i.colSpec,l=this.refineHookProps({resource:i.resource,fieldValue:i.fieldValue,context:o}),u=this.normalizeClassNames(a.cellClassNames,l);return x(ha,{hookProps:l,didMount:a.cellDidMount,willUnmount:a.cellWillUnmount},function(d){return x("td",{ref:d,"data-resource-id":i.resource.id,className:["fc-datagrid-cell","fc-resource"].concat(u).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:i.innerHeight}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},a.isMain&&x(vW,{depth:i.depth,hasChildren:i.hasChildren,isExpanded:i.isExpanded,onExpanderClick:n.onExpanderClick}),x(ype,{hookProps:l,colSpec:a}))))})},e}(ee),wpe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.colSpec,a={groupValue:r.fieldValue,view:i.viewApi};return x(Dt,{hookProps:a,classNames:o.cellClassNames,content:o.cellContent,defaultContent:Epe,didMount:o.cellDidMount,willUnmount:o.cellWillUnmount},function(l,u,d,f){return x("td",{className:["fc-datagrid-cell","fc-resource-group"].concat(u).join(" "),rowSpan:r.rowSpan,ref:l},x("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},x("div",{className:"fc-datagrid-cell-cushion fc-sticky",ref:d},f)))})},e}(ee);function Epe(t){return t.groupValue||x(ge,null,"\xA0")}var gW=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.resource,i=n.rowSpans,o=n.depth,a=WR(r);return x("tr",null,n.colSpecs.map(function(l,u){var d=i[u];if(d===0)return null;d==null&&(d=1);var f=l.field?a[l.field]:r.title||VR(r.id);return d>1?x(wpe,{key:u,colSpec:l,fieldValue:f,rowSpan:d}):x(_pe,{key:u,colSpec:l,resource:r,fieldValue:f,depth:o,hasChildren:n.hasChildren,isExpanded:n.isExpanded,innerHeight:n.innerHeight})}))},e}(ee);gW.addPropsEquality({rowSpans:gr});var yW=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerInnerRef=xe(),n.onExpanderClick=function(){var r=n.props;n.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:r.id,isExpanded:!r.isExpanded})},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a={groupValue:i.group.value,view:o.viewApi},l=i.group.spec;return x("tr",null,x(Dt,{hookProps:a,classNames:l.labelClassNames,content:l.labelContent,defaultContent:Spe,didMount:l.labelDidMount,willUnmount:l.labelWillUnmount},function(u,d,f,p){return x("td",{ref:u,colSpan:i.spreadsheetColCnt,className:["fc-datagrid-cell","fc-resource-group",o.theme.getClass("tableCellShaded")].concat(d).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:i.innerHeight}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:n.innerInnerRef},x(vW,{depth:0,hasChildren:!0,isExpanded:i.isExpanded,onExpanderClick:n.onExpanderClick}),x("span",{className:"fc-datagrid-cell-main",ref:f},p))))}))},e}(ee);yW.addPropsEquality({group:pW});function Spe(t){return t.groupValue||x(ge,null,"\xA0")}var xpe=20,Tpe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.resizerElRefs=new wt(n._handleColResizerEl.bind(n)),n.colDraggings={},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.colSpecs,o=r.superHeaderRendering,a=r.rowInnerHeights,l={view:this.context.viewApi},u=[];if(a=a.slice(),o){var d=a.shift();u.push(x("tr",{key:"row-super"},x(Dt,{hookProps:l,classNames:o.headerClassNames,content:o.headerContent,didMount:o.headerDidMount,willUnmount:o.headerWillUnmount},function(p,m,g,y){return x("th",{colSpan:i.length,ref:p,className:["fc-datagrid-cell","fc-datagrid-cell-super"].concat(m).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:d}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:g},y)))})))}var f=a.shift();return u.push(x("tr",{key:"row"},i.map(function(p,m){var g=m===i.length-1;return x(Dt,{key:m,hookProps:l,classNames:p.headerClassNames,content:p.headerContent,didMount:p.headerDidMount,willUnmount:p.headerWillUnmount},function(y,_,w,S){return x("th",{ref:y,className:["fc-datagrid-cell"].concat(_).join(" ")},x("div",{className:"fc-datagrid-cell-frame",style:{height:f}},x("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},p.isMain&&x("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},x("span",{className:"fc-icon"})),x("span",{className:"fc-datagrid-cell-main",ref:w},S)),!g&&x("div",{className:"fc-datagrid-cell-resizer",ref:n.resizerElRefs.createRef(m)})))})}))),x(ge,null,u)},e.prototype._handleColResizerEl=function(n,r){var i=this.colDraggings;if(n){var o=this.initColResizing(n,parseInt(r,10));o&&(i[r]=o)}else{var o=i[r];o&&(o.destroy(),delete i[r])}},e.prototype.initColResizing=function(n,r){var i=this.context,o=i.pluginHooks,a=i.isRtl,l=this.props.onColWidthChange,u=o.elementDraggingImpl;if(u){var d=new u(n),f,p;return d.emitter.on("dragstart",function(){var m=Jo(jt(n,"tr"),"th");p=m.map(function(g){return g.getBoundingClientRect().width}),f=p[r]}),d.emitter.on("dragmove",function(m){p[r]=Math.max(f+m.deltaX*(a?-1:1),xpe),l&&l(p.slice())}),d.setAutoScrollEnabled(!1),d}return null},e}(ee),Cpe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o={resource:new br(i,r.resource)};return x(Xl,{hookProps:o,content:i.options.resourceLaneContent},function(a,l){return l&&x("div",{className:"fc-timeline-lane-misc",ref:a},l)})},e}(ee),Ipe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=ts(Rpe),n.normalizeClassNames=$l(),n.handleHeightChange=function(r,i){n.props.onHeightChange&&n.props.onHeightChange(jt(r,"tr"),i)},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options,l=this.refineHookProps({resource:i.resource,context:o}),u=this.normalizeClassNames(a.resourceLaneClassNames,l);return x("tr",{ref:i.elRef},x(ha,{hookProps:l,didMount:a.resourceLaneDidMount,willUnmount:a.resourceLaneWillUnmount},function(d){return x("td",{ref:d,className:["fc-timeline-lane","fc-resource"].concat(u).join(" "),"data-resource-id":i.resource.id},x("div",{className:"fc-timeline-lane-frame",style:{height:i.innerHeight}},x(Cpe,{resource:i.resource}),x(Bb,{dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:i.nowDate,todayRange:i.todayRange,nextDayThreshold:i.nextDayThreshold,businessHours:i.businessHours,eventStore:i.eventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,timelineCoords:i.timelineCoords,onHeightChange:n.handleHeightChange,resourceId:i.resource.id})))}))},e}(ee);function Rpe(t){return{resource:new br(t.context,t.resource)}}var kpe=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=this.props,i=this.props.renderingHooks,o={groupValue:r.groupValue,view:this.context.viewApi};return x("tr",{ref:r.elRef},x(Dt,{hookProps:o,classNames:i.laneClassNames,content:i.laneContent,didMount:i.laneDidMount,willUnmount:i.laneWillUnmount},function(a,l,u,d){return x("td",{ref:a,className:["fc-timeline-lane","fc-resource-group",n.context.theme.getClass("tableCellShaded")].concat(l).join(" ")},x("div",{style:{height:r.innerHeight},ref:u},d))}))},e}(ee),Ape=function(t){P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.rowElRefs,a=r.innerHeights;return x("tbody",null,r.rowNodes.map(function(l,u){if(l.group)return x(kpe,{key:l.id,elRef:o.createRef(l.id),groupValue:l.group.value,renderingHooks:l.group.spec,innerHeight:a[u]||""});if(l.resource){var d=l.resource;return x(Ipe,I({key:l.id,elRef:o.createRef(l.id)},r.splitProps[d.id],{resource:d,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:i.options.nextDayThreshold,businessHours:d.businessHours||r.fallbackBusinessHours,innerHeight:a[u]||"",timelineCoords:r.slatCoords,onHeightChange:r.onRowHeightChange}))}return null}))},e}(ee),Dpe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=xe(),n.rowElRefs=new wt,n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return x("table",{ref:this.rootElRef,className:"fc-scrollgrid-sync-table "+i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},x(Ape,{rowElRefs:this.rowElRefs,rowNodes:r.rowNodes,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,splitProps:r.splitProps,fallbackBusinessHours:r.fallbackBusinessHours,slatCoords:r.slatCoords,innerHeights:r.innerHeights,onRowHeightChange:r.onRowHeightChange}))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.componentWillUnmount=function(){this.props.onRowCoords&&this.props.onRowCoords(null)},e.prototype.updateCoords=function(){var n=this.props;n.onRowCoords&&n.clientWidth!==null&&this.props.onRowCoords(new fi(this.rootElRef.current,Npe(this.rowElRefs.currentMap,n.rowNodes),!1,!0))},e}(ee);function Npe(t,e){return e.map(function(n){return t[n.id]})}var Ppe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.computeHasResourceBusinessHours=Q(Ope),n.resourceSplitter=new jR,n.bgSlicer=new MR,n.slatsRef=xe(),n.state={slatCoords:null},n.handleEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r}):n.context.unregisterInteractiveComponent(n)},n.handleSlatCoords=function(r){n.setState({slatCoords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n.handleRowCoords=function(r){n.rowCoords=r,n.props.onRowCoords&&n.props.onRowCoords(r)},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=i.dateProfile,u=i.tDateProfile,d=go(u.slotDuration).unit,f=this.computeHasResourceBusinessHours(i.rowNodes),p=this.resourceSplitter.splitProps(i),m=p[""],g=this.bgSlicer.sliceProps(m,l,u.isTimeScale?null:i.nextDayThreshold,a,l,a.dateProfileGenerator,u,a.dateEnv),y=o.slatCoords&&o.slatCoords.dateProfile===i.dateProfile?o.slatCoords:null;return x("div",{ref:this.handleEl,className:["fc-timeline-body",i.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:i.tableMinWidth}},x(Hr,{unit:d},function(_,w){return x(ge,null,x(PR,{ref:n.slatsRef,dateProfile:l,tDateProfile:u,nowDate:_,todayRange:w,clientWidth:i.clientWidth,tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,onCoords:n.handleSlatCoords,onScrollLeftRequest:i.onScrollLeftRequest}),x(OR,{businessHourSegs:f?null:g.businessHourSegs,bgEventSegs:g.bgEventSegs,timelineCoords:y,eventResizeSegs:g.eventResize?g.eventResize.segs:[],dateSelectionSegs:g.dateSelectionSegs,nowDate:_,todayRange:w}),x(Dpe,{rowNodes:i.rowNodes,dateProfile:l,tDateProfile:i.tDateProfile,nowDate:_,todayRange:w,splitProps:p,fallbackBusinessHours:f?i.businessHours:null,clientWidth:i.clientWidth,minHeight:i.expandRows?i.clientHeight:"",tableMinWidth:i.tableMinWidth,innerHeights:i.rowInnerHeights,slatCoords:y,onRowCoords:n.handleRowCoords,onRowHeightChange:i.onRowHeightChange}),a.options.nowIndicator&&y&&y.isDateInRange(_)&&x("div",{className:"fc-timeline-now-indicator-container"},x(rs,{isAxis:!1,date:_},function(S,C,R,A){return x("div",{ref:S,className:["fc-timeline-now-indicator-line"].concat(C).join(" "),style:{left:y.dateToCoord(_)}},A)})))}))},e.prototype.queryHit=function(n,r){var i=this.rowCoords,o=i.topToIndex(r);if(o!=null){var a=this.props.rowNodes[o].resource;if(a){var l=this.slatsRef.current.positionToHit(n);if(l)return{dateProfile:this.props.dateProfile,dateSpan:{range:l.dateSpan.range,allDay:l.dateSpan.allDay,resourceId:a.id},rect:{left:l.left,right:l.right,top:i.tops[o],bottom:i.bottoms[o]},dayEl:l.dayEl,layer:0}}}return null},e}(Nn);function Ope(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.resource;if(i&&i.businessHours)return!0}return!1}var bW=30,Mpe=function(t){P(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scrollGridRef=xe(),n.timeBodyScrollerElRef=xe(),n.spreadsheetHeaderChunkElRef=xe(),n.rootElRef=xe(),n.ensureScrollGridResizeId=0,n.state={resourceAreaWidthOverride:null},n.ensureScrollGridResize=function(){n.ensureScrollGridResizeId&&clearTimeout(n.ensureScrollGridResizeId),n.ensureScrollGridResizeId=setTimeout(function(){n.scrollGridRef.current.handleSizing(!1)},Pn.SCROLLGRID_RESIZE_INTERVAL+1)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=o.options,l=!r.forPrint&&_o(a),u=!r.forPrint&&pa(a),d=[{type:"header",key:"header",syncRowHeights:!0,isSticky:l,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:r.spreadsheetHeaderRows},{key:"divider",outerContent:x("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:r.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(a.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:r.spreadsheetBodyRows},{key:"divider",outerContent:x("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:r.timeBodyContent}]}];u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:bo},{key:"divider",outerContent:x("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:bo}]});var f=i.resourceAreaWidthOverride!=null?i.resourceAreaWidthOverride:a.resourceAreaWidth;return x(Ed,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:!1,colGroups:[{cols:r.spreadsheetCols,width:f},{cols:[]},{cols:r.timeCols}],sections:d})},e.prototype.forceTimeScroll=function(n){var r=this.scrollGridRef.current;r.forceScrollLeft(2,n)},e.prototype.forceResourceScroll=function(n){var r=this.scrollGridRef.current;r.forceScrollTop(1,n)},e.prototype.getResourceScroll=function(){var n=this.timeBodyScrollerElRef.current;return n.scrollTop},e.prototype.componentDidMount=function(){this.initSpreadsheetResizing()},e.prototype.componentWillUnmount=function(){this.destroySpreadsheetResizing()},e.prototype.initSpreadsheetResizing=function(){var n=this,r=this.context,i=r.isRtl,o=r.pluginHooks,a=o.elementDraggingImpl,l=this.spreadsheetHeaderChunkElRef.current;if(a){var u=this.rootElRef.current,d=this.spreadsheetResizerDragging=new a(u,".fc-resource-timeline-divider"),f,p;d.emitter.on("dragstart",function(){f=l.getBoundingClientRect().width,p=u.getBoundingClientRect().width}),d.emitter.on("dragmove",function(m){var g=f+m.deltaX*(i?-1:1);g=Math.max(g,bW),g=Math.min(g,p-bW),n.setState({resourceAreaWidthOverride:g},n.ensureScrollGridResize)}),d.setAutoScrollEnabled(!1)}},e.prototype.destroySpreadsheetResizing=function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()},e}(ee),_W=function(t){P(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.processColOptions=Q(Bpe),i.buildTimelineDateProfile=Q(AR),i.hasNesting=Q(Upe),i.buildRowNodes=Q(dW),i.layoutRef=xe(),i.rowNodes=[],i.renderedRowNodes=[],i.buildRowIndex=Q(Lpe),i.handleSlatCoords=function(o){i.setState({slatCoords:o})},i.handleRowCoords=function(o){i.rowCoords=o,i.scrollResponder.update(!1)},i.handleMaxCushionWidth=function(o){i.setState({slotCushionMaxWidth:Math.ceil(o)})},i.handleScrollLeftRequest=function(o){var a=i.layoutRef.current;a.forceTimeScroll(o)},i.handleScrollRequest=function(o){var a=i.rowCoords,l=i.layoutRef.current,u=o.rowId||o.resourceId;if(a){if(u){var d=i.buildRowIndex(i.renderedRowNodes),f=d[u];if(f!=null){var p=o.fromBottom!=null?a.bottoms[f]-o.fromBottom:a.tops[f];l.forceResourceScroll(p)}}return!0}return null},i.handleColWidthChange=function(o){i.setState({spreadsheetColWidths:o})},i.state={resourceAreaWidth:r.options.resourceAreaWidth,spreadsheetColWidths:[]},i}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,u=a.viewSpec,d=this.processColOptions(a.options),f=d.superHeaderRendering,p=d.groupSpecs,m=d.orderSpecs,g=d.isVGrouping,y=d.colSpecs,_=this.buildTimelineDateProfile(i.dateProfile,a.dateEnv,l,a.dateProfileGenerator),w=this.rowNodes=this.buildRowNodes(i.resourceStore,p,m,g,i.resourceEntityExpansions,l.resourcesInitiallyExpanded),S=["fc-resource-timeline",this.hasNesting(w)?"":"fc-resource-timeline-flat","fc-timeline",l.eventOverlap===!1?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],C=l.slotMinWidth,R=LR(_,C||this.computeFallbackSlotMinWidth(_));return x(Ui,{viewSpec:u},function(A,L){return x("div",{ref:A,className:S.concat(L).join(" ")},x(Mpe,{ref:n.layoutRef,forPrint:i.forPrint,isHeightAuto:i.isHeightAuto,spreadsheetCols:Fpe(y,o.spreadsheetColWidths,""),spreadsheetHeaderRows:function(M){return x(Tpe,{superHeaderRendering:f,colSpecs:y,onColWidthChange:n.handleColWidthChange,rowInnerHeights:M.rowSyncHeights})},spreadsheetBodyRows:function(M){return x(ge,null,n.renderSpreadsheetRows(w,y,M.rowSyncHeights))},timeCols:R,timeHeaderContent:function(M){return x(DR,{clientWidth:M.clientWidth,clientHeight:M.clientHeight,tableMinWidth:M.tableMinWidth,tableColGroupNode:M.tableColGroupNode,dateProfile:i.dateProfile,tDateProfile:_,slatCoords:o.slatCoords,rowInnerHeights:M.rowSyncHeights,onMaxCushionWidth:C?null:n.handleMaxCushionWidth})},timeBodyContent:function(M){return x(Ppe,{dateProfile:i.dateProfile,clientWidth:M.clientWidth,clientHeight:M.clientHeight,tableMinWidth:M.tableMinWidth,tableColGroupNode:M.tableColGroupNode,expandRows:M.expandRows,tDateProfile:_,rowNodes:w,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,resourceStore:i.resourceStore,nextDayThreshold:a.options.nextDayThreshold,rowInnerHeights:M.rowSyncHeights,onSlatCoords:n.handleSlatCoords,onRowCoords:n.handleRowCoords,onScrollLeftRequest:n.handleScrollLeftRequest,onRowHeightChange:M.reportRowHeightChange})}}))})},e.prototype.renderSpreadsheetRows=function(n,r,i){return n.map(function(o,a){return o.group?x(yW,{key:o.id,id:o.id,spreadsheetColCnt:r.length,isExpanded:o.isExpanded,group:o.group,innerHeight:i[a]||""}):o.resource?x(gW,{key:o.id,colSpecs:r,rowSpans:o.rowSpans,depth:o.depth,isExpanded:o.isExpanded,hasChildren:o.hasChildren,resource:o.resource,innerHeight:i[a]||""}):null})},e.prototype.componentDidMount=function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.getSnapshotBeforeUpdate=function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}},e.prototype.componentDidUpdate=function(n,r,i){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(n.dateProfile!==this.props.dateProfile),i.resourceScroll&&this.handleScrollRequest(i.resourceScroll)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.computeFallbackSlotMinWidth=function(n){return Math.max(30,(this.state.slotCushionMaxWidth||0)/n.slotsPerLabel)},e.prototype.queryResourceScroll=function(){var n=this,r=n.rowCoords,i=n.renderedRowNodes;if(r){for(var o=this.layoutRef.current,a=r.bottoms,l=o.getResourceScroll(),u={},d=0;d<a.length;d+=1){var f=i[d],p=a[d]-l;if(p>0){u.rowId=f.id,u.fromBottom=p;break}}return u}return null},e}(ee);_W.addStateEquality({spreadsheetColWidths:gr});function Lpe(t){for(var e={},n=0;n<t.length;n+=1)e[t[n].id]=n;return e}function Fpe(t,e,n){return n===void 0&&(n=""),t.map(function(r,i){return{className:r.isMain?"fc-main-col":"",width:e[i]||r.width||n}})}function Upe(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.group||r.resource&&r.hasChildren)return!0}return!1}function Bpe(t){var e=t.resourceAreaColumns||[],n=null;e.length?t.resourceAreaHeaderContent&&(n={headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent,headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount}):e.push({headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent||"Resources",headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount});for(var r=[],i=[],o=[],a=!1,l=0,u=e;l<u.length;l++){var d=u[l];d.group?i.push(I(I({},d),{cellClassNames:d.cellClassNames||t.resourceGroupLabelClassNames,cellContent:d.cellContent||t.resourceGroupLabelContent,cellDidMount:d.cellDidMount||t.resourceGroupLabelDidMount,cellWillUnmount:d.cellWillUnmount||t.resourceGroupLaneWillUnmount})):r.push(d)}var f=r[0];if(f.isMain=!0,f.cellClassNames=f.cellClassNames||t.resourceLabelClassNames,f.cellContent=f.cellContent||t.resourceLabelContent,f.cellDidMount=f.cellDidMount||t.resourceLabelDidMount,f.cellWillUnmount=f.cellWillUnmount||t.resourceLabelWillUnmount,i.length)o=i,a=!0;else{var p=t.resourceGroupField;p&&o.push({field:p,labelClassNames:t.resourceGroupLabelClassNames,labelContent:t.resourceGroupLabelContent,labelDidMount:t.resourceGroupLabelDidMount,labelWillUnmount:t.resourceGroupLabelWillUnmount,laneClassNames:t.resourceGroupLaneClassNames,laneContent:t.resourceGroupLaneContent,laneDidMount:t.resourceGroupLaneDidMount,laneWillUnmount:t.resourceGroupLaneWillUnmount})}for(var m=t.resourceOrder||lW,g=[],y=0,_=m;y<_.length;y++){for(var w=_[y],S=!1,C=0,R=o;C<R.length;C++){var A=R[C];if(A.field===w.field){A.order=w.order,S=!0;break}}S||g.push(w)}return{superHeaderRendering:n,isVGrouping:a,groupSpecs:o,colSpecs:i.concat(r),orderSpecs:g}}var Hpe=_t({deps:[ma,mW,rW],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:_W,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}}),wW=Hpe;var Vpe=[{group:!0,field:""},{field:"title",headerContent:"Status"}];var EW=Vpe;var SW=Tt`
  :host {
    height: 100%;
    width: 100%;
  }
  #calendar, #timeline {
    margin: 15px;
  }
  .fc-event .fc-event-main {
    position: relative;
    z-index: 2;
    min-height: 10px;
  }
`;var wp=class{constructor(){this.serverApi=null;this.identifierLabel="Inquiries";this.collectionKey="";this.id="";this.accessField=(e,n)=>{if(n!=="select")return{value:e,type:n}};this.accessibleFields=()=>({});this.init=(e,n)=>{console.log("Creating new "+this.identifierLabel),this.serverApi=e,console.log(e),console.log(this),this.id===""?this.serverApi.createDoc(this.collectionKey,this,r=>{this.id=r,n(r)}):n(this.id)};this.remove=()=>{if(this.id!==""){if(window.confirm("Are You Sure You Would Like to Remove "+this.identifierLabel+`? 
 This cannot be undone!`))return this.serverApi.removeDoc(this.collectionKey,this.id),!0}else throw new Error("Cannot remove "+this.identifierLabel+" as it has not been initialized yet.")}}mergeModel(e){if(e)for(let[n,r]of Object.entries(e))n!=="serverApi"&&(this[n]=r)}};var xd={lead:{resourceId:"lead",order:1,label:"Lead",color:"yellow",textColor:"black",borderColor:"black"},notInterested:{resourceId:"notInterested",order:2,label:"Not Interested",color:"red",textColor:"black",borderColor:"black"},proposalSent:{resourceId:"proposalSent",order:3,label:"Proposal Sent",color:"blue",textColor:"blue",borderColor:"black"},awaitingModeration:{resourceId:"awaitingModeration",order:4,label:"Avaiting Moderation",color:"purple",textColor:"blue",borderColor:"black"},hasScheduledShoot:{resourceId:"hasScheduledShoot",order:5,label:"Photo Shoot Scheduled",color:"purple",textColor:"white",borderColor:"black"},photographed:{resourceId:"photographed",order:6,label:"Photographed",color:"blue",textColor:"white",borderColor:"black"},inDevelopment:{resourceId:"booked",order:3,label:"Booked",color:"green",textColor:"white",borderColor:"black"}},zR=class extends wp{constructor(){super(...arguments);this.identifierLabel="Inquiries";this.collectionKey="inquiries";this.parentClientId="";this.id="";this.name="";this.email="";this.businessName="New Business";this.location="";this.status=xd.lead;this.dateReceived="";this.lastContact="";this.proposalDate="";this.source="";this.accessibleFields=()=>({businessName:this.accessField(this.businessName,"text"),location:this.accessField(this.location,"text"),spacer_1:this.accessField(null,null),source:this.accessField(this.source,"text"),spacer_2:this.accessField(null,null),dateReceived:this.accessField(this.dateReceived,"date"),lastContact:this.accessField(this.lastContact,"date"),proposalDate:this.accessField(this.proposalDate,"date")})}},GR=zR;var Ep=class{constructor(e,n,r,i,o){let a=l=>window.alert("!! Event  constructor "+l+" !!");if(e)return{id:e,title:n||a("needs a valid title"),start:r||a("needs a valid startDate"),end:i||a("needs a valid stop Date"),resourceId:xd[o].resourceId,color:xd[o].color,textColor:xd[o].textColor,borderColor:"black"}}};Ep.resources=()=>{let e=[];for(let[n,r]of Object.entries(xd))e.push({id:r.resourceId,title:r.label,eventColor:r.color,eventTextColor:r.textColor,eventBorderColor:r.borderColor?r.borderColor:"black",tOrder:r.order?r.order:""});return e};var wo=class extends ze{constructor(){super(...arguments);this.serverApi=null;this.inquiries=null;this.scrollToTime=null;this.events=null;this.calendar=null;this.timeline=null;this.handleDateSelect=e=>{console.log(e),this.timeline.gotoDate(e.startStr),e.view.calendar.unselect()};this.handleEventChange=e=>{if(e.oldEvent&&e.event){let n=e.event.id,r=e.oldEvent,i=e.event,o=r.startStr.split("T"),a=i.startStr.split("T"),l=r.endStr.split("T"),u=i.endStr.split("T");console.log([r,i,a]),a[0]!==o[0]&&this.serverApi.setFieldValue("inquiries",n,"eventDate",a[0]),a[1]!==o[1]&&this.serverApi.setFieldValue("inquiries",n,"startTime",a[0]),u[1]!==l[1]&&this.serverApi.setFieldValue("inquiries",n,"stopTime",a[0])}};this.generateCalendarEvents=()=>{console.log("attempting to load events"),console.log(this.inquiries);let e=[];if(this.inquiries){for(let n=0;n<this.inquiries.length;n++){let r=this.inquiries[n];if(r){let i=r.eventDate+"T"+r.startTime+":00",o=r.eventDate+"T"+r.stopTime+":00";e.push(new Ep(r.id,r.eventTitle,i,o,this.inquiries[n].eventStatus))}}e[0]?this.events=e:this.events=null}this.events&&this.events[0]};this.selectEvent=e=>{console.log(e),this.timeline.gotoDate(e.event.startStr),this.timeline.scrollToTime(e.event.startStr.split("T")[1]);let n=new CustomEvent("inquiry-selected",{detail:{data:e.event.id,message:"Event Selected"},bubbles:!0,composed:!0});this.dispatchEvent(n)};this.renderEventContent=e=>{function n(d){return d<10?d="0"+d:d>12&&(d=d-12),d}let r=e.event.start,i=e.event.end,o=n(r.getHours()),a=n(r.getMinutes()),l=o+":"+a,u="";if(i){let d=n(i.getHours()),f=n(i.getMinutes());u="-"+d+":"+f}return ce`<i className="cal-popup-disp-item">{eventInfo.event.title}</i>`};this.getCalendar=()=>{console.log("grabbing calendar"),this.calendar=new ER(this.renderRoot.querySelector("#calendar"),{initialView:"dayGridMonth",plugins:[R3,L3,q3],headerToolbar:{left:"title",center:"",right:"today prev next"},height:"64%",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:this.events,eventDisplay:"list",select:this.handleDateSelect,eventClick:this.selectEvent,eventChange:this.handleEventChange,eventContent:this.renderEventContent})};this.getTimeline=()=>{console.log("grabbing timeline"),this.timeline=new ER(this.renderRoot.querySelector("#timeline"),{plugins:[wW],schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",timeZone:"UTC",initialView:"resourceTimelineDay",headerToolbar:{left:"today prev,next",center:"title",right:"resourceTimelineDay,resourceTimelineWeek"},height:"34%",editable:!0,eventStartEditable:!0,selectable:!0,resourceOrder:"tOrder",resources:Ep.resources(),events:this.events,resourceAreaColumns:EW,eventClick:this.selectEvent})}}firstUpdated(){console.log("first update"),this.getCalendar(),this.getTimeline()}updated(){this.calendar?this.calendar.render():this.getCalendar(),this.timeline?this.timeline.render():this.getTimeline(),setTimeout(()=>{this.calendar&&this.calendar.updateSize(),this.timeline&&this.timeline.updateSize()},2e3)}shouldUpdate(e){return e.forEach((n,r)=>{console.log(`${r} changed. oldValue: ${n}`),r=="inquiries"&&(this.generateCalendarEvents(),this.getCalendar(),this.getTimeline(),setTimeout(()=>{console.log("attempting to rerender"),this.calendar.render(),this.timeline.render()},500))}),!0}render(){return this.generateCalendarEvents(),ce`
            <link href="https://www.unpkg.com/@fullcalendar/common@5.7.0/main.css" rel="stylesheet">
            <link href="https://www.unpkg.com/@fullcalendar/resource-timeline@5.7.0/main.css" rel="stylesheet">
            <div id="calendar"></div>
            <div id="timeline"></div>
        `}};wo.styles=SW,Z([pe()],wo.prototype,"serverApi",2),Z([pe({type:Array})],wo.prototype,"inquiries",2),Z([pe()],wo.prototype,"scrollToTime",2),Z([xr()],wo.prototype,"events",2),Z([xr()],wo.prototype,"calendar",2),Z([xr()],wo.prototype,"timeline",2),wo=Z([st("events-calendar")],wo);var KR=class extends wp{constructor(){super(...arguments);this.identifierLabel="Clients";this.collectionKey="clients";this.id="";this.name="New Client";this.email="";this.phone="";this.inquiries=[];this.accessibleFields=()=>({name:this.accessField(this.name,"text"),phone:this.accessField(this.phone,"tel"),email:this.accessField(this.email,"email")});this.linkInquiry=e=>{console.log("linking inquiry: "+e),this.inquiries.push(e),this.updateField("inquiries",this.inquiries)};this.removeInquiry=e=>{this.inquiries.splice(this.inquiries.indexOf(e,1)),this.updateField("inquiries",this.inquiries)};this.updateField=(e,n)=>{console.log("updating Field "+e),this.serverApi&&this.id!==""&&this.serverApi.setFieldValue(this.collectionKey,this.id,e,n)}}},YR=KR;var Eo=class extends ze{constructor(){super(...arguments);this.serverApi=null;this.clients=null;this.inquiries=null;this.targetClient=null;this.client=null;this.targetInquiry=null;this.inquiry=null;this.slowMode=!1;this.selectClient=e=>{this.targetClient=e};this.selectInquiry=e=>{this.targetInquiry=e};this.createNewClient=()=>{console.log("testing"),new YR().init(this.serverApi,e=>{this.targetClient=e})};this.createNewInquiry=()=>{new GR().init(this.serverApi,n=>{this.client.linkInquiry(n),this.targetInquiry=n})};this.getClient=()=>{if(this.clients){let e=new YR;console.log(e),console.log("merging");let n=this.targetClient?this.clients.filter(r=>r.id===this.targetClient)[0]:this.clients[0];return console.log(n),n&&e.mergeModel(n),e.init(this.serverApi),this.targetClient=e.id,this.client=e,this.client}else throw new Error("Clients have not been loaded yet.")};this.getInquiry=()=>{if(this.client&&this.inquiries){let e=new GR,n=this.targetInquiry?this.inquiries.filter(r=>r.id===this.targetInquiry)[0]:this.inquiries[0];return n&&e.mergeModel(n),e.init(this.serverApi),this.targetInquiry=e.id,this.inquiry=e,this.inquiry}else throw new Error("Inquiries have not been loaded yet.")};this.removeInquiry=()=>{this.client.removeInquiry(this.inquiry.id),this.inquiry.remove()};this.updateDB=e=>{let n=e.detail.data,r=n.collectionKey,i=n.docKey,o=n.value,a=n.fieldKey;console.log([r,i,a,o]),this.serverApi.setFieldValue(r,i,a,o)};this.updated=()=>{this.clients&&(!this.client||this.client.id!==this.targetClient)&&this.getClient(),this.clients&&this.inquiries&&(!this.inquiry||this.inquiry.id!==this.targetInquiry)&&this.getInquiry()}}render(){return this.clients&&this.inquiries&&this.client&&this.inquiry?ce`
        <mwc-drawer slot="content">
          <mwc-list activatable>
            <!-- Map all Clients as list items -->
            ${this.clients.map(e=>e.id===this.client.id?ce`
                  <!-- Client list item -->
                  <mwc-list-item graphic="avatar" twoline selected activated>
                    <span>${e.name}</span>
                    <span slot="secondary">${e.email}</span>
                    <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
                  </mwc-list-item>
                  
                  <!-- Map Client Inquiries list items -->
                  <mwc-list class="nested">
                    ${this.inquiries&&this.inquiries.length>0?e.inquiries.map(n=>{let r=this.inquiries.filter(i=>i.id===n)[0];return r.id===this.inquiry.id?ce`
                          <mwc-list-item class="inquiry-list-item" graphic="icon" selected activated>
                            ${r.businessName}
                            <mwc-icon slot="graphic" class="inverted">subdirectory_arrow_right</mwc-icon>
                          </mwc-list-item>
                        `:ce`
                          <mwc-list-item class="inquiry-list-item" graphic="icon" @click="${()=>{this.selectInquiry(r.id)}}">
                            ${r.businessName}
                            <mwc-icon slot="graphic" class="inverted">subdirectory_arrow_right</mwc-icon>
                          </mwc-list-item>
                        `}):this.requestUpdate()}
                  </mwc-list>
                  <!-- Spacer -->
                  <li divider role="separator"></li>
                    `:ce`
                  <mwc-list-item graphic="avatar" twoline @click="${()=>{this.selectClient(e.id)}}">
                    <span>${e.name}</span>
                    <span slot="secondary">${e.email}</span>
                    <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
                  </mwc-list-item>
                  <li divider role="separator"></li>
                `)}
          </mwc-list>
          <div slot="appContent" style="display:flex; height: 100%;">
            <mwc-icon-button id="add-client-button" title="Add Client" icon="note_add" @click="${this.createNewClient}"></mwc-icon-button>
                <content-item id="client-info">
                  <h1 class="title-bar indented">${this.client.name}</h1>

                  <hr class="rounded">

                  <!-- Main Client Info -->
                  <div id="client-header">
                    <div id="client-portrait">
                      <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/>
                    </div>
                    <div class="client-editable">
                      <form-wrapper
                        @value-changed="${this.updateDB}" 
                        .title="${"Info"}" 
                        .formObject="${this.client.accessibleFields()}"
                        .collectionKey="${this.client.collectionKey}"
                        .docKey="${this.client.id}"
                      >
                      </form-wrapper>
                      <div class="button-collection">
                        <div class="button-wrapper">
                          <mwc-button unelevated label="Delete Client" icon="delete_forever" @click="${this.client.remove}"></mwc-button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <hr class="rounded">

                  <!-- Inquiry Info -->
                  <div id="inquiry-info">
                    <!-- show form if inquiry selected -->
                    <form-wrapper
                      @value-changed="${this.updateDB}" 
                      .size="${20}" 
                      .title="${"Inquiry Info"}"
                      .formObject="${this.inquiry.accessibleFields()}"
                      .collectionKey="${this.inquiry.collectionKey}"
                      .docKey="${this.inquiry.id}"
                    >
                    </form-wrapper>
                    <div class="button-collection">
                      <div class="button-wrapper">
                        <mwc-button unelevated label="New Inquiry" icon="note_add" @click="${this.createNewInquiry}"></mwc-button>
                      </div>
                      <!-- provide delete button if inquiry is selected -->
                      <div class="button-wrapper">
                        <mwc-button unelevated label="Delete Inquiry" icon="delete_forever" @click="${this.inquiry.remove}"></mwc-button>
                      </div>
                    </div>
                  </div>


                  <hr class="rounded">
                  
                  <div id="coorespondence">
                    <form-wrapper 
                        .size="${20}" 
                        .title="${"Coorespondence"}"
                      >
                      </form-wrapper>
                  </div>
                </content-item>
              <content-item id="calendar">
<!--                 <events-calendar
                  .inquiries= "${this.inquiries}"
                >
                </events-calendar> -->
              </content-item>
          </div>
        </mwc-drawer>
      `:ce`Loading...`}};Eo.styles=Yj,Z([pe({type:Object})],Eo.prototype,"serverApi",2),Z([pe({type:Array})],Eo.prototype,"clients",2),Z([pe({type:Array})],Eo.prototype,"inquiries",2),Z([xr()],Eo.prototype,"targetClient",2),Z([xr()],Eo.prototype,"targetInquiry",2),Z([xr()],Eo.prototype,"slowMode",2),Eo=Z([st("clients-index")],Eo);var So=class extends ze{constructor(){super(...arguments);this.open=!0;this.selectedPage="clients-display";this.clients=null;this.inquiries=null;this.firstUpdated=()=>{this.subscribeToServer()};this.subscribeToServer=()=>{this.serverApi.subscribeToServer(),this.serverApi.socket.on("dbInquiries",(e,n)=>{console.log("recieving inquiries"),e.inquiries!==this.inquiries&&(this.inquiries=e.inquiries),e.inquiries?n({status:"recieved"}):n({status:"failed"})}),this.serverApi.socket.on("dbClients",(e,n)=>{console.log("recieving clients"),console.log(e),e.clients!==this.clients&&(this.clients=e.clients),console.log(this.clients),e.clients?n({status:"recieved"}):n({status:"failed"})})};this.createPage=(e,n,r)=>({label:e,target:n,active:n===this.selectedPage,render:r});this.pages=()=>[this.createPage("Clients","clients-display",ce`
      <clients-index slot="content" .serverApi="${this.serverApi}" .clients="${this.clients}" .inquiries="${this.inquiries}"></clients-index>
    `),this.createPage("Calendar","calendar-page",ce`
    `),this.createPage("Ongoing","out-for-sign-page",ce`
    `),this.createPage("Bookings","bookings-page",ce`
    `),this.createPage("My Account","business-home",ce`
    `)];this.openDrawer=()=>{this.open=!this.open}}render(){return ce`
      <page-display>
        <mwc-drawer id="main-content-wrapper" slot="content" type="dismissible" ?open="${this.open}">
          <mwc-list-item twoline graphic="large" noninteractive>
            <span>${this.user.displayName}</span>
            <span slot="secondary">${this.user.email}</span>
            <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
          </mwc-list-item>  
          <mwc-list activatable>
            ${this.pages().map(e=>this.selectedPage==e.target?ce`
                  <li divider role="separator"></li>
                  <mwc-list-item twoline @click="${()=>{this.selectedPage=e.target.toString(),this.openDrawer}}" selected activated>${e.label}
                  </mwc-list-item>
                `:ce`
                  <mwc-list-item twoline @click="${()=>{this.selectedPage=e.target.toString(),this.openDrawer}}">${e.label}</mwc-list-item>
                `)}
          </mwc-list>
          <div id="appContent" slot="appContent">
              <mwc-top-app-bar>
                <mwc-icon-button slot="navigationIcon" @click="${this.openDrawer}">
                  <svg viewBox="0 0 100 80" width="40" height="40"><rect width="100" height="20"></rect><rect y="30" width="100" height="20"></rect><rect y="60" width="100" height="20"></rect></svg>
                </mwc-icon-button>
                  <div slot="title">Easy Events for Business</div>
              </mwc-top-app-bar>
              ${this.pages().filter(e=>e.target===this.selectedPage)[0].render}
          </div>
        </mwc-drawer>
      </page-display>
    `}};So.styles=Tt`
    :host {
      --mdc-drawer-width: 200px;
    }
    #main-content-wrapper {
      position: fixed;
      bottom: 0;
      right:0;
    }
    #appContent {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
  `,Z([pe({type:Boolean})],So.prototype,"open",2),Z([pe({type:Object})],So.prototype,"serverApi",2),Z([pe({type:String})],So.prototype,"selectedPage",2),Z([pe({type:Object})],So.prototype,"user",2),Z([xr()],So.prototype,"clients",2),Z([xr()],So.prototype,"inquiries",2),So=Z([st("business-index")],So);var Td=class extends ze{render(){return this.isLoggedIn===!0?ce`
        <business-index
          .serverApi = "${this.serverApi}"
          .user="${this.user}"
        >
        </business-index>
      `:ce`
        <auth-index
          .serverApi = "${this.serverApi}"
        ></auth-index>
      `}};Z([pe({type:Boolean})],Td.prototype,"isLoggedIn",2),Z([pe({type:Object})],Td.prototype,"user",2),Z([pe({type:Object})],Td.prototype,"serverApi",2),Td=Z([st("page-router")],Td);var xW,va=class extends ze{constructor(){super(...arguments);this.loadedFirebase=null;this.serverApi=null;this.isLoggedIn=!1;this.userId=null;this.user=null;this.isDebug=!1;this.startServerApi=()=>{xW=(0,jh.default)();let e=NH(xW);this.loadedFirebase||e.getConfig(n=>{J.apps.length?this.loadedFirebase=J.app():this.loadedFirebase=J.initializeApp(n)}),this.serverApi=e};this.restartServerApi=()=>{this.serverApi&&(this.serverApi.socket.close(),this.serverApi=null),this.startServerApi()};this.testSessionAuth=()=>{this.serverApi?this.serverApi.getApiKey(e=>{let n=JSON.parse(window.sessionStorage.getItem(`firebase:authUser:${e}:[DEFAULT]`));n?(this.user=n,this.userId=n.uid,this.serverApi.setUserId(n.uid),this.isLoggedIn=!0):this.isLoggedIn=!1}):this.restartServerApi()};this.firstUpdated=()=>{this.testSessionAuth()};this.test=!1}render(){return ce`
      <page-router
        @login-change="${this.testSessionAuth}"
        ?isloggedin = "${this.isLoggedIn||this.isDebug}"
        .user = "${this.user}"
        .serverApi = "${this.serverApi}"
      ></page-router>
    `}};Z([pe()],va.prototype,"loadedFirebase",2),Z([pe()],va.prototype,"serverApi",2),Z([pe({type:Boolean})],va.prototype,"isLoggedIn",2),Z([pe()],va.prototype,"userId",2),Z([xr()],va.prototype,"user",2),va=Z([st("easy-events")],va);})();
/*!
FullCalendar Scheduler v5.7.0
Docs & License: https://fullcalendar.io/scheduler
(c) 2021 Adam Shaw
*/
/*!
FullCalendar v5.7.0
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2020 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2021 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
//# sourceMappingURL=easy-events.js.map
