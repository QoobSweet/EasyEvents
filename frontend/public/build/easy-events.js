(()=>{var CG=Object.create,Hd=Object.defineProperty;var ZD=Object.getOwnPropertyDescriptor;var IG=Object.getOwnPropertyNames;var AG=Object.getPrototypeOf,RG=Object.prototype.hasOwnProperty;var kG=t=>Hd(t,"__esModule",{value:!0});var em=(t,e)=>()=>(t&&(e=t(t=0)),e),Ie=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),nw=(t,e)=>{for(var n in e)Hd(t,n,{get:e[n],enumerable:!0})},DG=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of IG(e))!RG.call(t,r)&&r!=="default"&&Hd(t,r,{get:()=>e[r],enumerable:!(n=ZD(e,r))||n.enumerable});return t},Vr=t=>DG(kG(Hd(t!=null?CG(AG(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),J=(t,e,n,r)=>{for(var i=r>1?void 0:r?ZD(e,n):e,o=t.length-1,a;o>=0;o--)(a=t[o])&&(i=(r?a(e,n,i):a(i))||i);return r&&i&&Hd(e,n,i),i};var pw=Ie((Nfe,cm)=>{var RN,kN,DN,NN,ON,PN,MN,LN,FN,am,hw,UN,BN,VN,pc,HN,jN,qN,zN,WN,GN,KN,$N,lm;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(n(e,n(r)))}):typeof cm=="object"&&typeof cm.exports=="object"?t(n(e,n(cm.exports))):t(n(e));function n(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(o,a){return r[o]=i?i(o,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])};RN=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},kN=Object.assign||function(r){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=i[l])}return r},DN=function(r,i){var o={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)i.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(o[a[l]]=r[a[l]]);return o},NN=function(r,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,i,o,a);else for(var f=r.length-1;f>=0;f--)(d=r[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u},ON=function(r,i){return function(o,a){i(o,a,r)}},PN=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},MN=function(r,i,o,a){function l(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function f(g){try{v(a.next(g))}catch(b){d(b)}}function p(g){try{v(a.throw(g))}catch(b){d(b)}}function v(g){g.done?u(g.value):l(g.value).then(f,p)}v((a=a.apply(r,i||[])).next())})},LN=function(r,i){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,l,u,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(v){return function(g){return p([v,g])}}function p(v){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,l&&(u=v[0]&2?l.return:v[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,v[1])).done)return u;switch(l=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return o.label++,{value:v[1],done:!1};case 5:o.label++,l=v[1],v=[0];continue;case 7:v=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){o=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){o.label=v[1];break}if(v[0]===6&&o.label<u[1]){o.label=u[1],u=v;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(v);break}u[2]&&o.ops.pop(),o.trys.pop();continue}v=i.call(r,o)}catch(g){v=[6,g],l=0}finally{a=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},FN=function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&lm(i,r,o)},lm=Object.create?function(r,i,o,a){a===void 0&&(a=o),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]},am=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&r[i],a=0;if(o)return o.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},hw=function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var a=o.call(r),l,u=[],d;try{for(;(i===void 0||i-- >0)&&!(l=a.next()).done;)u.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(d)throw d.error}}return u},UN=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(hw(arguments[i]));return r},BN=function(){for(var r=0,i=0,o=arguments.length;i<o;i++)r+=arguments[i].length;for(var a=Array(r),l=0,i=0;i<o;i++)for(var u=arguments[i],d=0,f=u.length;d<f;d++,l++)a[l]=u[d];return a},VN=function(r,i){for(var o=0,a=i.length,l=r.length;o<a;o++,l++)r[l]=i[o];return r},pc=function(r){return this instanceof pc?(this.v=r,this):new pc(r)},HN=function(r,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(r,i||[]),l,u=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l;function d(_){a[_]&&(l[_]=function(E){return new Promise(function(x,T){u.push([_,E,x,T])>1||f(_,E)})})}function f(_,E){try{p(a[_](E))}catch(x){b(u[0][3],x)}}function p(_){_.value instanceof pc?Promise.resolve(_.value.v).then(v,g):b(u[0][2],_)}function v(_){f("next",_)}function g(_){f("throw",_)}function b(_,E){_(E),u.shift(),u.length&&f(u[0][0],u[0][1])}},jN=function(r){var i,o;return i={},a("next"),a("throw",function(l){throw l}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(l,u){i[l]=r[l]?function(d){return(o=!o)?{value:pc(r[l](d)),done:l==="return"}:u?u(d):d}:u}},qN=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],o;return i?i.call(r):(r=typeof am=="function"?am(r):r[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(u){o[u]=r[u]&&function(d){return new Promise(function(f,p){d=r[u](d),l(f,p,d.done,d.value)})}}function l(u,d,f,p){Promise.resolve(p).then(function(v){u({value:v,done:f})},d)}},zN=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var n=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};WN=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&lm(i,r,o);return n(i,r),i},GN=function(r){return r&&r.__esModule?r:{default:r}},KN=function(r,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(r):a?a.value:i.get(r)},$N=function(r,i,o,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!l:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(r,o):l?l.value=o:i.set(r,o),o},t("__extends",RN),t("__assign",kN),t("__rest",DN),t("__decorate",NN),t("__param",ON),t("__metadata",PN),t("__awaiter",MN),t("__generator",LN),t("__exportStar",FN),t("__createBinding",lm),t("__values",am),t("__read",hw),t("__spread",UN),t("__spreadArrays",BN),t("__spreadArray",VN),t("__await",pc),t("__asyncGenerator",HN),t("__asyncDelegator",jN),t("__asyncValues",qN),t("__makeTemplateObject",zN),t("__importStar",WN),t("__importDefault",GN),t("__classPrivateFieldGet",KN),t("__classPrivateFieldSet",$N)})});var YN,M,C,Ofe,k,Pfe,Mfe,N,D,Lfe,Ffe,ut,Dt,Ufe,wt,pe,Bfe,Vfe,Hfe,jfe,qfe,zfe,Wfe,Gfe,Kfe,re=em(()=>{YN=Vr(pw()),{__extends:M,__assign:C,__rest:Ofe,__decorate:k,__param:Pfe,__metadata:Mfe,__awaiter:N,__generator:D,__exportStar:Lfe,__createBinding:Ffe,__values:ut,__read:Dt,__spread:Ufe,__spreadArrays:wt,__spreadArray:pe,__await:Bfe,__asyncGenerator:Vfe,__asyncDelegator:Hfe,__asyncValues:jfe,__makeTemplateObject:qfe,__importStar:zfe,__importDefault:Wfe,__classPrivateFieldGet:Gfe,__classPrivateFieldSet:Kfe}=YN.default});var ZN={};nw(ZN,{CONSTANTS:()=>um,Deferred:()=>un,ErrorFactory:()=>Fn,FirebaseError:()=>mi,MAX_VALUE_MILLIS:()=>QN,RANDOM_FACTOR:()=>JN,Sha1:()=>Sw,areCookiesEnabled:()=>fm,assert:()=>W,assertionError:()=>rs,async:()=>$G,base64:()=>xa,base64Decode:()=>vw,base64Encode:()=>mw,calculateBackoffMillis:()=>wc,contains:()=>Sn,createMockUserToken:()=>Gd,createSubscribe:()=>Tw,decode:()=>$d,deepCopy:()=>Wd,deepExtend:()=>Sa,errorPrefix:()=>dn,extractQuerystring:()=>GG,getGlobal:()=>BG,getModularInstance:()=>me,getUA:()=>Eo,isAdmin:()=>Ew,isBrowser:()=>gw,isBrowserExtension:()=>vc,isElectron:()=>yw,isEmpty:()=>Yd,isIE:()=>bw,isIndexedDBAvailable:()=>gc,isMobileCordova:()=>mc,isNode:()=>dm,isNodeSdk:()=>Hr,isReactNative:()=>Kd,isSafari:()=>UG,isUWP:()=>_w,isValidFormat:()=>ww,isValidTimestamp:()=>qG,issuedAtTime:()=>zG,jsonEval:()=>Ta,map:()=>bc,ordinal:()=>ZG,querystring:()=>xw,querystringDecode:()=>WG,safeGet:()=>xo,stringLength:()=>_c,stringToByteArray:()=>Iw,stringify:()=>Nt,validateArgCount:()=>ue,validateCallback:()=>Ft,validateContextObject:()=>hm,validateIndexedDBOpenable:()=>yc,validateNamespace:()=>XG});function Wd(t){return Sa(void 0,t)}function Sa(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!FG(r)||(t[r]=Sa(t[r],e[r]));return t}function FG(t){return t!=="__proto__"}function Gd(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=C({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[xa.encodeString(JSON.stringify(n),!1),xa.encodeString(JSON.stringify(a),!1),l].join(".")}function Eo(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mc(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Eo())}function dm(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(t){return!1}}function gw(){return typeof self=="object"&&self.self===self}function vc(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yw(){return Eo().indexOf("Electron/")>=0}function bw(){var t=Eo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _w(){return Eo().indexOf("MSAppHost/")>=0}function Hr(){return um.NODE_CLIENT===!0||um.NODE_ADMIN===!0}function UG(){return!dm()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gc(){return"indexedDB"in self&&indexedDB!=null}function yc(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(o){e(o)}})}function fm(){return!(!navigator||!navigator.cookieEnabled)}function BG(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}function HG(t,e){return t.replace(jG,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}function Ta(t){return JSON.parse(t)}function Nt(t){return JSON.stringify(t)}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Yd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function xw(t){for(var e=[],n=function(u,d){Array.isArray(d)?d.forEach(function(f){e.push(encodeURIComponent(u)+"="+encodeURIComponent(f))}):e.push(encodeURIComponent(u)+"="+encodeURIComponent(d))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],l=o[1];n(a,l)}return e.length?"&"+e.join("&"):""}function WG(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(r){if(r){var i=r.split("="),o=i[0],a=i[1];e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function GG(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Tw(t,e){var n=new KG(t,e);return n.subscribe.bind(n)}function $G(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(i){e&&e(i)})}}function YG(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function Cw(){}function dn(t,e){return t+" failed: "+e+" argument "}function XG(t,e,n){if(!(n&&!e)&&typeof e!="string")throw new Error(dn(t,"namespace")+"must be a valid firebase namespace.")}function Ft(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(dn(t,e)+"must be a valid function.")}function hm(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(dn(t,e)+"must be a valid context object.")}function wc(t,e,n){e===void 0&&(e=QG),n===void 0&&(n=JG);var r=e*Math.pow(n,t),i=Math.round(JN*r*(Math.random()-.5)*2);return Math.min(QN,r+i)}function ZG(t){return Number.isFinite(t)?t+e6(t):""+t}function e6(t){t=Math.abs(t);var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return n===1?"st":n===2?"nd":n===3?"rd":"th"}function me(t){return t&&t._delegate?t._delegate:t}var um,W,rs,XN,LG,xa,mw,vw,un,VG,mi,Fn,jG,$d,qG,zG,ww,Ew,Sw,KG,ue,Iw,_c,QG,JG,QN,JN,or=em(()=>{re();um={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};W=function(t,e){if(!t)throw rs(e)},rs=function(t){return new Error("Firebase Database ("+um.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};XN=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)==55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LG=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},xa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4,v=(l&15)<<2|d>>6,g=d&63;u||(g=64,a||(v=64)),r.push(n[f],n[p],n[v],n[g])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XN(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,l=a?n[t.charAt(i)]:0;++i;var u=i<t.length,d=u?n[t.charAt(i)]:64;++i;var f=i<t.length,p=f?n[t.charAt(i)]:64;if(++i,o==null||l==null||d==null||p==null)throw Error();var v=o<<2|l>>4;if(r.push(v),d!==64){var g=l<<4&240|d>>2;if(r.push(g),p!==64){var b=d<<6&192|p;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mw=function(t){var e=XN(t);return xa.encodeByteArray(e,!0)},vw=function(t){try{return xa.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};un=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();VG="FirebaseError",mi=function(t){M(e,t);function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=VG,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Fn.prototype.create),o}return e}(Error),Fn=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+e,a=this.errors[e],l=a?HG(a,i):"Error",u=this.serviceName+": "+l+" ("+o+").",d=new mi(o,u,i);return d},t}();jG=/\{\$([^}]+)}/g;$d=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Ta(vw(o[0])||""),n=Ta(vw(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},qG=function(t){var e=$d(t).claims,n=Math.floor(new Date().getTime()/1e3),r=0,i=0;return typeof e=="object"&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),e.hasOwnProperty("exp")?i=e.exp:i=r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},zG=function(t){var e=$d(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},ww=function(t){var e=$d(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ew=function(t){var e=$d(t).claims;return typeof e=="object"&&e.admin===!0};Sw=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(o<<1|o>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,v,i=0;i<80;i++){i<40?i<20?(p=d^l&(u^d),v=1518500249):(p=l^u^d,v=1859775393):i<60?(p=l&u|d&(l|u),v=2400959708):(p=l^u^d,v=3395469782);var o=(a<<5|a>>>27)+p+f+v+r[i]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,o=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e},t}();KG=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YG(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Cw),o.error===void 0&&(o.error=Cw),o.complete===void 0&&(o.complete=Cw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch(l){}}),this.observers.push(o),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();ue=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};Iw=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,W(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_c=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};QG=1e3,JG=2,QN=4*60*60*1e3,JN=.5;});var eO={};nw(eO,{Component:()=>it,ComponentContainer:()=>Xd,Provider:()=>pm});function t6(t){return t===is?void 0:t}function n6(t){return t.instantiationMode==="EAGER"}var it,is,pm,Xd,jr=em(()=>{re();or();it=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();is="[DEFAULT]";pm=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(e){e===void 0&&(e=is);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new un;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(o){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=C({identifier:is,optional:!1},e),r=n.identifier,i=n.optional,o=this.normalizeInstanceIdentifier(r);if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(n6(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch(p){}try{for(var i=ut(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Dt(o.value,2),l=a[0],u=a[1],d=this.normalizeInstanceIdentifier(l);try{var f=this.getOrInitializeService({instanceIdentifier:d});u.resolve(f)}catch(p){}}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=is),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(pe(pe([],Dt(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Dt(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=is),this.instances.has(e)},t.prototype.initialize=function(e){var n,r;e===void 0&&(e={});var i=e.instanceIdentifier,o=i===void 0?is:i,a=e.options,l=a===void 0?{}:a,u=this.normalizeInstanceIdentifier(o);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var d=this.getOrInitializeService({instanceIdentifier:u,options:l});try{for(var f=ut(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var v=Dt(p.value,2),g=v[0],b=v[1],_=this.normalizeInstanceIdentifier(g);u===_&&b.resolve(d)}}catch(E){n={error:E}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(d,u),d},t.prototype.onInit=function(e){var n=this;return this.onInitCallbacks.add(e),function(){n.onInitCallbacks.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i;try{for(var o=ut(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,n)}catch(u){}}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:t6(n),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:is:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();Xd=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new pm(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()});var zi=Ie(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});function vi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}var Ca,Aw=[];(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He.LogLevel||(He.LogLevel={}));var tO={debug:He.LogLevel.DEBUG,verbose:He.LogLevel.VERBOSE,info:He.LogLevel.INFO,warn:He.LogLevel.WARN,error:He.LogLevel.ERROR,silent:He.LogLevel.SILENT},r6=He.LogLevel.INFO,i6=(Ca={},Ca[He.LogLevel.DEBUG]="log",Ca[He.LogLevel.VERBOSE]="log",Ca[He.LogLevel.INFO]="info",Ca[He.LogLevel.WARN]="warn",Ca[He.LogLevel.ERROR]="error",Ca),o6=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=i6[e];if(o)console[o].apply(console,vi(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},s6=function(){function t(e){this.name=e,this._logLevel=r6,this._logHandler=o6,this._userLogHandler=null,Aw.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in He.LogLevel))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?tO[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,He.LogLevel.DEBUG],e)),this._logHandler.apply(this,vi([this,He.LogLevel.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,He.LogLevel.VERBOSE],e)),this._logHandler.apply(this,vi([this,He.LogLevel.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,He.LogLevel.INFO],e)),this._logHandler.apply(this,vi([this,He.LogLevel.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,He.LogLevel.WARN],e)),this._logHandler.apply(this,vi([this,He.LogLevel.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,He.LogLevel.ERROR],e)),this._logHandler.apply(this,vi([this,He.LogLevel.ERROR],e))},t}();function a6(t){Aw.forEach(function(e){e.setLogLevel(t)})}function l6(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=tO[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(u,d){for(var f=[],p=2;p<arguments.length;p++)f[p-2]=arguments[p];var v=f.map(function(g){if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch(b){return null}}).filter(function(g){return g}).join(" ");d>=(l??u.logLevel)&&t({level:He.LogLevel[d].toLowerCase(),message:v,args:f,type:u.name})}},r=0,i=Aw;r<i.length;r++){var o=i[r];n(o)}}He.Logger=s6;He.setLogLevel=a6;He.setUserLogHandler=l6});var iO={};nw(iO,{default:()=>Q,firebase:()=>Dw});function T6(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:o,registerVersion:d,setLogLevel:Ec.setLogLevel,onLog:f,apps:null,SDK_VERSION:S6,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:p}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(v){delete e[v]}function o(v){if(v=v||mm,!Sn(e,v))throw xc.create("no-app",{appName:v});return e[v]}o.App=t;function a(v,g){if(g===void 0&&(g={}),typeof g!="object"||g===null){var b=g;g={name:b}}var _=g;_.name===void 0&&(_.name=mm);var E=_.name;if(typeof E!="string"||!E)throw xc.create("bad-app-name",{appName:String(E)});if(Sn(e,E))throw xc.create("duplicate-app",{appName:E});var x=new t(v,_,r);return e[E]=x,x}function l(){return Object.keys(e).map(function(v){return e[v]})}function u(v){var g=v.name;if(n.has(g))return Sc.debug("There were multiple attempts to register component "+g+"."),v.type==="PUBLIC"?r[g]:null;if(n.set(g,v),v.type==="PUBLIC"){var b=function(T){if(T===void 0&&(T=o()),typeof T[g]!="function")throw xc.create("invalid-app-argument",{appName:g});return T[g]()};v.serviceProps!==void 0&&Sa(b,v.serviceProps),r[g]=b,t.prototype[g]=function(){for(var T=[],R=0;R<arguments.length;R++)T[R]=arguments[R];var P=this._getService.bind(this,g);return P.apply(this,v.multipleInstances?T:[])}}for(var _=0,E=Object.keys(e);_<E.length;_++){var x=E[_];e[x]._addComponent(v)}return v.type==="PUBLIC"?r[g]:null}function d(v,g,b){var _,E=(_=x6[v])!==null&&_!==void 0?_:v;b&&(E+="-"+b);var x=E.match(/\s|\//),T=g.match(/\s|\//);if(x||T){var R=['Unable to register library "'+E+'" with version "'+g+'":'];x&&R.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),x&&T&&R.push("and"),T&&R.push('version name "'+g+'" contains illegal characters (whitespace or "/")'),Sc.warn(R.join(" "));return}u(new it(E+"-version",function(){return{library:E,version:g}},"VERSION"))}function f(v,g){if(v!==null&&typeof v!="function")throw xc.create("invalid-log-argument");(0,Ec.setUserLogHandler)(v,g)}function p(v,g){if(g==="serverAuth")return null;var b=g;return b}return r}function rO(){var t=T6(vm);t.INTERNAL=C(C({},t.INTERNAL),{createFirebaseNamespace:rO,extendNamespace:e,createSubscribe:Tw,ErrorFactory:Fn,deepExtend:Sa});function e(n){Sa(t,n)}return t}function I6(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}function A6(t,e){t.INTERNAL.registerComponent(new it("platform-logger",function(n){return new C6(n)},"PRIVATE")),t.registerVersion(nO,u6,e),t.registerVersion("fire-js","")}var Ec,os,c6,xc,nO,u6,d6,f6,h6,p6,m6,v6,g6,y6,b6,_6,w6,E6,Tn,mm,x6,Sc,vm,S6,Rw,C6,kw,R6,Dw,Q,sr=em(()=>{re();or();jr();Ec=Vr(zi());c6=(os={},os["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",os["bad-app-name"]="Illegal App name: '{$appName}",os["duplicate-app"]="Firebase App named '{$appName}' already exists",os["app-deleted"]="Firebase App named '{$appName}' already deleted",os["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",os["invalid-log-argument"]="First argument to `onLog` must be null or a function.",os),xc=new Fn("app","Firebase",c6),nO="@firebase/app",u6="0.6.22",d6="@firebase/analytics",f6="@firebase/app-check",h6="@firebase/auth",p6="@firebase/database",m6="@firebase/functions",v6="@firebase/installations",g6="@firebase/messaging",y6="@firebase/performance",b6="@firebase/remote-config",_6="@firebase/storage",w6="@firebase/firestore",E6="firebase-wrapper";mm="[DEFAULT]",x6=(Tn={},Tn[nO]="fire-core",Tn[d6]="fire-analytics",Tn[f6]="fire-app-check",Tn[h6]="fire-auth",Tn[p6]="fire-rtdb",Tn[m6]="fire-fn",Tn[v6]="fire-iid",Tn[g6]="fire-fcm",Tn[y6]="fire-perf",Tn[b6]="fire-rc",Tn[_6]="fire-gcs",Tn[w6]="fire-fst",Tn["fire-js"]="fire-js",Tn[E6]="fire-js-all",Tn);Sc=new Ec.Logger("@firebase/app");vm=function(){function t(e,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=Wd(e),this.container=new Xd(n.name),this._addComponent(new it("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var r;n===void 0&&(n=mm),this.checkDestroyed_();var i=this.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=mm),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Sc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw xc.create("app-deleted",{appName:this.name_})},t}();vm.prototype.name&&vm.prototype.options||vm.prototype.delete||console.log("dc");S6="8.6.1";Rw=rO();C6=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(I6(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();gw()&&self.firebase!==void 0&&(Sc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),kw=self.firebase.SDK_VERSION,kw&&kw.indexOf("LITE")>=0&&Sc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));R6=Rw.initializeApp;Rw.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dm()&&Sc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),R6.apply(void 0,t)};Dw=Rw;A6(Dw);Q=Dw});var qS=Ie((lg,H2)=>{(function(t,e){typeof lg=="object"&&typeof H2!="undefined"?e(lg):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.idb={}))})(lg,function(t){"use strict";function e(x){return Array.prototype.slice.call(x)}function n(x){return new Promise(function(T,R){x.onsuccess=function(){T(x.result)},x.onerror=function(){R(x.error)}})}function r(x,T,R){var P,L=new Promise(function(F,G){P=x[T].apply(x,R),n(P).then(F,G)});return L.request=P,L}function i(x,T,R){var P=r(x,T,R);return P.then(function(L){if(!!L)return new f(L,P.request)})}function o(x,T,R){R.forEach(function(P){Object.defineProperty(x.prototype,P,{get:function(){return this[T][P]},set:function(L){this[T][P]=L}})})}function a(x,T,R,P){P.forEach(function(L){L in R.prototype&&(x.prototype[L]=function(){return r(this[T],L,arguments)})})}function l(x,T,R,P){P.forEach(function(L){L in R.prototype&&(x.prototype[L]=function(){return this[T][L].apply(this[T],arguments)})})}function u(x,T,R,P){P.forEach(function(L){L in R.prototype&&(x.prototype[L]=function(){return i(this[T],L,arguments)})})}function d(x){this._index=x}o(d,"_index",["name","keyPath","multiEntry","unique"]),a(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(d,"_index",IDBIndex,["openCursor","openKeyCursor"]);function f(x,T){this._cursor=x,this._request=T}o(f,"_cursor",["direction","key","primaryKey","value"]),a(f,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(x){x in IDBCursor.prototype&&(f.prototype[x]=function(){var T=this,R=arguments;return Promise.resolve().then(function(){return T._cursor[x].apply(T._cursor,R),n(T._request).then(function(P){if(!!P)return new f(P,T._request)})})})});function p(x){this._store=x}p.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},o(p,"_store",["name","keyPath","indexNames","autoIncrement"]),a(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(p,"_store",IDBObjectStore,["deleteIndex"]);function v(x){this._tx=x,this.complete=new Promise(function(T,R){x.oncomplete=function(){T()},x.onerror=function(){R(x.error)},x.onabort=function(){R(x.error)}})}v.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},o(v,"_tx",["objectStoreNames","mode"]),l(v,"_tx",IDBTransaction,["abort"]);function g(x,T,R){this._db=x,this.oldVersion=T,this.transaction=new v(R)}g.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},o(g,"_db",["name","version","objectStoreNames"]),l(g,"_db",IDBDatabase,["deleteObjectStore","close"]);function b(x){this._db=x}b.prototype.transaction=function(){return new v(this._db.transaction.apply(this._db,arguments))},o(b,"_db",["name","version","objectStoreNames"]),l(b,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(x){[p,d].forEach(function(T){x in T.prototype&&(T.prototype[x.replace("open","iterate")]=function(){var R=e(arguments),P=R[R.length-1],L=this._store||this._index,F=L[x].apply(L,R.slice(0,-1));F.onsuccess=function(){P(F.result)}})})}),[d,p].forEach(function(x){x.prototype.getAll||(x.prototype.getAll=function(T,R){var P=this,L=[];return new Promise(function(F){P.iterateCursor(T,function(G){if(!G){F(L);return}if(L.push(G.value),R!==void 0&&L.length==R){F(L);return}G.continue()})})})});function _(x,T,R){var P=r(indexedDB,"open",[x,T]),L=P.request;return L&&(L.onupgradeneeded=function(F){R&&R(new g(L.result,F.oldVersion,L.transaction))}),P.then(function(F){return new b(F)})}function E(x){return r(indexedDB,"deleteDatabase",[x])}t.openDb=_,t.deleteDb=E,Object.defineProperty(t,"__esModule",{value:!0})})});var PT=Ie((Spe,jB)=>{var Vre=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hre=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];jB.exports=function(e){var n=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=Vre.exec(e||""),a={},l=14;l--;)a[Hre[l]]=o[l]||"";return r!=-1&&i!=-1&&(a.source=n,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=jre(a,a.path),a.queryKey=qre(a,a.query),a};function jre(t,e){var n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function qre(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}});var zB=Ie((Tpe,qB)=>{var Tu=1e3,Cu=Tu*60,Iu=Cu*60,dl=Iu*24,zre=dl*7,Wre=dl*365.25;qB.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Gre(t);if(n==="number"&&isFinite(t))return e.long?$re(t):Kre(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Gre(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Wre;case"weeks":case"week":case"w":return n*zre;case"days":case"day":case"d":return n*dl;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Iu;case"minutes":case"minute":case"mins":case"min":case"m":return n*Cu;case"seconds":case"second":case"secs":case"sec":case"s":return n*Tu;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Kre(t){var e=Math.abs(t);return e>=dl?Math.round(t/dl)+"d":e>=Iu?Math.round(t/Iu)+"h":e>=Cu?Math.round(t/Cu)+"m":e>=Tu?Math.round(t/Tu)+"s":t+"ms"}function $re(t){var e=Math.abs(t);return e>=dl?Ng(t,e,dl,"day"):e>=Iu?Ng(t,e,Iu,"hour"):e>=Cu?Ng(t,e,Cu,"minute"):e>=Tu?Ng(t,e,Tu,"second"):t+" ms"}function Ng(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var GB=Ie((Cpe,WB)=>{function Yre(t){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=a,n.humanize=zB(),n.destroy=d,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let p=0;for(let v=0;v<f.length;v++)p=(p<<5)-p+f.charCodeAt(v),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=e;function n(f){let p,v=null;function g(...b){if(!g.enabled)return;let _=g,E=Number(new Date),x=E-(p||E);_.diff=x,_.prev=p,_.curr=E,p=E,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let T=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(P,L)=>{if(P==="%%")return"%";T++;let F=n.formatters[L];if(typeof F=="function"){let G=b[T];P=F.call(_,G),b.splice(T,1),T--}return P}),n.formatArgs.call(_,b),(_.log||n.log).apply(_,b)}return g.namespace=f,g.useColors=n.useColors(),g.color=n.selectColor(f),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>v===null?n.enabled(f):v,set:b=>{v=b}}),typeof n.init=="function"&&n.init(g),g}function r(f,p){let v=n(this.namespace+(typeof p=="undefined"?":":p)+f);return v.log=this.log,v}function i(f){n.save(f),n.names=[],n.skips=[];let p,v=(typeof f=="string"?f:"").split(/[\s,]+/),g=v.length;for(p=0;p<g;p++)!v[p]||(f=v[p].replace(/\*/g,".*?"),f[0]==="-"?n.skips.push(new RegExp("^"+f.substr(1)+"$")):n.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...n.names.map(l),...n.skips.map(l).map(p=>"-"+p)].join(",");return n.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let p,v;for(p=0,v=n.skips.length;p<v;p++)if(n.skips[p].test(f))return!1;for(p=0,v=n.names.length;p<v;p++)if(n.names[p].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}WB.exports=Yre});var Ci=Ie((kr,Og)=>{kr.formatArgs=Qre;kr.save=Jre;kr.load=Zre;kr.useColors=Xre;kr.storage=eie();kr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();kr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xre(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qre(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Og.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}kr.log=console.debug||console.log||(()=>{});function Jre(t){try{t?kr.storage.setItem("debug",t):kr.storage.removeItem("debug")}catch(e){}}function Zre(){let t;try{t=kr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function eie(){try{return localStorage}catch(t){}}Og.exports=GB()(kr);var{formatters:tie}=Og.exports;tie.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var $B=Ie(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.url=void 0;var nie=PT(),KB=Ci()("socket.io-client:url");function rie(t,e="",n){let r=t;n=n||typeof location!="undefined"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(KB("protocol-less url %s",t),typeof n!="undefined"?t=n.protocol+"//"+t:t="https://"+t),KB("parse %s",t),r=nie(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}Pg.url=rie});var YB=Ie((Ape,MT)=>{try{MT.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){MT.exports=!1}});var yh=Ie((Rpe,XB)=>{XB.exports=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())()});var LT=Ie((kpe,QB)=>{var iie=YB(),oie=yh();QB.exports=function(t){let e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||iie))return new XMLHttpRequest}catch(i){}try{if(typeof XDomainRequest!="undefined"&&!n&&r)return new XDomainRequest}catch(i){}if(!e)try{return new oie[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(i){}}});var FT=Ie((Dpe,ZB)=>{var io=Object.create(null);io.open="0";io.close="1";io.ping="2";io.pong="3";io.message="4";io.upgrade="5";io.noop="6";var JB=Object.create(null);Object.keys(io).forEach(t=>{JB[io[t]]=t});var sie={type:"error",data:"parser error"};ZB.exports={PACKET_TYPES:io,PACKET_TYPES_REVERSE:JB,ERROR_PACKET:sie}});var nV=Ie((Npe,tV)=>{var{PACKET_TYPES:aie}=FT(),lie=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",cie=typeof ArrayBuffer=="function",uie=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,die=({type:t,data:e},n,r)=>lie&&e instanceof Blob?n?r(e):eV(e,r):cie&&(e instanceof ArrayBuffer||uie(e))?n?r(e instanceof ArrayBuffer?e:e.buffer):eV(new Blob([e]),r):r(aie[t]+(e||"")),eV=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+r)},n.readAsDataURL(t)};tV.exports=die});var rV=Ie(UT=>{(function(t){"use strict";UT.encode=function(e){var n=new Uint8Array(e),r,i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(n[r]&3)<<4|n[r+1]>>4],o+=t[(n[r+1]&15)<<2|n[r+2]>>6],o+=t[n[r+2]&63];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},UT.decode=function(e){var n=e.length*.75,r=e.length,i,o=0,a,l,u,d;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var f=new ArrayBuffer(n),p=new Uint8Array(f);for(i=0;i<r;i+=4)a=t.indexOf(e[i]),l=t.indexOf(e[i+1]),u=t.indexOf(e[i+2]),d=t.indexOf(e[i+3]),p[o++]=a<<2|l>>4,p[o++]=(l&15)<<4|u>>2,p[o++]=(u&3)<<6|d&63;return f}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")});var sV=Ie((Ppe,oV)=>{var{PACKET_TYPES_REVERSE:BT,ERROR_PACKET:fie}=FT(),hie=typeof ArrayBuffer=="function",VT;hie&&(VT=rV());var pie=(t,e)=>{if(typeof t!="string")return{type:"message",data:iV(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:mie(t.substring(1),e)}:BT[n]?t.length>1?{type:BT[n],data:t.substring(1)}:{type:BT[n]}:fie},mie=(t,e)=>{if(VT){let n=VT.decode(t);return iV(n,e)}else return{base64:!0,data:t}},iV=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};oV.exports=pie});var Au=Ie((Mpe,uV)=>{var aV=nV(),lV=sV(),cV=String.fromCharCode(30),vie=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((o,a)=>{aV(o,!1,l=>{r[a]=l,++i===n&&e(r.join(cV))})})},gie=(t,e)=>{let n=t.split(cV),r=[];for(let i=0;i<n.length;i++){let o=lV(n[i],e);if(r.push(o),o.type==="error")break}return r};uV.exports={protocol:4,encodePacket:aV,encodePayload:vie,decodePacket:lV,decodePayload:gie}});var Ru=Ie((Lpe,HT)=>{typeof HT!="undefined"&&(HT.exports=Dr);function Dr(t){if(t)return yie(t)}function yie(t){for(var e in Dr.prototype)t[e]=Dr.prototype[e];return t}Dr.prototype.on=Dr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Dr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Dr.prototype.off=Dr.prototype.removeListener=Dr.prototype.removeAllListeners=Dr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Dr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Dr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Dr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Mg=Ie((Fpe,fV)=>{var bie=Au(),_ie=Ru(),wie=Ci()("engine.io-client:transport"),dV=class extends _ie{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n){let r=new Error(e);return r.type="TransportError",r.description=n,this.emit("error",r),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):wie("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let n=bie.decodePacket(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}};fV.exports=dV});var Lg=Ie(jT=>{jT.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e};jT.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}});var WT=Ie((Bpe,gV)=>{"use strict";var hV="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Fg=64,pV={},mV=0,Fs=0,vV;function qT(t){var e="";do e=hV[t%Fg]+e,t=Math.floor(t/Fg);while(t>0);return e}function Eie(t){var e=0;for(Fs=0;Fs<t.length;Fs++)e=e*Fg+pV[t.charAt(Fs)];return e}function zT(){var t=qT(+new Date);return t!==vV?(mV=0,vV=t):t+"."+qT(mV++)}for(;Fs<Fg;Fs++)pV[hV[Fs]]=Fs;zT.encode=qT;zT.decode=Eie;gV.exports=zT});var GT=Ie((Vpe,_V)=>{var xie=Mg(),Sie=Lg(),yV=Au(),Tie=WT(),Ii=Ci()("engine.io-client:polling"),bV=class extends xie{get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let n=()=>{Ii("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(Ii("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Ii("pre-pause polling complete"),--r||n()})),this.writable||(Ii("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Ii("pre-pause writing complete"),--r||n()}))}else n()}poll(){Ii("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){Ii("polling got data %s",e);let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose(),!1;this.onPacket(r)};yV.decodePayload(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Ii('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{Ii("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(Ii("transport open - closing"),e()):(Ii("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,yV.encodePayload(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},n=this.opts.secure?"https":"http",r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Tie()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=Sie.encode(e),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+e}};_V.exports=bV});var KT=Ie((Hpe,wV)=>{wV.exports.pick=(t,...e)=>e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})});var CV=Ie((jpe,YT)=>{var EV=LT(),Cie=GT(),Iie=Ru(),{pick:Aie}=KT(),Rie=yh(),$T=Ci()("engine.io-client:polling-xhr");function xV(){}var kie=function(){return new EV({xdomain:!1}).responseType!=null}(),SV=class extends Cie{constructor(e){super(e);if(typeof location!="undefined"){let r=location.protocol==="https:",i=location.port;i||(i=r?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}let n=e&&e.forceBase64;this.supportsBinary=kie&&!n}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ei(this.uri(),e)}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",i=>{this.onError("xhr post error",i)})}doPoll(){$T("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",n=>{this.onError("xhr poll error",n)}),this.pollXhr=e}},ei=class extends Iie{constructor(e,n){super();this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){let e=Aie(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let n=this.xhr=new EV(e);try{$T("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch(r){}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),this.hasXDR()?(n.onload=()=>{this.onLoad()},n.onerror=()=>{this.onError(n.responseText)}):n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():setTimeout(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},$T("xhr data %s",this.data),n.send(this.data)}catch(r){setTimeout(()=>{this.onError(r)},0);return}typeof document!="undefined"&&(this.index=ei.requestsCount++,ei.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=xV:this.xhr.onreadystatechange=xV,e)try{this.xhr.abort()}catch(n){}typeof document!="undefined"&&delete ei.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};ei.requestsCount=0;ei.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",TV);else if(typeof addEventListener=="function"){let t="onpagehide"in Rie?"pagehide":"unload";addEventListener(t,TV,!1)}}function TV(){for(let t in ei.requests)ei.requests.hasOwnProperty(t)&&ei.requests[t].abort()}YT.exports=SV;YT.exports.Request=ei});var kV=Ie((qpe,RV)=>{var Die=GT(),IV=yh(),Nie=/\n/g,Oie=/\\n/g,Ug,AV=class extends Die{constructor(e){super(e);this.query=this.query||{},Ug||(Ug=IV.___eio=IV.___eio||[]),this.index=Ug.length,Ug.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=i=>{this.onError("jsonp poll error",i)};let n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)}doWrite(e,n){let r;if(!this.form){let a=document.createElement("form"),l=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),l.name="d",a.appendChild(l),document.body.appendChild(a),this.form=a,this.area=l}this.form.action=this.uri();function i(){o(),n()}let o=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(a){this.onError("jsonp polling iframe removal error",a)}try{let a='<iframe src="javascript:0" name="'+this.iframeId+'">';r=document.createElement(a)}catch(a){r=document.createElement("iframe"),r.name=this.iframeId,r.src="javascript:0"}r.id=this.iframeId,this.form.appendChild(r),this.iframe=r};o(),e=e.replace(Oie,`\\
`),this.area.value=e.replace(Nie,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{this.iframe.readyState==="complete"&&i()}:this.iframe.onload=i}};RV.exports=AV});var OV=Ie((zpe,NV)=>{var DV=yh();NV.exports={WebSocket:DV.WebSocket||DV.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}});var FV=Ie((Wpe,LV)=>{var PV=Mg(),Pie=Au(),Mie=Lg(),Lie=WT(),{pick:Fie}=KT(),{WebSocket:bh,usingBrowserWebSocket:XT,defaultBinaryType:Uie}=OV(),Bie=Ci()("engine.io-client:websocket"),MV=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Bg=class extends PV{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),n=this.opts.protocols,r=MV?{}:Fie(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=XT&&!MV?n?new bh(e,n):new bh(e):new bh(e,n,r)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||Uie,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;Pie.encodePacket(r,this.supportsBinary,o=>{let a={};XT||(r.options&&(a.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof o=="string"?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(a.compress=!1));try{XT?this.ws.send(o):this.ws.send(o,a)}catch(l){Bie("websocket closed before onclose event")}i&&setTimeout(()=>{this.writable=!0,this.emit("drain")},0)})}}onClose(){PV.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},n=this.opts.secure?"wss":"ws",r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Lie()),this.supportsBinary||(e.b64=1),e=Mie.encode(e),e.length&&(e="?"+e);let i=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(i?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+e}check(){return!!bh&&!("__initialize"in bh&&this.name===Bg.prototype.name)}};LV.exports=Bg});var JT=Ie(QT=>{var Vie=LT(),Hie=CV(),jie=kV(),qie=FV();QT.polling=zie;QT.websocket=qie;function zie(t){let e,n=!1,r=!1,i=t.jsonp!==!1;if(typeof location!="undefined"){let o=location.protocol==="https:",a=location.port;a||(a=o?443:80),n=t.hostname!==location.hostname||a!==t.port,r=t.secure!==o}if(t.xdomain=n,t.xscheme=r,e=new Vie(t),"open"in e&&!t.forceJSONP)return new Hie(t);if(!i)throw new Error("JSONP disabled");return new jie(t)}});var HV=Ie((Kpe,VV)=>{var Wie=JT(),Gie=Ru(),Ot=Ci()("engine.io-client:socket"),UV=Au(),BV=PT(),Kie=Lg(),oo=class extends Gie{constructor(e,n={}){super();e&&typeof e=="object"&&(n=e,e=null),e?(e=BV(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=BV(n.host).host),this.secure=n.secure!=null?n.secure:typeof location!="undefined"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=n.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Kie.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){Ot('creating transport "%s"',e);let n=$ie(this.opts.query);n.EIO=UV.protocol,n.transport=e,this.id&&(n.sid=this.id);let r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Ot("options: %j",r),new Wie[e](r)}open(){let e;if(this.opts.rememberUpgrade&&oo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){setTimeout(()=>{this.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(n){Ot("error while creating transport: %s",n),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){Ot("setting transport %s",e.name),this.transport&&(Ot("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){Ot('probing transport "%s"',e);let n=this.createTransport(e,{probe:1}),r=!1;oo.priorWebsocketSuccess=!1;let i=()=>{r||(Ot('probe transport "%s" opened',e),n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(Ot('probe transport "%s" pong',e),this.upgrading=!0,this.emit("upgrading",n),!n)return;oo.priorWebsocketSuccess=n.name==="websocket",Ot('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||this.readyState!=="closed"&&(Ot("changing transport and sending upgrade packet"),f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emit("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{Ot('probe transport "%s" failed',e);let v=new Error("probe error");v.transport=n.name,this.emit("upgradeError",v)}}))};function o(){r||(r=!0,f(),n.close(),n=null)}let a=p=>{let v=new Error("probe error: "+p);v.transport=n.name,o(),Ot('probe transport "%s" failed because of error: %s',e,p),this.emit("upgradeError",v)};function l(){a("transport closed")}function u(){a("socket closed")}function d(p){n&&p.name!==n.name&&(Ot('"%s" works - aborting "%s"',p.name,n.name),o())}let f=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",l),this.removeListener("close",u),this.removeListener("upgrading",d)};n.once("open",i),n.once("error",a),n.once("close",l),this.once("close",u),this.once("upgrading",d),n.open()}onOpen(){if(Ot("socket open"),this.readyState="open",oo.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){Ot("starting upgrade probes");let e=0,n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(Ot('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else Ot('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ot("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let o={type:e,data:n,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),Ot("socket closing - telling transport to close"),this.transport.close()},n=()=>{this.removeListener("upgrade",n),this.removeListener("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Ot("socket error %j",e),oo.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(Ot('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let n=[],r=0,i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};oo.priorWebsocketSuccess=!1;oo.protocol=UV.protocol;function $ie(t){let e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}VV.exports=oo});var jV=Ie(($pe,fl)=>{var ZT=HV();fl.exports=(t,e)=>new ZT(t,e);fl.exports.Socket=ZT;fl.exports.protocol=ZT.protocol;fl.exports.Transport=Mg();fl.exports.transports=JT();fl.exports.parser=Au()});var eC=Ie(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.hasBinary=ku.isBinary=void 0;var Yie=typeof ArrayBuffer=="function",Xie=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,qV=Object.prototype.toString,Qie=typeof Blob=="function"||typeof Blob!="undefined"&&qV.call(Blob)==="[object BlobConstructor]",Jie=typeof File=="function"||typeof File!="undefined"&&qV.call(File)==="[object FileConstructor]";function zV(t){return Yie&&(t instanceof ArrayBuffer||Xie(t))||Qie&&t instanceof Blob||Jie&&t instanceof File}ku.isBinary=zV;function Vg(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Vg(t[n]))return!0;return!1}if(zV(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vg(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Vg(t[n]))return!0;return!1}ku.hasBinary=Vg});var WV=Ie(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.reconstructPacket=Du.deconstructPacket=void 0;var Zie=eC();function eoe(t){let e=[],n=t.data,r=t;return r.data=tC(n,e),r.attachments=e.length,{packet:r,buffers:e}}Du.deconstructPacket=eoe;function tC(t,e){if(!t)return t;if(Zie.isBinary(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=tC(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)t.hasOwnProperty(r)&&(n[r]=tC(t[r],e));return n}return t}function toe(t,e){return t.data=nC(t.data,e),t.attachments=void 0,t}Du.reconstructPacket=toe;function nC(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=nC(t[n],e);else if(typeof t=="object")for(let n in t)t.hasOwnProperty(n)&&(t[n]=nC(t[n],e));return t}});var jg=Ie(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.Decoder=Ai.Encoder=Ai.PacketType=Ai.protocol=void 0;var noe=Ru(),GV=WV(),KV=eC(),rC=Ci()("socket.io-parser");Ai.protocol=5;var jt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(jt=Ai.PacketType||(Ai.PacketType={}));var $V=class{encode(e){return rC("encoding packet %j",e),(e.type===jt.EVENT||e.type===jt.ACK)&&KV.hasBinary(e)?(e.type=e.type===jt.EVENT?jt.BINARY_EVENT:jt.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===jt.BINARY_EVENT||e.type===jt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data)),rC("encoded %j as %s",e,n),n}encodeAsBinary(e){let n=GV.deconstructPacket(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};Ai.Encoder=$V;var Hg=class extends noe{constructor(){super()}add(e){let n;if(typeof e=="string")n=this.decodeString(e),n.type===jt.BINARY_EVENT||n.type===jt.BINARY_ACK?(this.reconstructor=new YV(n),n.attachments===0&&super.emit("decoded",n)):super.emit("decoded",n);else if(KV.isBinary(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emit("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if(jt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===jt.BINARY_EVENT||r.type===jt.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let a=e.substring(o,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=roe(e.substr(n));if(Hg.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return rC("decoded %s as %j",e,r),r}static isPayloadValid(e,n){switch(e){case jt.CONNECT:return typeof n=="object";case jt.DISCONNECT:return n===void 0;case jt.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case jt.EVENT:case jt.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case jt.ACK:case jt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};Ai.Decoder=Hg;function roe(t){try{return JSON.parse(t)}catch(e){return!1}}var YV=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=GV.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var iC=Ie(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.on=void 0;function ioe(t,e,n){return t.on(e,n),function(){t.off(e,n)}}qg.on=ioe});var oC=Ie(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.StrictEventEmitter=void 0;var ooe=Ru(),XV=class extends ooe{on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}emit(e,...n){return super.emit(e,...n),this}emitReserved(e,...n){return super.emit(e,...n),this}listeners(e){return super.listeners(e)}};zg.StrictEventEmitter=XV});var sC=Ie(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.Socket=void 0;var ti=jg(),Wg=iC(),soe=oC(),ni=Ci()("socket.io-client:socket"),aoe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),QV=class extends soe.StrictEventEmitter{constructor(e,n,r){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Wg.on(e,"open",this.onopen.bind(this)),Wg.on(e,"packet",this.onpacket.bind(this)),Wg.on(e,"error",this.onerror.bind(this)),Wg.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(aoe.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);let r={type:ti.PacketType.EVENT,data:n};r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"&&(ni("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),r.id=this.ids++);let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?ni("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){ni("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this.packet({type:ti.PacketType.CONNECT,data:e})}):this.packet({type:ti.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){ni("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ti.PacketType.CONNECT:if(e.data&&e.data.sid){let i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ti.PacketType.EVENT:this.onevent(e);break;case ti.PacketType.BINARY_EVENT:this.onevent(e);break;case ti.PacketType.ACK:this.onack(e);break;case ti.PacketType.BINARY_ACK:this.onack(e);break;case ti.PacketType.DISCONNECT:this.ondisconnect();break;case ti.PacketType.CONNECT_ERROR:let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];ni("emitting event %j",n),e.id!=null&&(ni("attaching ack callback to event"),n.push(this.ack(e.id))),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e)}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,ni("sending ack %j",i),n.packet({type:ti.PacketType.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"?(ni("calling ack %s with %j",e.id,e.data),n.apply(this,e.data),delete this.acks[e.id]):ni("bad ack %s",e.id)}onconnect(e){ni("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){ni("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(ni("performing disconnect (%s)",this.nsp),this.packet({type:ti.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}};Gg.Socket=QV});var ZV=Ie((tme,JV)=>{JV.exports=Nu;function Nu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Nu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Nu.prototype.reset=function(){this.attempts=0};Nu.prototype.setMin=function(t){this.ms=t};Nu.prototype.setMax=function(t){this.max=t};Nu.prototype.setJitter=function(t){this.jitter=t}});var aC=Ie(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.Manager=void 0;var loe=jV(),coe=sC(),uoe=jg(),hl=iC(),doe=ZV(),foe=oC(),yn=Ci()("socket.io-client:manager"),eH=class extends foe.StrictEventEmitter{constructor(e,n){super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||Infinity),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(n.randomizationFactor||.5),this.backoff=new doe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let r=n.parser||uoe;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(yn("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;yn("opening %s",this.uri),this.engine=loe(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=hl.on(n,"open",function(){r.onopen(),e&&e()}),o=hl.on(n,"error",a=>{yn("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",a),e?e(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){let a=this._timeout;yn("connect attempt will timeout after %d",a),a===0&&i();let l=setTimeout(()=>{yn("connect attempt timed out after %d",a),i(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){yn("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(hl.on(e,"ping",this.onping.bind(this)),hl.on(e,"data",this.ondata.bind(this)),hl.on(e,"error",this.onerror.bind(this)),hl.on(e,"close",this.onclose.bind(this)),hl.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){yn("error",e),this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r||(r=new coe.Socket(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active){yn("socket %s is still active, skipping close",r);return}this._close()}_packet(e){yn("writing packet %j",e);let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){yn("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){yn("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){yn("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)yn("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();yn("will wait %dms before reconnect attempt",n),this._reconnecting=!0;let r=setTimeout(()=>{e.skipReconnect||(yn("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(yn("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(yn("reconnect success"),e.onreconnect())}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};Kg.Manager=eH});var iH=Ie((dr,rH)=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.io=dr.Socket=dr.Manager=dr.protocol=void 0;var hoe=$B(),tH=aC(),nH=Ci()("socket.io-client");rH.exports=dr=$g;var _h=dr.managers={};function $g(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=hoe.url(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=_h[i]&&o in _h[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a,u;return l?(nH("ignoring socket cache for %s",r),u=new tH.Manager(r,e)):(_h[i]||(nH("new io instance for %s",r),_h[i]=new tH.Manager(r,e)),u=_h[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}dr.io=$g;var poe=jg();Object.defineProperty(dr,"protocol",{enumerable:!0,get:function(){return poe.protocol}});dr.connect=$g;var moe=aC();Object.defineProperty(dr,"Manager",{enumerable:!0,get:function(){return moe.Manager}});var voe=sC();Object.defineProperty(dr,"Socket",{enumerable:!0,get:function(){return voe.Socket}});dr.default=$g});var tm=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,eN=Symbol(),nm=class{constructor(e,n){if(n!==eN)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return tm&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}toString(){return this.cssText}},tN=new Map,nN=t=>{let e=tN.get(t);return e===void 0&&tN.set(t,e=new nm(t,eN)),e},rN=t=>nN(typeof t=="string"?t:t+""),vt=(t,...e)=>{let n=t.length===1?t[0]:e.reduce((r,i,o)=>r+(a=>{if(a instanceof nm)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return nN(n)},rw=(t,e)=>{tm?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{let r=document.createElement("style");r.textContent=n.cssText,t.appendChild(r)})},rm=tm?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(let r of e.cssRules)n+=r.cssText;return rN(n)})(t):t;var iN,iw,ow,oN,sw={toAttribute(t,e){switch(e){case Boolean:t=t?"":null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(r){n=null}}return n}},sN=(t,e)=>e!==t&&(e==e||t==t),aw={attribute:!0,type:String,converter:sw,reflect:!1,hasChanged:sN},ts=class extends HTMLElement{constructor(){super(),this.\u03A0i=new Map,this.\u03A0o=void 0,this.\u03A0l=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this.\u03A0h=null,this.u()}static addInitializer(e){var n;(n=this.v)!==null&&n!==void 0||(this.v=[]),this.v.push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((n,r)=>{let i=this.\u03A0p(r,n);i!==void 0&&(this.\u03A0m.set(i,r),e.push(i))}),e}static createProperty(e,n=aw){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let o=this[e];this[n]=i,this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||aw}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this.\u03A0m=new Map,this.hasOwnProperty("properties")){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let n=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let i of r)n.unshift(rm(i))}else e!==void 0&&n.push(rm(e));return n}static \u03A0p(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this.\u03A0g=new Promise(n=>this.enableUpdating=n),this.L=new Map,this.\u03A0_(),this.requestUpdate(),(e=this.constructor.v)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this.\u03A0U)!==null&&n!==void 0?n:this.\u03A0U=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this.\u03A0U)===null||n===void 0||n.splice(this.\u03A0U.indexOf(e)>>>0,1)}\u03A0_(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this.\u03A0i.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;let n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return rw(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this.\u03A0U)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)}),this.\u03A0l&&(this.\u03A0l(),this.\u03A0o=this.\u03A0l=void 0)}enableUpdating(e){}disconnectedCallback(){var e;(e=this.\u03A0U)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)}),this.\u03A0o=new Promise(n=>this.\u03A0l=n)}attributeChangedCallback(e,n,r){this.K(e,r)}\u03A0j(e,n,r=aw){var i,o;let a=this.constructor.\u03A0p(e,r);if(a!==void 0&&r.reflect===!0){let l=((o=(i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==null&&o!==void 0?o:sw.toAttribute)(n,r.type);this.\u03A0h=e,l==null?this.removeAttribute(a):this.setAttribute(a,l),this.\u03A0h=null}}K(e,n){var r,i,o;let a=this.constructor,l=a.\u03A0m.get(e);if(l!==void 0&&this.\u03A0h!==l){let u=a.getPropertyOptions(l),d=u.converter,f=(o=(i=(r=d)===null||r===void 0?void 0:r.fromAttribute)!==null&&i!==void 0?i:typeof d=="function"?d:null)!==null&&o!==void 0?o:sw.fromAttribute;this.\u03A0h=l,this[l]=f(n,u.type),this.\u03A0h=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||sN)(this[e],n)?(this.L.has(e)||this.L.set(e,n),r.reflect===!0&&this.\u03A0h!==e&&(this.\u03A0k===void 0&&(this.\u03A0k=new Map),this.\u03A0k.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this.\u03A0g=this.\u03A0q())}async \u03A0q(){this.isUpdatePending=!0;try{for(await this.\u03A0g;this.\u03A0o;)await this.\u03A0o}catch(n){Promise.reject(n)}let e=this.performUpdate();return e!=null&&await e,!this.isUpdatePending}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this.\u03A0i&&(this.\u03A0i.forEach((i,o)=>this[o]=i),this.\u03A0i=void 0);let n=!1,r=this.L;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this.\u03A0U)===null||e===void 0||e.forEach(i=>{var o;return(o=i.hostUpdate)===null||o===void 0?void 0:o.call(i)}),this.update(r)):this.\u03A0$()}catch(i){throw n=!1,this.\u03A0$(),i}n&&this.E(r)}willUpdate(e){}E(e){var n;(n=this.\u03A0U)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}\u03A0$(){this.L=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this.\u03A0g}shouldUpdate(e){return!0}update(e){this.\u03A0k!==void 0&&(this.\u03A0k.forEach((n,r)=>this.\u03A0j(r,this[r],n)),this.\u03A0k=void 0),this.\u03A0$()}updated(e){}firstUpdated(e){}};ts.finalized=!0,ts.elementProperties=new Map,ts.elementStyles=[],ts.shadowRootOptions={mode:"open"},(iw=(iN=globalThis).reactiveElementPlatformSupport)===null||iw===void 0||iw.call(iN,{ReactiveElement:ts}),((ow=(oN=globalThis).reactiveElementVersions)!==null&&ow!==void 0?ow:oN.reactiveElementVersions=[]).push("1.0.0-rc.2");var aN,lw,cw,lN,im=globalThis.trustedTypes,cN=im?im.createPolicy("lit-html",{createHTML:t=>t}):void 0,ns=`lit$${(Math.random()+"").slice(9)}$`,uN="?"+ns,NG=`<${uN}>`,cc=document,jd=(t="")=>cc.createComment(t),om=t=>t===null||typeof t!="object"&&typeof t!="function",dN=Array.isArray,OG=t=>{var e;return dN(t)||typeof((e=t)===null||e===void 0?void 0:e[Symbol.iterator])=="function"},qd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,fN=/-->/g,hN=/>/g,wa=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,pN=/'/g,mN=/"/g,vN=/^(?:script|style|textarea)$/i,gN=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Z=gN(1),Xde=gN(2),Ea=Symbol.for("lit-noChange"),cn=Symbol.for("lit-nothing"),yN=new WeakMap,bN=(t,e,n)=>{var r,i;let o=(r=n==null?void 0:n.renderBefore)!==null&&r!==void 0?r:e,a=o._$litPart$;if(a===void 0){let l=(i=n==null?void 0:n.renderBefore)!==null&&i!==void 0?i:null;o._$litPart$=a=new hc(e.insertBefore(jd(),l),l,void 0,n)}return a.I(t),a},uc=cc.createTreeWalker(cc,129,null,!1),PG=(t,e)=>{let n=t.length-1,r=[],i,o=e===2?"<svg>":"",a=qd;for(let u=0;u<n;u++){let d=t[u],f,p,v=-1,g=0;for(;g<d.length&&(a.lastIndex=g,p=a.exec(d),p!==null);)g=a.lastIndex,a===qd?p[1]==="!--"?a=fN:p[1]!==void 0?a=hN:p[2]!==void 0?(vN.test(p[2])&&(i=RegExp("</"+p[2],"g")),a=wa):p[3]!==void 0&&(a=wa):a===wa?p[0]===">"?(a=i??qd,v=-1):p[1]===void 0?v=-2:(v=a.lastIndex-p[2].length,f=p[1],a=p[3]===void 0?wa:p[3]==='"'?mN:pN):a===mN||a===pN?a=wa:a===fN||a===hN?a=qd:(a=wa,i=void 0);let b=a===wa&&t[u+1].startsWith("/>")?" ":"";o+=a===qd?d+NG:v>=0?(r.push(f),d.slice(0,v)+"$lit$"+d.slice(v)+ns+b):d+ns+(v===-2?(r.push(void 0),u):b)}let l=o+(t[n]||"<?>")+(e===2?"</svg>":"");return[cN!==void 0?cN.createHTML(l):l,r]},dc=class{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let o=0,a=0,l=e.length-1,u=this.parts,[d,f]=PG(e,n);if(this.el=dc.createElement(d,r),uc.currentNode=this.el.content,n===2){let p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(i=uc.nextNode())!==null&&u.length<l;){if(i.nodeType===1){if(i.hasAttributes()){let p=[];for(let v of i.getAttributeNames())if(v.endsWith("$lit$")||v.startsWith(ns)){let g=f[a++];if(p.push(v),g!==void 0){let b=i.getAttribute(g.toLowerCase()+"$lit$").split(ns),_=/([.?@])?(.*)/.exec(g);u.push({type:1,index:o,name:_[2],strings:b,ctor:_[1]==="."?wN:_[1]==="?"?EN:_[1]==="@"?xN:zd})}else u.push({type:6,index:o})}for(let v of p)i.removeAttribute(v)}if(vN.test(i.tagName)){let p=i.textContent.split(ns),v=p.length-1;if(v>0){i.textContent=im?im.emptyScript:"";for(let g=0;g<v;g++)i.append(p[g],jd()),uc.nextNode(),u.push({type:2,index:++o});i.append(p[v],jd())}}}else if(i.nodeType===8)if(i.data===uN)u.push({type:2,index:o});else{let p=-1;for(;(p=i.data.indexOf(ns,p+1))!==-1;)u.push({type:7,index:o}),p+=ns.length-1}o++}}static createElement(e,n){let r=cc.createElement("template");return r.innerHTML=e,r}};function fc(t,e,n=t,r){var i,o,a,l;if(e===Ea)return e;let u=r!==void 0?(i=n.\u03A3i)===null||i===void 0?void 0:i[r]:n.\u03A3o,d=om(e)?void 0:e._$litDirective$;return(u==null?void 0:u.constructor)!==d&&((o=u==null?void 0:u.O)===null||o===void 0||o.call(u,!1),d===void 0?u=void 0:(u=new d(t),u.T(t,n,r)),r!==void 0?((a=(l=n).\u03A3i)!==null&&a!==void 0?a:l.\u03A3i=[])[r]=u:n.\u03A3o=u),u!==void 0&&(e=fc(t,u.S(t,e.values),u,r)),e}var _N=class{constructor(e,n){this.l=[],this.N=void 0,this.D=e,this.M=n}u(e){var n;let{el:{content:r},parts:i}=this.D,o=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:cc).importNode(r,!0);uc.currentNode=o;let a=uc.nextNode(),l=0,u=0,d=i[0];for(;d!==void 0;){if(l===d.index){let f;d.type===2?f=new hc(a,a.nextSibling,this,e):d.type===1?f=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(f=new SN(a,this,e)),this.l.push(f),d=i[++u]}l!==(d==null?void 0:d.index)&&(a=uc.nextNode(),l++)}return o}v(e){let n=0;for(let r of this.l)r!==void 0&&(r.strings!==void 0?(r.I(e,r,n),n+=r.strings.length-2):r.I(e[n])),n++}},hc=class{constructor(e,n,r,i){this.type=2,this.N=void 0,this.A=e,this.B=n,this.M=r,this.options=i}setConnected(e){var n;(n=this.P)===null||n===void 0||n.call(this,e)}get parentNode(){return this.A.parentNode}get startNode(){return this.A}get endNode(){return this.B}I(e,n=this){e=fc(this,e,n),om(e)?e===cn||e==null||e===""?(this.H!==cn&&this.R(),this.H=cn):e!==this.H&&e!==Ea&&this.m(e):e._$litType$!==void 0?this._(e):e.nodeType!==void 0?this.$(e):OG(e)?this.g(e):this.m(e)}k(e,n=this.B){return this.A.parentNode.insertBefore(e,n)}$(e){this.H!==e&&(this.R(),this.H=this.k(e))}m(e){let n=this.A.nextSibling;n!==null&&n.nodeType===3&&(this.B===null?n.nextSibling===null:n===this.B.previousSibling)?n.data=e:this.$(cc.createTextNode(e)),this.H=e}_(e){var n;let{values:r,_$litType$:i}=e,o=typeof i=="number"?this.C(e):(i.el===void 0&&(i.el=dc.createElement(i.h,this.options)),i);if(((n=this.H)===null||n===void 0?void 0:n.D)===o)this.H.v(r);else{let a=new _N(o,this),l=a.u(this.options);a.v(r),this.$(l),this.H=a}}C(e){let n=yN.get(e.strings);return n===void 0&&yN.set(e.strings,n=new dc(e)),n}g(e){dN(this.H)||(this.H=[],this.R());let n=this.H,r,i=0;for(let o of e)i===n.length?n.push(r=new hc(this.k(jd()),this.k(jd()),this,this.options)):r=n[i],r.I(o),i++;i<n.length&&(this.R(r&&r.B.nextSibling,i),n.length=i)}R(e=this.A.nextSibling,n){var r;for((r=this.P)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this.B;){let i=e.nextSibling;e.remove(),e=i}}},zd=class{constructor(e,n,r,i,o){this.type=1,this.H=cn,this.N=void 0,this.V=void 0,this.element=e,this.name=n,this.M=i,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this.H=Array(r.length-1).fill(cn),this.strings=r):this.H=cn}get tagName(){return this.element.tagName}I(e,n=this,r,i){let o=this.strings,a=!1;if(o===void 0)e=fc(this,e,n,0),a=!om(e)||e!==this.H&&e!==Ea,a&&(this.H=e);else{let l=e,u,d;for(e=o[0],u=0;u<o.length-1;u++)d=fc(this,l[r+u],n,u),d===Ea&&(d=this.H[u]),a||(a=!om(d)||d!==this.H[u]),d===cn?e=cn:e!==cn&&(e+=(d??"")+o[u+1]),this.H[u]=d}a&&!i&&this.W(e)}W(e){e===cn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},wN=class extends zd{constructor(){super(...arguments),this.type=3}W(e){this.element[this.name]=e===cn?void 0:e}},EN=class extends zd{constructor(){super(...arguments),this.type=4}W(e){e&&e!==cn?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}},xN=class extends zd{constructor(){super(...arguments),this.type=5}I(e,n=this){var r;if((e=(r=fc(this,e,n,0))!==null&&r!==void 0?r:cn)===Ea)return;let i=this.H,o=e===cn&&i!==cn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,a=e!==cn&&(i===cn||o);o&&this.element.removeEventListener(this.name,this,i),a&&this.element.addEventListener(this.name,this,e),this.H=e}handleEvent(e){var n,r;typeof this.H=="function"?this.H.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this.H.handleEvent(e)}},SN=class{constructor(e,n,r){this.element=e,this.type=6,this.N=void 0,this.V=void 0,this.M=n,this.options=r}I(e){fc(this,e)}};(lw=(aN=globalThis).litHtmlPlatformSupport)===null||lw===void 0||lw.call(aN,dc,hc),((cw=(lN=globalThis).litHtmlVersions)!==null&&cw!==void 0?cw:lN.litHtmlVersions=[]).push("2.0.0-rc.3");var uw,TN,dw,CN,fw,IN;((uw=(IN=globalThis).litElementVersions)!==null&&uw!==void 0?uw:IN.litElementVersions=[]).push("3.0.0-rc.2");var Ve=class extends ts{constructor(){super(...arguments),this.renderOptions={host:this},this.\u03A6t=void 0}createRenderRoot(){var e,n;let r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){let n=this.render();super.update(e),this.\u03A6t=bN(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this.\u03A6t)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.\u03A6t)===null||e===void 0||e.setConnected(!1)}render(){return Ea}};Ve.finalized=!0,Ve._$litElement$=!0,(dw=(TN=globalThis).litElementHydrateSupport)===null||dw===void 0||dw.call(TN,{LitElement:Ve}),(fw=(CN=globalThis).litElementPlatformSupport)===null||fw===void 0||fw.call(CN,{LitElement:Ve});var Ze=t=>e=>typeof e=="function"?((n,r)=>(window.customElements.define(n,r),r))(t,e):((n,r)=>{let{kind:i,elements:o}=r;return{kind:i,elements:o,finisher(a){window.customElements.define(n,a)}}})(t,e);var MG=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function de(t){return(e,n)=>n!==void 0?((r,i,o)=>{i.constructor.createProperty(o,r)})(t,e,n):MG(t,e)}function en(t){return de({...t,state:!0,attribute:!1})}var AN=Element.prototype,wfe=AN.msMatchesSelector||AN.webkitMatchesSelector;sr();sr();sr();(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,h){s!=Array.prototype&&s!=Object.prototype&&(s[c]=h.value)};function n(s){s=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,s];for(var c=0;c<s.length;++c){var h=s[c];if(h&&h.Math==Math)return h}return globalThis}var r=n(this);function i(s,c){if(c){var h=r;s=s.split(".");for(var m=0;m<s.length-1;m++){var y=s[m];y in h||(h[y]={}),h=h[y]}s=s[s.length-1],m=h[s],c=c(m),c!=m&&c!=null&&e(h,s,{configurable:!0,writable:!0,value:c})}}function o(s){var c=0;return function(){return c<s.length?{done:!1,value:s[c++]}:{done:!0}}}function a(s){var c=typeof Symbol!="undefined"&&Symbol.iterator&&s[Symbol.iterator];return c?c.call(s):{next:o(s)}}i("Promise",function(s){function c(S){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{S(I.resolve,I.reject)}catch(V){I.reject(V)}}function h(){this.a=null}function m(S){return S instanceof c?S:new c(function(I){I(S)})}if(s)return s;h.prototype.b=function(S){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(S)};var y=r.setTimeout;h.prototype.c=function(S){y(S,0)},h.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var I=0;I<S.length;++I){var V=S[I];S[I]=null;try{V()}catch(j){this.f(j)}}}this.a=null},h.prototype.f=function(S){this.c(function(){throw S})},c.prototype.f=function(){function S(j){return function(he){V||(V=!0,j.call(I,he))}}var I=this,V=!1;return{resolve:S(this.m),reject:S(this.g)}},c.prototype.m=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof c)this.s(S);else{e:switch(typeof S){case"object":var I=S!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(S):this.h(S)}},c.prototype.v=function(S){var I=void 0;try{I=S.then}catch(V){this.g(V);return}typeof I=="function"?this.u(I,S):this.h(S)},c.prototype.g=function(S){this.i(2,S)},c.prototype.h=function(S){this.i(1,S)},c.prototype.i=function(S,I){if(this.b!=0)throw Error("Cannot settle("+S+", "+I+"): Promise already settled in state"+this.b);this.b=S,this.c=I,this.l()},c.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)w.b(this.a[S]);this.a=null}};var w=new h;return c.prototype.s=function(S){var I=this.f();S.Qa(I.resolve,I.reject)},c.prototype.u=function(S,I){var V=this.f();try{S.call(I,V.resolve,V.reject)}catch(j){V.reject(j)}},c.prototype.then=function(S,I){function V(Me,Zt){return typeof Me=="function"?function(wo){try{j(Me(wo))}catch(tw){he(tw)}}:Zt}var j,he,We=new c(function(Me,Zt){j=Me,he=Zt});return this.Qa(V(S,j),V(I,he)),We},c.prototype.catch=function(S){return this.then(void 0,S)},c.prototype.Qa=function(S,I){function V(){switch(j.b){case 1:S(j.c);break;case 2:I(j.c);break;default:throw Error("Unexpected state: "+j.b)}}var j=this;this.a==null?w.b(V):this.a.push(V)},c.resolve=m,c.reject=function(S){return new c(function(I,V){V(S)})},c.race=function(S){return new c(function(I,V){for(var j=a(S),he=j.next();!he.done;he=j.next())m(he.value).Qa(I,V)})},c.all=function(S){var I=a(S),V=I.next();return V.done?m([]):new c(function(j,he){function We(wo){return function(tw){Me[wo]=tw,Zt--,Zt==0&&j(Me)}}var Me=[],Zt=0;do Me.push(void 0),Zt++,m(V.value).Qa(We(Me.length-1),he),V=I.next();while(!V.done)})},c});var l=l||{},u=this||self,d=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(s){return(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&d.test(s)?s:""}function v(){}function g(s){var c=typeof s;return c!="object"?c:s?Array.isArray(s)?"array":c:"null"}function b(s){var c=g(s);return c=="array"||c=="object"&&typeof s.length=="number"}function _(s){return g(s)=="function"}function E(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function x(s){return Object.prototype.hasOwnProperty.call(s,T)&&s[T]||(s[T]=++R)}var T="closure_uid_"+(1e9*Math.random()>>>0),R=0;function P(s,c,h){return s.call.apply(s.bind,arguments)}function L(s,c,h){if(!s)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,m),s.apply(c,y)}}return function(){return s.apply(c,arguments)}}function F(s,c,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?F=P:F=L,F.apply(null,arguments)}function G(s,c){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),s.apply(this,m)}}var Y=Date.now;function $(s,c){function h(){}h.prototype=c.prototype,s.ab=c.prototype,s.prototype=new h,s.prototype.constructor=s}function ze(s){return s}function O(s,c,h){this.code=Jt+s,this.message=c||Ll[s]||"",this.a=h||null}$(O,Error),O.prototype.w=function(){var s={code:this.code,message:this.message};return this.a&&(s.serverResponse=this.a),s},O.prototype.toJSON=function(){return this.w()};function Zn(s){var c=s&&s.code;return c?new O(c.substring(Jt.length),s.message,s.serverResponse):null}var Jt="auth/",Ll={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Zs={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function rd(s){for(var c in Zs)if(Zs[c].id===s)return s=Zs[c],{firebaseEndpoint:s.Ta,secureTokenEndpoint:s.Za,identityPlatformEndpoint:s.Wa};return null}var id;id=rd("__EID__")?"__EID__":void 0;function iA(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch(c){return!1}}function gr(s){if(Error.captureStackTrace)Error.captureStackTrace(this,gr);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}$(gr,Error),gr.prototype.name="CustomError";function Sb(s,c){s=s.split("%s");for(var h="",m=s.length-1,y=0;y<m;y++)h+=s[y]+(y<c.length?c[y]:"%s");gr.call(this,h+s[m])}$(Sb,gr),Sb.prototype.name="AssertionError";function Fl(s,c){throw new Sb("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}function Tb(s,c){this.c=s,this.f=c,this.b=0,this.a=null}Tb.prototype.get=function(){if(0<this.b){this.b--;var s=this.a;this.a=s.next,s.next=null}else s=this.c();return s};function oA(s,c){s.f(c),100>s.b&&(s.b++,c.next=s.a,s.a=c)}function sA(){this.b=this.a=null}var aA=new Tb(function(){return new Cb},function(s){s.reset()});sA.prototype.add=function(s,c){var h=aA.get();h.set(s,c),this.b?this.b.next=h:this.a=h,this.b=h};function Eq(){var s=PA,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.b=null),c.next=null),c}function Cb(){this.next=this.b=this.a=null}Cb.prototype.set=function(s,c){this.a=s,this.b=c,this.next=null},Cb.prototype.reset=function(){this.next=this.b=this.a=null};var lA=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(typeof s=="string")return typeof c!="string"||c.length!=1?-1:s.indexOf(c,0);for(var h=0;h<s.length;h++)if(h in s&&s[h]===c)return h;return-1},pt=Array.prototype.forEach?function(s,c,h){Array.prototype.forEach.call(s,c,h)}:function(s,c,h){for(var m=s.length,y=typeof s=="string"?s.split(""):s,w=0;w<m;w++)w in y&&c.call(h,y[w],w,s)};function xq(s,c){for(var h=typeof s=="string"?s.split(""):s,m=s.length-1;0<=m;--m)m in h&&c.call(void 0,h[m],m,s)}var Sq=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var h=s.length,m=[],y=0,w=typeof s=="string"?s.split(""):s,S=0;S<h;S++)if(S in w){var I=w[S];c.call(void 0,I,S,s)&&(m[y++]=I)}return m},Zh=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var h=s.length,m=Array(h),y=typeof s=="string"?s.split(""):s,w=0;w<h;w++)w in y&&(m[w]=c.call(void 0,y[w],w,s));return m},Tq=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var h=s.length,m=typeof s=="string"?s.split(""):s,y=0;y<h;y++)if(y in m&&c.call(void 0,m[y],y,s))return!0;return!1};function Cq(s){e:{for(var c=oW,h=s.length,m=typeof s=="string"?s.split(""):s,y=0;y<h;y++)if(y in m&&c.call(void 0,m[y],y,s)){c=y;break e}c=-1}return 0>c?null:typeof s=="string"?s.charAt(c):s[c]}function vo(s,c){return 0<=lA(s,c)}function ep(s,c){c=lA(s,c);var h;return(h=0<=c)&&Array.prototype.splice.call(s,c,1),h}function li(s,c){var h=0;xq(s,function(m,y){c.call(void 0,m,y,s)&&Array.prototype.splice.call(s,y,1).length==1&&h++})}function Ib(s){return Array.prototype.concat.apply([],arguments)}function ea(s){var c=s.length;if(0<c){for(var h=Array(c),m=0;m<c;m++)h[m]=s[m];return h}return[]}var cA=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Iq=/&/g,Aq=/</g,Rq=/>/g,kq=/"/g,Dq=/'/g,Nq=/\x00/g,Oq=/[\x00&<>"']/;function Je(s,c){return s.indexOf(c)!=-1}function Ab(s,c){return s<c?-1:s>c?1:0}var Ul;e:{var uA=u.navigator;if(uA){var dA=uA.userAgent;if(dA){Ul=dA;break e}}Ul=""}function Wt(s){return Je(Ul,s)}function fA(s,c){for(var h in s)c.call(void 0,s[h],h,s)}function ta(s){for(var c in s)return!1;return!0}function Go(s){var c={},h;for(h in s)c[h]=s[h];return c}var hA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function er(s,c){for(var h,m,y=1;y<arguments.length;y++){m=arguments[y];for(h in m)s[h]=m[h];for(var w=0;w<hA.length;w++)h=hA[w],Object.prototype.hasOwnProperty.call(m,h)&&(s[h]=m[h])}}function pA(s,c){e:{try{var h=s&&s.ownerDocument,m=h&&(h.defaultView||h.parentWindow);if(m=m||u,m.Element&&m.Location){var y=m;break e}}catch(S){}y=null}if(y&&typeof y[c]!="undefined"&&(!s||!(s instanceof y[c])&&(s instanceof y.Location||s instanceof y.Element))){if(E(s))try{var w=s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s)}catch(S){w="<object could not be stringified>"}else w=s===void 0?"undefined":s===null?"null":typeof s;Fl("Argument is not a %s (or a non-Element, non-Location mock); got: %s",c,w)}}function Li(s,c){this.a=s===tp&&c||"",this.b=mA}Li.prototype.sa=!0,Li.prototype.ra=function(){return this.a},Li.prototype.toString=function(){return"Const{"+this.a+"}"};function Rb(s){return s instanceof Li&&s.constructor===Li&&s.b===mA?s.a:(Fl("expected object of type Const, got '"+s+"'"),"type_error:Const")}var mA={},tp={},np;function vA(){if(np===void 0){var s=null,c=u.trustedTypes;if(c&&c.createPolicy){try{s=c.createPolicy("goog#html",{createHTML:ze,createScript:ze,createScriptURL:ze})}catch(h){u.console&&u.console.error(h.message)}np=s}else np=s}return np}function Bl(s,c){this.a=c===yA?s:""}Bl.prototype.sa=!0,Bl.prototype.ra=function(){return this.a.toString()},Bl.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function gA(s){return s instanceof Bl&&s.constructor===Bl?s.a:(Fl("expected object of type TrustedResourceUrl, got '"+s+"' of type "+g(s)),"type_error:TrustedResourceUrl")}function kb(s,c){var h=Rb(s);if(!Mq.test(h))throw Error("Invalid TrustedResourceUrl format: "+h);return s=h.replace(Pq,function(m,y){if(!Object.prototype.hasOwnProperty.call(c,y))throw Error('Found marker, "'+y+'", in format string, "'+h+'", but no valid label mapping found in args: '+JSON.stringify(c));return m=c[y],m instanceof Li?Rb(m):encodeURIComponent(String(m))}),Lq(s)}var Pq=/%{(\w+)}/g,Mq=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,yA={};function Lq(s){var c=vA();return s=c?c.createScriptURL(s):s,new Bl(s,yA)}function tr(s,c){this.a=c===od?s:""}tr.prototype.sa=!0,tr.prototype.ra=function(){return this.a.toString()},tr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function rp(s){return s instanceof tr&&s.constructor===tr?s.a:(Fl("expected object of type SafeUrl, got '"+s+"' of type "+g(s)),"type_error:SafeUrl")}var Fq=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Uq=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,bA=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _A(s){if(s instanceof tr)return s;if(s=typeof s=="object"&&s.sa?s.ra():String(s),bA.test(s))s=new tr(s,od);else{s=String(s),s=s.replace(/(%0A|%0D)/g,"");var c=s.match(Uq);s=c&&Fq.test(c[1])?new tr(s,od):null}return s}function wA(s){return s instanceof tr?s:(s=typeof s=="object"&&s.sa?s.ra():String(s),bA.test(s)||(s="about:invalid#zClosurez"),new tr(s,od))}var od={},EA=new tr("about:invalid#zClosurez",od);function Vl(s,c,h){this.a=h===xA?s:""}Vl.prototype.sa=!0,Vl.prototype.ra=function(){return this.a.toString()},Vl.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Bq(s){return s instanceof Vl&&s.constructor===Vl?s.a:(Fl("expected object of type SafeHtml, got '"+s+"' of type "+g(s)),"type_error:SafeHtml")}var xA={};function Vq(s,c){pA(s,"HTMLScriptElement"),s.src=gA(c),(c=s.ownerDocument&&s.ownerDocument.defaultView)&&c!=u?c=p(c.document):(f===null&&(f=p(u.document)),c=f),c&&s.setAttribute("nonce",c)}function SA(s,c,h,m){return s=s instanceof tr?s:wA(s),c=c||u,h=h instanceof Li?Rb(h):h||"",c.open(rp(s),h,m,void 0)}function TA(s,c){for(var h=s.split("%s"),m="",y=Array.prototype.slice.call(arguments,1);y.length&&1<h.length;)m+=h.shift()+y.shift();return m+h.join("%s")}function Db(s){return Oq.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Iq,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Aq,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Rq,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(kq,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(Dq,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Nq,"&#0;"))),s}function Nb(s){return Nb[" "](s),s}Nb[" "]=v;function Hq(s,c){var h=Wq;return Object.prototype.hasOwnProperty.call(h,s)?h[s]:h[s]=c(s)}var jq=Wt("Opera"),ci=Wt("Trident")||Wt("MSIE"),CA=Wt("Edge"),qq=CA||ci,IA=Wt("Gecko")&&!(Je(Ul.toLowerCase(),"webkit")&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),zq=Je(Ul.toLowerCase(),"webkit")&&!Wt("Edge");function AA(){var s=u.document;return s?s.documentMode:void 0}var ip;e:{var Ob="",Pb=function(){var s=Ul;if(IA)return/rv:([^\);]+)(\)|;)/.exec(s);if(CA)return/Edge\/([\d\.]+)/.exec(s);if(ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(zq)return/WebKit\/(\S+)/.exec(s);if(jq)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(Pb&&(Ob=Pb?Pb[1]:""),ci){var Mb=AA();if(Mb!=null&&Mb>parseFloat(Ob)){ip=String(Mb);break e}}ip=Ob}var Wq={};function RA(s){return Hq(s,function(){for(var c=0,h=cA(String(ip)).split("."),m=cA(String(s)).split("."),y=Math.max(h.length,m.length),w=0;c==0&&w<y;w++){var S=h[w]||"",I=m[w]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],S[0].length==0&&I[0].length==0)break;c=Ab(S[1].length==0?0:parseInt(S[1],10),I[1].length==0?0:parseInt(I[1],10))||Ab(S[2].length==0,I[2].length==0)||Ab(S[2],I[2]),S=S[3],I=I[3]}while(c==0)}return 0<=c})}var Lb;if(u.document&&ci){var kA=AA();Lb=kA||parseInt(ip,10)||void 0}else Lb=void 0;var Ko=Lb;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(s){}var Gq=!ci||9<=Number(Ko);function sd(s){var c=document;return typeof s=="string"?c.getElementById(s):s}function DA(s,c){fA(c,function(h,m){h&&typeof h=="object"&&h.sa&&(h=h.ra()),m=="style"?s.style.cssText=h:m=="class"?s.className=h:m=="for"?s.htmlFor=h:NA.hasOwnProperty(m)?s.setAttribute(NA[m],h):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?s.setAttribute(m,h):s[m]=h})}var NA={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kq(s,c,h){var m=arguments,y=document,w=String(m[0]),S=m[1];if(!Gq&&S&&(S.name||S.type)){if(w=["<",w],S.name&&w.push(' name="',Db(S.name),'"'),S.type){w.push(' type="',Db(S.type),'"');var I={};er(I,S),delete I.type,S=I}w.push(">"),w=w.join("")}return w=op(y,w),S&&(typeof S=="string"?w.className=S:Array.isArray(S)?w.className=S.join(" "):DA(w,S)),2<m.length&&$q(y,w,m),w}function $q(s,c,h){function m(I){I&&c.appendChild(typeof I=="string"?s.createTextNode(I):I)}for(var y=2;y<h.length;y++){var w=h[y];if(!b(w)||E(w)&&0<w.nodeType)m(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var S=typeof w.item=="function"||typeof w.item=="string";break e}if(_(w)){S=typeof w.item=="function";break e}}S=!1}pt(S?ea(w):w,m)}}}function op(s,c){return c=String(c),s.contentType==="application/xhtml+xml"&&(c=c.toLowerCase()),s.createElement(c)}function OA(s){u.setTimeout(function(){throw s},0)}var Fb;function Yq(){var s=u.MessageChannel;if(typeof s=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Wt("Presto")&&(s=function(){var y=op(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var w=y.contentWindow;y=w.document,y.open(),y.close();var S="callImmediate"+Math.random(),I=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;y=F(function(V){(I=="*"||V.origin==I)&&V.data==S&&this.port1.onmessage()},this),w.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(S,I)}}}),typeof s!="undefined"&&!Wt("Trident")&&!Wt("MSIE")){var c=new s,h={},m=h;return c.port1.onmessage=function(){if(h.next!==void 0){h=h.next;var y=h.Gb;h.Gb=null,y()}},function(y){m.next={Gb:y},m=m.next,c.port2.postMessage(0)}}return function(y){u.setTimeout(y,0)}}function sp(s,c){ap||Xq(),Ub||(ap(),Ub=!0),PA.add(s,c)}var ap;function Xq(){if(u.Promise&&u.Promise.resolve){var s=u.Promise.resolve(void 0);ap=function(){s.then(MA)}}else ap=function(){var c=MA;!_(u.setImmediate)||u.Window&&u.Window.prototype&&!Wt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Fb||(Fb=Yq()),Fb(c)):u.setImmediate(c)}}var Ub=!1,PA=new sA;function MA(){for(var s;s=Eq();){try{s.a.call(s.b)}catch(c){OA(c)}oA(aA,s)}Ub=!1}function Ae(s,c){if(this.a=na,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,s!=v)try{var h=this;s.call(c,function(m){ra(h,ad,m)},function(m){if(!(m instanceof Hl))try{throw m instanceof Error?m:Error("Promise rejected.")}catch(y){}ra(h,go,m)})}catch(m){ra(this,go,m)}}var na=0,ad=2,go=3;function LA(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}LA.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var FA=new Tb(function(){return new LA},function(s){s.reset()});function Bb(s,c,h){var m=FA.get();return m.g=s,m.b=c,m.f=h,m}function le(s){if(s instanceof Ae)return s;var c=new Ae(v);return ra(c,ad,s),c}function lt(s){return new Ae(function(c,h){h(s)})}function UA(s,c,h){jA(s,c,h,null)||sp(G(c,s))}function Qq(s){return new Ae(function(c,h){var m=s.length,y=[];if(m)for(var w=function(j,he){m--,y[j]=he,m==0&&c(y)},S=function(j){h(j)},I=0,V;I<s.length;I++)V=s[I],UA(V,G(w,I),S);else c(y)})}function BA(s){return new Ae(function(c){var h=s.length,m=[];if(h)for(var y=function(I,V,j){h--,m[I]=V?{Pb:!0,value:j}:{Pb:!1,reason:j},h==0&&c(m)},w=0,S;w<s.length;w++)S=s[w],UA(S,G(y,w,!0),G(y,w,!1));else c(m)})}Ae.prototype.then=function(s,c,h){return HA(this,_(s)?s:null,_(c)?c:null,h)},Ae.prototype.$goog_Thenable=!0,t=Ae.prototype,t.oa=function(s,c){return s=Bb(s,s,c),s.c=!0,Vb(this,s),this},t.o=function(s,c){return HA(this,null,s,c)},t.cancel=function(s){if(this.a==na){var c=new Hl(s);sp(function(){VA(this,c)},this)}};function VA(s,c){if(s.a==na)if(s.c){var h=s.c;if(h.b){for(var m=0,y=null,w=null,S=h.b;S&&(S.c||(m++,S.a==s&&(y=S),!(y&&1<m)));S=S.next)y||(w=S);y&&(h.a==na&&m==1?VA(h,c):(w?(m=w,m.next==h.f&&(h.f=m),m.next=m.next.next):zA(h),WA(h,y,go,c)))}s.c=null}else ra(s,go,c)}function Vb(s,c){s.b||s.a!=ad&&s.a!=go||qA(s),s.f?s.f.next=c:s.b=c,s.f=c}function HA(s,c,h,m){var y=Bb(null,null,null);return y.a=new Ae(function(w,S){y.g=c?function(I){try{var V=c.call(m,I);w(V)}catch(j){S(j)}}:w,y.b=h?function(I){try{var V=h.call(m,I);V===void 0&&I instanceof Hl?S(I):w(V)}catch(j){S(j)}}:S}),y.a.c=s,Vb(s,y),y.a}t.$c=function(s){this.a=na,ra(this,ad,s)},t.ad=function(s){this.a=na,ra(this,go,s)};function ra(s,c,h){s.a==na&&(s===h&&(c=go,h=new TypeError("Promise cannot resolve to itself")),s.a=1,jA(h,s.$c,s.ad,s)||(s.i=h,s.a=c,s.c=null,qA(s),c!=go||h instanceof Hl||Zq(s,h)))}function jA(s,c,h,m){if(s instanceof Ae)return Vb(s,Bb(c||v,h||null,m)),!0;if(iA(s))return s.then(c,h,m),!0;if(E(s))try{var y=s.then;if(_(y))return Jq(s,y,c,h,m),!0}catch(w){return h.call(m,w),!0}return!1}function Jq(s,c,h,m,y){function w(V){I||(I=!0,m.call(y,V))}function S(V){I||(I=!0,h.call(y,V))}var I=!1;try{c.call(s,S,w)}catch(V){w(V)}}function qA(s){s.h||(s.h=!0,sp(s.gc,s))}function zA(s){var c=null;return s.b&&(c=s.b,s.b=c.next,c.next=null),s.b||(s.f=null),c}t.gc=function(){for(var s;s=zA(this);)WA(this,s,this.a,this.i);this.h=!1};function WA(s,c,h,m){if(h==go&&c.b&&!c.c)for(;s&&s.g;s=s.c)s.g=!1;if(c.a)c.a.c=null,GA(c,h,m);else try{c.c?c.g.call(c.f):GA(c,h,m)}catch(y){KA.call(null,y)}oA(FA,c)}function GA(s,c,h){c==ad?s.g.call(s.f,h):s.b&&s.b.call(s.f,h)}function Zq(s,c){s.g=!0,sp(function(){s.g&&KA.call(null,c)})}var KA=OA;function Hl(s){gr.call(this,s)}$(Hl,gr),Hl.prototype.name="cancel";function lp(){Hb!=0&&($A[x(this)]=this),this.xa=this.xa,this.pa=this.pa}var Hb=0,$A={};lp.prototype.xa=!1;function YA(s){if(!s.xa&&(s.xa=!0,s.Da(),Hb!=0)){var c=x(s);if(Hb!=0&&s.pa&&0<s.pa.length)throw Error(s+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete $A[c]}}lp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ez=Object.freeze||function(s){return s},XA=!ci||9<=Number(Ko),tz=ci&&!RA("9"),nz=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{u.addEventListener("test",v,c),u.removeEventListener("test",v,c)}catch(h){}return s}();function nr(s,c){this.type=s,this.b=this.target=c,this.defaultPrevented=!1}nr.prototype.preventDefault=function(){this.defaultPrevented=!0};function ia(s,c){if(nr.call(this,s?s.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var h=this.type=s.type,m=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.b=c,c=s.relatedTarget){if(IA){e:{try{Nb(c.nodeName);var y=!0;break e}catch(w){}y=!1}y||(c=null)}}else h=="mouseover"?c=s.fromElement:h=="mouseout"&&(c=s.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:rz[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}$(ia,nr);var rz=ez({2:"touch",3:"pen",4:"mouse"});ia.prototype.preventDefault=function(){ia.ab.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,tz)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch(c){}},ia.prototype.g=function(){return this.a};var ld="closure_listenable_"+(1e6*Math.random()|0),iz=0;function oz(s,c,h,m,y){this.listener=s,this.proxy=null,this.src=c,this.type=h,this.capture=!!m,this.Va=y,this.key=++iz,this.va=this.Pa=!1}function cp(s){s.va=!0,s.listener=null,s.proxy=null,s.src=null,s.Va=null}function up(s){this.src=s,this.a={},this.b=0}up.prototype.add=function(s,c,h,m,y){var w=s.toString();s=this.a[w],s||(s=this.a[w]=[],this.b++);var S=qb(s,c,m,y);return-1<S?(c=s[S],h||(c.Pa=!1)):(c=new oz(c,this.src,w,!!m,y),c.Pa=h,s.push(c)),c};function jb(s,c){var h=c.type;h in s.a&&ep(s.a[h],c)&&(cp(c),s.a[h].length==0&&(delete s.a[h],s.b--))}function qb(s,c,h,m){for(var y=0;y<s.length;++y){var w=s[y];if(!w.va&&w.listener==c&&w.capture==!!h&&w.Va==m)return y}return-1}var zb="closure_lm_"+(1e6*Math.random()|0),Wb={},QA=0;function Lr(s,c,h,m,y){if(m&&m.once)Gb(s,c,h,m,y);else if(Array.isArray(c))for(var w=0;w<c.length;w++)Lr(s,c[w],h,m,y);else h=$b(h),s&&s[ld]?rR(s,c,h,E(m)?!!m.capture:!!m,y):JA(s,c,h,!1,m,y)}function JA(s,c,h,m,y,w){if(!c)throw Error("Invalid event type");var S=E(y)?!!y.capture:!!y,I=dp(s);if(I||(s[zb]=I=new up(s)),h=I.add(c,h,m,S,w),!h.proxy){if(m=sz(),h.proxy=m,m.src=s,m.listener=h,s.addEventListener)nz||(y=S),y===void 0&&(y=!1),s.addEventListener(c.toString(),m,y);else if(s.attachEvent)s.attachEvent(eR(c.toString()),m);else if(s.addListener&&s.removeListener)s.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");QA++}}function sz(){var s=az,c=XA?function(h){return s.call(c.src,c.listener,h)}:function(h){if(h=s.call(c.src,c.listener,h),!h)return h};return c}function Gb(s,c,h,m,y){if(Array.isArray(c))for(var w=0;w<c.length;w++)Gb(s,c[w],h,m,y);else h=$b(h),s&&s[ld]?Yb(s,c,h,E(m)?!!m.capture:!!m,y):JA(s,c,h,!0,m,y)}function yr(s,c,h,m,y){if(Array.isArray(c))for(var w=0;w<c.length;w++)yr(s,c[w],h,m,y);else m=E(m)?!!m.capture:!!m,h=$b(h),s&&s[ld]?(s=s.v,c=String(c).toString(),c in s.a&&(w=s.a[c],h=qb(w,h,m,y),-1<h&&(cp(w[h]),Array.prototype.splice.call(w,h,1),w.length==0&&(delete s.a[c],s.b--)))):s&&(s=dp(s))&&(c=s.a[c.toString()],s=-1,c&&(s=qb(c,h,m,y)),(h=-1<s?c[s]:null)&&ZA(h))}function ZA(s){if(typeof s!="number"&&s&&!s.va){var c=s.src;if(c&&c[ld])jb(c.v,s);else{var h=s.type,m=s.proxy;c.removeEventListener?c.removeEventListener(h,m,s.capture):c.detachEvent?c.detachEvent(eR(h),m):c.addListener&&c.removeListener&&c.removeListener(m),QA--,(h=dp(c))?(jb(h,s),h.b==0&&(h.src=null,c[zb]=null)):cp(s)}}}function eR(s){return s in Wb?Wb[s]:Wb[s]="on"+s}function tR(s,c,h,m){var y=!0;if((s=dp(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var w=c[s];w&&w.capture==h&&!w.va&&(w=nR(w,m),y=y&&w!==!1)}return y}function nR(s,c){var h=s.listener,m=s.Va||s.src;return s.Pa&&ZA(s),h.call(m,c)}function az(s,c){if(s.va)return!0;if(!XA){if(!c)e:{c=["window","event"];for(var h=u,m=0;m<c.length;m++)if(h=h[c[m]],h==null){c=null;break e}c=h}if(m=c,c=new ia(m,this),h=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var y=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch(S){y=!0}(y||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],y=c.b;y;y=y.parentNode)m.push(y);for(s=s.type,y=m.length-1;0<=y;y--){c.b=m[y];var w=tR(m[y],s,!0,c);h=h&&w}for(y=0;y<m.length;y++)c.b=m[y],w=tR(m[y],s,!1,c),h=h&&w}return h}return nR(s,new ia(c,this))}function dp(s){return s=s[zb],s instanceof up?s:null}var Kb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $b(s){return _(s)?s:(s[Kb]||(s[Kb]=function(c){return s.handleEvent(c)}),s[Kb])}function Mn(){lp.call(this),this.v=new up(this),this.ac=this,this.gb=null}$(Mn,lp),Mn.prototype[ld]=!0,Mn.prototype.addEventListener=function(s,c,h,m){Lr(this,s,c,h,m)},Mn.prototype.removeEventListener=function(s,c,h,m){yr(this,s,c,h,m)},Mn.prototype.dispatchEvent=function(s){var c,h=this.gb;if(h)for(c=[];h;h=h.gb)c.push(h);h=this.ac;var m=s.type||s;if(typeof s=="string")s=new nr(s,h);else if(s instanceof nr)s.target=s.target||h;else{var y=s;s=new nr(m,h),er(s,y)}if(y=!0,c)for(var w=c.length-1;0<=w;w--){var S=s.b=c[w];y=fp(S,m,!0,s)&&y}if(S=s.b=h,y=fp(S,m,!0,s)&&y,y=fp(S,m,!1,s)&&y,c)for(w=0;w<c.length;w++)S=s.b=c[w],y=fp(S,m,!1,s)&&y;return y},Mn.prototype.Da=function(){if(Mn.ab.Da.call(this),this.v){var s=this.v,c=0,h;for(h in s.a){for(var m=s.a[h],y=0;y<m.length;y++)++c,cp(m[y]);delete s.a[h],s.b--}}this.gb=null};function rR(s,c,h,m,y){s.v.add(String(c),h,!1,m,y)}function Yb(s,c,h,m,y){s.v.add(String(c),h,!0,m,y)}function fp(s,c,h,m){if(c=s.v.a[String(c)],!c)return!0;c=c.concat();for(var y=!0,w=0;w<c.length;++w){var S=c[w];if(S&&!S.va&&S.capture==h){var I=S.listener,V=S.Va||S.src;S.Pa&&jb(s.v,S),y=I.call(V,m)!==!1&&y}}return y&&!m.defaultPrevented}function Xb(s,c,h){if(_(s))h&&(s=F(s,h));else if(s&&typeof s.handleEvent=="function")s=F(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:u.setTimeout(s,c||0)}function jl(s){var c=null;return new Ae(function(h,m){c=Xb(function(){h(void 0)},s),c==-1&&m(Error("Failed to schedule timer."))}).o(function(h){throw u.clearTimeout(c),h})}function iR(s){if(s.W&&typeof s.W=="function")return s.W();if(typeof s=="string")return s.split("");if(b(s)){for(var c=[],h=s.length,m=0;m<h;m++)c.push(s[m]);return c}c=[],h=0;for(m in s)c[h++]=s[m];return c}function oR(s){if(s.Y&&typeof s.Y=="function")return s.Y();if(!s.W||typeof s.W!="function"){if(b(s)||typeof s=="string"){var c=[];s=s.length;for(var h=0;h<s;h++)c.push(h);return c}c=[],h=0;for(var m in s)c[h++]=m;return c}}function lz(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(b(s)||typeof s=="string")pt(s,c,void 0);else for(var h=oR(s),m=iR(s),y=m.length,w=0;w<y;w++)c.call(void 0,m[w],h&&h[w],s)}function ql(s,c){this.b={},this.a=[],this.c=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var m=0;m<h;m+=2)this.set(arguments[m],arguments[m+1])}else if(s)if(s instanceof ql)for(h=s.Y(),m=0;m<h.length;m++)this.set(h[m],s.get(h[m]));else for(m in s)this.set(m,s[m])}t=ql.prototype,t.W=function(){Qb(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.b[this.a[c]]);return s},t.Y=function(){return Qb(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Qb(s){if(s.c!=s.a.length){for(var c=0,h=0;c<s.a.length;){var m=s.a[c];oa(s.b,m)&&(s.a[h++]=m),c++}s.a.length=h}if(s.c!=s.a.length){var y={};for(h=c=0;c<s.a.length;)m=s.a[c],oa(y,m)||(s.a[h++]=m,y[m]=1),c++;s.a.length=h}}t.get=function(s,c){return oa(this.b,s)?this.b[s]:c},t.set=function(s,c){oa(this.b,s)||(this.c++,this.a.push(s)),this.b[s]=c},t.forEach=function(s,c){for(var h=this.Y(),m=0;m<h.length;m++){var y=h[m],w=this.get(y);s.call(c,w,y,this)}};function oa(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var sR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cz(s,c){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var m=s[h].indexOf("="),y=null;if(0<=m){var w=s[h].substring(0,m);y=s[h].substring(m+1)}else w=s[h];c(w,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function $o(s,c){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var h;s instanceof $o?(this.i=c!==void 0?c:s.i,cd(this,s.c),this.l=s.l,this.a=s.a,ud(this,s.g),this.f=s.f,Jb(this,uR(s.b)),this.h=s.h):s&&(h=String(s).match(sR))?(this.i=!!c,cd(this,h[1]||"",!0),this.l=dd(h[2]||""),this.a=dd(h[3]||"",!0),ud(this,h[4]),this.f=dd(h[5]||"",!0),Jb(this,h[6]||"",!0),this.h=dd(h[7]||"")):(this.i=!!c,this.b=new sa(null,this.i))}$o.prototype.toString=function(){var s=[],c=this.c;c&&s.push(fd(c,aR,!0),":");var h=this.a;return(h||c=="file")&&(s.push("//"),(c=this.l)&&s.push(fd(c,aR,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.g,h!=null&&s.push(":",String(h))),(h=this.f)&&(this.a&&h.charAt(0)!="/"&&s.push("/"),s.push(fd(h,h.charAt(0)=="/"?fz:dz,!0))),(h=this.b.toString())&&s.push("?",h),(h=this.h)&&s.push("#",fd(h,pz)),s.join("")},$o.prototype.resolve=function(s){var c=new $o(this),h=!!s.c;h?cd(c,s.c):h=!!s.l,h?c.l=s.l:h=!!s.a,h?c.a=s.a:h=s.g!=null;var m=s.f;if(h)ud(c,s.g);else if(h=!!s.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var y=c.f.lastIndexOf("/");y!=-1&&(m=c.f.substr(0,y+1)+m)}if(y=m,y==".."||y==".")m="";else if(Je(y,"./")||Je(y,"/.")){m=y.lastIndexOf("/",0)==0,y=y.split("/");for(var w=[],S=0;S<y.length;){var I=y[S++];I=="."?m&&S==y.length&&w.push(""):I==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),m&&S==y.length&&w.push("")):(w.push(I),m=!0)}m=w.join("/")}else m=y}return h?c.f=m:h=s.b.toString()!=="",h?Jb(c,uR(s.b)):h=!!s.h,h&&(c.h=s.h),c};function cd(s,c,h){s.c=h?dd(c,!0):c,s.c&&(s.c=s.c.replace(/:$/,""))}function ud(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.g=c}else s.g=null}function Jb(s,c,h){c instanceof sa?(s.b=c,mz(s.b,s.i)):(h||(c=fd(c,hz)),s.b=new sa(c,s.i))}function At(s,c,h){s.b.set(c,h)}function Fr(s,c){return s.b.get(c)}function rr(s){return s instanceof $o?new $o(s):new $o(s,void 0)}function hp(s,c,h,m){var y=new $o(null,void 0);return s&&cd(y,s),c&&(y.a=c),h&&ud(y,h),m&&(y.f=m),y}function dd(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function fd(s,c,h){return typeof s=="string"?(s=encodeURI(s).replace(c,uz),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function uz(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var aR=/[#\/\?@]/g,dz=/[#\?:]/g,fz=/[#\?]/g,hz=/[#\?@]/g,pz=/#/g;function sa(s,c){this.b=this.a=null,this.c=s||null,this.f=!!c}function Yo(s){s.a||(s.a=new ql,s.b=0,s.c&&cz(s.c,function(c,h){s.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}function lR(s){var c=oR(s);if(typeof c=="undefined")throw Error("Keys are undefined");var h=new sa(null,void 0);s=iR(s);for(var m=0;m<c.length;m++){var y=c[m],w=s[m];Array.isArray(w)?cR(h,y,w):h.add(y,w)}return h}t=sa.prototype,t.add=function(s,c){Yo(this),this.c=null,s=zl(this,s);var h=this.a.get(s);return h||this.a.set(s,h=[]),h.push(c),this.b+=1,this};function Fi(s,c){Yo(s),c=zl(s,c),oa(s.a.b,c)&&(s.c=null,s.b-=s.a.get(c).length,s=s.a,oa(s.b,c)&&(delete s.b[c],s.c--,s.a.length>2*s.c&&Qb(s)))}t.clear=function(){this.a=this.c=null,this.b=0};function Zb(s,c){return Yo(s),c=zl(s,c),oa(s.a.b,c)}t.forEach=function(s,c){Yo(this),this.a.forEach(function(h,m){pt(h,function(y){s.call(c,y,m,this)},this)},this)},t.Y=function(){Yo(this);for(var s=this.a.W(),c=this.a.Y(),h=[],m=0;m<c.length;m++)for(var y=s[m],w=0;w<y.length;w++)h.push(c[m]);return h},t.W=function(s){Yo(this);var c=[];if(typeof s=="string")Zb(this,s)&&(c=Ib(c,this.a.get(zl(this,s))));else{s=this.a.W();for(var h=0;h<s.length;h++)c=Ib(c,s[h])}return c},t.set=function(s,c){return Yo(this),this.c=null,s=zl(this,s),Zb(this,s)&&(this.b-=this.a.get(s).length),this.a.set(s,[c]),this.b+=1,this},t.get=function(s,c){return s?(s=this.W(s),0<s.length?String(s[0]):c):c};function cR(s,c,h){Fi(s,c),0<h.length&&(s.c=null,s.a.set(zl(s,c),ea(h)),s.b+=h.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var s=[],c=this.a.Y(),h=0;h<c.length;h++){var m=c[h],y=encodeURIComponent(String(m));m=this.W(m);for(var w=0;w<m.length;w++){var S=y;m[w]!==""&&(S+="="+encodeURIComponent(String(m[w]))),s.push(S)}}return this.c=s.join("&")};function uR(s){var c=new sa;return c.c=s.c,s.a&&(c.a=new ql(s.a),c.b=s.b),c}function zl(s,c){return c=String(c),s.f&&(c=c.toLowerCase()),c}function mz(s,c){c&&!s.f&&(Yo(s),s.c=null,s.a.forEach(function(h,m){var y=m.toLowerCase();m!=y&&(Fi(this,m),cR(this,y,h))},s)),s.f=c}function dR(s){var c=[];return e_(new vz,s,c),c.join("")}function vz(){}function e_(s,c,h){if(c==null)h.push("null");else{if(typeof c=="object"){if(Array.isArray(c)){var m=c;c=m.length,h.push("[");for(var y="",w=0;w<c;w++)h.push(y),e_(s,m[w],h),y=",";h.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{h.push("{"),y="";for(m in c)Object.prototype.hasOwnProperty.call(c,m)&&(w=c[m],typeof w!="function"&&(h.push(y),hR(m,h),h.push(":"),e_(s,w,h),y=","));h.push("}");return}}switch(typeof c){case"string":hR(c,h);break;case"number":h.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":h.push(String(c));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var fR={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},gz=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hR(s,c){c.push('"',s.replace(gz,function(h){var m=fR[h];return m||(m="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),fR[h]=m),m}),'"')}function t_(){var s=ln();return ci&&!!Ko&&Ko==11||/Edge\/\d+/.test(s)}function hd(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function pR(s,c){c=c||u.window;var h="about:blank";s&&(h=rp(_A(s)||EA)),c.location.href=h}function mR(s,c){var h=[],m;for(m in s)m in c?typeof s[m]!=typeof c[m]?h.push(m):typeof s[m]=="object"&&s[m]!=null&&c[m]!=null?0<mR(s[m],c[m]).length&&h.push(m):s[m]!==c[m]&&h.push(m):h.push(m);for(m in c)m in s||h.push(m);return h}function yz(){var s=ln();return s=Wl(s)!=bR?null:(s=s.match(/\sChrome\/(\d+)/i))&&s.length==2?parseInt(s[1],10):null,s&&30>s?!1:!ci||!Ko||9<Ko}function vR(s){return s=(s||ln()).toLowerCase(),!!(s.match(/android/)||s.match(/webos/)||s.match(/iphone|ipad|ipod/)||s.match(/blackberry/)||s.match(/windows phone/)||s.match(/iemobile/))}function aa(s){s=s||u.window;try{s.close()}catch(c){}}function gR(s,c,h){var m=Math.floor(1e9*Math.random()).toString();c=c||500,h=h||600;var y=(window.screen.availHeight-h)/2,w=(window.screen.availWidth-c)/2;c={width:c,height:h,top:0<y?y:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},h=ln().toLowerCase(),m&&(c.target=m,Je(h,"crios/")&&(c.target="_blank")),Wl(ln())==i_&&(s=s||"http://localhost",c.scrollbars=!0),h=s||"",(s=c)||(s={}),m=window,c=h instanceof tr?h:_A(typeof h.href!="undefined"?h.href:String(h))||EA,h=s.target||h.target,y=[];for(S in s)switch(S){case"width":case"height":case"top":case"left":y.push(S+"="+s[S]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(S+"="+(s[S]?1:0))}var S=y.join(",");if((Wt("iPhone")&&!Wt("iPod")&&!Wt("iPad")||Wt("iPad")||Wt("iPod"))&&m.navigator&&m.navigator.standalone&&h&&h!="_self"?(S=op(document,"A"),pA(S,"HTMLAnchorElement"),c=c instanceof tr?c:wA(c),S.href=rp(c),S.setAttribute("target",h),s.noreferrer&&S.setAttribute("rel","noreferrer"),s=document.createEvent("MouseEvent"),s.initMouseEvent("click",!0,!0,m,1),S.dispatchEvent(s),S={}):s.noreferrer?(S=SA("",m,h,S),s=rp(c),S&&(qq&&Je(s,";")&&(s="'"+s.replace(/'/g,"%27")+"'"),S.opener=null,s='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Db(s)+'">',s=(m=vA())?m.createHTML(s):s,s=new Vl(s,null,xA),m=S.document)&&(m.write(Bq(s)),m.close())):(S=SA(c,m,h,S))&&s.noopener&&(S.opener=null),S)try{S.focus()}catch(I){}return S}function bz(s){return new Ae(function(c){function h(){jl(2e3).then(function(){if(!s||s.closed)c();else return h()})}return h()})}var _z=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wz=/^[^@]+@[^@]+$/;function pp(){var s=null;return new Ae(function(c){u.document.readyState=="complete"?c():(s=function(){c()},Gb(window,"load",s))}).o(function(c){throw yr(window,"load",s),c})}function Ez(){return n_(void 0)?pp().then(function(){return new Ae(function(s,c){var h=u.document,m=setTimeout(function(){c(Error("Cordova framework is not ready."))},1e3);h.addEventListener("deviceready",function(){clearTimeout(m),s()},!1)})}):lt(Error("Cordova must run in an Android or iOS file scheme."))}function n_(s){return s=s||ln(),!(Kl()!=="file:"&&Kl()!=="ionic:"||!s.toLowerCase().match(/iphone|ipad|ipod|android/))}function r_(){var s=u.window;try{return!(!s||s==s.top)}catch(c){return!1}}function ui(){return typeof u.WorkerGlobalScope!="undefined"&&typeof u.importScripts=="function"}function Ui(){return Q.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Q.INTERNAL.hasOwnProperty("node")?"Node":ui()?"Worker":"Browser"}function yR(){var s=Ui();return s==="ReactNative"||s==="Node"}function xz(){for(var s=50,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}var i_="Firefox",bR="Chrome";function Wl(s){var c=s.toLowerCase();if(Je(c,"opera/")||Je(c,"opr/")||Je(c,"opios/"))return"Opera";if(Je(c,"iemobile"))return"IEMobile";if(Je(c,"msie")||Je(c,"trident/"))return"IE";if(Je(c,"edge/"))return"Edge";if(Je(c,"firefox/"))return i_;if(Je(c,"silk/"))return"Silk";if(Je(c,"blackberry"))return"Blackberry";if(Je(c,"webos"))return"Webos";if(!Je(c,"safari/")||Je(c,"chrome/")||Je(c,"crios/")||Je(c,"android"))if(!Je(c,"chrome/")&&!Je(c,"crios/")||Je(c,"edge/")){if(Je(c,"android"))return"Android";if((s=s.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&s.length==2)return s[1]}else return bR;else return"Safari";return"Other"}var _R={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gl(s,c){c=c||[];var h=[],m={},y;for(y in _R)m[_R[y]]=!0;for(y=0;y<c.length;y++)typeof m[c[y]]!="undefined"&&(delete m[c[y]],h.push(c[y]));return h.sort(),c=h,c.length||(c=["FirebaseCore-web"]),h=Ui(),h==="Browser"?(m=ln(),h=Wl(m)):h==="Worker"&&(m=ln(),h=Wl(m)+"-"+h),h+"/JsCore/"+s+"/"+c.join(",")}function ln(){return u.navigator&&u.navigator.userAgent||""}function ct(s,c){s=s.split("."),c=c||u;for(var h=0;h<s.length&&typeof c=="object"&&c!=null;h++)c=c[s[h]];return h!=s.length&&(c=void 0),c}function o_(){try{var s=u.localStorage,c=ca();if(s)return s.setItem(c,"1"),s.removeItem(c),t_()?!!u.indexedDB:!0}catch(h){return ui()&&!!u.indexedDB}return!1}function la(){return(mp()||Kl()==="chrome-extension:"||n_())&&!yR()&&o_()&&!ui()}function mp(){return Kl()==="http:"||Kl()==="https:"}function Kl(){return u.location&&u.location.protocol||null}function pd(s){return s=s||ln(),!(vR(s)||Wl(s)==i_)}function md(s){return typeof s=="undefined"?null:dR(s)}function wR(s){var c={},h;for(h in s)s.hasOwnProperty(h)&&s[h]!==null&&s[h]!==void 0&&(c[h]=s[h]);return c}function $l(s){if(s!==null)return JSON.parse(s)}function ca(s){return s||Math.floor(1e9*Math.random()).toString()}function ER(s){return s=s||ln(),!(Wl(s)=="Safari"||s.toLowerCase().match(/iphone|ipad|ipod/))}function xR(){var s=u.___jsl;if(s&&s.H){for(var c in s.H)if(s.H[c].r=s.H[c].r||[],s.H[c].L=s.H[c].L||[],s.H[c].r=s.H[c].L.concat(),s.CP)for(var h=0;h<s.CP.length;h++)s.CP[h]=null}}function Xo(s,c){if(s>c)throw Error("Short delay should be less than long delay!");this.a=s,this.c=c,s=ln(),c=Ui(),this.b=vR(s)||c==="ReactNative"}Xo.prototype.get=function(){var s=u.navigator;return(s&&typeof s.onLine=="boolean"&&(mp()||Kl()==="chrome-extension:"||typeof s.connection!="undefined")?s.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function s_(){var s=u.document;return s&&typeof s.visibilityState!="undefined"?s.visibilityState=="visible":!0}function Sz(){var s=u.document,c=null;return s_()||!s?le():new Ae(function(h){c=function(){s_()&&(s.removeEventListener("visibilitychange",c,!1),h())},s.addEventListener("visibilitychange",c,!1)}).o(function(h){throw s.removeEventListener("visibilitychange",c,!1),h})}function vd(s){try{var c=new Date(parseInt(s,10));if(!isNaN(c.getTime())&&!/[^0-9]/.test(s))return c.toUTCString()}catch(h){}return null}function SR(){return!(!ct("fireauth.oauthhelper",u)&&!ct("fireauth.iframe",u))}function Tz(){var s=u.navigator;return s&&s.serviceWorker&&s.serviceWorker.controller||null}function Cz(){var s=u.navigator;return s&&s.serviceWorker?le().then(function(){return s.serviceWorker.ready}).then(function(c){return c.active||null}).o(function(){return null}):le(null)}var TR={};function a_(s){TR[s]||(TR[s]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(s))}var l_;try{var c_={};Object.defineProperty(c_,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(c_,"abcd",{configurable:!0,enumerable:!0,value:2}),l_=c_.abcd==2}catch(s){l_=!1}function te(s,c,h){l_?Object.defineProperty(s,c,{configurable:!0,enumerable:!0,value:h}):s[c]=h}function Ln(s,c){if(c)for(var h in c)c.hasOwnProperty(h)&&te(s,h,c[h])}function Bi(s){var c={};return Ln(c,s),c}function Iz(s){var c={},h;for(h in s)s.hasOwnProperty(h)&&(c[h]=s[h]);return c}function Az(s,c){if(!c||!c.length)return!0;if(!s)return!1;for(var h=0;h<c.length;h++){var m=s[c[h]];if(m==null||m==="")return!1}return!0}function u_(s){var c=s;if(typeof s=="object"&&s!=null){c="length"in s?[]:{};for(var h in s)te(c,h,u_(s[h]))}return c}function d_(s){var c=s&&(s[m_]?"phone":null);if(c&&s&&s[p_]){te(this,"uid",s[p_]),te(this,"displayName",s[CR]||null);var h=null;s[h_]&&(h=new Date(s[h_]).toUTCString()),te(this,"enrollmentTime",h),te(this,"factorId",c)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}d_.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function f_(s){try{var c=new gd(s)}catch(h){c=null}return c}var CR="displayName",h_="enrolledAt",p_="mfaEnrollmentId",m_="phoneInfo";function gd(s){d_.call(this,s),te(this,"phoneNumber",s[m_])}$(gd,d_),gd.prototype.w=function(){var s=gd.ab.w.call(this);return s.phoneNumber=this.phoneNumber,s};function Rz(s){var c={},h=s[kz],m=s[Nz],y=s[Oz];if(s=f_(s[Dz]),!y||y!=vp&&y!=yd&&!h||y==yd&&!m||y==v_&&!s)throw Error("Invalid checkActionCode response!");y==yd?(c[AR]=h||null,c[RR]=h||null,c[IR]=m):(c[AR]=m||null,c[RR]=m||null,c[IR]=h||null),c[Pz]=s||null,te(this,Lz,y),te(this,Mz,u_(c))}var v_="REVERT_SECOND_FACTOR_ADDITION",vp="EMAIL_SIGNIN",yd="VERIFY_AND_CHANGE_EMAIL",kz="email",Dz="mfaInfo",Nz="newEmail",Oz="requestType",IR="email",AR="fromEmail",Pz="multiFactorInfo",RR="previousEmail",Mz="data",Lz="operation";function g_(s){s=rr(s);var c=Fr(s,kR)||null,h=Fr(s,DR)||null,m=Fr(s,NR)||null;if(m=m&&Vz[m]||null,!c||!h||!m)throw new O("argument-error",kR+", "+DR+"and "+NR+" are required in a valid action code URL.");Ln(this,{apiKey:c,operation:m,code:h,continueUrl:Fr(s,Fz)||null,languageCode:Fr(s,Uz)||null,tenantId:Fr(s,Bz)||null})}var kR="apiKey",DR="oobCode",Fz="continueUrl",Uz="languageCode",NR="mode",Bz="tenantId",Vz={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:v_,signIn:vp,verifyAndChangeEmail:yd,verifyEmail:"VERIFY_EMAIL"};function OR(s){try{return new g_(s)}catch(c){return null}}function gp(s){var c=s[Hz];if(typeof c=="undefined")throw new O("missing-continue-uri");if(typeof c!="string"||typeof c=="string"&&!c.length)throw new O("invalid-continue-uri");this.h=c,this.b=this.a=null,this.g=!1;var h=s[PR];if(h&&typeof h=="object"){c=h[BR];var m=h[FR];if(h=h[UR],typeof c=="string"&&c.length){if(this.a=c,typeof m!="undefined"&&typeof m!="boolean")throw new O("argument-error",FR+" property must be a boolean when specified.");if(this.g=!!m,typeof h!="undefined"&&(typeof h!="string"||typeof h=="string"&&!h.length))throw new O("argument-error",UR+" property must be a non empty string when specified.");this.b=h||null}else{if(typeof c!="undefined")throw new O("argument-error",BR+" property must be a non empty string when specified.");if(typeof m!="undefined"||typeof h!="undefined")throw new O("missing-android-pkg-name")}}else if(typeof h!="undefined")throw new O("argument-error",PR+" property must be a non null object when specified.");if(this.f=null,(c=s[LR])&&typeof c=="object"){if(c=c[VR],typeof c=="string"&&c.length)this.f=c;else if(typeof c!="undefined")throw new O("argument-error",VR+" property must be a non empty string when specified.")}else if(typeof c!="undefined")throw new O("argument-error",LR+" property must be a non null object when specified.");if(c=s[y_],typeof c!="undefined"&&typeof c!="boolean")throw new O("argument-error",y_+" property must be a boolean when specified.");if(this.c=!!c,s=s[MR],typeof s!="undefined"&&(typeof s!="string"||typeof s=="string"&&!s.length))throw new O("argument-error",MR+" property must be a non empty string when specified.");this.i=s||null}var PR="android",MR="dynamicLinkDomain",y_="handleCodeInApp",LR="iOS",Hz="url",FR="installApp",UR="minimumVersion",BR="packageName",VR="bundleId";function yp(s){var c={};c.continueUrl=s.h,c.canHandleCodeInApp=s.c,(c.androidPackageName=s.a)&&(c.androidMinimumVersion=s.b,c.androidInstallApp=s.g),c.iOSBundleId=s.f,c.dynamicLinkDomain=s.i;for(var h in c)c[h]===null&&delete c[h];return c}function jz(s){return Zh(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}var bd=null;function qz(s){var c=[];return zz(s,function(h){c.push(h)}),c}function zz(s,c){function h(V){for(;m<s.length;){var j=s.charAt(m++),he=bd[j];if(he!=null)return he;if(!/^[\s\xa0]*$/.test(j))throw Error("Unknown base64 encoding at char: "+j)}return V}Wz();for(var m=0;;){var y=h(-1),w=h(0),S=h(64),I=h(64);if(I===64&&y===-1)break;c(y<<2|w>>4),S!=64&&(c(w<<4&240|S>>2),I!=64&&c(S<<6&192|I))}}function Wz(){if(!bd){bd={};for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=["+/=","+/","-_=","-_.","-_"],h=0;5>h;h++)for(var m=s.concat(c[h].split("")),y=0;y<m.length;y++){var w=m[y];bd[w]===void 0&&(bd[w]=y)}}}function bp(s){var c=HR(s);if(!(c&&c.sub&&c.iss&&c.aud&&c.exp))throw Error("Invalid JWT");this.h=s,this.a=c.exp,this.i=c.sub,s=Date.now()/1e3,this.g=c.iat||(s>this.a?this.a:s),this.b=c.provider_id||c.firebase&&c.firebase.sign_in_provider||null,this.f=c.firebase&&c.firebase.tenant||null,this.c=!!c.is_anonymous||this.b=="anonymous"}bp.prototype.T=function(){return this.f},bp.prototype.l=function(){return this.c},bp.prototype.toString=function(){return this.h};function _p(s){try{return new bp(s)}catch(c){return null}}function HR(s){if(!s||(s=s.split("."),s.length!=3))return null;s=s[1];for(var c=(4-s.length%4)%4,h=0;h<c;h++)s+=".";try{var m=qz(s);for(s=[],h=c=0;c<m.length;){var y=m[c++];if(128>y)s[h++]=String.fromCharCode(y);else if(191<y&&224>y){var w=m[c++];s[h++]=String.fromCharCode((y&31)<<6|w&63)}else if(239<y&&365>y){w=m[c++];var S=m[c++],I=m[c++],V=((y&7)<<18|(w&63)<<12|(S&63)<<6|I&63)-65536;s[h++]=String.fromCharCode(55296+(V>>10)),s[h++]=String.fromCharCode(56320+(V&1023))}else w=m[c++],S=m[c++],s[h++]=String.fromCharCode((y&15)<<12|(w&63)<<6|S&63)}return JSON.parse(s.join(""))}catch(j){}return null}var jR="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),wp=["client_id","response_type","scope","redirect_uri","state"],b_={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:wp},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:wp},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:wp},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:jR},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function __(s){for(var c in b_)if(b_[c].fa==s)return b_[c];return null}function qR(s){var c={};c["facebook.com"]=WR,c["google.com"]=KR,c["github.com"]=GR,c["twitter.com"]=$R;var h=s&&s[zR];try{if(h)return c[h]?new c[h](s):new Vi(s);if(typeof s[w_]!="undefined")return new E_(s)}catch(m){}return null}var w_="idToken",zR="providerId";function E_(s){var c=s[zR];if(!c&&s[w_]){var h=_p(s[w_]);h&&h.b&&(c=h.b)}if(!c)throw Error("Invalid additional user info!");(c=="anonymous"||c=="custom")&&(c=null),h=!1,typeof s.isNewUser!="undefined"?h=!!s.isNewUser:s.kind==="identitytoolkit#SignupNewUserResponse"&&(h=!0),te(this,"providerId",c),te(this,"isNewUser",h)}function Vi(s){E_.call(this,s),s=$l(s.rawUserInfo||"{}"),te(this,"profile",u_(s||{}))}$(Vi,E_);function WR(s){if(Vi.call(this,s),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}$(WR,Vi);function GR(s){if(Vi.call(this,s),this.providerId!="github.com")throw Error("Invalid provider ID!");te(this,"username",this.profile&&this.profile.login||null)}$(GR,Vi);function KR(s){if(Vi.call(this,s),this.providerId!="google.com")throw Error("Invalid provider ID!")}$(KR,Vi);function $R(s){if(Vi.call(this,s),this.providerId!="twitter.com")throw Error("Invalid provider ID!");te(this,"username",s.screenName||null)}$($R,Vi);function YR(s){var c=rr(s),h=Fr(c,"link"),m=Fr(rr(h),"link");return c=Fr(c,"deep_link_id"),Fr(rr(c),"link")||c||m||h||s}function Ep(s,c){if(!s&&!c)throw new O("internal-error","Internal assert: no raw session string available");if(s&&c)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=s||null,this.b=c||null,this.type=this.a?_d:xp}var _d="enroll",xp="signin";Ep.prototype.Ha=function(){return this.a?le(this.a):le(this.b)},Ep.prototype.w=function(){return this.type==_d?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Yl(){}Yl.prototype.ka=function(){},Yl.prototype.b=function(){},Yl.prototype.c=function(){},Yl.prototype.w=function(){};function Xl(s,c){return s.then(function(h){if(h[hi]){var m=_p(h[hi]);if(!m||c!=m.i)throw new O("user-mismatch");return h}throw new O("user-mismatch")}).o(function(h){throw h&&h.code&&h.code==Jt+"user-not-found"?new O("user-mismatch"):h})}function ua(s,c){if(c)this.a=c;else throw new O("internal-error","failed to construct a credential");te(this,"providerId",s),te(this,"signInMethod",s)}ua.prototype.ka=function(s){return G_(s,x_(this))},ua.prototype.b=function(s,c){var h=x_(this);return h.idToken=c,K_(s,h)},ua.prototype.c=function(s,c){return Xl($_(s,x_(this)),c)};function x_(s){return{pendingToken:s.a,requestUri:"http://localhost"}}ua.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Gz(s){if(s&&s.providerId&&s.signInMethod&&s.providerId.indexOf("saml.")==0&&s.pendingToken)try{return new ua(s.providerId,s.pendingToken)}catch(c){}return null}function yo(s,c,h){if(this.a=null,c.idToken||c.accessToken)c.idToken&&te(this,"idToken",c.idToken),c.accessToken&&te(this,"accessToken",c.accessToken),c.nonce&&!c.pendingToken&&te(this,"nonce",c.nonce),c.pendingToken&&(this.a=c.pendingToken);else if(c.oauthToken&&c.oauthTokenSecret)te(this,"accessToken",c.oauthToken),te(this,"secret",c.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");te(this,"providerId",s),te(this,"signInMethod",h)}yo.prototype.ka=function(s){return G_(s,S_(this))},yo.prototype.b=function(s,c){var h=S_(this);return h.idToken=c,K_(s,h)},yo.prototype.c=function(s,c){var h=S_(this);return Xl($_(s,h),c)};function S_(s){var c={};return s.idToken&&(c.id_token=s.idToken),s.accessToken&&(c.access_token=s.accessToken),s.secret&&(c.oauth_token_secret=s.secret),c.providerId=s.providerId,s.nonce&&!s.a&&(c.nonce=s.nonce),c={postBody:lR(c).toString(),requestUri:"http://localhost"},s.a&&(delete c.postBody,c.pendingToken=s.a),c}yo.prototype.w=function(){var s={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(s.oauthIdToken=this.idToken),this.accessToken&&(s.oauthAccessToken=this.accessToken),this.secret&&(s.oauthTokenSecret=this.secret),this.nonce&&(s.nonce=this.nonce),this.a&&(s.pendingToken=this.a),s};function Kz(s){if(s&&s.providerId&&s.signInMethod){var c={idToken:s.oauthIdToken,accessToken:s.oauthTokenSecret?null:s.oauthAccessToken,oauthTokenSecret:s.oauthTokenSecret,oauthToken:s.oauthTokenSecret&&s.oauthAccessToken,nonce:s.nonce,pendingToken:s.pendingToken};try{return new yo(s.providerId,c,s.signInMethod)}catch(h){}}return null}function da(s,c){this.Qc=c||[],Ln(this,{providerId:s,isOAuthProvider:!0}),this.Ib={},this.pb=(__(s)||{}).Ja||null,this.ob=null}da.prototype.Ka=function(s){return this.Ib=Go(s),this};function XR(s){if(typeof s!="string"||s.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');da.call(this,s,[])}$(XR,da);function br(s){da.call(this,s,wp),this.a=[]}$(br,da),br.prototype.Ca=function(s){return vo(this.a,s)||this.a.push(s),this},br.prototype.Qb=function(){return ea(this.a)},br.prototype.credential=function(s,c){var h;if(E(s)?h={idToken:s.idToken||null,accessToken:s.accessToken||null,nonce:s.rawNonce||null}:h={idToken:s||null,accessToken:c||null},!h.idToken&&!h.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new yo(this.providerId,h,this.providerId)};function fa(){br.call(this,"facebook.com")}$(fa,br),te(fa,"PROVIDER_ID","facebook.com"),te(fa,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function QR(s){if(!s)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=s;return E(s)&&(c=s.accessToken),new fa().credential({accessToken:c})}function ha(){br.call(this,"github.com")}$(ha,br),te(ha,"PROVIDER_ID","github.com"),te(ha,"GITHUB_SIGN_IN_METHOD","github.com");function JR(s){if(!s)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var c=s;return E(s)&&(c=s.accessToken),new ha().credential({accessToken:c})}function pa(){br.call(this,"google.com"),this.Ca("profile")}$(pa,br),te(pa,"PROVIDER_ID","google.com"),te(pa,"GOOGLE_SIGN_IN_METHOD","google.com");function ZR(s,c){var h=s;return E(s)&&(h=s.idToken,c=s.accessToken),new pa().credential({idToken:h,accessToken:c})}function Ql(){da.call(this,"twitter.com",jR)}$(Ql,da),te(Ql,"PROVIDER_ID","twitter.com"),te(Ql,"TWITTER_SIGN_IN_METHOD","twitter.com");function ek(s,c){var h=s;if(E(h)||(h={oauthToken:s,oauthTokenSecret:c}),!h.oauthToken||!h.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yo("twitter.com",h,"twitter.com")}function Qo(s,c,h){this.a=s,this.f=c,te(this,"providerId","password"),te(this,"signInMethod",h===Ur.EMAIL_LINK_SIGN_IN_METHOD?Ur.EMAIL_LINK_SIGN_IN_METHOD:Ur.EMAIL_PASSWORD_SIGN_IN_METHOD)}Qo.prototype.ka=function(s){return this.signInMethod==Ur.EMAIL_LINK_SIGN_IN_METHOD?ke(s,NW,{email:this.a,oobCode:this.f}):ke(s,Ak,{email:this.a,password:this.f})},Qo.prototype.b=function(s,c){return this.signInMethod==Ur.EMAIL_LINK_SIGN_IN_METHOD?ke(s,OW,{idToken:c,email:this.a,oobCode:this.f}):ke(s,Ik,{idToken:c,email:this.a,password:this.f})},Qo.prototype.c=function(s,c){return Xl(this.ka(s),c)},Qo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function $z(s){return s&&s.email&&s.password?new Qo(s.email,s.password,s.signInMethod):null}function Ur(){Ln(this,{providerId:"password",isOAuthProvider:!1})}function tk(s,c){if(c=T_(c),!c)throw new O("argument-error","Invalid email link!");return new Qo(s,c.code,Ur.EMAIL_LINK_SIGN_IN_METHOD)}function T_(s){return s=YR(s),(s=OR(s))&&s.operation===vp?s:null}Ln(Ur,{PROVIDER_ID:"password"}),Ln(Ur,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ln(Ur,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Jo(s){if(!(s.eb&&s.cb||s.La&&s.ea))throw new O("internal-error");this.a=s,te(this,"providerId","phone"),this.fa="phone",te(this,"signInMethod","phone")}Jo.prototype.ka=function(s){return s.fb(wd(this))},Jo.prototype.b=function(s,c){var h=wd(this);return h.idToken=c,ke(s,ZW,h)},Jo.prototype.c=function(s,c){var h=wd(this);return h.operation="REAUTH",s=ke(s,e5,h),Xl(s,c)},Jo.prototype.w=function(){var s={providerId:"phone"};return this.a.eb&&(s.verificationId=this.a.eb),this.a.cb&&(s.verificationCode=this.a.cb),this.a.La&&(s.temporaryProof=this.a.La),this.a.ea&&(s.phoneNumber=this.a.ea),s};function Yz(s){if(s&&s.providerId==="phone"&&(s.verificationId&&s.verificationCode||s.temporaryProof&&s.phoneNumber)){var c={};return pt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(h){s[h]&&(c[h]=s[h])}),new Jo(c)}return null}function wd(s){return s.a.La&&s.a.ea?{temporaryProof:s.a.La,phoneNumber:s.a.ea}:{sessionInfo:s.a.eb,code:s.a.cb}}function bo(s){try{this.a=s||Q.auth()}catch(c){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ln(this,{providerId:"phone",isOAuthProvider:!1})}bo.prototype.fb=function(s,c){var h=this.a.a;return le(c.verify()).then(function(m){if(typeof m!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(c.type){case"recaptcha":var y=E(s)?s.session:null,w=E(s)?s.phoneNumber:s,S;return y&&y.type==_d?S=y.Ha().then(function(I){return xW(h,{idToken:I,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:m}})}):y&&y.type==xp?S=y.Ha().then(function(I){return SW(h,{mfaPendingCredential:I,mfaEnrollmentId:s.multiFactorHint&&s.multiFactorHint.uid||s.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):S=EW(h,{phoneNumber:w,recaptchaToken:m}),S.then(function(I){return typeof c.reset=="function"&&c.reset(),I},function(I){throw typeof c.reset=="function"&&c.reset(),I});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function nk(s,c){if(!s)throw new O("missing-verification-id");if(!c)throw new O("missing-verification-code");return new Jo({eb:s,cb:c})}Ln(bo,{PROVIDER_ID:"phone"}),Ln(bo,{PHONE_SIGN_IN_METHOD:"phone"});function C_(s){if(s.temporaryProof&&s.phoneNumber)return new Jo({La:s.temporaryProof,ea:s.phoneNumber});var c=s&&s.providerId;if(!c||c==="password")return null;var h=s&&s.oauthAccessToken,m=s&&s.oauthTokenSecret,y=s&&s.nonce,w=s&&s.oauthIdToken,S=s&&s.pendingToken;try{switch(c){case"google.com":return ZR(w,h);case"facebook.com":return QR(h);case"github.com":return JR(h);case"twitter.com":return ek(h,m);default:return h||m||w||S?S?c.indexOf("saml.")==0?new ua(c,S):new yo(c,{pendingToken:S,idToken:s.oauthIdToken,accessToken:s.oauthAccessToken},c):new br(c).credential({idToken:w,accessToken:h,rawNonce:y}):null}}catch(I){return null}}function I_(s){if(!s.isOAuthProvider)throw new O("invalid-oauth-provider")}function di(s,c,h,m,y,w,S){if(this.c=s,this.b=c||null,this.g=h||null,this.f=m||null,this.i=w||null,this.h=S||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}di.prototype.getUid=function(){var s=[];return s.push(this.c),this.b&&s.push(this.b),this.f&&s.push(this.f),this.h&&s.push(this.h),s.join("-")},di.prototype.T=function(){return this.h},di.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function rk(s){return s=s||{},s.type?new di(s.type,s.eventId,s.urlResponse,s.sessionId,s.error&&Zn(s.error),s.postBody,s.tenantId):null}function Xz(){this.b=null,this.a=[]}var A_=null;function Qz(s){var c=A_;c.a.push(s),c.b||(c.b=function(h){for(var m=0;m<c.a.length;m++)c.a[m](h)},s=ct("universalLinks.subscribe",u),typeof s=="function"&&s(null,c.b))}function R_(s){var c="unauthorized-domain",h=void 0,m=rr(s);s=m.a,m=m.c,m=="chrome-extension"?h=TA("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):m=="http"||m=="https"?h=TA("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",s):c="operation-not-supported-in-this-environment",O.call(this,c,h)}$(R_,O);function Ed(s,c,h){O.call(this,s,h),s=c||{},s.Jb&&te(this,"email",s.Jb),s.ea&&te(this,"phoneNumber",s.ea),s.credential&&te(this,"credential",s.credential),s.Zb&&te(this,"tenantId",s.Zb)}$(Ed,O),Ed.prototype.w=function(){var s={code:this.code,message:this.message};this.email&&(s.email=this.email),this.phoneNumber&&(s.phoneNumber=this.phoneNumber),this.tenantId&&(s.tenantId=this.tenantId);var c=this.credential&&this.credential.w();return c&&er(s,c),s},Ed.prototype.toJSON=function(){return this.w()};function Sp(s){if(s.code){var c=s.code||"";c.indexOf(Jt)==0&&(c=c.substring(Jt.length));var h={credential:C_(s),Zb:s.tenantId};if(s.email)h.Jb=s.email;else if(s.phoneNumber)h.ea=s.phoneNumber;else if(!h.credential)return new O(c,s.message||void 0);return new Ed(c,h,s.message)}return null}function xd(){}xd.prototype.c=null;function ik(s){return s.c||(s.c=s.b())}var k_;function Tp(){}$(Tp,xd),Tp.prototype.a=function(){var s=ok(this);return s?new ActiveXObject(s):new XMLHttpRequest},Tp.prototype.b=function(){var s={};return ok(this)&&(s[0]=!0,s[1]=!0),s};function ok(s){if(!s.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],h=0;h<c.length;h++){var m=c[h];try{return new ActiveXObject(m),s.f=m}catch(y){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return s.f}k_=new Tp;function Cp(){}$(Cp,xd),Cp.prototype.a=function(){var s=new XMLHttpRequest;if("withCredentials"in s)return s;if(typeof XDomainRequest!="undefined")return new sk;throw Error("Unsupported browser")},Cp.prototype.b=function(){return{}};function sk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=F(this.qc,this),this.a.onerror=F(this.Sb,this),this.a.onprogress=F(this.rc,this),this.a.ontimeout=F(this.vc,this)}t=sk.prototype,t.open=function(s,c,h){if(h!=null&&!h)throw Error("Only async requests are supported.");this.a.open(s,c)},t.send=function(s){if(s)if(typeof s=="string")this.a.send(s);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(s){return s.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,D_(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",D_(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,D_(this,1)};function D_(s,c){s.readyState=c,s.onreadystatechange&&s.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function N_(s,c,h){this.reset(s,c,h,void 0,void 0)}N_.prototype.a=null;var Jz=0;N_.prototype.reset=function(s,c,h,m,y){typeof y=="number"||Jz++,m||Y(),delete this.a};function O_(s){this.f=s,this.b=this.c=this.a=null}function Sd(s,c){this.name=s,this.value=c}Sd.prototype.toString=function(){return this.name};var ak=new Sd("SEVERE",1e3),P_=new Sd("WARNING",900),Zz=new Sd("CONFIG",700),eW=new Sd("FINE",500);function lk(s){return s.c?s.c:s.a?lk(s.a):(Fl("Root logger has no level set."),null)}O_.prototype.log=function(s,c,h){if(s.value>=lk(this).value)for(_(c)&&(c=c()),s=new N_(s,String(c),this.f),h&&(s.a=h),h=this;h;)h=h.a};var M_={},Ip=null;function L_(s){Ip||(Ip=new O_(""),M_[""]=Ip,Ip.c=Zz);var c;if(!(c=M_[s])){c=new O_(s);var h=s.lastIndexOf("."),m=s.substr(h+1);h=L_(s.substr(0,h)),h.b||(h.b={}),h.b[m]=c,c.a=h,M_[s]=c}return c}function Br(s,c){s&&s.log(eW,c,void 0)}function Ap(s){this.f=s}$(Ap,xd),Ap.prototype.a=function(){return new Rp(this.f)},Ap.prototype.b=function(s){return function(){return s}}({});function Rp(s){Mn.call(this),this.u=s,this.h=void 0,this.readyState=F_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=L_("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}$(Rp,Mn);var F_=0;t=Rp.prototype,t.open=function(s,c){if(this.readyState!=F_)throw this.abort(),Error("Error reopening a connection");this.s=s,this.f=c,this.readyState=1,Cd(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var c={headers:this.l,method:this.s,credentials:this.h,cache:void 0};s&&(c.body=s),this.u.fetch(new Request(this.f,c)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Td(this)),this.readyState=F_},t.uc=function(s){this.a&&(this.g=s,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=s.headers,this.readyState=2,Cd(this)),this.a&&(this.readyState=3,Cd(this),this.a&&(this.responseType==="arraybuffer"?s.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof u.ReadableStream!="undefined"&&"body"in s?(this.response=this.responseText="",this.c=s.body.getReader(),this.m=new TextDecoder,ck(this)):s.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function ck(s){s.c.read().then(s.pc.bind(s)).catch(s.Ua.bind(s))}t.pc=function(s){if(this.a){var c=this.m.decode(s.value?s.value:new Uint8Array(0),{stream:!s.done});c&&(this.response=this.responseText+=c),s.done?Td(this):Cd(this),this.readyState==3&&ck(this)}},t.tc=function(s){this.a&&(this.response=this.responseText=s,Td(this))},t.sc=function(s){this.a&&(this.response=s,Td(this))},t.Ua=function(s){var c=this.i;c&&c.log(P_,"Failed to fetch url "+this.f,s instanceof Error?s:Error(s)),this.a&&Td(this)};function Td(s){s.readyState=4,s.g=null,s.c=null,s.m=null,Cd(s)}t.setRequestHeader=function(s,c){this.l.append(s,c)},t.getResponseHeader=function(s){return this.b?this.b.get(s.toLowerCase())||"":((s=this.i)&&s.log(P_,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var s=this.i;return s&&s.log(P_,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}s=[];for(var c=this.b.entries(),h=c.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=c.next();return s.join(`\r
`)};function Cd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(s){this.h=s?"include":"same-origin"}});function Id(s){Mn.call(this),this.headers=new ql,this.D=s||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=uk,this.u=this.S=!1}$(Id,Mn);var uk="";Id.prototype.b=L_("goog.net.XhrIo");var tW=/^https?$/i,nW=["POST","PUT"];function rW(s,c,h,m,y){if(s.a)throw Error("[goog.net.XhrIo] Object is active with another request="+s.l+"; newUri="+c);h=h?h.toUpperCase():"GET",s.l=c,s.h="",s.R=h,s.J=!1,s.c=!0,s.a=s.D?s.D.a():k_.a(),s.C=s.D?ik(s.D):ik(k_),s.a.onreadystatechange=F(s.Vb,s);try{Br(s.b,_o(s,"Opening Xhr")),s.O=!0,s.a.open(h,String(c),!0),s.O=!1}catch(S){Br(s.b,_o(s,"Error opening Xhr: "+S.message)),dk(s,S);return}c=m||"";var w=new ql(s.headers);y&&lz(y,function(S,I){w.set(I,S)}),y=Cq(w.Y()),m=u.FormData&&c instanceof u.FormData,!vo(nW,h)||y||m||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(S,I){this.a.setRequestHeader(I,S)},s),s.m&&(s.a.responseType=s.m),"withCredentials"in s.a&&s.a.withCredentials!==s.S&&(s.a.withCredentials=s.S);try{pk(s),0<s.g&&(s.u=iW(s.a),Br(s.b,_o(s,"Will abort after "+s.g+"ms if incomplete, xhr2 "+s.u)),s.u?(s.a.timeout=s.g,s.a.ontimeout=F(s.Ma,s)):s.s=Xb(s.Ma,s.g,s)),Br(s.b,_o(s,"Sending request")),s.i=!0,s.a.send(c),s.i=!1}catch(S){Br(s.b,_o(s,"Send error: "+S.message)),dk(s,S)}}function iW(s){return ci&&RA(9)&&typeof s.timeout=="number"&&s.ontimeout!==void 0}function oW(s){return s.toLowerCase()=="content-type"}t=Id.prototype,t.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Br(this.b,_o(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function dk(s,c){s.c=!1,s.a&&(s.f=!0,s.a.abort(),s.f=!1),s.h=c,fk(s),kp(s)}function fk(s){s.J||(s.J=!0,s.dispatchEvent("complete"),s.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Br(this.b,_o(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kp(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),kp(this,!0)),Id.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?hk(this):this.Jc())},t.Jc=function(){hk(this)};function hk(s){if(s.c&&typeof l!="undefined"){if(s.C[1]&&Ad(s)==4&&Dp(s)==2)Br(s.b,_o(s,"Local request error detected and ignored"));else if(s.i&&Ad(s)==4)Xb(s.Vb,0,s);else if(s.dispatchEvent("readystatechange"),Ad(s)==4){Br(s.b,_o(s,"Request complete")),s.c=!1;try{var c=Dp(s);e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=c===0){var w=String(s.l).match(sR)[1]||null;if(!w&&u.self&&u.self.location){var S=u.self.location.protocol;w=S.substr(0,S.length-1)}y=!tW.test(w?w.toLowerCase():"")}m=y}if(m)s.dispatchEvent("complete"),s.dispatchEvent("success");else{try{var I=2<Ad(s)?s.a.statusText:""}catch(V){Br(s.b,"Can not get status: "+V.message),I=""}s.h=I+" ["+Dp(s)+"]",fk(s)}}finally{kp(s)}}}}function kp(s,c){if(s.a){pk(s);var h=s.a,m=s.C[0]?v:null;s.a=null,s.C=null,c||s.dispatchEvent("ready");try{h.onreadystatechange=m}catch(y){(s=s.b)&&s.log(ak,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function pk(s){s.a&&s.u&&(s.a.ontimeout=null),s.s&&(u.clearTimeout(s.s),s.s=null)}function Ad(s){return s.a?s.a.readyState:0}function Dp(s){try{return 2<Ad(s)?s.a.status:-1}catch(c){return-1}}function sW(s){try{return s.a?s.a.responseText:""}catch(c){return Br(s.b,"Can not get responseText: "+c.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case uk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var s=this.b;return s&&s.log(ak,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(c){return Br(this.b,"Can not get response: "+c.message),null}};function _o(s,c){return c+" ["+s.R+" "+s.l+" "+Dp(s)+"]"}function ma(s){var c=cW;this.g=[],this.u=c,this.s=s||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ma.prototype.cancel=function(s){if(this.a)this.c instanceof ma&&this.c.cancel();else{if(this.b){var c=this.b;delete this.b,s?c.cancel(s):(c.l--,0>=c.l&&c.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(s=new kd(this),Np(this),Rd(this,!1,s))}},ma.prototype.m=function(s,c){this.i=!1,Rd(this,s,c)};function Rd(s,c,h){s.a=!0,s.c=h,s.f=!c,vk(s)}function Np(s){if(s.a){if(!s.v)throw new Op(s);s.v=!1}}function aW(s,c){U_(s,null,c,void 0)}function U_(s,c,h,m){s.g.push([c,h,m]),s.a&&vk(s)}ma.prototype.then=function(s,c,h){var m,y,w=new Ae(function(S,I){m=S,y=I});return U_(this,m,function(S){S instanceof kd?w.cancel():y(S)}),w.then(s,c,h)},ma.prototype.$goog_Thenable=!0;function mk(s){return Tq(s.g,function(c){return _(c[1])})}function vk(s){if(s.h&&s.a&&mk(s)){var c=s.h,h=Pp[c];h&&(u.clearTimeout(h.a),delete Pp[c]),s.h=0}s.b&&(s.b.l--,delete s.b),c=s.c;for(var m=h=!1;s.g.length&&!s.i;){var y=s.g.shift(),w=y[0],S=y[1];if(y=y[2],w=s.f?S:w)try{var I=w.call(y||s.s,c);I!==void 0&&(s.f=s.f&&(I==c||I instanceof Error),s.c=c=I),(iA(c)||typeof u.Promise=="function"&&c instanceof u.Promise)&&(m=!0,s.i=!0)}catch(V){c=V,s.f=!0,mk(s)||(h=!0)}}s.c=c,m&&(I=F(s.m,s,!0),m=F(s.m,s,!1),c instanceof ma?(U_(c,I,m),c.C=!0):c.then(I,m)),h&&(c=new gk(c),Pp[c.a]=c,s.h=c.a)}function Op(){gr.call(this)}$(Op,gr),Op.prototype.message="Deferred has already fired",Op.prototype.name="AlreadyCalledError";function kd(){gr.call(this)}$(kd,gr),kd.prototype.message="Deferred was canceled",kd.prototype.name="CanceledError";function gk(s){this.a=u.setTimeout(F(this.c,this),0),this.b=s}gk.prototype.c=function(){throw delete Pp[this.a],this.b};var Pp={};function B_(s){var c={},h=c.document||document,m=gA(s).toString(),y=op(document,"SCRIPT"),w={Wb:y,Ma:void 0},S=new ma(w),I=null,V=c.timeout!=null?c.timeout:5e3;return 0<V&&(I=window.setTimeout(function(){Mp(y,!0);var j=new V_(dW,"Timeout reached for loading script "+m);Np(S),Rd(S,!1,j)},V),w.Ma=I),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(Mp(y,c.xd||!1,I),Np(S),Rd(S,!0,null))},y.onerror=function(){Mp(y,!0,I);var j=new V_(uW,"Error while loading script "+m);Np(S),Rd(S,!1,j)},w=c.attributes||{},er(w,{type:"text/javascript",charset:"UTF-8"}),DA(y,w),Vq(y,s),lW(h).appendChild(y),S}function lW(s){var c;return(c=(s||document).getElementsByTagName("HEAD"))&&c.length!=0?c[0]:s.documentElement}function cW(){if(this&&this.Wb){var s=this.Wb;s&&s.tagName=="SCRIPT"&&Mp(s,!0,this.Ma)}}function Mp(s,c,h){h!=null&&u.clearTimeout(h),s.onload=v,s.onerror=v,s.onreadystatechange=v,c&&window.setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s)},0)}var uW=0,dW=1;function V_(s,c){var h="Jsloader error (code #"+s+")";c&&(h+=": "+c),gr.call(this,h),this.code=s}$(V_,gr);function Lp(s){this.f=s}$(Lp,xd),Lp.prototype.a=function(){return new this.f},Lp.prototype.b=function(){return{}};function fi(s,c,h){if(this.c=s,s=c||{},this.l=s.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=s.secureTokenTimeout||fW,this.g=Go(s.secureTokenHeaders||hW),this.h=s.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=s.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=s.firebaseTimeout||pW,this.a=Go(s.firebaseHeaders||mW),h&&(this.a["X-Client-Version"]=h,this.g["X-Client-Version"]=h),h=Ui()=="Node",h=u.XMLHttpRequest||h&&Q.INTERNAL.node&&Q.INTERNAL.node.XMLHttpRequest,!h&&!ui())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ui()?this.f=new Ap(self):yR()?this.f=new Lp(h):this.f=new Cp,this.b=null}var H_,hi="idToken",fW=new Xo(3e4,6e4),hW={"Content-Type":"application/x-www-form-urlencoded"},pW=new Xo(3e4,6e4),mW={"Content-Type":"application/json"};function yk(s,c){c?s.a["X-Firebase-Locale"]=c:delete s.a["X-Firebase-Locale"]}function Jl(s,c){c&&(s.l=j_("https://securetoken.googleapis.com/v1/token",c),s.h=j_("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",c),s.i=j_("https://identitytoolkit.googleapis.com/v2/",c))}function j_(s,c){return s=rr(s),c=rr(c.url),s.f=s.a+s.f,cd(s,c.c),s.a=c.a,ud(s,c.g),s.toString()}function bk(s,c){c?(s.a["X-Client-Version"]=c,s.g["X-Client-Version"]=c):(delete s.a["X-Client-Version"],delete s.g["X-Client-Version"])}fi.prototype.T=function(){return this.b};function _k(s,c,h,m,y,w,S){yz()||ui()?s=F(s.u,s):(H_||(H_=new Ae(function(I,V){gW(I,V)})),s=F(s.s,s)),s(c,h,m,y,w,S)}fi.prototype.u=function(s,c,h,m,y,w){if(ui()&&(typeof u.fetch=="undefined"||typeof u.Headers=="undefined"||typeof u.Request=="undefined"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new Id(this.f);if(w){S.g=Math.max(0,w);var I=setTimeout(function(){S.dispatchEvent("timeout")},w)}rR(S,"complete",function(){I&&clearTimeout(I);var V=null;try{V=JSON.parse(sW(this))||null}catch(j){V=null}c&&c(V)}),Yb(S,"ready",function(){I&&clearTimeout(I),YA(this)}),Yb(S,"timeout",function(){I&&clearTimeout(I),YA(this),c&&c(null)}),rW(S,s,h,m,y)};var vW=new Li(tp,"https://apis.google.com/js/client.js?onload=%{onload}"),wk="__fcb"+Math.floor(1e6*Math.random()).toString();function gW(s,c){if(((window.gapi||{}).client||{}).request)s();else{u[wk]=function(){((window.gapi||{}).client||{}).request?s():c(Error("CORS_UNSUPPORTED"))};var h=kb(vW,{onload:wk});aW(B_(h),function(){c(Error("CORS_UNSUPPORTED"))})}}fi.prototype.s=function(s,c,h,m,y){var w=this;H_.then(function(){window.gapi.client.setApiKey(w.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:s,method:h,body:m,headers:y,authType:"none",callback:function(I){window.gapi.auth.setToken(S),c&&c(I)}})}).o(function(S){c&&c({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function yW(s,c){return new Ae(function(h,m){c.grant_type=="refresh_token"&&c.refresh_token||c.grant_type=="authorization_code"&&c.code?_k(s,s.l+"?key="+encodeURIComponent(s.c),function(y){y?y.error?m(X_(y)):y.access_token&&y.refresh_token?h(y):m(new O("internal-error")):m(new O("network-request-failed"))},"POST",lR(c).toString(),s.g,s.m.get()):m(new O("internal-error"))})}function Ek(s,c,h,m,y,w,S){var I=rr(c+h);At(I,"key",s.c),S&&At(I,"cb",Date.now().toString());var V=m=="GET";if(V)for(var j in y)y.hasOwnProperty(j)&&At(I,j,y[j]);return new Ae(function(he,We){_k(s,I.toString(),function(Me){Me?Me.error?We(X_(Me,w||{})):he(Me):We(new O("network-request-failed"))},m,V?void 0:dR(wR(y)),s.a,s.v.get())})}function va(s){if(s=s.email,typeof s!="string"||!wz.test(s))throw new O("invalid-email")}function xk(s){"email"in s&&va(s)}function bW(s,c){return ke(s,RW,{identifier:c,continueUri:mp()?hd():"http://localhost"}).then(function(h){return h.signinMethods||[]})}function _W(s){return ke(s,HW,{}).then(function(c){return c.authorizedDomains||[]})}function ir(s){if(!s[hi])throw s.mfaPendingCredential?new O("multi-factor-auth-required",null,Go(s)):new O("internal-error")}function q_(s){if(s.phoneNumber||s.temporaryProof){if(!s.phoneNumber||!s.temporaryProof)throw new O("internal-error")}else{if(!s.sessionInfo)throw new O("missing-verification-id");if(!s.code)throw new O("missing-verification-code")}}fi.prototype.zb=function(){return ke(this,WW,{})},fi.prototype.Bb=function(s,c){return ke(this,Ck,{idToken:s,email:c})},fi.prototype.Cb=function(s,c){return ke(this,Ik,{idToken:s,password:c})};var wW={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=fi.prototype,t.Db=function(s,c){var h={idToken:s},m=[];return fA(wW,function(y,w){var S=c[w];S===null?m.push(y):w in c&&(h[w]=S)}),m.length&&(h.deleteAttribute=m),ke(this,Ck,h)},t.vb=function(s,c){return s={requestType:"PASSWORD_RESET",email:s},er(s,c),ke(this,VW,s)},t.wb=function(s,c){return s={requestType:"EMAIL_SIGNIN",email:s},er(s,c),ke(this,FW,s)},t.ub=function(s,c){return s={requestType:"VERIFY_EMAIL",idToken:s},er(s,c),ke(this,UW,s)},t.Eb=function(s,c,h){return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:c},er(s,h),ke(this,BW,s)};function EW(s,c){return ke(s,zW,c)}t.fb=function(s){return ke(this,JW,s)};function xW(s,c){return ke(s,GW,c).then(function(h){return h.phoneSessionInfo.sessionInfo})}function Sk(s){if(!s.phoneVerificationInfo)throw new O("internal-error");if(!s.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!s.phoneVerificationInfo.code)throw new O("missing-verification-code")}function SW(s,c){return ke(s,KW,c).then(function(h){return h.phoneResponseInfo.sessionInfo})}function TW(s,c,h){return ke(s,DW,{idToken:c,deleteProvider:h})}function z_(s){if(!s.requestUri||!s.sessionId&&!s.postBody&&!s.pendingToken)throw new O("internal-error")}function W_(s,c){return c.oauthIdToken&&c.providerId&&c.providerId.indexOf("oidc.")==0&&!c.pendingToken&&(s.sessionId?c.nonce=s.sessionId:s.postBody&&(s=new sa(s.postBody),Zb(s,"nonce")&&(c.nonce=s.get("nonce")))),c}function Tk(s){var c=null;if(s.needConfirmation?(s.code="account-exists-with-different-credential",c=Sp(s)):s.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(s.code="credential-already-in-use",c=Sp(s)):s.errorMessage=="EMAIL_EXISTS"?(s.code="email-already-in-use",c=Sp(s)):s.errorMessage&&(c=Rk(s.errorMessage)),c)throw c;ir(s)}function G_(s,c){return c.returnIdpCredential=!0,ke(s,$W,c)}function K_(s,c){return c.returnIdpCredential=!0,ke(s,XW,c)}function $_(s,c){return c.returnIdpCredential=!0,c.autoCreate=!1,ke(s,YW,c)}function Y_(s){if(!s.oobCode)throw new O("invalid-action-code")}t.nb=function(s,c){return ke(this,qW,{oobCode:s,newPassword:c})},t.Ra=function(s){return ke(this,IW,{oobCode:s})},t.jb=function(s){return ke(this,CW,{oobCode:s})};var CW={endpoint:"setAccountInfo",A:Y_,Z:"email",B:!0},IW={endpoint:"resetPassword",A:Y_,G:function(s){var c=s.requestType;if(!c||!s.email&&c!="EMAIL_SIGNIN"&&c!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},AW={endpoint:"signupNewUser",A:function(s){if(va(s),!s.password)throw new O("weak-password")},G:ir,V:!0,B:!0},RW={endpoint:"createAuthUri",B:!0},kW={endpoint:"deleteAccount",N:["idToken"]},DW={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(s){if(!Array.isArray(s.deleteProvider))throw new O("internal-error")}},NW={endpoint:"emailLinkSignin",N:["email","oobCode"],A:va,G:ir,V:!0,B:!0},OW={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:va,G:ir,V:!0},PW={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:Sk,G:ir,B:!0,Na:!0},MW={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:Sk,G:ir,B:!0,Na:!0},LW={endpoint:"getAccountInfo"},FW={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(s){if(s.requestType!="EMAIL_SIGNIN")throw new O("internal-error");va(s)},Z:"email",B:!0},UW={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(s){if(s.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},BW={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(s){if(s.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},VW={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(s){if(s.requestType!="PASSWORD_RESET")throw new O("internal-error");va(s)},Z:"email",B:!0},HW={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},jW={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(s){if(!s.recaptchaSiteKey)throw new O("internal-error")}},qW={endpoint:"resetPassword",A:Y_,Z:"email",B:!0},zW={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ck={endpoint:"setAccountInfo",N:["idToken"],A:xk,V:!0},Ik={endpoint:"setAccountInfo",N:["idToken"],A:function(s){if(xk(s),!s.password)throw new O("weak-password")},G:ir,V:!0},WW={endpoint:"signupNewUser",G:ir,V:!0,B:!0},GW={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(s){if(!s.phoneEnrollmentInfo)throw new O("internal-error");if(!s.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!s.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(s){if(!s.phoneSessionInfo||!s.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},KW={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(s){if(!s.phoneSignInInfo||!s.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(s){if(!s.phoneResponseInfo||!s.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},$W={endpoint:"verifyAssertion",A:z_,Ya:W_,G:Tk,V:!0,B:!0},YW={endpoint:"verifyAssertion",A:z_,Ya:W_,G:function(s){if(s.errorMessage&&s.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(s.errorMessage)throw Rk(s.errorMessage);ir(s)},V:!0,B:!0},XW={endpoint:"verifyAssertion",A:function(s){if(z_(s),!s.idToken)throw new O("internal-error")},Ya:W_,G:Tk,V:!0},QW={endpoint:"verifyCustomToken",A:function(s){if(!s.token)throw new O("invalid-custom-token")},G:ir,V:!0,B:!0},Ak={endpoint:"verifyPassword",A:function(s){if(va(s),!s.password)throw new O("wrong-password")},G:ir,V:!0,B:!0},JW={endpoint:"verifyPhoneNumber",A:q_,G:ir,B:!0},ZW={endpoint:"verifyPhoneNumber",A:function(s){if(!s.idToken)throw new O("internal-error");q_(s)},G:function(s){if(s.temporaryProof)throw s.code="credential-already-in-use",Sp(s);ir(s)}},e5={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:q_,G:ir,B:!0},t5={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(s){if(!!s[hi]^!!s.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function ke(s,c,h){if(!Az(h,c.N))return lt(new O("internal-error"));var m=!!c.Na,y=c.Ub||"POST",w;return le(h).then(c.A).then(function(){return c.V&&(h.returnSecureToken=!0),c.B&&s.b&&typeof h.tenantId=="undefined"&&(h.tenantId=s.b),m?Ek(s,s.i,c.endpoint,y,h,c.Hb,c.lb||!1):Ek(s,s.h,c.endpoint,y,h,c.Hb,c.lb||!1)}).then(function(S){return w=S,c.Ya?c.Ya(h,w):w}).then(c.G).then(function(){if(!c.Z)return w;if(!(c.Z in w))throw new O("internal-error");return w[c.Z]})}function Rk(s){return X_({error:{errors:[{message:s}],code:400,message:s}})}function X_(s,c){var h=(s.error&&s.error.errors&&s.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(h=m[h]?new O(m[h]):null)return h;h=s.error&&s.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},er(m,c||{}),c=(c=h.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<c.length?c[1]:void 0;for(var y in m)if(h.indexOf(y)===0)return new O(m[y],c);return!c&&s&&(c=md(s)),new O("internal-error",c)}function n5(s){this.b=s,this.a=null,this.rb=r5(this)}function r5(s){return c5().then(function(){return new Ae(function(c,h){ct("gapi.iframes.getContext")().open({where:document.body,url:s.b,messageHandlersFilter:ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function y(){clearTimeout(w),c()}s.a=m,s.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){h(Error("Network Error"))},l5.get());m.ping(y).then(y,function(){h(Error("Network Error"))})})})})}function i5(s,c){return s.rb.then(function(){return new Ae(function(h){s.a.send(c.type,c,h,ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function o5(s,c){s.rb.then(function(){s.a.register("authEvent",c,ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var s5=new Li(tp,"https://apis.google.com/js/api.js?onload=%{onload}"),a5=new Xo(3e4,6e4),l5=new Xo(5e3,15e3),Fp=null;function c5(){return Fp||(Fp=new Ae(function(s,c){function h(){xR(),ct("gapi.load")("gapi.iframes",{callback:s,ontimeout:function(){xR(),c(Error("Network Error"))},timeout:a5.get()})}if(ct("gapi.iframes.Iframe"))s();else if(ct("gapi.load"))h();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[m]=function(){ct("gapi.load")?h():c(Error("Network Error"))},m=kb(s5,{onload:m}),le(B_(m)).o(function(){c(Error("Network Error"))})}}).o(function(s){throw Fp=null,s}))}function kk(s,c,h,m){this.l=s,this.h=c,this.i=h,this.g=m,this.f=null,this.g?(s=rr(this.g.url),s=hp(s.c,s.a,s.g,"/emulator/auth/iframe")):s=hp("https",this.l,null,"/__/auth/iframe"),this.a=s,At(this.a,"apiKey",this.h),At(this.a,"appName",this.i),this.b=null,this.c=[]}kk.prototype.toString=function(){return this.f?At(this.a,"v",this.f):Fi(this.a.b,"v"),this.b?At(this.a,"eid",this.b):Fi(this.a.b,"eid"),this.c.length?At(this.a,"fw",this.c.join(",")):Fi(this.a.b,"fw"),this.a.toString()};function Q_(s,c,h,m,y,w){this.u=s,this.s=c,this.c=h,this.m=m,this.v=w,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}Q_.prototype.yb=function(s){return this.h=s,this},Q_.prototype.toString=function(){if(this.v){var s=rr(this.v.url);s=hp(s.c,s.a,s.g,"/emulator/auth/handler")}else s=hp("https",this.u,null,"/__/auth/handler");if(At(s,"apiKey",this.s),At(s,"appName",this.c),At(s,"authType",this.m),this.a.isOAuthProvider){var c=this.a;try{var h=Q.app(this.c).auth().la()}catch(I){h=null}c.ob=h,At(s,"providerId",this.a.providerId),h=this.a,c=wR(h.Ib);for(var m in c)c[m]=c[m].toString();m=h.Qc,c=Go(c);for(var y=0;y<m.length;y++){var w=m[y];w in c&&delete c[w]}h.pb&&h.ob&&!c[h.pb]&&(c[h.pb]=h.ob),ta(c)||At(s,"customParameters",md(c))}if(typeof this.a.Qb=="function"&&(h=this.a.Qb(),h.length&&At(s,"scopes",h.join(","))),this.l?At(s,"redirectUrl",this.l):Fi(s.b,"redirectUrl"),this.g?At(s,"eventId",this.g):Fi(s.b,"eventId"),this.i?At(s,"v",this.i):Fi(s.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!Fr(s,S)&&At(s,S,this.b[S]);return this.h?At(s,"tid",this.h):Fi(s.b,"tid"),this.f?At(s,"eid",this.f):Fi(s.b,"eid"),S=J_(this.c),S.length&&At(s,"fw",S.join(",")),s.toString()};function J_(s){try{return Q.app(s).auth().Ga()}catch(c){return[]}}function Dk(s,c,h,m,y,w){this.s=s,this.g=c,this.b=h,this.f=w,this.c=m||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Nk(s){var c=hd();return _W(s).then(function(h){e:{var m=rr(c),y=m.c;m=m.a;for(var w=0;w<h.length;w++){var S=h[w],I=m,V=y;if(S.indexOf("chrome-extension://")==0?I=rr(S).a==I&&V=="chrome-extension":V!="http"&&V!="https"?I=!1:_z.test(S)?I=I==S:(S=S.split(".").join("\\."),I=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(I)),I){h=!0;break e}}h=!1}if(!h)throw new R_(hd())})}function Ok(s){return s.m||(s.m=pp().then(function(){if(!s.u){var c=s.c,h=s.i,m=J_(s.b),y=new kk(s.s,s.g,s.b,s.f);y.f=c,y.b=h,y.c=ea(m||[]),s.u=y.toString()}s.v=new n5(s.u),u5(s)})),s.m}t=Dk.prototype,t.Ob=function(s,c,h){var m=new O("popup-closed-by-user"),y=new O("web-storage-unsupported"),w=this,S=!1;return this.ma().then(function(){d5(w).then(function(I){I||(s&&aa(s),c(y),S=!0)})}).o(function(){}).then(function(){if(!S)return bz(s)}).then(function(){if(!S)return jl(h).then(function(){c(m)})})},t.Xb=function(){var s=ln();return!pd(s)&&!ER(s)},t.Tb=function(){return!1},t.Mb=function(s,c,h,m,y,w,S,I){if(!s)return lt(new O("popup-blocked"));if(S&&!pd())return this.ma().o(function(j){aa(s),y(j)}),m(),le();this.a||(this.a=Nk(Pk(this)));var V=this;return this.a.then(function(){var j=V.ma().o(function(he){throw aa(s),y(he),he});return m(),j}).then(function(){if(I_(h),!S){var j=Dd(V.s,V.g,V.b,c,h,null,w,V.c,void 0,V.i,I,V.f);pR(j,s)}}).o(function(j){throw j.code=="auth/network-request-failed"&&(V.a=null),j})};function Pk(s){return s.l||(s.C=s.c?Gl(s.c,J_(s.b)):null,s.l=new fi(s.g,rd(s.i),s.C),s.f&&Jl(s.l,s.f)),s.l}t.Nb=function(s,c,h,m){this.a||(this.a=Nk(Pk(this)));var y=this;return this.a.then(function(){I_(c);var w=Dd(y.s,y.g,y.b,s,c,hd(),h,y.c,void 0,y.i,m,y.f);pR(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(y.a=null),w})},t.ma=function(){var s=this;return Ok(this).then(function(){return s.v.rb}).o(function(){throw s.a=null,new O("network-request-failed")})},t.$b=function(){return!0};function Dd(s,c,h,m,y,w,S,I,V,j,he,We){return s=new Q_(s,c,h,m,y,We),s.l=w,s.g=S,s.i=I,s.b=Go(V||null),s.f=j,s.yb(he).toString()}function u5(s){if(!s.v)throw Error("IfcHandler must be initialized!");o5(s.v,function(c){var h={};if(c&&c.authEvent){var m=!1;for(c=rk(c.authEvent),h=0;h<s.h.length;h++)m=s.h[h](c)||m;return h={},h.status=m?"ACK":"ERROR",le(h)}return h.status="ERROR",le(h)})}function d5(s){var c={type:"webStorageSupport"};return Ok(s).then(function(){return i5(s.v,c)}).then(function(h){if(h&&h.length&&typeof h[0].webStorageSupport!="undefined")return h[0].webStorageSupport;throw Error()})}t.Ea=function(s){this.h.push(s)},t.Sa=function(s){li(this.h,function(c){return c==s})};function Mk(s){if(this.a=s||Q.INTERNAL.reactNative&&Q.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Mk.prototype,t.get=function(s){return le(this.a.getItem(s)).then(function(c){return c&&$l(c)})},t.set=function(s,c){return le(this.a.setItem(s,md(c)))},t.U=function(s){return le(this.a.removeItem(s))},t.ca=function(){},t.ia=function(){};function Lk(s){this.b=s,this.a={},this.f=F(this.c,this)}var Fk=[];function f5(){var s=ui()?self:null;if(pt(Fk,function(h){h.b==s&&(c=h)}),!c){var c=new Lk(s);Fk.push(c)}return c}Lk.prototype.c=function(s){var c=s.data.eventType,h=s.data.eventId,m=this.a[c];if(m&&0<m.length){s.ports[0].postMessage({status:"ack",eventId:h,eventType:c,response:null});var y=[];pt(m,function(w){y.push(le().then(function(){return w(s.origin,s.data.data)}))}),BA(y).then(function(w){var S=[];pt(w,function(I){S.push({fulfilled:I.Pb,value:I.value,reason:I.reason?I.reason.message:void 0})}),pt(S,function(I){for(var V in I)typeof I[V]=="undefined"&&delete I[V]}),s.ports[0].postMessage({status:"done",eventId:h,eventType:c,response:S})})}};function Uk(s,c,h){ta(s.a)&&s.b.addEventListener("message",s.f),typeof s.a[c]=="undefined"&&(s.a[c]=[]),s.a[c].push(h)}function Bk(s){this.a=s}Bk.prototype.postMessage=function(s,c){this.a.postMessage(s,c)};function Vk(s){this.c=s,this.b=!1,this.a=[]}function Hk(s,c,h,m){var y,w=h||{},S,I,V,j=null;if(s.b)return lt(Error("connection_unavailable"));var he=m?800:50,We=typeof MessageChannel!="undefined"?new MessageChannel:null;return new Ae(function(Me,Zt){We?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),We.port1.start(),I=setTimeout(function(){Zt(Error("unsupported_event"))},he),S=function(wo){wo.data.eventId===y&&(wo.data.status==="ack"?(clearTimeout(I),V=setTimeout(function(){Zt(Error("timeout"))},3e3)):wo.data.status==="done"?(clearTimeout(V),typeof wo.data.response!="undefined"?Me(wo.data.response):Zt(Error("unknown_error"))):(clearTimeout(I),clearTimeout(V),Zt(Error("invalid_response"))))},j={messageChannel:We,onMessage:S},s.a.push(j),We.port1.addEventListener("message",S),s.c.postMessage({eventType:c,eventId:y,data:w},[We.port2])):Zt(Error("connection_unavailable"))}).then(function(Me){return Z_(s,j),Me}).o(function(Me){throw Z_(s,j),Me})}function Z_(s,c){if(c){var h=c.messageChannel,m=c.onMessage;h&&(h.port1.removeEventListener("message",m),h.port1.close()),li(s.a,function(y){return y==c})}}Vk.prototype.close=function(){for(;0<this.a.length;)Z_(this,this.a[0]);this.b=!0};function jk(){if(!n0())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var s=this;ui()&&self?(this.v=f5(),Uk(this.v,"keyChanged",function(c,h){return Wk(s).then(function(m){return 0<m.length&&pt(s.a,function(y){y(m)}),{keyProcessed:vo(m,h.key)}})}),Uk(this.v,"ping",function(){return le(["keyChanged"])})):Cz().then(function(c){(s.h=c)&&(s.g=new Vk(new Bk(c)),Hk(s.g,"ping",null,!0).then(function(h){h[0].fulfilled&&vo(h[0].value,"keyChanged")&&(s.s=!0)}).o(function(){}))})}var e0;function h5(s){return new Ae(function(c,h){var m=s.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){c()},m.onerror=function(y){h(Error(y.target.error))}})}function qk(s){return new Ae(function(c,h){var m=s.m.open("firebaseLocalStorageDb",1);m.onerror=function(y){try{y.preventDefault()}catch(w){}h(Error(y.target.error))},m.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){h(w)}},m.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?c(y):h5(s).then(function(){return qk(s)}).then(function(w){c(w)}).o(function(w){h(w)})}})}function t0(s){return s.i||(s.i=qk(s)),s.i}function Up(s,c){function h(y,w){t0(s).then(c).then(y).o(function(S){if(3<++m)w(S);else return t0(s).then(function(I){return I.close(),s.i=void 0,h(y,w)}).o(function(I){w(I)})})}var m=0;return new Ae(h)}function n0(){try{return!!u.indexedDB}catch(s){return!1}}function Nd(s){return s.objectStore("firebaseLocalStorage")}function Od(s,c){return s.transaction(["firebaseLocalStorage"],c?"readwrite":"readonly")}function Zl(s){return new Ae(function(c,h){s.onsuccess=function(m){m&&m.target?c(m.target.result):c()},s.onerror=function(m){h(m.target.error)}})}t=jk.prototype,t.set=function(s,c){var h=this,m=!1;return Up(this,function(y){return y=Nd(Od(y,!0)),Zl(y.get(s))}).then(function(y){return Up(h,function(w){if(w=Nd(Od(w,!0)),y)return y.value=c,Zl(w.put(y));h.b++,m=!0;var S={};return S.fbase_key=s,S.value=c,Zl(w.add(S))})}).then(function(){return h.c[s]=c,zk(h,s)}).oa(function(){m&&h.b--})};function zk(s,c){return s.g&&s.h&&Tz()===s.h?Hk(s.g,"keyChanged",{key:c},s.s).then(function(){}).o(function(){}):le()}t.get=function(s){return Up(this,function(c){return Zl(Nd(Od(c,!1)).get(s))}).then(function(c){return c&&c.value})},t.U=function(s){var c=this,h=!1;return Up(this,function(m){return h=!0,c.b++,Zl(Nd(Od(m,!0)).delete(s))}).then(function(){return delete c.c[s],zk(c,s)}).oa(function(){h&&c.b--})};function Wk(s){return t0(s).then(function(c){var h=Nd(Od(c,!1));return h.getAll?Zl(h.getAll()):new Ae(function(m,y){var w=[],S=h.openCursor();S.onsuccess=function(I){(I=I.target.result)?(w.push(I.value),I.continue()):m(w)},S.onerror=function(I){y(I.target.error)}})}).then(function(c){var h={},m=[];if(s.b==0){for(m=0;m<c.length;m++)h[c[m].fbase_key]=c[m].value;m=mR(s.c,h),s.c=h}return m})}t.ca=function(s){this.a.length==0&&p5(this),this.a.push(s)},t.ia=function(s){li(this.a,function(c){return c==s}),this.a.length==0&&Gk(this)};function p5(s){function c(){s.f=setTimeout(function(){s.l=Wk(s).then(function(h){0<h.length&&pt(s.a,function(m){m(h)})}).then(function(){c()}).o(function(h){h.message!="STOP_EVENT"&&c()})},800)}Gk(s),c()}function Gk(s){s.l&&s.l.cancel("STOP_EVENT"),s.f&&(clearTimeout(s.f),s.f=null)}function Kk(s){var c=this,h=null;this.a=[],this.type="indexedDB",this.c=s,this.b=le().then(function(){if(n0()){var m=ca(),y="__sak"+m;return e0||(e0=new jk),h=e0,h.set(y,m).then(function(){return h.get(y)}).then(function(w){if(w!==m)throw Error("indexedDB not supported!");return h.U(y)}).then(function(){return h}).o(function(){return c.c})}return c.c}).then(function(m){return c.type=m.type,m.ca(function(y){pt(c.a,function(w){w(y)})}),m})}t=Kk.prototype,t.get=function(s){return this.b.then(function(c){return c.get(s)})},t.set=function(s,c){return this.b.then(function(h){return h.set(s,c)})},t.U=function(s){return this.b.then(function(c){return c.U(s)})},t.ca=function(s){this.a.push(s)},t.ia=function(s){li(this.a,function(c){return c==s})};function Pd(){this.a={},this.type="inMemory"}t=Pd.prototype,t.get=function(s){return le(this.a[s])},t.set=function(s,c){return this.a[s]=c,le()},t.U=function(s){return delete this.a[s],le()},t.ca=function(){},t.ia=function(){};function Bp(){if(!m5())throw Ui()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=$k()||Q.INTERNAL.node.localStorage,this.type="localStorage"}function $k(){try{var s=u.localStorage,c=ca();return s&&(s.setItem(c,"1"),s.removeItem(c)),s}catch(h){return null}}function m5(){var s=Ui()=="Node";if(s=$k()||s&&Q.INTERNAL.node&&Q.INTERNAL.node.localStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(c){return!1}}t=Bp.prototype,t.get=function(s){var c=this;return le().then(function(){var h=c.a.getItem(s);return $l(h)})},t.set=function(s,c){var h=this;return le().then(function(){var m=md(c);m===null?h.U(s):h.a.setItem(s,m)})},t.U=function(s){var c=this;return le().then(function(){c.a.removeItem(s)})},t.ca=function(s){u.window&&Lr(u.window,"storage",s)},t.ia=function(s){u.window&&yr(u.window,"storage",s)};function r0(){this.type="nullStorage"}t=r0.prototype,t.get=function(){return le(null)},t.set=function(){return le()},t.U=function(){return le()},t.ca=function(){},t.ia=function(){};function i0(){if(!v5())throw Ui()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=Yk()||Q.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yk(){try{var s=u.sessionStorage,c=ca();return s&&(s.setItem(c,"1"),s.removeItem(c)),s}catch(h){return null}}function v5(){var s=Ui()=="Node";if(s=Yk()||s&&Q.INTERNAL.node&&Q.INTERNAL.node.sessionStorage,!s)return!1;try{return s.setItem("__sak","1"),s.removeItem("__sak"),!0}catch(c){return!1}}t=i0.prototype,t.get=function(s){var c=this;return le().then(function(){var h=c.a.getItem(s);return $l(h)})},t.set=function(s,c){var h=this;return le().then(function(){var m=md(c);m===null?h.U(s):h.a.setItem(s,m)})},t.U=function(s){var c=this;return le().then(function(){c.a.removeItem(s)})},t.ca=function(){},t.ia=function(){};function g5(){var s={};s.Browser=y5,s.Node=b5,s.ReactNative=_5,s.Worker=w5,this.a=s[Ui()]}var o0,y5={F:Bp,bb:i0},b5={F:Bp,bb:i0},_5={F:Mk,bb:r0},w5={F:Bp,bb:r0},ec={rd:"local",NONE:"none",td:"session"};function E5(s){var c=new O("invalid-persistence-type"),h=new O("unsupported-persistence-type");e:{for(m in ec)if(ec[m]==s){var m=!0;break e}m=!1}if(!m||typeof s!="string")throw c;switch(Ui()){case"ReactNative":if(s==="session")throw h;break;case"Node":if(s!=="none")throw h;break;case"Worker":if(s==="session"||!n0()&&s!=="none")throw h;break;default:if(!o_()&&s!=="none")throw h}}function Xk(){var s=!!(!ER(ln())&&r_()),c=pd(),h=o_();this.m=s,this.h=c,this.l=h,this.a={},o0||(o0=new g5),s=o0;try{this.g=!t_()&&SR()||!u.indexedDB?new s.a.F:new Kk(ui()?new Pd:new s.a.F)}catch(m){this.g=new Pd,this.h=!0}try{this.i=new s.a.bb}catch(m){this.i=new Pd}this.v=new Pd,this.f=F(this.Yb,this),this.b={}}var s0;function Md(){return s0||(s0=new Xk),s0}function ga(s,c){switch(c){case"session":return s.i;case"none":return s.v;default:return s.g}}function tc(s,c){return"firebase:"+s.name+(c?":"+c:"")}function x5(s,c,h){var m=tc(c,h),y=ga(s,c.F);return s.get(c,h).then(function(w){var S=null;try{S=$l(u.localStorage.getItem(m))}catch(I){}if(S&&!w)return u.localStorage.removeItem(m),s.set(c,S,h);S&&w&&y.type!="localStorage"&&u.localStorage.removeItem(m)})}t=Xk.prototype,t.get=function(s,c){return ga(this,s.F).get(tc(s,c))};function nc(s,c,h){return h=tc(c,h),c.F=="local"&&(s.b[h]=null),ga(s,c.F).U(h)}t.set=function(s,c,h){var m=tc(s,h),y=this,w=ga(this,s.F);return w.set(m,c).then(function(){return w.get(m)}).then(function(S){s.F=="local"&&(y.b[m]=S)})},t.addListener=function(s,c,h){s=tc(s,c),this.l&&(this.b[s]=u.localStorage.getItem(s)),ta(this.a)&&(ga(this,"local").ca(this.f),this.h||(t_()||!SR())&&u.indexedDB||!this.l||S5(this)),this.a[s]||(this.a[s]=[]),this.a[s].push(h)},t.removeListener=function(s,c,h){s=tc(s,c),this.a[s]&&(li(this.a[s],function(m){return m==h}),this.a[s].length==0&&delete this.a[s]),ta(this.a)&&(ga(this,"local").ia(this.f),a0(this))};function S5(s){a0(s),s.c=setInterval(function(){for(var c in s.a){var h=u.localStorage.getItem(c),m=s.b[c];h!=m&&(s.b[c]=h,h=new ia({type:"storage",key:c,target:window,oldValue:m,newValue:h,a:!0}),s.Yb(h))}},1e3)}function a0(s){s.c&&(clearInterval(s.c),s.c=null)}t.Yb=function(s){if(s&&s.g){var c=s.a.key;if(c==null)for(var h in this.a){var m=this.b[h];typeof m=="undefined"&&(m=null);var y=u.localStorage.getItem(h);y!==m&&(this.b[h]=y,this.mb(h))}else if(c.indexOf("firebase:")==0&&this.a[c]){if(typeof s.a.a!="undefined"?ga(this,"local").ia(this.f):a0(this),this.m){if(h=u.localStorage.getItem(c),m=s.a.newValue,m!==h)m!==null?u.localStorage.setItem(c,m):u.localStorage.removeItem(c);else if(this.b[c]===m&&typeof s.a.a=="undefined")return}var w=this;h=function(){(typeof s.a.a!="undefined"||w.b[c]!==u.localStorage.getItem(c))&&(w.b[c]=u.localStorage.getItem(c),w.mb(c))},ci&&Ko&&Ko==10&&u.localStorage.getItem(c)!==s.a.newValue&&s.a.newValue!==s.a.oldValue?setTimeout(h,10):h()}}else pt(s,F(this.mb,this))},t.mb=function(s){this.a[s]&&pt(this.a[s],function(c){c()})};function T5(s){this.a=s,this.b=Md()}var l0={name:"authEvent",F:"local"};function C5(s){return s.b.get(l0,s.a).then(function(c){return rk(c)})}function I5(){this.a=Md()}function A5(){this.b=-1}function Vp(s,c){this.b=Qk,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=s,this.h=c,this.l=u.Int32Array?new Int32Array(64):Array(64),Hp===void 0&&(u.Int32Array?Hp=new Int32Array(eD):Hp=eD),this.reset()}var Hp;$(Vp,A5);for(var Qk=64,R5=Qk-1,Jk=[],c0=0;c0<R5;c0++)Jk[c0]=0;var Zk=Ib(128,Jk);Vp.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):ea(this.h)};function u0(s){for(var c=s.f,h=s.l,m=0,y=0;y<c.length;)h[m++]=c[y]<<24|c[y+1]<<16|c[y+2]<<8|c[y+3],y=4*m;for(c=16;64>c;c++){y=h[c-15]|0,m=h[c-2]|0;var w=(h[c-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,S=(h[c-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;h[c]=w+S|0}m=s.a[0]|0,y=s.a[1]|0;var I=s.a[2]|0,V=s.a[3]|0,j=s.a[4]|0,he=s.a[5]|0,We=s.a[6]|0;for(w=s.a[7]|0,c=0;64>c;c++){var Me=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&y^m&I^y&I)|0;S=j&he^~j&We,w=w+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0,S=S+(Hp[c]|0)|0,S=w+(S+(h[c]|0)|0)|0,w=We,We=he,he=j,j=V+S|0,V=I,I=y,y=m,m=S+Me|0}s.a[0]=s.a[0]+m|0,s.a[1]=s.a[1]+y|0,s.a[2]=s.a[2]+I|0,s.a[3]=s.a[3]+V|0,s.a[4]=s.a[4]+j|0,s.a[5]=s.a[5]+he|0,s.a[6]=s.a[6]+We|0,s.a[7]=s.a[7]+w|0}function d0(s,c,h){h===void 0&&(h=c.length);var m=0,y=s.c;if(typeof c=="string")for(;m<h;)s.f[y++]=c.charCodeAt(m++),y==s.b&&(u0(s),y=0);else if(b(c))for(;m<h;){var w=c[m++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");s.f[y++]=w,y==s.b&&(u0(s),y=0)}else throw Error("message must be string or array");s.c=y,s.g+=h}var eD=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function tD(){Vp.call(this,8,k5)}$(tD,Vp);var k5=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function nD(s,c,h,m,y,w){this.v=s,this.i=c,this.l=h,this.m=m||null,this.u=y||null,this.s=w,this.h=c+":"+h,this.C=new I5,this.g=new T5(this.h),this.f=null,this.b=[],this.a=this.c=null}function jp(s){return new O("invalid-cordova-configuration",s)}t=nD.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Ez().then(function(){if(typeof ct("universalLinks.subscribe",u)!="function")throw jp("cordova-universal-links-plugin-fix is not installed");if(typeof ct("BuildInfo.packageName",u)=="undefined")throw jp("cordova-plugin-buildinfo is not installed");if(typeof ct("cordova.plugins.browsertab.openUrl",u)!="function")throw jp("cordova-plugin-browsertab is not installed");if(typeof ct("cordova.InAppBrowser.open",u)!="function")throw jp("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function D5(){for(var s=20,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function N5(s){var c=new tD;d0(c,s),s=[];var h=8*c.g;56>c.c?d0(c,Zk,56-c.c):d0(c,Zk,c.b-(c.c-56));for(var m=63;56<=m;m--)c.f[m]=h&255,h/=256;for(u0(c),m=h=0;m<c.i;m++)for(var y=24;0<=y;y-=8)s[h++]=c.a[m]>>y&255;return jz(s)}t.Ob=function(s,c){return c(new O("operation-not-supported-in-this-environment")),le()},t.Mb=function(){return lt(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(s,c,h,m){if(this.c)return lt(new O("redirect-operation-pending"));var y=this,w=u.document,S=null,I=null,V=null,j=null;return this.c=le().then(function(){return I_(c),iD(y)}).then(function(){return O5(y,s,c,h,m)}).then(function(){return new Ae(function(he,We){I=function(){var Me=ct("cordova.plugins.browsertab.close",u);return he(),typeof Me=="function"&&Me(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(I),V=function(){S||(S=jl(2e3).then(function(){We(new O("redirect-cancelled-by-user"))}))},j=function(){s_()&&V()},w.addEventListener("resume",V,!1),ln().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",j,!1)}).o(function(he){return f0(y).then(function(){throw he})})}).oa(function(){V&&w.removeEventListener("resume",V,!1),j&&w.removeEventListener("visibilitychange",j,!1),S&&S.cancel(),I&&y.Sa(I),y.c=null})};function O5(s,c,h,m,y){var w=D5(),S=new di(c,m,null,w,new O("no-auth-event"),null,y),I=ct("BuildInfo.packageName",u);if(typeof I!="string")throw new O("invalid-cordova-configuration");var V=ct("BuildInfo.displayName",u),j={};if(ln().toLowerCase().match(/iphone|ipad|ipod/))j.ibi=I;else if(ln().toLowerCase().match(/android/))j.apn=I;else return lt(new O("operation-not-supported-in-this-environment"));V&&(j.appDisplayName=V),w=N5(w),j.sessionId=w;var he=Dd(s.v,s.i,s.l,c,h,null,m,s.m,j,s.u,y,s.s);return s.ma().then(function(){var We=s.h;return s.C.a.set(l0,S.w(),We)}).then(function(){var We=ct("cordova.plugins.browsertab.isAvailable",u);if(typeof We!="function")throw new O("invalid-cordova-configuration");var Me=null;We(function(Zt){if(Zt){if(Me=ct("cordova.plugins.browsertab.openUrl",u),typeof Me!="function")throw new O("invalid-cordova-configuration");Me(he)}else{if(Me=ct("cordova.InAppBrowser.open",u),typeof Me!="function")throw new O("invalid-cordova-configuration");Zt=ln(),s.a=Me(he,Zt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Zt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function rD(s,c){for(var h=0;h<s.b.length;h++)try{s.b[h](c)}catch(m){}}function iD(s){return s.f||(s.f=s.ma().then(function(){return new Ae(function(c){function h(m){return c(m),s.Sa(h),!1}s.Ea(h),P5(s)})})),s.f}function f0(s){var c=null;return C5(s.g).then(function(h){return c=h,h=s.g,nc(h.b,l0,h.a)}).then(function(){return c})}function P5(s){function c(S){m=!0,y&&y.cancel(),f0(s).then(function(I){var V=h;if(I&&S&&S.url){var j=null;V=YR(S.url),V.indexOf("/__/auth/callback")!=-1&&(j=rr(V),j=$l(Fr(j,"firebaseError")||null),j=(j=typeof j=="object"?Zn(j):null)?new di(I.c,I.b,null,null,j,null,I.T()):new di(I.c,I.b,V,I.f,null,null,I.T())),V=j||h}rD(s,V)})}var h=new di("unknown",null,null,null,new O("no-auth-event")),m=!1,y=jl(500).then(function(){return f0(s).then(function(){m||rD(s,h)})}),w=u.handleOpenURL;u.handleOpenURL=function(S){if(S.toLowerCase().indexOf(ct("BuildInfo.packageName",u).toLowerCase()+"://")==0&&c({url:S}),typeof w=="function")try{w(S)}catch(I){console.error(I)}},A_||(A_=new Xz),Qz(c)}t.Ea=function(s){this.b.push(s),iD(this).o(function(c){c.code==="auth/invalid-cordova-configuration"&&(c=new di("unknown",null,null,null,new O("no-auth-event")),s(c))})},t.Sa=function(s){li(this.b,function(c){return c==s})};function M5(s){this.a=s,this.b=Md()}var h0={name:"pendingRedirect",F:"session"};function L5(s){return s.b.set(h0,"pending",s.a)}function p0(s){return nc(s.b,h0,s.a)}function F5(s){return s.b.get(h0,s.a).then(function(c){return c=="pending"})}function qp(s,c,h,m){this.i={},this.u=0,this.D=s,this.v=c,this.m=h,this.J=m,this.h=[],this.f=!1,this.l=F(this.s,this),this.b=new zp,this.C=new vD,this.g=new M5(fD(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=oD(this.D,this.v,this.m,id,this.J)}function oD(s,c,h,m,y){var w=Q.SDK_VERSION||null;return n_()?new nD(s,c,h,w,m,y):new Dk(s,c,h,w,m,y)}qp.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=oD(this.D,this.v,this.m,null,this.J),this.i={}};function sD(s){s.f||(s.f=!0,s.a.Ea(s.l));var c=s.a;return s.a.ma().o(function(h){throw s.a==c&&s.reset(),h})}function aD(s){s.a.Xb()&&sD(s).o(function(c){var h=new di("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));v0(c)&&s.s(h)}),s.a.Tb()||pD(s.b)}function m0(s,c){vo(s.h,c)||s.h.push(c),s.f||F5(s.g).then(function(h){h?p0(s.g).then(function(){sD(s).o(function(m){var y=new di("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));v0(m)&&s.s(y)})}):aD(s)}).o(function(){aD(s)})}function lD(s,c){li(s.h,function(h){return h==c})}qp.prototype.s=function(s){if(!s)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),s&&s.getUid()&&this.i.hasOwnProperty(s.getUid()))return!1;for(var c=!1,h=0;h<this.h.length;h++){var m=this.h[h];if(m.Fb(s.c,s.b)){(c=this.c[s.c])&&(c.h(s,m),s&&(s.f||s.b)&&(this.i[s.getUid()]=!0,this.u=Date.now())),c=!0;break}}return pD(this.b),c};var U5=new Xo(2e3,1e4),B5=new Xo(3e4,6e4);qp.prototype.qa=function(){return this.b.qa()};function cD(s,c,h,m,y,w,S){return s.a.Mb(c,h,m,function(){s.f||(s.f=!0,s.a.Ea(s.l))},function(){s.reset()},y,w,S)}function v0(s){return!!(s&&s.code=="auth/cordova-not-ready")}function uD(s,c,h,m,y){var w;return L5(s.g).then(function(){return s.a.Nb(c,h,m,y).o(function(S){if(v0(S))throw new O("operation-not-supported-in-this-environment");return w=S,p0(s.g).then(function(){throw w})}).then(function(){return s.a.$b()?new Ae(function(){}):p0(s.g).then(function(){return s.qa()}).then(function(){}).o(function(){})})})}function dD(s,c,h,m,y){return s.a.Ob(m,function(w){c.na(h,null,w,y)},U5.get())}var g0={};function fD(s,c,h){return s=s+":"+c,h&&(s=s+":"+h.url),s}function hD(s,c,h,m){var y=fD(c,h,m);return g0[y]||(g0[y]=new qp(s,c,h,m)),g0[y]}function zp(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}zp.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zp.prototype.h=function(s,c){if(s){this.reset(),this.g=!0;var h=s.c,m=s.b,y=s.a&&s.a.code=="auth/web-storage-unsupported",w=s.a&&s.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!w),h!="unknown"||y||w?s.a?(ya(this,!0,null,s.a),le()):c.Fa(h,m)?V5(this,s,c):lt(new O("invalid-auth-event")):(ya(this,!1,null,null),le())}else lt(new O("invalid-auth-event"))};function pD(s){s.g||(s.g=!0,ya(s,!1,null,null))}function Wp(s){s.g&&!s.i&&ya(s,!1,null,null)}function V5(s,c,h){h=h.Fa(c.c,c.b);var m=c.g,y=c.f,w=c.i,S=c.T(),I=!!c.c.match(/Redirect$/);h(m,y,S,w).then(function(V){ya(s,I,V,null)}).o(function(V){ya(s,I,null,V)})}function H5(s,c){if(s.b=function(){return lt(c)},s.c.length)for(var h=0;h<s.c.length;h++)s.c[h](c)}function mD(s,c){if(s.b=function(){return le(c)},s.f.length)for(var h=0;h<s.f.length;h++)s.f[h](c)}function ya(s,c,h,m){c?m?H5(s,m):mD(s,h):mD(s,{user:null}),s.f=[],s.c=[]}zp.prototype.qa=function(){var s=this;return new Ae(function(c,h){s.b?s.b().then(c,h):(s.f.push(c),s.c.push(h),j5(s))})};function j5(s){var c=new O("timeout");s.a&&s.a.cancel(),s.a=jl(B5.get()).then(function(){s.b||(s.g=!0,ya(s,!0,null,c))})}function vD(){}vD.prototype.h=function(s,c){if(s){var h=s.c,m=s.b;s.a?(c.na(s.c,null,s.a,s.b),le()):c.Fa(h,m)?q5(s,c):lt(new O("invalid-auth-event"))}else lt(new O("invalid-auth-event"))};function q5(s,c){var h=s.b,m=s.c;c.Fa(m,h)(s.g,s.f,s.T(),s.i).then(function(y){c.na(m,y,null,h)}).o(function(y){c.na(m,null,y,h)})}function gD(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(s){this.ib=s},enumerable:!1})}function y0(s,c){this.a=c,te(this,"verificationId",s)}y0.prototype.confirm=function(s){return s=nk(this.verificationId,s),this.a(s)};function b0(s,c,h,m){return new bo(s).fb(c,h).then(function(y){return new y0(y,m)})}function z5(s){var c=HR(s);if(!(c&&c.exp&&c.auth_time&&c.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ln(this,{token:s,expirationTime:vd(1e3*c.exp),authTime:vd(1e3*c.auth_time),issuedAtTime:vd(1e3*c.iat),signInProvider:c.firebase&&c.firebase.sign_in_provider?c.firebase.sign_in_provider:null,signInSecondFactor:c.firebase&&c.firebase.sign_in_second_factor?c.firebase.sign_in_second_factor:null,claims:c})}function _0(s,c,h){var m=c&&c[bD];if(!m)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=s,this.f=Go(c),this.g=h,this.c=new Ep(null,m),this.b=[];var y=this;pt(c[yD]||[],function(w){(w=f_(w))&&y.b.push(w)}),te(this,"auth",this.a),te(this,"session",this.c),te(this,"hints",this.b)}var yD="mfaInfo",bD="mfaPendingCredential";_0.prototype.Rc=function(s){var c=this;return s.sb(this.a.a,this.c).then(function(h){var m=Go(c.f);return delete m[yD],delete m[bD],er(m,h),c.g(m)})};function w0(s,c,h,m){O.call(this,"multi-factor-auth-required",m,c),this.b=new _0(s,c,h),te(this,"resolver",this.b)}$(w0,O);function _D(s,c,h){if(s&&E(s.serverResponse)&&s.code==="auth/multi-factor-auth-required")try{return new w0(c,s.serverResponse,h,s.message)}catch(m){}return null}function wD(){}wD.prototype.sb=function(s,c,h){return c.type==_d?W5(this,s,c,h):G5(this,s,c)};function W5(s,c,h,m){return h.Ha().then(function(y){return y={idToken:y},typeof m!="undefined"&&(y.displayName=m),er(y,{phoneVerificationInfo:wd(s.a)}),ke(c,PW,y)})}function G5(s,c,h){return h.Ha().then(function(m){return m={mfaPendingCredential:m},er(m,{phoneVerificationInfo:wd(s.a)}),ke(c,MW,m)})}function E0(s){te(this,"factorId",s.fa),this.a=s}$(E0,wD);function ED(s){if(E0.call(this,s),this.a.fa!=bo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}$(ED,E0);function rc(s,c){nr.call(this,s);for(var h in c)this[h]=c[h]}$(rc,nr);function x0(s,c){this.a=s,this.b=[],this.c=F(this.yc,this),Lr(this.a,"userReloaded",this.c);var h=[];c&&c.multiFactor&&c.multiFactor.enrolledFactors&&pt(c.multiFactor.enrolledFactors,function(m){var y=null,w={};if(m){m.uid&&(w[p_]=m.uid),m.displayName&&(w[CR]=m.displayName),m.enrollmentTime&&(w[h_]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(w[m_]=m.phoneNumber);try{y=new gd(w)}catch(S){}m=y}else m=null;m&&h.push(m)}),Gp(this,h)}function K5(s){var c=[];return pt(s.mfaInfo||[],function(h){(h=f_(h))&&c.push(h)}),c}t=x0.prototype,t.yc=function(s){Gp(this,K5(s.hd))};function Gp(s,c){s.b=c,te(s,"enrolledFactors",c)}t.Rb=function(){return this.a.I().then(function(s){return new Ep(s,null)})},t.fc=function(s,c){var h=this,m=this.a.a;return this.Rb().then(function(y){return s.sb(m,y,c)}).then(function(y){return Hi(h.a,y),h.a.reload()})},t.bd=function(s){var c=this,h=typeof s=="string"?s:s.uid,m=this.a.a;return this.a.I().then(function(y){return ke(m,t5,{idToken:y,mfaEnrollmentId:h})}).then(function(y){var w=Sq(c.b,function(S){return S.uid!=h});return Gp(c,w),Hi(c.a,y),c.a.reload().o(function(S){if(S.code!="auth/user-token-expired")throw S})})},t.w=function(){return{multiFactor:{enrolledFactors:Zh(this.b,function(s){return s.w()})}}};function S0(s,c,h){if(this.h=s,this.i=c,this.g=h,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}S0.prototype.start=function(){this.a=this.c,T0(this,!0)};function $5(s,c){return c?(s.a=s.c,s.g()):(c=s.a,s.a*=2,s.a>s.f&&(s.a=s.f),c)}function T0(s,c){s.stop(),s.b=jl($5(s,c)).then(function(){return Sz()}).then(function(){return s.h()}).then(function(){T0(s,!0)}).o(function(h){s.i(h)&&T0(s,!1)})}S0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function C0(s){this.f=s,this.b=this.a=null,this.c=Date.now()}C0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function xD(s,c){typeof c=="undefined"&&(s.b?(c=s.b,c=c.a-c.g):c=0),s.c=Date.now()+1e3*c}function SD(s,c){s.b=_p(c[hi]||""),s.a=c.refreshToken,c=c.expiresIn,xD(s,typeof c!="undefined"?Number(c):void 0)}function Y5(s,c){s.b=c.b,s.a=c.a,s.c=c.c}function X5(s,c){return yW(s.f,c).then(function(h){return s.b=_p(h.access_token),s.a=h.refresh_token,xD(s,h.expires_in),{accessToken:s.b.toString(),refreshToken:s.a}}).o(function(h){throw h.code=="auth/user-token-expired"&&(s.a=null),h})}C0.prototype.getToken=function(s){return s=!!s,this.b&&!this.a?lt(new O("user-token-expired")):s||!this.b||Date.now()>this.c-3e4?this.a?X5(this,{grant_type:"refresh_token",refresh_token:this.a}):le(null):le({accessToken:this.b.toString(),refreshToken:this.a})};function Kp(s,c){this.a=s||null,this.b=c||null,Ln(this,{lastSignInTime:vd(c||null),creationTime:vd(s||null)})}function Q5(s){return new Kp(s.a,s.b)}Kp.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function J5(s,c,h,m,y,w){Ln(this,{uid:s,displayName:m||null,photoURL:y||null,email:h||null,phoneNumber:w||null,providerId:c})}function _r(s,c,h){this.J=[],this.l=s.apiKey,this.m=s.appName,this.s=s.authDomain||null;var m=Q.SDK_VERSION?Gl(Q.SDK_VERSION):null;this.a=new fi(this.l,rd(id),m),s.emulatorConfig&&Jl(this.a,s.emulatorConfig),this.b=new C0(this.a),N0(this,c[hi]),SD(this.b,c),te(this,"refreshToken",this.b.a),CD(this,h||{}),Mn.call(this),this.R=!1,this.s&&la()&&(this.i=hD(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=Z5(this),this.aa=F(this.hb,this);var y=this;this.ya=null,this.Oa=function(w){y.wa(w.h)},this.ja=null,this.Aa=function(w){Jl(y.a,w.c)},this.X=null,this.$=[],this.Ba=function(w){Ld(y,w.f)},this.ba=null,this.O=new x0(this,h),te(this,"multiFactor",this.O)}$(_r,Mn),_r.prototype.wa=function(s){this.ya=s,yk(this.a,s)},_r.prototype.la=function(){return this.ya};function I0(s,c){s.ja&&yr(s.ja,"languageCodeChanged",s.Oa),(s.ja=c)&&Lr(c,"languageCodeChanged",s.Oa)}function A0(s,c){s.X&&yr(s.X,"emulatorConfigChanged",s.Aa),(s.X=c)&&Lr(c,"emulatorConfigChanged",s.Aa)}function Ld(s,c){s.$=c,bk(s.a,Q.SDK_VERSION?Gl(Q.SDK_VERSION,s.$):null)}_r.prototype.Ga=function(){return ea(this.$)};function R0(s,c){s.ba&&yr(s.ba,"frameworkChanged",s.Ba),(s.ba=c)&&Lr(c,"frameworkChanged",s.Ba)}_r.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function k0(s){try{return Q.app(s.m).auth()}catch(c){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+s.m+"'!")}}function Z5(s){return new S0(function(){return s.I(!0)},function(c){return!!(c&&c.code=="auth/network-request-failed")},function(){var c=s.b.c-Date.now()-3e5;return 0<c?c:0})}function TD(s){s.D||s.u.b||(s.u.start(),yr(s,"tokenChanged",s.aa),Lr(s,"tokenChanged",s.aa))}function D0(s){yr(s,"tokenChanged",s.aa),s.u.stop()}function N0(s,c){s.za=c,te(s,"_lat",c)}function eG(s,c){li(s.S,function(h){return h==c})}function ba(s){for(var c=[],h=0;h<s.S.length;h++)c.push(s.S[h](s));return BA(c).then(function(){return s})}function Fd(s){s.i&&!s.R&&(s.R=!0,m0(s.i,s))}function CD(s,c){Ln(s,{uid:c.uid,displayName:c.displayName||null,photoURL:c.photoURL||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,isAnonymous:c.isAnonymous||!1,tenantId:c.tenantId||null,metadata:new Kp(c.createdAt,c.lastLoginAt),providerData:[]}),s.a.b=s.tenantId}te(_r.prototype,"providerId","firebase");function ID(){}function O0(s){return le().then(function(){if(s.D)throw new O("app-deleted")})}function P0(s){return Zh(s.providerData,function(c){return c.providerId})}function M0(s,c){c&&(AD(s,c.providerId),s.providerData.push(c))}function AD(s,c){li(s.providerData,function(h){return h.providerId==c})}function Zo(s,c,h){(c!="uid"||h)&&s.hasOwnProperty(c)&&te(s,c,h)}function $p(s,c){s!=c&&(Ln(s,{uid:c.uid,displayName:c.displayName,photoURL:c.photoURL,email:c.email,emailVerified:c.emailVerified,phoneNumber:c.phoneNumber,isAnonymous:c.isAnonymous,tenantId:c.tenantId,providerData:[]}),c.metadata?te(s,"metadata",Q5(c.metadata)):te(s,"metadata",new Kp),pt(c.providerData,function(h){M0(s,h)}),Y5(s.b,c.b),te(s,"refreshToken",s.b.a),Gp(s.O,c.O.b))}t=_r.prototype,t.reload=function(){var s=this;return Gt(this,O0(this).then(function(){return L0(s).then(function(){return ba(s)}).then(ID)}))};function L0(s){return s.I().then(function(c){var h=s.isAnonymous;return tG(s,c).then(function(){return h||Zo(s,"isAnonymous",!1),c})})}t.oc=function(s){return this.I(s).then(function(c){return new z5(c)})},t.I=function(s){var c=this;return Gt(this,O0(this).then(function(){return c.b.getToken(s)}).then(function(h){if(!h)throw new O("internal-error");return h.accessToken!=c.za&&(N0(c,h.accessToken),c.dispatchEvent(new rc("tokenChanged"))),Zo(c,"refreshToken",h.refreshToken),h.accessToken}))};function Hi(s,c){c[hi]&&s.za!=c[hi]&&(SD(s.b,c),s.dispatchEvent(new rc("tokenChanged")),N0(s,c[hi]),Zo(s,"refreshToken",s.b.a))}function tG(s,c){return ke(s.a,LW,{idToken:c}).then(F(s.Kc,s))}t.Kc=function(s){if(s=s.users,!s||!s.length)throw new O("internal-error");s=s[0],CD(this,{uid:s.localId,displayName:s.displayName,photoURL:s.photoUrl,email:s.email,emailVerified:!!s.emailVerified,phoneNumber:s.phoneNumber,lastLoginAt:s.lastLoginAt,createdAt:s.createdAt,tenantId:s.tenantId});for(var c=nG(s),h=0;h<c.length;h++)M0(this,c[h]);Zo(this,"isAnonymous",!(this.email&&s.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new rc("userReloaded",{hd:s}))};function nG(s){return(s=s.providerUserInfo)&&s.length?Zh(s,function(c){return new J5(c.rawId,c.providerId,c.email,c.displayName,c.photoUrl,c.phoneNumber)}):[]}t.Lc=function(s){return a_("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(s)},t.tb=function(s){var c=this,h=null;return Gt(this,s.c(this.a,this.uid).then(function(m){return Hi(c,m),h=Ud(c,m,"reauthenticate"),c.h=null,c.reload()}).then(function(){return h}),!0)};function Yp(s,c){return L0(s).then(function(){if(vo(P0(s),c))return ba(s).then(function(){throw new O("provider-already-linked")})})}t.Cc=function(s){return a_("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(s)},t.qb=function(s){var c=this,h=null;return Gt(this,Yp(this,s.providerId).then(function(){return c.I()}).then(function(m){return s.b(c.a,m)}).then(function(m){return h=Ud(c,m,"link"),RD(c,m)}).then(function(){return h}))},t.Dc=function(s,c){var h=this;return Gt(this,Yp(this,"phone").then(function(){return b0(k0(h),s,c,F(h.qb,h))}))},t.Mc=function(s,c){var h=this;return Gt(this,le().then(function(){return b0(k0(h),s,c,F(h.tb,h))}),!0)};function Ud(s,c,h){var m=C_(c);return c=qR(c),Bi({user:s,credential:m,additionalUserInfo:c,operationType:h})}function RD(s,c){return Hi(s,c),s.reload().then(function(){return s})}t.Bb=function(s){var c=this;return Gt(this,this.I().then(function(h){return c.a.Bb(h,s)}).then(function(h){return Hi(c,h),c.reload()}))},t.ed=function(s){var c=this;return Gt(this,this.I().then(function(h){return s.b(c.a,h)}).then(function(h){return Hi(c,h),c.reload()}))},t.Cb=function(s){var c=this;return Gt(this,this.I().then(function(h){return c.a.Cb(h,s)}).then(function(h){return Hi(c,h),c.reload()}))},t.Db=function(s){if(s.displayName===void 0&&s.photoURL===void 0)return O0(this);var c=this;return Gt(this,this.I().then(function(h){return c.a.Db(h,{displayName:s.displayName,photoUrl:s.photoURL})}).then(function(h){return Hi(c,h),Zo(c,"displayName",h.displayName||null),Zo(c,"photoURL",h.photoUrl||null),pt(c.providerData,function(m){m.providerId==="password"&&(te(m,"displayName",c.displayName),te(m,"photoURL",c.photoURL))}),ba(c)}).then(ID))},t.cd=function(s){var c=this;return Gt(this,L0(this).then(function(h){return vo(P0(c),s)?TW(c.a,h,[s]).then(function(m){var y={};return pt(m.providerUserInfo||[],function(w){y[w.providerId]=!0}),pt(P0(c),function(w){y[w]||AD(c,w)}),y[bo.PROVIDER_ID]||te(c,"phoneNumber",null),ba(c)}):ba(c).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var s=this;return Gt(this,this.I().then(function(c){return ke(s.a,kW,{idToken:c})}).then(function(){s.dispatchEvent(new rc("userDeleted"))})).then(function(){for(var c=0;c<s.J.length;c++)s.J[c].cancel("app-deleted");I0(s,null),A0(s,null),R0(s,null),s.J=[],s.D=!0,D0(s),te(s,"refreshToken",null),s.i&&lD(s.i,s)})},t.Fb=function(s,c){return!!(s=="linkViaPopup"&&(this.g||null)==c&&this.f||s=="reauthViaPopup"&&(this.g||null)==c&&this.f||s=="linkViaRedirect"&&(this.ga||null)==c||s=="reauthViaRedirect"&&(this.ga||null)==c)},t.na=function(s,c,h,m){s!="linkViaPopup"&&s!="reauthViaPopup"||m!=(this.g||null)||(h&&this.C?this.C(h):c&&!h&&this.f&&this.f(c),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,c){return s=="linkViaPopup"&&c==(this.g||null)?F(this.Kb,this):s=="reauthViaPopup"&&c==(this.g||null)?F(this.Lb,this):s=="linkViaRedirect"&&(this.ga||null)==c?F(this.Kb,this):s=="reauthViaRedirect"&&(this.ga||null)==c?F(this.Lb,this):null},t.Ec=function(s){var c=this;return kD(this,"linkViaPopup",s,function(){return Yp(c,s.providerId).then(function(){return ba(c)})},!1)},t.Nc=function(s){return kD(this,"reauthViaPopup",s,function(){return le()},!0)};function kD(s,c,h,m,y){if(!la())return lt(new O("operation-not-supported-in-this-environment"));if(s.h&&!y)return lt(s.h);var w=__(h.providerId),S=ca(s.uid+":::"),I=null;(!pd()||r_())&&s.s&&h.isOAuthProvider&&(I=Dd(s.s,s.l,s.m,c,h,null,S,Q.SDK_VERSION||null,null,null,s.tenantId));var V=gR(I,w&&w.ua,w&&w.ta);return m=m().then(function(){if(ND(s),!y)return s.I().then(function(){})}).then(function(){return cD(s.i,V,c,h,S,!!I,s.tenantId)}).then(function(){return new Ae(function(j,he){s.na(c,null,new O("cancelled-popup-request"),s.g||null),s.f=j,s.C=he,s.g=S,s.c=dD(s.i,s,c,V,S)})}).then(function(j){return V&&aa(V),j?Bi(j):null}).o(function(j){throw V&&aa(V),j}),Gt(s,m,y)}t.Fc=function(s){var c=this;return DD(this,"linkViaRedirect",s,function(){return Yp(c,s.providerId)},!1)},t.Oc=function(s){return DD(this,"reauthViaRedirect",s,function(){return le()},!0)};function DD(s,c,h,m,y){if(!la())return lt(new O("operation-not-supported-in-this-environment"));if(s.h&&!y)return lt(s.h);var w=null,S=ca(s.uid+":::");return m=m().then(function(){if(ND(s),!y)return s.I().then(function(){})}).then(function(){return s.ga=S,ba(s)}).then(function(I){return s.ha&&(I=s.ha,I=I.b.set(F0,s.w(),I.a)),I}).then(function(){return uD(s.i,c,h,S,s.tenantId)}).o(function(I){if(w=I,s.ha)return PD(s.ha);throw w}).then(function(){if(w)throw w}),Gt(s,m,y)}function ND(s){if(!s.i||!s.R)throw s.i&&!s.R?new O("internal-error"):new O("auth-domain-config-required")}t.Kb=function(s,c,h,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return h=this.I().then(function(S){return K_(y.a,{requestUri:s,postBody:m,sessionId:c,idToken:S})}).then(function(S){return w=Ud(y,S,"link"),RD(y,S)}).then(function(){return w}),Gt(this,h)},t.Lb=function(s,c,h,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null,S=le().then(function(){return Xl($_(y.a,{requestUri:s,sessionId:c,postBody:m,tenantId:h}),y.uid)}).then(function(I){return w=Ud(y,I,"reauthenticate"),Hi(y,I),y.h=null,y.reload()}).then(function(){return w});return Gt(this,S,!0)},t.ub=function(s){var c=this,h=null;return Gt(this,this.I().then(function(m){return h=m,typeof s=="undefined"||ta(s)?{}:yp(new gp(s))}).then(function(m){return c.a.ub(h,m)}).then(function(m){if(c.email!=m)return c.reload()}).then(function(){}))},t.Eb=function(s,c){var h=this,m=null;return Gt(this,this.I().then(function(y){return m=y,typeof c=="undefined"||ta(c)?{}:yp(new gp(c))}).then(function(y){return h.a.Eb(m,s,y)}).then(function(y){if(h.email!=y)return h.reload()}).then(function(){}))};function Gt(s,c,h){var m=rG(s,c,h);return s.J.push(m),m.oa(function(){ep(s.J,m)}),m.o(function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=_D(y.w(),k0(s),F(s.jc,s))),w||y})}t.jc=function(s){var c=null,h=this;return s=Xl(le(s),h.uid).then(function(m){return c=Ud(h,m,"reauthenticate"),Hi(h,m),h.h=null,h.reload()}).then(function(){return c}),Gt(this,s,!0)};function rG(s,c,h){return s.h&&!h?(c.cancel(),lt(s.h)):c.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(s.h||s.dispatchEvent(new rc("userInvalidated")),s.h=m),m})}t.toJSON=function(){return this.w()},t.w=function(){var s={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&er(s,this.metadata.w()),pt(this.providerData,function(c){s.providerData.push(Iz(c))}),er(s,this.O.w()),s};function OD(s){if(!s.apiKey)return null;var c={apiKey:s.apiKey,authDomain:s.authDomain,appName:s.appName,emulatorConfig:s.emulatorConfig},h={};if(s.stsTokenManager&&s.stsTokenManager.accessToken){h[hi]=s.stsTokenManager.accessToken,h.refreshToken=s.stsTokenManager.refreshToken||null;var m=s.stsTokenManager.expirationTime;m&&(h.expiresIn=(m-Date.now())/1e3)}else return null;var y=new _r(c,h,s);return s.providerData&&pt(s.providerData,function(w){w&&M0(y,Bi(w))}),s.redirectEventId&&(y.ga=s.redirectEventId),y}function iG(s,c,h,m){var y=new _r(s,c);return h&&(y.ha=h),m&&Ld(y,m),y.reload().then(function(){return y})}function oG(s,c,h,m){var y=s.b,w={};return w[hi]=y.b&&y.b.toString(),w.refreshToken=y.a,c=new _r(c||{apiKey:s.l,authDomain:s.s,appName:s.m},w),h&&(c.ha=h),m&&Ld(c,m),$p(c,s),c}function sG(s){this.a=s,this.b=Md()}var F0={name:"redirectUser",F:"session"};function PD(s){return nc(s.b,F0,s.a)}function aG(s,c){return s.b.get(F0,s.a).then(function(h){return h&&c&&(h.authDomain=c),OD(h||{})})}function U0(s){this.a=s,this.b=Md(),this.c=null,this.f=lG(this),this.b.addListener(ji("local"),this.a,F(this.g,this))}U0.prototype.g=function(){var s=this,c=ji("local");ic(this,function(){return le().then(function(){return s.c&&s.c.F!="local"?s.b.get(c,s.a):null}).then(function(h){if(h)return B0(s,"local").then(function(){s.c=c})})})};function B0(s,c){var h=[],m;for(m in ec)ec[m]!==c&&h.push(nc(s.b,ji(ec[m]),s.a));return h.push(nc(s.b,V0,s.a)),Qq(h)}function lG(s){var c=ji("local"),h=ji("session"),m=ji("none");return x5(s.b,c,s.a).then(function(){return s.b.get(h,s.a)}).then(function(y){return y?h:s.b.get(m,s.a).then(function(w){return w?m:s.b.get(c,s.a).then(function(S){return S?c:s.b.get(V0,s.a).then(function(I){return I?ji(I):c})})})}).then(function(y){return s.c=y,B0(s,y.F)}).o(function(){s.c||(s.c=c)})}var V0={name:"persistence",F:"session"};function ji(s){return{name:"authUser",F:s}}U0.prototype.xb=function(s){var c=null,h=this;return E5(s),ic(this,function(){return s!=h.c.F?h.b.get(h.c,h.a).then(function(m){return c=m,B0(h,s)}).then(function(){if(h.c=ji(s),c)return h.b.set(h.c,c,h.a)}):le()})};function cG(s){return ic(s,function(){return s.b.set(V0,s.c.F,s.a)})}function MD(s,c){return ic(s,function(){return s.b.set(s.c,c.w(),s.a)})}function LD(s){return ic(s,function(){return nc(s.b,s.c,s.a)})}function FD(s,c,h){return ic(s,function(){return s.b.get(s.c,s.a).then(function(m){return m&&c&&(m.authDomain=c),m&&h&&(m.emulatorConfig=h),OD(m||{})})})}function ic(s,c){return s.f=s.f.then(c,c),s.f}function pi(s){if(this.l=!1,te(this,"settings",new gD),te(this,"app",s),$e(this).options&&$e(this).options.apiKey)s=Q.SDK_VERSION?Gl(Q.SDK_VERSION):null,this.a=new fi($e(this).options&&$e(this).options.apiKey,rd(id),s);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=Q.INTERNAL.createSubscribe(F(this.zc,this)),this.X=void 0,this.bc=Q.INTERNAL.createSubscribe(F(this.Ac,this)),oc(this,null),this.i=new U0($e(this).options.apiKey+":"+$e(this).name),this.D=new sG($e(this).options.apiKey+":"+$e(this).name),this.$=_t(this,mG(this)),this.h=_t(this,vG(this)),this.ba=!1,this.ja=F(this.Zc,this),this.Ba=F(this.da,this),this.ya=F(this.mc,this),this.za=F(this.wc,this),this.Aa=F(this.xc,this),this.b=null,fG(this),this.INTERNAL={},this.INTERNAL.delete=F(this.delete,this),this.INTERNAL.logFramework=F(this.Gc,this),this.u=0,Mn.call(this),dG(this),this.J=[],this.P=null}$(pi,Mn);function UD(s){nr.call(this,"languageCodeChanged"),this.h=s}$(UD,nr);function BD(s){nr.call(this,"emulatorConfigChanged"),this.c=s}$(BD,nr);function VD(s){nr.call(this,"frameworkChanged"),this.f=s}$(VD,nr),t=pi.prototype,t.xb=function(s){return s=this.i.xb(s),_t(this,s)},t.wa=function(s){this.aa===s||this.l||(this.aa=s,yk(this.a,this.aa),this.dispatchEvent(new UD(this.la())))},t.la=function(){return this.aa},t.fd=function(){var s=u.navigator;this.wa(s&&(s.languages&&s.languages[0]||s.language||s.userLanguage)||null)},t.gd=function(s,c){if(!this.P){if(!/^https?:\/\//.test(s))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");c=c?!!c.disableWarnings:!1,uG(c),this.P={url:s,ec:c},this.settings.ib=!0,Jl(this.a,this.P),this.dispatchEvent(new BD(this.P))}};function uG(s){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!s&&pp().then(function(){var c=u.document.createElement("div");c.innerText="Running in emulator mode. Do not use with production credentials.",c.style.position="fixed",c.style.width="100%",c.style.backgroundColor="#ffffff",c.style.border=".1em solid #000000",c.style.color="#b50000",c.style.bottom="0px",c.style.left="0px",c.style.margin="0px",c.style.zIndex=1e4,c.style.textAlign="center",c.classList.add("firebase-emulator-warning"),u.document.body.appendChild(c)})}t.Gc=function(s){this.J.push(s),bk(this.a,Q.SDK_VERSION?Gl(Q.SDK_VERSION,this.J):null),this.dispatchEvent(new VD(this.J))},t.Ga=function(){return ea(this.J)},t.yb=function(s){this.S===s||this.l||(this.S=s,this.a.b=this.S)},t.T=function(){return this.S};function dG(s){Object.defineProperty(s,"lc",{get:function(){return this.la()},set:function(c){this.wa(c)},enumerable:!1}),s.aa=null,Object.defineProperty(s,"ti",{get:function(){return this.T()},set:function(c){this.yb(c)},enumerable:!1}),s.S=null,Object.defineProperty(s,"emulatorConfig",{get:function(){if(this.P){var c=rr(this.P.url);c=Bi({protocol:c.c,host:c.a,port:c.g,options:Bi({disableWarnings:this.P.ec})})}else c=null;return c},enumerable:!1})}t.toJSON=function(){return{apiKey:$e(this).options.apiKey,authDomain:$e(this).options.authDomain,appName:$e(this).name,currentUser:Ee(this)&&Ee(this).w()}};function H0(s){return s.Oa||lt(new O("auth-domain-config-required"))}function fG(s){var c=$e(s).options.authDomain,h=$e(s).options.apiKey;c&&la()&&(s.Oa=s.$.then(function(){if(!s.l){if(s.b=hD(c,h,$e(s).name,s.P),m0(s.b,s),Ee(s)&&Fd(Ee(s)),s.m){Fd(s.m);var m=s.m;m.wa(s.la()),I0(m,s),m=s.m,Ld(m,s.J),R0(m,s),m=s.m,Jl(m.a,s.P),A0(m,s),s.m=null}return s.b}}))}t.Fb=function(s,c){switch(s){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==c&&!!this.f;default:return!1}},t.na=function(s,c,h,m){s=="signInViaPopup"&&this.g==m&&(h&&this.C?this.C(h):c&&!h&&this.f&&this.f(c),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(s,c){return s=="signInViaRedirect"||s=="signInViaPopup"&&this.g==c&&this.f?F(this.ic,this):null},t.ic=function(s,c,h,m){var y=this,w={requestUri:s,postBody:m,sessionId:c,tenantId:h};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return _a(y,G_(y.a,w))})},t.Xc=function(s){if(!la())return lt(new O("operation-not-supported-in-this-environment"));var c=this,h=__(s.providerId),m=ca(),y=null;(!pd()||r_())&&$e(this).options.authDomain&&s.isOAuthProvider&&(y=Dd($e(this).options.authDomain,$e(this).options.apiKey,$e(this).name,"signInViaPopup",s,null,m,Q.SDK_VERSION||null,null,null,this.T(),this.P));var w=gR(y,h&&h.ua,h&&h.ta);return h=H0(this).then(function(S){return cD(S,w,"signInViaPopup",s,m,!!y,c.T())}).then(function(){return new Ae(function(S,I){c.na("signInViaPopup",null,new O("cancelled-popup-request"),c.g),c.f=S,c.C=I,c.g=m,c.c=dD(c.b,c,"signInViaPopup",w,m)})}).then(function(S){return w&&aa(w),S?Bi(S):null}).o(function(S){throw w&&aa(w),S}),_t(this,h)},t.Yc=function(s){if(!la())return lt(new O("operation-not-supported-in-this-environment"));var c=this,h=H0(this).then(function(){return cG(c.i)}).then(function(){return uD(c.b,"signInViaRedirect",s,void 0,c.T())});return _t(this,h)};function HD(s){if(!la())return lt(new O("operation-not-supported-in-this-environment"));var c=H0(s).then(function(){return s.b.qa()}).then(function(h){return h?Bi(h):null});return _t(s,c)}t.qa=function(){var s=this;return HD(this).then(function(c){return s.b&&Wp(s.b.b),c}).o(function(c){throw s.b&&Wp(s.b.b),c})},t.dd=function(s){if(!s)return lt(new O("null-user"));if(this.S!=s.tenantId)return lt(new O("tenant-id-mismatch"));var c=this,h={};h.apiKey=$e(this).options.apiKey,h.authDomain=$e(this).options.authDomain,h.appName=$e(this).name;var m=oG(s,h,c.D,c.Ga());return _t(this,this.h.then(function(){if($e(c).options.apiKey!=s.l)return m.reload()}).then(function(){return Ee(c)&&s.uid==Ee(c).uid?($p(Ee(c),s),c.da(s)):(oc(c,m),Fd(m),c.da(m))}).then(function(){Bd(c)}))};function hG(s,c){var h={};return h.apiKey=$e(s).options.apiKey,h.authDomain=$e(s).options.authDomain,h.appName=$e(s).name,s.P&&(h.emulatorConfig=s.P),s.$.then(function(){return iG(h,c,s.D,s.Ga())}).then(function(m){return Ee(s)&&m.uid==Ee(s).uid?($p(Ee(s),m),s.da(m)):(oc(s,m),Fd(m),s.da(m))}).then(function(){Bd(s)})}function oc(s,c){Ee(s)&&(eG(Ee(s),s.Ba),yr(Ee(s),"tokenChanged",s.ya),yr(Ee(s),"userDeleted",s.za),yr(Ee(s),"userInvalidated",s.Aa),D0(Ee(s))),c&&(c.S.push(s.Ba),Lr(c,"tokenChanged",s.ya),Lr(c,"userDeleted",s.za),Lr(c,"userInvalidated",s.Aa),0<s.u&&TD(c)),te(s,"currentUser",c),c&&(c.wa(s.la()),I0(c,s),Ld(c,s.J),R0(c,s),Jl(c.a,s.P),A0(c,s))}t.Ab=function(){var s=this,c=this.h.then(function(){return s.b&&Wp(s.b.b),Ee(s)?(oc(s,null),LD(s.i).then(function(){Bd(s)})):le()});return _t(this,c)};function pG(s){var c=aG(s.D,$e(s).options.authDomain).then(function(h){return(s.m=h)&&(h.ha=s.D),PD(s.D)});return _t(s,c)}function mG(s){var c=$e(s).options.authDomain,h=pG(s).then(function(){return FD(s.i,c,s.P)}).then(function(m){return m?(m.ha=s.D,s.m&&(s.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return MD(s.i,m).then(function(){return m})}).o(function(y){return y.code=="auth/network-request-failed"?m:LD(s.i)})):null}).then(function(m){oc(s,m||null)});return _t(s,h)}function vG(s){return s.$.then(function(){return HD(s)}).o(function(){}).then(function(){if(!s.l)return s.ja()}).o(function(){}).then(function(){if(!s.l){s.ba=!0;var c=s.i;c.b.addListener(ji("local"),c.a,s.ja)}})}t.Zc=function(){var s=this;return FD(this.i,$e(this).options.authDomain).then(function(c){if(!s.l){var h;if(h=Ee(s)&&c){h=Ee(s).uid;var m=c.uid;h=h==null||h===""||m===void 0||m===null||m===""?!1:h==m}if(h)return $p(Ee(s),c),Ee(s).I();(Ee(s)||c)&&(oc(s,c),c&&(Fd(c),c.ha=s.D),s.b&&m0(s.b,s),Bd(s))}})},t.da=function(s){return MD(this.i,s)},t.mc=function(){Bd(this),this.da(Ee(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function _a(s,c){var h=null,m=null;return _t(s,c.then(function(y){return h=C_(y),m=qR(y),hG(s,y)},function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=_D(y.w(),s,F(s.kc,s))),w||y}).then(function(){return Bi({user:Ee(s),credential:h,additionalUserInfo:m,operationType:"signIn"})}))}t.kc=function(s){var c=this;return this.h.then(function(){return _a(c,le(s))})},t.zc=function(s){var c=this;this.addAuthTokenListener(function(){s.next(Ee(c))})},t.Ac=function(s){var c=this;gG(this,function(){s.next(Ee(c))})},t.Ic=function(s,c,h){var m=this;return this.ba&&Promise.resolve().then(function(){typeof s=="function"?s(Ee(m)):typeof s.next=="function"&&s.next(Ee(m))}),this.hb(s,c,h)},t.Hc=function(s,c,h){var m=this;return this.ba&&Promise.resolve().then(function(){m.X=m.getUid(),typeof s=="function"?s(Ee(m)):typeof s.next=="function"&&s.next(Ee(m))}),this.bc(s,c,h)},t.nc=function(s){var c=this,h=this.h.then(function(){return Ee(c)?Ee(c).I(s).then(function(m){return{accessToken:m}}):null});return _t(this,h)},t.Tc=function(s){var c=this;return this.h.then(function(){return _a(c,ke(c.a,QW,{token:s}))}).then(function(h){var m=h.user;return Zo(m,"isAnonymous",!1),c.da(m),h})},t.Uc=function(s,c){var h=this;return this.h.then(function(){return _a(h,ke(h.a,Ak,{email:s,password:c}))})},t.dc=function(s,c){var h=this;return this.h.then(function(){return _a(h,ke(h.a,AW,{email:s,password:c}))})},t.$a=function(s){var c=this;return this.h.then(function(){return _a(c,s.ka(c.a))})},t.Sc=function(s){return a_("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(s)},t.zb=function(){var s=this;return this.h.then(function(){var c=Ee(s);if(c&&c.isAnonymous){var h=Bi({providerId:null,isNewUser:!1});return Bi({user:c,credential:null,additionalUserInfo:h,operationType:"signIn"})}return _a(s,s.a.zb()).then(function(m){var y=m.user;return Zo(y,"isAnonymous",!0),s.da(y),m})})};function $e(s){return s.app}function Ee(s){return s.currentUser}t.getUid=function(){return Ee(this)&&Ee(this).uid||null};function Xp(s){return Ee(s)&&Ee(s)._lat||null}function Bd(s){if(s.ba){for(var c=0;c<s.s.length;c++)s.s[c]&&s.s[c](Xp(s));if(s.X!==s.getUid()&&s.O.length)for(s.X=s.getUid(),c=0;c<s.O.length;c++)s.O[c]&&s.O[c](Xp(s))}}t.cc=function(s){this.addAuthTokenListener(s),this.u++,0<this.u&&Ee(this)&&TD(Ee(this))},t.Pc=function(s){var c=this;pt(this.s,function(h){h==s&&c.u--}),0>this.u&&(this.u=0),this.u==0&&Ee(this)&&D0(Ee(this)),this.removeAuthTokenListener(s)},t.addAuthTokenListener=function(s){var c=this;this.s.push(s),_t(this,this.h.then(function(){c.l||vo(c.s,s)&&s(Xp(c))}))},t.removeAuthTokenListener=function(s){li(this.s,function(c){return c==s})};function gG(s,c){s.O.push(c),_t(s,s.h.then(function(){!s.l&&vo(s.O,c)&&s.X!==s.getUid()&&(s.X=s.getUid(),c(Xp(s)))}))}t.delete=function(){this.l=!0;for(var s=0;s<this.R.length;s++)this.R[s].cancel("app-deleted");return this.R=[],this.i&&(s=this.i,s.b.removeListener(ji("local"),s.a,this.ja)),this.b&&(lD(this.b,this),Wp(this.b.b)),Promise.resolve()};function _t(s,c){return s.R.push(c),c.oa(function(){ep(s.R,c)}),c}t.hc=function(s){return _t(this,bW(this.a,s))},t.Bc=function(s){return!!T_(s)},t.wb=function(s,c){var h=this;return _t(this,le().then(function(){var m=new gp(c);if(!m.c)throw new O("argument-error",y_+" must be true when sending sign in link to email");return yp(m)}).then(function(m){return h.a.wb(s,m)}).then(function(){}))},t.jd=function(s){return this.Ra(s).then(function(c){return c.data.email})},t.nb=function(s,c){return _t(this,this.a.nb(s,c).then(function(){}))},t.Ra=function(s){return _t(this,this.a.Ra(s).then(function(c){return new Rz(c)}))},t.jb=function(s){return _t(this,this.a.jb(s).then(function(){}))},t.vb=function(s,c){var h=this;return _t(this,le().then(function(){return typeof c=="undefined"||ta(c)?{}:yp(new gp(c))}).then(function(m){return h.a.vb(s,m)}).then(function(){}))},t.Wc=function(s,c){return _t(this,b0(this,s,c,F(this.$a,this)))},t.Vc=function(s,c){var h=this;return _t(this,le().then(function(){var m=c||hd(),y=tk(s,m);if(m=T_(m),!m)throw new O("argument-error","Invalid email link!");if(m.tenantId!==h.T())throw new O("tenant-id-mismatch");return h.$a(y)}))};function Vd(){}Vd.prototype.render=function(){},Vd.prototype.reset=function(){},Vd.prototype.getResponse=function(){},Vd.prototype.execute=function(){};function sc(){this.a={},this.b=1e12}var j0=null;sc.prototype.render=function(s,c){return this.a[this.b.toString()]=new Qp(s,c),this.b++},sc.prototype.reset=function(s){var c=q0(this,s);s=jD(s),c&&s&&(c.delete(),delete this.a[s])},sc.prototype.getResponse=function(s){return(s=q0(this,s))?s.getResponse():null},sc.prototype.execute=function(s){(s=q0(this,s))&&s.execute()};function q0(s,c){return(c=jD(c))&&s.a[c]||null}function jD(s){return(s=typeof s=="undefined"?1e12:s)?s.toString():null}function Qp(s,c){this.g=!1,this.c=c,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=sd(s);var h=this;this.i=function(){h.execute()},this.h?this.execute():Lr(this.f,"click",this.i)}Qp.prototype.getResponse=function(){return z0(this),this.b},Qp.prototype.execute=function(){z0(this);var s=this;this.a||(this.a=setTimeout(function(){s.b=xz();var c=s.c.callback,h=s.c["expired-callback"];if(c)try{c(s.b)}catch(m){}s.a=setTimeout(function(){if(s.a=null,s.b=null,h)try{h()}catch(m){}s.h&&s.execute()},6e4)},500))},Qp.prototype.delete=function(){z0(this),this.g=!0,clearTimeout(this.a),this.a=null,yr(this.f,"click",this.i)};function z0(s){if(s.g)throw Error("reCAPTCHA mock was already deleted!")}function W0(){}te(W0,"FACTOR_ID","phone");function G0(){}G0.prototype.g=function(){return j0||(j0=new sc),le(j0)},G0.prototype.c=function(){};var K0=null;function $0(){this.b=u.grecaptcha?Infinity:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yG=new Li(tp,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bG=new Xo(3e4,6e4);$0.prototype.g=function(s){var c=this;return new Ae(function(h,m){var y=setTimeout(function(){m(new O("network-request-failed"))},bG.get());if(!u.grecaptcha||s!==c.f&&!c.b){u[c.a]=function(){if(u.grecaptcha){c.f=s;var S=u.grecaptcha.render;u.grecaptcha.render=function(I,V){return I=S(I,V),c.b++,I},clearTimeout(y),h(u.grecaptcha)}else clearTimeout(y),m(new O("internal-error"));delete u[c.a]};var w=kb(yG,{onload:c.a,hl:s||""});le(B_(w)).o(function(){clearTimeout(y),m(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),h(u.grecaptcha)})},$0.prototype.c=function(){this.b--};var Y0=null;function X0(s,c,h,m,y,w,S){if(te(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=c,this.g=null,S?(K0||(K0=new G0),S=K0):(Y0||(Y0=new $0),S=Y0),this.m=S,this.a=h||{theme:"light",type:"image"},this.h=[],this.a[WD])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[_G]==="invisible",!u.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!sd(c)||!this.i&&sd(c).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new fi(s,w||null,y||null),this.u=m||function(){return null};var I=this;this.l=[];var V=this.a[qD];this.a[qD]=function(he){if(GD(I,he),typeof V=="function")V(he);else if(typeof V=="string"){var We=ct(V,u);typeof We=="function"&&We(he)}};var j=this.a[zD];this.a[zD]=function(){if(GD(I,null),typeof j=="function")j();else if(typeof j=="string"){var he=ct(j,u);typeof he=="function"&&he()}}}var qD="callback",zD="expired-callback",WD="sitekey",_G="size";function GD(s,c){for(var h=0;h<s.l.length;h++)try{s.l[h](c)}catch(m){}}function wG(s,c){li(s.l,function(h){return h==c})}function Q0(s,c){return s.h.push(c),c.oa(function(){ep(s.h,c)}),c}t=X0.prototype,t.Ia=function(){var s=this;return this.f?this.f:this.f=Q0(this,le().then(function(){if(mp()&&!ui())return pp();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return s.m.g(s.u())}).then(function(c){return s.g=c,ke(s.s,jW,{})}).then(function(c){s.a[WD]=c.recaptchaSiteKey}).o(function(c){throw s.f=null,c}))},t.render=function(){Jp(this);var s=this;return Q0(this,this.Ia().then(function(){if(s.c===null){var c=s.v;if(!s.i){var h=sd(c);c=Kq("DIV"),h.appendChild(c)}s.c=s.g.render(c,s.a)}return s.c}))},t.verify=function(){Jp(this);var s=this;return Q0(this,this.render().then(function(c){return new Ae(function(h){var m=s.g.getResponse(c);if(m)h(m);else{var y=function(w){w&&(wG(s,y),h(w))};s.l.push(y),s.i&&s.g.execute(s.c)}})}))},t.reset=function(){Jp(this),this.c!==null&&this.g.reset(this.c)};function Jp(s){if(s.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Jp(this),this.D=!0,this.m.c();for(var s=0;s<this.h.length;s++)this.h[s].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){s=sd(this.v);for(var c;c=s.firstChild;)s.removeChild(c)}};function J0(s,c,h){var m=!1;try{this.b=h||Q.app()}catch(S){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)h=this.b.options.apiKey;else throw new O("invalid-api-key");var y=this,w=null;try{w=this.b.auth().Ga()}catch(S){}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch(S){}w=Q.SDK_VERSION?Gl(Q.SDK_VERSION,w):null,X0.call(this,h,s,c,function(){try{var S=y.b.auth().la()}catch(I){S=null}return S},w,rd(id),m)}$(J0,X0);function KD(s,c,h,m){e:{h=Array.prototype.slice.call(h);for(var y=0,w=!1,S=0;S<c.length;S++)if(c[S].optional)w=!0;else{if(w)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(w=c.length,h.length<y||w<h.length)m="Expected "+(y==w?y==1?"1 argument":y+" arguments":y+"-"+w+" arguments")+" but got "+h.length+".";else{for(y=0;y<h.length;y++)if(w=c[y].optional&&h[y]===void 0,!c[y].M(h[y])&&!w){if(c=c[y],0>y||y>=$D.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");h=$D[y],m=(m?"":h+" argument ")+(c.name?'"'+c.name+'" ':"")+"must be "+c.K+".";break e}m=null}}if(m)throw new O("argument-error",s+" failed: "+m)}var $D="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ee(s,c){return{name:s||"",K:"a valid string",optional:!!c,M:function(h){return typeof h=="string"}}}function Z0(s,c){return{name:s||"",K:"a boolean",optional:!!c,M:function(h){return typeof h=="boolean"}}}function Lt(s,c){return{name:s||"",K:"a valid object",optional:!!c,M:E}}function ac(s,c){return{name:s||"",K:"a function",optional:!!c,M:function(h){return typeof h=="function"}}}function qi(s,c){return{name:s||"",K:"null",optional:!!c,M:function(h){return h===null}}}function EG(){return{name:"",K:"an HTML element",optional:!1,M:function(s){return!!(s&&s instanceof Element)}}}function xG(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(s){return!!(s&&s instanceof pi)}}}function SG(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(s){return!!(s&&s instanceof Q.app.App)}}}function es(s){return{name:s?s+"Credential":"credential",K:s?"a valid "+s+" credential":"a valid credential",optional:!1,M:function(c){if(!c)return!1;var h=!s||c.providerId===s;return!(!c.ka||!h)}}}function YD(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(s){return s?!!s.sb:!1}}}function lc(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(s){return!!(s&&s.providerId&&s.hasOwnProperty&&s.hasOwnProperty("isOAuthProvider"))}}}function ew(s,c){return E(s)&&typeof s.type=="string"&&s.type===c&&typeof s.Ha=="function"}function XD(s){return E(s)&&typeof s.uid=="string"}function Zp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(s){return!(!s||typeof s.type!="string"||typeof s.verify!="function")}}}function Rt(s,c,h,m){return{name:h||"",K:s.K+" or "+c.K,optional:!!m,M:function(y){return s.M(y)||c.M(y)}}}function mt(s,c){for(var h in c){var m=c[h].name;s[m]=JD(m,s[h],c[h].j)}}function QD(s,c){for(var h in c){var m=c[h].name;m!==h&&Object.defineProperty(s,m,{get:G(function(y){return this[y]},h),set:G(function(y,w,S,I){KD(y,[S],[I],!0),this[w]=I},m,h,c[h].kb),enumerable:!0})}}function kt(s,c,h,m){s[c]=JD(c,h,m)}function JD(s,c,h){function m(){var S=Array.prototype.slice.call(arguments);return KD(y,h,S),c.apply(this,S)}if(!h)return c;var y=TG(s),w;for(w in c)m[w]=c[w];for(w in c.prototype)m.prototype[w]=c.prototype[w];return m}function TG(s){return s=s.split("."),s[s.length-1]}mt(pi.prototype,{jb:{name:"applyActionCode",j:[ee("code")]},Ra:{name:"checkActionCode",j:[ee("code")]},nb:{name:"confirmPasswordReset",j:[ee("code"),ee("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ee("email"),ee("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ee("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ee("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Rt(Lt(),ac(),"nextOrObserver"),ac("opt_error",!0),ac("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Rt(Lt(),ac(),"nextOrObserver"),ac("opt_error",!0),ac("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ee("email"),Rt(Lt("opt_actionCodeSettings",!0),qi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ee("email"),Lt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ee("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[es()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[es()]},Tc:{name:"signInWithCustomToken",j:[ee("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ee("email"),ee("password")]},Vc:{name:"signInWithEmailLink",j:[ee("email"),ee("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ee("phoneNumber"),Zp()]},Xc:{name:"signInWithPopup",j:[lc()]},Yc:{name:"signInWithRedirect",j:[lc()]},dd:{name:"updateCurrentUser",j:[Rt(function(s){return{name:"user",K:"an instance of Firebase User",optional:!!s,M:function(c){return!!(c&&c instanceof _r)}}}(),qi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ee(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ee("url"),Lt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ee("code")]}}),QD(pi.prototype,{lc:{name:"languageCode",kb:Rt(ee(),qi(),"languageCode")},ti:{name:"tenantId",kb:Rt(ee(),qi(),"tenantId")}}),pi.Persistence=ec,pi.Persistence.LOCAL="local",pi.Persistence.SESSION="session",pi.Persistence.NONE="none",mt(_r.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Z0("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Z0("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[es()]},qb:{name:"linkWithCredential",j:[es()]},Dc:{name:"linkWithPhoneNumber",j:[ee("phoneNumber"),Zp()]},Ec:{name:"linkWithPopup",j:[lc()]},Fc:{name:"linkWithRedirect",j:[lc()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[es()]},tb:{name:"reauthenticateWithCredential",j:[es()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ee("phoneNumber"),Zp()]},Nc:{name:"reauthenticateWithPopup",j:[lc()]},Oc:{name:"reauthenticateWithRedirect",j:[lc()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Rt(Lt("opt_actionCodeSettings",!0),qi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ee(null,!0)]},cd:{name:"unlink",j:[ee("provider")]},Bb:{name:"updateEmail",j:[ee("email")]},Cb:{name:"updatePassword",j:[ee("password")]},ed:{name:"updatePhoneNumber",j:[es("phone")]},Db:{name:"updateProfile",j:[Lt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ee("email"),Rt(Lt("opt_actionCodeSettings",!0),qi(null,!0),"opt_actionCodeSettings",!0)]}}),mt(sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mt(Vd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mt(Ae.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),QD(gD.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Z0("appVerificationDisabledForTesting")}}),mt(y0.prototype,{confirm:{name:"confirm",j:[ee("verificationCode")]}}),kt(Yl,"fromJSON",function(s){s=typeof s=="string"?JSON.parse(s):s;for(var c,h=[Kz,$z,Yz,Gz],m=0;m<h.length;m++)if(c=h[m](s))return c;return null},[Rt(ee(),Lt(),"json")]),kt(Ur,"credential",function(s,c){return new Qo(s,c)},[ee("email"),ee("password")]),mt(Qo.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),mt(fa.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),kt(fa,"credential",QR,[Rt(ee(),Lt(),"token")]),kt(Ur,"credentialWithLink",tk,[ee("email"),ee("emailLink")]),mt(ha.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),kt(ha,"credential",JR,[Rt(ee(),Lt(),"token")]),mt(pa.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),kt(pa,"credential",ZR,[Rt(ee(),Rt(Lt(),qi()),"idToken"),Rt(ee(),qi(),"accessToken",!0)]),mt(Ql.prototype,{Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),kt(Ql,"credential",ek,[Rt(ee(),Lt(),"token"),ee("secret",!0)]),mt(br.prototype,{Ca:{name:"addScope",j:[ee("scope")]},credential:{name:"credential",j:[Rt(ee(),Rt(Lt(),qi()),"optionsOrIdToken"),Rt(ee(),qi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Lt("customOAuthParameters")]}}),mt(yo.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),mt(ua.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),kt(bo,"credential",nk,[ee("verificationId"),ee("verificationCode")]),mt(bo.prototype,{fb:{name:"verifyPhoneNumber",j:[Rt(ee(),function(s,c){return{name:s||"phoneInfoOptions",K:"valid phone info options",optional:!!c,M:function(h){return h?h.session&&h.phoneNumber?ew(h.session,_d)&&typeof h.phoneNumber=="string":h.session&&h.multiFactorHint?ew(h.session,xp)&&XD(h.multiFactorHint):h.session&&h.multiFactorUid?ew(h.session,xp)&&typeof h.multiFactorUid=="string":h.phoneNumber?typeof h.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Zp()]}}),mt(Jo.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),mt(O.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),mt(Ed.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),mt(R_.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),mt(w0.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),mt(_0.prototype,{Rc:{name:"resolveSignIn",j:[YD()]}}),mt(x0.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[YD(),ee("displayName",!0)]},bd:{name:"unenroll",j:[Rt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:XD},ee(),"multiFactorInfoIdentifier")]}}),mt(J0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),kt(g_,"parseLink",OR,[ee("link")]),kt(W0,"assertion",function(s){return new ED(s)},[es("phone")]),function(){if(typeof Q!="undefined"&&Q.INTERNAL&&Q.INTERNAL.registerComponent){var s={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:v_,VERIFY_AND_CHANGE_EMAIL:yd,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pi,AuthCredential:Yl,Error:O};kt(s,"EmailAuthProvider",Ur,[]),kt(s,"FacebookAuthProvider",fa,[]),kt(s,"GithubAuthProvider",ha,[]),kt(s,"GoogleAuthProvider",pa,[]),kt(s,"TwitterAuthProvider",Ql,[]),kt(s,"OAuthProvider",br,[ee("providerId")]),kt(s,"SAMLAuthProvider",XR,[ee("providerId")]),kt(s,"PhoneAuthProvider",bo,[xG()]),kt(s,"RecaptchaVerifier",J0,[Rt(ee(),EG(),"recaptchaContainer"),Lt("recaptchaParameters",!0),SG()]),kt(s,"ActionCodeURL",g_,[]),kt(s,"PhoneMultiFactorGenerator",W0,[]),Q.INTERNAL.registerComponent({name:"auth",instanceFactory:function(c){return c=c.getProvider("app").getImmediate(),new pi(c)},multipleInstances:!1,serviceProps:s,instantiationMode:"LAZY",type:"PUBLIC"}),Q.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(c){return c=c.getProvider("auth").getImmediate(),{getUid:F(c.getUid,c),getToken:F(c.nc,c),addAuthTokenListener:F(c.cc,c),removeAuthTokenListener:F(c.Pc,c)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Q.registerVersion("@firebase/auth","0.16.6"),Q.INTERNAL.extendNamespace({User:_r})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});sr();jr();or();re();var gm=Vr(zi()),k6="@firebase/database",D6="0.10.1";var Nw="";function oO(t){Nw=t}var N6=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nt(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ta(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();var O6=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return Sn(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();var sO=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new N6(e)}}catch(n){}return new O6},Ia=sO("localStorage"),Ow=sO("sessionStorage");var Tc=new gm.Logger("@firebase/database"),aO=function(){var t=1;return function(){return t++}}(),lO=function(t){var e=Iw(t),n=new Sw;n.update(e);var r=n.digest();return xa.encodeByteArray(r)},Qd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Qd.apply(null,i):typeof i=="object"?n+=Nt(i):n+=i,n+=" "}return n},Aa=null,cO=!0,uO=function(t,e){W(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tc.logLevel=gm.LogLevel.VERBOSE,Aa=Tc.log.bind(Tc),e&&Ow.set("logging_enabled",!0)):typeof t=="function"?Aa=t:(Aa=null,Ow.remove("logging_enabled"))},tn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(cO===!0&&(cO=!1,Aa===null&&Ow.get("logging_enabled")===!0&&uO(!0)),Aa){var n=Qd.apply(null,t);Aa(n)}},Jd=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];tn.apply(void 0,pe([t],Dt(e)))}},Pw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Qd.apply(void 0,pe([],Dt(t)));Tc.error(n)},Wi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Qd.apply(void 0,pe([],Dt(t)));throw Tc.error(n),new Error(n)},fn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Qd.apply(void 0,pe([],Dt(t)));Tc.warn(n)},P6=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ym=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},M6=function(t){if(Hr()||document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},So="[MIN_NAME]",Gi="[MAX_NAME]",Ra=function(t,e){if(t===e)return 0;if(t===So||e===Gi)return-1;if(e===So||t===Gi)return 1;var n=bm(t),r=bm(e);return n!==null?r!==null?n-r==0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},L6=function(t,e){return t===e?0:t<e?-1:1},Zd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nt(e))},Mw=function(t){if(typeof t!="object"||t===null)return Nt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=Nt(e[i]),r+=":",r+=Mw(t[e[i]]);return r+="}",r},dO=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Kt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var fO=function(t){W(!ym(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,o,a,l,u;t===0?(o=0,a=0,i=1/t==-Infinity?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));var d=[];for(u=n;u;u-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();var f=d.join(""),p="";for(u=0;u<64;u+=8){var v=parseInt(f.substr(u,8),2).toString(16);v.length===1&&(v="0"+v),p=p+v}return p.toLowerCase()},F6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},U6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function B6(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var V6=new RegExp("^-?(0*)\\d{1,10}$"),hO=-2147483648,Lw=2147483647,bm=function(t){if(V6.test(t)){var e=Number(t);if(e>=hO&&e<=Lw)return e}return null},Cc=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw fn("Exception was thrown by user callback.",n),e},Math.floor(0))}},H6=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ef=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};var j6=function(){function t(e,n){var r=this;this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return t.prototype.getToken=function(e){var n=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){fn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}();var q6=function(){function t(e,n,r){var i=this;this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(o){return i.auth_=o})}return t.prototype.getToken=function(e){var n=this;return this.auth_?this.auth_.getToken(e).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(e).then(r,i):r(null)},0)})},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)})},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fn(e)},t}(),tf=function(){function t(e){this.accessToken=e}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(e){e(this.accessToken)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}();var _m="5",pO="v",mO="s",vO="r",gO="f",yO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bO="ls",z6="p",Fw="ac",_O="websocket",wO="long_polling";var Uw=function(){function t(e,n,r,i,o,a,l){o===void 0&&(o=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ia.get("host:"+e)||this._host}return t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ia.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();function W6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function EO(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");var r;if(e===_O)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===wO)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);W6(t)&&(n.ns=t.namespace);var i=[];return Kt(n,function(o,a){i.push(o+"="+a)}),r+i.join("&")}var G6=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),Sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return Wd(this.counters_)},t}();var Bw={},Vw={};function Hw(t){var e=t.toString();return Bw[e]||(Bw[e]=new G6),Bw[e]}function K6(t,e){var n=t.toString();return Vw[n]||(Vw[n]=e()),Vw[n]}var $6=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var l=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var u=function(f){l[f]&&Cc(function(){r.onMessage_(l[f])})},d=0;d<l.length;++d)u(d);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();var xO="start",Y6="close",X6="pLPCommand",Q6="pRTLPCB",SO="id",TO="pw",CO="ser",J6="cb",Z6="seg",eK="ts",tK="d",nK="dframe",IO=1870,AO=30,rK=IO-AO,iK=25e3,oK=3e4,jw=function(){function t(e,n,r,i,o,a,l){var u=this;this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jd(e),this.stats_=Hw(n),this.urlFn=function(d){return u.appCheckToken&&(d[Fw]=u.appCheckToken),EO(n,wO,d)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(oK)),M6(function(){if(!r.isClosed_){r.scriptTagHolder=new sK(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var u=Dt(a,5),d=u[0],f=u[1],p=u[2],v=u[3],g=u[4];if(r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,d===xO)r.id=f,r.password=p;else if(d===Y6)f?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(f,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+d)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var u=Dt(a,2),d=u[0],f=u[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(d,f)},function(){r.onClosed_()},r.urlFn);var i={};i[xO]="t",i[CO]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[J6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[pO]=_m,r.transportSessionId&&(i[mO]=r.transportSessionId),r.lastSessionId&&(i[bO]=r.lastSessionId),r.applicationId&&(i[z6]=r.applicationId),r.appCheckToken&&(i[Fw]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&yO.test(location.hostname)&&(i[vO]=gO);var o=r.urlFn(i);r.log_("Connecting via long-poll to "+o),r.scriptTagHolder.addTag(o,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return Hr()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!F6()&&!U6()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=mw(n),i=dO(r,rK),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){if(!Hr()){this.myDisconnFrame=document.createElement("iframe");var r={};r[nK]="t",r[SO]=e,r[TO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(e){var n=Nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),sK=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Hr())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=aO(),window[X6+this.uniqueCallbackIdentifier]=e,window[Q6+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){var a=document.domain;o='<script>document.domain="'+a+'";</script>'}var l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){tn("frame writing exception"),u.stack&&tn(u.stack),tn(u)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||tn("No IE domain setting required")}catch(i){var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[SO]=this.myID,e[TO]=this.myPW,e[CO]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(o.d.length+AO+r.length<=IO){var a=this.pendingSegs.shift();r=r+"&"+Z6+i+"="+a.seg+"&"+eK+i+"="+a.ts+"&"+tK+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},o=setTimeout(i,Math.floor(iK)),a=function(){clearTimeout(o),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;Hr()?this.doNodeLongPoll(e,n):setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){tn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch(o){}},Math.floor(1))},t}();var aK=16384,lK=45e3,nf=null;typeof MozWebSocket!="undefined"?nf=MozWebSocket:typeof WebSocket!="undefined"&&(nf=WebSocket);var ka=function(){function t(e,n,r,i,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jd(this.connId),this.stats_=Hw(n),this.connURL=t.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r,i){var o={};return o[pO]=_m,!Hr()&&typeof location!="undefined"&&location.hostname&&yO.test(location.hostname)&&(o[vO]=gO),n&&(o[mO]=n),r&&(o[bO]=r),i&&(o[Fw]=i),EO(e,_O,o)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ia.set("previous_websocket_failure",!0);try{if(Hr()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+_m+"/"+Nw+"/"+process.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?o.headers.Authorization=this.authToken||"":o.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,l=this.connURL.indexOf("wss://")===0?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;l&&(o.proxy={origin:l}),this.mySock=new nf(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new nf(this.connURL,[],o)}}catch(d){this.log_("Error instantiating WebSocket.");var u=d.message||d.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(d){r.handleIncomingFrame(d)},this.mySock.onerror=function(d){r.log_("WebSocket error.  Closing connection.");var f=d.message||d.data;f&&r.log_(f),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&nf!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return Ia.isInMemoryStorage||Ia.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){Ia.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Ta(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=dO(n,aK);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(lK))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();var cK=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[jw,ka]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ka&&ka.isAvailable(),o=i&&!ka.previouslyFailed();if(e.webSocketOnly&&(i||fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ka];else{var a=this.transports_=[];try{for(var l=ut(t.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var d=u.value;d&&d.isAvailable()&&a.push(d)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();var uK=6e4,dK=5e3,fK=10*1024,hK=100*1024,qw="t",RO="d",pK="s",kO="r",mK="e",DO="o",NO="a",OO="n",PO="p",vK="h",MO=function(){function t(e,n,r,i,o,a,l,u,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jd("c:"+this.id+":"),this.transportManager_=new cK(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=ef(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>hK?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>fK?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(qw in e){var n=e[qw];n===NO?this.upgradeIfSecondaryHealthy_():n===kO?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===DO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Zd("t",e),r=Zd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PO,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:OO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Zd("t",e),r=Zd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Zd(qw,e);if(RO in e){var r=e[RO];if(n===vK)this.onHandshake_(r);else if(n===OO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pK?this.onConnectionShutdown_(r):n===kO?this.onReset_(r):n===mK?Pw("Server Error: "+r):n===DO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pw("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_m!==r&&fn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),ef(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(uK))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ef(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(dK))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PO,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();var LO=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.refreshAppCheckToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();var FO=function(){function t(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=pe([],Dt(this.listeners_[e])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}},t.prototype.validateEventType_=function(e){W(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();var UO=function(t){M(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!mc()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return W(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(FO);var BO=32,VO=768,je=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t}();function Le(){return new je("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ss(t){return t.pieces_.length-t.pieceNum_}function Qe(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function zw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gK(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rf(t,e){return e===void 0&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function HO(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new je(e,0)}function dt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof je)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new je(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Un(t,e){var n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return Un(Qe(t),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yK(t,e){for(var n=rf(t,0),r=rf(e,0),i=0;i<n.length&&i<r.length;i++){var o=Ra(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ww(t,e){if(ss(t)!==ss(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function qr(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ss(t)>ss(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var bK=function(){function t(e,n){this.errorPrefix_=n,this.parts_=rf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=_c(this.parts_[r]);jO(this)}return t}();function _K(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_c(e),jO(t)}function wK(t){var e=t.parts_.pop();t.byteLength_-=_c(e),t.parts_.length>0&&(t.byteLength_-=1)}function jO(t){if(t.byteLength_>VO)throw new Error(t.errorPrefix_+"has a key path longer than "+VO+" bytes ("+t.byteLength_+").");if(t.parts_.length>BO)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BO+") or object contains a cycle "+Da(t))}function Da(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var EK=function(t){M(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var o=!document[r];o!==n.visible_&&(n.visible_=o,n.trigger("visible",o))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return W(n==="visible","Unknown event type: "+n),[this.visible_]},e}(FO);var of=1e3,xK=60*5*1e3,SK=3*1e3,qO=30*1e3,TK=1.3,CK=3e4,IK="server_kill",zO=3,Na=function(t){M(e,t);function e(n,r,i,o,a,l,u,d){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=a,f.authTokenProvider_=l,f.appCheckTokenProvider_=u,f.authOverride_=d,f.id=e.nextPersistentConnectionId_++,f.log_=Jd("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=of,f.maxReconnectDelay_=xK,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,d&&!Hr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return EK.getInstance().on("visible",f.onVisible_,f),n.host.indexOf("fblocal")===-1&&UO.getInstance().on("online",f.onOnline_,f),f}return e.prototype.sendRequest=function(n,r,i){var o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(Nt(a)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)},e.prototype.get=function(n){var r=this;this.initConnection_();var i=new un,o={p:n._path.toString(),q:n._queryObject},a={action:"g",request:o,onComplete:function(u){var d=u.d;u.s==="ok"?(r.onDataUpdate_(o.p,d,!1,null),i.resolve(d)):i.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var u=r.outstandingGets_[l];u===void 0||a!==u||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},SK),this.connected_&&this.sendGet_(l),i.promise},e.prototype.listen=function(n,r,i,o){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),W(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var u={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(o){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,o=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+o+" for "+a);var l={p:o},u="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(u,l,function(d){var f=d.d,p=d.s;e.warnOnListenWarnings_(f,i);var v=r.listens.get(o)&&r.listens.get(o).get(a);v===n&&(r.log_("listen response",d),p!=="ok"&&r.removeListen_(o,a),n.onComplete&&n.onComplete(p,f))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Sn(n,"w")){var i=xo(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();fn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+o+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||Ew(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qO)},e.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=ww(r)?"auth":"gauth",o={cred:r};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,function(a){var l=a.s,u=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,u))})}},e.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,o=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,o)})},e.prototype.unlisten=function(n,r){var i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),W(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,o);a&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)},e.prototype.sendUnlisten_=function(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";o&&(a.q=i,a.t=o),this.sendRequest(l,a)},e.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,o){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){o&&setTimeout(function(){o(l.s,l.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,o){this.putInternal("p",n,r,i,o)},e.prototype.merge=function(n,r,i,o){this.putInternal("m",n,r,i,o)},e.prototype.putInternal=function(n,r,i,o,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:o}),this.outstandingPutCount_++;var u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,o=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,o,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(o){var a=o.s;if(a!=="ok"){var l=o.d;r.log_("reportStats","Error sending stats: "+l)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Nt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Pw("Unrecognized action received from server: "+Nt(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>CK&&(this.reconnectDelay_=of),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TK)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d,f,p,v,g,b,_,E=this;return D(this,function(x){switch(x.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,l=!1,u=null,d=function(){u?u.close():(l=!0,i())},f=function(T){W(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(T)},this.realtime_={close:d,sendRequest:f},p=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)])];case 2:return v=Dt.apply(void 0,[x.sent(),2]),g=v[0],b=v[1],l?tn("getToken() completed but was canceled"):(tn("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=b&&b.token,u=new MO(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){fn(T+" ("+E.repoInfo_.toString()+")"),E.interrupt(IK)},a)),[3,4];case 3:return _=x.sent(),this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&fn(_),d()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(n){tn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){tn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Yd(this.interruptReasons_)&&(this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Mw(a)}).join("$"):i="default";var o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new je(n).toString(),o;if(this.listens.has(i)){var a=this.listens.get(i);o=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else o=void 0;return o},e.prototype.onAuthRevoked_=function(n,r){tn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zO&&(this.reconnectDelay_=qO,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(n,r){tn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zO&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,o;this.tryAuth(),this.tryAppCheck();try{for(var a=ut(this.listens.values()),l=a.next();!l.done;l=a.next()){var u=l.value;try{for(var d=(i=void 0,ut(u.values())),f=d.next();!f.done;f=d.next()){var p=f.value;this.sendListen_(p)}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var v=0;v<this.outstandingPuts_.length;v++)this.outstandingPuts_[v]&&this.sendPut_(v);for(;this.onDisconnectRequestQueue_.length;){var g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(var v=0;v<this.outstandingGets_.length;v++)this.outstandingGets_[v]&&this.sendGet_(v)},e.prototype.sendConnectStats_=function(){var n={},r="js";Hr()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Nw.replace(/\./g,"-")]=1,mc()?n["framework.cordova"]=1:Kd()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=UO.getInstance().currentlyOnline();return Yd(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(LO);var De=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();var wm=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new De(So,e),i=new De(So,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return De.MIN},t}();var Em,WO=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Em},set:function(n){Em=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Ra(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw rs("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return De.MIN},e.prototype.maxPost=function(){return new De(Gi,Em)},e.prototype.makePost=function(n,r){return W(typeof n=="string","KeyIndex indexValue must always be a string."),new De(n,Em)},e.prototype.toString=function(){return".key"},e}(wm),Ki=new WO;var xm=function(){function t(e,n,r,i,o){o===void 0&&(o=null),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),gi=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??To.EMPTY_NODE,this.right=o??To.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return To.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return To.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),AK=function(){function t(){}return t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new gi(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),To=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gi.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new xm(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new xm(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new xm(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new xm(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new AK,t}();function RK(t,e){return Ra(t.name,e.name)}function Gw(t,e){return Ra(t,e)}var Kw;function kK(t){Kw=t}var GO=function(t){return typeof t=="number"?"number:"+fO(t):"string:"+t},KO=function(t){if(t.isLeafNode()){var e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sn(e,".sv"),"Priority must be a string or number.")}else W(t===Kw||t.isEmpty(),"priority of unexpected type.");W(t===Kw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var $O,Ic=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),KO(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return $O},set:function(e){$O=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Se(e)?this:xe(e)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(W(r!==".priority"||ss(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+GO(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=fO(this.value_):e+=this.value_,this.lazyHash_=lO(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return W(i>=0,"Unknown leaf type: "+n),W(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var YO,XO;function DK(t){YO=t}function NK(t){XO=t}var OK=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),o=r.node.getPriority(),a=i.compareTo(o);return a===0?Ra(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return De.MIN},e.prototype.maxPost=function(){return new De(Gi,new Ic("[PRIORITY-POST]",XO))},e.prototype.makePost=function(n,r){var i=YO(n);return new De(r,new Ic("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(wm),et=new OK;var PK=Math.log(2),MK=function(){function t(e){var n=function(o){return parseInt(Math.log(o)/PK,10)},r=function(o){return parseInt(Array(o+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Sm=function(t,e,n,r){t.sort(e);var i=function(u,d){var f=d-u,p,v;if(f===0)return null;if(f===1)return p=t[u],v=n?n(p):p,new gi(v,p.node,gi.BLACK,null,null);var g=parseInt(f/2,10)+u,b=i(u,g),_=i(g+1,d);return p=t[g],v=n?n(p):p,new gi(v,p.node,gi.BLACK,b,_)},o=function(u){for(var d=null,f=null,p=t.length,v=function(x,T){var R=p-x,P=p;p-=x;var L=i(R+1,P),F=t[R],G=n?n(F):F;g(new gi(G,F.node,T,null,L))},g=function(x){d?(d.left=x,d=x):(f=x,d=x)},b=0;b<u.count;++b){var _=u.nextBitIsOne(),E=Math.pow(2,u.count-(b+1));_?v(E,gi.BLACK):(v(E,gi.BLACK),v(E,gi.RED))}return f},a=new MK(t.length),l=o(a);return new To(r||e,l)};var $w,Ac={},Tm=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return W(Ac&&et,"ChildrenNode.ts has not been loaded"),$w=$w||new t({".priority":Ac},{".priority":et}),$w},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=xo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof To?n:null},t.prototype.hasIndex=function(e){return Sn(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){W(e!==Ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(De.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var l;i?l=Sm(r,e.getCompare()):l=Ac;var u=e.toString(),d=C({},this.indexSet_);d[u]=e;var f=C({},this.indexes_);return f[u]=l,new t(f,d)},t.prototype.addToIndexes=function(e,n){var r=this,i=bc(this.indexes_,function(o,a){var l=xo(r.indexSet_,a);if(W(l,"Missing index implementation for "+a),o===Ac)if(l.isDefinedOn(e.node)){for(var u=[],d=n.getIterator(De.Wrap),f=d.getNext();f;)f.name!==e.name&&u.push(f),f=d.getNext();return u.push(e),Sm(u,l.getCompare())}else return Ac;else{var p=n.get(e.name),v=o;return p&&(v=v.remove(new De(e.name,p))),v.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=bc(this.indexes_,function(i){if(i===Ac)return i;var o=n.get(e.name);return o?i.remove(new De(e.name,o)):i});return new t(r,this.indexSet_)},t}();var sf,ye=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&KO(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return sf||(sf=new t(new To(Gw),null,Tm.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||sf},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?sf:n},t.prototype.getChild=function(e){var n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(Qe(e))},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new De(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?sf:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(e,n){var r=xe(e);if(r===null)return n;W(xe(e)!==".priority"||ss(e)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Qe(e),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(et,function(u,d){n[u]=d.val(e),r++,o&&t.INTEGER_REGEXP_.test(u)?i=Math.max(i,Number(u)):o=!1}),!e&&o&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+GO(this.getPriority().val())+":"),this.forEachChild(et,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":lO(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var o=i.getPredecessorKey(new De(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new De(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new De(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,De.Wrap),o=i.peek();o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,De.Wrap),o=i.peek();o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===af?-1:0},t.prototype.withIndex=function(e){if(e===Ki||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Ki||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(et),i=n.getIterator(et),o=r.getNext(),a=i.getNext();o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Ki?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),LK=function(t){M(e,t);function e(){return t.call(this,new To(Gw),ye.EMPTY_NODE,Tm.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return ye.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ye),af=new LK;Object.defineProperties(De,{MIN:{value:new De(So,ye.EMPTY_NODE)},MAX:{value:new De(Gi,af)}});WO.__EMPTY_NODE=ye.EMPTY_NODE;Ic.__childrenNodeConstructor=ye;kK(af);NK(af);var FK=!0;function gt(t,e){if(e===void 0&&(e=null),t===null)return ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Ic(n,gt(e))}if(!(t instanceof Array)&&FK){var r=[],i=!1,o=t;if(Kt(o,function(d,f){if(d.substring(0,1)!=="."){var p=gt(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),r.push(new De(d,p)))}}),r.length===0)return ye.EMPTY_NODE;var a=Sm(r,RK,function(d){return d.name},Gw);if(i){var l=Sm(r,et.getCompare());return new ye(a,gt(e),new Tm({".priority":l},{".priority":et}))}else return new ye(a,gt(e),Tm.Default)}else{var u=ye.EMPTY_NODE;return Kt(t,function(d,f){if(Sn(t,d)&&d.substring(0,1)!=="."){var p=gt(f);(p.isLeafNode()||!p.isEmpty())&&(u=u.updateImmediateChild(d,p))}}),u.updatePriority(gt(e))}}DK(gt);var Yw=function(t){M(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,W(!Se(n)&&xe(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),o=this.extractChild(r.node),a=i.compareTo(o);return a===0?Ra(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=gt(n),o=ye.EMPTY_NODE.updateChild(this.indexPath_,i);return new De(r,o)},e.prototype.maxPost=function(){var n=ye.EMPTY_NODE.updateChild(this.indexPath_,af);return new De(Gi,n)},e.prototype.toString=function(){return rf(this.indexPath_,0).join("/")},e}(wm);var UK=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ra(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return De.MIN},e.prototype.maxPost=function(){return De.MAX},e.prototype.makePost=function(n,r){var i=gt(n);return new De(r,i)},e.prototype.toString=function(){return".value"},e}(wm),Xw=new UK;var Rc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qw="-",QO="z",JO=786,BK=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,o=new Array(8);for(i=7;i>=0;i--)o[i]=Rc.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");var a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Rc.charAt(e[i]);return W(a.length===20,"nextPushId: Length should be 20."),a}}(),ZO=function(t){if(t===""+Lw)return Qw;var e=bm(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<JO)return n.push(Qw),n.join("");for(var i=n.length-1;i>=0&&n[i]===QO;)i--;if(i===-1)return Gi;var o=n[i],a=Rc.charAt(Rc.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},e1=function(t){if(t===""+hO)return So;var e=bm(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Qw?n.length===1?""+Lw:(delete n[n.length-1],n.join("")):(n[n.length-1]=Rc.charAt(Rc.indexOf(n[n.length-1])-1),n.join("")+QO.repeat(JO-n.length))};function t1(t){return{type:"value",snapshotNode:t}}function kc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function lf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VK(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Jw=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,o,a){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(lf(n,l)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(kc(n,r)):a.trackChildChange(cf(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(et,function(i,o){n.hasChild(i)||r.trackChildChange(lf(i,o))}),n.isLeafNode()||n.forEachChild(et,function(i,o){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(cf(i,o,a))}else r.trackChildChange(kc(i,o))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?ye.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();var n1=function(){function t(e){this.indexedFilter_=new Jw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,o,a){return this.matches(new De(n,r))||(r=ye.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=ye.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(ye.EMPTY_NODE);var o=this;return n.forEachChild(et,function(a,l){o.matches(new De(a,l))||(i=i.updateImmediateChild(a,ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();var HK=function(){function t(e){this.rangedFilter_=new n1(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,o,a){return this.rangedFilter_.matches(new De(n,r))||(r=ye.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ye.EMPTY_NODE.withIndex(this.index_);var o=void 0;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var l=o.getNext(),u=void 0;if(this.reverse_?u=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:u=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,u)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ye.EMPTY_NODE);var d=void 0,f=void 0,p=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var v=this.index_.getCompare();p=function(E,x){return v(x,E)}}else o=i.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),p=this.index_.getCompare();for(var a=0,g=!1;o.hasNext();){var l=o.getNext();!g&&p(d,l)<=0&&(g=!0);var u=g&&a<this.limit_&&p(l,f)<=0;u?a++:i=i.updateImmediateChild(l.name,ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,o){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(T,R){return l(R,T)}}else a=this.index_.getCompare();var u=e;W(u.numChildren()===this.limit_,"");var d=new De(n,r),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(u.hasChild(n)){for(var v=u.getImmediateChild(n),g=i.getChildAfterChild(this.index_,f,this.reverse_);g!=null&&(g.name===n||u.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);var b=g==null?1:a(g,d),_=p&&!r.isEmpty()&&b>=0;if(_)return o!=null&&o.trackChildChange(cf(n,r,v)),u.updateImmediateChild(n,r);o!=null&&o.trackChildChange(lf(n,v));var E=u.updateImmediateChild(n,ye.EMPTY_NODE),x=g!=null&&this.rangedFilter_.matches(g);return x?(o!=null&&o.trackChildChange(kc(g.name,g.node)),E.updateImmediateChild(g.name,g.node)):E}else return r.isEmpty()?e:p&&a(f,d)>=0?(o!=null&&(o.trackChildChange(lf(f.name,f.node)),o.trackChildChange(kc(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(f.name,ye.EMPTY_NODE)):e},t}();var r1=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},t.prototype.getIndexStartValue=function(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:So},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===et},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function jK(t){return t.loadsAllData()?new Jw(t.getIndex()):t.hasLimit()?new HK(t):new n1(t)}function qK(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function zK(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Zw(t,e,n){var r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function WK(t,e,n){var r;if(t.index_===Ki)typeof e=="string"&&(e=ZO(e)),r=Zw(t,e,n);else{var i=void 0;n==null?i=Gi:i=ZO(n),r=Zw(t,e,i)}return r.startAfterSet_=!0,r}function eE(t,e,n){var r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function GK(t,e,n){var r,i;return t.index_===Ki?(typeof e=="string"&&(e=e1(e)),i=eE(t,e,n)):(n==null?r=So:r=e1(n),i=eE(t,e,r)),i.endBeforeSet_=!0,i}function Cm(t,e){var n=t.copy();return n.index_=e,n}function i1(t){var e={};if(t.isDefault())return e;var n;return t.index_===et?n="$priority":t.index_===Xw?n="$value":t.index_===Ki?n="$key":(W(t.index_ instanceof Yw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nt(n),t.startSet_&&(e.startAt=Nt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Nt(t.indexStartName_))),t.endSet_&&(e.endAt=Nt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Nt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function o1(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==et&&(e.i=t.index_.toString()),e}var KK=function(t){M(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=Jd("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(W(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},e.prototype.listen=function(n,r,i,o){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var u=e.getListenId_(n,i),d={};this.listens_[u]=d;var f=i1(n._queryParams);this.restRequest_(l+".json",f,function(p,v){var g=v;if(p===404&&(g=null,p=null),p===null&&a.onDataUpdate_(l,g,!1,i),xo(a.listens_,u)===d){var b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",o(b,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=i1(n._queryParams),o=n._path.toString(),a=new un;return this.restRequest_(o+".json",i,function(l,u){var d=u;l===404&&(d=null,l=null),l===null?(r.onDataUpdate_(o,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var o=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Dt(a,2),u=l[0],d=l[1];u&&u.accessToken&&(r.auth=u.accessToken),d&&d.token&&(r.ac=d.token);var f=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+n+"?ns="+o.repoInfo_.namespace+xw(r);o.log_("Sending REST request for "+f);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(i&&p.readyState===4){o.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);var v=null;if(p.status>=200&&p.status<300){try{v=Ta(p.responseText)}catch(g){fn("Failed to parse JSON response for "+f+": "+p.responseText)}i(null,v)}else p.status!==401&&p.status!==404&&fn("Got unsuccessful REST response for "+f+" Status: "+p.status),i(p.status);i=null}},p.open("GET",f,!0),p.send()})},e}(LO);var $K=function(){function t(){this.rootNode_=ye.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();function Im(){return{value:null,children:new Map}}function Dc(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{var r=xe(e);t.children.has(r)||t.children.set(r,Im());var i=t.children.get(r);e=Qe(e),Dc(i,e,n)}}function tE(t,e){if(Se(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(et,function(o,a){Dc(t,new je(o),a)}),tE(t,e)}else if(t.children.size>0){var r=xe(e);if(e=Qe(e),t.children.has(r)){var i=tE(t.children.get(r),e);i&&t.children.delete(r)}return t.children.size===0}else return!0}function nE(t,e,n){t.value!==null?n(e,t.value):YK(t,function(r,i){var o=new je(e.toString()+"/"+r);nE(i,o,n)})}function YK(t,e){t.children.forEach(function(n,r){e(r,n)})}var s1=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=C({},e);return this.last_&&Kt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();var a1=10*1e3,XK=30*1e3,QK=5*60*1e3,JK=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new s1(e);var r=a1+(XK-a1)*Math.random();ef(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Kt(n,function(o,a){a>0&&Sn(e.statsToReport_,o)&&(r[o]=a,i=!0)}),i&&this.server_.reportStats(r),ef(this.reportStats_.bind(this),Math.floor(Math.random()*2*QK))},t}();function ZK(t,e){t.statsToReport_[e]=!0}var yi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yi||(yi={}));function rE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function iE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var e$=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yi.ACK_USER_WRITE,this.source=rE()}return t.prototype.operationForChild=function(e){if(Se(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new je(e));return new t(Le(),n,this.revert)}else return W(xe(this.path)===e,"operationForChild called for unrelated child."),new t(Qe(this.path),this.affectedTree,this.revert)},t}();var l1=function(){function t(e,n){this.source=e,this.path=n,this.type=yi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Se(this.path)?new t(this.source,Le()):new t(this.source,Qe(this.path))},t}();var Am=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yi.OVERWRITE}return t.prototype.operationForChild=function(e){return Se(this.path)?new t(this.source,Le(),this.snap.getImmediateChild(e)):new t(this.source,Qe(this.path),this.snap)},t}();var sE=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yi.MERGE}return t.prototype.operationForChild=function(e){if(Se(this.path)){var n=this.children.subtree(new je(e));return n.isEmpty()?null:n.value?new Am(this.source,Le(),n.value):new t(this.source,Le(),n)}else return W(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Qe(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();var as=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;var n=xe(e);return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();var t$=function(){function t(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return t}();function n$(t,e,n,r){var i=[],o=[];return e.forEach(function(a){a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(VK(a.childName,a.snapshotNode))}),uf(t,i,"child_removed",e,r,n),uf(t,i,"child_added",e,r,n),uf(t,i,"child_moved",o,r,n),uf(t,i,"child_changed",e,r,n),uf(t,i,"value",e,r,n),i}function uf(t,e,n,r,i,o){var a=r.filter(function(l){return l.type===n});a.sort(function(l,u){return i$(t,l,u)}),a.forEach(function(l){var u=r$(t,l,o);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(u,t.query_))})})}function r$(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function i$(t,e,n){if(e.childName==null||n.childName==null)throw rs("Should only compare child_ events.");var r=new De(e.childName,e.snapshotNode),i=new De(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Rm(t,e){return{eventCache:t,serverCache:e}}function df(t,e,n,r){return Rm(new as(e,n,r),t.serverCache)}function c1(t,e,n,r){return Rm(t.eventCache,new as(e,n,r))}function km(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Oa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var aE,o$=function(){return aE||(aE=new To(L6)),aE},wr=function(){function t(e,n){n===void 0&&(n=o$()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return Kt(e,function(r,i){n=n.set(new je(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:Le(),value:this.value};if(Se(e))return null;var r=xe(e),i=this.children.get(r);if(i!==null){var o=i.findRootMostMatchingPathAndValue(Qe(e),n);if(o!=null){var a=dt(new je(r),o.path);return{path:a,value:o.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(Se(e))return this;var n=xe(e),r=this.children.get(n);return r!==null?r.subtree(Qe(e)):new t(null)},t.prototype.set=function(e,n){if(Se(e))return new t(n,this.children);var r=xe(e),i=this.children.get(r)||new t(null),o=i.set(Qe(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(Se(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=xe(e),r=this.children.get(n);if(r){var i=r.remove(Qe(e)),o=void 0;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this},t.prototype.get=function(e){if(Se(e))return this.value;var n=xe(e),r=this.children.get(n);return r?r.get(Qe(e)):null},t.prototype.setTree=function(e,n){if(Se(e))return n;var r=xe(e),i=this.children.get(r)||new t(null),o=i.setTree(Qe(e),n),a=void 0;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(Le(),e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,o){r[i]=o.fold_(dt(e,i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,Le(),n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Se(e))return null;var o=xe(e),a=this.children.get(o);return a?a.findOnPath_(Qe(e),dt(n,o),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,Le(),n)},t.prototype.foreachOnPath_=function(e,n,r){if(Se(e))return this;this.value&&r(n,this.value);var i=xe(e),o=this.children.get(i);return o?o.foreachOnPath_(Qe(e),dt(n,i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(Le(),e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(dt(e,r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();var Co=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new wr(null))},t}();function ff(t,e,n){if(Se(e))return new Co(new wr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,o=r.value,a=Un(i,e);return o=o.updateChild(a,n),new Co(t.writeTree_.set(i,o))}else{var l=new wr(n),u=t.writeTree_.setTree(e,l);return new Co(u)}}function lE(t,e,n){var r=t;return Kt(n,function(i,o){r=ff(r,dt(e,i),o)}),r}function u1(t,e){if(Se(e))return Co.empty();var n=t.writeTree_.setTree(e,new wr(null));return new Co(n)}function cE(t,e){return Pa(t,e)!=null}function Pa(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Un(n.path,e)):null}function d1(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(et,function(r,i){e.push(new De(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new De(r,i.value))}),e}function ls(t,e){if(Se(e))return t;var n=Pa(t,e);return n!=null?new Co(new wr(n)):new Co(t.writeTree_.subtree(e))}function uE(t){return t.writeTree_.isEmpty()}function Nc(t,e){return f1(Le(),t.writeTree_,e)}function f1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,o){i===".priority"?(W(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=f1(dt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(dt(t,".priority"),r)),n}function Dm(t,e){return g1(e,t)}function s$(t,e,n,r,i){W(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ff(t.visibleWrites,e,n)),t.lastWriteId=r}function a$(t,e,n,r){W(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=lE(t.visibleWrites,e,n),t.lastWriteId=r}function l$(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function c$(t,e){var n=t.allWrites.findIndex(function(d){return d.writeId===e});W(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var l=t.allWrites[a];l.visible&&(a>=n&&u$(l,r.path)?i=!1:qr(r.path,l.path)&&(o=!0)),a--}if(i){if(o)return d$(t),!0;if(r.snap)t.visibleWrites=u1(t.visibleWrites,r.path);else{var u=r.children;Kt(u,function(d){t.visibleWrites=u1(t.visibleWrites,dt(r.path,d))})}return!0}else return!1}function u$(t,e){if(t.snap)return qr(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&qr(dt(t.path,n),e))return!0;return!1}function d$(t){t.visibleWrites=h1(t.allWrites,f$,Le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function f$(t){return t.visible}function h1(t,e,n){for(var r=Co.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,l=void 0;if(o.snap)qr(n,a)?(l=Un(n,a),r=ff(r,l,o.snap)):qr(a,n)&&(l=Un(a,n),r=ff(r,Le(),o.snap.getChild(l)));else if(o.children){if(qr(n,a))l=Un(n,a),r=lE(r,l,o.children);else if(qr(a,n))if(l=Un(a,n),Se(l))r=lE(r,Le(),o.children);else{var u=xo(o.children,xe(l));if(u){var d=u.getChild(Qe(l));r=ff(r,Le(),d)}}}else throw rs("WriteRecord should have .snap or .children")}}return r}function p1(t,e,n,r,i){if(!r&&!i){var o=Pa(t.visibleWrites,e);if(o!=null)return o;var a=ls(t.visibleWrites,e);if(uE(a))return n;if(n==null&&!cE(a,Le()))return null;var l=n||ye.EMPTY_NODE;return Nc(a,l)}else{var u=ls(t.visibleWrites,e);if(!i&&uE(u))return n;if(!i&&n==null&&!cE(u,Le()))return null;var d=function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(qr(v.path,e)||qr(e,v.path))},f=h1(t.allWrites,d,e),l=n||ye.EMPTY_NODE;return Nc(f,l)}}function h$(t,e,n){var r=ye.EMPTY_NODE,i=Pa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(et,function(l,u){r=r.updateImmediateChild(l,u)}),r;if(n){var o=ls(t.visibleWrites,e);return n.forEachChild(et,function(l,u){var d=Nc(ls(o,new je(l)),u);r=r.updateImmediateChild(l,d)}),d1(o).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=ls(t.visibleWrites,e);return d1(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function p$(t,e,n,r,i){W(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=dt(e,n);if(cE(t.visibleWrites,o))return null;var a=ls(t.visibleWrites,o);return uE(a)?i.getChild(n):Nc(a,i.getChild(n))}function m$(t,e,n,r){var i=dt(e,n),o=Pa(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){var a=ls(t.visibleWrites,i);return Nc(a,r.getNode().getImmediateChild(n))}else return null}function v$(t,e){return Pa(t.visibleWrites,e)}function g$(t,e,n,r,i,o,a){var l,u=ls(t.visibleWrites,e),d=Pa(u,Le());if(d!=null)l=d;else if(n!=null)l=Nc(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var f=[],p=a.getCompare(),v=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),g=v.getNext();g&&f.length<i;)p(g,r)!==0&&f.push(g),g=v.getNext();return f}else return[]}function y$(){return{visibleWrites:Co.empty(),allWrites:[],lastWriteId:-1}}function Nm(t,e,n,r){return p1(t.writeTree,t.treePath,e,n,r)}function dE(t,e){return h$(t.writeTree,t.treePath,e)}function m1(t,e,n,r){return p$(t.writeTree,t.treePath,e,n,r)}function Om(t,e){return v$(t.writeTree,dt(t.treePath,e))}function b$(t,e,n,r,i,o){return g$(t.writeTree,t.treePath,e,n,r,i,o)}function fE(t,e,n){return m$(t.writeTree,t.treePath,e,n)}function v1(t,e){return g1(dt(t.treePath,e),t.writeTree)}function g1(t,e){return{treePath:t,writeTree:e}}var _$=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,cf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,lf(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,kc(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,cf(r,e.snapshotNode,i.oldSnap));else throw rs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();var w$=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),y1=new w$,hE=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new as(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fE(this.writes_,e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Oa(this.viewCache_),o=b$(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]},t}();function E$(t){return{filter:t}}function x$(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function S$(t,e,n,r,i){var o=new _$,a,l;if(n.type===yi.OVERWRITE){var u=n;u.source.fromUser?a=pE(t,e,u.path,u.snap,r,i,o):(W(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),a=Pm(t,e,u.path,u.snap,r,i,l,o))}else if(n.type===yi.MERGE){var d=n;d.source.fromUser?a=C$(t,e,d.path,d.children,r,i,o):(W(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),a=mE(t,e,d.path,d.children,r,i,l,o))}else if(n.type===yi.ACK_USER_WRITE){var f=n;f.revert?a=R$(t,e,f.path,r,i,o):a=I$(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===yi.LISTEN_COMPLETE)a=A$(t,e,n.path,r,o);else throw rs("Unknown operation type: "+n.type);var p=o.getChanges();return T$(e,a,p),{viewCache:a,changes:p}}function T$(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=km(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(t1(km(e)))}}function b1(t,e,n,r,i,o){var a=e.eventCache;if(Om(r,n)!=null)return e;var l=void 0,u=void 0;if(Se(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=Oa(e),f=d instanceof ye?d:ye.EMPTY_NODE,p=dE(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{var v=Nm(r,Oa(e));l=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var g=xe(n);if(g===".priority"){W(ss(n)===1,"Can't have a priority with additional path components");var b=a.getNode();u=e.serverCache.getNode();var _=m1(r,n,b,u);_!=null?l=t.filter.updatePriority(b,_):l=a.getNode()}else{var E=Qe(n),x=void 0;if(a.isCompleteForChild(g)){u=e.serverCache.getNode();var T=m1(r,n,a.getNode(),u);T!=null?x=a.getNode().getImmediateChild(g).updateChild(E,T):x=a.getNode().getImmediateChild(g)}else x=fE(r,g,e.serverCache);x!=null?l=t.filter.updateChild(a.getNode(),g,x,E,i,o):l=a.getNode()}}return df(e,l,a.isFullyInitialized()||Se(n),t.filter.filtersNodes())}function Pm(t,e,n,r,i,o,a,l){var u=e.serverCache,d,f=a?t.filter:t.filter.getIndexedFilter();if(Se(n))d=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){var p=u.getNode().updateChild(n,r);d=f.updateFullNode(u.getNode(),p,null)}else{var v=xe(n);if(!u.isCompleteForPath(n)&&ss(n)>1)return e;var g=Qe(n),b=u.getNode().getImmediateChild(v),_=b.updateChild(g,r);v===".priority"?d=f.updatePriority(u.getNode(),_):d=f.updateChild(u.getNode(),v,_,g,y1,null)}var E=c1(e,d,u.isFullyInitialized()||Se(n),f.filtersNodes()),x=new hE(i,E,o);return b1(t,E,n,i,x,l)}function pE(t,e,n,r,i,o,a){var l=e.eventCache,u,d,f=new hE(i,e,o);if(Se(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=df(e,d,!0,t.filter.filtersNodes());else{var p=xe(n);if(p===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),u=df(e,d,l.isFullyInitialized(),l.isFiltered());else{var v=Qe(n),g=l.getNode().getImmediateChild(p),b=void 0;if(Se(v))b=r;else{var _=f.getCompleteChild(p);_!=null?zw(v)===".priority"&&_.getChild(HO(v)).isEmpty()?b=_:b=_.updateChild(v,r):b=ye.EMPTY_NODE}if(g.equals(b))u=e;else{var E=t.filter.updateChild(l.getNode(),p,b,v,f,a);u=df(e,E,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function _1(t,e){return t.eventCache.isCompleteForChild(e)}function C$(t,e,n,r,i,o,a){var l=e;return r.foreach(function(u,d){var f=dt(n,u);_1(e,xe(f))&&(l=pE(t,l,f,d,i,o,a))}),r.foreach(function(u,d){var f=dt(n,u);_1(e,xe(f))||(l=pE(t,l,f,d,i,o,a))}),l}function w1(t,e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e}function mE(t,e,n,r,i,o,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u=e,d;Se(n)?d=r:d=new wr(null).setTree(n,r);var f=e.serverCache.getNode();return d.children.inorderTraversal(function(p,v){if(f.hasChild(p)){var g=e.serverCache.getNode().getImmediateChild(p),b=w1(t,g,v);u=Pm(t,u,new je(p),b,i,o,a,l)}}),d.children.inorderTraversal(function(p,v){var g=!e.serverCache.isCompleteForChild(p)&&v.value===void 0;if(!f.hasChild(p)&&!g){var b=e.serverCache.getNode().getImmediateChild(p),_=w1(t,b,v);u=Pm(t,u,new je(p),_,i,o,a,l)}}),u}function I$(t,e,n,r,i,o,a){if(Om(i,n)!=null)return e;var l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Se(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pm(t,e,n,u.getNode().getChild(n),i,o,l,a);if(Se(n)){var d=new wr(null);return u.getNode().forEachChild(Ki,function(p,v){d=d.set(new je(p),v)}),mE(t,e,n,d,i,o,l,a)}else return e}else{var f=new wr(null);return r.foreach(function(p,v){var g=dt(n,p);u.isCompleteForPath(g)&&(f=f.set(p,u.getNode().getChild(g)))}),mE(t,e,n,f,i,o,l,a)}}function A$(t,e,n,r,i){var o=e.serverCache,a=c1(e,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return b1(t,a,n,r,y1,i)}function R$(t,e,n,r,i,o){var a;if(Om(r,n)!=null)return e;var l=new hE(r,e,i),u=e.eventCache.getNode(),d=void 0;if(Se(n)||xe(n)===".priority"){var f=void 0;if(e.serverCache.isFullyInitialized())f=Nm(r,Oa(e));else{var p=e.serverCache.getNode();W(p instanceof ye,"serverChildren would be complete if leaf node"),f=dE(r,p)}f=f,d=t.filter.updateFullNode(u,f,o)}else{var v=xe(n),g=fE(r,v,e.serverCache);g==null&&e.serverCache.isCompleteForChild(v)&&(g=u.getImmediateChild(v)),g!=null?d=t.filter.updateChild(u,v,g,Qe(n),l,o):e.eventCache.getNode().hasChild(v)?d=t.filter.updateChild(u,v,ye.EMPTY_NODE,Qe(n),l,o):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Nm(r,Oa(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||Om(r,Le())!=null,df(e,d,a,t.filter.filtersNodes())}var k$=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new Jw(r.getIndex()),o=jK(r);this.processor_=E$(o);var a=n.serverCache,l=n.eventCache,u=i.updateFullNode(ye.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(ye.EMPTY_NODE,l.getNode(),null),f=new as(u,a.isFullyInitialized(),i.filtersNodes()),p=new as(d,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Rm(p,f),this.eventGenerator_=new t$(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function D$(t){return t.viewCache_.serverCache.getNode()}function N$(t){return km(t.viewCache_)}function O$(t,e){var n=Oa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function E1(t){return t.eventRegistrations_.length===0}function P$(t,e){t.eventRegistrations_.push(e)}function x1(t,e,n){var r=[];if(n){W(e==null,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(u){var d=u.createCancelEvent(n,i);d&&r.push(d)})}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var l=t.eventRegistrations_[a];if(!l.matches(e))o.push(l);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function S1(t,e,n,r){e.type===yi.MERGE&&e.source.queryId!==null&&(W(Oa(t.viewCache_),"We should always have a full cache before handling merges"),W(km(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,o=S$(t.processor_,i,e,n,r);return x$(t.processor_,o.viewCache),W(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,T1(t,o.changes,o.viewCache.eventCache.getNode(),null)}function M$(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(et,function(o,a){r.push(kc(o,a))})}return n.isFullyInitialized()&&r.push(t1(n.getNode())),T1(t,r,n.getNode(),e)}function T1(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return n$(t.eventGenerator_,e,n,i)}var Mm,C1=function(){function t(){this.views=new Map}return t}();function L$(t){W(!Mm,"__referenceConstructor has already been defined"),Mm=t}function F$(){return W(Mm,"Reference.ts has not been loaded"),Mm}function U$(t){return t.views.size===0}function vE(t,e,n,r){var i,o,a=e.source.queryId;if(a!==null){var l=t.views.get(a);return W(l!=null,"SyncTree gave us an op for an invalid query."),S1(l,e,n,r)}else{var u=[];try{for(var d=ut(t.views.values()),f=d.next();!f.done;f=d.next()){var l=f.value;u=u.concat(S1(l,e,n,r))}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return u}}function I1(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var l=Nm(n,i?r:null),u=!1;l?u=!0:r instanceof ye?(l=dE(n,r),u=!1):(l=ye.EMPTY_NODE,u=!1);var d=Rm(new as(l,u,!1),new as(r,i,!1));return new k$(e,d)}return a}function B$(t,e,n,r,i,o){var a=I1(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),P$(a,n),M$(a,n)}function V$(t,e,n,r){var i,o,a=e._queryIdentifier,l=[],u=[],d=us(t);if(a==="default")try{for(var f=ut(t.views.entries()),p=f.next();!p.done;p=f.next()){var v=Dt(p.value,2),g=v[0],b=v[1];u=u.concat(x1(b,n,r)),E1(b)&&(t.views.delete(g),b.query._queryParams.loadsAllData()||l.push(b.query))}}catch(_){i={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else{var b=t.views.get(a);b&&(u=u.concat(x1(b,n,r)),E1(b)&&(t.views.delete(a),b.query._queryParams.loadsAllData()||l.push(b.query)))}return d&&!us(t)&&l.push(new(F$())(e._repo,e._path)),{removed:l,events:u}}function A1(t){var e,n,r=[];try{for(var i=ut(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function cs(t,e){var n,r,i=null;try{for(var o=ut(t.views.values()),a=o.next();!a.done;a=o.next()){var l=a.value;i=i||O$(l,e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function R1(t,e){var n=e._queryParams;if(n.loadsAllData())return Lm(t);var r=e._queryIdentifier;return t.views.get(r)}function k1(t,e){return R1(t,e)!=null}function us(t){return Lm(t)!=null}function Lm(t){var e,n;try{for(var r=ut(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Fm;function H$(t){W(!Fm,"__referenceConstructor has already been defined"),Fm=t}function j$(){return W(Fm,"Reference.ts has not been loaded"),Fm}var q$=1,D1=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new wr(null),this.pendingWriteTree_=y$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function gE(t,e,n,r,i){return s$(t.pendingWriteTree_,e,n,r,i),i?Oc(t,new Am(rE(),e,n)):[]}function z$(t,e,n,r){a$(t.pendingWriteTree_,e,n,r);var i=wr.fromObject(n);return Oc(t,new sE(rE(),e,i))}function ds(t,e,n){n===void 0&&(n=!1);var r=l$(t.pendingWriteTree_,e),i=c$(t.pendingWriteTree_,e);if(i){var o=new wr(null);return r.snap!=null?o=o.set(Le(),!0):Kt(r.children,function(a){o=o.set(new je(a),!0)}),Oc(t,new e$(r.path,o,n))}else return[]}function hf(t,e,n){return Oc(t,new Am(iE(),e,n))}function W$(t,e,n){var r=wr.fromObject(n);return Oc(t,new sE(iE(),e,r))}function G$(t,e){return Oc(t,new l1(iE(),e))}function K$(t,e,n){var r=bE(t,n);if(r){var i=_E(r),o=i.path,a=i.queryId,l=Un(o,e),u=new l1(oE(a),l);return wE(t,o,u)}else return[]}function yE(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&(e._queryIdentifier==="default"||k1(o,e))){var l=V$(o,e,n,r);U$(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=l.removed;a=l.events;var d=u.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,f=t.syncPointTree_.findOnPath(i,function(T,R){return us(R)});if(d&&!f){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var v=Q$(p),g=0;g<v.length;++g){var b=v[g],_=b.query,E=M1(t,b);t.listenProvider_.startListening(pf(_),Bm(t,_),E.hashFn,E.onComplete)}}if(!f&&u.length>0&&!r)if(d){var x=null;t.listenProvider_.stopListening(pf(e),x)}else u.forEach(function(T){var R=t.queryToTagMap.get(Vm(T));t.listenProvider_.stopListening(pf(T),R)});J$(t,u)}return a}function $$(t,e,n,r){var i=bE(t,r);if(i!=null){var o=_E(i),a=o.path,l=o.queryId,u=Un(a,e),d=new Am(oE(l),u,n);return wE(t,a,d)}else return[]}function Y$(t,e,n,r){var i=bE(t,r);if(i){var o=_E(i),a=o.path,l=o.queryId,u=Un(a,e),d=wr.fromObject(n),f=new sE(oE(l),u,d);return wE(t,a,f)}else return[]}function N1(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(_,E){var x=Un(_,r);i=i||cs(E,x),o=o||us(E)});var a=t.syncPointTree_.get(r);a?(o=o||us(a),i=i||cs(a,Le())):(a=new C1,t.syncPointTree_=t.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=ye.EMPTY_NODE;var u=t.syncPointTree_.subtree(r);u.foreachChild(function(_,E){var x=cs(E,Le());x&&(i=i.updateImmediateChild(_,x))})}var d=k1(a,e);if(!d&&!e._queryParams.loadsAllData()){var f=Vm(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");var p=Z$();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}var v=Dm(t.pendingWriteTree_,r),g=B$(a,e,n,v,i,l);if(!d&&!o){var b=R1(a,e);g=g.concat(eY(t,e,b))}return g}function Um(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,function(a,l){var u=Un(a,e),d=cs(l,u);if(d)return d});return p1(i,e,o,n,r)}function X$(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(d,f){var p=Un(d,n);r=r||cs(f,p)});var i=t.syncPointTree_.get(n);i?r=r||cs(i,Le()):(i=new C1,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=r!=null,a=o?new as(r,!0,!1):null,l=Dm(t.pendingWriteTree_,e._path),u=I1(i,e,l,o?a.getNode():ye.EMPTY_NODE,o);return N$(u)}function Oc(t,e){return O1(e,t.syncPointTree_,null,Dm(t.pendingWriteTree_,Le()))}function O1(t,e,n,r){if(Se(t.path))return P1(t,e,n,r);var i=e.get(Le());n==null&&i!=null&&(n=cs(i,Le()));var o=[],a=xe(t.path),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){var d=n?n.getImmediateChild(a):null,f=v1(r,a);o=o.concat(O1(l,u,d,f))}return i&&(o=o.concat(vE(i,t,r,n))),o}function P1(t,e,n,r){var i=e.get(Le());n==null&&i!=null&&(n=cs(i,Le()));var o=[];return e.children.inorderTraversal(function(a,l){var u=n?n.getImmediateChild(a):null,d=v1(r,a),f=t.operationForChild(a);f&&(o=o.concat(P1(f,l,u,d)))}),i&&(o=o.concat(vE(i,t,r,n))),o}function M1(t,e){var n=e.query,r=Bm(t,n);return{hashFn:function(){var i=D$(e)||ye.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?K$(t,n._path,r):G$(t,n._path);var o=B6(i,n);return yE(t,n,null,o)}}}function Bm(t,e){var n=Vm(e);return t.queryToTagMap.get(n)}function Vm(t){return t._path.toString()+"$"+t._queryIdentifier}function bE(t,e){return t.tagToQueryMap.get(e)}function _E(t){var e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function wE(t,e,n){var r=t.syncPointTree_.get(e);W(r,"Missing sync point for query tag that we're tracking");var i=Dm(t.pendingWriteTree_,e);return vE(r,n,i,null)}function Q$(t){return t.fold(function(e,n,r){if(n&&us(n)){var i=Lm(n);return[i]}else{var o=[];return n&&(o=A1(n)),Kt(r,function(a,l){o=o.concat(l)}),o}})}function pf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(j$())(t._repo,t._path):t}function J$(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Vm(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Z$(){return q$++}function eY(t,e,n){var r=e._path,i=Bm(t,e),o=M1(t,n),a=t.listenProvider_.startListening(pf(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)W(!us(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold(function(p,v,g){if(!Se(p)&&v&&us(v))return[Lm(v).query];var b=[];return v&&(b=b.concat(A1(v).map(function(_){return _.query}))),Kt(g,function(_,E){b=b.concat(E)}),b}),d=0;d<u.length;++d){var f=u[d];t.listenProvider_.stopListening(pf(f),Bm(t,f))}return a}var tY=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),nY=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=dt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Um(this.syncTree_,this.path_)},t}(),rY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},L1=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return iY(t[".sv"],e,n);if(typeof t[".sv"]=="object")return oY(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},iY=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},oY=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&W(!1,"Unexpected increment value: "+r);var i=e.node();if(W(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,a=o.getValue();return typeof a!="number"?r:a+r},F1=function(t,e,n,r){return xE(e,new nY(n,t),r)},EE=function(t,e,n){return xE(t,new tY(e),n)};function xE(t,e,n){var r=t.getPriority().val(),i=L1(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){var a=t,l=L1(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Ic(l,gt(i)):t}else{var u=t;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new Ic(i))),u.forEachChild(et,function(d,f){var p=xE(f,e.getImmediateChild(d),n);p!==f&&(o=o.updateImmediateChild(d,p))}),o}}var SE=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=e,this.parent=n,this.node=r}return t}();function Hm(t,e){for(var n=e instanceof je?e:new je(e),r=t,i=xe(n);i!==null;){var o=xo(r.node.children,i)||{children:{},childCount:0};r=new SE(i,r,o),n=Qe(n),i=xe(n)}return r}function Ma(t){return t.node.value}function TE(t,e){t.node.value=e,CE(t)}function U1(t){return t.node.childCount>0}function sY(t){return Ma(t)===void 0&&!U1(t)}function jm(t,e){Kt(t.node.children,function(n,r){e(new SE(n,t,r))})}function B1(t,e,n,r){n&&!r&&e(t),jm(t,function(i){B1(i,e,!0,r)}),n&&r&&e(t)}function aY(t,e,n){for(var r=n?t:t.parent;r!==null;){if(e(r))return!0;r=r.parent}return!1}function mf(t){return new je(t.parent===null?t.name:mf(t.parent)+"/"+t.name)}function CE(t){t.parent!==null&&lY(t.parent,t.name,t)}function lY(t,e,n){var r=sY(n),i=Sn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,CE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,CE(t))}var cY=/[\[\].#$\/\u0000-\u001F\u007F]/,uY=/[\[\].#$\u0000-\u001F\u007F]/,IE=10*1024*1024,qm=function(t){return typeof t=="string"&&t.length!==0&&!cY.test(t)},V1=function(t){return typeof t=="string"&&t.length!==0&&!uY.test(t)},dY=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),V1(t)},vf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!ym(t)||t&&typeof t=="object"&&Sn(t,".sv")},$i=function(t,e,n,r){r&&e===void 0||gf(dn(t,"value"),e,n)},gf=function(t,e,n){var r=n instanceof je?new bK(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Da(r));if(typeof e=="function")throw new Error(t+"contains a function "+Da(r)+" with contents = "+e.toString());if(ym(e))throw new Error(t+"contains "+e.toString()+" "+Da(r));if(typeof e=="string"&&e.length>IE/3&&_c(e)>IE)throw new Error(t+"contains a string greater than "+IE+" utf8 bytes "+Da(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,o=!1;if(Kt(e,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!qm(a)))throw new Error(t+" contains an invalid key ("+a+") "+Da(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_K(r,a),gf(t,l,r),wK(r)}),i&&o)throw new Error(t+' contains ".value" child '+Da(r)+" in addition to actual children.")}},fY=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=rf(r),o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!qm(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(yK);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&qr(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},H1=function(t,e,n,r){if(!(r&&e===void 0)){var i=dn(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];Kt(e,function(a,l){var u=new je(a);if(gf(i,l,dt(n,u)),zw(u)===".priority"&&!vf(l))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),fY(i,o)}},AE=function(t,e,n){if(!(n&&e===void 0)){if(ym(e))throw new Error(dn(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vf(e))throw new Error(dn(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hY=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(dn(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},yf=function(t,e,n,r){if(!(r&&n===void 0)&&!qm(n))throw new Error(dn(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},bf=function(t,e,n,r){if(!(r&&n===void 0)&&!V1(n))throw new Error(dn(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pY=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bf(t,e,n,r)},zr=function(t,e){if(xe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},j1=function(t,e){var n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dY(n))throw new Error(dn(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},mY=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(dn(t,e)+"must be a boolean.")};var vY=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function zm(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();n!==null&&!Ww(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function RE(t,e,n){zm(t,n),q1(t,function(r){return Ww(r,e)})}function Wr(t,e,n){zm(t,n),q1(t,function(r){return qr(r,e)||qr(e,r)})}function q1(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(gY(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gY(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(n!==null){t.events[e]=null;var r=n.getEventRunner();Aa&&tn("event: "+n.toString()),Cc(r)}}}var z1="repo_interrupt",yY=25,bY=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Im(),this.transactionQueueTree_=new SE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function _Y(t,e,n){if(t.stats_=Hw(t.repoInfo_),t.forceRestClient_||H6())t.server_=new KK(t.repoInfo_,function(r,i,o,a){G1(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return K1(t,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Na(t.repoInfo_,e,function(r,i,o,a){G1(t,r,i,o,a)},function(r){K1(t,r)},function(r){EY(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(function(r){t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=K6(t.repoInfo_,function(){return new JK(t.stats_,t.server_)}),t.infoData_=new $K,t.infoSyncTree_=new D1({startListening:function(r,i,o,a){var l=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=hf(t.infoSyncTree_,r._path,u),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),kE(t,"connected",!1),t.serverSyncTree_=new D1({startListening:function(r,i,o,a){return t.server_.listen(r,o,i,function(l,u){var d=a(l,u);Wr(t.eventQueue_,r._path,d)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})}function W1(t){var e=t.infoData_.getNode(new je(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n}function _f(t){return rY({timestamp:W1(t)})}function G1(t,e,n,r,i){t.dataUpdateCount++;var o=new je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var l=bc(n,function(v){return gt(v)});a=Y$(t.serverSyncTree_,o,l,i)}else{var u=gt(n);a=$$(t.serverSyncTree_,o,u,i)}else if(r){var d=bc(n,function(v){return gt(v)});a=W$(t.serverSyncTree_,o,d)}else{var f=gt(n);a=hf(t.serverSyncTree_,o,f)}var p=o;a.length>0&&(p=Mc(t,o)),Wr(t.eventQueue_,p,a)}function wY(t,e){t.interceptServerDataCallback_=e}function K1(t,e){kE(t,"connected",e),e===!1&&TY(t)}function EY(t,e){Kt(e,function(n,r){kE(t,n,r)})}function kE(t,e,n){var r=new je("/.info/"+e),i=gt(n);t.infoData_.updateSnapshot(r,i);var o=hf(t.infoSyncTree_,r,i);Wr(t.eventQueue_,r,o)}function Wm(t){return t.nextWriteId_++}function xY(t,e){var n=X$(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(function(r){var i=gt(r),o=hf(t.serverSyncTree_,e._path,i);return RE(t.eventQueue_,e._path,o),Promise.resolve(i)},function(r){return Pc(t,"get for query "+Nt(e)+" failed: "+r),Promise.reject(new Error(r))})}function DE(t,e,n,r,i){Pc(t,"set",{path:e.toString(),value:n,priority:r});var o=_f(t),a=gt(n,r),l=Um(t.serverSyncTree_,e),u=EE(a,l,o),d=Wm(t),f=gE(t.serverSyncTree_,e,u,d,!0);zm(t.eventQueue_,f),t.server_.put(e.toString(),a.val(!0),function(v,g){var b=v==="ok";b||fn("set at "+e+" failed: "+v);var _=ds(t.serverSyncTree_,d,!b);Wr(t.eventQueue_,e,_),fs(t,i,v,g)});var p=PE(t,e);Mc(t,p),Wr(t.eventQueue_,p,[])}function SY(t,e,n,r){Pc(t,"update",{path:e.toString(),value:n});var i=!0,o=_f(t),a={};if(Kt(n,function(d,f){i=!1,a[d]=F1(dt(e,d),gt(f),t.serverSyncTree_,o)}),i)tn("update() called with empty data.  Don't do anything."),fs(t,r,"ok",void 0);else{var l=Wm(t),u=z$(t.serverSyncTree_,e,a,l);zm(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(d,f){var p=d==="ok";p||fn("update at "+e+" failed: "+d);var v=ds(t.serverSyncTree_,l,!p),g=v.length>0?Mc(t,e):e;Wr(t.eventQueue_,g,v),fs(t,r,d,f)}),Kt(n,function(d){var f=PE(t,dt(e,d));Mc(t,f)}),Wr(t.eventQueue_,e,[])}}function TY(t){Pc(t,"onDisconnectEvents");var e=_f(t),n=Im();nE(t.onDisconnect_,Le(),function(i,o){var a=F1(i,o,t.serverSyncTree_,e);Dc(n,i,a)});var r=[];nE(n,Le(),function(i,o){r=r.concat(hf(t.serverSyncTree_,i,o));var a=PE(t,i);Mc(t,a)}),t.onDisconnect_=Im(),Wr(t.eventQueue_,Le(),r)}function CY(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){r==="ok"&&tE(t.onDisconnect_,e),fs(t,n,r,i)})}function $1(t,e,n,r){var i=gt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(o,a){o==="ok"&&Dc(t.onDisconnect_,e,i),fs(t,r,o,a)})}function IY(t,e,n,r,i){var o=gt(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(a,l){a==="ok"&&Dc(t.onDisconnect_,e,o),fs(t,i,a,l)})}function AY(t,e,n,r){if(Yd(n)){tn("onDisconnect().update() called with empty data.  Don't do anything."),fs(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,function(i,o){i==="ok"&&Kt(n,function(a,l){var u=gt(l);Dc(t.onDisconnect_,dt(e,a),u)}),fs(t,r,i,o)})}function RY(t,e,n){var r;xe(e._path)===".info"?r=N1(t.infoSyncTree_,e,n):r=N1(t.serverSyncTree_,e,n),RE(t.eventQueue_,e._path,r)}function NE(t,e,n){var r;xe(e._path)===".info"?r=yE(t.infoSyncTree_,e,n):r=yE(t.serverSyncTree_,e,n),RE(t.eventQueue_,e._path,r)}function Y1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(z1)}function kY(t){t.persistentConnection_&&t.persistentConnection_.resume(z1)}function DY(t,e){if(e===void 0&&(e=!1),typeof console!="undefined"){var n;e?(t.statsListener_||(t.statsListener_=new s1(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(i,o){return Math.max(o.length,i)},0);Kt(n,function(i,o){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+o)})}}function NY(t,e){t.stats_.incrementCounter(e),ZK(t.statsReporter_,e)}function Pc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),tn.apply(void 0,pe([r],Dt(e)))}function fs(t,e,n,r){e&&Cc(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);var a=new Error(o);a.code=i,e(a)}})}function OY(t,e,n,r,i,o){Pc(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:aO(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=OE(t,e,void 0);a.currentInputSnapshot=l;var u=a.update(l.val());if(u===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{gf("transaction failed: Data returned ",u,a.path),a.status=0;var d=Hm(t.transactionQueueTree_,e),f=Ma(d)||[];f.push(a),TE(d,f);var p=void 0;if(typeof u=="object"&&u!==null&&Sn(u,".priority"))p=xo(u,".priority"),W(vf(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var v=Um(t.serverSyncTree_,e)||ye.EMPTY_NODE;p=v.getPriority().val()}var g=_f(t),b=gt(u,p),_=EE(b,l,g);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=_,a.currentWriteId=Wm(t);var E=gE(t.serverSyncTree_,e,_,a.currentWriteId,a.applyLocally);Wr(t.eventQueue_,e,E),Gm(t,t.transactionQueueTree_)}}function OE(t,e,n){return Um(t.serverSyncTree_,e,n)||ye.EMPTY_NODE}function Gm(t,e){if(e===void 0&&(e=t.transactionQueueTree_),e||Km(t,e),Ma(e)){var n=Q1(t,e);W(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&PY(t,mf(e),n)}else U1(e)&&jm(e,function(i){Gm(t,i)})}function PY(t,e,n){for(var r=n.map(function(v){return v.currentWriteId}),i=OE(t,e,r),o=i,a=i.hash(),l=0;l<n.length;l++){var u=n[l];W(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var d=Un(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}var f=o.val(!0),p=e;t.server_.put(p.toString(),f,function(v){Pc(t,"transaction put response",{path:p.toString(),status:v});var g=[];if(v==="ok"){for(var b=[],_=function(x){n[x].status=2,g=g.concat(ds(t.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&b.push(function(){return n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)}),n[x].unwatcher()},E=0;E<n.length;E++)_(E);Km(t,Hm(t.transactionQueueTree_,e)),Gm(t,t.transactionQueueTree_),Wr(t.eventQueue_,e,g);for(var E=0;E<b.length;E++)Cc(b[E])}else{if(v==="datastale")for(var E=0;E<n.length;E++)n[E].status===3?n[E].status=4:n[E].status=0;else{fn("transaction at "+p.toString()+" failed: "+v);for(var E=0;E<n.length;E++)n[E].status=4,n[E].abortReason=v}Mc(t,e)}},a)}function Mc(t,e){var n=X1(t,e),r=mf(n),i=Q1(t,n);return MY(t,i,r),r}function MY(t,e,n){if(e.length!==0){for(var r=[],i=[],o=e.filter(function(d){return d.status===0}),a=o.map(function(d){return d.currentWriteId}),l=function(d){var f=e[d],p=Un(n,f.path),v=!1,g;if(W(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)v=!0,g=f.abortReason,i=i.concat(ds(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=yY)v=!0,g="maxretry",i=i.concat(ds(t.serverSyncTree_,f.currentWriteId,!0));else{var b=OE(t,f.path,a);f.currentInputSnapshot=b;var _=e[d].update(b.val());if(_!==void 0){gf("transaction failed: Data returned ",_,f.path);var E=gt(_),x=typeof _=="object"&&_!=null&&Sn(_,".priority");x||(E=E.updatePriority(b.getPriority()));var T=f.currentWriteId,R=_f(t),P=EE(E,b,R);f.currentOutputSnapshotRaw=E,f.currentOutputSnapshotResolved=P,f.currentWriteId=Wm(t),a.splice(a.indexOf(T),1),i=i.concat(gE(t.serverSyncTree_,f.path,P,f.currentWriteId,f.applyLocally)),i=i.concat(ds(t.serverSyncTree_,T,!0))}else v=!0,g="nodata",i=i.concat(ds(t.serverSyncTree_,f.currentWriteId,!0))}Wr(t.eventQueue_,n,i),i=[],v&&(e[d].status=2,function(L){setTimeout(L,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(g==="nodata"?r.push(function(){return e[d].onComplete(null,!1,e[d].currentInputSnapshot)}):r.push(function(){return e[d].onComplete(new Error(g),!1,null)})))},u=0;u<e.length;u++)l(u);Km(t,t.transactionQueueTree_);for(var u=0;u<r.length;u++)Cc(r[u]);Gm(t,t.transactionQueueTree_)}}function X1(t,e){var n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&Ma(r)===void 0;)r=Hm(r,n),e=Qe(e),n=xe(e);return r}function Q1(t,e){var n=[];return J1(t,e,n),n.sort(function(r,i){return r.order-i.order}),n}function J1(t,e,n){var r=Ma(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);jm(e,function(o){J1(t,o,n)})}function Km(t,e){var n=Ma(e);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TE(e,n.length>0?n:void 0)}jm(e,function(o){Km(t,o)})}function PE(t,e){var n=mf(X1(t,e)),r=Hm(t.transactionQueueTree_,e);return aY(r,function(i){ME(t,i)}),ME(t,r),B1(r,function(i){ME(t,i)}),n}function ME(t,e){var n=Ma(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(W(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(W(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ds(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?TE(e,void 0):n.length=o+1,Wr(t.eventQueue_,mf(e),i);for(var a=0;a<r.length;a++)Cc(r[a])}}function LY(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function FY(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=ut(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):fn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var LE=function(t,e){var n=UY(t),r=n.namespace;n.domain==="firebase.com"&&Wi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||P6();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Uw(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new je(n.pathString)}},UY=function(t){var e="",n="",r="",i="",o="",a=!0,l="https",u=443;if(typeof t=="string"){var d=t.indexOf("//");d>=0&&(l=t.substring(0,d-1),t=t.substring(d+2));var f=t.indexOf("/");f===-1&&(f=t.length);var p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=LY(t.substring(f,p)));var v=FY(t.substring(Math.min(t.length,p)));d=e.indexOf(":"),d>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;var g=e.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{var b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),o=r}"ns"in v&&(o=v.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}};var Z1=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())},t}(),eP=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();var tP=function(){function t(e,n){this.snapshotCallback=e,this.cancelCallback=n}return t.prototype.onValue=function(e,n){this.snapshotCallback.call(null,e,n)},t.prototype.onCancel=function(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},t}();var BY=function(){function t(e,n){this._repo=e,this._path=n}return t.prototype.cancel=function(){var e=new un;return CY(this._repo,this._path,e.wrapCallback(function(){})),e.promise},t.prototype.remove=function(){zr("OnDisconnect.remove",this._path);var e=new un;return $1(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},t.prototype.set=function(e){zr("OnDisconnect.set",this._path),$i("OnDisconnect.set",e,this._path,!1);var n=new un;return $1(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t.prototype.setWithPriority=function(e,n){zr("OnDisconnect.setWithPriority",this._path),$i("OnDisconnect.setWithPriority",e,this._path,!1),AE("OnDisconnect.setWithPriority",n,!1);var r=new un;return IY(this._repo,this._path,e,n,r.wrapCallback(function(){})),r.promise},t.prototype.update=function(e){zr("OnDisconnect.update",this._path),H1("OnDisconnect.update",e,this._path,!1);var n=new un;return AY(this._repo,this._path,e,n.wrapCallback(function(){})),n.promise},t}();var Gr=function(){function t(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return Se(this._path)?null:zw(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Yi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var e=o1(this._queryParams),n=Mw(e);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return o1(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=me(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=Ww(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+gK(this._path)},t}();function $m(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hs(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ki){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!==So)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==Gi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===et){if(e!=null&&!vf(e)||n!=null&&!vf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof Yw||t.getIndex()===Xw,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ym(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Yi=function(t){M(e,t);function e(n,r){return t.call(this,n,r,new r1,!1)||this}return Object.defineProperty(e.prototype,"parent",{get:function(){var n=HO(this._path);return n===null?null:new e(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),e}(Gr),Xm=function(){function t(e,n,r){this._node=e,this.ref=n,this._index=r}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new je(e),r=La(this.ref,e);return new t(this._node.getChild(n),r,et)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,o){return e(new t(o,La(n.ref,i),et))})},t.prototype.hasChild=function(e){var n=new je(e);return!this._node.getChild(n).isEmpty()},t.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function nP(t,e){return t=me(t),t._checkNotDeleted("ref"),e!==void 0?La(t._root,e):t._root}function rP(t,e){t=me(t),t._checkNotDeleted("refFromURL");var n=LE(e,t._repo.repoInfo_.nodeAdmin);j1("refFromURL",n);var r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Wi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),nP(t,n.path.toString())}function La(t,e){return t=me(t),xe(t._path)===null?pY("child","path",e,!1):bf("child","path",e,!1),new Yi(t._repo,dt(t._path,e))}function VY(t,e){t=me(t),zr("push",t._path),$i("push",e,t._path,!0);var n=W1(t._repo),r=BK(n),i=La(t,r),o=La(t,r),a;return e!=null?a=FE(o,e).then(function(){return o}):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function HY(t){return zr("remove",t._path),FE(t,null)}function FE(t,e){t=me(t),zr("set",t._path),$i("set",e,t._path,!1);var n=new un;return DE(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function jY(t,e){t=me(t),zr("setPriority",t._path),AE("setPriority",e,!1);var n=new un;return DE(t._repo,dt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function qY(t,e,n){if(zr("setWithPriority",t._path),$i("setWithPriority",e,t._path,!1),AE("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new un;return DE(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function zY(t,e){H1("update",e,t._path,!1);var n=new un;return SY(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}function WY(t){return t=me(t),xY(t._repo,t).then(function(e){return new Xm(e,new Yi(t._repo,t._path),t._queryParams.getIndex())})}var iP=function(){function t(e){this.callbackContext=e}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n._queryParams.getIndex();return new Z1("value",this,new Xm(e.snapshotNode,new Yi(n._repo,n._path),r))},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,null)}},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new eP(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1},t.prototype.hasAnyCallback=function(){return this.callbackContext!==null},t}(),oP=function(){function t(e,n){this.eventType=e,this.callbackContext=n}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n},t.prototype.createCancelEvent=function(e,n){return this.callbackContext.hasCancelCallback?new eP(this,e,n):null},t.prototype.createEvent=function(e,n){W(e.childName!=null,"Child events should have a childName.");var r=La(new Yi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Z1(e.type,this,new Xm(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this;return e.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(e.error)}:function(){return n.callbackContext.onValue(e.snapshot,e.prevName)}},t.prototype.matches=function(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function wf(t,e,n,r,i){var o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){var a=n,l=function(f,p){NE(t._repo,t,d),a(f,p)};l.userCallback=n.userCallback,l.context=n.context,n=l}var u=new tP(n,o||void 0),d=e==="value"?new iP(u):new oP(e,u);return RY(t._repo,t,d),function(){return NE(t._repo,t,d)}}function UE(t,e,n,r){return wf(t,"value",e,n,r)}function sP(t,e,n,r){return wf(t,"child_added",e,n,r)}function aP(t,e,n,r){return wf(t,"child_changed",e,n,r)}function lP(t,e,n,r){return wf(t,"child_moved",e,n,r)}function cP(t,e,n,r){return wf(t,"child_removed",e,n,r)}function uP(t,e,n){var r=null,i=n?new tP(n):null;e==="value"?r=new iP(i):e&&(r=new oP(e,i)),NE(t._repo,t,r)}var bi=function(){function t(){}return t}(),dP=function(t){M(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){$i("endAt",this._value,n._path,!0);var r=eE(n._queryParams,this._value,this._key);if(Ym(r),hs(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gr(n._repo,n._path,r,n._orderByCalled)},e}(bi);function GY(t,e){return yf("endAt","key",e,!0),new dP(t,e)}var KY=function(t){M(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){$i("endBefore",this._value,n._path,!1);var r=GK(n._queryParams,this._value,this._key);if(Ym(r),hs(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gr(n._repo,n._path,r,n._orderByCalled)},e}(bi);function $Y(t,e){return yf("endBefore","key",e,!0),new KY(t,e)}var fP=function(t){M(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){$i("startAt",this._value,n._path,!0);var r=Zw(n._queryParams,this._value,this._key);if(Ym(r),hs(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gr(n._repo,n._path,r,n._orderByCalled)},e}(bi);function YY(t,e){return t===void 0&&(t=null),yf("startAt","key",e,!0),new fP(t,e)}var XY=function(t){M(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){$i("startAfter",this._value,n._path,!1);var r=WK(n._queryParams,this._value,this._key);if(Ym(r),hs(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Gr(n._repo,n._path,r,n._orderByCalled)},e}(bi);function QY(t,e){return yf("startAfter","key",e,!0),new XY(t,e)}var JY=function(t){M(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gr(n._repo,n._path,qK(n._queryParams,this._limit),n._orderByCalled)},e}(bi);function ZY(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new JY(t)}var e8=function(t){M(e,t);function e(n){var r=t.call(this)||this;return r._limit=n,r}return e.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gr(n._repo,n._path,zK(n._queryParams,this._limit),n._orderByCalled)},e}(bi);function t8(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new e8(t)}var n8=function(t){M(e,t);function e(n){var r=t.call(this)||this;return r._path=n,r}return e.prototype._apply=function(n){$m(n,"orderByChild");var r=new je(this._path);if(Se(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new Yw(r),o=Cm(n._queryParams,i);return hs(o),new Gr(n._repo,n._path,o,!0)},e}(bi);function r8(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bf("orderByChild","path",t,!1),new n8(t)}var i8=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){$m(n,"orderByKey");var r=Cm(n._queryParams,Ki);return hs(r),new Gr(n._repo,n._path,r,!0)},e}(bi);function o8(){return new i8}var s8=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){$m(n,"orderByPriority");var r=Cm(n._queryParams,et);return hs(r),new Gr(n._repo,n._path,r,!0)},e}(bi);function a8(){return new s8}var l8=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._apply=function(n){$m(n,"orderByValue");var r=Cm(n._queryParams,Xw);return hs(r),new Gr(n._repo,n._path,r,!0)},e}(bi);function c8(){return new l8}var u8=function(t){M(e,t);function e(n,r){var i=t.call(this)||this;return i._value=n,i._key=r,i}return e.prototype._apply=function(n){if($i("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dP(this._value,this._key)._apply(new fP(this._value,this._key)._apply(n))},e}(bi);function d8(t,e){return yf("equalTo","key",e,!0),new u8(t,e)}function _i(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=me(t);try{for(var a=ut(r),l=a.next();!l.done;l=a.next()){var u=l.value;o=u._apply(o)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}L$(Yi);H$(Yi);var f8="FIREBASE_DATABASE_EMULATOR_HOST",BE={},hP=!1;function h8(t,e,n,r){t.repoInfo_=new Uw(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function pP(t,e,n,r,i){var o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tn("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a=LE(o,i),l=a.repoInfo,u,d=void 0;typeof process!="undefined"&&(d=process.env[f8]),d?(u=!0,o="http://"+d+"?ns="+l.namespace,a=LE(o,i),l=a.repoInfo):u=!a.repoInfo.secure;var f=i&&u?new tf(tf.OWNER):new q6(t.name,t.options,e);j1("Invalid Firebase Database URL",a),Se(a.path)||Wi("Database URL must point to the root of a Firebase Database (not including a child path).");var p=m8(l,t,f,new j6(t.name,n));return new g8(p,t)}function p8(t,e){var n=BE[e];(!n||n[t.key]!==t)&&Wi("Database "+e+"("+t.repoInfo_+") has already been deleted."),Y1(t),delete n[t.key]}function m8(t,e,n,r){var i=BE[e.name];i||(i={},BE[e.name]=i);var o=i[t.toURLString()];return o&&Wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new bY(t,hP,n,r),i[t.toURLString()]=o,o}function v8(t){hP=t}var g8=function(){function t(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(_Y(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Yi(this._repo,Le())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return this._checkNotDeleted("delete"),p8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(e){this._rootInternal===null&&Wi("Cannot call "+e+" on a deleted database.")},t}();function y8(t,e,n,r){r===void 0&&(r={}),t=me(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Wi("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new tf(tf.OWNER);else if(r.mockUserToken){var a=Gd(r.mockUserToken,t.app.options.projectId);o=new tf(a)}h8(i,e,n,o)}function b8(t){t=me(t),t._checkNotDeleted("goOffline"),Y1(t._repo)}function _8(t){t=me(t),t._checkNotDeleted("goOnline"),kY(t._repo)}var w8={".sv":"timestamp"};function E8(){return w8}function x8(t){return{".sv":{increment:t}}}var S8=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function T8(t,e,n){var r;if(t=me(t),zr("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new un,a=function(u,d,f){var p=null;u?o.reject(u):(p=new Xm(f,new Yi(t._repo,t._path),et),o.resolve(new S8(d,p)))},l=UE(t,function(){});return OY(t._repo,t._path,e,a,l,i),o.promise}var C8=function(){function t(e){this._delegate=e}return t.prototype.cancel=function(e){ue("OnDisconnect.cancel",0,1,arguments.length),Ft("OnDisconnect.cancel","onComplete",e,!0);var n=this._delegate.cancel();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.remove=function(e){ue("OnDisconnect.remove",0,1,arguments.length),Ft("OnDisconnect.remove","onComplete",e,!0);var n=this._delegate.remove();return e&&n.then(function(){return e(null)},function(r){return e(r)}),n},t.prototype.set=function(e,n){ue("OnDisconnect.set",1,2,arguments.length),Ft("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(e);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.setWithPriority=function(e,n,r){ue("OnDisconnect.setWithPriority",2,3,arguments.length),Ft("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(e,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},t.prototype.update=function(e,n){if(ue("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,fn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ft("OnDisconnect.update","onComplete",n,!0);var o=this._delegate.update(e);return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},t}();var I8=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return ue("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();var Ef=function(){function t(e,n){this._database=e,this._delegate=n}return t.prototype.val=function(){return ue("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return ue("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return ue("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return ue("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return ue("DataSnapshot.child",0,1,arguments.length),e=String(e),bf("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(e){return ue("DataSnapshot.hasChild",1,1,arguments.length),bf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},t.prototype.getPriority=function(){return ue("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return ue("DataSnapshot.forEach",1,1,arguments.length),Ft("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return ue("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return ue("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return ue("DataSnapshot.ref",0,0,arguments.length),new Fa(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),mP=function(){function t(e,n){this.database=e,this._delegate=n}return t.prototype.on=function(e,n,r,i){var o=this,a;ue("Query.on",2,4,arguments.length),Ft("Query.on","callback",n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,i),u=function(f,p){n.call(l.context,new Ef(o.database,f),p)};u.userCallback=n,u.context=l.context;var d=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(e){case"value":return UE(this._delegate,u,d),n;case"child_added":return sP(this._delegate,u,d),n;case"child_removed":return cP(this._delegate,u,d),n;case"child_changed":return aP(this._delegate,u,d),n;case"child_moved":return lP(this._delegate,u,d),n;default:throw new Error(dn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(e,n,r){if(ue("Query.off",0,3,arguments.length),hY("Query.off",e,!0),Ft("Query.off","callback",n,!0),hm("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,uP(this._delegate,e,i)}else uP(this._delegate,e)},t.prototype.get=function(){var e=this;return WY(this._delegate).then(function(n){return new Ef(e.database,n)})},t.prototype.once=function(e,n,r,i){var o=this;ue("Query.once",1,4,arguments.length),Ft("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),l=new un,u=function(f,p){var v=new Ef(o.database,f);n&&n.call(a.context,v,p),l.resolve(v)};u.userCallback=n,u.context=a.context;var d=function(f){a.cancel&&a.cancel.call(a.context,f),l.reject(f)};switch(e){case"value":UE(this._delegate,u,d,{onlyOnce:!0});break;case"child_added":sP(this._delegate,u,d,{onlyOnce:!0});break;case"child_removed":cP(this._delegate,u,d,{onlyOnce:!0});break;case"child_changed":aP(this._delegate,u,d,{onlyOnce:!0});break;case"child_moved":lP(this._delegate,u,d,{onlyOnce:!0});break;default:throw new Error(dn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},t.prototype.limitToFirst=function(e){return ue("Query.limitToFirst",1,1,arguments.length),new t(this.database,_i(this._delegate,ZY(e)))},t.prototype.limitToLast=function(e){return ue("Query.limitToLast",1,1,arguments.length),new t(this.database,_i(this._delegate,t8(e)))},t.prototype.orderByChild=function(e){return ue("Query.orderByChild",1,1,arguments.length),new t(this.database,_i(this._delegate,r8(e)))},t.prototype.orderByKey=function(){return ue("Query.orderByKey",0,0,arguments.length),new t(this.database,_i(this._delegate,o8()))},t.prototype.orderByPriority=function(){return ue("Query.orderByPriority",0,0,arguments.length),new t(this.database,_i(this._delegate,a8()))},t.prototype.orderByValue=function(){return ue("Query.orderByValue",0,0,arguments.length),new t(this.database,_i(this._delegate,c8()))},t.prototype.startAt=function(e,n){return e===void 0&&(e=null),ue("Query.startAt",0,2,arguments.length),new t(this.database,_i(this._delegate,YY(e,n)))},t.prototype.startAfter=function(e,n){return e===void 0&&(e=null),ue("Query.startAfter",0,2,arguments.length),new t(this.database,_i(this._delegate,QY(e,n)))},t.prototype.endAt=function(e,n){return e===void 0&&(e=null),ue("Query.endAt",0,2,arguments.length),new t(this.database,_i(this._delegate,GY(e,n)))},t.prototype.endBefore=function(e,n){return e===void 0&&(e=null),ue("Query.endBefore",0,2,arguments.length),new t(this.database,_i(this._delegate,$Y(e,n)))},t.prototype.equalTo=function(e,n){return ue("Query.equalTo",1,2,arguments.length),new t(this.database,_i(this._delegate,d8(e,n)))},t.prototype.toString=function(){return ue("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return ue("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(ue("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ft(e,"cancel",i.cancel,!0),i.context=r,hm(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(dn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new Fa(this.database,new Yi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Fa=function(t){M(e,t);function e(n,r){var i=t.call(this,n,new Gr(r._repo,r._path,new r1,!1))||this;return i.database=n,i._delegate=r,i}return e.prototype.getKey=function(){return ue("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(n){return ue("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,La(this._delegate,n))},e.prototype.getParent=function(){ue("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new e(this.database,n):null},e.prototype.getRoot=function(){return ue("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(n,r){ue("Reference.set",1,2,arguments.length),Ft("Reference.set","onComplete",r,!0);var i=FE(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.update=function(n,r){if(ue("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},o=0;o<n.length;++o)i[""+o]=n[o];n=i,fn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zr("Reference.update",this._delegate._path),Ft("Reference.update","onComplete",r,!0);var a=zY(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},e.prototype.setWithPriority=function(n,r,i){ue("Reference.setWithPriority",2,3,arguments.length),Ft("Reference.setWithPriority","onComplete",i,!0);var o=qY(this._delegate,n,r);return i&&o.then(function(){return i(null)},function(a){return i(a)}),o},e.prototype.remove=function(n){ue("Reference.remove",0,1,arguments.length),Ft("Reference.remove","onComplete",n,!0);var r=HY(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.transaction=function(n,r,i){var o=this;ue("Reference.transaction",1,3,arguments.length),Ft("Reference.transaction","transactionUpdate",n,!1),Ft("Reference.transaction","onComplete",r,!0),mY("Reference.transaction","applyLocally",i,!0);var a=T8(this._delegate,n,{applyLocally:i}).then(function(l){return new I8(l.committed,new Ef(o.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},e.prototype.setPriority=function(n,r){ue("Reference.setPriority",1,2,arguments.length),Ft("Reference.setPriority","onComplete",r,!0);var i=jY(this._delegate,n);return r&&i.then(function(){return r(null)},function(o){return r(o)}),i},e.prototype.push=function(n,r){var i=this;ue("Reference.push",0,2,arguments.length),Ft("Reference.push","onComplete",r,!0);var o=VY(this._delegate,n),a=o.then(function(u){return new e(i.database,u)});r&&a.then(function(){return r(null)},function(u){return r(u)});var l=new e(this.database,o);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},e.prototype.onDisconnect=function(){return zr("Reference.onDisconnect",this._delegate._path),new C8(new BY(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(mP);var Qm=function(){function t(e,n){var r=this;this._delegate=e,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),y8(this._delegate,e,n,r)},t.prototype.ref=function(e){if(ue("database.ref",0,1,arguments.length),e instanceof Fa){var n=rP(this._delegate,e.toString());return new Fa(this,n)}else{var n=nP(this._delegate,e);return new Fa(this,n)}},t.prototype.refFromURL=function(e){var n="database.refFromURL";ue(n,1,1,arguments.length);var r=rP(this._delegate,e);return new Fa(this,r)},t.prototype.goOffline=function(){return ue("database.goOffline",0,0,arguments.length),b8(this._delegate)},t.prototype.goOnline=function(){return ue("database.goOnline",0,0,arguments.length),_8(this._delegate)},t.ServerValue={TIMESTAMP:E8(),increment:function(e){return x8(e)}},t}();var A8=function(){ka.forceDisallow(),jw.forceAllow()},R8=function(){jw.forceDisallow()},k8=function(){return ka.isAvailable()},D8=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},N8=function(t,e){DY(t._delegate._repo,e)},O8=function(t,e){NY(t._delegate._repo,e)},P8=function(t){return t._delegate._repo.dataUpdateCount},M8=function(t,e){return wY(t._delegate._repo,e)};function L8(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,l=a===void 0?!1:a;oO(r);var u=new pm("auth-internal",new Xd("database-standalone"));return u.setComponent(new it("auth-internal",function(){return i},"PRIVATE")),{instance:new Qm(pP(e,u,void 0,n,l),e),namespace:o}}var F8=Object.freeze({__proto__:null,forceLongPolling:A8,forceWebSockets:R8,isWebSocketsAvailable:k8,setSecurityDebugCallback:D8,stats:N8,statsIncrementCounter:O8,dataUpdateCount:P8,interceptServerData:M8,initStandalone:L8});var U8=Na;Na.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Na.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var B8=MO,V8=function(t){var e=Na.prototype.put;return Na.prototype.put=function(n,r,i,o){o!==void 0&&(o=t()),e.call(this,n,r,i,o)},function(){Na.prototype.put=e}},H8=Uw,j8=function(t){return t._delegate._queryIdentifier},q8=function(t){v8(t)},z8=Object.freeze({__proto__:null,DataConnection:U8,RealTimeConnection:B8,hijackHash:V8,ConnectionTarget:H8,queryIdentifier:j8,forceRestClient:q8});var W8=Qm.ServerValue;function G8(t){oO(t.SDK_VERSION);var e=t.INTERNAL.registerComponent(new it("database",function(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),l=n.getProvider("app-check-internal");return new Qm(pP(o,a,l,i),o)},"PUBLIC").setServiceProps({Reference:Fa,Query:mP,Database:Qm,DataSnapshot:Ef,enableLogging:uO,INTERNAL:F8,ServerValue:W8,TEST_ACCESS:z8}).setMultipleInstances(!0));t.registerVersion(k6,D6),Hr()&&(module.exports=e)}G8(Q);sr();or();var mhe=Vr(zi());var VE=function(t,e){return VE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},VE(t,e)};function K8(t,e){VE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function vP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var $8=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ie,HE=HE||{},be=$8||self;function Jm(){}function jE(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Y8(t){return Object.prototype.hasOwnProperty.call(t,qE)&&t[qE]||(t[qE]=++X8)}var qE="closure_uid_"+(1e9*Math.random()>>>0),X8=0;function Q8(t,e,n){return t.call.apply(t.bind,arguments)}function J8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Cn=Q8:Cn=J8,Cn.apply(null,arguments)}function Zm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Xi(){return Date.now()}function Bn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[i].apply(r,a)}}function ps(){this.j=this.j,this.i=this.i}var Z8=0;ps.prototype.j=!1;ps.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),Z8!=0))var t=Y8(this)};ps.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var gP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},yP=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function eX(t){e:{for(var e=qX,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function bP(t){return Array.prototype.concat.apply([],arguments)}function zE(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ev(t){return/^[\s\xa0]*$/.test(t)}var _P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vn(t,e){return t.indexOf(e)!=-1}function WE(t,e){return t<e?-1:t>e?1:0}var Hn;e:{if(GE=be.navigator,GE&&(KE=GE.userAgent,KE)){Hn=KE;break e}Hn=""}var GE,KE;function $E(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function wP(t){var e={};for(var n in t)e[n]=t[n];return e}var EP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xP(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<EP.length;o++)n=EP[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function YE(t){return YE[" "](t),t}YE[" "]=Jm;function tX(t,e){var n=iX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nX=Vn(Hn,"Opera"),ms=Vn(Hn,"Trident")||Vn(Hn,"MSIE"),SP=Vn(Hn,"Edge"),XE=SP||ms,TP=Vn(Hn,"Gecko")&&!(Vn(Hn.toLowerCase(),"webkit")&&!Vn(Hn,"Edge"))&&!(Vn(Hn,"Trident")||Vn(Hn,"MSIE"))&&!Vn(Hn,"Edge"),rX=Vn(Hn.toLowerCase(),"webkit")&&!Vn(Hn,"Edge");function CP(){var t=be.document;return t?t.documentMode:void 0}var tv;e:{if(nv="",rv=function(){var t=Hn;if(TP)return/rv:([^\);]+)(\)|;)/.exec(t);if(SP)return/Edge\/([\d\.]+)/.exec(t);if(ms)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rX)return/WebKit\/(\S+)/.exec(t);if(nX)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),rv&&(nv=rv?rv[1]:""),ms&&(iv=CP(),iv!=null&&iv>parseFloat(nv))){tv=String(iv);break e}tv=nv}var nv,rv,iv,iX={};function IP(t){return tX(t,function(){for(var e=0,n=_P(String(tv)).split("."),r=_P(String(t)).split("."),i=Math.max(n.length,r.length),o=0;e==0&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;e=WE(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||WE(a[2].length==0,l[2].length==0)||WE(a[2],l[2]),a=a[3],l=l[3]}while(e==0)}return 0<=e})}var QE;be.document&&ms?(JE=CP(),QE=JE||parseInt(tv,10)||void 0):QE=void 0;var JE,AP=QE,ZE=!ms||9<=Number(AP),oX=ms&&!IP("9"),sX=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{be.addEventListener("test",Jm,e),be.removeEventListener("test",Jm,e)}catch(n){}return t}();function In(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}In.prototype.b=function(){this.defaultPrevented=!0};function Sf(t,e){if(In.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(TP){e:{try{YE(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aX[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Bn(Sf,In);var aX={2:"touch",3:"pen",4:"mouse"};Sf.prototype.b=function(){Sf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oX)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Tf="closure_listenable_"+(1e6*Math.random()|0),lX=0;function cX(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lX,this.Y=this.Z=!1}function ov(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function sv(t){this.src=t,this.a={},this.b=0}sv.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=tx(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new cX(e,this.src,o,!!r,i),e.Z=n,t.push(e)),e};function ex(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=gP(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ov(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function tx(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}var nx="closure_lm_"+(1e6*Math.random()|0),rx={};function ix(t,e,n,r,i){if(r&&r.once)return kP(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ix(t,e[o],n,r,i);return null}return n=lx(n),t&&t[Tf]?t.va(e,n,xf(r)?!!r.capture:!!r,i):RP(t,e,n,!1,r,i)}function RP(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=xf(i)?!!i.capture:!!i;if(a&&!ZE)return null;var l=sx(t);if(l||(t[nx]=l=new sv(t)),n=l.add(e,n,r,a,o),n.proxy)return n;if(r=uX(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sX||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(NP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uX(){var t=dX,e=ZE?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function kP(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)kP(t,e[o],n,r,i);return null}return n=lx(n),t&&t[Tf]?t.wa(e,n,xf(r)?!!r.capture:!!r,i):RP(t,e,n,!0,r,i)}function DP(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)DP(t,e[o],n,r,i);else r=xf(r)?!!r.capture:!!r,n=lx(n),t&&t[Tf]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=tx(o,n,r,i),-1<n&&(ov(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.a[e],t.b--)))):t&&(t=sx(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tx(e,n,r,i)),(n=-1<t?e[t]:null)&&ox(n))}function ox(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[Tf])ex(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sx(e))?(ex(n,t),n.b==0&&(n.src=null,e[nx]=null)):ov(t)}}}function NP(t){return t in rx?rx[t]:rx[t]="on"+t}function OP(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ox(t),n.call(r,e)}function dX(t,e){if(t.Y)return!0;if(!ZE){if(!e)e:{e=["window","event"];for(var n=be,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new Sf(e,this),OP(t,e)}return OP(t,new Sf(e,this))}function sx(t){return t=t[nx],t instanceof sv?t:null}var ax="__closure_events_fn_"+(1e9*Math.random()>>>0);function lx(t){return typeof t=="function"?t:(t[ax]||(t[ax]=function(e){return t.handleEvent(e)}),t[ax])}function Er(){ps.call(this),this.c=new sv(this),this.J=this,this.C=null}Bn(Er,ps);Er.prototype[Tf]=!0;ie=Er.prototype;ie.addEventListener=function(t,e,n,r){ix(this,t,e,n,r)};ie.removeEventListener=function(t,e,n,r){DP(this,t,e,n,r)};function hn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new In(e,t);else if(e instanceof In)e.target=e.target||t;else{var i=e;e=new In(r,t),xP(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=av(a,r,!0,e)&&i}if(a=e.a=t,i=av(a,r,!0,e)&&i,i=av(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.a=n[o],i=av(a,r,!1,e)&&i}ie.G=function(){if(Er.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ov(n[r]);delete t.a[e],t.b--}}this.C=null};ie.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};ie.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function av(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var l=a.listener,u=a.ca||a.src;a.Z&&ex(t.c,a),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var cx=be.JSON.stringify;function PP(){this.b=this.a=null}var MP=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new ux},function(t){t.reset()});PP.prototype.add=function(t,e){var n=MP.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function fX(){var t=FP,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ux(){this.next=this.b=this.a=null}ux.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};ux.prototype.reset=function(){this.next=this.b=this.a=null};function hX(t){be.setTimeout(function(){throw t},0)}function LP(t,e){dx||pX(),fx||(dx(),fx=!0),FP.add(t,e)}var dx;function pX(){var t=be.Promise.resolve(void 0);dx=function(){t.then(mX)}}var fx=!1,FP=new PP;function mX(){for(var t;t=fX();){try{t.a.call(t.b)}catch(n){hX(n)}var e=MP;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}fx=!1}function lv(t,e){Er.call(this),this.b=t||1,this.a=e||be,this.f=Cn(this.Za,this),this.g=Xi()}Bn(lv,Er);ie=lv.prototype;ie.aa=!1;ie.M=null;ie.Za=function(){if(this.aa){var t=Xi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),hn(this,"tick"),this.aa&&(hx(this),this.start()))}};ie.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Xi())};function hx(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}ie.G=function(){lv.X.G.call(this),hx(this),delete this.a};function px(t,e,n){if(typeof t=="function")n&&(t=Cn(t,n));else if(t&&typeof t.handleEvent=="function")t=Cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:be.setTimeout(t,e||0)}function UP(t){t.a=px(function(){t.a=null,t.c&&(t.c=!1,UP(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var vX=function(t){K8(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:UP(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(be.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ps);function Cf(t){ps.call(this),this.b=t,this.a={}}Bn(Cf,ps);var BP=[];function VP(t,e,n,r){Array.isArray(n)||(n&&(BP[0]=n.toString()),n=BP);for(var i=0;i<n.length;i++){var o=ix(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function HP(t){$E(t.a,function(e,n){this.a.hasOwnProperty(n)&&ox(e)},t),t.a={}}Cf.prototype.G=function(){Cf.X.G.call(this),HP(this)};Cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mx(){this.a=!0}function gX(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",l=o.split("&"),u=0;u<l.length;u++){var d=l[u].split("=");if(1<d.length){var f=d[0];d=d[1];var p=f.split("_");a=2<=p.length&&p[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function yX(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function Lc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_X(t,n)+(r?" "+r:"")})}function bX(t,e){t.info(function(){return"TIMEOUT: "+e})}mx.prototype.info=function(){};function _X(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return cx(n)}catch(l){return e}}var Ua={},jP=null;function cv(){return jP=jP||new Er}Ua.Fa="serverreachability";function qP(t){In.call(this,Ua.Fa,t)}Bn(qP,In);function If(t){var e=cv();hn(e,new qP(e,t))}Ua.STAT_EVENT="statevent";function zP(t,e){In.call(this,Ua.STAT_EVENT,t),this.stat=e}Bn(zP,In);function jn(t){var e=cv();hn(e,new zP(e,t))}Ua.Ga="timingevent";function WP(t){In.call(this,Ua.Ga,t)}Bn(WP,In);function Af(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){t()},e)}var uv={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},GP={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function KP(){}KP.prototype.a=null;function $P(t){var e;return(e=t.a)||(e=t.a={}),e}function YP(){}var Rf={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function vx(){In.call(this,"d")}Bn(vx,In);function gx(){In.call(this,"c")}Bn(gx,In);var XP;function QP(){}Bn(QP,KP);XP=new QP;function kf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Cf(this),this.P=wX,t=XE?125:void 0,this.R=new lv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var wX=45e3,JP={},yx={};ie=kf.prototype;ie.setTimeout=function(t){this.P=t};function bx(t,e,n){t.H=1,t.i=vv(Io(e)),t.j=n,t.I=!0,ZP(t,null)}function ZP(t,e){t.u=Xi(),Df(t),t.l=Io(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),aM(n.b,"t",r),t.D=0,t.a=IM(t.g,t.g.C?e:null),0<t.O&&(t.F=new vX(Cn(t.Ca,t,t.a),t.O)),VP(t.J,t.a,"readystatechange",t.Xa),e=t.B?wP(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),If(1),gX(t.c,t.m,t.l,t.f,t.S,t.j)}ie.Xa=function(t){t=t.target;var e=this.F;e&&gs(t)==3?e.f():this.Ca(t)};ie.Ca=function(t){try{if(t==this.a)e:{var e=gs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!XE&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?If(3):If(2)),dv(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=i==200,yX(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ev(a)){var u=a;break t}}u=null}if(u)Lc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,_x(this,u);else{this.b=!1,this.h=3,jn(12),Fc(this),fv(this);break e}}this.I?(eM(this,e,o),XE&&this.b&&e==3&&(VP(this.J,this.R,"tick",this.Wa),this.R.start())):(Lc(this.c,this.f,o,null),_x(this,o)),e==4&&Fc(this),this.b&&!this.A&&(e==4?xM(this.g,this):(this.b=!1,Df(this)))}else i==400&&0<o.indexOf("Unknown SID")?(this.h=3,jn(12)):(this.h=0,jn(13)),Fc(this),fv(this)}}}catch(d){}finally{}};function eM(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=EX(t,n);if(i==yx){e==4&&(t.h=4,jn(14),r=!1),Lc(t.c,t.f,null,"[Incomplete Response]");break}else if(i==JP){t.h=4,jn(15),Lc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else Lc(t.c,t.f,i,null),_x(t,i)}e==4&&n.length==0&&(t.h=1,jn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),kx(e),e.F=!0,jn(11))):(Lc(t.c,t.f,n,"[Invalid Chunked Response]"),Fc(t),fv(t))}ie.Wa=function(){if(this.a){var t=gs(this.a),e=this.a.$();this.D<e.length&&(dv(this),eM(this,t,e),this.b&&t!=4&&Df(this))}};function EX(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?yx:(n=Number(e.substring(n,r)),isNaN(n)?JP:(r+=1,r+n>e.length?yx:(e=e.substr(r,n),t.D=r+n,e)))}ie.cancel=function(){this.A=!0,Fc(this)};function Df(t){t.T=Xi()+t.P,tM(t,t.P)}function tM(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=Af(Cn(t.Va,t),e)}function dv(t){t.o&&(be.clearTimeout(t.o),t.o=null)}ie.Va=function(){this.o=null;var t=Xi();0<=t-this.T?(bX(this.c,this.l),this.H!=2&&(If(3),jn(17)),Fc(this),this.h=2,fv(this)):tM(this,this.T-t)};function fv(t){t.g.v==0||t.A||xM(t.g,t)}function Fc(t){dv(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,hx(t.R),HP(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function _x(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||xx(n.b,t))){if(n.I=t.N,!t.C&&xx(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch(E){r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)wv(n),bv(n);else break e;Rx(n),jn(18)}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Af(Cn(n.Sa,n),6e3));if(1>=uM(n.b)&&n.ea){try{n.ea()}catch(E){}n.ea=void 0}}else Ha(n,11)}else if((t.C||n.a==t)&&wv(n),!ev(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var o=i[3];o!=null&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var u=1.5*l;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var d=t.a;if(d){var f=d.a?d.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var p=u.b;!p.a&&(Vn(f,"spdy")||Vn(f,"quic")||Vn(f,"h2"))&&(p.f=p.g,p.a=new Set,p.b&&(Sx(p,p.b),p.b=null))}if(u.A){var v=d.a?d.a.getResponseHeader("X-HTTP-Session-Id"):null;v&&(u.na=v,ft(u.B,u.A,v))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Xi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),u=n;var g=t;if(u.la=CM(u,u.C?u.ga:null,u.fa),g.C){dM(u.b,g);var b=g,_=u.D;_&&b.setTimeout(_),b.o&&(dv(b),Df(b)),u.a=g}else wM(u);0<n.g.length&&_v(n)}else i[0]!="stop"&&i[0]!="close"||Ha(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?Ha(n,7):Ix(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}If(4)}catch(E){}}function xX(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(jE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function wx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jE(t)||typeof t=="string")yP(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(jE(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=xX(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Uc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Uc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}ie=Uc.prototype;ie.K=function(){Ex(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};ie.L=function(){return Ex(this),this.a.concat()};function Ex(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ba(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Ba(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}ie.get=function(t,e){return Ba(this.b,t)?this.b[t]:e};ie.set=function(t,e){Ba(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};ie.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function Ba(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var nM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function SX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Va(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Va){this.a=e!==void 0?e:t.a,hv(this,t.f),this.j=t.j,pv(this,t.c),mv(this,t.h),this.g=t.g,e=t.b;var n=new Pf;n.c=e.c,e.a&&(n.a=new Uc(e.a),n.b=e.b),rM(this,n),this.i=t.i}else t&&(n=String(t).match(nM))?(this.a=!!e,hv(this,n[1]||"",!0),this.j=Nf(n[2]||""),pv(this,n[3]||"",!0),mv(this,n[4]),this.g=Nf(n[5]||"",!0),rM(this,n[6]||"",!0),this.i=Nf(n[7]||"")):(this.a=!!e,this.b=new Pf(null,this.a))}Va.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Of(e,iM,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(Of(e,iM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(Of(n,n.charAt(0)=="/"?RX:AX,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Of(n,DX)),t.join("")};function Io(t){return new Va(t)}function hv(t,e,n){t.f=n?Nf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function pv(t,e,n){t.c=n?Nf(e,!0):e}function mv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function rM(t,e,n){e instanceof Pf?(t.b=e,NX(t.b,t.a)):(n||(e=Of(e,kX)),t.b=new Pf(e,t.a))}function ft(t,e,n){t.b.set(e,n)}function vv(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Xi()).toString(36)),t}function TX(t){return t instanceof Va?Io(t):new Va(t,void 0)}function CX(t,e,n,r){var i=new Va(null,void 0);return t&&hv(i,t),e&&pv(i,e),n&&mv(i,n),r&&(i.g=r),i}function Nf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Of(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IX(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iM=/[#\/\?@]/g,AX=/[#\?:]/g,RX=/[#\?]/g,kX=/[#\?@]/g,DX=/#/g;function Pf(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function vs(t){t.a||(t.a=new Uc,t.b=0,t.c&&SX(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=Pf.prototype;ie.add=function(t,e){vs(this),this.c=null,t=Bc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function oM(t,e){vs(t),e=Bc(t,e),Ba(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ba(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ex(t)))}function sM(t,e){return vs(t),e=Bc(t,e),Ba(t.a.b,e)}ie.forEach=function(t,e){vs(this),this.a.forEach(function(n,r){yP(n,function(i){t.call(e,i,r,this)},this)},this)};ie.L=function(){vs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};ie.K=function(t){vs(this);var e=[];if(typeof t=="string")sM(this,t)&&(e=bP(e,this.a.get(Bc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=bP(e,t[n])}return e};ie.set=function(t,e){return vs(this),this.c=null,t=Bc(this,t),sM(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};ie.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function aM(t,e,n){oM(t,e),0<n.length&&(t.c=null,t.a.set(Bc(t,e),zE(n)),t.b+=n.length)}ie.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};function Bc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function NX(t,e){e&&!t.f&&(vs(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oM(this,r),aM(this,i,n))},t)),t.f=e}var OX=function(){function t(e,n){this.b=e,this.a=n}return t}();function lM(t){this.g=t||PX,be.PerformanceNavigationTiming?(t=be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(be.ia&&be.ia.ya&&be.ia.ya()&&be.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var PX=10;function cM(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function uM(t){return t.b?1:t.a?t.a.size:0}function xx(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function Sx(t,e){t.a?t.a.add(e):t.b=e}function dM(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}lM.prototype.cancel=function(){var t,e;if(this.c=fM(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=vP(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function fM(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=vP(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return zE(t.c)}function Tx(){}Tx.prototype.stringify=function(t){return be.JSON.stringify(t,void 0)};Tx.prototype.parse=function(t){return be.JSON.parse(t,void 0)};function MX(){this.a=new Tx}function LX(t,e,n){var r=n||"";try{wx(t,function(i,o){var a=i;xf(i)&&(a=cx(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function FX(t,e){var n=new mx;if(be.Image){var r=new Image;r.onload=Zm(gv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zm(gv,n,r,"TestLoadImage: error",!1,e),r.onabort=Zm(gv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zm(gv,n,r,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}var UX=be.JSON.parse;function $t(t){Er.call(this),this.headers=new Uc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=BX,this.D=this.F=!1}Bn($t,Er);var BX="",VX=/^https?$/i,HX=["POST","PUT"];ie=$t.prototype;ie.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?$P(this.H):$P(XP),this.a.onreadystatechange=Cn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){hM(this,o);return}t=n||"";var i=new Uc(this.headers);r&&wx(r,function(o,a){i.set(a,o)}),r=eX(i.L()),n=be.FormData&&t instanceof be.FormData,!(0<=gP(HX,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.a.setRequestHeader(a,o)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vM(this),0<this.o&&((this.D=jX(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Cn(this.xa,this)):this.m=px(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){hM(this,o)}};function jX(t){return ms&&IP(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function qX(t){return t.toLowerCase()=="content-type"}ie.xa=function(){typeof HE!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,hn(this,"timeout"),this.abort(8))};function hM(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,pM(t),yv(t)}function pM(t){t.u||(t.u=!0,hn(t,"complete"),hn(t,"error"))}ie.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,hn(this,"complete"),hn(this,"abort"),yv(this))};ie.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yv(this,!0)),$t.X.G.call(this)};ie.za=function(){this.j||(this.A||this.l||this.g?mM(this):this.Ua())};ie.Ua=function(){mM(this)};function mM(t){if(t.b&&typeof HE!="undefined"&&(!t.s[1]||gs(t)!=4||t.W()!=2)){if(t.l&&gs(t)==4)px(t.za,0,t);else if(hn(t,"readystatechange"),gs(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var o=String(t.B).match(nM)[1]||null;if(!o&&be.self&&be.self.location){var a=be.self.location.protocol;o=a.substr(0,a.length-1)}i=!VX.test(o?o.toLowerCase():"")}r=i}var l=r}if(l)hn(t,"complete"),hn(t,"success");else{t.h=6;try{var u=2<gs(t)?t.a.statusText:""}catch(d){u=""}t.f=u+" ["+t.W()+"]",pM(t)}}finally{yv(t)}}}}function yv(t,e){if(t.a){vM(t);var n=t.a,r=t.s[0]?Jm:null;t.a=null,t.s=null,e||hn(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function vM(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(be.clearTimeout(t.m),t.m=null)}function gs(t){return t.a?t.a.readyState:0}ie.W=function(){try{return 2<gs(this)?this.a.status:-1}catch(t){return-1}};ie.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}};ie.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UX(e)}};ie.ua=function(){return this.h};ie.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function zX(t){var e="";return $E(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Cx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zX(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function Mf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gM(t){this.pa=0,this.g=[],this.c=new mx,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mf("baseRetryDelayMs",5e3,t),this.Ra=Mf("retryDelaySeedMs",1e4,t),this.Ma=Mf("forwardChannelMaxRetries",2,t),this.ma=Mf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new lM(t&&t.concurrentRequestLimit),this.ka=new MX,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}ie=gM.prototype;ie.ha=8;ie.v=1;function Ix(t){if(yM(t),t.v==3){var e=t.R++,n=Io(t.B);ft(n,"SID",t.J),ft(n,"RID",e),ft(n,"TYPE","terminate"),Lf(t,n),e=new kf(t,t.c,e,void 0),e.H=2,e.i=vv(Io(n)),n=!1,be.navigator&&be.navigator.sendBeacon&&(n=be.navigator.sendBeacon(e.i.toString(),"")),!n&&be.Image&&(new Image().src=e.i,n=!0),n||(e.a=IM(e.g,null),e.a.ba(e.i)),e.u=Xi(),Df(e)}TM(t)}function bv(t){t.a&&(kx(t),t.a.cancel(),t.a=null)}function yM(t){bv(t),t.j&&(be.clearTimeout(t.j),t.j=null),wv(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&be.clearTimeout(t.h),t.h=null)}function Ax(t,e){t.g.push(new OX(t.Oa++,e)),t.v==3&&_v(t)}function _v(t){cM(t.b)||t.h||(t.h=!0,LP(t.Ba,t),t.u=0)}function WX(t,e){return uM(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=Af(Cn(t.Ba,t,e),SM(t,t.u)),t.u++,!0)}ie.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new kf(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=wP(n),xP(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var o=this.g[i];if("__data__"in o.a&&(o=o.a.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_M(this,e,r),i=Io(this.B),ft(i,"RID",t),ft(i,"CVER",22),this.A&&ft(i,"X-HTTP-Session-Id",this.A),Lf(this,i),this.i&&n&&Cx(i,this.i,n),Sx(this.b,e),this.Ia&&ft(i,"TYPE","init"),this.da?(ft(i,"$req",r),ft(i,"SID","null"),e.U=!0,bx(e,i,null)):bx(e,i,r),this.v=2}}else this.v==3&&(t?bM(this,t):this.g.length==0||cM(this.b)||bM(this))};function bM(t,e){var n;e?n=e.f:n=t.R++;var r=Io(t.B);ft(r,"SID",t.J),ft(r,"RID",n),ft(r,"AID",t.P),Lf(t,r),t.i&&t.l&&Cx(r,t.i,t.l),n=new kf(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=_M(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Sx(t.b,n),bx(n,r,e)}function Lf(t,e){t.f&&wx({},function(n,r){ft(e,r,n)})}function _M(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Cn(t.f.Ja,t.f,t):null;e:for(var i=t.g,o=-1;;){var a=["count="+n];o==-1?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var l=!0,u=0;u<n;u++){var d=i[u].b,f=i[u].a;if(d-=o,0>d)o=Math.max(0,i[u].b-100),l=!1;else try{LX(f,a,"req"+d+"_")}catch(p){r&&r(f)}}if(l){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function wM(t){t.a||t.j||(t.T=1,LP(t.Aa,t),t.o=0)}function Rx(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=Af(Cn(t.Aa,t),SM(t,t.o)),t.o++,!0)}ie.Aa=function(){if(this.j=null,EM(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Af(Cn(this.Ta,this),t)}};ie.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,jn(10),bv(this),EM(this))};function kx(t){t.s!=null&&(be.clearTimeout(t.s),t.s=null)}function EM(t){t.a=new kf(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Io(t.la);ft(e,"RID","rpc"),ft(e,"SID",t.J),ft(e,"CI",t.H?"0":"1"),ft(e,"AID",t.P),Lf(t,e),ft(e,"TYPE","xmlhttp"),t.i&&t.l&&Cx(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=vv(Io(e)),n.j=null,n.I=!0,ZP(n,t)}ie.Sa=function(){this.m!=null&&(this.m=null,bv(this),Rx(this),jn(19))};function wv(t){t.m!=null&&(be.clearTimeout(t.m),t.m=null)}function xM(t,e){var n=null;if(t.a==e){wv(t),kx(t),t.a=null;var r=2}else if(xx(t.b,e))n=e.s,dM(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=Xi()-e.u;var i=t.u;r=cv(),hn(r,new WP(r,n,e,i)),_v(t)}else wM(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&WX(t,e)||r==2&&Rx(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ha(t,5);break;case 4:Ha(t,10);break;case 3:Ha(t,6);break;default:Ha(t,2)}}}function SM(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ha(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=Cn(t.Ya,t);n||(n=new Va("//www.google.com/images/cleardot.gif"),be.location&&be.location.protocol=="http"||hv(n,"https"),vv(n)),FX(n.toString(),r)}else jn(2);t.v=0,t.f&&t.f.ra(e),TM(t),yM(t)}ie.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),jn(2)):(this.c.info("Failed to ping google.com"),jn(1))};function TM(t){t.v=0,t.I=-1,t.f&&((fM(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,zE(t.g),t.g.length=0),t.f.qa())}function CM(t,e,n){var r=TX(n);if(r.c!="")e&&pv(r,e+"."+r.c),mv(r,r.h);else{var i=be.location;r=CX(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$E(t.V,function(o,a){ft(r,a,o)}),e=t.A,n=t.na,e&&n&&ft(r,e,n),ft(r,"VER",t.ha),Lf(t,r),r}function IM(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new $t(t.Na),e.F=t.C,e}function AM(){}ie=AM.prototype;ie.ta=function(){};ie.sa=function(){};ie.ra=function(){};ie.qa=function(){};ie.Ja=function(){};function Ev(){if(ms&&!(10<=Number(AP)))throw Error("Environmental error: no available transport.")}Ev.prototype.a=function(t,e){return new xr(t,e)};function xr(t,e){Er.call(this),this.a=new gM(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ev(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ev(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Vc(this)}Bn(xr,Er);xr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;jn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=CM(t,null,t.fa),_v(t)};xr.prototype.close=function(){Ix(this.a)};xr.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ax(this.a,e)}else this.l?(e={},e.__data__=cx(t),Ax(this.a,e)):Ax(this.a,t)};xr.prototype.G=function(){this.a.f=null,delete this.f,Ix(this.a),delete this.a,xr.X.G.call(this)};function RM(t){vx.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Bn(RM,vx);function kM(){gx.call(this),this.status=1}Bn(kM,gx);function Vc(t){this.a=t}Bn(Vc,AM);Vc.prototype.ta=function(){hn(this.a,"a")};Vc.prototype.sa=function(t){hn(this.a,new RM(t))};Vc.prototype.ra=function(t){hn(this.a,new kM(t))};Vc.prototype.qa=function(){hn(this.a,"b")};Ev.prototype.createWebChannel=Ev.prototype.a;xr.prototype.send=xr.prototype.h;xr.prototype.open=xr.prototype.g;xr.prototype.close=xr.prototype.close;uv.NO_ERROR=0;uv.TIMEOUT=8;uv.HTTP_ERROR=6;GP.COMPLETE="complete";YP.EventType=Rf;Rf.OPEN="a";Rf.CLOSE="b";Rf.ERROR="c";Rf.MESSAGE="d";Er.prototype.listen=Er.prototype.va;$t.prototype.listenOnce=$t.prototype.wa;$t.prototype.getLastError=$t.prototype.Qa;$t.prototype.getLastErrorCode=$t.prototype.ua;$t.prototype.getStatus=$t.prototype.W;$t.prototype.getResponseJson=$t.prototype.Pa;$t.prototype.getResponseText=$t.prototype.$;$t.prototype.send=$t.prototype.ba;var DM=function(){return new Ev},NM=function(){return cv()},xv=uv,OM=GP,PM=Ua,Dx={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Ff=YP,MM=$t;re();or();var Ao=Vr(zi());re();var Sr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Sr.o=-1;var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return M(e,t),e}(Error),wi=new Ao.Logger("@firebase/firestore");function Nx(){return wi.logLevel}function K(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wi.logLevel<=Ao.LogLevel.DEBUG){var r=e.map(Ox);wi.debug.apply(wi,pe(["Firestore (8.6.2): "+t],r))}}function Ut(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wi.logLevel<=Ao.LogLevel.ERROR){var r=e.map(Ox);wi.error.apply(wi,pe(["Firestore (8.6.2): "+t],r))}}function Sv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wi.logLevel<=Ao.LogLevel.WARN){var r=e.map(Ox);wi.warn.apply(wi,pe(["Firestore (8.6.2): "+t],r))}}function Ox(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch(n){return t}var e}function oe(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw Ut(e),new Error(e)}function fe(t,e){t||oe()}function X(t,e){return t}function GX(t){var e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var LM=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=GX(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length));return r},t}();function Ne(t,e){return t<e?-1:t>e?1:0}function Hc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function FM(t){return t+"\0"}var qn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Te=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new qn(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function UM(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BM(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var VM=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Fe=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,a=n;o<a.length;o++){var l=a[o];if(l.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(u){return u.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(VM),KX=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype.construct=function(n,r,i){return new e(n,r,i)},e.isValidIdentifier=function(n){return KX.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var r=[],i="",o=0,a=function(){if(i.length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=d,o+=2}else u==="`"?(l=!l,o++):u!=="."||l?(i+=u,o++):(a(),o++)}if(a(),l)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.emptyPath=function(){return new e([])},e}(VM),jc=function(){function t(e){this.fields=e,e.sort(Kr.comparator)}return t.prototype.covers=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Hc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),zn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Ne(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();zn.EMPTY_BYTE_STRING=new zn("");var $X=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(fe(!!t),typeof t=="string"){var e=0,n=$X.exec(t);if(fe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qc(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}function Px(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HM(t){var e=t.mapValue.fields.__previous_value__;return Px(e)?HM(e):e}function Bf(t){var e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}function ja(t){return t==null}function Tv(t){return t===0&&1/t==-1/0}function jM(t){return typeof t=="number"&&Number.isInteger(t)&&!Tv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var se=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Fe.fromString(e))},t.fromName=function(e){return new t(Fe.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Fe.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Fe.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Fe(e.slice()))},t}();function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Px(t)?4:10:oe()}function Qi(t,e){var n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bf(t).isEqual(Bf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=ys(r.timestampValue),a=ys(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return qc(r.bytesValue).isEqual(qc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Bt(r.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bt(r.integerValue)===Bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Bt(r.doubleValue),a=Bt(i.doubleValue);return o===a?Tv(o)===Tv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hc(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:return function(r,i){var o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(UM(o)!==UM(a))return!1;for(var l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Qi(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function Vf(t,e){return(t.values||[]).find(function(n){return Qi(n,e)})!==void 0}function zc(t,e){var n=bs(t),r=bs(e);if(n!==r)return Ne(n,r);switch(n){case 0:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){var a=Bt(i.integerValue||i.doubleValue),l=Bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qM(t.timestampValue,e.timestampValue);case 4:return qM(Bf(t),Bf(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){var a=qc(i),l=qc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){for(var a=i.split("/"),l=o.split("/"),u=0;u<a.length&&u<l.length;u++){var d=Ne(a[u],l[u]);if(d!==0)return d}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){var a=Ne(Bt(i.latitude),Bt(o.latitude));return a!==0?a:Ne(Bt(i.longitude),Bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){for(var a=i.values||[],l=o.values||[],u=0;u<a.length&&u<l.length;++u){var d=zc(a[u],l[u]);if(d)return d}return Ne(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(var f=0;f<l.length&&f<d.length;++f){var p=Ne(l[f],d[f]);if(p!==0)return p;var v=zc(a[l[f]],u[d[f]]);if(v!==0)return v}return Ne(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function qM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);var n=ys(t),r=ys(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Mx(t){return Lx(t)}function Lx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=ys(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?qc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,se.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",o=!0,a=0,l=r.values||[];a<l.length;a++)o?o=!1:i+=",",i+=Lx(l[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",o=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var u=l[a];o?o=!1:i+=",",i+=u+":"+Lx(r.fields[u])}return i+"}"}(t.mapValue):oe();var e,n}function Cv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Fx(t){return!!t&&"integerValue"in t}function Ux(t){return!!t&&"arrayValue"in t}function zM(t){return!!t&&"nullValue"in t}function WM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bx(t){return!!t&&"mapValue"in t}var Tr=function(){function t(e){this.overlayMap=new Map,this.partialValue=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Kr.emptyPath())},t.prototype.set=function(e,n){this.setOverlay(e,n)},t.prototype.setAll=function(e){var n=this;e.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},t.prototype.delete=function(e){this.setOverlay(e,null)},t.prototype.isEqual=function(e){return Qi(this.buildProto(),e.buildProto())},t.prototype.setOverlay=function(e,n){for(var r=this.overlayMap,i=0;i<e.length-1;++i){var o=e.get(i),a=r.get(o);a instanceof Map?r=a:a&&bs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(o,a),r=a):(a=new Map,r.set(o,a),r=a)}r.set(e.lastSegment(),n)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Bx(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(l,u){if(l instanceof Map){var d=r.applyOverlay(e.child(u),l);d!=null&&(a[u]=d,i=!0)}else l!==null?(a[u]=l,i=!0):a.hasOwnProperty(u)&&(delete a[u],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var e=this.applyOverlay(Kr.emptyPath(),this.overlayMap);return e!=null&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(e,n){if(n.isEmpty())return e;for(var r=e,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!Bx(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function GM(t){var e=[];return Uf(t.fields||{},function(n,r){var i=new Kr([n]);if(Bx(r)){var o=GM(r.mapValue).fields;if(o.length===0)e.push(i);else for(var a=0,l=o;a<l.length;a++){var u=l[a];e.push(i.child(u))}}else e.push(i)}),new jc(e)}var pn=function(){function t(e,n,r,i,o){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return t.newInvalidDocument=function(e){return new t(e,0,Te.min(),Tr.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Tr.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Tr.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),YX=function(t,e,n,r,i,o,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function KM(t,e,n,r,i,o,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),a===void 0&&(a=null),new YX(t,e,n,r,i,o,a)}function Hf(t){var e=X(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Mx(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),ja(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rv(e.startAt)),e.endAt&&(n+="|ub:",n+=Rv(e.endAt)),e.h=n}return e.h}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!r7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Qi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XM(t.startAt,e.startAt)&&XM(t.endAt,e.endAt)}function Av(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cr=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).field=n,o.op=r,o.value=i,o}return M(e,t),e.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new XX(n,r,i):r==="array-contains"?new ZX(n,i):r==="in"?new e7(n,i):r==="not-in"?new t7(n,i):r==="array-contains-any"?new n7(n,i):new e(n,r,i)},e.l=function(n,r,i){return r==="in"?new QX(n,i):new JX(n,i)},e.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(zc(r,this.value)):r!==null&&bs(this.value)===bs(r)&&this.m(zc(r,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return oe()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),XX=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,i)||this).key=se.fromName(i.referenceValue),o}return M(e,t),e.prototype.matches=function(n){var r=se.comparator(n.key,this.key);return this.m(r)},e}(Cr),QX=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=$M("in",r),i}return M(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Cr),JX=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=$M("not-in",r),i}return M(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Cr);function $M(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return se.fromName(r.referenceValue)})}var ZX=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return M(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return Ux(r)&&Vf(r.arrayValue,this.value)},e}(Cr),e7=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return M(e,t),e.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Vf(this.value.arrayValue,r)},e}(Cr),t7=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return M(e,t),e.prototype.matches=function(n){if(Vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Vf(this.value.arrayValue,r)},e}(Cr),n7=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return M(e,t),e.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Ux(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return Vf(r.value.arrayValue,o)})},e}(Cr),jf=function(t,e){this.position=t,this.before=e};function Rv(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Mx(e)}).join(",")}var Wc=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function r7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function YM(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?se.comparator(se.fromName(a.referenceValue),n.key):zc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function XM(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}var Ro=function(t,e,n,r,i,o,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function QM(t,e,n,r,i,o,a,l){return new Ro(t,e,n,r,i,o,a,l)}function Gc(t){return new Ro(t)}function kv(t){return!ja(t.limit)&&t.limitType==="F"}function Dv(t){return!ja(t.limit)&&t.limitType==="L"}function Vx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hx(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function jx(t){return t.collectionGroup!==null}function Kc(t){var e=X(t);if(e.p===null){e.p=[];var n=Hx(e),r=Vx(e);if(n!==null&&r===null)n.isKeyField()||e.p.push(new Wc(n)),e.p.push(new Wc(Kr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var l=a[o];e.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Wc(Kr.keyField(),u))}}}return e.p}function $r(t){var e=X(t);if(!e.T)if(e.limitType==="F")e.T=KM(e.path,e.collectionGroup,Kc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kc(e);r<i.length;r++){var o=i[r],a=o.dir==="desc"?"asc":"desc";n.push(new Wc(o.field,a))}var l=e.endAt?new jf(e.endAt.position,!e.endAt.before):null,u=e.startAt?new jf(e.startAt.position,!e.startAt.before):null;e.T=KM(e.path,e.collectionGroup,n,e.filters,e.limit,l,u)}return e.T}function JM(t,e,n){return new Ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return Iv($r(t),$r(e))&&t.limitType===e.limitType}function ZM(t){return Hf($r(t))+"|lt:"+t.limitType}function qx(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Mx(i.value);var i}).join(", ")+"]"),ja(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Rv(e.startAt)),e.endAt&&(n+=", endAt: "+Rv(e.endAt)),"Target("+n+")"}($r(t))+"; limitType="+t.limitType+")"}function zf(t,e){return e.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var a=o[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!YM(n.startAt,Kc(n),r))&&(!n.endAt||!YM(n.endAt,Kc(n),r))}(t,e)}function eL(t){return function(e,n){for(var r=!1,i=0,o=Kc(t);i<o.length;i++){var a=o[i],l=i7(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function i7(t,e,n){var r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){var l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?zc(l,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}function tL(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tv(e)?"-0":e}}function nL(t){return{integerValue:""+t}}function rL(t,e){return jM(e)?nL(e):tL(t,e)}var Nv=function(){this._=void 0};function o7(t,e,n){return t instanceof $c?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qa?oL(t,e):t instanceof za?sL(t,e):function(r,i){var o=iL(r,i),a=aL(o)+aL(r.A);return Fx(o)&&Fx(r.A)?nL(a):tL(r.R,a)}(t,e)}function s7(t,e,n){return t instanceof qa?oL(t,e):t instanceof za?sL(t,e):n}function iL(t,e){return t instanceof Yc?Fx(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var $c=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e}(Nv),qa=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return M(e,t),e}(Nv);function oL(t,e){for(var n=lL(e),r=function(a){n.some(function(l){return Qi(l,a)})||n.push(a)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var za=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return M(e,t),e}(Nv);function sL(t,e){for(var n=lL(e),r=function(a){n=n.filter(function(l){return!Qi(l,a)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).R=n,i.A=r,i}return M(e,t),e}(Nv);function aL(t){return Bt(t.integerValue||t.doubleValue)}function lL(t){return Ux(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Wf=function(t,e){this.field=t,this.transform=e},a7=function(t,e){this.version=t,this.transformResults=e},An=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Ov(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Pv=function(){};function l7(t,e,n){t instanceof Gf?function(r,i,o){var a=r.value.clone(),l=fL(r.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _s?function(r,i,o){if(Ov(r.precondition,i)){var a=fL(r.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(dL(r)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zx(t,e,n){t instanceof Gf?function(r,i,o){if(Ov(r.precondition,i)){var a=r.value.clone(),l=hL(r.fieldTransforms,o,i);a.setAll(l),i.convertToFoundDocument(uL(i),a).setHasLocalMutations()}}(t,e,n):t instanceof _s?function(r,i,o){if(Ov(r.precondition,i)){var a=hL(r.fieldTransforms,o,i),l=i.data;l.setAll(dL(r)),l.setAll(a),i.convertToFoundDocument(uL(i),l).setHasLocalMutations()}}(t,e,n):function(r,i){Ov(r.precondition,i)&&i.convertToNoDocument(Te.min())}(t,e)}function c7(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),l=iL(o.transform,a||null);l!=null&&(n==null&&(n=Tr.empty()),n.set(o.field,l))}return n||null}function cL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Hc(n,r,function(i,o){return function(a,l){return a.field.isEqual(l.field)&&function(u,d){return u instanceof qa&&d instanceof qa||u instanceof za&&d instanceof za?Hc(u.elements,d.elements,Qi):u instanceof Yc&&d instanceof Yc?Qi(u.A,d.A):u instanceof $c&&d instanceof $c}(a.transform,l.transform)}(i,o)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function uL(t){return t.isFoundDocument()?t.version:Te.min()}var Gf=function(t){function e(n,r,i,o){o===void 0&&(o=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return M(e,t),e}(Pv),_s=function(t){function e(n,r,i,o,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=o,l.fieldTransforms=a,l.type=1,l}return M(e,t),e}(Pv);function dL(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function fL(t,e,n){var r=new Map;fe(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,s7(a,l,n[i]))}return r}function hL(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],l=a.transform,u=n.data.field(a.field);r.set(a.field,o7(l,u,e))}return r}var Vt,Oe,Kf=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return M(e,t),e}(Pv),Wx=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return M(e,t),e}(Pv),u7=function(t){this.count=t};function pL(t){switch(t){case U.OK:return oe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return oe()}}function mL(t){if(t===void 0)return Ut("GRPC error has no .code"),U.UNKNOWN;switch(t){case Vt.OK:return U.OK;case Vt.CANCELLED:return U.CANCELLED;case Vt.UNKNOWN:return U.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return U.INTERNAL;case Vt.UNAVAILABLE:return U.UNAVAILABLE;case Vt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Vt.NOT_FOUND:return U.NOT_FOUND;case Vt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Vt.ABORTED:return U.ABORTED;case Vt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Vt.DATA_LOSS:return U.DATA_LOSS;default:return oe()}}(Oe=Vt||(Vt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var Rn=function(){function t(e,n){this.comparator=e,this.root=n||ws.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ws.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Mv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Mv(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Mv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Mv(this.root,e,this.comparator,!0)},t}(),Mv=function(){function t(e,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),ws=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,o=r(e,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();var e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)},t}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw oe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw oe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,o){return this},t.prototype.insert=function(e,n,r){return new ws(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Yt=function(){function t(e){this.comparator=e,this.data=new Rn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}},t.prototype.forEachWhile=function(e,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new vL(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new vL(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),vL=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),d7=new Rn(se.comparator);function Yr(){return d7}var f7=new Rn(se.comparator);function Gx(){return f7}var h7=new Rn(se.comparator);function gL(){return h7}var p7=new Yt(se.comparator);function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=p7,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var m7=new Yt(Ne);function Lv(){return m7}var Kx=function(){function t(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,$x.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Te.min(),r,Lv(),Yr(),Ge())},t}(),$x=function(){function t(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(zn.EMPTY_BYTE_STRING,n,Ge(),Ge(),Ge())},t}(),Fv=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},yL=function(t,e){this.targetId=t,this.V=e},bL=function(t,e,n,r){n===void 0&&(n=zn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_L=function(){function t(){this.S=0,this.D=EL(),this.C=zn.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=Ge(),n=Ge(),r=Ge();return this.D.forEach(function(i,o){switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new $x(this.C,this.N,e,n,r)},t.prototype.L=function(){this.F=!1,this.D=EL()},t.prototype.B=function(e,n){this.F=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),v7=function(){function t(e){this.W=e,this.G=new Map,this.H=Yr(),this.J=wL(),this.Y=new Yt(Ne)}return t.prototype.X=function(e){for(var n=0,r=e.v;n<r.length;n++){var i=r[n];e.P&&e.P.isFoundDocument()?this.Z(i,e.P):this.tt(i,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)i=a[o],this.tt(i,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(r){var i=n.nt(r);switch(e.state){case 0:n.st(r)&&i.$(e.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(e.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(e.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(e.resumeToken));break;default:oe()}})},t.prototype.forEachTarget=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},t.prototype.rt=function(e){var n=e.targetId,r=e.V.count,i=this.ot(n);if(i){var o=i.target;if(Av(o))if(r===0){var a=new se(o.path);this.tt(n,a,pn.newNoDocument(a,Te.min()))}else fe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.at=function(e){var n=this,r=new Map;this.G.forEach(function(a,l){var u=n.ot(l);if(u){if(a.current&&Av(u.target)){var d=new se(u.target.path);n.H.get(d)!==null||n.ut(l,d)||n.tt(l,d,pn.newNoDocument(d,e))}a.O&&(r.set(l,a.M()),a.L())}});var i=Ge();this.J.forEach(function(a,l){var u=!0;l.forEachWhile(function(d){var f=n.ot(d);return!f||f.purpose===2||(u=!1,!1)}),u&&(i=i.add(a))});var o=new Kx(e,r,this.Y,this.H,i);return this.H=Yr(),this.J=wL(),this.Y=new Yt(Ne),o},t.prototype.Z=function(e,n){if(this.st(e)){var r=this.ut(e,n.key)?2:0;this.nt(e).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,r){if(this.st(e)){var i=this.nt(e);this.ut(e,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),r&&(this.H=this.H.insert(n,r))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new _L,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Yt(Ne),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.k?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new _L),this.W.getRemoteKeysForTarget(e).forEach(function(r){n.tt(e,r,null)})},t.prototype.ut=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function wL(){return new Rn(se.comparator)}function EL(){return new Rn(se.comparator)}var g7={asc:"ASCENDING",desc:"DESCENDING"},y7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b7=function(t,e){this.databaseId=t,this.I=e};function $f(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function xL(t,e){return t.I?e.toBase64():e.toUint8Array()}function _7(t,e){return $f(t,e.toTimestamp())}function nn(t){return fe(!!t),Te.fromTimestamp(function(e){var n=ys(e);return new qn(n.seconds,n.nanos)}(t))}function Yx(t,e){return function(n){return new Fe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function SL(t){var e=Fe.fromString(t);return fe(LL(e)),e}function Yf(t,e){return Yx(t.databaseId,e.path)}function Ji(t,e){var n=SL(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(CL(n))}function Xx(t,e){return Yx(t.databaseId,e)}function TL(t){var e=SL(t);return e.length===4?Fe.emptyPath():CL(e)}function Xf(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CL(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IL(t,e,n){return{name:Yf(t,e),fields:n.toProto().mapValue.fields}}function AL(t,e,n){var r=Ji(t,e.name),i=nn(e.updateTime),o=new Tr({mapValue:{fields:e.fields}}),a=pn.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Uv(t,e){var n;if(e instanceof Gf)n={update:IL(t,e.key,e.value)};else if(e instanceof Kf)n={delete:Yf(t,e.key)};else if(e instanceof _s)n={update:IL(t,e.key,e.data),updateMask:T7(e.fieldMask)};else{if(!(e instanceof Wx))return oe();n={verify:Yf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,o){var a=o.transform;if(a instanceof $c)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof za)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),increment:a.A};throw oe()}(0,r)})),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:_7(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function RL(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?An.updateTime(nn(d.updateTime)):d.exists!==void 0?An.exists(d.exists):An.none()}(e.currentDocument):An.none(),r=e.updateTransforms?e.updateTransforms.map(function(d){return function(f,p){var v=null;if("setToServerValue"in p)fe(p.setToServerValue==="REQUEST_TIME"),v=new $c;else if("appendMissingElements"in p){var g=p.appendMissingElements.values||[];v=new qa(g)}else if("removeAllFromArray"in p){var b=p.removeAllFromArray.values||[];v=new za(b)}else"increment"in p?v=new Yc(f,p.increment):oe();var _=Kr.fromServerFormat(p.fieldPath);return new Wf(_,v)}(t,d)}):[];if(e.update){e.update.name;var i=Ji(t,e.update.name),o=new Tr({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var f=d.fieldPaths||[];return new jc(f.map(function(p){return Kr.fromServerFormat(p)}))}(e.updateMask);return new _s(i,o,a,n,r)}return new Gf(i,o,n,r)}if(e.delete){var l=Ji(t,e.delete);return new Kf(l,n)}if(e.verify){var u=Ji(t,e.verify);return new Wx(u,n)}return oe()}function kL(t,e){return{documents:[Xx(t,e.path)]}}function DL(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Xx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var u=l.map(function(d){return function(f){if(f.op==="=="){if(WM(f.value))return{unaryFilter:{field:Xc(f.field),op:"IS_NAN"}};if(zM(f.value))return{unaryFilter:{field:Xc(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(WM(f.value))return{unaryFilter:{field:Xc(f.field),op:"IS_NOT_NAN"}};if(zM(f.value))return{unaryFilter:{field:Xc(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xc(f.field),op:E7(f.op),value:f.value}}}(d)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(l){if(l.length!==0)return l.map(function(u){return function(d){return{field:Xc(d.field),direction:w7(d.dir)}}(u)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(l,u){return l.I||ja(u)?u:{value:u}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=PL(e.startAt)),e.endAt&&(n.structuredQuery.endAt=PL(e.endAt)),n}function NL(t){var e=TL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=OL(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(p){return function(v){return new Wc(Qc(v.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p)}));var u=null;n.limit&&(u=function(p){var v;return ja(v=typeof p=="object"?p.value:p)?null:v}(n.limit));var d=null;n.startAt&&(d=ML(n.startAt));var f=null;return n.endAt&&(f=ML(n.endAt)),QM(e,i,l,a,u,"F",d,f)}function OL(t){return t?t.unaryFilter!==void 0?[S7(t)]:t.fieldFilter!==void 0?[x7(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return OL(e)}).reduce(function(e,n){return e.concat(n)}):oe():[]}function PL(t){return{before:t.before,values:t.position}}function ML(t){var e=!!t.before,n=t.values||[];return new jf(n,e)}function w7(t){return g7[t]}function E7(t){return y7[t]}function Xc(t){return{fieldPath:t.canonicalString()}}function Qc(t){return Kr.fromServerFormat(t.fieldPath)}function x7(t){return Cr.create(Qc(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return oe()}}(t.fieldFilter.op),t.fieldFilter.value)}function S7(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qc(t.unaryFilter.field);return Cr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qc(t.unaryFilter.field);return Cr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qc(t.unaryFilter.field);return Cr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qc(t.unaryFilter.field);return Cr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return oe()}}function T7(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function LL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Ei(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=FL(e)),e=C7(t.get(n),e);return FL(e)}function C7(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function FL(t){return t+""}function ko(t){var e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Fe.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&oe(),t.charAt(a+1)){case"":var l=t.substring(o,a),u=void 0;i.length===0?u=l:(u=i+=l,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:oe()}o=a+2}return new Fe(r)}var I7=function(t,e){this.seconds=t,this.nanoseconds=e},Ir=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ir.store="owner",Ir.key="owner";var Es=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Es.store="mutationQueues",Es.keyPath="userId";var ot=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ot.store="mutations",ot.keyPath="batchId",ot.userMutationsIndex="userMutationsIndex",ot.userMutationsKeyPath=["userId","batchId"];var kn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Ei(n)]},t.key=function(e,n,r){return[e,Ei(n),r]},t}();kn.store="documentMutations",kn.PLACEHOLDER=new kn;var A7=function(t,e){this.path=t,this.readTime=e},R7=function(t,e){this.path=t,this.version=e},Et=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Et.store="remoteDocuments",Et.readTimeIndex="readTimeIndex",Et.readTimeIndexPath="readTime",Et.collectionReadTimeIndex="collectionReadTimeIndex",Et.collectionReadTimeIndexPath=["parentPath","readTime"];var Zi=function(t){this.byteSize=t};Zi.store="remoteDocumentGlobal",Zi.key="remoteDocumentGlobalKey";var ar=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ar.store="targets",ar.keyPath="targetId",ar.queryTargetsIndexName="queryTargetsIndex",ar.queryTargetsKeyPath=["canonicalId","targetId"];var mn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mn.store="targetDocuments",mn.keyPath=["targetId","path"],mn.documentTargetsIndex="documentTargetsIndex",mn.documentTargetsKeyPath=["path","targetId"];var Ar=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ar.key="targetGlobalKey",Ar.store="targetGlobal";var Wa=function(t,e){this.collectionId=t,this.parent=e};Wa.store="collectionParents",Wa.keyPath=["collectionId","parent"];var Do=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Do.store="clientMetadata",Do.keyPath="clientId";var Jc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Jc.store="bundles",Jc.keyPath="bundleId";var Zc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zc.store="namedQueries",Zc.keyPath="name";var k7=pe(pe([],pe(pe([],pe(pe([],pe(pe([],[Es.store,ot.store,kn.store,Et.store,ar.store,Ir.store,Ar.store,mn.store]),[Do.store])),[Zi.store])),[Wa.store])),[Jc.store,Zc.store]),UL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",BL=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Wn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},z=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(i,o){r.nextCallback=function(a){r.wrapSuccess(e,a).next(i,o)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,o)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.waitFor=function(e){return new t(function(n,r){var i=0,o=0,a=!1;e.forEach(function(l){++i,l.next(function(){++o,a&&o===i&&n()},function(u){return r(u)})}),a=!0,o===i&&n()})},t.or=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(o,a){i.push(n.call(r,o,a))}),this.waitFor(i)},t}(),VL=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Wn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Qf(e,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Qx(i.target.error);r.ft.reject(new Qf(e,o))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Qf(n,o)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new N7(n)},t}(),eu=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,t._t(Eo())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return K("SimpleDb","Removing database:",e),Ka(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB=="undefined")return!1;if(t.gt())return!0;var e=Eo(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.At=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(K("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(u){var d=u.target.result;o(d)},l.onblocked=function(){a(new Qf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(u){var d=u.target.error;d.name==="VersionError"?a(new q(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Qf(e,d))},l.onupgradeneeded=function(u){K("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var d=u.target.result;r.wt.Rt(d,l.transaction,u.oldVersion,r.version).next(function(){K("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return N(this,void 0,void 0,function(){var o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:o=n==="readonly",a=0,l=function(){var p,v,g,b,_;return D(this,function(E){switch(E.label){case 0:++a,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=E.sent(),p=VL.open(u.db,e,o?"readonly":"readwrite",r),v=i(p).catch(function(x){return p.abort(x),z.reject(x)}).toPromise(),g={},v.catch(function(){}),[4,p.dt];case 3:return[2,(g.value=(E.sent(),v),g)];case 4:return b=E.sent(),_=b.name!=="FirebaseError"&&a<3,K("SimpleDb","Transaction failed with error:",b.message,"Retrying:",_),u.close(),_?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},u=this,f.label=1;case 1:return[5,l()];case 2:if(typeof(d=f.sent())=="object")return[2,d.value];f.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),D7=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return Ka(this.Pt.delete())},t}(),Qf=function(t){function e(n,r){var i=this;return(i=t.call(this,U.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return M(e,t),e}(q);function Ga(t){return t.name==="IndexedDbTransactionError"}var N7=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ka(r)},t.prototype.add=function(e){return K("SimpleDb","ADD",this.store.name,e,e),Ka(this.store.add(e))},t.prototype.get=function(e){var n=this;return Ka(this.store.get(e)).next(function(r){return r===void 0&&(r=null),K("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return K("SimpleDb","DELETE",this.store.name,e),Ka(this.store.delete(e))},t.prototype.count=function(){return K("SimpleDb","COUNT",this.store.name),Ka(this.store.count())},t.prototype.Nt=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.xt(r,function(o,a){i.push(a)}).next(function(){return i})},t.prototype.Ft=function(e,n){K("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(o,a,l){return l.delete()})},t.prototype.Ot=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.xt(i,n)},t.prototype.$t=function(e){var n=this.cursor({});return new z(function(r,i){n.onerror=function(o){var a=Qx(o.target.error);i(a)},n.onsuccess=function(o){var a=o.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},t.prototype.xt=function(e,n){var r=[];return new z(function(i,o){e.onerror=function(a){o(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var u=new D7(l),d=n(l.primaryKey,l.value,u);if(d instanceof z){var f=d.catch(function(p){return u.done(),z.reject(p)});r.push(f)}u.isDone?i():u.Dt===null?l.continue():l.continue(u.Dt)}else i()}}).next(function(){return z.waitFor(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.kt?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Ka(t){return new z(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=Qx(r.target.error);n(i)}})}var HL=!1;function Qx(t){var e=eu._t(Eo());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return HL||(HL=!0,setTimeout(function(){throw r},0)),r}}return t}var jL=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return M(e,t),e}(BL);function lr(t,e){var n=X(t);return eu.It(n.Mt,e)}var Jx=function(){function t(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return t.prototype.applyToRemoteDocument=function(e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e.key)&&l7(o,e,r[i])}},t.prototype.applyToLocalView=function(e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e.key)&&zx(a,e,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e.key)&&zx(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(r){var i=e.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(Te.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Ge())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,function(n,r){return cL(n,r)})&&Hc(this.baseMutations,e.baseMutations,function(n,r){return cL(n,r)})},t}(),O7=function(){function t(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return t.from=function(e,n,r){fe(e.mutations.length===r.length);for(var i=gL(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Bv=function(){function t(e,n,r,i,o,a,l){o===void 0&&(o=Te.min()),a===void 0&&(a=Te.min()),l===void 0&&(l=zn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qL=function(t){this.Lt=t};function Zx(t,e){if(e.document)return AL(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=se.fromSegments(e.noDocument.path),r=nu(e.noDocument.readTime),i=pn.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=se.fromSegments(e.unknownDocument.path);return r=nu(e.unknownDocument.version),pn.newUnknownDocument(o,r)}return oe()}function zL(t,e,n){var r=eS(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(p,v){return{name:Yf(p,v.key),fields:v.data.toProto().mapValue.fields,updateTime:$f(p,v.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Et(null,null,o,a,r,i)}if(e.isNoDocument()){var l=e.key.path.toArray(),u=tu(e.version);return a=e.hasCommittedMutations,new Et(null,new A7(l,u),null,a,r,i)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),f=tu(e.version);return new Et(new R7(d,f),null,null,!0,r,i)}return oe()}function eS(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function WL(t){var e=new qn(t[0],t[1]);return Te.fromTimestamp(e)}function tu(t){var e=t.toTimestamp();return new I7(e.seconds,e.nanoseconds)}function nu(t){var e=new qn(t.seconds,t.nanoseconds);return Te.fromTimestamp(e)}function ru(t,e){for(var n=(e.baseMutations||[]).map(function(u){return RL(t.Lt,u)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(u){return RL(t.Lt,u)}),l=qn.fromMillis(e.localWriteTimeMs);return new Jx(e.batchId,l,n,a)}function Jf(t){var e,n,r=nu(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?nu(t.lastLimboFreeSnapshotVersion):Te.min();return t.query.documents!==void 0?(fe((n=t.query).documents.length===1),e=$r(Gc(TL(n.documents[0])))):e=function(o){return $r(NL(o))}(t.query),new Bv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,zn.fromBase64String(t.resumeToken))}function GL(t,e){var n,r=tu(e.snapshotVersion),i=tu(e.lastLimboFreeSnapshotVersion);n=Av(e.target)?kL(t.Lt,e.target):DL(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ar(e.targetId,Hf(e.target),r,o,e.sequenceNumber,i,n)}function tS(t){var e=NL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?JM(e,e.limit,"L"):e}var P7=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return KL(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:nu(i.createTime),version:i.version};var i})},t.prototype.saveBundleMetadata=function(e,n){return KL(e).put({bundleId:(r=n).id,createTime:tu(nn(r.createTime)),version:r.version});var r},t.prototype.getNamedQuery=function(e,n){return $L(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:tS(i.bundledQuery),readTime:nu(i.readTime)};var i})},t.prototype.saveNamedQuery=function(e,n){return $L(e).put(function(r){return{name:r.name,readTime:tu(nn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function KL(t){return lr(t,Jc.store)}function $L(t){return lr(t,Zc.store)}var M7=function(){function t(){this.Bt=new nS}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),z.resolve()},t.prototype.getCollectionParents=function(e,n){return z.resolve(this.Bt.getEntries(n))},t}(),nS=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},t.prototype.has=function(e){var n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Yt(Fe.comparator)).toArray()},t}(),L7=function(){function t(){this.qt=new nS}return t.prototype.addToCollectionParentIndex=function(e,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Ei(o)};return YL(e).put(a)}return z.resolve()},t.prototype.getCollectionParents=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[FM(n),""],!1,!0);return YL(e).Nt(i).next(function(o){for(var a=0,l=o;a<l.length;a++){var u=l[a];if(u.collectionId!==n)break;r.push(ko(u.parent))}return r})},t}();function YL(t){return lr(t,Wa.store)}var XL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eo=function(){function t(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function QL(t,e,n){var r=t.store(ot.store),i=t.store(kn.store),o=[],a=IDBKeyRange.only(n.batchId),l=0,u=r.Ot({range:a},function(b,_,E){return l++,E.delete()});o.push(u.next(function(){fe(l===1)}));for(var d=[],f=0,p=n.mutations;f<p.length;f++){var v=p[f],g=kn.key(e,v.key.path,n.batchId);o.push(i.delete(g)),d.push(v.key)}return z.waitFor(o).next(function(){return d})}function Vv(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oe();e=t.noDocument}return JSON.stringify(e).length}eo.DEFAULT_COLLECTION_PERCENTILE=10,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eo.DEFAULT=new eo(41943040,eo.DEFAULT_COLLECTION_PERCENTILE,eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eo.DISABLED=new eo(-1,0,0);var F7=function(){function t(e,n,r,i){this.userId=e,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return t.Kt=function(e,n,r,i){return fe(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xs(e).Ot({index:ot.userMutationsIndex,range:r},function(i,o,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,r,i){var o=this,a=iu(e),l=xs(e);return l.add({}).next(function(u){fe(typeof u=="number");for(var d=new Jx(u,n,r,i),f=function(x,T,R){var P=R.baseMutations.map(function(F){return Uv(x.Lt,F)}),L=R.mutations.map(function(F){return Uv(x.Lt,F)});return new ot(T,R.batchId,R.localWriteTime.toMillis(),P,L)}(o.R,o.userId,d),p=[],v=new Yt(function(x,T){return Ne(x.canonicalString(),T.canonicalString())}),g=0,b=i;g<b.length;g++){var _=b[g],E=kn.key(o.userId,_.key.path,u);v=v.add(_.key.path.popLast()),p.push(l.put(f)),p.push(a.put(E,kn.PLACEHOLDER))}return v.forEach(function(x){p.push(o.Ut.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(function(){o.Qt[u]=d.keys()}),z.waitFor(p).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var r=this;return xs(e).get(n).next(function(i){return i?(fe(i.userId===r.userId),ru(r.R,i)):null})},t.prototype.jt=function(e,n){var r=this;return this.Qt[n]?z.resolve(this.Qt[n]):this.lookupMutationBatch(e,n).next(function(i){if(i){var o=i.keys();return r.Qt[n]=o,o}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),a=null;return xs(e).Ot({index:ot.userMutationsIndex,range:o},function(l,u,d){u.userId===r.userId&&(fe(u.batchId>=i),a=ru(r.R,u)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return xs(e).Ot({index:ot.userMutationsIndex,range:n,reverse:!0},function(i,o,a){r=o.batchId,a.done()}).next(function(){return r})},t.prototype.getAllMutationBatches=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xs(e).Nt(ot.userMutationsIndex,r).next(function(i){return i.map(function(o){return ru(n.R,o)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=kn.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return iu(e).Ot({range:o},function(l,u,d){var f=l[0],p=l[1],v=l[2],g=ko(p);if(f===r.userId&&n.path.isEqual(g))return xs(e).get(v).next(function(b){if(!b)throw oe();fe(b.userId===r.userId),a.push(ru(r.R,b))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Yt(Ne),o=[];return n.forEach(function(a){var l=kn.prefixForPath(r.userId,a.path),u=IDBKeyRange.lowerBound(l),d=iu(e).Ot({range:u},function(f,p,v){var g=f[0],b=f[1],_=f[2],E=ko(b);g===r.userId&&a.path.isEqual(E)?i=i.add(_):v.done()});o.push(d)}),z.waitFor(o).next(function(){return r.Wt(e,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=this,i=n.path,o=i.length+1,a=kn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),u=new Yt(Ne);return iu(e).Ot({range:l},function(d,f,p){var v=d[0],g=d[1],b=d[2],_=ko(g);v===r.userId&&i.isPrefixOf(_)?_.length===o&&(u=u.add(b)):p.done()}).next(function(){return r.Wt(e,u)})},t.prototype.Wt=function(e,n){var r=this,i=[],o=[];return n.forEach(function(a){o.push(xs(e).get(a).next(function(l){if(l===null)throw oe();fe(l.userId===r.userId),i.push(ru(r.R,l))}))}),z.waitFor(o).next(function(){return i})},t.prototype.removeMutationBatch=function(e,n){var r=this;return QL(e.Mt,this.userId,n).next(function(i){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),z.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(e,o)})})},t.prototype.Gt=function(e){delete this.Qt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(r){if(!r)return z.resolve();var i=IDBKeyRange.lowerBound(kn.prefixForUser(n.userId)),o=[];return iu(e).Ot({range:i},function(a,l,u){if(a[0]===n.userId){var d=ko(a[1]);o.push(d)}else u.done()}).next(function(){fe(o.length===0)})})},t.prototype.containsKey=function(e,n){return JL(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return ZL(e).get(this.userId).next(function(r){return r||new Es(n.userId,-1,"")})},t}();function JL(t,e,n){var r=kn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return iu(t).Ot({range:o,kt:!0},function(l,u,d){var f=l[0],p=l[1];l[2],f===e&&p===i&&(a=!0),d.done()}).next(function(){return a})}function xs(t){return lr(t,ot.store)}function iu(t){return lr(t,kn.store)}function ZL(t){return lr(t,Es.store)}var Hv=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),U7=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(r){var i=new Hv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(e,r).next(function(){return r.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Te.fromTimestamp(new qn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(e,o)})},t.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(e,i)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var r=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return ou(e).delete(n.targetId)}).next(function(){return r.Xt(e)}).next(function(i){return fe(i.targetCount>0),i.targetCount-=1,r.Zt(e,i)})},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return ou(e).Ot(function(l,u){var d=Jf(u);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(o++,a.push(i.removeTargetData(e,d)))}).next(function(){return z.waitFor(a)}).next(function(){return o})},t.prototype.forEachTarget=function(e,n){return ou(e).Ot(function(r,i){var o=Jf(i);n(o)})},t.prototype.Xt=function(e){return eF(e).get(Ar.key).next(function(n){return fe(n!==null),n})},t.prototype.Zt=function(e,n){return eF(e).put(Ar.key,n)},t.prototype.te=function(e,n){return ou(e).put(GL(this.R,n))},t.prototype.ee=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var r=Hf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ou(e).Ot({range:i,index:ar.queryTargetsIndexName},function(a,l,u){var d=Jf(l);Iv(n,d.target)&&(o=d,u.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(e,n,r){var i=this,o=[],a=Ss(e);return n.forEach(function(l){var u=Ei(l.path);o.push(a.put(new mn(r,u))),o.push(i.referenceDelegate.addReference(e,r,l))}),z.waitFor(o)},t.prototype.removeMatchingKeys=function(e,n,r){var i=this,o=Ss(e);return z.forEach(n,function(a){var l=Ei(a.path);return z.waitFor([o.delete([r,l]),i.referenceDelegate.removeReference(e,r,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var r=Ss(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ss(e),o=Ge();return i.Ot({range:r,kt:!0},function(a,l,u){var d=ko(a[1]),f=new se(d);o=o.add(f)}).next(function(){return o})},t.prototype.containsKey=function(e,n){var r=Ei(n.path),i=IDBKeyRange.bound([r],[FM(r)],!1,!0),o=0;return Ss(e).Ot({index:mn.documentTargetsIndex,kt:!0,range:i},function(a,l,u){var d=a[0];a[1],d!==0&&(o++,u.done())}).next(function(){return o>0})},t.prototype.lt=function(e,n){return ou(e).get(n).next(function(r){return r?Jf(r):null})},t}();function ou(t){return lr(t,ar.store)}function eF(t){return lr(t,Ar.store)}function Ss(t){return lr(t,mn.store)}function $a(t){return N(this,void 0,void 0,function(){return D(this,function(e){if(t.code!==U.FAILED_PRECONDITION||t.message!==UL)throw t;return K("LocalStore","Unexpectedly lost primary lease"),[2]})})}function tF(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Ne(n,i);return a===0?Ne(r,o):a}var B7=function(){function t(e){this.ne=e,this.buffer=new Yt(tF),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();tF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),V7=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ae(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ae=function(e){var n=this,r=this.oe?3e5:6e4;K("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Ga(i=o.sent())?(K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,$a(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ae(e)];case 8:return o.sent(),[2]}})})})},t}(),H7=function(){function t(e,n){this.ue=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ue.he(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.nthSequenceNumber=function(e,n){var r=this;if(n===0)return z.resolve(Sr.o);var i=new B7(n);return this.ue.forEachTarget(e,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ue.le(e,function(o){return i.re(o)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(e,n,r){return this.ue.removeTargets(e,n,r)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ue.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(XL)):this.getCacheSize(e).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),XL):r.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ue.getCacheSize(e)},t.prototype.fe=function(e,n){var r,i,o,a,l,u,d,f=this,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(v){return v>f.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+v),i=f.params.maximumSequenceNumbersToCollect):i=v,a=Date.now(),f.nthSequenceNumber(e,i)}).next(function(v){return r=v,l=Date.now(),f.removeTargets(e,r,n)}).next(function(v){return o=v,u=Date.now(),f.removeOrphanedDocuments(e,r)}).next(function(v){return d=Date.now(),Nx()<=Ao.LogLevel.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-p)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+o+" targets in "+(u-l)+`ms
	Removed `+v+" documents in "+(d-u)+`ms
Total Duration: `+(d-p)+"ms"),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})})},t}(),j7=function(){function t(e,n){this.db=e,this.garbageCollector=function(r,i){return new H7(r,i)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.de=function(e){var n=0;return this.le(e,function(r){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(r,i){return n(i)})},t.prototype.addReference=function(e,n,r){return jv(e,r)},t.prototype.removeReference=function(e,n,r){return jv(e,r)},t.prototype.removeTargets=function(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)},t.prototype.markPotentiallyOrphaned=function(e,n){return jv(e,n)},t.prototype._e=function(e,n){return function(r,i){var o=!1;return ZL(r).$t(function(a){return JL(r,a,i).next(function(l){return l&&(o=!0),z.resolve(!l)})}).next(function(){return o})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(l,u){if(u<=n){var d=r._e(e,l).next(function(f){if(!f)return a++,i.getEntry(e,l).next(function(){return i.removeEntry(l),Ss(e).delete([0,Ei(l.path)])})});o.push(d)}}).next(function(){return z.waitFor(o)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)},t.prototype.updateLimboDocument=function(e,n){return jv(e,n)},t.prototype.we=function(e,n){var r,i=Ss(e),o=Sr.o;return i.Ot({index:mn.documentTargetsIndex},function(a,l){var u=a[0],d=(a[1],l.path),f=l.sequenceNumber;u===0?(o!==Sr.o&&n(new se(ko(r)),o),o=f,r=d):o=Sr.o}).next(function(){o!==Sr.o&&n(new se(ko(r)),o)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function jv(t,e){return Ss(t).put(function(n,r){return new mn(0,Ei(n.path),r)}(e,t.currentSequenceNumber))}var su=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var a=o[i],l=a[0],u=a[1];if(this.equalsFn(l,e))return u}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){Uf(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var a=o[i],l=a[0],u=a[1];e(l,u)}})},t.prototype.isEmpty=function(){return BM(this.inner)},t}(),nF=function(){function t(){this.changes=new su(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Te.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:pn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?z.resolve(r.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),q7=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,r){return Ts(e).put(qv(n),r)},t.prototype.removeEntry=function(e,n){var r=Ts(e),i=qv(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.me(e,i)})},t.prototype.getEntry=function(e,n){var r=this;return Ts(e).get(qv(n)).next(function(i){return r.ye(n,i)})},t.prototype.ge=function(e,n){var r=this;return Ts(e).get(qv(n)).next(function(i){return{document:r.ye(n,i),size:Vv(i)}})},t.prototype.getEntries=function(e,n){var r=this,i=Yr();return this.pe(e,n,function(o,a){var l=r.ye(o,a);i=i.insert(o,l)}).next(function(){return i})},t.prototype.Ee=function(e,n){var r=this,i=Yr(),o=new Rn(se.comparator);return this.pe(e,n,function(a,l){var u=r.ye(a,l);i=i.insert(a,u),o=o.insert(a,Vv(l))}).next(function(){return{documents:i,Te:o}})},t.prototype.pe=function(e,n,r){if(n.isEmpty())return z.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),a=o.getNext();return Ts(e).Ot({range:i},function(l,u,d){for(var f=se.fromSegments(l);a&&se.comparator(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){var i=this,o=Yr(),a=n.path.length+1,l={};if(r.isEqual(Te.min())){var u=n.path.toArray();l.range=IDBKeyRange.lowerBound(u)}else{var d=n.path.toArray(),f=eS(r);l.range=IDBKeyRange.lowerBound([d,f],!0),l.index=Et.collectionReadTimeIndex}return Ts(e).Ot(l,function(p,v,g){if(p.length===a){var b=Zx(i.R,v);n.path.isPrefixOf(b.key.path)?zf(n,b)&&(o=o.insert(b.key,b)):g.done()}}).next(function(){return o})},t.prototype.newChangeBuffer=function(e){return new z7(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return rF(e).get(Zi.key).next(function(n){return fe(!!n),n})},t.prototype.me=function(e,n){return rF(e).put(Zi.key,n)},t.prototype.ye=function(e,n){if(n){var r=Zx(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Te.min()))return r}return pn.newInvalidDocument(e)},t}(),z7=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new su(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),i}return M(e,t),e.prototype.applyChanges=function(n){var r=this,i=[],o=0,a=new Yt(function(l,u){return Ne(l.canonicalString(),u.canonicalString())});return this.changes.forEach(function(l,u){var d=r.Ae.get(l);if(u.document.isValidDocument()){var f=zL(r.Ie.R,u.document,r.getReadTime(l));a=a.add(l.path.popLast());var p=Vv(f);o+=p-d,i.push(r.Ie.addEntry(n,l,f))}else if(o-=d,r.trackRemovals){var v=zL(r.Ie.R,pn.newNoDocument(l,Te.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,v))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,o)),z.waitFor(i)},e.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},e.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var a=o.documents;return o.Te.forEach(function(l,u){i.Ae.set(l,u)}),a})},e}(nF);function rF(t){return lr(t,Zi.store)}function Ts(t){return lr(t,Et.store)}function qv(t){return t.path.toArray()}var W7=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,r,i){var o=this;fe(r<i&&r>=0&&i<=11);var a=new VL("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(Ir.store)}(e),function(u){u.createObjectStore(Es.store,{keyPath:Es.keyPath}),u.createObjectStore(ot.store,{keyPath:ot.keyPath,autoIncrement:!0}).createIndex(ot.userMutationsIndex,ot.userMutationsKeyPath,{unique:!0}),u.createObjectStore(kn.store)}(e),iF(e),function(u){u.createObjectStore(Et.store)}(e));var l=z.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(mn.store),u.deleteObjectStore(ar.store),u.deleteObjectStore(Ar.store)}(e),iF(e)),l=l.next(function(){return function(u){var d=u.store(Ar.store),f=new Ar(0,0,Te.min().toTimestamp(),0);return d.put(Ar.key,f)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(u,d){return d.store(ot.store).Nt().next(function(f){u.deleteObjectStore(ot.store),u.createObjectStore(ot.store,{keyPath:ot.keyPath,autoIncrement:!0}).createIndex(ot.userMutationsIndex,ot.userMutationsKeyPath,{unique:!0});var p=d.store(ot.store),v=f.map(function(g){return p.put(g)});return z.waitFor(v)})}(e,a)})),l=l.next(function(){(function(u){u.createObjectStore(Do.store,{keyPath:Do.keyPath})})(e)})),r<5&&i>=5&&(l=l.next(function(){return o.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(u){u.createObjectStore(Zi.store)}(e),o.be(a)})),r<7&&i>=7&&(l=l.next(function(){return o.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return o.Pe(e,a)})),r<9&&i>=9&&(l=l.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e),function(u){var d=u.objectStore(Et.store);d.createIndex(Et.readTimeIndex,Et.readTimeIndexPath,{unique:!1}),d.createIndex(Et.collectionReadTimeIndex,Et.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return o.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(u){u.createObjectStore(Jc.store,{keyPath:Jc.keyPath})})(e),function(u){u.createObjectStore(Zc.store,{keyPath:Zc.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Et.store).Ot(function(r,i){n+=Vv(i)}).next(function(){var r=new Zi(n);return e.store(Zi.store).put(Zi.key,r)})},t.prototype.Re=function(e){var n=this,r=e.store(Es.store),i=e.store(ot.store);return r.Nt().next(function(o){return z.forEach(o,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ot.userMutationsIndex,l).next(function(u){return z.forEach(u,function(d){fe(d.userId===a.userId);var f=ru(n.R,d);return QL(e,a.userId,f).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(mn.store),r=e.store(Et.store);return e.store(Ar.store).get(Ar.key).next(function(i){var o=[];return r.Ot(function(a,l){var u=new Fe(a),d=function(f){return[0,Ei(f)]}(u);o.push(n.get(d).next(function(f){return f?z.resolve():function(p){return n.put(new mn(0,Ei(p),i.highestListenSequenceNumber))}(u)}))}).next(function(){return z.waitFor(o)})})},t.prototype.Pe=function(e,n){e.createObjectStore(Wa.store,{keyPath:Wa.keyPath});var r=n.store(Wa.store),i=new nS,o=function(a){if(i.add(a)){var l=a.lastSegment(),u=a.popLast();return r.put({collectionId:l,parent:Ei(u)})}};return n.store(Et.store).Ot({kt:!0},function(a,l){var u=new Fe(a);return o(u.popLast())}).next(function(){return n.store(kn.store).Ot({kt:!0},function(a,l){a[0];var u=a[1],d=(a[2],ko(u));return o(d.popLast())})})},t.prototype.Ve=function(e){var n=this,r=e.store(ar.store);return r.Ot(function(i,o){var a=Jf(o),l=GL(n.R,a);return r.put(l)})},t}();function iF(t){t.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ar.store,{keyPath:ar.keyPath}).createIndex(ar.queryTargetsIndexName,ar.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ar.store)}var rS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",G7=function(){function t(e,n,r,i,o,a,l,u,d,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=l,this.De=d,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(p){return Promise.resolve()},!t.yt())throw new q(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j7(this,i),this.Le=n+"main",this.R=new qL(u),this.Be=new eu(this.Le,11,new W7(this.R)),this.qe=new U7(this.referenceDelegate,this.R),this.Ut=new L7,this.Ue=function(p,v){return new q7(p,v)}(this.R,this.Ut),this.Qe=new P7,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,f===!1&&Ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new q(U.FAILED_PRECONDITION,rS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Sr(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(r){return N(n,void 0,void 0,function(){return D(this,function(i){return this.started?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(r){return N(n,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return N(n,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return zv(n).put(new Do(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(r){r||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(r){return e.isPrimary&&!r?e.Xe(n).next(function(){return!1}):!!r&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ga(n))return K("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Zf(e).get(Ir.key).next(function(r){return z.resolve(n.tn(r))})},t.prototype.en=function(e){return zv(e).delete(this.clientId)},t.prototype.nn=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o=this;return D(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var u=lr(l,Do.store);return u.Nt().next(function(d){var f=o.rn(d,18e5),p=d.filter(function(v){return f.indexOf(v)===-1});return z.forEach(p,function(v){return u.delete(v.clientId)}).next(function(){return p})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Ke)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?z.resolve(!0):Zf(e).get(Ir.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new q(U.FAILED_PRECONDITION,rS);return!1}}return!(!n.networkEnabled||!n.inForeground)||zv(e).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var a=!n.networkEnabled&&o.networkEnabled,l=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(a||l&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&K("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.shutdown=function(){return N(this,void 0,void 0,function(){var e=this;return D(this,function(n){switch(n.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ir.store,Do.store],function(r){var i=new jL(r,Sr.o);return e.Xe(i).next(function(){return e.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var r=this;return e.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return zv(n).Nt().next(function(r){return e.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return F7.Kt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(e,n,r){var i=this;K("IndexedDbPersistence","Starting transaction:",e);var o,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,k7,function(l){return o=new jL(l,i.Ne?i.Ne.next():Sr.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw Ut("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new q(U.FAILED_PRECONDITION,UL);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(l){return o.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Zf(e).get(Ir.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new q(U.FAILED_PRECONDITION,rS)})},t.prototype.Ze=function(e){var n=new Ir(this.clientId,this.allowTabSynchronization,Date.now());return Zf(e).put(Ir.key,n)},t.yt=function(){return eu.yt()},t.prototype.Xe=function(e){var n=this,r=Zf(e);return r.get(Ir.key).next(function(i){return n.tn(i)?(K("IndexedDbPersistence","Releasing primary lease."),r.delete(Ir.key)):z.resolve()})},t.prototype.sn=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Ut("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fe=function(){n.an(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return K("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ut("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Zf(t){return lr(t,Ir.store)}function zv(t){return lr(t,Do.store)}function iS(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var K7=function(t,e){this.progress=t,this.wn=e},oF=function(){function t(e,n,r){this.Ue=e,this._n=n,this.Ut=r}return t.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(i){return r.yn(e,n,i)})},t.prototype.yn=function(e,n,r){return this.Ue.getEntry(e,n).next(function(i){for(var o=0,a=r;o<a.length;o++)a[o].applyToLocalView(i);return i})},t.prototype.gn=function(e,n){e.forEach(function(r,i){for(var o=0,a=n;o<a.length;o++)a[o].applyToLocalView(i)})},t.prototype.pn=function(e,n){var r=this;return this.Ue.getEntries(e,n).next(function(i){return r.En(e,i).next(function(){return i})})},t.prototype.En=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(i){return r.gn(n,i)})},t.prototype.getDocumentsMatchingQuery=function(e,n,r){return function(i){return se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(e,n.path):jx(n)?this.In(e,n,r):this.An(e,n,r)},t.prototype.Tn=function(e,n){return this.mn(e,new se(n)).next(function(r){var i=Gx();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},t.prototype.In=function(e,n,r){var i=this,o=n.collectionGroup,a=Gx();return this.Ut.getCollectionParents(e,o).next(function(l){return z.forEach(l,function(u){var d=function(f,p){return new Ro(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return i.An(e,d,r).next(function(f){f.forEach(function(p,v){a=a.insert(p,v)})})}).next(function(){return a})})},t.prototype.An=function(e,n,r){var i,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return o=l,a.Rn(e,o,i).next(function(u){i=u;for(var d=0,f=o;d<f.length;d++)for(var p=f[d],v=0,g=p.mutations;v<g.length;v++){var b=g[v],_=b.key,E=i.get(_);E==null&&(E=pn.newInvalidDocument(_),i=i.insert(_,E)),zx(b,E,p.localWriteTime),E.isFoundDocument()||(i=i.remove(_))}})}).next(function(){return i.forEach(function(l,u){zf(n,u)||(i=i.remove(l))}),i})},t.prototype.Rn=function(e,n,r){for(var i=Ge(),o=0,a=n;o<a.length;o++)for(var l=0,u=a[o].mutations;l<u.length;l++){var d=u[l];d instanceof _s&&r.get(d.key)===null&&(i=i.add(d.key))}var f=r;return this.Ue.getEntries(e,i).next(function(p){return p.forEach(function(v,g){g.isFoundDocument()&&(f=f.insert(v,g))}),f})},t}(),$7=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.bn=r,this.vn=i}return t.Pn=function(e,n){for(var r=Ge(),i=Ge(),o=0,a=n.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),sF=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,r,i){var o=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Te.min())?this.Dn(e,n):this.Sn.pn(e,i).next(function(a){var l=o.Cn(n,a);return(kv(n)||Dv(n))&&o.Nn(n.limitType,l,i,r)?o.Dn(e,n):(Nx()<=Ao.LogLevel.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qx(n)),o.Sn.getDocumentsMatchingQuery(e,n,r).next(function(u){return l.forEach(function(d){u=u.insert(d.key,d)}),u}))})},t.prototype.Cn=function(e,n){var r=new Yt(eL(e));return n.forEach(function(i,o){zf(e,o)&&(r=r.add(o))}),r},t.prototype.Nn=function(e,n,r,i){if(r.size!==n.size)return!0;var o=e==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},t.prototype.Dn=function(e,n){return Nx()<=Ao.LogLevel.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",qx(n)),this.Sn.getDocumentsMatchingQuery(e,n,Te.min())},t}(),Y7=function(){function t(e,n,r,i){this.persistence=e,this.xn=n,this.R=i,this.Fn=new Rn(Ne),this.kn=new su(function(o){return Hf(o)},Iv),this.On=Te.min(),this._n=e.getMutationQueue(r),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new oF(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.collect(r,n.Fn)})},t}();function aF(t,e,n,r){return new Y7(t,e,n,r)}function lF(t,e){return N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=X(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var u;return n._n.getAllMutationBatches(l).next(function(d){return u=d,r=n.persistence.getMutationQueue(e),i=new oF(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var f=[],p=[],v=Ge(),g=0,b=u;g<b.length;g++){var _=b[g];f.push(_.batchId);for(var E=0,x=_.mutations;E<x.length;E++){var T=x[E];v=v.add(T.key)}}for(var R=0,P=d;R<P.length;R++){var L=P[R];p.push(L.batchId);for(var F=0,G=L.mutations;F<G.length;F++){var Y=G[F];v=v.add(Y.key)}}return i.pn(l,v).next(function($){return{Ln:$,removedBatchIds:f,addedBatchIds:p}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function X7(t,e){var n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),o=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){var f=u.batch,p=f.keys(),v=z.resolve();return p.forEach(function(g){v=v.next(function(){return d.getEntry(l,g)}).next(function(b){var _=u.docVersions.get(g);fe(_!==null),b.version.compareTo(_)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&d.addEntry(b,u.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,f)})}(n,r,e,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function cF(t){var e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function Q7(t,e){var n=X(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];e.targetChanges.forEach(function(f,p){var v=i.get(p);if(v){l.push(n.qe.removeMatchingKeys(o,f.removedDocuments,p).next(function(){return n.qe.addMatchingKeys(o,f.addedDocuments,p)}));var g=f.resumeToken;if(g.approximateByteSize()>0){var b=v.withResumeToken(g,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(p,b),function(_,E,x){return fe(E.resumeToken.approximateByteSize()>0),_.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,b,f)&&l.push(n.qe.updateTargetData(o,b))}}});var u=Yr();if(e.documentUpdates.forEach(function(f,p){e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(uF(o,a,e.documentUpdates,r,void 0).next(function(f){u=f})),!r.isEqual(Te.min())){var d=n.qe.getLastRemoteSnapshotVersion(o).next(function(f){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});l.push(d)}return z.waitFor(l).next(function(){return a.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.Fn=i,o})}function uF(t,e,n,r,i){var o=Ge();return n.forEach(function(a){return o=o.add(a)}),e.getEntries(t,o).next(function(a){var l=Yr();return n.forEach(function(u,d){var f=a.get(u),p=(i==null?void 0:i.get(u))||r;d.isNoDocument()&&d.version.isEqual(Te.min())?(e.removeEntry(u,p),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d,p),l=l.insert(u,d)):K("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),l})}function J7(t,e){var n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(r,e)})}function au(t,e){var n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,e).next(function(o){return o?(i=o,z.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Bv(e,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(e,r.targetId)),r})}function lu(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:r=X(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ga(a=l.sent()))throw a;return K("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Wv(t,e,n){var r=X(t),i=Te.min(),o=Ge();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,u,d){var f=X(l),p=f.kn.get(d);return p!==void 0?z.resolve(f.Fn.get(p)):f.qe.getTargetData(u,d)}(r,a,$r(e)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,e,n?i:Te.min(),n?o:Ge())}).next(function(l){return{documents:l,Bn:o}})})}function dF(t,e){var n=X(t),r=X(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,e).next(function(a){return a?a.target:null})})}function fF(t){var e=X(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var a=X(r),l=Yr(),u=eS(o),d=Ts(i),f=IDBKeyRange.lowerBound(u,!0);return d.Ot({index:Et.readTimeIndex,range:f},function(p,v){var g=Zx(a.R,v);l=l.insert(g.key,g),u=v.readTime}).next(function(){return{wn:l,readTime:WL(u)}})}(e.$n,n,e.On)}).then(function(n){var r=n.wn,i=n.readTime;return e.On=i,r})}function Z7(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){return[2,(e=X(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Ts(i),a=Te.min();return o.Ot({index:Et.readTimeIndex,reverse:!0},function(l,u,d){u.readTime&&(a=WL(u.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){e.On=r})]})})}function eQ(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p,v,g;return D(this,function(b){switch(b.label){case 0:for(i=X(t),o=Ge(),a=Yr(),l=gL(),u=0,d=n;u<d.length;u++)f=d[u],p=e.qn(f.metadata.name),f.document&&(o=o.add(p)),a=a.insert(p,e.Un(f)),l=l.insert(p,e.Qn(f.metadata.readTime));return v=i.$n.newChangeBuffer({trackRemovals:!0}),[4,au(i,function(_){return $r(Gc(Fe.fromString("__bundle__/docs/"+_)))}(r))];case 1:return g=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(_){return uF(_,v,a,Te.min(),l).next(function(E){return v.apply(_),E}).next(function(E){return i.qe.removeMatchingKeysForTargetId(_,g.targetId).next(function(){return i.qe.addMatchingKeys(_,o,g.targetId)}).next(function(){return i.Mn.En(_,E)}).next(function(){return E})})})]}})})}function tQ(t,e,n){return n===void 0&&(n=Ge()),N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,au(t,$r(tS(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=X(t)).persistence.runTransaction("Save named query","readwrite",function(a){var l=nn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,e);var u=r.withResumeToken(zn.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(u.targetId,u),i.qe.updateTargetData(a,u).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,e)})})]}})})}var nQ=function(){function t(e){this.R=e,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return z.resolve(this.Kn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:nn(r.createTime)}),z.resolve()},t.prototype.getNamedQuery=function(e,n){return z.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(r){return{name:r.name,query:tS(r.bundledQuery),readTime:nn(r.readTime)}}(n)),z.resolve()},t}(),oS=function(){function t(){this.Wn=new Yt(rn.Gn),this.zn=new Yt(rn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var r=new rn(e,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},t.prototype.Jn=function(e,n){var r=this;e.forEach(function(i){return r.addReference(i,n)})},t.prototype.removeReference=function(e,n){this.Yn(new rn(e,n))},t.prototype.Xn=function(e,n){var r=this;e.forEach(function(i){return r.removeReference(i,n)})},t.prototype.Zn=function(e){var n=this,r=new se(new Fe([])),i=new rn(r,e),o=new rn(r,e+1),a=[];return this.zn.forEachInRange([i,o],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new se(new Fe([])),r=new rn(n,e),i=new rn(n,e+1),o=Ge();return this.zn.forEachInRange([r,i],function(a){o=o.add(a.key)}),o},t.prototype.containsKey=function(e){var n=new rn(e,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)},t}(),rn=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return se.comparator(e.key,n.key)||Ne(e.ns,n.ns)},t.Hn=function(e,n){return Ne(e.ns,n.ns)||se.comparator(e.key,n.key)},t}(),rQ=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(rn.Gn)}return t.prototype.checkEmpty=function(e){return z.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Jx(o,n,r,i);this._n.push(a);for(var l=0,u=i;l<u.length;l++){var d=u[l];this.rs=this.rs.add(new rn(d.key,o)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return z.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return z.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return z.resolve(this._n.length>o?this._n[o]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return z.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return z.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var r=this,i=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,o],function(l){var u=r.os(l.ns);a.push(u)}),z.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var r=this,i=new Yt(Ne);return n.forEach(function(o){var a=new rn(o,0),l=new rn(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(u){i=i.add(u.ns)})}),z.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var r=n.path,i=r.length+1,o=r;se.isDocumentKey(o)||(o=o.child(""));var a=new rn(new se(o),0),l=new Yt(Ne);return this.rs.forEachWhile(function(u){var d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.ns)),!0)},a),z.resolve(this.us(l))},t.prototype.us=function(e){var n=this,r=[];return e.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},t.prototype.removeMutationBatch=function(e,n){var r=this;fe(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return z.forEach(n.mutations,function(o){var a=new rn(o.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){r.rs=i})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var r=new rn(n,0),i=this.rs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,z.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),iQ=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new Rn(se.comparator),this.size=0}return t.prototype.addEntry=function(e,n,r){var i=n.key,o=this.docs.get(i),a=o?o.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,i.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var r=this.docs.get(n);return z.resolve(r?r.document.clone():pn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var r=this,i=Yr();return n.forEach(function(o){var a=r.docs.get(o);i=i.insert(o,a?a.document.clone():pn.newInvalidDocument(o))}),z.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(e,n,r){for(var i=Yr(),o=new se(n.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var l=a.getNext(),u=l.key,d=l.value,f=d.document,p=d.readTime;if(!n.path.isPrefixOf(u.path))break;p.compareTo(r)<=0||zf(n,f)&&(i=i.insert(f.key,f.clone()))}return z.resolve(i)},t.prototype.fs=function(e,n){return z.forEach(this.docs,function(r){return n(r)})},t.prototype.newChangeBuffer=function(e){return new oQ(this)},t.prototype.getSize=function(e){return z.resolve(this.size)},t}(),oQ=function(t){function e(n){var r=this;return(r=t.call(this)||this).Ie=n,r}return M(e,t),e.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),z.waitFor(i)},e.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},e.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},e}(nF),sQ=function(){function t(e){this.persistence=e,this.ds=new su(function(n){return Hf(n)},Iv),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ws=0,this._s=new oS,this.targetCount=0,this.ys=Hv.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(r,i){return n(i)}),z.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return z.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return z.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),z.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),z.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new Hv(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,z.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),z.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,z.resolve()},t.prototype.removeTargets=function(e,n,r){var i=this,o=0,a=[];return this.ds.forEach(function(l,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),z.waitFor(a).next(function(){return o})},t.prototype.getTargetCount=function(e){return z.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var r=this.ds.get(n)||null;return z.resolve(r)},t.prototype.addMatchingKeys=function(e,n,r){return this._s.Jn(n,r),z.resolve()},t.prototype.removeMatchingKeys=function(e,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(a){o.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(o)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),z.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var r=this._s.es(n);return z.resolve(r)},t.prototype.containsKey=function(e,n){return z.resolve(this._s.containsKey(n))},t}(),aQ=function(){function t(e,n){var r=this;this.gs={},this.Ne=new Sr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new sQ(this),this.Ut=new M7,this.Ue=function(i,o){return new iQ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new qL(n),this.Qe=new nQ(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new rQ(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(e,n,r){var i=this;K("MemoryPersistence","Starting transaction:",e);var o=new lQ(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(a){return i.referenceDelegate.Ts(o).next(function(){return a})}).toPromise().then(function(a){return o.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return z.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(e,n)}}))},t}(),lQ=function(t){function e(n){var r=this;return(r=t.call(this)||this).currentSequenceNumber=n,r}return M(e,t),e}(BL),cQ=function(){function t(e){this.persistence=e,this.As=new oS,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw oe()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),z.resolve()},t.prototype.removeReference=function(e,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),z.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),z.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(function(o){o.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.vs,function(i){var o=se.fromPath(i);return n.Ps(e,o).next(function(a){a||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var r=this;return this.Ps(e,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var r=this;return z.or([function(){return z.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(e,n)},function(){return r.persistence.Is(e,n)}])},t}(),cr=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function hF(t,e){return"firestore_clients_"+t+"_"+e}function pF(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function sS(t,e){return"firestore_targets_"+t+"_"+e}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid");var mF=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new q(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Ut("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),aS=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.Vs=function(e,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new q(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ut("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),vF=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Lv(),a=0;i&&a<r.activeTargetIds.length;++a)i=jM(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Ut("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uQ=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Ut("SharedClientState","Failed to parse online state: "+e),null)},t}(),lS=function(){function t(){this.activeTargetIds=Lv()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),cS=function(){function t(e,n,r,i,o){this.window=e,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Rn(Ne),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.$s=hF(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new lS),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o,a,l,u,d,f,p,v=this;return D(this,function(g){switch(g.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=g.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(hF(this.persistenceKey,i)))&&(a=vF.Vs(i,o))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(u=this.js(l))&&this.Ws(u),d=0,f=this.Os;d<f.length;d++)p=f[d],this.Fs(p);return this.Os=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,r){this.zs(e,n,r),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var r=this.storage.getItem(sS(this.persistenceKey,e));if(r){var i=aS.Vs(e,r);i&&(n=i.state)}}return this.Js.Ds(e),this.Ks(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(sS(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,r){this.Ys(e,n,r)},t.prototype.handleUserChange=function(e,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=e,r.forEach(function(o){i.addPendingMutation(o)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return K("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){K("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){K("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(K("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return N(n,void 0,void 0,function(){var i,o,a,l,u,d;return D(this,function(f){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(d=function(p){var v=Sr.o;if(p!=null)try{var g=JSON.parse(p);fe(typeof g=="number"),v=g}catch(b){Ut("SharedClientState","Failed to read sequence number from WebStorage",b)}return v}(r.newValue))!==Sr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(e,n,r){var i=new mF(this.currentUser,e,n,r),o=pF(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())},t.prototype.Hs=function(e){var n=pF(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,r){var i=sS(this.persistenceKey,e),o=new aS(e,n,r);this.setItem(i,o.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var r=this.ti(e);return vF.Vs(r,n)},t.prototype.si=function(e,n){var r=this.Bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return mF.Vs(new cr(o),i,n)},t.prototype.ri=function(e,n){var r=this.qs.exec(e),i=Number(r[1]);return aS.Vs(i,n)},t.prototype.js=function(e){return uQ.Vs(e)},t.prototype.ii=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(e.batchId,e.state,e.error)]:(K("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ui(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var r=this,i=n?this.ks.insert(e,n):this.ks.remove(e),o=this.Gs(this.ks),a=this.Gs(i),l=[],u=[];return a.forEach(function(d){o.has(d)||l.push(d)}),o.forEach(function(d){a.has(d)||u.push(d)}),this.syncEngine.hi(l,u).then(function(){r.ks=i})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Lv();return e.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},t}(),gF=function(){function t(){this.li=new lS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,r){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,r){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new lS,Promise.resolve()},t.prototype.handleUserChange=function(e,n,r){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),dQ=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),yF=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),fQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hQ=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),pQ=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return M(e,t),e.prototype.ki=function(n,r,i,o){return new Promise(function(a,l){var u=new MM;u.listenOnce(OM.COMPLETE,function(){try{switch(u.getLastErrorCode()){case xv.NO_ERROR:var f=u.getResponseJson();K("Connection","XHR received:",JSON.stringify(f)),a(f);break;case xv.TIMEOUT:K("Connection",'RPC "'+n+'" timed out'),l(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case xv.HTTP_ERROR:var p=u.getStatus();if(K("Connection",'RPC "'+n+'" failed with status:',p,"response text:",u.getResponseText()),p>0){var v=u.getResponseJson().error;if(v&&v.status&&v.message){var g=function(b){var _=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(v.status);l(new q(g,v.message))}else l(new q(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new q(U.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{K("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(o);u.send(r,"POST",d,i,15)})},e.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=DM(),a=NM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),mc()||Kd()||yw()||bw()||_w()||vc()||(l.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");K("Connection","Creating WebChannel: "+u,l);var d=o.createWebChannel(u,l),f=!1,p=!1,v=new hQ({Ei:function(b){p?K("Connection","Not sending because WebChannel is closed:",b):(f||(K("Connection","Opening WebChannel transport."),d.open(),f=!0),K("Connection","WebChannel sending:",b),d.send(b))},Ti:function(){return d.close()}}),g=function(b,_,E){b.listen(_,function(x){try{E(x)}catch(T){setTimeout(function(){throw T},0)}})};return g(d,Ff.EventType.OPEN,function(){p||K("Connection","WebChannel transport opened.")}),g(d,Ff.EventType.CLOSE,function(){p||(p=!0,K("Connection","WebChannel transport closed"),v.Vi())}),g(d,Ff.EventType.ERROR,function(b){p||(p=!0,Sv("Connection","WebChannel transport errored:",b),v.Vi(new q(U.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ff.EventType.MESSAGE,function(b){var _;if(!p){var E=b.data[0];fe(!!E);var x=E,T=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(T){K("Connection","WebChannel received error:",T);var R=T.status,P=function(F){var G=Vt[F];if(G!==void 0)return mL(G)}(R),L=T.message;P===void 0&&(P=U.INTERNAL,L="Unknown error status: "+R+" with message "+T.message),p=!0,v.Vi(new q(P,L)),d.close()}else K("Connection","WebChannel received:",E),v.Si(E)}}),g(a,PM.STAT_EVENT,function(b){b.stat===Dx.PROXY?K("Connection","Detected buffering proxy"):b.stat===Dx.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,r,i){var o=this.xi(e,n);K("RestConnection","Sending: ",o,r);var a={};return this.Fi(a,i),this.ki(e,o,a,r).then(function(l){return K("RestConnection","Received: ",l),l},function(l){throw Sv("RestConnection",e+" failed with error: ",l,"url: ",o,"request:",r),l})},t.prototype.Oi=function(e,n,r,i){return this.Ni(e,n,r,i)},t.prototype.Fi=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])},t.prototype.xi=function(e,n){var r=fQ[e];return this.Di+"/v1/"+n+":"+r},t}());function bF(){return typeof window!="undefined"?window:null}function Gv(){return typeof document!="undefined"?document:null}function eh(t){return new b7(t,!0)}var uS=function(){function t(e,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=e,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),o=Math.max(0,r-i);o>0&&K("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Qi=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),_F=function(){function t(e,n,r,i,o,a){this.Se=e,this.zi=r,this.Hi=i,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new uS(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ar(),this.stream.send(e)},t.prototype.rr=function(){return N(this,void 0,void 0,function(){return D(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return N(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ut(n.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===U.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ur(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){e.Yi===r&&e.lr(i)},function(i){n(function(){var o=new q(U.UNKNOWN,"Fetching auth token failed: "+i.message);return e.dr(o)})})},t.prototype.lr=function(e){var n=this,r=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return N(e,void 0,void 0,function(){return D(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return K("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===e?r():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),mQ=function(t){function e(n,r,i,o,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=o,l}return M(e,t),e.prototype.wr=function(n){return this.Hi.$i("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,a){var l;if("targetChange"in a){a.targetChange;var u=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:oe()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],f=function(E,x){return E.I?(fe(x===void 0||typeof x=="string"),zn.fromBase64String(x||"")):(fe(x===void 0||x instanceof Uint8Array),zn.fromUint8Array(x||new Uint8Array))}(o,a.targetChange.resumeToken),p=(v=a.targetChange.cause)&&function(E){var x=E.code===void 0?U.UNKNOWN:mL(E.code);return new q(x,E.message||"")}(v);l=new bL(u,d,f,p||null)}else if("documentChange"in a){a.documentChange,(u=a.documentChange).document,u.document.name,u.document.updateTime,d=Ji(o,u.document.name),f=nn(u.document.updateTime);var v=new Tr({mapValue:{fields:u.document.fields}}),g=(p=pn.newFoundDocument(d,f,v),u.targetIds||[]),b=u.removedTargetIds||[];l=new Fv(g,b,p.key,p)}else if("documentDelete"in a)a.documentDelete,(u=a.documentDelete).document,d=Ji(o,u.document),f=u.readTime?nn(u.readTime):Te.min(),v=pn.newNoDocument(d,f),p=u.removedTargetIds||[],l=new Fv([],p,v.key,v);else if("documentRemove"in a)a.documentRemove,(u=a.documentRemove).document,d=Ji(o,u.document),f=u.removedTargetIds||[],l=new Fv([],f,d,null);else{if(!("filter"in a))return oe();a.filter;var _=a.filter;_.targetId,u=_.count||0,d=new u7(u),f=_.targetId,l=new yL(f,d)}return l}(this.R,n),i=function(o){if(!("targetChange"in o))return Te.min();var a=o.targetChange;return a.targetIds&&a.targetIds.length?Te.min():a.readTime?nn(a.readTime):Te.min()}(n);return this.listener._r(r,i)},e.prototype.mr=function(n){var r={};r.database=Xf(this.R),r.addTarget=function(o,a){var l,u=a.target;return(l=Av(u)?{documents:kL(o,u)}:{query:DL(o,u)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=xL(o,a.resumeToken):a.snapshotVersion.compareTo(Te.min())>0&&(l.readTime=$f(o,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(o,a){var l=function(u,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oe()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},e.prototype.yr=function(n){var r={};r.database=Xf(this.R),r.removeTarget=n,this.cr(r)},e}(_F),vQ=function(t){function e(n,r,i,o,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=o,l.gr=!1,l}return M(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.$i("Write",n)},e.prototype.onMessage=function(n){if(fe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,a){return o&&o.length>0?(fe(a!==void 0),o.map(function(l){return function(u,d){var f=u.updateTime?nn(u.updateTime):nn(d);return f.isEqual(Te.min())&&(f=nn(d)),new a7(f,u.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=nn(n.commitTime);return this.listener.Tr(i,r)}return fe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Xf(this.R),this.cr(n)},e.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Uv(r.R,o)})};this.cr(i)},e}(_F),gQ=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return M(e,t),e.prototype.br=function(){if(this.Rr)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new q(U.UNKNOWN,a.toString())})},e.prototype.Oi=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(a){return o.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&o.credentials.invalidateToken(),a):new q(U.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),yQ=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ut(n),this.Vr=!1):K("OnlineStateTracker",n)},t.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),bQ=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return N(o,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return Cs(this)?(K("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return N(this,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return(d=X(u)).$r.add(4),[4,cu(d)];case 1:return f.sent(),d.Br.set("Unknown"),d.$r.delete(4),[4,th(d)];case 2:return f.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new yQ(n,r)};function th(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:if(!Cs(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cu(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Kv(t,e){var n=X(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),hS(n)?fS(n):du(n).er()&&dS(n,e))}function nh(t,e){var n=X(t),r=du(n);n.Or.delete(e),r.er()&&wF(n,e),n.Or.size===0&&(r.er()?r.ir():Cs(n)&&n.Br.set("Unknown"))}function dS(t,e){t.qr.U(e.targetId),du(t).mr(e)}function wF(t,e){t.qr.U(e),du(t).yr(e)}function fS(t){t.qr=new v7({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),du(t).start(),t.Br.Sr()}function hS(t){return Cs(t)&&!du(t).tr()&&t.Or.size>0}function Cs(t){return X(t).$r.size===0}function EF(t){t.qr=void 0}function _Q(t){return N(this,void 0,void 0,function(){return D(this,function(e){return t.Or.forEach(function(n,r){dS(t,n)}),[2]})})}function wQ(t,e){return N(this,void 0,void 0,function(){return D(this,function(n){return EF(t),hS(t)?(t.Br.Nr(e),fS(t)):t.Br.set("Unknown"),[2]})})}function EQ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o;return D(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof bL&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,u){return N(this,void 0,void 0,function(){var d,f,p,v;return D(this,function(g){switch(g.label){case 0:d=u.cause,f=0,p=u.targetIds,g.label=1;case 1:return f<p.length?(v=p[f],l.Or.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:g.sent(),l.Or.delete(v),l.qr.removeTarget(v),g.label=3;case 3:g.label=4;case 4:return f++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$v(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fv?t.qr.X(e):e instanceof yL?t.qr.rt(e):t.qr.et(e),n.isEqual(Te.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,cF(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,u){var d=l.qr.at(u);return d.targetChanges.forEach(function(f,p){if(f.resumeToken.approximateByteSize()>0){var v=l.Or.get(p);v&&l.Or.set(p,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(function(f){var p=l.Or.get(f);if(p){l.Or.set(f,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),wF(l,f);var v=new Bv(p.target,f,1,p.sequenceNumber);dS(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return K("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,$v(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function $v(t,e,n){return N(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:if(!Ga(e))throw e;return t.$r.add(1),[4,cu(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return cF(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return D(this,function(o){switch(o.label){case 0:return K("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),t.$r.delete(1),[4,th(t)];case 2:return o.sent(),[2]}})})}),[2]}})})}function xF(t,e){return e().catch(function(n){return $v(t,n,e)})}function uu(t){return N(this,void 0,void 0,function(){var e,n,r,i,o;return D(this,function(a){switch(a.label){case 0:e=X(t),n=Is(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Cs(l)&&l.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,J7(e.localStore,r)];case 3:return(i=a.sent())===null?(e.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,u){l.kr.push(u);var d=Is(l);d.er()&&d.pr&&d.Er(u.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,$v(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return SF(e)&&TF(e),[2]}})})}function SF(t){return Cs(t)&&!Is(t).tr()&&t.kr.length>0}function TF(t){Is(t).start()}function xQ(t){return N(this,void 0,void 0,function(){return D(this,function(e){return Is(t).Ar(),[2]})})}function SQ(t){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){for(e=Is(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function TQ(t,e,n){return N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=O7.from(r,e,n),[4,xF(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,uu(t)];case 2:return o.sent(),[2]}})})}function CQ(t,e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return e&&Is(t).pr?[4,function(r,i){return N(this,void 0,void 0,function(){var o,a;return D(this,function(l){switch(l.label){case 0:return pL(a=i.code)&&a!==U.ABORTED?(o=r.kr.shift(),Is(r).sr(),[4,xF(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return l.sent(),[4,uu(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return SF(t)&&TF(t),[2]}})})}function pS(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return n=X(t),e?(n.$r.delete(2),[4,th(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return(r=e)?[3,4]:(n.$r.add(2),[4,cu(n)]);case 3:i.sent(),r=n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function du(t){var e=this;return t.Ur||(t.Ur=function(n,r,i){var o=X(n);return o.br(),new mQ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:_Q.bind(null,t),Ri:wQ.bind(null,t),_r:EQ.bind(null,t)}),t.Mr.push(function(n){return N(e,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return n?(t.Ur.sr(),hS(t)?fS(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:r.sent(),EF(t),r.label=3;case 3:return[2]}})})})),t.Ur}function Is(t){var e=this;return t.Qr||(t.Qr=function(n,r,i){var o=X(n);return o.br(),new vQ(r,o.Hi,o.credentials,o.R,i)}(t.datastore,t.asyncQueue,{Ii:xQ.bind(null,t),Ri:CQ.bind(null,t),Ir:SQ.bind(null,t),Tr:TQ.bind(null,t)}),t.Mr.push(function(n){return N(e,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return n?(t.Qr.sr(),[4,uu(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:r.sent(),t.kr.length>0&&(K("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),r.label=4;case 4:return[2]}})})})),t.Qr}var IQ=function(){function t(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function fu(t,e){if(Ut("AsyncQueue",e+": "+t),Ga(t))return new q(U.UNAVAILABLE,e+": "+t);throw t}var CF=function(){function t(e){this.comparator=e?function(n,r){return e(n,r)||se.comparator(n.key,r.key)}:function(n,r){return se.comparator(n.key,r.key)},this.keyedMap=Gx(),this.sortedSet=new Rn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),IF=function(){function t(){this.Kr=new Rn(se.comparator)}return t.prototype.track=function(e){var n=e.doc.key,r=this.Kr.get(n);r?e.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,e):e.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Kr=this.Kr.remove(n):e.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:e.doc}):oe():this.Kr=this.Kr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal(function(n,r){e.push(r)}),e},t}(),Yv=function(){function t(e,n,r,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(a){o.push({type:0,doc:a})}),new t(e,n,CF.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),AQ=function(){this.Wr=void 0,this.listeners=[]},RQ=function(){this.queries=new su(function(t){return ZM(t)},qf),this.onlineState="Unknown",this.Gr=new Set};function mS(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:if(n=X(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new AQ),!i)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),u=fu(l,"Initialization of query '"+qx(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&gS(n),[2]}})})}function vS(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){return n=X(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function kQ(t,e){for(var n=X(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],l=a.query,u=n.queries.get(l);if(u){for(var d=0,f=u.listeners;d<f.length;d++)f[d].Hr(a)&&(r=!0);u.Wr=a}}r&&gS(n)}function DQ(t,e,n){var r=X(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function gS(t){t.Gr.forEach(function(e){e.next()})}var yS=function(){function t(e,n,r){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}e=new Yv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=Yv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),NQ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.io=function(){return"metadata"in this.payload},t}(),AF=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Ji(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?AL(this.R,e.document,!1):pn.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},t.prototype.Qn=function(e){return nn(e)},t}(),OQ=function(){function t(e,n,r){this.ro=e,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=RF(e)}return t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var n=new Map,r=new AF(this.R),i=0,o=e;i<o.length;i++){var a=o[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),u=0,d=a.metadata.queries;u<d.length;u++){var f=d[u],p=(n.get(f)||Ge()).add(l);n.set(f,p)}}return n},t.prototype.complete=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,eQ(this.localStore,new AF(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(o=i[r],[4,tQ(this.localStore,o,n.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new K7(Object.assign({},this.progress),e))]}})})},t}();function RF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var kF=function(t){this.key=t},DF=function(t){this.key=t},NF=function(){function t(e,n){this.query=e,this.ao=n,this.uo=null,this.current=!1,this.ho=Ge(),this.mutatedKeys=Ge(),this.lo=eL(e),this.fo=new CF(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var r=this,i=n?n.mo:new IF,o=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=o,u=!1,d=kv(this.query)&&o.size===this.query.limit?o.last():null,f=Dv(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(v,g){var b=o.get(v),_=zf(r.query,g)?g:null,E=!!b&&r.mutatedKeys.has(b.key),x=!!_&&(_.hasLocalMutations||r.mutatedKeys.has(_.key)&&_.hasCommittedMutations),T=!1;b&&_?b.data.isEqual(_.data)?E!==x&&(i.track({type:3,doc:_}),T=!0):r.yo(b,_)||(i.track({type:2,doc:_}),T=!0,(d&&r.lo(_,d)>0||f&&r.lo(_,f)<0)&&(u=!0)):!b&&_?(i.track({type:0,doc:_}),T=!0):b&&!_&&(i.track({type:1,doc:b}),T=!0,(d||f)&&(u=!0)),T&&(_?(l=l.add(_),a=x?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),kv(this.query)||Dv(this.query))for(;l.size>this.query.limit;){var p=kv(this.query)?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{fo:l,mo:i,Nn:u,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,r){var i=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(f,p){return function(v,g){var b=function(_){switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return b(v)-b(g)}(f.type,p.type)||i.lo(f.doc,p.doc)}),this.po(r);var l=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,d=u!==this.uo;return this.uo=u,a.length!==0||d?{snapshot:new Yv(this.query,e.fo,o,a,e.mutatedKeys,u===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new IF,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.ao.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(r){return n.ao=n.ao.add(r)}),e.modifiedDocuments.forEach(function(r){}),e.removedDocuments.forEach(function(r){return n.ao=n.ao.delete(r)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Ge(),this.fo.forEach(function(i){e.Io(i.key)&&(e.ho=e.ho.add(i.key))});var r=[];return n.forEach(function(i){e.ho.has(i)||r.push(new DF(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new kF(i))}),r},t.prototype.Ao=function(e){this.ao=e.Bn,this.ho=Ge();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return Yv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.uo===0)},t}(),PQ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},MQ=function(t){this.key=t,this.bo=!1},LQ=function(){function t(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new su(function(l){return ZM(l)},qf),this.Vo=new Map,this.So=new Set,this.Do=new Rn(se.comparator),this.Co=new Map,this.No=new oS,this.xo={},this.Fo=new Map,this.ko=Hv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),t}();function FQ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return n=SS(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,au(n.localStore,$r(e))];case 2:return a=u.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,bS(n,e,r,l==="current")];case 3:i=u.sent(),n.isPrimaryClient&&Kv(n.remoteStore,a),u.label=4;case 4:return[2,i]}})})}function bS(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return t.$o=function(p,v,g){return function(b,_,E,x){return N(this,void 0,void 0,function(){var T,R,P;return D(this,function(L){switch(L.label){case 0:return T=_.view._o(E),T.Nn?[4,Wv(b.localStore,_.query,!1).then(function(F){var G=F.documents;return _.view._o(G,T)})]:[3,2];case 1:T=L.sent(),L.label=2;case 2:return R=x&&x.targetChanges.get(_.targetId),P=_.view.applyChanges(T,b.isPrimaryClient,R),[2,(ES(b,_.targetId,P.To),P.snapshot)]}})})}(t,p,v,g)},[4,Wv(t.localStore,e,!0)];case 1:return i=f.sent(),o=new NF(e,i.Bn),a=o._o(i.documents),l=$x.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),u=o.applyChanges(a,t.isPrimaryClient,l),ES(t,n,u.To),d=new PQ(e,n,o),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function UQ(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return n=X(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!qf(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,lu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),nh(n.remoteStore,r.targetId),hu(n,r.targetId)}).catch($a)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hu(n,r.targetId),[4,lu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function BQ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:r=TS(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(u,d){var f,p=X(u),v=qn.now(),g=d.reduce(function(b,_){return b.add(_.key)},Ge());return p.persistence.runTransaction("Locally write mutations","readwrite",function(b){return p.Mn.pn(b,g).next(function(_){f=_;for(var E=[],x=0,T=d;x<T.length;x++){var R=T[x],P=c7(R,f.get(R.key));P!=null&&E.push(new _s(R.key,P,GM(P.toProto().mapValue),An.exists(!0)))}return p._n.addMutationBatch(b,v,E,d)})}).then(function(b){return b.applyToLocalDocumentSet(f),{batchId:b.batchId,changes:f}})}(r.localStore,e)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){var p=u.xo[u.currentUser.toKey()];p||(p=new Rn(Ne)),p=p.insert(d,f),u.xo[u.currentUser.toKey()]=p}(r,i.batchId,n),[4,No(r,i.changes)];case 3:return l.sent(),[4,uu(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return o=l.sent(),a=fu(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function OF(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:n=X(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Q7(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(o,a){var l=n.Co.get(a);l&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.bo=!0:o.modifiedDocuments.size>0?fe(l.bo):o.removedDocuments.size>0&&(fe(l.bo),l.bo=!1))}),[4,No(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$a(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function PF(t,e,n){var r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,a){var l=a.view.zr(e);l.snapshot&&i.push(l.snapshot)}),function(o,a){var l=X(o);l.onlineState=a;var u=!1;l.queries.forEach(function(d,f){for(var p=0,v=f.listeners;p<v.length;p++)v[p].zr(a)&&(u=!0)}),u&&gS(l)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VQ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return(r=X(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Rn(se.comparator)).insert(o,pn.newNoDocument(o,Te.min())),l=Ge().add(o),u=new Kx(Te.min(),new Map,new Yt(Ne),a,l),[4,OF(r,u)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),xS(r),[3,4];case 2:return[4,lu(r.localStore,e,!1).then(function(){return hu(r,e,n)}).catch($a)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function HQ(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:n=X(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,X7(n.localStore,e)];case 2:return i=o.sent(),wS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,No(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$a(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function jQ(t,e,n){return N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:r=X(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(a,l){var u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var f;return u._n.lookupMutationBatch(d,l).next(function(p){return fe(p!==null),f=p.keys(),u._n.removeMutationBatch(d,p)}).next(function(){return u._n.performConsistencyCheck(d)}).next(function(){return u.Mn.pn(d,f)})})}(r.localStore,e)];case 2:return i=o.sent(),wS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,No(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$a(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qQ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:Cs((n=X(t)).remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(u){var d=X(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(f){return d._n.getHighestUnacknowledgedBatchId(f)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=l.sent(),a=fu(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function _S(t,e){(t.Fo.get(e)||[]).forEach(function(n){n.resolve()}),t.Fo.delete(e)}function wS(t,e,n){var r=X(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function hu(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||MF(t,a)})}function MF(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(nh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),xS(t))}function ES(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof kF?(t.No.addReference(o.key,e),zQ(t,o)):o instanceof DF?(K("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||MF(t,o.key)):oe()}}function zQ(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(K("SyncEngine","New document in limbo: "+n),t.So.add(r),xS(t))}function xS(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new se(Fe.fromString(e)),r=t.ko.next();t.Co.set(r,new MQ(n)),t.Do=t.Do.insert(n,r),Kv(t.remoteStore,new Bv($r(Gc(n.path)),r,2,Sr.o))}}function No(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:return r=X(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,d){a.push(r.$o(d,e,n).then(function(f){if(f){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,f.fromCache?"not-current":"current"),i.push(f);var p=$7.Pn(d.targetId,f);o.push(p)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(u,d){return N(this,void 0,void 0,function(){var f,p,v,g,b,_,E,x,T;return D(this,function(R){switch(R.label){case 0:f=X(u),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,f.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return z.forEach(d,function(L){return z.forEach(L.bn,function(F){return f.persistence.referenceDelegate.addReference(P,L.targetId,F)}).next(function(){return z.forEach(L.vn,function(F){return f.persistence.referenceDelegate.removeReference(P,L.targetId,F)})})})})];case 2:return R.sent(),[3,4];case 3:if(!Ga(p=R.sent()))throw p;return K("LocalStore","Failed to update sequence numbers: "+p),[3,4];case 4:for(v=0,g=d;v<g.length;v++)b=g[v],_=b.targetId,b.fromCache||(E=f.Fn.get(_),x=E.snapshotVersion,T=E.withLastLimboFreeSnapshotVersion(x),f.Fn=f.Fn.insert(_,T));return[2]}})})}(r.localStore,o)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function WQ(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return(n=X(t)).currentUser.isEqual(e)?[3,3]:(K("SyncEngine","User change. New user:",e.toKey()),[4,lF(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(o,a){o.Fo.forEach(function(l){l.forEach(function(u){u.reject(new q(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,No(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function GQ(t,e){var n=X(t),r=n.Co.get(e);if(r&&r.bo)return Ge().add(r.key);var i=Ge(),o=n.Vo.get(e);if(!o)return i;for(var a=0,l=o;a<l.length;a++){var u=l[a],d=n.Po.get(u);i=i.unionWith(d.view.wo)}return i}function KQ(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,Wv((n=X(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ES(n,e.targetId,i.To),i)]}})})}function $Q(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){return[2,fF((e=X(t)).localStore).then(function(r){return No(e,r)})]})})}function YQ(t,e,n,r){return N(this,void 0,void 0,function(){var i,o;return D(this,function(a){switch(a.label){case 0:return[4,function(l,u){var d=X(l),f=X(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(p){return f.jt(p,u).next(function(v){return v?d.Mn.pn(p,v):z.resolve(null)})})}((i=X(t)).localStore,e)];case 1:return(o=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,uu(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(wS(i,e,r||null),_S(i,e),function(l,u){X(X(l)._n).Gt(u)}(i.localStore,e)):oe(),a.label=4;case 4:return[4,No(i,o)];case 5:return a.sent(),[3,7];case 6:K("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function XQ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return SS(n=X(t)),TS(n),e!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,LF(n,r.toArray())]);case 1:return i=f.sent(),n.Oo=!0,[4,pS(n.remoteStore,!0)];case 2:for(f.sent(),o=0,a=i;o<a.length;o++)l=a[o],Kv(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.Oo===!1?[3,7]:(u=[],d=Promise.resolve(),n.Vo.forEach(function(p,v){n.sharedClientState.isLocalQueryTarget(v)?u.push(v):d=d.then(function(){return hu(n,v),lu(n.localStore,v,!0)}),nh(n.remoteStore,v)}),[4,d]);case 4:return f.sent(),[4,LF(n,u)];case 5:return f.sent(),function(p){var v=X(p);v.Co.forEach(function(g,b){nh(v.remoteStore,b)}),v.No.ts(),v.Co=new Map,v.Do=new Rn(se.comparator)}(n),n.Oo=!1,[4,pS(n.remoteStore,!1)];case 6:f.sent(),f.label=7;case 7:return[2]}})})}function LF(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a,l,u,d,f,p,v,g,b,_,E;return D(this,function(x){switch(x.label){case 0:r=X(t),i=[],o=[],a=0,l=e,x.label=1;case 1:return a<l.length?(u=l[a],d=void 0,(f=r.Vo.get(u))&&f.length!==0?[4,au(r.localStore,$r(f[0]))]:[3,7]):[3,13];case 2:d=x.sent(),p=0,v=f,x.label=3;case 3:return p<v.length?(g=v[p],b=r.Po.get(g),[4,KQ(r,b)]):[3,6];case 4:(_=x.sent()).snapshot&&o.push(_.snapshot),x.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,dF(r.localStore,u)];case 8:return E=x.sent(),[4,au(r.localStore,E)];case 9:return d=x.sent(),[4,bS(r,FF(E),u,!1)];case 10:x.sent(),x.label=11;case 11:i.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function FF(t){return QM(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function QQ(t){var e=X(t);return X(X(e.localStore).persistence).fn()}function JQ(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a;return D(this,function(l){switch(l.label){case 0:return(i=X(t)).Oo?(K("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,fF(i.localStore)];case 3:return o=l.sent(),a=Kx.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,No(i,o,a)];case 4:return l.sent(),[3,8];case 5:return[4,lu(i.localStore,e,!0)];case 6:return l.sent(),hu(i,e,r),[3,8];case 7:oe(),l.label=8;case 8:return[2]}})})}function ZQ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a,l,u,d,f,p,v;return D(this,function(g){switch(g.label){case 0:if(!(r=SS(t)).Oo)return[3,10];i=0,o=e,g.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(K("SyncEngine","Adding an already active target "+a),[3,5]):[4,dF(r.localStore,a)]):[3,6];case 2:return l=g.sent(),[4,au(r.localStore,l)];case 3:return u=g.sent(),[4,bS(r,FF(l),u.targetId,!1)];case 4:g.sent(),Kv(r.remoteStore,u),g.label=5;case 5:return i++,[3,1];case 6:d=function(b){return D(this,function(_){switch(_.label){case 0:return r.Vo.has(b)?[4,lu(r.localStore,b,!1).then(function(){nh(r.remoteStore,b),hu(r,b)}).catch($a)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})},f=0,p=n,g.label=7;case 7:return f<p.length?(v=p[f],[5,d(v)]):[3,10];case 8:g.sent(),g.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function SS(t){var e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VQ.bind(null,e),e.vo._r=kQ.bind(null,e.eventManager),e.vo.Mo=DQ.bind(null,e.eventManager),e}function TS(t){var e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jQ.bind(null,e),e}function e9(t,e,n){var r=X(t);(function(i,o,a){return N(this,void 0,void 0,function(){var l,u,d,f,p,v;return D(this,function(g){switch(g.label){case 0:return g.trys.push([0,14,,15]),[4,o.getMetadata()];case 1:return l=g.sent(),[4,function(b,_){var E=X(b),x=nn(_.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",function(T){return E.Qe.getBundleMetadata(T,_.id)}).then(function(T){return!!T&&T.createTime.compareTo(x)>=0})}(i.localStore,l)];case 2:return g.sent()?[4,o.close()]:[3,4];case 3:return[2,(g.sent(),void a._completeWith(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(l)))];case 4:return a._updateProgress(RF(l)),u=new OQ(l,i.localStore,o.R),[4,o.Lo()];case 5:d=g.sent(),g.label=6;case 6:return d?[4,u.oo(d)]:[3,10];case 7:return(f=g.sent())&&a._updateProgress(f),[4,o.Lo()];case 8:d=g.sent(),g.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return p=g.sent(),[4,No(i,p.wn,void 0)];case 12:return g.sent(),[4,function(b,_){var E=X(b);return E.persistence.runTransaction("Save bundle","readwrite",function(x){return E.Qe.saveBundleMetadata(x,_)})}(i.localStore,l)];case 13:return g.sent(),a._completeWith(p.progress),[3,15];case 14:return Sv("SyncEngine","Loading bundle failed with "+(v=g.sent())),a._failWith(v),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var UF=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return this.R=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Qo=function(e){return aF(this.persistence,new sF,e.initialUser,this.R)},t.prototype.qo=function(e){return new aQ(cQ.bs,this.R)},t.prototype.Bo=function(e){return new gF},t.prototype.terminate=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),BF=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Ko=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return M(e,t),e.prototype.initialize=function(n){return N(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,Z7(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,TS(this.Ko.syncEngine)];case 4:return r.sent(),[4,uu(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},e.prototype.Qo=function(n){return aF(this.persistence,new sF,n.initialUser,this.R)},e.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new V7(r,n.asyncQueue)},e.prototype.qo=function(n){var r=iS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?eo.withCacheSize(this.cacheSizeBytes):eo.DEFAULT;return new G7(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,bF(),Gv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new gF},e}(UF),t9=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return M(e,t),e.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return D(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof cS?(this.sharedClientState.syncEngine={ai:YQ.bind(null,r),ui:JQ.bind(null,r),hi:ZQ.bind(null,r),fn:QQ.bind(null,r),ci:$Q.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(a){return N(i,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return[4,XQ(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(n){var r=bF();if(!cS.yt(r))throw new q(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=iS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new cS(r,n.asyncQueue,i,n.clientId,n.initialUser)},e}(BF),CS=function(){function t(){}return t.prototype.initialize=function(e,n){return N(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return PF(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=WQ.bind(null,this.syncEngine),[4,pS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new RQ},t.prototype.createDatastore=function(e){var n,r=eh(e.databaseInfo.databaseId),i=(n=e.databaseInfo,new pQ(n));return function(o,a,l){return new gQ(o,a,l)}(e.credentials,i,r)},t.prototype.createRemoteStore=function(e){var n,r,i,o,a,l=this;return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=function(u){return PF(l.syncEngine,u,0)},a=yF.yt()?new yF:new dQ,new bQ(n,r,i,o,a)},t.prototype.createSyncEngine=function(e,n){return function(r,i,o,a,l,u,d){var f=new LQ(r,i,o,a,l,u);return d&&(f.Oo=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return n=X(e),K("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,cu(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function VF(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return D(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return D(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Xv=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),n9=function(){function t(e,n){var r=this;this.Go=e,this.R=n,this.metadata=new Wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return D(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,this.Jo()];case 1:return(e=o.sent())===null?[2,null]:(n=this.zo.decode(e),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=o.sent(),[2,new NQ(JSON.parse(i),e.length+r)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.Xo=function(e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),r9=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new q(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,a){return N(this,void 0,void 0,function(){var l,u,d,f,p,v;return D(this,function(g){switch(g.label){case 0:return l=X(o),u=Xf(l.R)+"/documents",d={documents:a.map(function(b){return Yf(l.R,b)})},[4,l.Oi("BatchGetDocuments",u,d)];case 1:return f=g.sent(),p=new Map,f.forEach(function(b){var _=function(E,x){return"found"in x?function(T,R){fe(!!R.found),R.found.name,R.found.updateTime;var P=Ji(T,R.found.name),L=nn(R.found.updateTime),F=new Tr({mapValue:{fields:R.found.fields}});return pn.newFoundDocument(P,L,F)}(E,x):"missing"in x?function(T,R){fe(!!R.missing),fe(!!R.readTime);var P=Ji(T,R.missing),L=nn(R.readTime);return pn.newNoDocument(P,L)}(E,x):oe()}(l.R,b);p.set(_.key.toString(),_)}),v=[],[2,(a.forEach(function(b){var _=p.get(b.toString());fe(!!_),v.push(_)}),v)]}})})}(this.datastore,e)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Kf(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return N(this,void 0,void 0,function(){var e,n=this;return D(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,o){var a=se.fromPath(o);n.mutations.push(new Wx(a,n.precondition(a)))}),[4,function(i,o){return N(this,void 0,void 0,function(){var a,l,u;return D(this,function(d){switch(d.label){case 0:return a=X(i),l=Xf(a.R)+"/documents",u={writes:o.map(function(f){return Uv(a.R,f)})},[4,a.Ni("Commit",l,u)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw oe();n=Te.min()}var r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new q(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?An.updateTime(n):An.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Te.min()))throw new q(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(n)}return An.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),i9=function(){function t(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new uS(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return N(e,void 0,void 0,function(){var n,r,i=this;return D(this,function(o){return n=new r9(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!ja(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!pL(n)}return!1},t}(),o9=function(){function t(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=cr.UNAUTHENTICATED,this.clientId=LM.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return N(i,void 0,void 0,function(){return D(this,function(a){switch(a.label){case 0:return K("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return a.sent(),this.user=o,[2]}})})})}return t.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return D(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return N(e,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=fu(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();function HF(t,e){return N(this,void 0,void 0,function(){var n,r,i=this;return D(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(a){return N(i,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,lF(e.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function jF(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,IS(t)];case 1:return n=i.sent(),K("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(o){return function(a,l){return N(this,void 0,void 0,function(){var u,d;return D(this,function(f){switch(f.label){case 0:return(u=X(a)).asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials"),d=Cs(u),u.$r.add(3),[4,cu(u)];case 1:return f.sent(),d&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(l)];case 2:return f.sent(),u.$r.delete(3),[4,th(u)];case 3:return f.sent(),[2]}})})}(e.remoteStore,o)}),t.onlineComponents=e,[2]}})})}function IS(t){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(K("FirestoreClient","Using default OfflineComponentProvider"),[4,HF(t,new UF)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Qv(t){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(K("FirestoreClient","Using default OnlineComponentProvider"),[4,jF(t,new CS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function qF(t){return IS(t).then(function(e){return e.persistence})}function AS(t){return IS(t).then(function(e){return e.localStore})}function zF(t){return Qv(t).then(function(e){return e.remoteStore})}function RS(t){return Qv(t).then(function(e){return e.syncEngine})}function pu(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return[4,Qv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=FQ.bind(null,e.syncEngine),n.onUnlisten=UQ.bind(null,e.syncEngine),n)]}})})}function WF(t,e,n){var r=this;n===void 0&&(n={});var i=new Wn;return t.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return o=function(l,u,d,f,p){var v=new Xv({next:function(b){u.enqueueAndForget(function(){return vS(l,g)});var _=b.docs.has(d);!_&&b.fromCache?p.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&f&&f.source==="server"?p.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:function(b){return p.reject(b)}}),g=new yS(Gc(d.path),v,{includeMetadataChanges:!0,so:!0});return mS(l,g)},[4,pu(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function GF(t,e,n){var r=this;n===void 0&&(n={});var i=new Wn;return t.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return o=function(l,u,d,f,p){var v=new Xv({next:function(b){u.enqueueAndForget(function(){return vS(l,g)}),b.fromCache&&f.source==="server"?p.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:function(b){return p.reject(b)}}),g=new yS(d,v,{includeMetadataChanges:!0,so:!0});return mS(l,g)},[4,pu(t)];case 1:return[2,o.apply(void 0,[a.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var s9=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Jv=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),KF=new Map,$F=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},YF=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(cr.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),a9=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var r=this;this.changeListener=n,e.enqueueRetryable(function(){return n(r.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),l9=function(){function t(e){var n=this;this.currentUser=cr.UNAUTHENTICATED,this.oc=new Wn,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.hc(),n.oc.resolve(),n.ac&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){K("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.lc(),n.auth.addAuthTokenListener(n.uc)};e.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=e.getImmediate({optional:!0});i?r(i):n.ac&&(K("FirebaseCredentialsProvider","Auth not yet detected"),n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)}))}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.cc!==n?(K("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(fe(typeof i.accessToken=="string"),new $F(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){this.ac=!0,this.asyncQueue=e,this.changeListener=n},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new cr(e)},t.prototype.lc=function(){var e=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return N(e,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return[4,this.oc.promise];case 1:return n.sent(),[4,this.changeListener(this.currentUser)];case 2:return n.sent(),this.ac=!0,[2]}})})}))},t}(),c9=function(){function t(e,n,r){this.fc=e,this.dc=n,this.wc=r,this.type="FirstParty",this.user=cr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.dc},n=this.fc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.wc&&(e["X-Goog-Iam-Authorization-Token"]=this.wc),e},enumerable:!1,configurable:!0}),t}(),u9=function(){function t(e,n,r){this.fc=e,this.dc=n,this.wc=r}return t.prototype.getToken=function(){return Promise.resolve(new c9(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(cr.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function kS(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function DS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new q(U.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function XF(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function QF(t){if(!se.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function JF(t){if(se.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":oe()}function Ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zv(t);throw new q(U.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ZF(t,e){if(e<=0)throw new q(U.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var e2=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,XF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),rh=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e2({}),this._settingsFrozen=!1,e instanceof Jv?(this._databaseId=e,this._credentials=new YF):(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jv(r.options.projectId)}(e),this._credentials=new l9(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e2(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new YF;switch(n.type){case"gapi":var r=n.client;return fe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new u9(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new q(U.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=KF.get(e))&&(K("ComponentProvider","Removing Datastore"),KF.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),yt=function(){function t(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new As(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ur=function(){function t(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),As=function(t){function e(n,r,i){var o=this;return(o=t.call(this,n,r,Gc(i))||this)._path=i,o.type="collection",o}return M(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new yt(this.firestore,null,new se(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(ur);function t2(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=me(t),kS("collection","path",e),t instanceof rh)return JF(n=Fe.fromString.apply(Fe,pe([e],r))),new As(t,null,n);if(!(t instanceof yt||t instanceof As))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return JF(n=Fe.fromString.apply(Fe,pe([t.path],r)).child(Fe.fromString(e))),new As(t.firestore,null,n)}function eg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=me(t),arguments.length===1&&(e=LM.u()),kS("doc","path",e),t instanceof rh)return QF(n=Fe.fromString.apply(Fe,pe([e],r))),new yt(t,null,new se(n));if(!(t instanceof yt||t instanceof As))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return QF(n=t._path.child(Fe.fromString.apply(Fe,pe([e],r)))),new yt(t.firestore,t instanceof As?t.converter:null,new se(n))}function n2(t,e){return t=me(t),e=me(e),(t instanceof yt||t instanceof As)&&(e instanceof yt||e instanceof As)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function r2(t,e){return t=me(t),e=me(e),t instanceof ur&&e instanceof ur&&t.firestore===e.firestore&&qf(t._query,e._query)&&t.converter===e.converter}var d9=function(){function t(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new uS(this,"async_queue_retry"),this.Ac=function(){var r=Gv();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Zi.Gi()};var n=Gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Rc(),this.bc(e)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var e=Gv();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(e){return this.Rc(),this.yc?new Promise(function(n){}):this.bc(e)},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.mc.push(e),n.vc()})},t.prototype.vc=function(){return N(this,void 0,void 0,function(){var e,n=this;return D(this,function(r){switch(r.label){case 0:if(this.mc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return r.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ga(e=r.sent()))throw e;return K("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return n.vc()}),r.label=5;case 5:return[2]}})})},t.prototype.bc=function(e){var n=this,r=this._c.then(function(){return n.Tc=!0,e().catch(function(i){throw n.Ec=i,n.Tc=!1,Ut("INTERNAL UNHANDLED ERROR: ",function(o){var a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i)),i}).then(function(i){return n.Tc=!1,i})});return this._c=r,r},t.prototype.enqueueAfterDelay=function(e,n,r){var i=this;this.Rc(),this.Ic.indexOf(e)>-1&&(n=0);var o=IQ.createAndSchedule(this,e,n,r,function(a){return i.Pc(a)});return this.gc.push(o),o},t.prototype.Rc=function(){this.Ec&&oe()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return[4,e=this._c];case 1:n.sent(),n.label=2;case 2:if(e!==this._c)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Sc=function(e){for(var n=0,r=this.gc;n<r.length;n++)if(r[n].timerId===e)return!0;return!1},t.prototype.Dc=function(e){var n=this;return this.Vc().then(function(){n.gc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.gc;r<i.length;r++){var o=i[r];if(o.skipDelay(),e!=="all"&&o.timerId===e)break}return n.Vc()})},t.prototype.Cc=function(e){this.Ic.push(e)},t.prototype.Pc=function(e){var n=this.gc.indexOf(e);this.gc.splice(n,1)},t}();function mu(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,o=["next","error","complete"];i<o.length;i++){var a=o[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var f9=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this._progressObserver={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,n){return this._taskCompletionResolver.promise.then(e,n)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},t}(),i2=-1,xt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).type="firestore",i._queue=new d9,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return M(e,t),e.prototype._terminate=function(){return this._firestoreClient||o2(this),this._firestoreClient.terminate()},e}(rh);function on(t){return t._firestoreClient||o2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function o2(t){var e,n=t._freezeSettings(),r=function(i,o,a,l){return new s9(i,o,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new o9(t._credentials,t._queue,r)}function s2(t,e,n){var r=this,i=new Wn;return t.asyncQueue.enqueue(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,HF(t,n)];case 1:return a.sent(),[4,jF(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===U.FAILED_PRECONDITION||l.code===U.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(o=a.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function a2(t){if(t._initialized||t._terminated)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var to=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Ya=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(zn.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(zn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Xa=function(t){this._methodName=t},ih=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)},t}(),h9=/^__.*__$/,p9=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gf(e,this.data,n,this.fieldTransforms)},t}(),l2=function(){function t(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}return t.prototype.toMutation=function(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();function c2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var u2=function(){function t(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Nc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fc({path:r,Oc:!1});return i.$c(e),i},t.prototype.Mc=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fc({path:r,Oc:!1});return i.Nc(),i},t.prototype.Lc=function(e){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(e){return ng(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Nc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Bc("Document fields must not be empty");if(c2(this.xc)&&h9.test(e))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),m9=function(){function t(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=r||eh(e)}return t.prototype.Qc=function(e,n,r,i){return i===void 0&&(i=!1),new u2({xc:e,methodName:n,Uc:r,path:Kr.emptyPath(),Oc:!1,qc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Qa(t){var e=t._freezeSettings(),n=eh(t._databaseId);return new m9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tg(t,e,n,r,i,o){o===void 0&&(o={});var a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);MS("Data must be an object, but it was:",a,r);var l,u,d=h2(r,a);if(o.merge)l=new jc(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],p=0,v=o.mergeFields;p<v.length;p++){var g=LS(e,v[p],n);if(!a.contains(g))throw new q(U.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");m2(f,g)||f.push(g)}l=new jc(f),u=a.fieldTransforms.filter(function(b){return l.covers(b.field)})}else l=null,u=a.fieldTransforms;return new p9(new Tr(d),l,u)}var NS=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype._toFieldTransform=function(n){if(n.xc!==2)throw n.xc===1?n.Bc(this._methodName+"() can only appear at the top level of your update data"):n.Bc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Xa);function d2(t,e,n){return new u2({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var v9=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype._toFieldTransform=function(n){return new Wf(n.path,new $c)},e.prototype.isEqual=function(n){return n instanceof e},e}(Xa),g9=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return M(e,t),e.prototype._toFieldTransform=function(n){var r=d2(this,n,!0),i=this.Kc.map(function(a){return Ja(a,r)}),o=new qa(i);return new Wf(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Xa),y9=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).Kc=r,i}return M(e,t),e.prototype._toFieldTransform=function(n){var r=d2(this,n,!0),i=this.Kc.map(function(a){return Ja(a,r)}),o=new za(i);return new Wf(n.path,o)},e.prototype.isEqual=function(n){return this===n},e}(Xa),b9=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).jc=r,i}return M(e,t),e.prototype._toFieldTransform=function(n){var r=new Yc(n.R,rL(n.R,this.jc));return new Wf(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Xa);function OS(t,e,n,r){var i=t.Qc(1,e,n);MS("Data must be an object, but it was:",i,r);var o=[],a=Tr.empty();Uf(r,function(u,d){var f=FS(e,u,n);d=me(d);var p=i.Mc(f);if(d instanceof NS)o.push(f);else{var v=Ja(d,p);v!=null&&(o.push(f),a.set(f,v))}});var l=new jc(o);return new l2(a,l,i.fieldTransforms)}function PS(t,e,n,r,i,o){var a=t.Qc(1,e,n),l=[LS(e,r,n)],u=[i];if(o.length%2!=0)throw new q(U.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<o.length;d+=2)l.push(LS(e,o[d])),u.push(o[d+1]);for(var f=[],p=Tr.empty(),v=l.length-1;v>=0;--v)if(!m2(f,l[v])){var g=l[v],b=u[v];b=me(b);var _=a.Mc(g);if(b instanceof NS)f.push(g);else{var E=Ja(b,_);E!=null&&(f.push(g),p.set(g,E))}}var x=new jc(f);return new l2(p,x,a.fieldTransforms)}function f2(t,e,n,r){return r===void 0&&(r=!1),Ja(n,t.Qc(r?4:3,e))}function Ja(t,e){if(p2(t=me(t)))return MS("Unsupported field value:",e,t),h2(t,e);if(t instanceof Xa)return function(n,r){if(!c2(r.xc))throw r.Bc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Bc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&e.xc!==4)throw e.Bc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,a=0,l=n;a<l.length;a++){var u=Ja(l[a],r.Lc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rL(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=qn.fromDate(n);return{timestampValue:$f(r.R,i)}}if(n instanceof qn)return i=new qn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:$f(r.R,i)};if(n instanceof ih)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ya)return{bytesValue:xL(r.R,n._byteString)};if(n instanceof yt){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Bc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Yx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Bc("Unsupported field value: "+Zv(n))}(t,e)}function h2(t,e){var n={};return BM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uf(t,function(r,i){var o=Ja(i,e.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function p2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof ih||t instanceof Ya||t instanceof yt||t instanceof Xa)}function MS(t,e,n){if(!p2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Zv(n);throw r==="an object"?e.Bc(t+" a custom object"):e.Bc(t+" "+r)}}function LS(t,e,n){if((e=me(e))instanceof to)return e._internalPath;if(typeof e=="string")return FS(t,e);throw ng("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _9=new RegExp("[~\\*/\\[\\]]");function FS(t,e,n){if(e.search(_9)>=0)throw ng("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(to.bind.apply(to,pe([void 0],e.split("."))))()._internalPath}catch(r){throw ng("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ng(t,e,n,r,i){var o=r&&!r.isEmpty(),a=i!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new q(U.INVALID_ARGUMENT,(l+=". ")+t+u)}function m2(t,e){return t.some(function(n){return n.isEqual(e)})}var oh=function(){function t(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new yt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new w9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(rg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),w9=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(oh);function rg(t,e){return typeof e=="string"?FS(t,e):e instanceof to?e._internalPath:e._delegate._internalPath}var Za=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Oo=function(t){function e(n,r,i,o,a,l){var u=this;return(u=t.call(this,n,r,i,o,l)||this)._firestore=n,u._firestoreImpl=n,u.metadata=a,u}return M(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(rg("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},e}(oh),sh=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Oo),Rs=function(){function t(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Za(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(i){e.call(n,new sh(r._firestore,r._userDataWriter,i.key,i,new Za(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(l){var u=new sh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Za(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var u=new sh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Za(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(f=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:E9(l.type),doc:u,oldIndex:d,newIndex:f}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function E9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}function v2(t,e){return t instanceof Oo&&e instanceof Oo?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Rs&&e instanceof Rs&&t._firestore===e._firestore&&r2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function g2(t){if(Dv(t)&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ah=function(){};function ks(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var x9=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).Wc=n,o.Gc=r,o.zc=i,o.type="where",o}return M(e,t),e.prototype._apply=function(n){var r=Qa(n.firestore),i=function(o,a,l,u,d,f,p){var v;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(U.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+f+"' queries on FieldPath.documentId().");if(f==="in"||f==="not-in"){x2(p,f);for(var g=[],b=0,_=p;b<_.length;b++){var E=_[b];g.push(E2(u,o,E))}v={arrayValue:{values:g}}}else v=E2(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||x2(p,f),v=f2(l,"where",p,f==="in"||f==="not-in");var x=Cr.create(d,f,v);return function(T,R){if(R.g()){var P=Hx(T);if(P!==null&&!P.isEqual(R.field))throw new q(U.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+R.field.toString()+"'");var L=Vx(T);L!==null&&S2(T,R.field,L)}var F=function(G,Y){for(var $=0,ze=G.filters;$<ze.length;$++){var O=ze[$];if(Y.indexOf(O.op)>=0)return O.op}return null}(T,function(G){switch(G){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(F!==null)throw F===R.op?new q(U.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+R.op.toString()+"' filter."):new q(U.INVALID_ARGUMENT,"Invalid query. You cannot use '"+R.op.toString()+"' filters with '"+F.toString()+"' filters.")}(o,x),x}(n._query,0,r,n.firestore._databaseId,this.Wc,this.Gc,this.zc);return new ur(n.firestore,n.converter,function(o,a){var l=o.filters.concat([a]);return new Ro(o.path,o.collectionGroup,o.explicitOrderBy.slice(),l,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(ah),S9=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Wc=n,i.Hc=r,i.type="orderBy",i}return M(e,t),e.prototype._apply=function(n){var r=function(i,o,a){if(i.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Wc(o,a);return function(u,d){if(Vx(u)===null){var f=Hx(u);f!==null&&S2(u,f,d.field)}}(i,l),l}(n._query,this.Wc,this.Hc);return new ur(n.firestore,n.converter,function(i,o){var a=i.explicitOrderBy.concat([o]);return new Ro(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},e}(ah),y2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Jc=r,o.Yc=i,o}return M(e,t),e.prototype._apply=function(n){return new ur(n.firestore,n.converter,JM(n._query,this.Jc,this.Yc))},e}(ah),b2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Xc=r,o.Zc=i,o}return M(e,t),e.prototype._apply=function(n){var r=w2(n,this.type,this.Xc,this.Zc);return new ur(n.firestore,n.converter,function(i,o){return new Ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},e}(ah),_2=function(t){function e(n,r,i){var o=this;return(o=t.call(this)||this).type=n,o.Xc=r,o.Zc=i,o}return M(e,t),e.prototype._apply=function(n){var r=w2(n,this.type,this.Xc,this.Zc);return new ur(n.firestore,n.converter,function(i,o){return new Ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},e}(ah);function w2(t,e,n,r){if(n[0]=me(n[0]),n[0]instanceof oh)return function(o,a,l,u,d){if(!u)throw new q(U.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var f=[],p=0,v=Kc(o);p<v.length;p++){var g=v[p];if(g.field.isKeyField())f.push(Cv(a,u.key));else{var b=u.data.field(g.field);if(Px(b))throw new q(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var _=g.field.canonicalString();throw new q(U.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+_+"' (used as the orderBy) does not exist.")}f.push(b)}}return new jf(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Qa(t.firestore);return function(o,a,l,u,d,f){var p=o.explicitOrderBy;if(d.length>p.length)throw new q(U.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],g=0;g<d.length;g++){var b=d[g];if(p[g].field.isKeyField()){if(typeof b!="string")throw new q(U.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof b);if(!jx(o)&&b.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+b+"' contains a slash.");var _=o.path.child(Fe.fromString(b));if(!se.isDocumentKey(_))throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+_+"' is not because it contains an odd number of segments.");var E=new se(_);v.push(Cv(a,E))}else{var x=f2(l,u,b);v.push(x)}}return new jf(v,f)}(t._query,t.firestore._databaseId,i,e,n,r)}function E2(t,e,n){if(typeof(n=me(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jx(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fe.fromString(n));if(!se.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cv(t,new se(r))}if(n instanceof yt)return Cv(t,n._key);throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zv(n)+".")}function x2(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new q(U.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function S2(t,e,n){if(!n.isEqual(e))throw new q(U.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var US=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}},t.prototype.convertObject=function(e,n){var r=this,i={};return Uf(e.fields||{},function(o,a){i[o]=r.convertValue(a,n)}),i},t.prototype.convertGeoPoint=function(e){return new ih(Bt(e.latitude),Bt(e.longitude))},t.prototype.convertArray=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.convertValue(i,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var r=HM(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bf(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=ys(e);return new qn(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var r=Fe.fromString(e);fe(LL(r));var i=new Jv(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||Ut("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},t}();function ig(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var T9=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return M(e,t),e.prototype.convertBytes=function(n){return new Ya(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new yt(this.firestore,null,r)},e}(US),C9=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qa(e)}return t.prototype.set=function(e,n,r){this._verifyNotCommitted();var i=Ds(e,this._firestore),o=ig(i.converter,n,r),a=tg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,An.none())),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,l=Ds(e,this._firestore);return a=typeof(n=me(n))=="string"||n instanceof to?PS(this._dataReader,"WriteBatch.update",l._key,n,r,i):OS(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,An.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ds(e,this._firestore);return this._mutations=this._mutations.concat(new Kf(n._key,An.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Ds(t,e){if((t=me(t)).firestore!==e)throw new q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var el=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return M(e,t),e.prototype.convertBytes=function(n){return new Ya(n)},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new yt(this.firestore,null,r)},e}(US);function T2(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ue(t,yt);var o=Ue(t.firestore,xt),a=Qa(o);return lh(o,[(typeof(e=me(e))=="string"||e instanceof to?PS(a,"updateDoc",t._key,e,n,r):OS(a,"updateDoc",t._key,e)).toMutation(t._key,An.exists(!0))])}function C2(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=me(t);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||mu(i[l])||(a=i[l],l++);var u,d,f,p={includeMetadataChanges:a.includeMetadataChanges};if(mu(i[l])){var v=i[l];i[l]=(e=v.next)===null||e===void 0?void 0:e.bind(v),i[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),i[l+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}if(t instanceof yt)d=Ue(t.firestore,xt),f=Gc(t._key.path),u={next:function(_){i[l]&&i[l](BS(d,t,_))},error:i[l+1],complete:i[l+2]};else{var g=Ue(t,ur);d=Ue(g.firestore,xt),f=g._query;var b=new el(d);u={next:function(_){i[l]&&i[l](new Rs(d,b,g,_))},error:i[l+1],complete:i[l+2]},g2(t._query)}return function(_,E,x,T){var R=this,P=new Xv(T),L=new yS(E,P,x);return _.asyncQueue.enqueueAndForget(function(){return N(R,void 0,void 0,function(){var F;return D(this,function(G){switch(G.label){case 0:return F=mS,[4,pu(_)];case 1:return[2,F.apply(void 0,[G.sent(),L])]}})})}),function(){P.Wo(),_.asyncQueue.enqueueAndForget(function(){return N(R,void 0,void 0,function(){var F;return D(this,function(G){switch(G.label){case 0:return F=vS,[4,pu(_)];case 1:return[2,F.apply(void 0,[G.sent(),L])]}})})})}}(on(d),f,p,u)}function lh(t,e){return function(n,r){var i=this,o=new Wn;return n.asyncQueue.enqueueAndForget(function(){return N(i,void 0,void 0,function(){var a;return D(this,function(l){switch(l.label){case 0:return a=BQ,[4,RS(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,o])]}})})}),o.promise}(on(t),e)}function BS(t,e,n){var r=n.docs.get(e._key),i=new el(t);return new Oo(t,i,e._key,r,new Za(n.hasPendingWrites,n.fromCache),e.converter)}var I9=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this)._firestore=n,i}return M(e,t),e.prototype.get=function(n){var r=this,i=Ds(n,this._firestore),o=new el(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Oo(r._firestore,o,i._key,a._document,new Za(!1,!1),i.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Qa(e)}return t.prototype.get=function(e){var n=this,r=Ds(e,this._firestore),i=new T9(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return oe();var a=o[0];if(a.isFoundDocument())return new oh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new oh(n._firestore,i,r._key,null,r.converter);throw oe()})},t.prototype.set=function(e,n,r){var i=Ds(e,this._firestore),o=ig(i.converter,n,r),a=tg(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this},t.prototype.update=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,l=Ds(e,this._firestore);return a=typeof(n=me(n))=="string"||n instanceof to?PS(this._dataReader,"Transaction.update",l._key,n,r,i):OS(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=Ds(e,this._firestore);return this._transaction.delete(n._key),this},t}());function I2(){if(typeof Uint8Array=="undefined")throw new q(U.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function A2(){if(typeof atob=="undefined")throw new q(U.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var VS=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return A2(),new t(Ya.fromBase64String(e))},t.fromUint8Array=function(e){return I2(),new t(Ya.fromUint8Array(e))},t.prototype.toBase64=function(){return A2(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return I2(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),R2=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){a2(r=Ue(r,xt));var o=on(r),a=r._freezeSettings(),l=new CS;return s2(o,l,new BF(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){a2(n=Ue(n,xt));var r=on(n),i=n._freezeSettings(),o=new CS;return s2(r,o,new t9(o,i.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new q(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Wn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return N(r,void 0,void 0,function(){var o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return N(this,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return eu.yt()?(u=l+"main",[4,eu.delete(u)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(iS(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return o=a.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(e._delegate)},t}(),ch=function(){function t(e,n,r){var i=this;this._delegate=n,this.ta=r,this.INTERNAL={delete:function(){return i.terminate()}},e instanceof Jv||(this.ea=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,r){r===void 0&&(r={}),function(i,o,a,l){l===void 0&&(l={});var u=(i=Ue(i,rh))._getSettings();if(u.host!=="firestore.googleapis.com"&&u.host!==o&&Sv("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},u),{host:o+":"+a,ssl:!1})),l.mockUserToken){var d=Gd(l.mockUserToken),f=l.mockUserToken.sub||l.mockUserToken.user_id;if(!f)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new a9(new $F(d,new cr(f)))}}(this._delegate,e,n,r)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,qF(e)];case 1:return r=o.sent(),[4,zF(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=X(a);return l.$r.delete(0),th(l)}(i))]}})})})}(on(Ue(this._delegate,xt)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return[4,qF(e)];case 1:return r=o.sent(),[4,zF(e)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(a){return N(this,void 0,void 0,function(){var l;return D(this,function(u){switch(u.label){case 0:return(l=X(a)).$r.add(0),[4,cu(l)];case 1:return u.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(on(Ue(this._delegate,xt)))},t.prototype.enablePersistence=function(e){var n=!1,r=!1;return e&&XF("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",r=!!e.experimentalForceOwningTab),n?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,r)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,r=new Wn;return e.asyncQueue.enqueueAndForget(function(){return N(n,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return i=qQ,[4,RS(e)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(on(Ue(this._delegate,xt)))},t.prototype.onSnapshotsInSync=function(e){return function(n,r){return function(i,o){var a=this,l=new Xv(o);return i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return u=function(f,p){X(f).Gr.add(p),p.next()},[4,pu(i)];case 1:return[2,u.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return u=function(f,p){X(f).Gr.delete(p)},[4,pu(i)];case 1:return[2,u.apply(void 0,[d.sent(),l])]}})})})}}(on(n=Ue(n,xt)),mu(r)?r:{next:r})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new uh(this,t2(this._delegate,e))}catch(n){throw Gn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Ns(this,eg(this._delegate,e))}catch(n){throw Gn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new yu(this,function(n,r){if(n=Ue(n,rh),kS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new q(U.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ur(n,null,function(i){return new Ro(Fe.emptyPath(),i)}(r))}(this._delegate,e))}catch(n){throw Gn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(r,i){return function(o,a){var l=this,u=new Wn;return o.asyncQueue.enqueueAndForget(function(){return N(l,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return[4,function(p){return Qv(p).then(function(v){return v.datastore})}(o)];case 1:return d=f.sent(),new i9(o.asyncQueue,d,a,u).run(),[2]}})})}),u.promise}(on(r),function(o){return i(new I9(r,o))})}(this._delegate,function(r){return e(new HS(n,r))})},t.prototype.batch=function(){var e=this;return on(this._delegate),new jS(new C9(this._delegate,function(n){return lh(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new q(U.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new q(U.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),og=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return M(e,t),e.prototype.convertBytes=function(n){return new VS(new Ya(n))},e.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ns.na(r,this.firestore,null)},e}(US);function k2(t){var e;e=t,wi.setLogLevel(e)}var HS=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new og(e)}return t.prototype.get=function(e){var n=this,r=tl(e);return this._delegate.get(r).then(function(i){return new vu(n._firestore,new Oo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},t.prototype.set=function(e,n,r){var i=tl(e);return r?(DS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=tl(e);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,pe([l,n,r],o)),this},t.prototype.delete=function(e){var n=tl(e);return this._delegate.delete(n),this},t}(),jS=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,r){var i=tl(e);return r?(DS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},t.prototype.update=function(e,n,r){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var l=tl(e);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,pe([l,n,r],o)),this},t.prototype.delete=function(e){var n=tl(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),sg=function(){function t(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}return t.prototype.fromFirestore=function(e,n){var r=new sh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gu(this._firestore,r),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new og(e),n),i.set(n,o)),o},t}();sg.ia=new WeakMap;var Ns=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new og(e)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new q(U.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new yt(n._delegate,r,new se(e)))},t.na=function(e,n,r){return new t(n,new yt(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new uh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new uh(this.firestore,t2(this._delegate,e))}catch(n){throw Gn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=me(e))instanceof yt&&n2(this._delegate,e)},t.prototype.set=function(e,n){n=DS("DocumentReference.set",n);try{return function(r,i,o){r=Ue(r,yt);var a=Ue(r.firestore,xt),l=ig(r.converter,i,o);return lh(a,[tg(Qa(a),"setDoc",r._key,l,r.converter!==null,o).toMutation(r._key,An.none())])}(this._delegate,e,n)}catch(r){throw Gn(r,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?T2(this._delegate,e):T2.apply(void 0,pe([this._delegate,e,n],r))}catch(o){throw Gn(o,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return lh(Ue((e=this._delegate).firestore,xt),[new Kf(e._key,An.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=D2(n),o=N2(n,function(a){return new vu(e.firestore,new Oo(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return C2(this._delegate,i,o)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Ue(r,yt);var i=Ue(r.firestore,xt),o=on(i),a=new el(i);return function(l,u){var d=this,f=new Wn;return l.asyncQueue.enqueueAndForget(function(){return N(d,void 0,void 0,function(){var p;return D(this,function(v){switch(v.label){case 0:return p=function(g,b,_){return N(this,void 0,void 0,function(){var E,x;return D(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(R,P){var L=X(R);return L.persistence.runTransaction("read document","readonly",function(F){return L.Mn.mn(F,P)})}(g,b)];case 1:return(x=T.sent()).isFoundDocument()?_.resolve(x):x.isNoDocument()?_.resolve(null):_.reject(new q(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=T.sent(),x=fu(E,"Failed to get document '"+b+" from cache"),_.reject(x),[3,3];case 3:return[2]}})})},[4,AS(l)];case 1:return[2,p.apply(void 0,[v.sent(),u,f])]}})})}),f.promise}(o,r._key).then(function(l){return new Oo(i,a,r._key,l,new Za(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Ue(r,yt);var i=Ue(r.firestore,xt);return WF(on(i),r._key,{source:"server"}).then(function(o){return BS(i,r,o)})}(this._delegate):function(r){r=Ue(r,yt);var i=Ue(r.firestore,xt);return WF(on(i),r._key).then(function(o){return BS(i,r,o)})}(this._delegate)).then(function(r){return new vu(n.firestore,new Oo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sg.sa(this.firestore,e)):this._delegate.withConverter(null))},t}();function Gn(t,e,n){return t.message=t.message.replace(e,n),t}function D2(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!mu(r))return r}return{}}function N2(t,e){var n,r,i;return{next:function(o){i.next&&i.next(e(o))},error:(n=(i=mu(t[0])?t[0]:mu(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var vu=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ns(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return v2(this._delegate,e._delegate)},t}(),gu=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return M(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(vu),yu=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new og(e)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,ks(this._delegate,function(i,o,a){var l=o,u=rg("where",i);return new x9(u,l,a)}(e,n,r)))}catch(i){throw Gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ks(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,a=rg("orderBy",r);return new S9(a,o)}(e,n)))}catch(r){throw Gn(r,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ks(this._delegate,function(n){return ZF("limit",n),new y2("limit",n,"F")}(e)))}catch(n){throw Gn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ks(this._delegate,function(n){return ZF("limitToLast",n),new y2("limitToLast",n,"L")}(e)))}catch(n){throw Gn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ks(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new b2("startAt",r,!0)}.apply(void 0,e)))}catch(r){throw Gn(r,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ks(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new b2("startAfter",r,!1)}.apply(void 0,e)))}catch(r){throw Gn(r,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ks(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new _2("endBefore",r,!0)}.apply(void 0,e)))}catch(r){throw Gn(r,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ks(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new _2("endAt",r,!1)}.apply(void 0,e)))}catch(r){throw Gn(r,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return r2(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(r){r=Ue(r,ur);var i=Ue(r.firestore,xt),o=on(i),a=new el(i);return function(l,u){var d=this,f=new Wn;return l.asyncQueue.enqueueAndForget(function(){return N(d,void 0,void 0,function(){var p;return D(this,function(v){switch(v.label){case 0:return p=function(g,b,_){return N(this,void 0,void 0,function(){var E,x,T,R,P;return D(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,Wv(g,b,!0)];case 1:return P=L.sent(),E=new NF(b,P.Bn),x=E._o(P.documents),T=E.applyChanges(x,!1),_.resolve(T.snapshot),[3,3];case 2:return R=L.sent(),P=fu(R,"Failed to execute query '"+b+" against cache"),_.reject(P),[3,3];case 3:return[2]}})})},[4,AS(l)];case 1:return[2,p.apply(void 0,[v.sent(),u,f])]}})})}),f.promise}(o,r._query).then(function(l){return new Rs(i,a,r,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(r){r=Ue(r,ur);var i=Ue(r.firestore,xt),o=on(i),a=new el(i);return GF(o,r._query,{source:"server"}).then(function(l){return new Rs(i,a,r,l)})}(this._delegate):function(r){r=Ue(r,ur);var i=Ue(r.firestore,xt),o=on(i),a=new el(i);return g2(r._query),GF(o,r._query).then(function(l){return new Rs(i,a,r,l)})}(this._delegate)).then(function(r){return new ag(n.firestore,new Rs(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=D2(n),o=N2(n,function(a){return new ag(e.firestore,new Rs(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return C2(this._delegate,i,o)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sg.sa(this.firestore,e)):this._delegate.withConverter(null))},t}(),A9=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new gu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ag=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new yu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new gu(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(r){return new A9(n._firestore,r)})},t.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(i){e.call(n,new gu(r._firestore,i))})},t.prototype.isEqual=function(e){return v2(this._delegate,e._delegate)},t}(),uh=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i._delegate=r,i}return M(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ns(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Ns(this.firestore,n===void 0?eg(this._delegate):eg(this._delegate,n))}catch(r){throw Gn(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,o){var a=Ue(i.firestore,xt),l=eg(i),u=ig(i.converter,o);return lh(a,[tg(Qa(i.firestore),"addDoc",l._key,u,i.converter!==null,{}).toMutation(l._key,An.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Ns(r.firestore,i)})},e.prototype.isEqual=function(n){return n2(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(sg.sa(this.firestore,n)):this._delegate.withConverter(null))},e}(yu);function tl(t){return Ue(t,yt)}var O2=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(to.bind.apply(to,pe([void 0],e)))}return t.documentId=function(){return new t(Kr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=me(e))instanceof to&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),P2=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new v9("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new NS("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new g9("arrayUnion",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new y9("arrayRemove",i)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(r){return new b9("increment",r)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}();function M2(t){return function(e,n){var r=on(e=Ue(e,xt)),i=new f9;return function(o,a,l,u){var d=this,f=function(p,v){return function(g,b){return new n9(g,b)}(function(g,b){if(g instanceof Uint8Array)return VF(g,b);if(g instanceof ArrayBuffer)return VF(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof p=="string"?new TextEncoder().encode(p):p),v)}(l,eh(a));o.asyncQueue.enqueueAndForget(function(){return N(d,void 0,void 0,function(){var p;return D(this,function(v){switch(v.label){case 0:return p=e9,[4,RS(o)];case 1:return p.apply(void 0,[v.sent(),f,u]),[2]}})})})}(r,e._databaseId,n,i),i}(this._delegate,t)}function L2(t){var e,n,r=this;return(e=this._delegate,n=t,function(i,o){var a=this;return i.asyncQueue.enqueue(function(){return N(a,void 0,void 0,function(){var l;return D(this,function(u){switch(u.label){case 0:return l=function(d,f){var p=X(d);return p.persistence.runTransaction("Get named query","readonly",function(v){return p.Qe.getNamedQuery(v,f)})},[4,AS(i)];case 1:return[2,l.apply(void 0,[u.sent(),o])]}})})})}(on(e=Ue(e,xt)),n).then(function(i){return i?new ur(e,null,i.query):null})).then(function(i){return i?new yu(r,i):null})}jr();var R9={Firestore:ch,GeoPoint:ih,Timestamp:qn,Blob:VS,Transaction:HS,WriteBatch:jS,DocumentReference:Ns,DocumentSnapshot:vu,Query:yu,QueryDocumentSnapshot:gu,QuerySnapshot:ag,CollectionReference:uh,FieldPath:O2,FieldValue:P2,setLogLevel:k2,CACHE_SIZE_UNLIMITED:i2};function k9(t){(function(e,n){e.INTERNAL.registerComponent(new it("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},R9)))})(t,function(e,n){return new ch(e,new xt(e,n),new R2)}),t.registerVersion("@firebase/firestore","2.3.1")}k9(Q);or();var Ehe=Vr(zi());re();function D9(t){t.prototype.loadBundle=M2,t.prototype.namedQuery=L2}D9(ch);sr();re();jr();var F2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bu=function(t){M(e,t);function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return e}(Error);function N9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function O9(t,e,n){var r=N9(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var l=a.status;if(typeof l=="string"){if(!F2[l])return new bu("internal","internal");r=F2[l],i=l}var u=a.message;typeof u=="string"&&(i=u),o=a.details,o!==void 0&&(o=n.decode(o))}}catch(d){}return r==="ok"?null:new bu(r,i,o)}var P9=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:if(!this.auth)return[2,void 0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=r.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n=r.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,n.sent()];case 3:return e=n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();var M9="type.googleapis.com/google.protobuf.Int64Value",L9="type.googleapis.com/google.protobuf.UInt64Value";function U2(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var F9=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return U2(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case M9:case L9:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?U2(e,function(i){return n.decode(i)}):e},t}();function U9(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new bu("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var B2=function(){function t(e,n,r,i,o,a){var l=this;o===void 0&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new F9,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new P9(n,r),this.cancelAllRequests=new Promise(function(d){l.deleteService=function(){return d()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(d){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=d.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return o=d.sent(),[3,5];case 4:return a=d.sent(),[2,{status:0,json:null}];case 5:l=null,d.label=6;case 6:return d.trys.push([6,8,,9]),[4,o.json()];case 7:return l=d.sent(),[3,9];case 8:return u=d.sent(),[3,9];case 9:return[2,{status:o.status,json:l}]}})})},t.prototype.getAppCheckToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=this.appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype.call=function(e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p,v,g,b,_;return D(this,function(E){switch(E.label){case 0:return i=this._url(e),n=this.serializer.encode(n),o={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=E.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),u=r.timeout||7e4,d=U9(u),f=d.timer,p=d.promise,[4,Promise.race([V2(f,this.postJSON(i,o,a)),p,V2(f,this.cancelAllRequests)])];case 2:if(v=E.sent(),!v)throw new bu("cancelled","Firebase Functions instance was deleted.");if(g=O9(v.status,v.json,this.serializer),g)throw g;if(!v.json)throw new bu("internal","Response is not valid JSON object.");if(b=v.json.data,typeof b=="undefined"&&(b=v.json.result),typeof b=="undefined")throw new bu("internal","Response is missing data field.");return _=this.serializer.decode(b),[2,{data:_}]}})})},t}();function V2(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}var B9="functions";function V9(t,e){var n={Functions:B2};function r(i,o){var a=o.instanceIdentifier,l=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),d=i.getProvider("app-check-internal"),f=i.getProvider("messaging");return new B2(l,u,f,d,a,e)}t.INTERNAL.registerComponent(new it(B9,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var H9="@firebase/functions",j9="0.6.9";V9(Q,fetch.bind(self));Q.registerVersion(H9,j9);sr();jr();re();or();var j2=Vr(qS()),q9="@firebase/installations",q2="0.4.26";var z2=1e4,W2="w:"+q2,G2="FIS_v2",z9="https://firebaseinstallations.googleapis.com/v1",W9=60*60*1e3,G9="installations",K9="Installations";var Os,$9=(Os={},Os["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Os["not-registered"]="Firebase Installation is not registered.",Os["installation-not-found"]="Firebase Installation not found.",Os["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Os["app-offline"]="Could not process request. Application offline.",Os["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Os),Po=new Fn(G9,K9,$9);function K2(t){return t instanceof mi&&t.code.includes("request-failed")}function zS(t){var e=t.projectId;return z9+"/projects/"+e+"/installations"}function $2(t){return{token:t.token,requestStatus:2,expiresIn:Y9(t.expiresIn),creationTime:Date.now()}}function WS(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Po.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function Y2(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function X2(t,e){var n=e.refreshToken,r=Y2(t);return r.append("Authorization",X9(n)),r}function GS(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Y9(t){return Number(t.replace("s","000"))}function X9(t){return G2+" "+t}function Q9(t,e){var n=e.fid;return N(this,void 0,void 0,function(){var r,i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return r=zS(t),i=Y2(t),o={fid:n,authVersion:G2,appId:t.appId,sdkVersion:W2},a={method:"POST",headers:i,body:JSON.stringify(o)},[4,GS(function(){return fetch(r,a)})];case 1:return l=f.sent(),l.ok?[4,l.json()]:[3,3];case 2:return u=f.sent(),d={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:$2(u.authToken)},[2,d];case 3:return[4,WS("Create Installation",l)];case 4:throw f.sent()}})})}function Q2(t){return new Promise(function(e){setTimeout(e,t)})}function J9(t){var e=btoa(String.fromCharCode.apply(String,pe([],Dt(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}var Z9=/^[cdef][\w-]{21}$/,KS="";function eJ(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=tJ(t);return Z9.test(n)?n:KS}catch(r){return KS}}function tJ(t){var e=J9(t);return e.substr(0,22)}function _u(t){return t.appName+"!"+t.appId}var wu=new Map;function J2(t,e){var n=_u(t);Z2(n,e),iJ(n,e)}function nJ(t,e){eU();var n=_u(t),r=wu.get(n);r||(r=new Set,wu.set(n,r)),r.add(e)}function rJ(t,e){var n=_u(t),r=wu.get(n);!r||(r.delete(e),r.size===0&&wu.delete(n),tU())}function Z2(t,e){var n,r,i=wu.get(t);if(!!i)try{for(var o=ut(i),a=o.next();!a.done;a=o.next()){var l=a.value;l(e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function iJ(t,e){var n=eU();n&&n.postMessage({key:t,fid:e}),tU()}var nl=null;function eU(){return!nl&&"BroadcastChannel"in self&&(nl=new BroadcastChannel("[Firebase] FID Change"),nl.onmessage=function(t){Z2(t.data.key,t.data.fid)}),nl}function tU(){wu.size===0&&nl&&(nl.close(),nl=null)}var oJ="firebase-installations-database",sJ=1,rl="firebase-installations-store",$S=null;function YS(){return $S||($S=(0,j2.openDb)(oJ,sJ,function(t){switch(t.oldVersion){case 0:t.createObjectStore(rl)}})),$S}function cg(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:return n=_u(t),[4,YS()];case 1:return r=l.sent(),i=r.transaction(rl,"readwrite"),o=i.objectStore(rl),[4,o.get(n)];case 2:return a=l.sent(),[4,o.put(e,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==e.fid)&&J2(t,e.fid),[2,e]}})})}function XS(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return e=_u(t),[4,YS()];case 1:return n=i.sent(),r=n.transaction(rl,"readwrite"),[4,r.objectStore(rl).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function dh(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return n=_u(t),[4,YS()];case 1:return r=u.sent(),i=r.transaction(rl,"readwrite"),o=i.objectStore(rl),[4,o.get(n)];case 2:return a=u.sent(),l=e(a),l!==void 0?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(l,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),l&&(!a||a.fid!==l.fid)&&J2(t,l.fid),[2,l]}})})}function QS(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return[4,dh(t,function(o){var a=aJ(o),l=lJ(t,a);return e=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==KS?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function aJ(t){var e=t||{fid:eJ(),registrationStatus:0};return rU(e)}function lJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Po.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=cJ(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uJ(t)}:{installationEntry:e}}function cJ(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Q9(t,e)];case 1:return n=i.sent(),[2,cg(t,n)];case 2:return r=i.sent(),K2(r)&&r.customData.serverCode===409?[4,XS(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,cg(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function uJ(t){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,nU(t)];case 1:e=o.sent(),o.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,Q2(100)];case 3:return o.sent(),[4,nU(t)];case 4:return e=o.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,QS(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function nU(t){return dh(t,function(e){if(!e)throw Po.create("installation-not-found");return rU(e)})}function rU(t){return dJ(t)?{fid:t.fid,registrationStatus:0}:t}function dJ(t){return t.registrationStatus===1&&t.registrationTime+z2<Date.now()}function fJ(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p;return D(this,function(v){switch(v.label){case 0:return i=hJ(n,e),o=X2(n,e),a=r.getImmediate({optional:!0}),a&&o.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:W2}},u={method:"POST",headers:o,body:JSON.stringify(l)},[4,GS(function(){return fetch(i,u)})];case 1:return d=v.sent(),d.ok?[4,d.json()]:[3,3];case 2:return f=v.sent(),p=$2(f),[2,p];case 3:return[4,WS("Generate Auth Token",d)];case 4:throw v.sent()}})})}function hJ(t,e){var n=e.fid;return zS(t)+"/"+n+"/authTokens:generate"}function JS(t,e){return e===void 0&&(e=!1),N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return[4,dh(t.appConfig,function(l){if(!oU(l))throw Po.create("not-registered");var u=l.authToken;if(!e&&vJ(u))return l;if(u.requestStatus===1)return n=pJ(t,e),l;if(!navigator.onLine)throw Po.create("app-offline");var d=yJ(l);return n=mJ(t,d),d})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}})})}function pJ(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,iU(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,Q2(100)];case 3:return i.sent(),[4,iU(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,JS(t,e)]:[2,r]}})})}function iU(t){return dh(t,function(e){if(!oU(e))throw Po.create("not-registered");var n=e.authToken;return bJ(n)?C(C({},e),{authToken:{requestStatus:0}}):e})}function mJ(t,e){return N(this,void 0,void 0,function(){var n,r,i,r;return D(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,fJ(t,e)];case 1:return n=o.sent(),r=C(C({},e),{authToken:n}),[4,cg(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return i=o.sent(),K2(i)&&(i.customData.serverCode===401||i.customData.serverCode===404)?[4,XS(t.appConfig)]:[3,5];case 4:return o.sent(),[3,7];case 5:return r=C(C({},e),{authToken:{requestStatus:0}}),[4,cg(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}function oU(t){return t!==void 0&&t.registrationStatus===2}function vJ(t){return t.requestStatus===2&&!gJ(t)}function gJ(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W9}function yJ(t){var e={requestStatus:1,requestTime:Date.now()};return C(C({},t),{authToken:e})}function bJ(t){return t.requestStatus===1&&t.requestTime+z2<Date.now()}function _J(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return[4,QS(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):JS(t).catch(console.error),[2,n.fid]}})})}function wJ(t,e){return e===void 0&&(e=!1),N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,EJ(t.appConfig)];case 1:return r.sent(),[4,JS(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function EJ(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return[4,QS(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function xJ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=SJ(t,e),r=X2(t,e),i={method:"DELETE",headers:r},[4,GS(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,WS("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function SJ(t,e){var n=e.fid;return zS(t)+"/"+n}function TJ(t){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,dh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Po.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Po.create("app-offline");case 3:return[4,xJ(e,n)];case 4:return r.sent(),[4,XS(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function CJ(t,e){var n=t.appConfig;return nJ(n,e),function(){rJ(n,e)}}function IJ(t){var e,n;if(!t||!t.options)throw ZS("App Configuration");if(!t.name)throw ZS("App Name");var r=["projectId","apiKey","appId"];try{for(var i=ut(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw ZS(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ZS(t){return Po.create("missing-app-config-values",{valueName:t})}function AJ(t){var e="installations";t.INTERNAL.registerComponent(new it(e,function(n){var r=n.getProvider("app").getImmediate(),i=IJ(r),o=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:o},l={app:r,getId:function(){return _J(a)},getToken:function(u){return wJ(a,u)},delete:function(){return TJ(a)},onIdChange:function(u){return CJ(a,u)}};return l},"PUBLIC")),t.registerVersion(q9,q2)}AJ(Q);jr();or();re();var il=Vr(qS());sr();var Xt,RJ=(Xt={},Xt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xt["only-available-in-window"]="This method is available in a Window context.",Xt["only-available-in-sw"]="This method is available in a service worker context.",Xt["permission-default"]="The notification permission was not granted and dismissed instead.",Xt["permission-blocked"]="The notification permission was not granted and blocked instead.",Xt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Xt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Xt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Xt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Xt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Xt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Xt["token-update-no-token"]="FCM returned no token when updating the user to push.",Xt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Xt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Xt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Xt["invalid-vapid-key"]="The public VAPID key must be a string.",Xt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Xt),Ke=new Fn("messaging","Messaging",RJ);var kJ="/firebase-messaging-sw.js",DJ="/firebase-cloud-messaging-push-scope",ug="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NJ="https://fcmregistrations.googleapis.com/v1",sU="FCM_MSG",OJ="FirebaseMessaging: ",PJ="google.c.a.e",aU="google.c.a.c_id",MJ="google.c.a.ts",LJ="google.c.a.c_l",FJ=1e3,UJ=3e3;var ol;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ol||(ol={}));function Mo(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,pe([],Dt(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function BJ(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}var eT="fcm_token_details_db",VJ=5,lU="fcm_token_object_Store";function HJ(t){return N(this,void 0,void 0,function(){var e,n,r,i,o=this;return D(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(l){return l.name}),!n.includes(eT))return[2,null];a.label=2;case 2:return r=null,[4,(0,il.openDb)(eT,VJ,function(l){return N(o,void 0,void 0,function(){var u,d,f,f,f,p;return D(this,function(v){switch(v.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(lU)?(u=l.transaction.objectStore(lU),[4,u.index("fcmSenderId").get(t)]):[2];case 1:return d=v.sent(),[4,u.clear()];case 2:if(v.sent(),!d)return[2];if(l.oldVersion===2){if(f=d,!f.auth||!f.p256dh||!f.endpoint)return[2];r={token:f.fcmToken,createTime:(p=f.createTime)!==null&&p!==void 0?p:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Mo(f.vapidKey)}}}else l.oldVersion===3?(f=d,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Mo(f.auth),p256dh:Mo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Mo(f.vapidKey)}}):l.oldVersion===4&&(f=d,r={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Mo(f.auth),p256dh:Mo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Mo(f.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,(0,il.deleteDb)(eT)];case 4:return a.sent(),[4,(0,il.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,il.deleteDb)("undefined")];case 6:return a.sent(),[2,jJ(r)?r:null]}})})}function jJ(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var qJ="firebase-messaging-database",zJ=1,sl="firebase-messaging-store",tT=null;function nT(){return tT||(tT=(0,il.openDb)(qJ,zJ,function(t){switch(t.oldVersion){case 0:t.createObjectStore(sl)}})),tT}function dg(t){return N(this,void 0,void 0,function(){var e,n,r,i;return D(this,function(o){switch(o.label){case 0:return e=iT(t),[4,nT()];case 1:return n=o.sent(),[4,n.transaction(sl).objectStore(sl).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,HJ(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,rT(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function rT(t,e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return n=iT(t),[4,nT()];case 1:return r=o.sent(),i=r.transaction(sl,"readwrite"),[4,i.objectStore(sl).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function WJ(t){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return e=iT(t),[4,nT()];case 1:return n=i.sent(),r=n.transaction(sl,"readwrite"),[4,r.objectStore(sl).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function iT(t){var e=t.appConfig;return e.appId}function GJ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return[4,sT(t)];case 1:n=d.sent(),r=uU(e),i={method:"POST",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(oT(t.appConfig),i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw l=d.sent(),Ke.create("token-subscribe-failed",{errorInfo:l});case 6:if(o.error)throw u=o.error.message,Ke.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw Ke.create("token-subscribe-no-token");return[2,o.token]}})})}function KJ(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:return[4,sT(t)];case 1:n=d.sent(),r=uU(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch(oT(t.appConfig)+"/"+e.token,i)];case 3:return a=d.sent(),[4,a.json()];case 4:return o=d.sent(),[3,6];case 5:throw l=d.sent(),Ke.create("token-update-failed",{errorInfo:l});case 6:if(o.error)throw u=o.error.message,Ke.create("token-update-failed",{errorInfo:u});if(!o.token)throw Ke.create("token-update-no-token");return[2,o.token]}})})}function cU(t,e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return[4,sT(t)];case 1:n=u.sent(),r={method:"DELETE",headers:n},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(oT(t.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw a=o.error.message,Ke.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=u.sent(),Ke.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function oT(t){var e=t.projectId;return NJ+"/projects/"+e+"/registrations"}function sT(t){var e=t.appConfig,n=t.installations;return N(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function uU(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==ug&&(o.web.applicationPubKey=i),o}var $J=7*24*60*60*1e3;function aT(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Ke.create("permission-blocked");return[4,XJ(e,n)];case 1:return r=l.sent(),[4,dg(t)];case 2:return i=l.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Mo(r.getKey("auth")),p256dh:Mo(r.getKey("p256dh"))},i?[3,3]:[2,dU(t,o)];case 3:if(QJ(i.subscriptionOptions,o))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,cU(t,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,dU(t,o)];case 8:return Date.now()>=i.createTime+$J?[2,YJ({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}})})}function fh(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,dg(t)];case 1:return n=i.sent(),n?[4,cU(t,n.token)]:[3,4];case 2:return i.sent(),[4,WJ(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function YJ(t,e,n){return N(this,void 0,void 0,function(){var r,i,o;return D(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,KJ(e,t)];case 1:return r=a.sent(),i=C(C({},t),{token:r,createTime:Date.now()}),[4,rT(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,fh(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function dU(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return[4,GJ(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,rT(t,r)];case 2:return i.sent(),[2,r.token]}})})}function XJ(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BJ(e)})]}})})}function QJ(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}function JJ(t){var e={from:t.from,collapseKey:t.collapse_key};return ZJ(e,t),eZ(e,t),tZ(e,t),e}function ZJ(t,e){if(!!e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function eZ(t,e){!e.data||(t.data=e.data)}function tZ(t,e){if(!!e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}function fU(t){return typeof t=="object"&&!!t&&aU in t}function hU(t){return new Promise(function(e){setTimeout(e,t)})}var nZ=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw Ke.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return N(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,dg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:ug,i.label=2;case 2:return[2,aT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return fh(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Ke.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Ke.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Ke.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw Ke.create("only-available-in-window")},t.prototype.onMessage=function(){throw Ke.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Ke.create("only-available-in-window")},t.prototype.onPush=function(e){return N(this,void 0,void 0,function(){var n,r,i,o;return D(this,function(a){switch(a.label){case 0:return n=iZ(e),n?[4,pU()]:(console.debug(OJ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),sZ(r)?[2,aZ(r,n)]:(i=!1,n.notification?[4,lZ(rZ(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(o=JJ(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,hU(FJ)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return N(this,void 0,void 0,function(){var i,o;return D(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,fh(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,dg(this.firebaseDependencies)];case 3:return o=a.sent(),[4,fh(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,aT(this.firebaseDependencies,self.registration,(r=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:ug)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return N(this,void 0,void 0,function(){var i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[sU],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),o=cZ(i),o?(a=new URL(o,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,oZ(a)]):[2];case 1:return u=d.sent(),u?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=d.sent(),[4,hU(UJ)];case 3:return d.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=d.sent(),d.label=6;case 6:return u?(i.messageType=ol.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,u.postMessage(i)]):[2]}})})},t}();function rZ(t){var e,n=C({},t.notification);return n.data=(e={},e[sU]=t,e),n}function iZ(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function oZ(t){return N(this,void 0,void 0,function(){var e,n,r,i,o,a,l;return D(this,function(u){switch(u.label){case 0:return[4,pU()];case 1:e=u.sent();try{for(n=ut(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(d){a={error:d}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function sZ(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function aZ(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=ol.PUSH_RECEIVED;try{for(var i=ut(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function pU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function lZ(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function cZ(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(fU(t.data)?self.location.origin:null)}var uZ=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===ol.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(fZ(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,fU(r)&&r[PJ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Ke.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,aT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ug),[2]})})},t.prototype.updateSwReg=function(e){return N(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&!!this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(kJ,{scope:DJ})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Ke.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,fh(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?Ke.create("permission-blocked"):Ke.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw Ke.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw Ke.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");if(this.swRegistration)throw Ke.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Ke.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Ke.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return N(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return r=dZ(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=o.sent(),i.logEvent(r,{message_id:n[aU],message_name:n[LJ],message_time:n[MJ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function dZ(t){switch(t){case ol.NOTIFICATION_CLICKED:return"notification_open";case ol.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fZ(t){return delete t.messageType,delete t.isFirebaseMessaging,t}function hZ(t){var e,n;if(!t||!t.options)throw lT("App Configuration Object");if(!t.name)throw lT("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=ut(r),a=o.next();!a.done;a=o.next()){var l=a.value;if(!i[l])throw lT(l)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function lT(t){return Ke.create("missing-app-config-values",{valueName:t})}var pZ="messaging";function mZ(t){var e=t.getProvider("app").getImmediate(),n=hZ(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!mU())throw Ke.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new nZ(o):new uZ(o)}var vZ={isSupported:mU};Q.INTERNAL.registerComponent(new it(pZ,mZ,"PUBLIC").setServiceProps(vZ));function mU(){return self&&"ServiceWorkerGlobalScope"in self?yZ():gZ()}function gZ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function yZ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}sr();re();or();jr();var vU="firebasestorage.googleapis.com",gU="storageBucket",bZ=2*60*1e3,_Z=10*60*1e3,Ht=function(t){M(e,t);function e(n,r){var i=t.call(this,cT(n),"Firebase Storage: "+r+" ("+cT(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return e.prototype._codeEquals=function(n){return cT(n)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(mi);function cT(t){return"storage/"+t}function uT(){var t="An unknown error occurred, please check the error payload for server response.";return new Ht("unknown",t)}function wZ(t){return new Ht("object-not-found","Object '"+t+"' does not exist.")}function EZ(t){return new Ht("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xZ(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht("unauthenticated",t)}function SZ(){return new Ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function TZ(t){return new Ht("unauthorized","User does not have permission to access '"+t+"'.")}function CZ(){return new Ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function yU(){return new Ht("canceled","User canceled the upload/download.")}function IZ(t){return new Ht("invalid-url","Invalid URL '"+t+"'.")}function AZ(t){return new Ht("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function RZ(){return new Ht("no-default-bucket","No default bucket found. Did you set the '"+gU+"' property when initializing the app?")}function bU(){return new Ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kZ(){return new Ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function DZ(){return new Ht("no-download-url","The given file does not have any download URLs.")}function al(t){return new Ht("invalid-argument",t)}function _U(){return new Ht("app-deleted","The Firebase app was deleted.")}function wU(t){return new Ht("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hh(t,e){return new Ht("invalid-format","String does not match format '"+t+"': "+e)}function fg(t){throw new Ht("internal-error","Internal error: "+t)}var Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},dT=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function EU(t,e){switch(t){case Xr.RAW:return new dT(xU(e));case Xr.BASE64:case Xr.BASE64URL:return new dT(SU(t,e));case Xr.DATA_URL:return new dT(OZ(e),PZ(e))}throw uT()}function xU(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)==55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)==56320;if(!i)e.push(239,191,189);else{var o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NZ(t){var e;try{e=decodeURIComponent(t)}catch(n){throw hh(Xr.DATA_URL,"Malformed data URL.")}return xU(e)}function SU(t,e){switch(t){case Xr.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw hh(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Xr.BASE64URL:{var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw hh(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(e)}catch(f){throw hh(t,"Invalid character found")}for(var u=new Uint8Array(l.length),d=0;d<l.length;d++)u[d]=l.charCodeAt(d);return u}var TU=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw hh(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=MZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function OZ(t){var e=new TU(t);return e.base64?SU(Xr.BASE64,e.rest):NZ(e.rest)}function PZ(t){var e=new TU(t);return e.contentType}function MZ(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}var LZ={STATE_CHANGED:"state_changed"},Kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fT(t){switch(t){case"running":case"pausing":case"canceling":return Kn.RUNNING;case"paused":return Kn.PAUSED;case"success":return Kn.SUCCESS;case"canceled":return Kn.CANCELED;case"error":return Kn.ERROR;default:return Kn.ERROR}}var ll;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ll||(ll={}));var FZ=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ll.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=ll.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=ll.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw fg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw fg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw fg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw fg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();var UZ=function(){function t(){}return t.prototype.createXhrIo=function(){return new FZ},t}();var Qr=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(r.path==="")return r;throw AZ(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function d($){$.path_=decodeURIComponent($.path)}for(var f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",g=new RegExp("^https?://"+p+"/"+f+"/b/"+i+"/o"+v,"i"),b={bucket:1,path:3},_=n===vU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp("^https?://"+_+"/"+i+"/"+E,"i"),T={bucket:1,path:2},R=[{regex:l,indices:u,postModify:o},{regex:g,indices:b,postModify:d},{regex:x,indices:T,postModify:d}],P=0;P<R.length;P++){var L=R[P],F=L.regex.exec(e);if(F){var G=F[L.indices.bucket],Y=F[L.indices.path];Y||(Y=""),r=new t(G,Y),L.postModify(r);break}}if(r==null)throw IZ(e);return r},t}(),BZ=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();function VZ(t,e,n){var r=1,i=null,o=!1,a=0;function l(){return a===2}var u=!1;function d(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(function(){i=null,t(p,l())},b)}function p(b){for(var _=[],E=1;E<arguments.length;E++)_[E-1]=arguments[E];if(!u){if(b){d.call.apply(d,pe([null,b],_));return}var x=l()||o;if(x){d.call.apply(d,pe([null,b],_));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}}var v=!1;function g(b){v||(v=!0,!u&&(i!==null?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),setTimeout(function(){o=!0,g(!0)},n),g}function HZ(t){t(!1)}function jZ(t){return t!==void 0}function qZ(t){return typeof t=="function"}function zZ(t){return typeof t=="object"&&!Array.isArray(t)}function hg(t){return typeof t=="string"||t instanceof String}function CU(t){return hT()&&t instanceof Blob}function hT(){return typeof Blob!="undefined"}function pT(t,e,n,r){if(r<e)throw al("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw al("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Ps(t,e){var n=e.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=e;return r==null&&(i="https://"+e),i+"/v0"+t}function IU(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var WZ=function(){function t(e,n,r,i,o,a,l,u,d,f,p){var v=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=u,this.progressCallback_=f,this.timeout_=d,this.pool_=p,this.promise_=new Promise(function(g,b){v.resolve_=g,v.reject_=b,v.start_()})}return t.prototype.start_=function(){var e=this;function n(i,o){if(o){i(!1,new pg(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function l(u){var d=u.loaded,f=u.lengthComputable?u.total:-1;e.progressCallback_!==null&&e.progressCallback_(d,f)}e.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(u){e.progressCallback_!==null&&u.removeUploadProgressListener(l),e.pendingXhr_=null,u=u;var d=u.getErrorCode()===ll.NO_ERROR,f=u.getStatus();if(!d||e.isRetryStatusCode_(f)){var p=u.getErrorCode()===ll.ABORT;i(!1,new pg(!1,null,p));return}var v=e.successCodes_.indexOf(f)!==-1;i(!0,new pg(v,u))})}function r(i,o){var a=e.resolve_,l=e.reject_,u=o.xhr;if(o.wasSuccessCode)try{var d=e.callback_(u,u.getResponseText());jZ(d)?a(d):a()}catch(p){l(p)}else if(u!==null){var f=uT();f.serverResponse=u.getResponseText(),e.errorCallback_?l(e.errorCallback_(u,f)):l(f)}else if(o.canceled){var f=e.appDelete_?_U():yU();l(f)}else{var f=CZ();l(f)}}this.canceled_?r(!1,new pg(!1,null,!0)):this.backoffId_=VZ(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HZ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||o},t}(),pg=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function GZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $Z(t,e){e&&(t["X-Firebase-GMPID"]=e)}function YZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function XZ(t,e,n,r,i,o){var a=IU(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return $Z(u,e),GZ(u,n),KZ(u,o),YZ(u,r),new WZ(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}function QZ(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function JZ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=QZ();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(hT())return new Blob(t);throw new Ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function ZZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}var mT=function(){function t(e,n){var r=0,i="";CU(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(CU(this.data_)){var r=this.data_,i=ZZ(r,e,n);return i===null?null:new t(i)}else{var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(hT()){var r=e.map(function(u){return u instanceof t?u.data_:u});return new t(JZ.apply(null,r))}else{var i=e.map(function(u){return hg(u)?EU(Xr.RAW,u).data:u.data_}),o=0;i.forEach(function(u){o+=u.byteLength});var a=new Uint8Array(o),l=0;return i.forEach(function(u){for(var d=0;d<u.length;d++)a[l++]=u[d]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();function vT(t){var e;try{e=JSON.parse(t)}catch(n){return null}return zZ(e)?e:null}function eee(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function tee(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function AU(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function nee(t,e){return e}var $n=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||nee}return t}(),mg=null;function ree(t){return!hg(t)||t.length<2?t:AU(t)}function vg(){if(mg)return mg;var t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));function e(o,a){return ree(a)}var n=new $n("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}var i=new $n("size");return i.xform=r,t.push(i),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),mg=t,mg}function iee(t,e){function n(){var r=t.bucket,i=t.fullPath,o=new Qr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function oee(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return iee(r,t),r}function RU(t,e,n){var r=vT(e);if(r===null)return null;var i=r;return oee(t,i,n)}function see(t,e,n){var r=vT(e);if(r===null||!hg(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var o=encodeURIComponent,a=i.split(","),l=a.map(function(u){var d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),v=Ps(p,n),g=IU({alt:"media",token:u});return v+g});return l[0]}function gT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var kU="prefixes",DU="items";function aee(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[kU])for(var i=0,o=n[kU];i<o.length;i++){var a=o[i],l=a.replace(/\/$/,""),u=t._makeStorageReference(new Qr(e,l));r.prefixes.push(u)}if(n[DU])for(var d=0,f=n[DU];d<f.length;d++){var p=f[d],u=t._makeStorageReference(new Qr(e,p.name));r.items.push(u)}return r}function lee(t,e,n){var r=vT(n);if(r===null)return null;var i=r;return aee(t,e,i)}var Lo=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();function no(t){if(!t)throw uT()}function gg(t,e){function n(r,i){var o=RU(t,i,e);return no(o!==null),o}return n}function cee(t,e){function n(r,i){var o=lee(t,e,i);return no(o!==null),o}return n}function uee(t,e){function n(r,i){var o=RU(t,i,e);return no(o!==null),see(o,i,t.host)}return n}function Eu(t){function e(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=SZ():i=xZ():n.getStatus()===402?i=EZ(t.bucket):n.getStatus()===403?i=TZ(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function yg(t){var e=Eu(t);function n(r,i){var o=e(r,i);return r.getStatus()===404&&(o=wZ(t.path)),o.serverResponse=i.serverResponse,o}return n}function NU(t,e,n){var r=e.fullServerUrl(),i=Ps(r,t.host),o="GET",a=t.maxOperationRetryTime,l=new Lo(i,o,gg(t,n),a);return l.errorHandler=yg(e),l}function dee(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=e.bucketOnlyServerUrl(),l=Ps(a,t.host),u="GET",d=t.maxOperationRetryTime,f=new Lo(l,u,cee(t,e.bucket),d);return f.urlParams=o,f.errorHandler=Eu(e),f}function fee(t,e,n){var r=e.fullServerUrl(),i=Ps(r,t.host),o="GET",a=t.maxOperationRetryTime,l=new Lo(i,o,uee(t,n),a);return l.errorHandler=yg(e),l}function hee(t,e,n,r){var i=e.fullServerUrl(),o=Ps(i,t.host),a="PATCH",l=gT(n,r),u={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,f=new Lo(o,a,gg(t,r),d);return f.headers=u,f.body=l,f.errorHandler=yg(e),f}function pee(t,e){var n=e.fullServerUrl(),r=Ps(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(u,d){}var l=new Lo(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=yg(e),l}function mee(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OU(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mee(null,e)),r}function vee(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var R="",P=0;P<2;P++)R=R+Math.random().toString().slice(2);return R}var u=l();a["Content-Type"]="multipart/related; boundary="+u;var d=OU(e,r,i),f=gT(d,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+u+"--",g=mT.getBlob(p,r,v);if(g===null)throw bU();var b={name:d.fullPath},_=Ps(o,t.host),E="POST",x=t.maxUploadRetryTime,T=new Lo(_,E,gg(t,n),x);return T.urlParams=b,T.headers=a,T.body=g.uploadData(),T.errorHandler=Eu(e),T}var bg=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function yT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){no(!1)}var r=e||["active"];return no(!!n&&r.indexOf(n)!==-1),n}function gee(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=OU(e,r,i),l={name:a.fullPath},u=Ps(o,t.host),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=gT(a,n),v=t.maxUploadRetryTime;function g(_){yT(_);var E;try{E=_.getResponseHeader("X-Goog-Upload-URL")}catch(x){no(!1)}return no(hg(E)),E}var b=new Lo(u,d,g,v);return b.urlParams=l,b.headers=f,b.body=p,b.errorHandler=Eu(e),b}function yee(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(d){var f=yT(d,["active","final"]),p=null;try{p=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch(g){no(!1)}p||no(!1);var v=Number(p);return no(!isNaN(v)),new bg(v,r.size(),f==="final")}var a="POST",l=t.maxUploadRetryTime,u=new Lo(n,a,o,l);return u.headers=i,u.errorHandler=Eu(e),u}var PU=256*1024;function bee(t,e,n,r,i,o,a,l){var u=new bg(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw kZ();var d=u.total-u.current,f=d;i>0&&(f=Math.min(f,i));var p=u.current,v=p+f,g=f===d?"upload, finalize":"upload",b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":u.current},_=r.slice(p,v);if(_===null)throw bU();function E(P,L){var F=yT(P,["active","final"]),G=u.current+f,Y=r.size(),$;return F==="final"?$=gg(e,o)(P,L):$=null,new bg(G,Y,F==="final",$)}var x="POST",T=e.maxUploadRetryTime,R=new Lo(n,x,E,T);return R.headers=b,R.body=_.uploadData(),R.progressCallback=l||null,R.errorHandler=Eu(t),R}var _ee=function(){function t(e,n,r){var i=qZ(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}return t}();function xu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var MU=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=vg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(o){i._request=void 0,i._chunkMultiplier=1,o._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=o,i._transition("error"))},this._metadataErrorHandler=function(o){i._request=void 0,o._codeEquals("canceled")?i.completeTransitions_():(i._error=o,i._transition("error"))},this._promise=new Promise(function(o,a){i._resolve=o,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],o=r[1];switch(n._state){case"running":e(i,o);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n,r){var i=gee(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._uploadUrl=a,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r,i){var o=yee(e._ref.storage,e._ref._location,n,e._blob),a=e._ref.storage._makeRequest(o,r,i);e._request=a,a.getPromise().then(function(l){l=l,e._request=void 0,e._updateProgress(l.current),e._needToFetchStatus=!1,l.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=PU*this._chunkMultiplier,r=new bg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(o,a){var l;try{l=bee(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(d){e._error=d,e._transition("error");return}var u=e._ref.storage._makeRequest(l,o,a);e._request=u,u.getPromise().then(function(d){e._increaseMultiplier(),e._request=void 0,e._updateProgress(d.current),d.finalized?(e._metadata=d.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=PU*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n,r){var i=NU(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._transition("success")},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n,r){var i=vee(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(a){e._request=void 0,e._metadata=a,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=yU(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=fT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var o=this,a=new _ee(n,r,i);return this._addObserver(a),function(){o._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(fT(this._state)){case Kn.SUCCESS:xu(this._resolve.bind(null,this.snapshot))();break;case Kn.CANCELED:case Kn.ERROR:var n=this._reject;xu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=fT(this._state);switch(n){case Kn.RUNNING:case Kn.PAUSED:e.next&&xu(e.next.bind(e,this.snapshot))();break;case Kn.SUCCESS:e.complete&&xu(e.complete.bind(e))();break;case Kn.CANCELED:case Kn.ERROR:e.error&&xu(e.error.bind(e,this._error))();break;default:e.error&&xu(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e},t.prototype.pause=function(){var e=this._state==="running";return e&&this._transition("pausing"),e},t.prototype.cancel=function(){var e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e},t}();var _g=function(){function t(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return AU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=eee(this._location.path);if(e===null)return null;var n=new Qr(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw wU(e)},t}();function wee(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new MU(t,new mT(e),n)}function Eee(t){var e={prefixes:[],items:[]};return LU(t,e).then(function(){return e})}function LU(t,e,n){return N(this,void 0,void 0,function(){var r,i,o,a;return D(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,FU(t,r)];case 1:return i=l.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,LU(t,e,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function FU(t,e){return N(this,void 0,void 0,function(){var n,r;return D(this,function(i){switch(i.label){case 0:return e!=null&&typeof e.maxResults=="number"&&pT("options.maxResults",1,1e3,e.maxResults),n=e||{},r=dee(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function xee(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=NU(t.storage,t._location,vg()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function See(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=hee(t.storage,t._location,e,vg()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Tee(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=fee(t.storage,t._location,vg()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw DZ();return r})]}})})}function Cee(t){return N(this,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=pee(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}function UU(t,e){var n=tee(t._location.path,e),r=new Qr(t._location.bucket,n);return new _g(t.storage,r)}function bT(t){return/^[A-Za-z]+:\/\//.test(t)}function Iee(t,e){return new _g(t,e)}function BU(t,e){if(t instanceof wg){var n=t;if(n._bucket==null)throw RZ();var r=new _g(n,n._bucket);return e!=null?BU(r,e):r}else if(e!==void 0){if(e.includes(".."))throw al('`path` param cannot contain ".."');return UU(t,e)}else return t}function Aee(t,e){if(e&&bT(e)){if(t instanceof wg)return Iee(t,e);throw al("To use ref(service, url), the first argument must be a Storage instance.")}else return BU(t,e)}function VU(t,e){var n=e==null?void 0:e[gU];return n==null?null:Qr.makeFromBucketSpec(n,t)}function Ree(t,e,n){t.host="http://"+e+":"+n}var wg=function(){function t(e,n,r,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=vU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bZ,this._maxUploadRetryTime=_Z,this._requests=new Set,o!=null?this._bucket=Qr.makeFromBucketSpec(o,this._host):this._bucket=VU(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=VU(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return N(this,void 0,void 0,function(){var e,n;return D(this,function(r){switch(r.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(e){return new _g(this,e)},t.prototype._makeRequest=function(e,n,r){var i=this;if(this._deleted)return new BZ(_U());var o=XZ(e,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return i._requests.delete(o)},function(){return i._requests.delete(o)}),o},t.prototype.makeRequestWithTokens=function(e){return N(this,void 0,void 0,function(){var n,r,i;return D(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=o.sent(),r=n[0],i=n[1],[2,this._makeRequest(e,r,i)]}})})},t}();function kee(t,e,n){return t=me(t),wee(t,e,n)}function Dee(t){return t=me(t),xee(t)}function Nee(t,e){return t=me(t),See(t,e)}function Oee(t,e){return t=me(t),FU(t,e)}function Pee(t){return t=me(t),Eee(t)}function Mee(t){return t=me(t),Tee(t)}function Lee(t){return t=me(t),Cee(t)}function HU(t,e){return t=me(t),Aee(t,e)}function Fee(t,e){return UU(t,e)}var Eg=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();var jU=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Eg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new Eg(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var o=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Eg(l,o,o._ref))}:a={next:n.next?function(l){return n.next(new Eg(l,o,o._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}(),qU=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new ph(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new ph(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();var ph=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Fee(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new jU(kee(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){n===void 0&&(n=Xr.RAW),this._throwIfRoot("putString");var i=EU(n,e),o=C({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new jU(new MU(this._delegate,new mT(i.data,!0),o),this)},t.prototype.listAll=function(){var e=this;return Pee(this._delegate).then(function(n){return new qU(n,e.storage)})},t.prototype.list=function(e){var n=this;return Oee(this._delegate,e||void 0).then(function(r){return new qU(r,n.storage)})},t.prototype.getMetadata=function(){return Dee(this._delegate)},t.prototype.updateMetadata=function(e){return Nee(this._delegate,e)},t.prototype.getDownloadURL=function(){return Mee(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Lee(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw wU(e)},t}();var Uee=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(bT(e))throw al("ref() expected a child path but got a URL, use refFromURL instead.");return new ph(HU(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!bT(e))throw al("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qr.makeFromUrl(e,this._delegate.host)}catch(n){throw al("refFromUrl() expected a valid full URL but got an invalid one.")}return new ph(HU(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t.prototype.useEmulator=function(e,n){Ree(this._delegate,e,n)},t}(),Bee="@firebase/storage",Vee="0.5.2";var Hee="storage";function jee(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=new Uee(r,new wg(r,i,o,new UZ,n,Q.SDK_VERSION));return a}function qee(t){var e={TaskState:Kn,TaskEvent:LZ,StringFormat:Xr,Storage:wg,Reference:ph};t.INTERNAL.registerComponent(new it(Hee,jee,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Bee,Vee)}qee(Q);sr();re();or();var xg=Vr(zi());jr();var zee="@firebase/performance",zU="0.4.12";var WU=zU,Wee="FB-PERF-TRACE-START",Gee="FB-PERF-TRACE-STOP",_T="FB-PERF-TRACE-MEASURE",GU="_wt_",KU="_fp",$U="_fcp",YU="_fid",XU="@firebase/performance/config",QU="@firebase/performance/configexpire",Kee="performance",JU="Performance";var vn,$ee=(vn={},vn["trace started"]="Trace {$traceName} was started before.",vn["trace stopped"]="Trace {$traceName} is not running.",vn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",vn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",vn["no window"]="Window is not available.",vn["no app id"]="App id is not available.",vn["no project id"]="Project id is not available.",vn["no api key"]="Api key is not available.",vn["invalid cc log"]="Attempted to queue invalid cc event",vn["FB not default"]="Performance can only start when Firebase app instance is the default one.",vn["RC response not ok"]="RC response is not ok",vn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",vn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",vn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",vn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",vn),Dn=new Fn(Kee,JU,$ee);var Fo=new xg.Logger(JU);Fo.logLevel=xg.LogLevel.INFO;var wT,ZU,Nn=function(){function t(e){if(this.window=e,!e)throw Dn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Fo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):gc()?!0:(Fo.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var o=0,a=i.getEntries();o<a.length;o++){var l=a[o];n(l)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return wT===void 0&&(wT=new t(ZU)),wT},t}();function Yee(t){ZU=t}function eB(t,e){var n=t.length-e.length;if(n<0||n>1)throw Dn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var ET,Qt=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=eB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=eB("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Dn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Dn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Dn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return ET===void 0&&(ET=new t),ET},t}();var tB;function Xee(){var t=Qt.getInstance().installationsService.getId();return t.then(function(e){tB=e}),t}function xT(){return tB}function Qee(){var t=Qt.getInstance().installationsService.getToken();return t.then(function(e){}),t}var Su;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Su||(Su={}));var Jee=["firebase_","google_","ga_"],Zee=new RegExp("^[a-zA-Z]\\w*$"),ete=40,tte=100;function nte(){var t=Nn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function nB(){var t=Nn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Su.VISIBLE;case"hidden":return Su.HIDDEN;default:return Su.UNKNOWN}}function rte(){var t=Nn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function ite(t){if(t.length===0||t.length>ete)return!1;var e=Jee.some(function(n){return t.startsWith(n)});return!e&&!!t.match(Zee)}function ote(t){return t.length!==0&&t.length<=tte}var ste="0.0.1",ate={loggingEnabled:!0},lte="FIREBASE_INSTALLATIONS_AUTH";function cte(t){var e=ute();return e?(rB(e),Promise.resolve()):hte(t).then(rB).then(function(n){return dte(n)},function(){})}function ute(){var t=Nn.getInstance().localStorage;if(!!t){var e=t.getItem(QU);if(!(!e||!pte(e))){var n=t.getItem(XU);if(!!n)try{var r=JSON.parse(n);return r}catch(i){return}}}}function dte(t){var e=Nn.getInstance().localStorage;!t||!e||(e.setItem(XU,JSON.stringify(t)),e.setItem(QU,String(Date.now()+Qt.getInstance().configTimeToLive*60*60*1e3)))}var fte="Could not fetch config, will use default configs";function hte(t){return Qee().then(function(e){var n=Qt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Qt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:lte+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Qt.getInstance().getAppId(),app_version:WU,sdk_version:ste})});return fetch(i).then(function(o){if(o.ok)return o.json();throw Dn.create("RC response not ok")})}).catch(function(){Fo.info(fte)})}function rB(t){if(!t)return t;var e=Qt.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=ate.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=iB(e.tracesSamplingRate),e.logNetworkAfterSampling=iB(e.networkRequestsSamplingRate),t}function pte(t){return Number(t)>Date.now()}function iB(t){return Math.random()<=t}var ST=1,TT;function oB(){return ST=2,TT=TT||vte(),TT}function mte(){return ST===3}function vte(){return gte().then(function(){return Xee()}).then(function(t){return cte(t)}).then(function(){return sB()},function(){return sB()})}function gte(){var t=Nn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function sB(){ST=3}var CT=10*1e3,yte=5.5*1e3,aB=3,bte=1e3,Sg=aB,Ms=[],lB=!1;function _te(){lB||(Tg(yte),lB=!0)}function Tg(t){setTimeout(function(){if(Sg!==0){if(!Ms.length)return Tg(CT);wte()}},t)}function wte(){var t=Ms.splice(0,bte),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Qt.getInstance().logSource,log_event:e};Ete(n,t).catch(function(){Ms=pe(pe([],t),Ms),Sg--,Fo.info("Tries left: "+Sg+"."),Tg(CT)})}function Ete(t,e){return xte(t).then(function(n){return n.ok||Fo.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=CT;isNaN(r)||(i=Math.max(r,i));var o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(Ms=pe(pe([],e),Ms),Fo.info("Retry transport request later.")),Sg=aB,Tg(i)})}function xte(t){var e=Qt.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Ste(t){if(!t.eventTime||!t.message)throw Dn.create("invalid cc log");Ms=pe(pe([],Ms),[t])}function Tte(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Ste({message:r,eventTime:Date.now()})}}var IT;function cB(t,e){IT||(IT=Tte(Ite)),IT(t,e)}function Cg(t){var e=Qt.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!Nn.getInstance().requiredApisAvailable()||t.isAuto&&nB()!==Su.VISIBLE||(mte()?AT(t):oB().then(function(){return AT(t)},function(){return AT(t)}))}function AT(t){if(!!xT()){var e=Qt.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return cB(t,1)},0)}}function Cte(t){var e=Qt.getInstance();if(!!e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return cB(t,0)},0)}}function Ite(t,e){return e===0?Ate(t):Rte(t)}function Ate(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:uB(),network_request_metric:e};return JSON.stringify(n)}function Rte(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:uB(),trace_metric:e};return JSON.stringify(r)}function uB(){return{google_app_id:Qt.getInstance().getAppId(),app_instance_id:xT(),web_app_info:{sdk_version:WU,page_url:Nn.getInstance().getUrl(),service_worker_status:nte(),visibility_state:nB(),effective_connection_type:rte()},application_process_state:0}}var kte=100,Dte="_",Nte=[KU,$U,YU];function Ote(t,e){return t.length===0||t.length>kte?!1:e&&e.startsWith(GU)&&Nte.indexOf(t)>-1||!t.startsWith(Dte)}function Pte(t){var e=Math.floor(t);return e<t&&Fo.info("Metric value should be an Integer, setting the value as : "+e+"."),e}var mh=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Nn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Wee+"-"+this.randomId+"-"+this.name,this.traceStopMark=Gee+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||_T+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw Dn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw Dn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Cg(this)},t.prototype.record=function(e,n,r){if(e<=0)throw Dn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Dn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=C({},r.attributes)),r&&r.metrics)for(var i=0,o=Object.keys(r.metrics);i<o.length;i++){var a=o[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Cg(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(Ote(e,this.name))this.counters[e]=Pte(n);else throw Dn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=ite(e),i=ote(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw Dn.create("invalid attribute name",{attributeName:e});if(!i)throw Dn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return C({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=Nn.getInstance().getUrl();if(!!i){var o=new t(GU+i,!0),a=Math.floor(Nn.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(e[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var l="first-paint",u="first-contentful-paint";if(n){var d=n.find(function(p){return p.name===l});d&&d.startTime&&o.putMetric(KU,Math.floor(d.startTime*1e3));var f=n.find(function(p){return p.name===u});f&&f.startTime&&o.putMetric($U,Math.floor(f.startTime*1e3)),r&&o.putMetric(YU,Math.floor(r*1e3))}Cg(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);Cg(n)},t}();function dB(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=Nn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],l={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Cte(l)}}var Mte=5e3;function fB(){!xT()||(setTimeout(function(){return Fte()},0),setTimeout(function(){return Lte()},0),setTimeout(function(){return Ute()},0))}function Lte(){for(var t=Nn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];dB(i)}t.setupObserver("resource",dB)}function Fte(){var t=Nn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){mh.createOobTrace(e,n),r=void 0},Mte);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),mh.createOobTrace(e,n,i))})}else mh.createOobTrace(e,n)}function Ute(){for(var t=Nn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];hB(i)}t.setupObserver("measure",hB)}function hB(t){var e=t.name;e.substring(0,_T.length)!==_T&&mh.createUserTimingTrace(e)}var Bte=function(){function t(e){this.app=e,Nn.getInstance().requiredApisAvailable()&&yc().then(function(n){n&&(_te(),oB().then(fB,fB))}).catch(function(n){Fo.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new mh(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Qt.getInstance().instrumentationEnabled},set:function(e){Qt.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Qt.getInstance().dataCollectionEnabled},set:function(e){Qt.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();var Vte="[DEFAULT]";function Hte(t){var e=function(n,r){if(n.name!==Vte)throw Dn.create("FB not default");if(typeof window=="undefined")throw Dn.create("no window");return Yee(window),Qt.getInstance().firebaseAppInstance=n,Qt.getInstance().installationsService=r,new Bte(n)};t.INTERNAL.registerComponent(new it("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(zee,zU)}Hte(Q);re();sr();var pB=Vr(zi());or();jr();var jte="firebase_id",qte="origin",zte=60*1e3,Wte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mB="https://www.googletagmanager.com/gtag/js",On;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(On||(On={}));var RT;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(RT||(RT={}));function Gte(t,e,n,r,i){return N(this,void 0,void 0,function(){var o,a;return D(this,function(l){switch(l.label){case 0:return i&&i.global?(t(On.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=l.sent(),a=C(C({},r),{send_to:o}),t(On.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Kte(t,e,n,r){return N(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return r&&r.global?(t(On.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(On.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})}function $te(t,e,n,r){return N(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return r&&r.global?(t(On.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(On.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})}function Yte(t,e,n,r){return N(this,void 0,void 0,function(){var i,o,a,l,u;return D(this,function(d){switch(d.label){case 0:if(!(r&&r.global))return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)l=a[o],i["user_properties."+l]=n[l];return t(On.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=d.sent(),t(On.CONFIG,u,{update:!0,user_properties:n}),d.label=3;case 3:return[2]}})})}function Xte(t,e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}var gn=new pB.Logger("@firebase/analytics");function Qte(t,e){var n=document.createElement("script");n.src=mB+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function Jte(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function Zte(t,e,n,r,i,o){return N(this,void 0,void 0,function(){var a,l,u,d;return D(this,function(f){switch(f.label){case 0:a=r[i],f.label=1;case 1:return f.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return f.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=f.sent(),u=l.find(function(p){return p.measurementId===i}),u?[4,e[u.appId]]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return d=f.sent(),gn.error(d),[3,8];case 8:return t(On.CONFIG,i,o),[2]}})})}function ene(t,e,n,r,i){return N(this,void 0,void 0,function(){var o,a,l,u,d,f,p,v,g;return D(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=b.sent(),u=function(_){var E=l.find(function(T){return T.measurementId===_}),x=E&&e[E.appId];if(x)o.push(x);else return o=[],"break"},d=0,f=a;d<f.length&&(p=f[d],v=u(p),v!=="break");d++);b.label=2;case 2:return o.length===0&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return b.sent(),t(On.EVENT,r,i||{}),[3,5];case 4:return g=b.sent(),gn.error(g),[3,5];case 5:return[2]}})})}function tne(t,e,n,r){function i(o,a,l){return N(this,void 0,void 0,function(){var u;return D(this,function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),o!==On.EVENT?[3,2]:[4,ene(t,e,n,a,l)];case 1:return d.sent(),[3,5];case 2:return o!==On.CONFIG?[3,4]:[4,Zte(t,e,n,r,a,l)];case 3:return d.sent(),[3,5];case 4:t(On.SET,a),d.label=5;case 5:return[3,7];case 6:return u=d.sent(),gn.error(u),[3,7];case 7:return[2]}})})}return i}function nne(t,e,n,r,i){var o=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=tne(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function rne(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(mB))return r}return null}var xi,ine=(xi={},xi["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",xi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",xi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",xi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",xi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",xi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',xi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',xi),Jr=new Fn("analytics","Analytics",ine);var one=30,sne=1e3,ane=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=sne),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),vB=new ane;function lne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function cne(t){var e;return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d;return D(this,function(f){switch(f.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:lne(r)},o=Wte.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=f.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.json()];case 3:return u=f.sent(),((e=u.error)===null||e===void 0?void 0:e.message)&&(l=u.error.message),[3,5];case 4:return d=f.sent(),[3,5];case 5:throw Jr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function une(t,e,n){return e===void 0&&(e=vB),N(this,void 0,void 0,function(){var r,i,o,a,l,u,d=this;return D(this,function(f){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Jr.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Jr.create("no-api-key")}return l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new hne,setTimeout(function(){return N(d,void 0,void 0,function(){return D(this,function(p){return u.abort(),[2]})})},n!==void 0?n:zte),[2,gB({appId:i,apiKey:o,measurementId:a},l,u,e)]})})}function gB(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return r===void 0&&(r=vB),N(this,void 0,void 0,function(){var a,l,u,d,f,p,v;return D(this,function(g){switch(g.label){case 0:a=t.appId,l=t.measurementId,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,dne(n,i)];case 2:return g.sent(),[3,4];case 3:if(u=g.sent(),l)return gn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]")),[2,{appId:a,measurementId:l}];throw u;case 4:return g.trys.push([4,6,,7]),[4,cne(t)];case 5:return d=g.sent(),r.deleteThrottleMetadata(a),[2,d];case 6:if(f=g.sent(),!fne(f)){if(r.deleteThrottleMetadata(a),l)return gn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:a,measurementId:l}];throw f}return p=Number(f.customData.httpStatus)===503?wc(o,r.intervalMillis,one):wc(o,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:o+1},r.setThrottleMetadata(a,v),gn.debug("Calling attemptFetch again in "+p+" millis"),[2,gB(t,v,n,r)];case 7:return[2]}})})}function dne(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fne(t){if(!(t instanceof mi)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var hne=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();function pne(){return N(this,void 0,void 0,function(){var t;return D(this,function(e){switch(e.label){case 0:return gc()?[3,1]:(gn.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,yc()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),gn.warn(Jr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function mne(t,e,n,r,i,o){return N(this,void 0,void 0,function(){var a,l,u,d,f,p,v;return D(this,function(g){switch(g.label){case 0:return a=une(t),a.then(function(b){n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&gn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+b.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(b){return gn.error(b)}),e.push(a),l=pne().then(function(b){if(b)return r.getId()}),[4,Promise.all([a,l])];case 1:return u=g.sent(),d=u[0],f=u[1],rne()||Qte(o,d.measurementId),i("js",new Date),p=(v={},v[qte]="firebase",v.update=!0,v),f!=null&&(p[jte]=f),i(On.CONFIG,d.measurementId,p),[2,d.measurementId]}})})}var Uo={},yB=[],bB={},Ig="dataLayer",_B="gtag",wB,vh,kT=!1;function vne(t){if(kT)throw Jr.create("already-initialized");t.dataLayerName&&(Ig=t.dataLayerName),t.gtagName&&(_B=t.gtagName)}function gne(){var t=[];if(vc()&&t.push("This is a browser extension environment."),fm()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function yne(t,e){gne();var n=t.options.appId;if(!n)throw Jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Jr.create("no-api-key");if(Uo[n]!=null)throw Jr.create("already-exists",{id:n});if(!kT){Jte(Ig);var r=nne(Uo,yB,bB,Ig,_B),i=r.wrappedGtag,o=r.gtagCore;vh=i,wB=o,kT=!0}Uo[n]=mne(t,yB,bB,e,wB,Ig);var a={app:t,logEvent:function(l,u,d){Gte(vh,Uo[n],l,u,d).catch(function(f){return gn.error(f)})},setCurrentScreen:function(l,u){Kte(vh,Uo[n],l,u).catch(function(d){return gn.error(d)})},setUserId:function(l,u){$te(vh,Uo[n],l,u).catch(function(d){return gn.error(d)})},setUserProperties:function(l,u){Yte(vh,Uo[n],l,u).catch(function(d){return gn.error(d)})},setAnalyticsCollectionEnabled:function(l){Xte(Uo[n],l).catch(function(u){return gn.error(u)})},INTERNAL:{delete:function(){return delete Uo[n],Promise.resolve()}}};return a}var bne="@firebase/analytics",_ne="0.6.10",EB="analytics";function wne(t){t.INTERNAL.registerComponent(new it(EB,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return yne(r,i)},"PUBLIC").setServiceProps({settings:vne,EventName:RT,isSupported:Ene})),t.INTERNAL.registerComponent(new it("analytics-internal",e,"PRIVATE")),t.registerVersion(bne,_ne);function e(n){try{var r=n.getProvider(EB).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Jr.create("interop-component-reg-failed",{reason:i})}}}wne(Q);function Ene(){return N(this,void 0,void 0,function(){var t,e;return D(this,function(n){switch(n.label){case 0:if(vc())return[2,!1];if(!fm())return[2,!1];if(!gc())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,yc()];case 2:return t=n.sent(),[2,t];case 3:return e=n.sent(),[2,!1];case 4:return[2]}})})}sr();re();or();var cl=Vr(zi());jr();var xne=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return o=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],o.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return l.sent(),[2,o]}})})},t}();var Yn,Sne=(Yn={},Yn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Yn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Yn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Yn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Yn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Yn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Yn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Yn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Yn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Yn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Yn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Yn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Yn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Yn),Zr=new Fn("remoteconfig","Remote Config",Sne);function Tne(t,e){return t instanceof mi&&t.code.indexOf(e)!==-1}function Cne(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}var Ine=function(){function t(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n,r,i,o,a,l,u,d,f,p,v,g,b,_,E,x,T,R,P;return D(this,function(L){switch(L.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=L.sent(),r=n[0],i=n[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Cne()},d={method:"POST",headers:l,body:JSON.stringify(u)},f=fetch(a,d),p=new Promise(function(F,G){e.signal.addEventListener(function(){var Y=new Error("The operation was aborted.");Y.name="AbortError",G(Y)})}),L.label=2;case 2:return L.trys.push([2,5,,6]),[4,Promise.race([f,p])];case 3:return L.sent(),[4,f];case 4:return v=L.sent(),[3,6];case 5:throw g=L.sent(),b="fetch-client-network",g.name==="AbortError"&&(b="fetch-timeout"),Zr.create(b,{originalErrorMessage:g.message});case 6:if(_=v.status,E=v.headers.get("ETag")||void 0,v.status!==200)return[3,11];R=void 0,L.label=7;case 7:return L.trys.push([7,9,,10]),[4,v.json()];case 8:return R=L.sent(),[3,10];case 9:throw P=L.sent(),Zr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:x=R.entries,T=R.state,L.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?_=500:T==="NO_CHANGE"?_=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(x={}),_!==304&&_!==200)throw Zr.create("fetch-status",{httpStatus:_});return[2,{status:_,eTag:E,config:x}]}})})},t}();var Ane=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();var Rne=!1,kne="",xB=0,Dne=["1","true","t","yes","y","on"],DT=function(){function t(e,n){n===void 0&&(n=kne),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Rne:Dne.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return xB;var e=Number(this._value);return isNaN(e)&&(e=xB),e},t.prototype.getSource=function(){return this._source},t}();var Nne=60*1e3,One=12*60*60*1e3,Pne=function(){function t(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Nne,minimumFetchIntervalMillis:One},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=cl.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=cl.LogLevel.SILENT;break;default:this._logger.logLevel=cl.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return N(this,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return N(this,void 0,void 0,function(){var e,n,r,i=this;return D(this,function(o){switch(o.label){case 0:e=new Ane,setTimeout(function(){return N(i,void 0,void 0,function(){return D(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return n=o.sent(),r=Tne(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw o.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return Mne(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new DT("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new DT("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new DT("static"))},t}();function Mne(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(C(C({},t),e))}function Ag(t,e){var n=t.target.error||void 0;return Zr.create(e,{originalErrorMessage:n&&n.message})}var ul="app_namespace_store",Lne="firebase_remote_config",Fne=1;function Une(){return new Promise(function(t,e){var n=indexedDB.open(Lne,Fne);n.onerror=function(r){e(Ag(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ul,{keyPath:"compositeKey"})}}})}var Bne=function(){function t(e,n,r,i){i===void 0&&(i=Une()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var l=n.transaction([ul],"readonly"),u=l.objectStore(ul),d=r.createCompositeKey(e);try{var f=u.get(d);f.onerror=function(p){a(Ag(p,"storage-get"))},f.onsuccess=function(p){var v=p.target.result;o(v?v.value:void 0)}}catch(p){a(Zr.create("storage-get",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.set=function(e,n){return N(this,void 0,void 0,function(){var r,i=this;return D(this,function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return r=o.sent(),[2,new Promise(function(a,l){var u=r.transaction([ul],"readwrite"),d=u.objectStore(ul),f=i.createCompositeKey(e);try{var p=d.put({compositeKey:f,value:n});p.onerror=function(v){l(Ag(v,"storage-set"))},p.onsuccess=function(){a()}}catch(v){l(Zr.create("storage-set",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.delete=function(e){return N(this,void 0,void 0,function(){var n,r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(o,a){var l=n.transaction([ul],"readwrite"),u=l.objectStore(ul),d=r.createCompositeKey(e);try{var f=u.delete(d);f.onerror=function(p){a(Ag(p,"storage-delete"))},f.onsuccess=function(){o()}}catch(p){a(Zr.create("storage-delete",{originalErrorMessage:p&&p.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();var Vne=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var e,n,r,i,o,a;return D(this,function(l){switch(l.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return o=l.sent(),o&&(this.lastSuccessfulFetchTimestampMillis=o),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();function Hne(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jne(t){if(!(t instanceof mi)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var qne=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return N(this,void 0,void 0,function(){var n;return D(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var o,a,l;return D(this,function(u){switch(u.label){case 0:return[4,Hne(e.signal,r)];case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return o=u.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return u.sent(),[2,o];case 5:if(a=u.sent(),!jne(a))throw a;return l={throttleEndTimeMillis:Date.now()+wc(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return u.sent(),[2,this.attemptFetch(e,l)];case 7:return[2]}})})},t}(),SB="@firebase/remote-config",zne="0.1.37";function Wne(t){t.INTERNAL.registerComponent(new it("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(SB,zne);function e(n,r){var i=r.instanceIdentifier,o=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw Zr.create("registration-window");var l=o.options,u=l.projectId,d=l.apiKey,f=l.appId;if(!u)throw Zr.create("registration-project-id");if(!d)throw Zr.create("registration-api-key");if(!f)throw Zr.create("registration-app-id");i=i||"firebase";var p=new Bne(f,o.name,i),v=new Vne(p),g=new cl.Logger(SB);g.logLevel=cl.LogLevel.ERROR;var b=new Ine(a,t.SDK_VERSION,i,u,d,f),_=new qne(b,p),E=new xne(_,p,v,g),x=new Pne(o,E,v,p,g);return x.ensureInitialized(),x}}Wne(Q);"use strict";var Gne=(sr(),iO),TB=(jr(),eO),we=pw(),ro=(or(),ZN),Kne=zi();function $ne(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Yne=$ne(Gne);var Si,Xne=(Si={},Si["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Si["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Si["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Si["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Si["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Si["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Si["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Si["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Si["recaptcha-error"]="ReCAPTCHA error.",Si),Ti=new ro.ErrorFactory("appCheck","AppCheck",Xne);var CB=new Map,Qne={activated:!1,tokenListeners:[]},Jne={enabled:!1};function Rr(t){return CB.get(t)||Qne}function Ls(t,e){CB.set(t,e)}function Rg(){return Jne}function IB(){return self.grecaptcha}function AB(t){if(!Rr(t).activated)throw Ti.create("use-before-activation",{appName:t.name})}function Zne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}var ere="https://www.google.com/recaptcha/api.js";function tre(t,e){var n=Rr(t),r=new ro.Deferred;Ls(t,we.__assign(we.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=IB();return a?a.ready(function(){RB(t,e,a,i),r.resolve(a)}):rre(function(){var l=IB();if(!l)throw new Error("no recaptcha");l.ready(function(){RB(t,e,l,i),r.resolve(l)})}),r.promise}function nre(t){return we.__awaiter(this,void 0,void 0,function(){var e,n;return we.__generator(this,function(r){switch(r.label){case 0:return AB(t),e=Rr(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,o){var a=Rr(t).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function RB(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),o=Rr(t);Ls(t,we.__assign(we.__assign({},o),{reCAPTCHAState:we.__assign(we.__assign({},o.reCAPTCHAState),{widgetId:i})}))}function rre(t){var e=document.createElement("script");e.src=""+ere,e.onload=t,document.head.appendChild(e)}function ire(t,e,n){var r=Rr(t);if(r.activated)throw Ti.create("already-activated",{appName:t.name});var i=we.__assign(we.__assign({},r),{activated:!0});typeof e=="string"?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,Ls(t,i),i.siteKey&&tre(t,i.siteKey).catch(function(){})}function ore(t,e){var n=Rr(t);n.tokenRefresher&&(e===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),Ls(t,we.__assign(we.__assign({},n),{isTokenAutoRefreshEnabled:e}))}var kB="https://content-firebaseappcheck.googleapis.com/v1beta",sre="exchangeRecaptchaToken",are="exchangeDebugToken",DB={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};var lre=function(){function t(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(e){return we.__awaiter(this,void 0,void 0,function(){var n;return we.__generator(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new ro.Deferred,[4,cre(this.getNextRun(e))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new ro.Deferred,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},t.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},t}();function cre(t){return new Promise(function(e){setTimeout(e,t)})}function NB(t,e){var n=t.url,r=t.body;return we.__awaiter(this,void 0,void 0,function(){var i,o,a,l,u,d,f,p,v,g;return we.__generator(this,function(b){switch(b.label){case 0:i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0}),o&&(i["X-Firebase-Client"]=o.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},b.label=1;case 1:return b.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=b.sent(),[3,4];case 3:throw u=b.sent(),Ti.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(l.status!==200)throw Ti.create("fetch-status-error",{httpStatus:l.status});b.label=5;case 5:return b.trys.push([5,7,,8]),[4,l.json()];case 6:return d=b.sent(),[3,8];case 7:throw f=b.sent(),Ti.create("fetch-parse-error",{originalErrorMessage:f.message});case 8:if(p=d.ttl.match(/^([\d.]+)(s)$/),!p||!p[2]||isNaN(Number(p[1])))throw Ti.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+d.ttl)});return v=Number(p[1])*1e3,g=Date.now(),[2,{token:d.attestationToken,expireTimeMillis:g+v,issuedAtTimeMillis:g}]}})})}function ure(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:kB+"/projects/"+r+"/apps/"+i+":"+sre+"?key="+o,body:{recaptcha_token:e}}}function dre(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:kB+"/projects/"+r+"/apps/"+i+":"+are+"?key="+o,body:{debug_token:e}}}var fre="firebase-app-check-database",hre=1,gh="firebase-app-check-store",OB="debug-token",kg=null;function PB(){return kg||(kg=new Promise(function(t,e){try{var n=indexedDB.open(fre,hre);n.onsuccess=function(r){t(r.target.result)},n.onerror=function(r){var i;e(Ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gh,{keyPath:"compositeKey"})}}}catch(r){e(Ti.create("storage-open",{originalErrorMessage:r.message}))}}),kg)}function pre(t){return LB(FB(t))}function mre(t,e){return MB(FB(t),e)}function vre(t){return MB(OB,t)}function gre(){return LB(OB)}function MB(t,e){return we.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return we.__generator(this,function(a){switch(a.label){case 0:return[4,PB()];case 1:return n=a.sent(),r=n.transaction(gh,"readwrite"),i=r.objectStore(gh),o=i.put({compositeKey:t,value:e}),[2,new Promise(function(l,u){o.onsuccess=function(d){l()},r.onerror=function(d){var f;u(Ti.create("storage-set",{originalErrorMessage:(f=d.target.error)===null||f===void 0?void 0:f.message}))}})]}})})}function LB(t){return we.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return we.__generator(this,function(o){switch(o.label){case 0:return[4,PB()];case 1:return e=o.sent(),n=e.transaction(gh,"readonly"),r=n.objectStore(gh),i=r.get(t),[2,new Promise(function(a,l){i.onsuccess=function(u){var d=u.target.result;a(d?d.value:void 0)},n.onerror=function(u){var d;l(Ti.create("storage-get",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function FB(t){return t.options.appId+"-"+t.name}var Dg=new Kne.Logger("@firebase/app-check");function yre(t){return we.__awaiter(this,void 0,void 0,function(){var e,n;return we.__generator(this,function(r){switch(r.label){case 0:if(!ro.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,pre(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),Dg.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function bre(t,e){return ro.isIndexedDBAvailable()?mre(t,e).catch(function(n){Dg.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function _re(){return we.__awaiter(this,void 0,void 0,function(){var t,e,n;return we.__generator(this,function(r){switch(r.label){case 0:t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,gre()];case 2:return t=r.sent(),[3,4];case 3:return e=r.sent(),[3,4];case 4:return t?[2,t]:(n=Zne(),vre(n).catch(function(i){return Dg.warn("Failed to persist debug token to indexeddb. Error: "+i)}),console.log("AppCheck debug token: "+n+". You will need to whitelist it in the Firebase console for it to work"),[2,n])}})})}function UB(){var t=Rg();return t.enabled}function wre(){return we.__awaiter(this,void 0,void 0,function(){var t;return we.__generator(this,function(e){if(t=Rg(),t.enabled&&t.token)return[2,t.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Ere(){var t=ro.getGlobal();if(!(typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var e=Rg();e.enabled=!0;var n=new ro.Deferred;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(_re())}}var xre={error:"UNKNOWN_ERROR"};function Sre(t){return ro.base64.encodeString(JSON.stringify(t),!1)}function NT(t,e,n){return n===void 0&&(n=!1),we.__awaiter(this,void 0,void 0,function(){var r,i,o,a,l,u,d,f,p,v,g,b,_,E;return we.__generator(this,function(x){switch(x.label){case 0:return AB(t),UB()?(i=NB,o=dre,a=[t],[4,wre()]):[3,3];case 1:return[4,i.apply(void 0,[o.apply(void 0,a.concat([x.sent()])),e])];case 2:return r=x.sent(),[2,{token:r.token}];case 3:return l=Rr(t),u=l.token,d=void 0,u?[3,5]:[4,yre(t)];case 4:f=x.sent(),f&&OT(f)&&(u=f,Ls(t,we.__assign(we.__assign({},l),{token:u})),BB(t,{token:u.token})),x.label=5;case 5:if(!n&&u&&OT(u))return[2,{token:u.token}];x.label=6;case 6:return x.trys.push([6,12,,13]),l.customProvider?[4,l.customProvider.getToken()]:[3,8];case 7:return p=x.sent(),v=ro.issuedAtTime(p.token),g=v!==null&&v<Date.now()&&v>0?v*1e3:Date.now(),u=we.__assign(we.__assign({},p),{issuedAtTimeMillis:g}),[3,11];case 8:return[4,nre(t).catch(function(T){throw Ti.create("recaptcha-error")})];case 9:return b=x.sent(),[4,NB(ure(t,b),e)];case 10:u=x.sent(),x.label=11;case 11:return[3,13];case 12:return _=x.sent(),Dg.error(_),d=_,[3,13];case 13:return u?[3,14]:(E=Are(d),[3,16]);case 14:return E={token:u.token},Ls(t,we.__assign(we.__assign({},l),{token:u})),[4,bre(t,u)];case 15:x.sent(),x.label=16;case 16:return BB(t,E),[2,E]}})})}function Tre(t,e,n){var r=Rr(t),i=we.__assign(we.__assign({},r),{tokenListeners:we.__spreadArray(we.__spreadArray([],r.tokenListeners),[n])});if(UB()){var o=Rg();o.enabled&&o.token&&o.token.promise.then(function(u){return n({token:u})}).catch(function(){})}else{if(!i.tokenRefresher){var a=Ire(t,e);i.tokenRefresher=a}if(!i.tokenRefresher.isRunning()&&r.isTokenAutoRefreshEnabled===!0&&i.tokenRefresher.start(),r.token&&OT(r.token)){var l=r.token;Promise.resolve().then(function(){return n({token:l.token})}).catch(function(){})}}Ls(t,i)}function Cre(t,e){var n=Rr(t),r=n.tokenListeners.filter(function(i){return i!==e});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ls(t,we.__assign(we.__assign({},n),{tokenListeners:r}))}function Ire(t,e){var n=this;return new lre(function(){return we.__awaiter(n,void 0,void 0,function(){var r,i;return we.__generator(this,function(o){switch(o.label){case 0:return r=Rr(t),r.token?[3,2]:[4,NT(t,e)];case 1:return i=o.sent(),[3,4];case 2:return[4,NT(t,e,!0)];case 3:i=o.sent(),o.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Rr(t);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+5*60*1e3,o=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},DB.RETRIAL_MIN_WAIT,DB.RETRIAL_MAX_WAIT)}function BB(t,e){for(var n=Rr(t).tokenListeners,r=0,i=n;r<i.length;r++){var o=i[r];try{o(e)}catch(a){}}}function OT(t){return t.expireTimeMillis-Date.now()>0}function Are(t){return{token:Sre(xre),error:t}}function Rre(t){return{activate:function(e,n){return ire(t,e,n)},setTokenAutoRefreshEnabled:function(e){return ore(t,e)}}}function kre(t,e){return{getToken:function(n){return NT(t,e,n)},addTokenListener:function(n){return Tre(t,e,n)},removeTokenListener:function(n){return Cre(t,n)}}}var Dre="@firebase/app-check",Nre="0.1.1";var Ore="appCheck",VB="app-check-internal";function Pre(t){t.INTERNAL.registerComponent(new TB.Component(Ore,function(e){var n=e.getProvider("app").getImmediate();return Rre(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider(VB);i.initialize()})),t.INTERNAL.registerComponent(new TB.Component(VB,function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("platform-logger");return kre(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(Dre,Nre)}Pre(Yne.default);Ere();var Mre="firebase",Lre="8.6.2";Q.registerVersion(Mre,Lre,"app");var Fre="firebase",Ure="8.6.2";console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);Q.registerVersion(Fre,Ure);var Bre=t=>{let e=null;return{socket:t,setUserId:n=>{e=n},subscribeToServer:()=>{let n={secret:"QuickEvents_v1",userId:e};t.emit("subscribeToServer",n,r=>{r&&r.status==="ok"&&console.log("Connection to Server established.")})},getApiKey:n=>{let r={secret:"QuickEvents_v1",userId:e};t.emit("getApiKey",r,i=>{i&&i.status==="ok"?n(i.apiKey):console.log("failed to get ApiKey from server")})},getConfig:n=>{let r={secret:"QuickEvents_v1",userId:e};t.emit("getConfig",r,i=>{i&&i.status==="ok"?n(i.config):console.log("failed to get config")})},setFieldValue:(n,r,i,o)=>{let a={userId:e,collectionKey:n,docKey:r,fieldKey:i,fieldValue:o};t.emit("setFieldValue",a,l=>{})},removeDoc:(n,r)=>{let i={userId:e,collectionKey:n,docKey:r};t.emit("removeDoc",i,o=>{})},createDoc:(n,r,i)=>{console.log([n,r]);let o={userId:e,collectionKey:n,doc:r};t.emit("createDoc",o,a=>{i(a.id)})}}},HB=Bre;var wh=Vr(iH()),rme=wh.default.Manager,ime=wh.default.Socket;var oH=vt`
  :host {
    position: absolute;
    left:0; right:0;
    top:0; bottom:0;
    display: flex;
    flex-direction: column;
    background-color: #303030;
  }
  ::slotted(*) {
    position: fixed;
    top: 0; bottom: 0;
    left: 0; right: 0;
  }
`;var Ou=class extends Ve{constructor(){super(...arguments);this.pageOutput=Z``}render(){return Z`
      <slot name="header-bar"></slot>
      <slot name="content"></slot>
    `}};Ou.styles=oH,J([de({type:String})],Ou.prototype,"page",2),J([de({attribute:!1})],Ou.prototype,"pageOutput",2),Ou=J([Ze("page-display")],Ou);var sH=vt`
  :host {
    display: flex;
    flex: auto;
    flex-direction: row;
  }
  #content-display-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    background-color: #d7d7d7;
    padding: 20px;
    margin: 0 auto 0 auto;
  }
  #content-display-render {
    width: 100%;
  }
`;var aH=vt`
  :host {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100px;
    max-height: 6vh;
    background-color: #6200ee;
    text-align: center;
    color: #000000;
  }
  h1 {
    font-size: 2em;
    padding: 5px;
    margin: auto;
  }
  #header-accent {
    height: .5em;
    background-color: #000051;
    width: 100%;
  }
`;var pl=class extends Ve{constructor(){super(...arguments);this.showMenuToggle=!0;this.showAccent=!1}render(){return Z`
    ${this.showAccent?Z`<div id="header-accent"></div>`:Z``}
    <div id="menu-toggle"></div>
    <h1>${this.label}</h1>
    <slot name="content-right"></slot>
    `}};pl.styles=aH,J([de({type:String})],pl.prototype,"label",2),J([de({type:Boolean})],pl.prototype,"showMenuToggle",2),J([de({type:Boolean})],pl.prototype,"showAccent",2),pl=J([Ze("header-bar")],pl);re();var lC=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0;var ml=(t,e,n=null)=>{for(;e!==n;){let r=e.nextSibling;t.removeChild(e),e=r}};var ri=`{{lit-${String(Math.random()).slice(2)}}}`,cC=`<!--${ri}-->`,lH=new RegExp(`${ri}|${cC}`),Pu="$lit$",Mu=class{constructor(e,n){this.parts=[],this.element=n;let r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,l=-1,u=0,{strings:d,values:{length:f}}=e;for(;u<f;){let p=o.nextNode();if(p===null){o.currentNode=i.pop();continue}if(l++,p.nodeType===1){if(p.hasAttributes()){let v=p.attributes,{length:g}=v,b=0;for(let _=0;_<g;_++)cH(v[_].name,Pu)&&b++;for(;b-- >0;){let _=d[u],E=Yg.exec(_)[2],x=E.toLowerCase()+Pu,T=p.getAttribute(x);p.removeAttribute(x);let R=T.split(lH);this.parts.push({type:"attribute",index:l,name:E,strings:R}),u+=R.length-1}}p.tagName==="TEMPLATE"&&(i.push(p),o.currentNode=p.content)}else if(p.nodeType===3){let v=p.data;if(v.indexOf(ri)>=0){let g=p.parentNode,b=v.split(lH),_=b.length-1;for(let E=0;E<_;E++){let x,T=b[E];if(T==="")x=so();else{let R=Yg.exec(T);R!==null&&cH(R[2],Pu)&&(T=T.slice(0,R.index)+R[1]+R[2].slice(0,-Pu.length)+R[3]),x=document.createTextNode(T)}g.insertBefore(x,p),this.parts.push({type:"node",index:++l})}b[_]===""?(g.insertBefore(so(),p),r.push(p)):p.data=b[_],u+=_}}else if(p.nodeType===8)if(p.data===ri){let v=p.parentNode;(p.previousSibling===null||l===a)&&(l++,v.insertBefore(so(),p)),a=l,this.parts.push({type:"node",index:l}),p.nextSibling===null?p.data="":(r.push(p),l--),u++}else{let v=-1;for(;(v=p.data.indexOf(ri,v+1))!==-1;)this.parts.push({type:"node",index:-1}),u++}}for(let p of r)p.parentNode.removeChild(p)}},cH=(t,e)=>{let n=t.length-e.length;return n>=0&&t.slice(n)===e},Eh=t=>t.index!==-1,so=()=>document.createComment(""),Yg=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var uC=133;function dC(t,e){let{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,uC,null,!1),o=xh(r),a=r[o],l=-1,u=0,d=[],f=null;for(;i.nextNode();){l++;let p=i.currentNode;for(p.previousSibling===f&&(f=null),e.has(p)&&(d.push(p),f===null&&(f=p)),f!==null&&u++;a!==void 0&&a.index===l;)a.index=f!==null?-1:a.index-u,o=xh(r,o),a=r[o]}d.forEach(p=>p.parentNode.removeChild(p))}var goe=t=>{let e=t.nodeType===11?0:1,n=document.createTreeWalker(t,uC,null,!1);for(;n.nextNode();)e++;return e},xh=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){let r=t[n];if(Eh(r))return n}return-1};function uH(t,e,n=null){let{element:{content:r},parts:i}=t;if(n==null){r.appendChild(e);return}let o=document.createTreeWalker(r,uC,null,!1),a=xh(i),l=0,u=-1;for(;o.nextNode();)for(u++,o.currentNode===n&&(l=goe(e),n.parentNode.insertBefore(e,n));a!==-1&&i[a].index===u;){if(l>0){for(;a!==-1;)i[a].index+=l,a=xh(i,a);return}a=xh(i,a)}}var dH=new WeakMap,Nr=t=>(...e)=>{let n=t(...e);return dH.set(n,!0),n},vl=t=>typeof t=="function"&&dH.has(t);var Or={},Ri={};var gl=class{constructor(e,n,r){this.__parts=[],this.template=e,this.processor=n,this.options=r}update(e){let n=0;for(let r of this.__parts)r!==void 0&&r.setValue(e[n]),n++;for(let r of this.__parts)r!==void 0&&r.commit()}_clone(){let e=lC?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o=0,a=0,l,u=i.nextNode();for(;o<r.length;){if(l=r[o],!Eh(l)){this.__parts.push(void 0),o++;continue}for(;a<l.index;)a++,u.nodeName==="TEMPLATE"&&(n.push(u),i.currentNode=u.content),(u=i.nextNode())===null&&(i.currentNode=n.pop(),u=i.nextNode());if(l.type==="node"){let d=this.processor.handleTextExpression(this.options);d.insertAfterNode(u.previousSibling),this.__parts.push(d)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,l.name,l.strings,this.options));o++}return lC&&(document.adoptNode(e),customElements.upgrade(e)),e}};var fH=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),boe=` ${ri} `,Us=class{constructor(e,n,r,i){this.strings=e,this.values=n,this.type=r,this.processor=i}getHTML(){let e=this.strings.length-1,n="",r=!1;for(let i=0;i<e;i++){let o=this.strings[i],a=o.lastIndexOf("<!--");r=(a>-1||r)&&o.indexOf("-->",a+1)===-1;let l=Yg.exec(o);l===null?n+=o+(r?boe:cC):n+=o.substr(0,l.index)+l[1]+l[2]+Pu+l[3]+ri}return n+=this.strings[e],n}getTemplateElement(){let e=document.createElement("template"),n=this.getHTML();return fH!==void 0&&(n=fH.createHTML(n)),e.innerHTML=n,e}};var Xg=t=>t===null||!(typeof t=="object"||typeof t=="function"),Qg=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]),Sh=class{constructor(e,n,r){this.dirty=!0,this.element=e,this.name=n,this.strings=r,this.parts=[];for(let i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new ii(this)}_getValue(){let e=this.strings,n=e.length-1,r=this.parts;if(n===1&&e[0]===""&&e[1]===""){let o=r[0].value;if(typeof o=="symbol")return String(o);if(typeof o=="string"||!Qg(o))return o}let i="";for(let o=0;o<n;o++){i+=e[o];let a=r[o];if(a!==void 0){let l=a.value;if(Xg(l)||!Qg(l))i+=typeof l=="string"?l:String(l);else for(let u of l)i+=typeof u=="string"?u:String(u)}}return i+=e[n],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},ii=class{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==Or&&(!Xg(e)||e!==this.value)&&(this.value=e,vl(e)||(this.committer.dirty=!0))}commit(){for(;vl(this.value);){let e=this.value;this.value=Or,e(this)}this.value!==Or&&this.committer.commit()}},ao=class{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(so()),this.endNode=e.appendChild(so())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=so()),e.__insert(this.endNode=so())}insertAfterPart(e){e.__insert(this.startNode=so()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;vl(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=Or,n(this)}let e=this.__pendingValue;e!==Or&&(Xg(e)?e!==this.value&&this.__commitText(e):e instanceof Us?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):Qg(e)?this.__commitIterable(e):e===Ri?(this.value=Ri,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){let n=this.startNode.nextSibling;e=e??"";let r=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){let n=this.options.templateFactory(e);if(this.value instanceof gl&&this.value.template===n)this.value.update(e.values);else{let r=new gl(n,e.processor,this.options),i=r._clone();r.update(e.values),this.__commitNode(i),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());let n=this.value,r=0,i;for(let o of e)i=n[r],i===void 0&&(i=new ao(this.options),n.push(i),r===0?i.appendIntoPart(this):i.insertAfterPart(n[r-1])),i.setValue(o),i.commit(),r++;r<n.length&&(n.length=r,this.clear(i&&i.endNode))}clear(e=this.startNode){ml(this.startNode.parentNode,e.nextSibling,this.endNode)}},Lu=class{constructor(e,n,r){if(this.value=void 0,this.__pendingValue=void 0,r.length!==2||r[0]!==""||r[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;vl(this.__pendingValue);){let n=this.__pendingValue;this.__pendingValue=Or,n(this)}if(this.__pendingValue===Or)return;let e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=Or}},Jg=class extends Sh{constructor(e,n,r){super(e,n,r);this.single=r.length===2&&r[0]===""&&r[1]===""}_createPart(){return new Bo(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},Bo=class extends ii{},hH=!1;(()=>{try{let t={get capture(){return hH=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();var Fu=class{constructor(e,n,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=i=>this.handleEvent(i)}setValue(e){this.__pendingValue=e}commit(){for(;vl(this.__pendingValue);){let o=this.__pendingValue;this.__pendingValue=Or,o(this)}if(this.__pendingValue===Or)return;let e=this.__pendingValue,n=this.value,r=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),i=e!=null&&(n==null||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=_oe(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=Or}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}},_oe=t=>t&&(hH?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function fC(t){let e=yl.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},yl.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;let r=t.strings.join(ri);return n=e.keyString.get(r),n===void 0&&(n=new Mu(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}var yl=new Map;var Bs=new WeakMap,hC=(t,e,n)=>{let r=Bs.get(e);r===void 0&&(ml(e,e.firstChild),Bs.set(e,r=new ao(Object.assign({templateFactory:fC},n))),r.appendInto(e)),r.setValue(t),r.commit()};var pC=class{handleAttributeExpressions(e,n,r,i){let o=n[0];return o==="."?new Jg(e,n.slice(1),r).parts:o==="@"?[new Fu(e,n.slice(1),i.eventContext)]:o==="?"?[new Lu(e,n.slice(1),r)]:new Sh(e,n,r).parts}handleTextExpression(e){return new ao(e)}},mC=new pC;typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var ne=(t,...e)=>new Us(t,e,"html",mC);var mH=(t,e)=>`${t}--${e}`,Zg=!0;typeof window.ShadyCSS=="undefined"?Zg=!1:typeof window.ShadyCSS.prepareTemplateDom=="undefined"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Zg=!1);var Eoe=t=>e=>{let n=mH(e.type,t),r=yl.get(n);r===void 0&&(r={stringsArray:new WeakMap,keyString:new Map},yl.set(n,r));let i=r.stringsArray.get(e.strings);if(i!==void 0)return i;let o=e.strings.join(ri);if(i=r.keyString.get(o),i===void 0){let a=e.getTemplateElement();Zg&&window.ShadyCSS.prepareTemplateDom(a,t),i=new Mu(e,a),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i},xoe=["html","svg"],Soe=t=>{xoe.forEach(e=>{let n=yl.get(mH(e,t));n!==void 0&&n.keyString.forEach(r=>{let{element:{content:i}}=r,o=new Set;Array.from(i.querySelectorAll("style")).forEach(a=>{o.add(a)}),dC(r,o)})})},vH=new Set,Toe=(t,e,n)=>{vH.add(t);let r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:o}=i;if(o===0){window.ShadyCSS.prepareTemplateStyles(r,t);return}let a=document.createElement("style");for(let d=0;d<o;d++){let f=i[d];f.parentNode.removeChild(f),a.textContent+=f.textContent}Soe(t);let l=r.content;n?uH(n,a,l.firstChild):l.insertBefore(a,l.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);let u=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&u!==null)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){l.insertBefore(a,l.firstChild);let d=new Set;d.add(a),dC(n,d)}},gH=(t,e,n)=>{if(!n||typeof n!="object"||!n.scopeName)throw new Error("The `scopeName` option is required.");let r=n.scopeName,i=Bs.has(e),o=Zg&&e.nodeType===11&&!!e.host,a=o&&!vH.has(r),l=a?document.createDocumentFragment():e;if(hC(t,l,Object.assign({templateFactory:Eoe(r)},n)),a){let u=Bs.get(l);Bs.delete(l);let d=u.value instanceof gl?u.value.template:void 0;Toe(r,l,d),ml(e,e.firstChild),e.appendChild(l),Bs.set(e,u)}!i&&o&&window.ShadyCSS.styleElement(e.host)};var yH;window.JSCompiler_renameProperty=(t,e)=>t;var vC={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return t!==null;case Number:return t===null?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},bH=(t,e)=>e!==t&&(e===e||t===t),gC={attribute:!0,type:String,converter:vC,reflect:!1,hasChanged:bH},yC=1,bC=1<<2,_C=1<<3,wC=1<<4,EC="finalized",ey=class extends HTMLElement{constructor(){super();this.initialize()}static get observedAttributes(){this.finalize();let e=[];return this._classProperties.forEach((n,r)=>{let i=this._attributeNameForProperty(r,n);i!==void 0&&(this._attributeToPropertyMap.set(i,r),e.push(i))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let e=Object.getPrototypeOf(this)._classProperties;e!==void 0&&e.forEach((n,r)=>this._classProperties.set(r,n))}}static createProperty(e,n=gC){if(this._ensureClassProperties(),this._classProperties.set(e,n),n.noAccessor||this.prototype.hasOwnProperty(e))return;let r=typeof e=="symbol"?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let o=this[e];this[n]=i,this.requestUpdateInternal(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||gC}static finalize(){let e=Object.getPrototypeOf(this);if(e.hasOwnProperty(EC)||e.finalize(),this[EC]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(n):[]];for(let i of r)this.createProperty(i,n[i])}}static _attributeNameForProperty(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}static _valueHasChanged(e,n,r=bH){return r(e,n)}static _propertyValueFromAttribute(e,n){let r=n.type,i=n.converter||vC,o=typeof i=="function"?i:i.fromAttribute;return o?o(e,r):e}static _propertyValueToAttribute(e,n){if(n.reflect===void 0)return;let r=n.type,i=n.converter;return(i&&i.toAttribute||vC.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,n)=>{if(this.hasOwnProperty(n)){let r=this[n];delete this[n],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(n,r)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,n)=>this[n]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,n,r){n!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,n,r=gC){let i=this.constructor,o=i._attributeNameForProperty(e,r);if(o!==void 0){let a=i._propertyValueToAttribute(n,r);if(a===void 0)return;this._updateState=this._updateState|_C,a==null?this.removeAttribute(o):this.setAttribute(o,a),this._updateState=this._updateState&~_C}}_attributeToProperty(e,n){if(this._updateState&_C)return;let r=this.constructor,i=r._attributeToPropertyMap.get(e);if(i!==void 0){let o=r.getPropertyOptions(i);this._updateState=this._updateState|wC,this[i]=r._propertyValueFromAttribute(n,o),this._updateState=this._updateState&~wC}}requestUpdateInternal(e,n,r){let i=!0;if(e!==void 0){let o=this.constructor;r=r||o.getPropertyOptions(e),o._valueHasChanged(this[e],n,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,n),r.reflect===!0&&!(this._updateState&wC)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,n){return this.requestUpdateInternal(e,n),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|bC;try{await this._updatePromise}catch(n){}let e=this.performUpdate();return e!=null&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&bC}get hasUpdated(){return this._updateState&yC}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1,n=this._changedProperties;try{e=this.shouldUpdate(n),e?this.update(n):this._markUpdated()}catch(r){throw e=!1,this._markUpdated(),r}e&&(this._updateState&yC||(this._updateState=this._updateState|yC,this.firstUpdated(n)),this.updated(n))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~bC}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((n,r)=>this._propertyToAttribute(r,this[r],n)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}};yH=EC;ey[yH]=!0;var Coe=(t,e)=>(window.customElements.define(t,e),e),Ioe=(t,e)=>{let{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){window.customElements.define(t,i)}}},tt=t=>e=>typeof e=="function"?Coe(t,e):Ioe(t,e),Aoe=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},Roe=(t,e,n)=>{e.constructor.createProperty(n,t)};function H(t){return(e,n)=>n!==void 0?Roe(t,e,n):Aoe(t,e)}function Re(t){return H({attribute:!1,hasChanged:t==null?void 0:t.hasChanged})}function ge(t,e){return(n,r)=>{let i={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){let o=typeof r=="symbol"?Symbol():`__${r}`;i.get=function(){return this[o]===void 0&&(this[o]=this.renderRoot.querySelector(t)),this[o]}}return r!==void 0?_H(i,n,r):wH(i,n)}}function Uu(t){return(e,n)=>{let r={async get(){return await this.updateComplete,this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return n!==void 0?_H(r,e,n):wH(r,e)}}var _H=(t,e,n)=>{Object.defineProperty(e,n,t)},wH=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t}),koe=(t,e)=>Object.assign(Object.assign({},e),{finisher(n){Object.assign(n.prototype[e.key],t)}}),Doe=(t,e,n)=>{Object.assign(e[n],t)};function Vo(t){return(e,n)=>n!==void 0?Doe(t,e,n):koe(t,e)}var EH=Element.prototype,mve=EH.msMatchesSelector||EH.webkitMatchesSelector;var ty=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xC=Symbol(),ny=class{constructor(e,n){if(n!==xC)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return this._styleSheet===void 0&&(ty?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}},xH=t=>new ny(String(t),xC),Noe=t=>{if(t instanceof ny)return t.cssText;if(typeof t=="number")return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},nt=(t,...e)=>{let n=e.reduce((r,i,o)=>r+Noe(i)+t[o+1],t[0]);return new ny(n,xC)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var SH={},Pr=class extends ey{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;let e=this.getStyles();if(Array.isArray(e)){let n=(o,a)=>o.reduceRight((l,u)=>Array.isArray(u)?n(u,l):(l.add(u),l),a),r=n(e,new Set),i=[];r.forEach(o=>i.unshift(o)),this._styles=i}else this._styles=e===void 0?[]:[e];this._styles=this._styles.map(n=>{if(n instanceof CSSStyleSheet&&!ty){let r=Array.prototype.slice.call(n.cssRules).reduce((i,o)=>i+o.cssText,"");return xH(r)}return n})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){let e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(n=>n.cssText),this.localName):ty?this.renderRoot.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){let n=this.render();super.update(e),n!==SH&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(r=>{let i=document.createElement("style");i.textContent=r.cssText,this.renderRoot.appendChild(i)}))}render(){return SH}};Pr.finalized=!0;Pr.render=gH;re();re();re();re();re();function ry(t,e){var n=t.matches||t.webkitMatchesSelector||t.msMatchesSelector;return n.call(t,e)}var Bu=t=>t.nodeType===Node.ELEMENT_NODE;function TH(t,e){for(let n of t.assignedNodes({flatten:!0}))if(Bu(n)){let r=n;if(ry(r,e))return r}return null}function oi(t){return{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)}}var CH=!1,IH=()=>{},Ooe={get passive(){return CH=!0,!1}};document.addEventListener("x",IH,Ooe);document.removeEventListener("x",IH);var AH=CH,Th=(t=window.document)=>{let e=t.activeElement,n=[];if(!e)return n;for(;e&&(n.push(e),e.shadowRoot);)e=e.shadowRoot.activeElement;return n},iy=t=>{let e=Th();if(!e.length)return!1;let n=e[e.length-1],r=new Event("check-if-focused",{bubbles:!0,composed:!0}),i=[],o=a=>{i=a.composedPath()};return document.body.addEventListener("check-if-focused",o),n.dispatchEvent(r),document.body.removeEventListener("check-if-focused",o),i.indexOf(t)!==-1};var bn=class extends Pr{click(){if(this.mdcRoot){this.mdcRoot.focus(),this.mdcRoot.click();return}super.click()}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}};re();var St=function(){function t(e){e===void 0&&(e={}),this.adapter=e}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();var RH={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},kH={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},SC={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};function DH(t,e,n){if(!t)return{x:0,y:0};var r=e.x,i=e.y,o=r+n.left,a=i+n.top,l,u;if(t.type==="touchstart"){var d=t;l=d.changedTouches[0].pageX-o,u=d.changedTouches[0].pageY-a}else{var f=t;l=f.pageX-o,u=f.pageY-a}return{x:l,y:u}}var NH=["touchstart","pointerdown","mousedown","keydown"],OH=["touchend","pointerup","mouseup","contextmenu"],oy=[],Poe=function(t){M(e,t);function e(n){var r=t.call(this,C(C({},e.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(i){return r.activate_(i)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return RH},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return kH},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return SC},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=this,r=this.supportsPressRipple_();if(this.registerRootHandlers_(r),r){var i=e.cssClasses,o=i.ROOT,a=i.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(o),n.adapter.isUnbounded()&&(n.adapter.addClass(a),n.layoutInternal_())})}},e.prototype.destroy=function(){var n=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(i),n.adapter.removeClass(o),n.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(n){this.activate_(n)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var n=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(function(){n.layoutInternal_(),n.layoutFrame_=0})},e.prototype.setUnbounded=function(n){var r=e.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(n){var r=this;n&&(NH.forEach(function(i){r.adapter.registerInteractionHandler(i,r.activateHandler_)}),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(n){var r=this;n.type==="keydown"?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):OH.forEach(function(i){r.adapter.registerDocumentInteractionHandler(i,r.deactivateHandler_)})},e.prototype.deregisterRootHandlers_=function(){var n=this;NH.forEach(function(r){n.adapter.deregisterInteractionHandler(r,n.activateHandler_)}),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var n=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),OH.forEach(function(r){n.adapter.deregisterDocumentInteractionHandler(r,n.deactivateHandler_)})},e.prototype.removeCssVars_=function(){var n=this,r=e.strings,i=Object.keys(r);i.forEach(function(o){o.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[o],null)})},e.prototype.activate_=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var i=this.activationState_;if(!i.isActivated){var o=this.previousActivationEvent_,a=o&&n!==void 0&&o.type!==n.type;if(!a){i.isActivated=!0,i.isProgrammatic=n===void 0,i.activationEvent=n,i.wasActivatedByPointer=i.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var l=n!==void 0&&oy.length>0&&oy.some(function(u){return r.adapter.containsEventTarget(u)});if(l){this.resetActivationState_();return}n!==void 0&&(oy.push(n.target),this.registerDeactivationHandlers_(n)),i.wasElementMadeActive=this.checkElementMadeActive_(n),i.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(function(){oy=[],!i.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(i.wasElementMadeActive=r.checkElementMadeActive_(n),i.wasElementMadeActive&&r.animateActivation_()),i.wasElementMadeActive||(r.activationState_=r.defaultActivationState_())})}}}},e.prototype.checkElementMadeActive_=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},e.prototype.animateActivation_=function(){var n=this,r=e.strings,i=r.VAR_FG_TRANSLATE_START,o=r.VAR_FG_TRANSLATE_END,a=e.cssClasses,l=a.FG_DEACTIVATION,u=a.FG_ACTIVATION,d=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var f="",p="";if(!this.adapter.isUnbounded()){var v=this.getFgTranslationCoordinates_(),g=v.startPoint,b=v.endPoint;f=g.x+"px, "+g.y+"px",p=b.x+"px, "+b.y+"px"}this.adapter.updateCssVariable(i,f),this.adapter.updateCssVariable(o,p),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(l),this.adapter.computeBoundingRect(),this.adapter.addClass(u),this.activationTimer_=setTimeout(function(){return n.activationTimerCallback_()},d)},e.prototype.getFgTranslationCoordinates_=function(){var n=this.activationState_,r=n.activationEvent,i=n.wasActivatedByPointer,o;i?o=DH(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):o={x:this.frame_.width/2,y:this.frame_.height/2},o={x:o.x-this.initialSize_/2,y:o.y-this.initialSize_/2};var a={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint:o,endPoint:a}},e.prototype.runDeactivationUXLogicIfReady_=function(){var n=this,r=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,o=i.hasDeactivationUXRun,a=i.isActivated,l=o||!a;l&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer_=setTimeout(function(){n.adapter.removeClass(r)},SC.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var n=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var n=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(function(){return n.previousActivationEvent_=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var n=this,r=this.activationState_;if(!!r.isActivated){var i=C({},r);r.isProgrammatic?(requestAnimationFrame(function(){return n.animateDeactivation_(i)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){n.activationState_.hasDeactivationUXRun=!0,n.animateDeactivation_(i),n.resetActivationState_()}))}},e.prototype.animateDeactivation_=function(n){var r=n.wasActivatedByPointer,i=n.wasElementMadeActive;(r||i)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var n=this;this.frame_=this.adapter.computeBoundingRect();var r=Math.max(this.frame_.height,this.frame_.width),i=function(){var a=Math.sqrt(Math.pow(n.frame_.width,2)+Math.pow(n.frame_.height,2));return a+e.numbers.PADDING};this.maxRadius_=this.adapter.isUnbounded()?r:i();var o=Math.floor(r*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&o%2!=0?this.initialSize_=o-1:this.initialSize_=o,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var n=e.strings,r=n.VAR_FG_SIZE,i=n.VAR_LEFT,o=n.VAR_TOP,a=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize_+"px"),this.adapter.updateCssVariable(a,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(o,this.unboundedCoords_.top+"px"))},e}(St);var PH=Poe;var MH=class{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;let n=(e.getAttribute("class")||"").split(/\s+/);for(let r of n)this.classes.add(r)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach(n=>e+=n+" "),this.element.setAttribute("class",e)}}},LH=new WeakMap,st=Nr(t=>e=>{if(!(e instanceof ii)||e instanceof Bo||e.committer.name!=="class"||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:n}=e,{element:r}=n,i=LH.get(e);i===void 0&&(r.setAttribute("class",n.strings.join(" ")),LH.set(e,i=new Set));let o=r.classList||new MH(r);i.forEach(a=>{a in t||(o.remove(a),i.delete(a))});for(let a in t){let l=t[a];l!=i.has(a)&&(l?(o.add(a),i.add(a)):(o.remove(a),i.delete(a)))}typeof o.commit=="function"&&o.commit()});var FH=new WeakMap,sy=Nr(t=>e=>{if(!(e instanceof ii)||e instanceof Bo||e.committer.name!=="style"||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");let{committer:n}=e,{style:r}=n.element,i=FH.get(e);i===void 0&&(r.cssText=n.strings.join(" "),FH.set(e,i=new Set)),i.forEach(o=>{o in t||(i.delete(o),o.indexOf("-")===-1?r[o]=null:r.removeProperty(o))});for(let o in t)i.add(o),o.indexOf("-")===-1?r[o]=t[o]:r.setProperty(o,t[o])});var qt=class extends bn{constructor(){super(...arguments);this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=PH}get isActive(){return ry(this.parentElement||this,":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0;break;default:break}},removeClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1;break;default:break}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(e,n)=>{switch(e){case"--mdc-ripple-fg-scale":this.fgScale=n;break;case"--mdc-ripple-fg-size":this.fgSize=n;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=n;break;case"--mdc-ripple-fg-translate-start":this.translateStart=n;break;case"--mdc-ripple-left":this.leftPos=n;break;case"--mdc-ripple-top":this.topPos=n;break;default:break}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(e){this.waitForFoundation(()=>{this.mdcFoundation.activate(e)})}endPress(){this.waitForFoundation(()=>{this.mdcFoundation.deactivate()})}startFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleFocus()})}endFocus(){this.waitForFoundation(()=>{this.mdcFoundation.handleBlur()})}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(e){this.mdcFoundation?e():this.updateComplete.then(e)}update(e){e.has("disabled")&&this.disabled&&this.endHover(),super.update(e)}render(){let e=this.activated&&(this.primary||!this.accent),n=this.selected&&(this.primary||!this.accent),r={"mdc-ripple-surface--accent":this.accent,"mdc-ripple-surface--primary--activated":e,"mdc-ripple-surface--accent--activated":this.accent&&this.activated,"mdc-ripple-surface--primary--selected":n,"mdc-ripple-surface--accent--selected":this.accent&&this.selected,"mdc-ripple-surface--disabled":this.disabled,"mdc-ripple-surface--hover":this.hovering,"mdc-ripple-surface--primary":this.primary,"mdc-ripple-surface--selected":this.selected,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,"mdc-ripple-upgraded--unbounded":this.unbounded};return ne`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${st(r)}"
          style="${sy({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}};k([ge(".mdc-ripple-surface")],qt.prototype,"mdcRoot",void 0);k([H({type:Boolean})],qt.prototype,"primary",void 0);k([H({type:Boolean})],qt.prototype,"accent",void 0);k([H({type:Boolean})],qt.prototype,"unbounded",void 0);k([H({type:Boolean})],qt.prototype,"disabled",void 0);k([H({type:Boolean})],qt.prototype,"activated",void 0);k([H({type:Boolean})],qt.prototype,"selected",void 0);k([Re()],qt.prototype,"hovering",void 0);k([Re()],qt.prototype,"bgFocused",void 0);k([Re()],qt.prototype,"fgActivation",void 0);k([Re()],qt.prototype,"fgDeactivation",void 0);k([Re()],qt.prototype,"fgScale",void 0);k([Re()],qt.prototype,"fgSize",void 0);k([Re()],qt.prototype,"translateStart",void 0);k([Re()],qt.prototype,"translateEnd",void 0);k([Re()],qt.prototype,"leftPos",void 0);k([Re()],qt.prototype,"topPos",void 0);var UH=nt`.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:block}:host .mdc-ripple-surface{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;will-change:unset}.mdc-ripple-surface--primary::before,.mdc-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary:hover::before,.mdc-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before,.mdc-ripple-surface--primary--activated::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--activated:hover::before,.mdc-ripple-surface--primary--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--primary--selected::before,.mdc-ripple-surface--primary--selected::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--selected:hover::before,.mdc-ripple-surface--primary--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent::before,.mdc-ripple-surface--accent::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent:hover::before,.mdc-ripple-surface--accent.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--accent.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before,.mdc-ripple-surface--accent--activated::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--activated:hover::before,.mdc-ripple-surface--accent--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--accent--selected::before,.mdc-ripple-surface--accent--selected::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--selected:hover::before,.mdc-ripple-surface--accent--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--disabled{opacity:0}`;var TC=class extends qt{};TC.styles=UH;TC=k([tt("mwc-ripple")],TC);var Be=t=>(e,n)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){let r=e.constructor._observers;e.constructor._observers=new Map,r.forEach((i,o)=>e.constructor._observers.set(o,i))}}else{e.constructor._observers=new Map;let r=e.updated;e.updated=function(i){r.call(this,i),i.forEach((o,a)=>{let u=this.constructor._observers.get(a);u!==void 0&&u.call(this,this[a],o)})}}e.constructor._observers.set(n,t)};var bl=class{constructor(e){this.startPress=n=>{e().then(r=>{r&&r.startPress(n)})},this.endPress=()=>{e().then(n=>{n&&n.endPress()})},this.startFocus=()=>{e().then(n=>{n&&n.startFocus()})},this.endFocus=()=>{e().then(n=>{n&&n.endFocus()})},this.startHover=()=>{e().then(n=>{n&&n.startHover()})},this.endHover=()=>{e().then(n=>{n&&n.endHover()})}}};var sn=class extends Pr{constructor(){super(...arguments);this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new bl(()=>(this.shouldRenderRipple=!0,this.ripple)),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:e=>{let n=e.type;this.onDown(n==="mousedown"?"mouseup":"touchend",e)}}]}get text(){let e=this.textContent;return e?e.trim():""}render(){let e=this.renderText(),n=this.graphic?this.renderGraphic():ne``,r=this.hasMeta?this.renderMeta():ne``;return ne`
      ${this.renderRipple()}
      ${n}
      ${e}
      ${r}`}renderRipple(){return this.shouldRenderRipple?ne`
      <mwc-ripple
        .activated=${this.activated}>
      </mwc-ripple>`:this.activated?ne`<div class="fake-activated-ripple"></div>`:""}renderGraphic(){let e={multi:this.multipleGraphics};return ne`
      <span class="mdc-deprecated-list-item__graphic material-icons ${st(e)}">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return ne`
      <span class="mdc-deprecated-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){let e=this.twoline?this.renderTwoline():this.renderSingleLine();return ne`
      <span class="mdc-deprecated-list-item__text">
        ${e}
      </span>`}renderSingleLine(){return ne`<slot></slot>`}renderTwoline(){return ne`
      <span class="mdc-deprecated-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-deprecated-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(e,n){let r=()=>{window.removeEventListener(e,r),this.rippleHandlers.endPress()};window.addEventListener(e,r),this.rippleHandlers.startPress(n)}fireRequestSelected(e,n){if(this.noninteractive)return;let r=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:n,selected:e}});this.dispatchEvent(r)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(let e of this.listeners)for(let n of e.eventNames)e.target.addEventListener(n,e.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(let e of this.listeners)for(let n of e.eventNames)e.target.removeEventListener(n,e.cb);this._managingList&&(this._managingList.debouncedLayout?this._managingList.debouncedLayout(!0):this._managingList.layout(!0))}firstUpdated(){let e=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(e)}};k([ge("slot")],sn.prototype,"slotElement",void 0);k([Uu("mwc-ripple")],sn.prototype,"ripple",void 0);k([H({type:String})],sn.prototype,"value",void 0);k([H({type:String,reflect:!0})],sn.prototype,"group",void 0);k([H({type:Number,reflect:!0})],sn.prototype,"tabindex",void 0);k([H({type:Boolean,reflect:!0}),Be(function(t){t?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")})],sn.prototype,"disabled",void 0);k([H({type:Boolean,reflect:!0})],sn.prototype,"twoline",void 0);k([H({type:Boolean,reflect:!0})],sn.prototype,"activated",void 0);k([H({type:String,reflect:!0})],sn.prototype,"graphic",void 0);k([H({type:Boolean})],sn.prototype,"multipleGraphics",void 0);k([H({type:Boolean})],sn.prototype,"hasMeta",void 0);k([H({type:Boolean,reflect:!0}),Be(function(t){t?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")})],sn.prototype,"noninteractive",void 0);k([H({type:Boolean,reflect:!0}),Be(function(t){let e=this.getAttribute("role"),n=e==="gridcell"||e==="option"||e==="row"||e==="tab";if(n&&t?this.setAttribute("aria-selected","true"):n&&this.setAttribute("aria-selected","false"),this._firstChanged){this._firstChanged=!1;return}this._skipPropRequest||this.fireRequestSelected(t,"property")})],sn.prototype,"selected",void 0);k([Re()],sn.prototype,"shouldRenderRipple",void 0);k([Re()],sn.prototype,"_managingList",void 0);var BH=nt`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var( --mdc-theme-primary, #6200ee )}:host([activated]) .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-deprecated-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-deprecated-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-deprecated-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-item__meta.multi{width:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-deprecated-list-item__meta ::slotted(.material-icons),.mdc-deprecated-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-deprecated-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}[dir=rtl] .mdc-deprecated-list-item__meta,.mdc-deprecated-list-item__meta[dir=rtl]{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-deprecated-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-deprecated-list-item__text ::slotted([for]),.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-deprecated-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-deprecated-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-deprecated-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-deprecated-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-deprecated-list-item__text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-deprecated-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-deprecated-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-deprecated-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-deprecated-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}[dir=rtl] :host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=avatar]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] :host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}[dir=rtl] :host([graphic=icon]) .mdc-deprecated-list-item__graphic,:host([graphic=icon]) .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic.multi,:host([graphic=large]) .mdc-deprecated-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-deprecated-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`;var CC=class extends sn{};CC.styles=BH;CC=k([tt("mwc-list-item")],CC);var IC=new WeakMap,zt=Nr(t=>e=>{let n=IC.get(e);if(t===void 0&&e instanceof ii){if(n!==void 0||!IC.has(e)){let r=e.committer.name;e.committer.element.removeAttribute(r)}}else t!==n&&e.setValue(t);IC.set(e,t)});var ve={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},Xn=new Set;Xn.add(ve.BACKSPACE);Xn.add(ve.ENTER);Xn.add(ve.SPACEBAR);Xn.add(ve.PAGE_UP);Xn.add(ve.PAGE_DOWN);Xn.add(ve.END);Xn.add(ve.HOME);Xn.add(ve.ARROW_LEFT);Xn.add(ve.ARROW_UP);Xn.add(ve.ARROW_RIGHT);Xn.add(ve.ARROW_DOWN);Xn.add(ve.DELETE);Xn.add(ve.ESCAPE);Xn.add(ve.TAB);var fr={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27,TAB:9},Qn=new Map;Qn.set(fr.BACKSPACE,ve.BACKSPACE);Qn.set(fr.ENTER,ve.ENTER);Qn.set(fr.SPACEBAR,ve.SPACEBAR);Qn.set(fr.PAGE_UP,ve.PAGE_UP);Qn.set(fr.PAGE_DOWN,ve.PAGE_DOWN);Qn.set(fr.END,ve.END);Qn.set(fr.HOME,ve.HOME);Qn.set(fr.ARROW_LEFT,ve.ARROW_LEFT);Qn.set(fr.ARROW_UP,ve.ARROW_UP);Qn.set(fr.ARROW_RIGHT,ve.ARROW_RIGHT);Qn.set(fr.ARROW_DOWN,ve.ARROW_DOWN);Qn.set(fr.DELETE,ve.DELETE);Qn.set(fr.ESCAPE,ve.ESCAPE);Qn.set(fr.TAB,ve.TAB);var Vs=new Set;Vs.add(ve.PAGE_UP);Vs.add(ve.PAGE_DOWN);Vs.add(ve.END);Vs.add(ve.HOME);Vs.add(ve.ARROW_LEFT);Vs.add(ve.ARROW_UP);Vs.add(ve.ARROW_RIGHT);Vs.add(ve.ARROW_DOWN);function rt(t){var e=t.key;if(Xn.has(e))return e;var n=Qn.get(t.keyCode);return n||ve.UNKNOWN}var Hs,Ho,Ye={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},Cge=(Hs={},Hs[""+Ye.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Hs[""+Ye.LIST_ITEM_CLASS]="mdc-list-item",Hs[""+Ye.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Hs[""+Ye.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Hs[""+Ye.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Hs[""+Ye.ROOT]="mdc-list",Hs),Vu=(Ho={},Ho[""+Ye.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",Ho[""+Ye.LIST_ITEM_CLASS]="mdc-deprecated-list-item",Ho[""+Ye.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",Ho[""+Ye.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",Ho[""+Ye.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",Ho[""+Ye.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",Ho[""+Ye.ROOT]="mdc-deprecated-list",Ho),Ch={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+Ye.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+Ye.LIST_ITEM_CLASS+` a,
    .`+Vu[Ye.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+Vu[Ye.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+Ye.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+Ye.LIST_ITEM_CLASS+` a,
    .`+Ye.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+Ye.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+Vu[Ye.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+Vu[Ye.LIST_ITEM_CLASS]+` a,
    .`+Vu[Ye.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+Vu[Ye.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},_n={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};var AC=(t,e)=>t-e,Moe=(t,e)=>{let n=Array.from(t),r=Array.from(e),i={added:[],removed:[]},o=n.sort(AC),a=r.sort(AC),l=0,u=0;for(;l<o.length||u<a.length;){let d=o[l],f=a[u];if(d===f){l++,u++;continue}if(d!==void 0&&(f===void 0||d<f)){i.removed.push(d),l++;continue}if(f!==void 0&&(d===void 0||f<d)){i.added.push(f),u++;continue}}return i},Loe=["input","button","textarea","select"];function lo(t){return t instanceof Set}var _l=t=>{let e=t===_n.UNSET_INDEX?new Set:t;return lo(e)?new Set(e):new Set([e])},ay=class extends St{constructor(e){super(Object.assign(Object.assign({},ay.defaultAdapter),e));this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=_n.UNSET_INDEX,this.focusedItemIndex_=_n.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return Ch}static get numbers(){return _n}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(e){this.wrapFocus_=e}setMulti(e){this.isMulti_=e;let n=this.selectedIndex_;if(e){if(!lo(n)){let r=n===_n.UNSET_INDEX;this.selectedIndex_=r?new Set:new Set([n])}}else if(lo(n))if(n.size){let r=Array.from(n).sort(AC);this.selectedIndex_=r[0]}else this.selectedIndex_=_n.UNSET_INDEX}setVerticalOrientation(e){this.isVertical_=e}setUseActivatedClass(e){this.useActivatedClass_=e}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(e){!this.isIndexValid_(e)||(this.isMulti_?this.setMultiSelectionAtIndex_(_l(e)):this.setSingleSelectionAtIndex_(e))}handleFocusIn(e,n){n>=0&&this.adapter.setTabIndexForElementIndex(n,0)}handleFocusOut(e,n){n>=0&&this.adapter.setTabIndexForElementIndex(n,-1),setTimeout(()=>{this.adapter.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()},0)}handleKeydown(e,n,r){let i=rt(e)==="ArrowLeft",o=rt(e)==="ArrowUp",a=rt(e)==="ArrowRight",l=rt(e)==="ArrowDown",u=rt(e)==="Home",d=rt(e)==="End",f=rt(e)==="Enter",p=rt(e)==="Spacebar";if(this.adapter.isRootFocused()){o||d?(e.preventDefault(),this.focusLastElement()):(l||u)&&(e.preventDefault(),this.focusFirstElement());return}let v=this.adapter.getFocusedElementIndex();if(v===-1&&(v=r,v<0))return;let g;if(this.isVertical_&&l||!this.isVertical_&&a)this.preventDefaultEvent(e),g=this.focusNextElement(v);else if(this.isVertical_&&o||!this.isVertical_&&i)this.preventDefaultEvent(e),g=this.focusPrevElement(v);else if(u)this.preventDefaultEvent(e),g=this.focusFirstElement();else if(d)this.preventDefaultEvent(e),g=this.focusLastElement();else if((f||p)&&n){let b=e.target;if(b&&b.tagName==="A"&&f)return;this.preventDefaultEvent(e),this.setSelectedIndexOnAction_(v,!0)}this.focusedItemIndex_=v,g!==void 0&&(this.setTabindexAtIndex_(g),this.focusedItemIndex_=g)}handleSingleSelection(e,n,r){e!==_n.UNSET_INDEX&&(this.setSelectedIndexOnAction_(e,n,r),this.setTabindexAtIndex_(e),this.focusedItemIndex_=e)}focusNextElement(e){let n=this.adapter.getListItemCount(),r=e+1;if(r>=n)if(this.wrapFocus_)r=0;else return e;return this.adapter.focusItemAtIndex(r),r}focusPrevElement(e){let n=e-1;if(n<0)if(this.wrapFocus_)n=this.adapter.getListItemCount()-1;else return e;return this.adapter.focusItemAtIndex(n),n}focusFirstElement(){return this.adapter.focusItemAtIndex(0),0}focusLastElement(){let e=this.adapter.getListItemCount()-1;return this.adapter.focusItemAtIndex(e),e}setEnabled(e,n){!this.isIndexValid_(e)||this.adapter.setDisabledStateForElementIndex(e,!n)}preventDefaultEvent(e){let r=`${e.target.tagName}`.toLowerCase();Loe.indexOf(r)===-1&&e.preventDefault()}setSingleSelectionAtIndex_(e,n=!0){this.selectedIndex_!==e&&(this.selectedIndex_!==_n.UNSET_INDEX&&(this.adapter.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(this.selectedIndex_,!1)),n&&this.adapter.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(e,!0),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e,this.adapter.notifySelected(e))}setMultiSelectionAtIndex_(e,n=!0){let r=_l(this.selectedIndex_),i=Moe(r,e);if(!(!i.removed.length&&!i.added.length)){for(let o of i.removed)n&&this.adapter.setSelectedStateForElementIndex(o,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(o,!1);for(let o of i.added)n&&this.adapter.setSelectedStateForElementIndex(o,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(o,!0);this.selectedIndex_=e,this.adapter.notifySelected(e,i)}}setAriaForSingleSelectionAtIndex_(e){this.selectedIndex_===_n.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(e,Ch.ARIA_CURRENT));let n=this.ariaCurrentAttrValue_!==null,r=n?Ch.ARIA_CURRENT:Ch.ARIA_SELECTED;this.selectedIndex_!==_n.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,r,"false");let i=n?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(e,r,i)}setTabindexAtIndex_(e){this.focusedItemIndex_===_n.UNSET_INDEX&&e!==0?this.adapter.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==e&&this.adapter.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter.setTabIndexForElementIndex(e,0)}setTabindexToFirstSelectedItem_(){let e=0;typeof this.selectedIndex_=="number"&&this.selectedIndex_!==_n.UNSET_INDEX?e=this.selectedIndex_:lo(this.selectedIndex_)&&this.selectedIndex_.size>0&&(e=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(e)}isIndexValid_(e){if(e instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(e.size===0)return!0;{let n=!1;for(let r of e)if(n=this.isIndexInRange_(r),n)break;return n}}else if(typeof e=="number"){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return e===_n.UNSET_INDEX||this.isIndexInRange_(e)}else return!1}isIndexInRange_(e){let n=this.adapter.getListItemCount();return e>=0&&e<n}setSelectedIndexOnAction_(e,n,r){if(this.adapter.getDisabledStateForElementIndex(e))return;let i=e;this.isMulti_&&(i=new Set([e])),!!this.isIndexValid_(i)&&(this.isMulti_?this.toggleMultiAtIndex(e,r,n):n||r?this.setSingleSelectionAtIndex_(e,n):this.selectedIndex_===e&&this.setSingleSelectionAtIndex_(_n.UNSET_INDEX),n&&this.adapter.notifyAction(e))}toggleMultiAtIndex(e,n,r=!0){let i=!1;n===void 0?i=!this.adapter.getSelectedStateForElementIndex(e):i=n;let o=_l(this.selectedIndex_);i?o.add(e):o.delete(e),this.setMultiSelectionAtIndex_(o,r)}},VH=ay;function Foe(t,e=50){let n;return function(r=!0){clearTimeout(n),n=setTimeout(()=>{t(r)},e)}}var ly=t=>t.hasAttribute("mwc-list-item");function Uoe(){let t=this.itemsReadyResolver;this.itemsReady=new Promise(e=>this.itemsReadyResolver=e),t()}var hr=class extends bn{constructor(){super();this.mdcAdapter=null,this.mdcFoundationClass=VH,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.innerAriaLabel=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.itemsReadyResolver=()=>{},this.itemsReady=Promise.resolve([]),this.items_=[];let e=Foe(this.layout.bind(this));this.debouncedLayout=(n=!0)=>{Uoe.call(this),e(n)}}async _getUpdateComplete(){let e=!1;return super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),await this.itemsReady,e}async getUpdateComplete(){return this._getUpdateComplete()}get assignedElements(){let e=this.slotElement;return e?e.assignedNodes({flatten:!0}).filter(Bu):[]}get items(){return this.items_}updateItems(){let e=this.assignedElements,n=[];for(let o of e)ly(o)&&(n.push(o),o._managingList=this),o.hasAttribute("divider")&&!o.hasAttribute("role")&&o.setAttribute("role","separator");this.items_=n;let r=new Set;if(this.items_.forEach((o,a)=>{this.itemRoles?o.setAttribute("role",this.itemRoles):o.removeAttribute("role"),o.selected&&r.add(a)}),this.multi)this.select(r);else{let o=r.size?r.entries().next().value[1]:-1;this.select(o)}let i=new Event("items-updated",{bubbles:!0,composed:!0});this.dispatchEvent(i)}get selected(){let e=this.index;if(!lo(e))return e===-1?null:this.items[e];let n=[];for(let r of e)n.push(this.items[r]);return n}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){let e=this.innerRole===null?void 0:this.innerRole,n=this.innerAriaLabel===null?void 0:this.innerAriaLabel,r=this.rootTabbable?"0":"-1";return ne`
      <!-- @ts-ignore -->
      <ul
          tabindex=${r}
          role="${zt(e)}"
          aria-label="${zt(n)}"
          class="mdc-deprecated-list"
          @keydown=${this.onKeydown}
          @focusin=${this.onFocusIn}
          @focusout=${this.onFocusOut}
          @request-selected=${this.onRequestSelected}
          @list-item-rendered=${this.onListItemConnected}>
        <slot></slot>
        ${this.renderPlaceholder()}
      </ul>
    `}renderPlaceholder(){return this.emptyMessage!==void 0&&this.assignedElements.length===0?ne`
        <mwc-list-item noninteractive>${this.emptyMessage}</mwc-list-item>
      `:null}firstUpdated(){super.firstUpdated(),this.items.length||(this.mdcFoundation.setMulti(this.multi),this.layout())}onFocusIn(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusIn(e,n)}}onFocusOut(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusOut(e,n)}}onKeydown(e){if(this.mdcFoundation&&this.mdcRoot){let n=this.getIndexOfTarget(e),r=e.target,i=ly(r);this.mdcFoundation.handleKeydown(e,i,n)}}onRequestSelected(e){if(this.mdcFoundation){let n=this.getIndexOfTarget(e);if(n===-1&&(this.layout(),n=this.getIndexOfTarget(e),n===-1)||this.items[n].disabled)return;let i=e.detail.selected,o=e.detail.source;this.mdcFoundation.handleSingleSelection(n,o==="interaction",i),e.stopPropagation()}}getIndexOfTarget(e){let n=this.items,r=e.composedPath();for(let i of r){let o=-1;if(Bu(i)&&ly(i)&&(o=n.indexOf(i)),o!==-1)return o}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:this.getFocusedItemIndex,getAttributeForElementIndex:(e,n)=>{if(!this.mdcRoot)return"";let i=this.items[e];return i?i.getAttribute(n):""},setAttributeForElementIndex:(e,n,r)=>{if(!this.mdcRoot)return;let i=this.items[e];i&&i.setAttribute(n,r)},focusItemAtIndex:e=>{let n=this.items[e];n&&n.focus()},setTabIndexForElementIndex:(e,n)=>{let r=this.items[e];r&&(r.tabindex=n)},notifyAction:e=>{let n={bubbles:!0,composed:!0};n.detail={index:e};let r=new CustomEvent("action",n);this.dispatchEvent(r)},notifySelected:(e,n)=>{let r={bubbles:!0,composed:!0};r.detail={index:e,diff:n};let i=new CustomEvent("selected",r);this.dispatchEvent(i)},isFocusInsideList:()=>iy(this),isRootFocused:()=>{let e=this.mdcRoot;return e.getRootNode().activeElement===e},setDisabledStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.disabled=n)},getDisabledStateForElementIndex:e=>{let n=this.items[e];return n?n.disabled:!1},setSelectedStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.selected=n)},getSelectedStateForElementIndex:e=>{let n=this.items[e];return n?n.selected:!1},setActivatedStateForElementIndex:(e,n)=>{let r=this.items[e];!r||(r.activated=n)}},this.mdcAdapter}selectUi(e,n=!1){let r=this.items[e];r&&(r.selected=!0,r.activated=n)}deselectUi(e){let n=this.items[e];n&&(n.selected=!1,n.activated=!1)}select(e){!this.mdcFoundation||this.mdcFoundation.setSelectedIndex(e)}toggle(e,n){this.multi&&this.mdcFoundation.toggleMultiAtIndex(e,n)}onListItemConnected(e){let n=e.target;this.layout(this.items.indexOf(n)===-1)}layout(e=!0){e&&this.updateItems();let n=this.items[0];for(let r of this.items)r.tabindex=-1;n&&(this.noninteractive?this.previousTabindex||(this.previousTabindex=n):n.tabindex=0),this.itemsReadyResolver()}getFocusedItemIndex(){if(!this.mdcRoot||!this.items.length)return-1;let e=Th();if(!e.length)return-1;for(let n=e.length-1;n>=0;n--){let r=e[n];if(ly(r))return this.items.indexOf(r)}return-1}focusItemAtIndex(e){for(let n of this.items)if(n.tabindex===0){n.tabindex=-1;break}this.items[e].tabindex=0,this.items[e].focus()}focus(){let e=this.mdcRoot;e&&e.focus()}blur(){let e=this.mdcRoot;e&&e.blur()}};k([H({type:String})],hr.prototype,"emptyMessage",void 0);k([ge(".mdc-deprecated-list")],hr.prototype,"mdcRoot",void 0);k([ge("slot")],hr.prototype,"slotElement",void 0);k([H({type:Boolean}),Be(function(t){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(t)})],hr.prototype,"activatable",void 0);k([H({type:Boolean}),Be(function(t,e){this.mdcFoundation&&this.mdcFoundation.setMulti(t),e!==void 0&&this.layout()})],hr.prototype,"multi",void 0);k([H({type:Boolean}),Be(function(t){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(t)})],hr.prototype,"wrapFocus",void 0);k([H({type:String}),Be(function(t,e){e!==void 0&&this.updateItems()})],hr.prototype,"itemRoles",void 0);k([H({type:String})],hr.prototype,"innerRole",void 0);k([H({type:String})],hr.prototype,"innerAriaLabel",void 0);k([H({type:Boolean})],hr.prototype,"rootTabbable",void 0);k([H({type:Boolean,reflect:!0}),Be(function(t){let e=this.slotElement;if(t&&e){let n=TH(e,'[tabindex="0"]');this.previousTabindex=n,n&&n.setAttribute("tabindex","-1")}else!t&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)})],hr.prototype,"noninteractive",void 0);var HH=nt`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item{height:48px}.mdc-deprecated-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-deprecated-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-deprecated-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-deprecated-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc( 100% - var(--mdc-list-inset-margin, 72px) )}[dir=rtl] .mdc-deprecated-list ::slotted([divider][inset]),.mdc-deprecated-list ::slotted([divider][inset])[dir=rtl]{margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-deprecated-list ::slotted([divider][inset][padded]){width:calc( 100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px) )}.mdc-deprecated-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-deprecated-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-deprecated-list--two-line.mdc-deprecated-list--dense ::slotted([mwc-list-item]),.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-deprecated-list--dense ::slotted(.mdc-deprecated-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`;var kC=class extends hr{};kC.styles=HH;kC=k([tt("mwc-list")],kC);var jH=vt`
  :host {
    display: flex;
    flex: auto;
    width: 22%;
    min-width: 10em;
    max-width: 13em;
    background-color: white;
    color: #ffffff;
  }
  #navigation-body {
    display: flex;
    flex-direction: column;
    flex: auto;
  }
  .navigation-body-item {
    display: flex;
    flex: auto;
    max-height: 50px;
    height: 10vh;
    background-color: #1a237e;
  }
  .navigation-body-item:hover {
    background-color: #000051;
  }
  .active {
    background-color: #534bae;
  }
  .navigation-body-item h2 {
    margin: auto auto auto 15px;
  }
`;var Hu=class extends Ve{constructor(){super(...arguments);this.selectItem=e=>{let n=new CustomEvent("page-selected",{detail:{data:{page:e.target},message:"Page Item Selected"},bubbles:!0,composed:!0});this.dispatchEvent(n)}}render(){return Z`
      <slot name="header-bar"></slot>
      <mwc-list activatable id="navigation-body">
        <li divider role="separator"></li>
        ${this.items.map(e=>Z`
        <mwc-list-item @click="${()=>{this.selectItem(e)}}">${e.label}</mwc-list-item>
        <li divider role="separator"></li>
        `)}
      </mwc-list>
    `}};Hu.styles=jH,J([de({type:String})],Hu.prototype,"label",2),J([de({type:Array})],Hu.prototype,"items",2),Hu=J([Ze("content-wrapper-nav")],Hu);var cy=class extends Ve{render(){return Z`
      <slot></slot>
    `}};cy.styles=vt`
    :host {
      display: flex;
      margin: 15px;
      flex-direction: column;
      min-width:40%;
      max-width: 80%;
      min-height:40%;
      overflow: hidden;
      background-color: #E1E2E1;
    }`,cy=J([Ze("content-item")],cy);var wl=class extends Ve{constructor(){super(...arguments);this.showNavigation=!1;this.contentItems=[]}render(){return[this.showNavigation&&this.contentItems.length>1?Z`
        <content-wrapper-nav
          .items = "${this.contentItems}" >
        </content-wrapper-nav>
      `:Z`
      `,Z`
      <div id="content-display-wrapper">
        <slot name="header-bar"></slot>
        <div id="content-display-render">
          <slot name="content"></slot>
        </div>
      </div>
    `]}};wl.styles=sH,J([de({type:String})],wl.prototype,"navLabel",2),J([de({type:Boolean})],wl.prototype,"showNavigation",2),J([de({type:Array})],wl.prototype,"contentItems",2),wl=J([Ze("content-wrapper")],wl);var qH=vt`
  :host {
    
  }
  content-item {
    width: 30%;
    height: 30%;
    margin: auto;
  }
  .block-wrap {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    height: 100%;
  }
  .block-wrap > div {
    text-align: center;
  }

  .btn-google {
    display: inline-block;
    border-radius: 1px;
    text-decoration: none;
    box-shadow: 0 2px 4px 0 rgba(0,0,0,.25);
    transition: background-color .218s, border-color .218s ,box-shadow .218s;
  }
  .google-content {
    display:flex;
    align-items: center;
    width: 100%;
    height: 100%;
  }
  .google-content .logo {
    height: 100%;
    width: 50px;
    padding: 15px;
  }
  .google-content svg {
  }
  .google-content .label {
    width: 100%;
    height: 100%;
    line-height: 1;
    letter-spacing: .21px;
    text-align: center;
    font-weight: 500;
    font-family: 'Roboto', sans-serif;
    padding: 15px;
    background: #4285f4;
    margin: 0;
    color: white;
    cursor: unset;
  }
  .btn-google {
    background: #FFF;
    cursor: pointer;
  }
	.btn-google:hover {
		box-shadow: 0 0 3px 3px rgba(66,133,244,.3)
  }
  .btn-google:active {
		background-color: #eee;
  }
	.btn-google.google-content p {
		color: #757575;
  }
  

`;var Ih=class extends Ve{constructor(){super(...arguments);this.loggedIn=(e,n)=>{let r=new CustomEvent("login-change",{detail:{data:e,message:"Something important happened"},bubbles:!0,composed:!0});this.dispatchEvent(r)};this.handleGoogleLogin=()=>{let e=new Q.auth.GoogleAuthProvider;Q.auth().setPersistence(Q.auth.Auth.Persistence.SESSION).then(()=>{Q.auth().signInWithPopup(e).then(n=>{this.serverApi.setUserId(n.user.uid),this.loggedIn(!0,n.user)}).catch(n=>console.log(n))})}}render(){return Z`
    <page-display>
        <content-item slot="content">
          <div class="block-wrap">
              <a class="btn-google" @click='${this.handleGoogleLogin}'>
                <div class="google-content">
                  <div class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48">
                    <defs><path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z"/><path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z"/><path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z"/><path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z"/>
                  </svg>
                  </div>
                  <div class="label">
                    <p>Sign in with Google</p>
                  </div>
                </div>
              </a>
          </div>
        </content-item>
    </page-display>
    `}};Ih.styles=qH,J([de()],Ih.prototype,"serverApi",2),Ih=J([Ze("auth-index")],Ih);re();re();re();var zH=nt`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`;var DC=class extends Pr{render(){return ne`<slot></slot>`}};DC.styles=zH;DC=k([tt("mwc-icon")],DC);var wn=class extends Pr{constructor(){super(...arguments);this.raised=!1,this.unelevated=!1,this.outlined=!1,this.dense=!1,this.disabled=!1,this.trailingIcon=!1,this.fullwidth=!1,this.icon="",this.label="",this.expandContent=!1,this.shouldRenderRipple=!1,this.rippleHandlers=new bl(()=>(this.shouldRenderRipple=!0,this.ripple))}renderOverlay(){return ne``}renderRipple(){let e=this.raised||this.unelevated;return this.shouldRenderRipple?ne`<mwc-ripple class="ripple" .primary="${!e}" .disabled="${this.disabled}"></mwc-ripple>`:""}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}focus(){let e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){let e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}getRenderClasses(){return st({"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense})}render(){return ne`
      <button
          id="button"
          class="mdc-button ${this.getRenderClasses()}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}"
          @focus="${this.handleRippleFocus}"
          @blur="${this.handleRippleBlur}"
          @mousedown="${this.handleRippleActivate}"
          @mouseenter="${this.handleRippleMouseEnter}"
          @mouseleave="${this.handleRippleMouseLeave}"
          @touchstart="${this.handleRippleActivate}"
          @touchend="${this.handleRippleDeactivate}"
          @touchcancel="${this.handleRippleDeactivate}">
        ${this.renderOverlay()}
        ${this.renderRipple()}
        <span class="leading-icon">
          <slot name="icon">
            ${this.icon&&!this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
        <span class="mdc-button__label">${this.label}</span>
        <span class="slot-container ${st({flex:this.expandContent})}">
          <slot></slot>
        </span>
        <span class="trailing-icon">
          <slot name="trailingIcon">
            ${this.icon&&this.trailingIcon?this.renderIcon():""}
          </slot>
        </span>
      </button>`}renderIcon(){return ne`
    <mwc-icon class="mdc-button__icon">
      ${this.icon}
    </mwc-icon>`}handleRippleActivate(e){let n=()=>{window.removeEventListener("mouseup",n),this.handleRippleDeactivate()};window.addEventListener("mouseup",n),this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}};k([H({type:Boolean,reflect:!0})],wn.prototype,"raised",void 0);k([H({type:Boolean,reflect:!0})],wn.prototype,"unelevated",void 0);k([H({type:Boolean,reflect:!0})],wn.prototype,"outlined",void 0);k([H({type:Boolean})],wn.prototype,"dense",void 0);k([H({type:Boolean,reflect:!0})],wn.prototype,"disabled",void 0);k([H({type:Boolean,attribute:"trailingicon"})],wn.prototype,"trailingIcon",void 0);k([H({type:Boolean,reflect:!0})],wn.prototype,"fullwidth",void 0);k([H({type:String})],wn.prototype,"icon",void 0);k([H({type:String})],wn.prototype,"label",void 0);k([H({type:Boolean})],wn.prototype,"expandContent",void 0);k([ge("#button")],wn.prototype,"buttonElement",void 0);k([Uu("mwc-ripple")],wn.prototype,"ripple",void 0);k([Re()],wn.prototype,"shouldRenderRipple",void 0);k([Vo({passive:!0})],wn.prototype,"handleRippleActivate",null);var WH=nt`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;height:48px;left:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{border-style:solid}.mdc-button{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 8px 0 8px}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:disabled{background-color:transparent}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px;height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0, 0, 0, 0.12)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--raised .mdc-button__ripple,.mdc-button--unelevated .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined{height:36px;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);padding:0 15px 0 15px;border-width:1px}.mdc-button--outlined:not(:disabled){background-color:transparent}.mdc-button--outlined:disabled{background-color:transparent}.mdc-button--outlined:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button--outlined:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--outlined .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined:disabled{border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined.mdc-button--icon-trailing{padding:0 11px 0 15px}.mdc-button--outlined.mdc-button--icon-leading{padding:0 15px 0 11px}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent;vertical-align:top}:host([fullwidth]){width:100%}:host([raised]),:host([unelevated]){--mdc-ripple-color:#fff;--mdc-ripple-focus-opacity:0.24;--mdc-ripple-hover-opacity:0.08;--mdc-ripple-press-opacity:0.24}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon,.leading-icon ::slotted(*),.leading-icon .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;font-size:1.125rem;height:1.125rem;vertical-align:top;width:1.125rem}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl],[dir=rtl] .leading-icon ::slotted(*),.leading-icon ::slotted(*)[dir=rtl],[dir=rtl] .leading-icon .mdc-button__icon,.leading-icon .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}.slot-container{display:inline-flex;align-items:center;justify-content:center}.slot-container.flex{flex:auto}.mdc-button{flex:auto;overflow:hidden;padding-left:8px;padding-left:var(--mdc-button-horizontal-padding, 8px);padding-right:8px;padding-right:var(--mdc-button-horizontal-padding, 8px)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-focus, var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)))}.mdc-button--raised:hover{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-active, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-disabled, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised,.mdc-button--unelevated{padding-left:16px;padding-left:var(--mdc-button-horizontal-padding, 16px);padding-right:16px;padding-right:var(--mdc-button-horizontal-padding, 16px)}.mdc-button--outlined{border-width:1px;border-width:var(--mdc-button-outline-width, 1px);padding-left:calc(16px - 1px);padding-left:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px));padding-right:calc(16px - 1px);padding-right:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px))}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined .ripple{top:calc(-1 * 1px);top:calc(-1 * var(--mdc-button-outline-width, 1px));left:calc(-1 * 1px);left:calc(-1 * var(--mdc-button-outline-width, 1px));right:initial;right:initial;border-width:1px;border-width:var(--mdc-button-outline-width, 1px);border-style:solid;border-color:transparent}[dir=rtl] .mdc-button--outlined .ripple,.mdc-button--outlined .ripple[dir=rtl]{left:initial;left:initial;right:calc(-1 * 1px);right:calc(-1 * var(--mdc-button-outline-width, 1px))}.mdc-button--dense{height:28px;margin-top:0;margin-bottom:0}.mdc-button--dense .mdc-button__touch{display:none}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-button{color:rgba(0, 0, 0, 0.38);color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button--raised,:host([disabled]) .mdc-button--unelevated{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-button-disabled-fill-color, rgba(0, 0, 0, 0.12))}:host([disabled]) .mdc-button--outlined{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}`;var NC=class extends wn{};NC.styles=WH;NC=k([tt("mwc-button")],NC);re();re();(()=>{var t,e,n;let r=Symbol(),i=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),u=Symbol(),d=Symbol(),f=Symbol(),p=Symbol(),v=Symbol(),g=Symbol(),b=Symbol(),_=Symbol();class E{constructor(){this[t]=[],this[e]=[],this[n]=new Set}destructor(){this[p](this[o]);let T=this;T[r]=null,T[o]=null,T[i]=null}get top(){let T=this[r];return T[T.length-1]||null}push(T){!T||T===this.top||(this.remove(T),this[u](T),this[r].push(T))}remove(T){let R=this[r].indexOf(T);return R===-1?!1:(this[r].splice(R,1),R===this[r].length&&this[u](this.top),!0)}pop(){let T=this.top;return T&&this.remove(T),T}has(T){return this[r].indexOf(T)!==-1}[(t=r,e=o,n=i,u)](T){let R=this[i],P=this[o];if(!T){this[p](P),R.clear(),this[o]=[];return}let L=this[v](T);if(L[L.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=L;let F=this[g](T);if(!P.length){this[f](L,F,R);return}let G=P.length-1,Y=L.length-1;for(;G>0&&Y>0&&P[G]===L[Y];)G--,Y--;P[G]!==L[Y]&&this[d](P[G],L[Y]),G>0&&this[p](P.slice(0,G)),Y>0&&this[f](L.slice(0,Y),F,null)}[d](T,R){let P=T[a];this[b](T)&&!T.inert&&(T.inert=!0,P.add(T)),P.has(R)&&(R.inert=!1,P.delete(R)),R[l]=T[l],R[a]=P,T[l]=void 0,T[a]=void 0}[p](T){for(let R of T){R[l].disconnect(),R[l]=void 0;let L=R[a];for(let F of L)F.inert=!1;R[a]=void 0}}[f](T,R,P){for(let L of T){let F=L.parentNode,G=F.children,Y=new Set;for(let Zn=0;Zn<G.length;Zn++){let Jt=G[Zn];Jt===L||!this[b](Jt)||R&&R.has(Jt)||(P&&Jt.inert?P.add(Jt):(Jt.inert=!0,Y.add(Jt)))}L[a]=Y;let $=new MutationObserver(this[_].bind(this));L[l]=$;let ze=F,O=ze;O.__shady&&O.host&&(ze=O.host),$.observe(ze,{childList:!0})}}[_](T){let R=this[o],P=this[i];for(let L of T){let F=L.target.host||L.target,G=F===document.body?R.length:R.indexOf(F),Y=R[G-1],$=Y[a];for(let ze=0;ze<L.removedNodes.length;ze++){let O=L.removedNodes[ze];if(O===Y){console.info("Detected removal of the top Blocking Element."),this.pop();return}$.has(O)&&(O.inert=!1,$.delete(O))}for(let ze=0;ze<L.addedNodes.length;ze++){let O=L.addedNodes[ze];!this[b](O)||(P&&O.inert?P.add(O):(O.inert=!0,$.add(O)))}}}[b](T){return/^(style|template|script)$/.test(T.localName)===!1}[v](T){let R=[],P=T;for(;P&&P!==document.body;){if(P.nodeType===Node.ELEMENT_NODE&&R.push(P),P.assignedSlot){for(;P=P.assignedSlot;)R.push(P);P=R.pop();continue}P=P.parentNode||P.host}return R}[g](T){let R=T.shadowRoot;if(!R)return null;let P=new Set,L,F,G,Y=R.querySelectorAll("slot");if(Y.length&&Y[0].assignedNodes)for(L=0;L<Y.length;L++)for(G=Y[L].assignedNodes({flatten:!0}),F=0;F<G.length;F++)G[F].nodeType===Node.ELEMENT_NODE&&P.add(G[F]);return P}}document.$blockingElements=new E})();var OC=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function PC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(){if(typeof window=="undefined")return;var t=Array.prototype.slice,e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),r=function(){function d(f,p){PC(this,d),this._inertManager=p,this._rootElement=f,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return OC(d,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(this._savedAriaHidden!==null?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach(function(p){this._unmanageNode(p.node)},this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(p){var v=this;a(p,function(E){return v._visitNode(E)});var g=document.activeElement;if(!document.body.contains(p)){for(var b=p,_=void 0;b;){if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE){_=b;break}b=b.parentNode}_&&(g=_.activeElement)}p.contains(g)&&(g.blur(),g===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(p){if(p.nodeType===Node.ELEMENT_NODE){var v=p;v!==this._rootElement&&v.hasAttribute("inert")&&this._adoptInertRoot(v),(e.call(v,n)||v.hasAttribute("tabindex"))&&this._manageNode(v)}}},{key:"_manageNode",value:function(p){var v=this._inertManager.register(p,this);this._managedNodes.add(v)}},{key:"_unmanageNode",value:function(p){var v=this._inertManager.deregister(p,this);v&&this._managedNodes.delete(v)}},{key:"_unmanageSubtree",value:function(p){var v=this;a(p,function(g){return v._unmanageNode(g)})}},{key:"_adoptInertRoot",value:function(p){var v=this._inertManager.getInertRoot(p);v||(this._inertManager.setInert(p,!0),v=this._inertManager.getInertRoot(p)),v.managedNodes.forEach(function(g){this._manageNode(g.node)},this)}},{key:"_onMutation",value:function(p,v){p.forEach(function(g){var b=g.target;if(g.type==="childList")t.call(g.addedNodes).forEach(function(E){this._makeSubtreeUnfocusable(E)},this),t.call(g.removedNodes).forEach(function(E){this._unmanageSubtree(E)},this);else if(g.type==="attributes"){if(g.attributeName==="tabindex")this._manageNode(b);else if(b!==this._rootElement&&g.attributeName==="inert"&&b.hasAttribute("inert")){this._adoptInertRoot(b);var _=this._inertManager.getInertRoot(b);this._managedNodes.forEach(function(E){b.contains(E.node)&&_._manageNode(E.node)})}}},this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return this._savedAriaHidden!==null}},{key:"savedAriaHidden",set:function(p){this._savedAriaHidden=p},get:function(){return this._savedAriaHidden}}]),d}(),i=function(){function d(f,p){PC(this,d),this._node=f,this._overrodeFocusMethod=!1,this._inertRoots=new Set([p]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return OC(d,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var p=this._node;this._savedTabIndex!==null?p.setAttribute("tabindex",this._savedTabIndex):p.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete p.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var p=this.node;if(e.call(p,n)){if(p.tabIndex===-1&&this.hasSavedTabIndex)return;p.hasAttribute("tabindex")&&(this._savedTabIndex=p.tabIndex),p.setAttribute("tabindex","-1"),p.nodeType===Node.ELEMENT_NODE&&(p.focus=function(){},this._overrodeFocusMethod=!0)}else p.hasAttribute("tabindex")&&(this._savedTabIndex=p.tabIndex,p.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(p){this._throwIfDestroyed(),this._inertRoots.add(p)}},{key:"removeInertRoot",value:function(p){this._throwIfDestroyed(),this._inertRoots.delete(p),this._inertRoots.size===0&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return this._savedTabIndex!==null}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(p){this._throwIfDestroyed(),this._savedTabIndex=p},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),d}(),o=function(){function d(f){if(PC(this,d),!f)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=f,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),l(f.head||f.body||f.documentElement),f.readyState==="loading"?f.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return OC(d,[{key:"setInert",value:function(p,v){if(v){if(this._inertRoots.has(p))return;var g=new r(p,this);if(p.setAttribute("inert",""),this._inertRoots.set(p,g),!this._document.body.contains(p))for(var b=p.parentNode;b;)b.nodeType===11&&l(b),b=b.parentNode}else{if(!this._inertRoots.has(p))return;var _=this._inertRoots.get(p);_.destructor(),this._inertRoots.delete(p),p.removeAttribute("inert")}}},{key:"getInertRoot",value:function(p){return this._inertRoots.get(p)}},{key:"register",value:function(p,v){var g=this._managedNodes.get(p);return g!==void 0?g.addInertRoot(v):g=new i(p,v),this._managedNodes.set(p,g),g}},{key:"deregister",value:function(p,v){var g=this._managedNodes.get(p);return g?(g.removeInertRoot(v),g.destroyed&&this._managedNodes.delete(p),g):null}},{key:"_onDocumentLoaded",value:function(){var p=t.call(this._document.querySelectorAll("[inert]"));p.forEach(function(v){this.setInert(v,!0)},this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(p,v){var g=this;p.forEach(function(b){switch(b.type){case"childList":t.call(b.addedNodes).forEach(function(x){if(x.nodeType===Node.ELEMENT_NODE){var T=t.call(x.querySelectorAll("[inert]"));e.call(x,"[inert]")&&T.unshift(x),T.forEach(function(R){this.setInert(R,!0)},g)}},g);break;case"attributes":if(b.attributeName!=="inert")return;var _=b.target,E=_.hasAttribute("inert");g.setInert(_,E);break}},this)}}]),d}();function a(d,f,p){if(d.nodeType==Node.ELEMENT_NODE){var v=d;f&&f(v);var g=v.shadowRoot;if(g){a(g,f,g);return}if(v.localName=="content"){for(var b=v,_=b.getDistributedNodes?b.getDistributedNodes():[],E=0;E<_.length;E++)a(_[E],f,p);return}if(v.localName=="slot"){for(var x=v,T=x.assignedNodes?x.assignedNodes({flatten:!0}):[],R=0;R<T.length;R++)a(T[R],f,p);return}}for(var P=d.firstChild;P!=null;)a(P,f,p),P=P.nextSibling}function l(d){if(!d.querySelector("style#inert-style, link#inert-style")){var f=document.createElement("style");f.setAttribute("id","inert-style"),f.textContent=`
[inert] {
  pointer-events: none;
  cursor: default;
}

[inert], [inert] * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
`,d.appendChild(f)}}if(!Element.prototype.hasOwnProperty("inert")){var u=new o(document);Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(f){u.setInert(this,f)}})}})();var Jn={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},Ah={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim",LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",LIST_ITEM_ACTIVATED_SELECTOR:".mdc-list-item--activated,.mdc-deprecated-list-item--activated"};re();var MC=function(t){M(e,t);function e(n){var r=t.call(this,C(C({},e.defaultAdapter),n))||this;return r.animationFrame_=0,r.animationTimer_=0,r}return Object.defineProperty(e,"strings",{get:function(){return Ah},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Jn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},e.prototype.open=function(){var n=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter.addClass(Jn.OPEN),this.adapter.addClass(Jn.ANIMATE),this.runNextAnimationFrame_(function(){n.adapter.addClass(Jn.OPENING)}),this.adapter.saveFocus())},e.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter.addClass(Jn.CLOSING)},e.prototype.isOpen=function(){return this.adapter.hasClass(Jn.OPEN)},e.prototype.isOpening=function(){return this.adapter.hasClass(Jn.OPENING)||this.adapter.hasClass(Jn.ANIMATE)},e.prototype.isClosing=function(){return this.adapter.hasClass(Jn.CLOSING)},e.prototype.handleKeydown=function(n){var r=n.keyCode,i=n.key,o=i==="Escape"||r===27;o&&this.close()},e.prototype.handleTransitionEnd=function(n){var r=Jn.OPENING,i=Jn.CLOSING,o=Jn.OPEN,a=Jn.ANIMATE,l=Jn.ROOT,u=this.isElement_(n.target)&&this.adapter.elementHasClass(n.target,l);!u||(this.isClosing()?(this.adapter.removeClass(o),this.closed_(),this.adapter.restoreFocus(),this.adapter.notifyClose()):(this.adapter.focusActiveNavigationItem(),this.opened_(),this.adapter.notifyOpen()),this.adapter.removeClass(a),this.adapter.removeClass(r),this.adapter.removeClass(i))},e.prototype.opened_=function(){},e.prototype.closed_=function(){},e.prototype.runNextAnimationFrame_=function(n){var r=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){r.animationFrame_=0,clearTimeout(r.animationTimer_),r.animationTimer_=setTimeout(n,0)})},e.prototype.isElement_=function(n){return Boolean(n.classList)},e}(St);var GH=MC;re();var Boe=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.handleScrimClick=function(){this.close()},e.prototype.opened_=function(){this.adapter.trapFocus()},e.prototype.closed_=function(){this.adapter.releaseFocus()},e}(MC);var LC=Boe;var KH=document.$blockingElements,js=class extends bn{constructor(){super(...arguments);this._previousFocus=null,this.open=!1,this.hasHeader=!1,this.type=""}get mdcFoundationClass(){return this.type==="modal"?LC:GH}createAdapter(){return Object.assign(Object.assign({},oi(this.mdcRoot)),{elementHasClass:(e,n)=>e.classList.contains(n),saveFocus:()=>{this._previousFocus=this.getRootNode().activeElement},restoreFocus:()=>{this._previousFocus&&this._previousFocus.focus&&this._previousFocus.focus()},notifyClose:()=>{this.open=!1,this.dispatchEvent(new Event(Ah.CLOSE_EVENT,{bubbles:!0,cancelable:!0}))},notifyOpen:()=>{this.open=!0,this.dispatchEvent(new Event(Ah.OPEN_EVENT,{bubbles:!0,cancelable:!0}))},focusActiveNavigationItem:()=>{},trapFocus:()=>{KH.push(this),this.appContent.inert=!0},releaseFocus:()=>{KH.remove(this),this.appContent.inert=!1}})}_handleScrimClick(){this.mdcFoundation instanceof LC&&this.mdcFoundation.handleScrimClick()}render(){let e=this.type==="dismissible"||this.type==="modal",n=this.type==="modal",r=this.hasHeader?ne`
      <div class="mdc-drawer__header">
        <h3 class="mdc-drawer__title"><slot name="title"></slot></h3>
        <h6 class="mdc-drawer__subtitle"><slot name="subtitle"></slot></h6>
        <slot name="header"></slot>
      </div>
      `:"";return ne`
      <aside class="mdc-drawer ${st({"mdc-drawer--dismissible":e,"mdc-drawer--modal":n})}">
        ${r}
        <div class="mdc-drawer__content"><slot></slot></div>
      </aside>
      ${n?ne`<div class="mdc-drawer-scrim"
                          @click="${this._handleScrimClick}"></div>`:""}
      <div class="mdc-drawer-app-content">
        <slot name="appContent"></slot>
      </div>
      `}firstUpdated(){this.mdcRoot.addEventListener("keydown",e=>this.mdcFoundation.handleKeydown(e)),this.mdcRoot.addEventListener("transitionend",e=>this.mdcFoundation.handleTransitionEnd(e))}updated(e){e.has("type")&&this.createFoundation()}};k([ge(".mdc-drawer")],js.prototype,"mdcRoot",void 0);k([ge(".mdc-drawer-app-content")],js.prototype,"appContent",void 0);k([Be(function(t){this.type!==""&&(t?this.mdcFoundation.open():this.mdcFoundation.close())}),H({type:Boolean,reflect:!0})],js.prototype,"open",void 0);k([H({type:Boolean})],js.prototype,"hasHeader",void 0);k([H({reflect:!0})],js.prototype,"type",void 0);var $H=nt`.mdc-drawer{border-color:rgba(0, 0, 0, 0.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-top-left-radius:0;border-top-right-radius:0;border-top-right-radius:var(--mdc-shape-large, 0);border-bottom-right-radius:0;border-bottom-right-radius:var(--mdc-shape-large, 0);border-bottom-left-radius:0;z-index:6;width:256px;display:flex;flex-direction:column;flex-shrink:0;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer .mdc-drawer__title{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-group__subheader{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-drawer__subtitle{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item__graphic{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-deprecated-list-item{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-deprecated-list-item--activated{color:rgba(98, 0, 238, 0.87)}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-top-left-radius:0;border-top-left-radius:var(--mdc-shape-large, 0);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom-left-radius:var(--mdc-shape-large, 0)}.mdc-drawer .mdc-deprecated-list-item{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-deprecated-list-item{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);height:calc(48px - 2 * 4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-deprecated-list-item:nth-child(1){margin-top:2px}.mdc-drawer .mdc-deprecated-list-item:nth-last-child(1){margin-bottom:0}.mdc-drawer .mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-deprecated-list-group__subheader::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-drawer .mdc-deprecated-list-divider{margin:3px 0 4px}.mdc-drawer .mdc-deprecated-list-item__text,.mdc-drawer .mdc-deprecated-list-item__graphic{pointer-events:none}.mdc-drawer--animate{transform:translateX(-100%)}[dir=rtl] .mdc-drawer--animate,.mdc-drawer--animate[dir=rtl]{transform:translateX(100%)}.mdc-drawer--opening{transform:translateX(0);transition-duration:250ms}[dir=rtl] .mdc-drawer--opening,.mdc-drawer--opening[dir=rtl]{transform:translateX(0)}.mdc-drawer--closing{transform:translateX(-100%);transition-duration:200ms}[dir=rtl] .mdc-drawer--closing,.mdc-drawer--closing[dir=rtl]{transform:translateX(100%)}.mdc-drawer__header{flex-shrink:0;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-drawer__title::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-drawer__subtitle{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:initial;display:none;position:absolute}[dir=rtl] .mdc-drawer--dismissible,.mdc-drawer--dismissible[dir=rtl]{left:initial;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:flex}.mdc-drawer-app-content{margin-left:0;margin-right:0;position:relative}[dir=rtl] .mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:0}.mdc-drawer--modal{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12);left:0;right:initial;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0, 0, 0, 0.32)}[dir=rtl] .mdc-drawer--modal,.mdc-drawer--modal[dir=rtl]{left:initial;right:0}.mdc-drawer--modal.mdc-drawer--open{display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{transition-duration:250ms;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{transition-duration:200ms;opacity:0}.mdc-drawer-app-content{overflow:auto;flex:1}:host{display:flex;height:100%}.mdc-drawer{width:256px;width:var(--mdc-drawer-width, 256px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-left:var(--mdc-drawer-width, 256px);margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px;margin-right:var(--mdc-drawer-width, 256px)}`;var FC=class extends js{};FC.styles=$H;FC=k([tt("mwc-drawer")],FC);re();re();function Voe(t,e,n){let r=t.constructor;if(!n){let l=`__${e}`;if(n=r.getPropertyDescriptor(e,l),!n)throw new Error("@ariaProperty must be used after a @property decorator")}let i=n,o="";if(!i.set)throw new Error(`@ariaProperty requires a setter for ${e}`);let a={configurable:!0,enumerable:!0,set(l){o===""&&(o=r.getPropertyOptions(e).attribute),this.hasAttribute(o)&&this.removeAttribute(o),i.set.call(this,l)}};return i.get&&(a.get=function(){return i.get.call(this)}),a}function YH(t,e,n){if(e!==void 0)return Voe(t,e,n);throw new Error("@ariaProperty only supports TypeScript Decorators")}var ki=class extends Pr{constructor(){super(...arguments);this.disabled=!1,this.icon="",this.shouldRenderRipple=!1,this.rippleHandlers=new bl(()=>(this.shouldRenderRipple=!0,this.ripple))}renderRipple(){return this.shouldRenderRipple?ne`
            <mwc-ripple
                .disabled="${this.disabled}"
                unbounded>
            </mwc-ripple>`:""}focus(){let e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){let e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}render(){return ne`<button
        class="mdc-icon-button"
        aria-label="${this.ariaLabel||this.icon}"
        ?disabled="${this.disabled}"
        @focus="${this.handleRippleFocus}"
        @blur="${this.handleRippleBlur}"
        @mousedown="${this.handleRippleMouseDown}"
        @mouseenter="${this.handleRippleMouseEnter}"
        @mouseleave="${this.handleRippleMouseLeave}"
        @touchstart="${this.handleRippleTouchStart}"
        @touchend="${this.handleRippleDeactivate}"
        @touchcancel="${this.handleRippleDeactivate}"
    >${this.renderRipple()}
    <i class="material-icons">${this.icon}</i>
    <span
      ><slot></slot
    ></span>
  </button>`}handleRippleMouseDown(e){let n=()=>{window.removeEventListener("mouseup",n),this.handleRippleDeactivate()};window.addEventListener("mouseup",n),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}};k([H({type:Boolean,reflect:!0})],ki.prototype,"disabled",void 0);k([H({type:String})],ki.prototype,"icon",void 0);k([YH,H({type:String,attribute:"aria-label"})],ki.prototype,"ariaLabel",void 0);k([ge("button")],ki.prototype,"buttonElement",void 0);k([Uu("mwc-ripple")],ki.prototype,"ripple",void 0);k([Re()],ki.prototype,"shouldRenderRipple",void 0);k([Vo({passive:!0})],ki.prototype,"handleRippleMouseDown",null);k([Vo({passive:!0})],ki.prototype,"handleRippleTouchStart",null);var XH=nt`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor;-webkit-tap-highlight-color:transparent}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc( (var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2 )}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`;var UC=class extends ki{};UC.styles=XH;UC=k([tt("mwc-icon-button")],UC);re();re();re();var QH={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},ju={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},uy={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};re();var JH=function(t){M(e,t);function e(n){return t.call(this,C(C({},e.defaultAdapter),n))||this}return Object.defineProperty(e,"strings",{get:function(){return uy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return QH},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ju},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},e}(St);var dy=0,Hoe=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;return r.wasDocked_=!0,r.isDockedShowing_=!0,r.currentAppBarOffsetTop_=0,r.isCurrentlyBeingResized_=!1,r.resizeThrottleId_=dy,r.resizeDebounceId_=dy,r.lastScrollPosition_=r.adapter.getViewportScrollY(),r.topAppBarHeight_=r.adapter.getTopAppBarHeight(),r}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter.setStyle("top","")},e.prototype.handleTargetScroll=function(){var n=Math.max(this.adapter.getViewportScrollY(),0),r=n-this.lastScrollPosition_;this.lastScrollPosition_=n,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=r,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var n=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout(function(){n.resizeThrottleId_=dy,n.throttledResizeHandler_()},ju.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout(function(){n.handleTargetScroll(),n.isCurrentlyBeingResized_=!1,n.resizeDebounceId_=dy},ju.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var n=-this.topAppBarHeight_,r=this.currentAppBarOffsetTop_<0,i=this.currentAppBarOffsetTop_>n,o=r&&i;if(o)this.wasDocked_=!1;else if(this.wasDocked_){if(this.isDockedShowing_!==i)return this.isDockedShowing_=i,!0}else return this.wasDocked_=!0,!0;return o},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var n=this.currentAppBarOffsetTop_;Math.abs(n)>=this.topAppBarHeight_&&(n=-ju.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",n+"px")}},e.prototype.throttledResizeHandler_=function(){var n=this.adapter.getTopAppBarHeight();this.topAppBarHeight_!==n&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-n,this.topAppBarHeight_=n),this.handleTargetScroll()},e}(JH);var ZH=Hoe;re();var BC=AH?{passive:!0}:void 0,El=class extends bn{constructor(){super(...arguments);this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){this.unregisterScrollListener();let n=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",n),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){let e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=ne`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(e=ne`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${e}</section>`),ne`
      <header class="mdc-top-app-bar ${st(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:e}
        </section>
        ${this.centerTitle?e:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${st(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},oi(this.mdcRoot)),{setStyle:(e,n)=>this.mdcRoot.style.setProperty(e,n),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(uy.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,BC)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}};k([ge(".mdc-top-app-bar")],El.prototype,"mdcRoot",void 0);k([ge('slot[name="actionItems"]')],El.prototype,"_actionItemsSlot",void 0);k([H({type:Boolean})],El.prototype,"centerTitle",void 0);k([H({type:Object})],El.prototype,"scrollTarget",null);var Rh=class extends El{constructor(){super(...arguments);this.mdcFoundationClass=ZH,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,BC)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}};k([H({type:Boolean,reflect:!0})],Rh.prototype,"prominent",void 0);k([H({type:Boolean,reflect:!0})],Rh.prototype,"dense",void 0);var e4=nt`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-primary, #fff))}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-surface--hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff);width:100%;width:var(--mdc-top-app-bar-width, 100%)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`;var VC=class extends Rh{};VC.styles=e4;VC=k([tt("mwc-top-app-bar")],VC);var t4=vt`
  :host {
    display: flex;
    flex-wrap: wrap;
    flex-grow: 1;
    justify-content: center;

    --mdc-list-vertical-padding: 0;
    --mdc-icon-button-size: 60px;
    --mdc-drawer-width: 250px;
    --mdc-theme-primary: #9e47ff;
    --mdc-theme-secondary: #6200ee;
  }
  h1, h2, h3, h4 {
    margin: auto, 15px;
    padding-left: 15px;
  }

  .title-bar {
    display: flex;
  }

  .indented {
    padding-left: 50px;
  }
  hr.rounded {
    border-top: 8px solid #bbb;
    border-radius: 5px;
    width: 95%
  }
  .bottom-space {
    margin-bottom: 5px;
  }

  mwc-icon-button {
    color: white;
  }
  
  .delete-icon {
    color: red;
  }

  
  mwc-drawer {
    width:100%;
  }
  mwc-list.nested {
    margin-left: 10px;
  }

  .client-index-wrapper {
    display: flex;
    width:100%;
  }
  .client-editable {
    display: flex;
    flex-direction: column;
  }

  .button-collection-wrapper {
    margin: auto;
    flex-grow: 1;
    display: flex;
    width: 100%;
  }

  .button-collection {
    margin: auto;
    float: right;
    flex-grow: 1;
  }

  .button-wrapper {
    float: right;
    margin: 5px;
  }

  content-item > mwc-drawer {
    flex-grow: 1;
  }
  .mdc-drawer {
    flex-grow: 1;
    height: unset;
  }

  #calendar {
    min-width: 675px;
  }

  #client-info {
    flex-grow: 1;
    min-width: 675px;
    max-width: 675px;
  }

  #client-header {
    display: flex;
    margin: 15px;
  }

  #client-portrait {
    display: flex;
    min-height: 200px;
    min-width: 200px;
    max-width: 300px;
    flex-grow: 1;
  }

  #client-portrait img {
    margin: auto;
    height: 70%;
    min-height: 100px;
    min-width: 100px;
    max-height: 200px;
    max-width: 200px;

  }

  #inquiry-info {
    margin: 15px;
  }
  #inquiry-info > .inquiry-left-half {
    width: 50%;
  }
  #inquiry-info > form-wrapper {
    width: 100%;
  }

  .inquiry-list-item {
    height: 30px;
    border-left: 3px solid rgba(0, 0, 0, 0.12);
    border-bottom: 3px solid rgba(0, 0, 0, 0.12);
    margin-right: 3px;
    border-right: 1px solid rgba(0, 0, 0, 0.12);
  }

  .list-button.add{
    --mdc-ripple-color: #4b4b4b; 
  }
  .client-list-item {
    border-bottom: 1px solid;
  }

  #coorespondence {
    display: flex;
    margin: 15px;
  }

  #coorespondence > form-wrapper {
    width: 100%;
  }

  mwc-list > .mdc-deprecated-list {
    padding-top: 0;
  }
`;re();re();re();re();re();var n4={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},HC={NOTCH_ELEMENT_PADDING:8},r4={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};var i4=function(t){M(e,t);function e(n){return t.call(this,C(C({},e.defaultAdapter),n))||this}return Object.defineProperty(e,"strings",{get:function(){return n4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return r4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return HC},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(n){var r=e.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=HC.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(n),this.adapter.addClass(r)},e.prototype.closeNotch=function(){var n=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(n),this.adapter.removeNotchWidthProperty()},e}(St);var xl=class extends bn{constructor(){super(...arguments);this.mdcFoundationClass=i4,this.width=0,this.open=!1,this.lastOpen=this.open}createAdapter(){return{addClass:e=>this.mdcRoot.classList.add(e),removeClass:e=>this.mdcRoot.classList.remove(e),setNotchWidthProperty:e=>this.notchElement.style.setProperty("width",`${e}px`),removeNotchWidthProperty:()=>this.notchElement.style.removeProperty("width")}}openOrClose(e,n){!this.mdcFoundation||(e&&n!==void 0?this.mdcFoundation.notch(n):this.mdcFoundation.closeNotch())}render(){this.openOrClose(this.open,this.width);let e=st({"mdc-notched-outline--notched":this.open});return ne`
      <span class="mdc-notched-outline ${e}">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <slot></slot>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>`}};k([ge(".mdc-notched-outline")],xl.prototype,"mdcRoot",void 0);k([H({type:Number})],xl.prototype,"width",void 0);k([H({type:Boolean,reflect:!0})],xl.prototype,"open",void 0);k([ge(".mdc-notched-outline__notch")],xl.prototype,"notchElement",void 0);var o4=nt`.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}:host{display:block;position:absolute;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] :host,:host[dir=rtl]{text-align:right}::slotted(.mdc-floating-label){display:inline-block;position:relative;top:17px;bottom:auto;max-width:100%}::slotted(.mdc-floating-label--float-above){text-overflow:clip}.mdc-notched-outline--upgraded ::slotted(.mdc-floating-label--float-above){max-width:calc(100% / 0.75)}.mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__leading,.mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-color:var(--mdc-notched-outline-border-color, var(--mdc-theme-primary, #6200ee));border-width:1px;border-width:var(--mdc-notched-outline-stroke-width, 1px)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0;padding-top:var(--mdc-notched-outline-notch-offset, 0)}`;var jC=class extends xl{};jC.styles=o4;jC=k([tt("mwc-notched-outline")],jC);re();re();re();re();var s4={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},a4={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},kh={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},at;(function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"})(at||(at={}));var an;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"})(an||(an={}));re();var qC=function(t){M(e,t);function e(n){var r=t.call(this,C(C({},e.defaultAdapter),n))||this;return r.isSurfaceOpen=!1,r.isQuickOpen=!1,r.isHoistedElement=!1,r.isFixedPosition=!1,r.isHorizontallyCenteredOnViewport=!1,r.maxHeight=0,r.openAnimationEndTimerId=0,r.closeAnimationEndTimerId=0,r.animationRequestId=0,r.anchorCorner=an.TOP_START,r.originCorner=an.TOP_START,r.anchorMargin={top:0,right:0,bottom:0,left:0},r.position={x:0,y:0},r}return Object.defineProperty(e,"cssClasses",{get:function(){return s4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return a4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return kh},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return an},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){},notifyClosing:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=e.cssClasses,r=n.ROOT,i=n.OPEN;if(!this.adapter.hasClass(r))throw new Error(r+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(n){this.anchorCorner=n},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^at.RIGHT},e.prototype.setAnchorMargin=function(n){this.anchorMargin.top=n.top||0,this.anchorMargin.right=n.right||0,this.anchorMargin.bottom=n.bottom||0,this.anchorMargin.left=n.left||0},e.prototype.setIsHoisted=function(n){this.isHoistedElement=n},e.prototype.setFixedPosition=function(n){this.isFixedPosition=n},e.prototype.setAbsolutePosition=function(n,r){this.position.x=this.isFinite(n)?n:0,this.position.y=this.isFinite(r)?r:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(n){this.isHorizontallyCenteredOnViewport=n},e.prototype.setQuickOpen=function(n){this.isQuickOpen=n},e.prototype.setMaxHeight=function(n){this.maxHeight=n},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var n=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){n.adapter.addClass(e.cssClasses.OPEN),n.dimensions=n.adapter.getInnerDimensions(),n.autoposition(),n.openAnimationEndTimerId=setTimeout(function(){n.openAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),n.adapter.notifyOpen()},kh.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},e.prototype.close=function(n){var r=this;if(n===void 0&&(n=!1),!!this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen){this.isSurfaceOpen=!1,n||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose();return}this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){r.adapter.removeClass(e.cssClasses.OPEN),r.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),r.closeAnimationEndTimerId=setTimeout(function(){r.closeAnimationEndTimerId=0,r.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),r.adapter.notifyClose()},kh.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,n||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(n){var r=n.target;this.adapter.isElementInContainer(r)||this.close()},e.prototype.handleKeydown=function(n){var r=n.keyCode,i=n.key,o=i==="Escape"||r===27;o&&this.close()},e.prototype.autoposition=function(){var n;this.measurements=this.getAutoLayoutmeasurements();var r=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(r),o=this.hasBit(r,at.BOTTOM)?"bottom":"top",a=this.hasBit(r,at.RIGHT)?"right":"left",l=this.getHorizontalOriginOffset(r),u=this.getVerticalOriginOffset(r),d=this.measurements,f=d.anchorSize,p=d.surfaceSize,v=(n={},n[a]=l,n[o]=u,n);f.width/p.width>kh.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(a="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(v),this.adapter.setTransformOrigin(a+" "+o),this.adapter.setPosition(v),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(r,at.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var n=this.adapter.getAnchorDimensions(),r=this.adapter.getBodyDimensions(),i=this.adapter.getWindowDimensions(),o=this.adapter.getWindowScroll();return n||(n={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:n,bodySize:r,surfaceSize:this.dimensions,viewportDistance:{top:n.top,right:i.width-n.right,bottom:i.height-n.bottom,left:n.left},viewportSize:i,windowScroll:o}},e.prototype.getoriginCorner=function(){var n=this.originCorner,r=this.measurements,i=r.viewportDistance,o=r.anchorSize,a=r.surfaceSize,l=e.numbers.MARGIN_TO_EDGE,u=this.hasBit(this.anchorCorner,at.BOTTOM),d,f;u?(d=i.top-l+this.anchorMargin.bottom,f=i.bottom-l-this.anchorMargin.bottom):(d=i.top-l+this.anchorMargin.top,f=i.bottom-l+o.height-this.anchorMargin.top);var p=f-a.height>0;!p&&d>f&&(n=this.setBit(n,at.BOTTOM));var v=this.adapter.isRtl(),g=this.hasBit(this.anchorCorner,at.FLIP_RTL),b=this.hasBit(this.anchorCorner,at.RIGHT)||this.hasBit(n,at.RIGHT),_=!1;v&&g?_=!b:_=b;var E,x;_?(E=i.left+o.width+this.anchorMargin.right,x=i.right-this.anchorMargin.right):(E=i.left+this.anchorMargin.left,x=i.right+o.width-this.anchorMargin.left);var T=E-a.width>0,R=x-a.width>0,P=this.hasBit(n,at.FLIP_RTL)&&this.hasBit(n,at.RIGHT);return R&&P&&v||!T&&P?n=this.unsetBit(n,at.RIGHT):(T&&_&&v||T&&!_&&b||!R&&E>=x)&&(n=this.setBit(n,at.RIGHT)),n},e.prototype.getMenuSurfaceMaxHeight=function(n){if(this.maxHeight>0)return this.maxHeight;var r=this.measurements.viewportDistance,i=0,o=this.hasBit(n,at.BOTTOM),a=this.hasBit(this.anchorCorner,at.BOTTOM),l=e.numbers.MARGIN_TO_EDGE;return o?(i=r.top+this.anchorMargin.top-l,a||(i+=this.measurements.anchorSize.height)):(i=r.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-l,a&&(i-=this.measurements.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset=function(n){var r=this.measurements.anchorSize,i=this.hasBit(n,at.RIGHT),o=this.hasBit(this.anchorCorner,at.RIGHT);if(i){var a=o?r.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?a-(this.measurements.viewportSize.width-this.measurements.bodySize.width):a}return o?r.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(n){var r=this.measurements.anchorSize,i=this.hasBit(n,at.BOTTOM),o=this.hasBit(this.anchorCorner,at.BOTTOM),a=0;return i?a=o?r.height-this.anchorMargin.top:-this.anchorMargin.bottom:a=o?r.height+this.anchorMargin.bottom:this.anchorMargin.top,a},e.prototype.adjustPositionForHoistedElement=function(n){var r,i,o=this.measurements,a=o.windowScroll,l=o.viewportDistance,u=o.surfaceSize,d=o.viewportSize,f=Object.keys(n);try{for(var p=ut(f),v=p.next();!v.done;v=p.next()){var g=v.value,b=n[g]||0;if(this.isHorizontallyCenteredOnViewport&&(g==="left"||g==="right")){n[g]=(d.width-u.width)/2;continue}b+=l[g],this.isFixedPosition||(g==="top"?b+=a.y:g==="bottom"?b-=a.y:g==="left"?b+=a.x:b-=a.x),n[g]=b}}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}},e.prototype.maybeRestoreFocus=function(){var n=this.adapter.isFocused(),r=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(n||r)&&this.adapter.restoreFocus()},e.prototype.hasBit=function(n,r){return Boolean(n&r)},e.prototype.setBit=function(n,r){return n|r},e.prototype.unsetBit=function(n,r){return n^r},e.prototype.isFinite=function(n){return typeof n=="number"&&isFinite(n)},e}(St);var l4=qC;var joe={TOP_LEFT:an.TOP_LEFT,TOP_RIGHT:an.TOP_RIGHT,BOTTOM_LEFT:an.BOTTOM_LEFT,BOTTOM_RIGHT:an.BOTTOM_RIGHT,TOP_START:an.TOP_START,TOP_END:an.TOP_END,BOTTOM_START:an.BOTTOM_START,BOTTOM_END:an.BOTTOM_END},Tt=class extends bn{constructor(){super(...arguments);this.mdcFoundationClass=l4,this.absolute=!1,this.fullwidth=!1,this.fixed=!1,this.x=null,this.y=null,this.quick=!1,this.open=!1,this.stayOpenOnBodyClick=!1,this.bitwiseCorner=an.TOP_START,this.previousMenuCorner=null,this.menuCorner="START",this.corner="TOP_START",this.styleTop="",this.styleLeft="",this.styleRight="",this.styleBottom="",this.styleMaxHeight="",this.styleTransformOrigin="",this.anchor=null,this.previouslyFocused=null,this.previousAnchor=null,this.onBodyClickBound=()=>{}}render(){let e={"mdc-menu-surface--fixed":this.fixed,"mdc-menu-surface--fullwidth":this.fullwidth},n={top:this.styleTop,left:this.styleLeft,right:this.styleRight,bottom:this.styleBottom,"max-height":this.styleMaxHeight,"transform-origin":this.styleTransformOrigin};return ne`
      <div
          class="mdc-menu-surface ${st(e)}"
          style="${sy(n)}"
          @keydown=${this.onKeydown}
          @opened=${this.registerBodyClick}
          @closed=${this.deregisterBodyClick}>
        <slot></slot>
      </div>`}createAdapter(){return Object.assign(Object.assign({},oi(this.mdcRoot)),{hasAnchor:()=>!!this.anchor,notifyClose:()=>{let e={bubbles:!0,composed:!0},n=new CustomEvent("closed",e);this.open=!1,this.mdcRoot.dispatchEvent(n)},notifyClosing:()=>{let e={bubbles:!0,composed:!0},n=new CustomEvent("closing",e);this.mdcRoot.dispatchEvent(n)},notifyOpen:()=>{let e={bubbles:!0,composed:!0},n=new CustomEvent("opened",e);this.open=!0,this.mdcRoot.dispatchEvent(n)},isElementInContainer:()=>!1,isRtl:()=>this.mdcRoot?getComputedStyle(this.mdcRoot).direction==="rtl":!1,setTransformOrigin:e=>{!this.mdcRoot||(this.styleTransformOrigin=e)},isFocused:()=>iy(this),saveFocus:()=>{let e=Th(),n=e.length;n||(this.previouslyFocused=null),this.previouslyFocused=e[n-1]},restoreFocus:()=>{!this.previouslyFocused||"focus"in this.previouslyFocused&&this.previouslyFocused.focus()},getInnerDimensions:()=>{let e=this.mdcRoot;return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}},getAnchorDimensions:()=>{let e=this.anchor;return e?e.getBoundingClientRect():null},getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{!this.mdcRoot||(this.styleLeft="left"in e?`${e.left}px`:"",this.styleRight="right"in e?`${e.right}px`:"",this.styleTop="top"in e?`${e.top}px`:"",this.styleBottom="bottom"in e?`${e.bottom}px`:"")},setMaxHeight:async e=>{!this.mdcRoot||(this.styleMaxHeight=e,await this.updateComplete,this.styleMaxHeight=`var(--mdc-menu-max-height, ${e})`)}})}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onBodyClick(e){if(this.stayOpenOnBodyClick)return;e.composedPath().indexOf(this)===-1&&this.close()}registerBodyClick(){this.onBodyClickBound=this.onBodyClick.bind(this),document.body.addEventListener("click",this.onBodyClickBound,{passive:!0,capture:!0})}deregisterBodyClick(){document.body.removeEventListener("click",this.onBodyClickBound,{capture:!0})}close(){this.open=!1}show(){this.open=!0}};k([ge(".mdc-menu-surface")],Tt.prototype,"mdcRoot",void 0);k([ge("slot")],Tt.prototype,"slotElement",void 0);k([H({type:Boolean}),Be(function(t){this.mdcFoundation&&!this.fixed&&this.mdcFoundation.setIsHoisted(t)})],Tt.prototype,"absolute",void 0);k([H({type:Boolean})],Tt.prototype,"fullwidth",void 0);k([H({type:Boolean}),Be(function(t){this.mdcFoundation&&!this.absolute&&this.mdcFoundation.setFixedPosition(t)})],Tt.prototype,"fixed",void 0);k([H({type:Number}),Be(function(t){this.mdcFoundation&&this.y!==null&&t!==null&&(this.mdcFoundation.setAbsolutePosition(t,this.y),this.mdcFoundation.setAnchorMargin({left:t,top:this.y,right:-t,bottom:this.y}))})],Tt.prototype,"x",void 0);k([H({type:Number}),Be(function(t){this.mdcFoundation&&this.x!==null&&t!==null&&(this.mdcFoundation.setAbsolutePosition(this.x,t),this.mdcFoundation.setAnchorMargin({left:this.x,top:t,right:-this.x,bottom:t}))})],Tt.prototype,"y",void 0);k([H({type:Boolean}),Be(function(t){this.mdcFoundation&&this.mdcFoundation.setQuickOpen(t)})],Tt.prototype,"quick",void 0);k([H({type:Boolean,reflect:!0}),Be(function(t,e){this.mdcFoundation&&(t?this.mdcFoundation.open():e!==void 0&&this.mdcFoundation.close())})],Tt.prototype,"open",void 0);k([H({type:Boolean})],Tt.prototype,"stayOpenOnBodyClick",void 0);k([Re(),Be(function(t){this.mdcFoundation&&(t?this.mdcFoundation.setAnchorCorner(t):this.mdcFoundation.setAnchorCorner(t))})],Tt.prototype,"bitwiseCorner",void 0);k([H({type:String}),Be(function(t){if(this.mdcFoundation){let e=t==="START"||t==="END",n=this.previousMenuCorner===null,r=!n&&t!==this.previousMenuCorner;e&&(r||n&&t==="END")&&(this.bitwiseCorner=this.bitwiseCorner^at.RIGHT,this.mdcFoundation.flipCornerHorizontally(),this.previousMenuCorner=t)}})],Tt.prototype,"menuCorner",void 0);k([H({type:String}),Be(function(t){if(this.mdcFoundation&&t){let e=joe[t];this.menuCorner==="END"&&(e=e^at.RIGHT),this.bitwiseCorner=e}})],Tt.prototype,"corner",void 0);k([Re()],Tt.prototype,"styleTop",void 0);k([Re()],Tt.prototype,"styleLeft",void 0);k([Re()],Tt.prototype,"styleRight",void 0);k([Re()],Tt.prototype,"styleBottom",void 0);k([Re()],Tt.prototype,"styleMaxHeight",void 0);k([Re()],Tt.prototype,"styleTransformOrigin",void 0);var c4=nt`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}:host(:not([open])){display:none}.mdc-menu-surface{z-index:8;z-index:var(--mdc-menu-z-index, 8);min-width:112px;min-width:var(--mdc-menu-min-width, 112px)}`;var zC=class extends Tt{};zC.styles=c4;zC=k([tt("mwc-menu-surface")],zC);var fy={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},qu={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected"},u4={FOCUS_ROOT_INDEX:-1},jo;(function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"})(jo||(jo={}));re();var qoe=function(t){M(e,t);function e(n){var r=t.call(this,C(C({},e.defaultAdapter),n))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=jo.LIST_ROOT,r}return Object.defineProperty(e,"cssClasses",{get:function(){return fy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return qu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return u4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},e.prototype.handleKeydown=function(n){var r=n.key,i=n.keyCode,o=r==="Tab"||i===9;o&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(n){var r=this,i=this.adapter.getElementIndex(n);i<0||(this.adapter.notifySelected({index:i}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var o=r.adapter.getElementIndex(n);o>=0&&r.adapter.isSelectableItemAtIndex(o)&&r.setSelectedIndex(o)},qC.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case jo.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case jo.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case jo.NONE:break;default:this.adapter.focusListRoot();break}},e.prototype.setDefaultFocusState=function(n){this.defaultFocusState_=n},e.prototype.setSelectedIndex=function(n){if(this.validatedIndex_(n),!this.adapter.isSelectableItemAtIndex(n))throw new Error("MDCMenuFoundation: No selection group at specified index.");var r=this.adapter.getSelectedSiblingOfItemAtIndex(n);r>=0&&(this.adapter.removeAttributeFromElementAtIndex(r,qu.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(r,fy.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(n,fy.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(n,qu.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(n,r){this.validatedIndex_(n),r?(this.adapter.removeClassFromElementAtIndex(n,Ye.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,qu.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(n,Ye.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(n,qu.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(n){var r=this.adapter.getMenuItemCount(),i=n>=0&&n<r;if(!i)throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(St);var d4=qoe;var Ct=class extends bn{constructor(){super(...arguments);this.mdcFoundationClass=d4,this.listElement_=null,this.anchor=null,this.open=!1,this.quick=!1,this.wrapFocus=!1,this.innerRole="menu",this.corner="TOP_START",this.x=null,this.y=null,this.absolute=!1,this.multi=!1,this.activatable=!1,this.fixed=!1,this.forceGroupSelection=!1,this.fullwidth=!1,this.menuCorner="START",this.stayOpenOnBodyClick=!1,this.defaultFocus="LIST_ROOT",this._listUpdateComplete=null}get listElement(){return this.listElement_?this.listElement_:(this.listElement_=this.renderRoot.querySelector("mwc-list"),this.listElement_)}get items(){let e=this.listElement;return e?e.items:[]}get index(){let e=this.listElement;return e?e.index:-1}get selected(){let e=this.listElement;return e?e.selected:null}render(){let e=this.innerRole==="menu"?"menuitem":"option";return ne`
      <mwc-menu-surface
          ?hidden=${!this.open}
          .anchor=${this.anchor}
          .open=${this.open}
          .quick=${this.quick}
          .corner=${this.corner}
          .x=${this.x}
          .y=${this.y}
          .absolute=${this.absolute}
          .fixed=${this.fixed}
          .fullwidth=${this.fullwidth}
          .menuCorner=${this.menuCorner}
          ?stayOpenOnBodyClick=${this.stayOpenOnBodyClick}
          class="mdc-menu mdc-menu-surface"
          @closed=${this.onClosed}
          @opened=${this.onOpened}
          @keydown=${this.onKeydown}>
        <mwc-list
          rootTabbable
          .innerRole=${this.innerRole}
          .multi=${this.multi}
          class="mdc-deprecated-list"
          .itemRoles=${e}
          .wrapFocus=${this.wrapFocus}
          .activatable=${this.activatable}
          @action=${this.onAction}>
        <slot></slot>
      </mwc-list>
    </mwc-menu-surface>`}createAdapter(){return{addClassToElementAtIndex:(e,n)=>{let r=this.listElement;if(!r)return;let i=r.items[e];!i||(n==="mdc-menu-item--selected"?this.forceGroupSelection&&!i.selected&&r.toggle(e,!0):i.classList.add(n))},removeClassFromElementAtIndex:(e,n)=>{let r=this.listElement;if(!r)return;let i=r.items[e];!i||(n==="mdc-menu-item--selected"?i.selected&&r.toggle(e,!1):i.classList.remove(n))},addAttributeToElementAtIndex:(e,n,r)=>{let i=this.listElement;if(!i)return;let o=i.items[e];!o||o.setAttribute(n,r)},removeAttributeFromElementAtIndex:(e,n)=>{let r=this.listElement;if(!r)return;let i=r.items[e];!i||i.removeAttribute(n)},elementContainsClass:(e,n)=>e.classList.contains(n),closeSurface:()=>{this.open=!1},getElementIndex:e=>{let n=this.listElement;return n?n.items.indexOf(e):-1},notifySelected:()=>{},getMenuItemCount:()=>{let e=this.listElement;return e?e.items.length:0},focusItemAtIndex:e=>{let n=this.listElement;if(!n)return;let r=n.items[e];r&&r.focus()},focusListRoot:()=>{this.listElement&&this.listElement.focus()},getSelectedSiblingOfItemAtIndex:e=>{let n=this.listElement;if(!n)return-1;let r=n.items[e];if(!r||!r.group)return-1;for(let i=0;i<n.items.length;i++){if(i===e)continue;let o=n.items[i];if(o.selected&&o.group===r.group)return i}return-1},isSelectableItemAtIndex:e=>{let n=this.listElement;if(!n)return!1;let r=n.items[e];return r?r.hasAttribute("group"):!1}}}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onAction(e){let n=this.listElement;if(this.mdcFoundation&&n){let r=e.detail.index,i=n.items[r];i&&this.mdcFoundation.handleItemAction(i)}}onOpened(){this.open=!0,this.mdcFoundation&&this.mdcFoundation.handleMenuSurfaceOpened()}onClosed(){this.open=!1}async _getUpdateComplete(){let e=!1;return await this._listUpdateComplete,super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),e}getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){super.firstUpdated();let e=this.listElement;e&&(this._listUpdateComplete=e.updateComplete,await this._listUpdateComplete)}select(e){let n=this.listElement;n&&n.select(e)}close(){this.open=!1}show(){this.open=!0}getFocusedItemIndex(){let e=this.listElement;return e?e.getFocusedItemIndex():-1}focusItemAtIndex(e){let n=this.listElement;n&&n.focusItemAtIndex(e)}layout(e=!0){let n=this.listElement;n&&n.layout(e)}};k([ge(".mdc-menu")],Ct.prototype,"mdcRoot",void 0);k([ge("slot")],Ct.prototype,"slotElement",void 0);k([H({type:Object})],Ct.prototype,"anchor",void 0);k([H({type:Boolean,reflect:!0})],Ct.prototype,"open",void 0);k([H({type:Boolean})],Ct.prototype,"quick",void 0);k([H({type:Boolean})],Ct.prototype,"wrapFocus",void 0);k([H({type:String})],Ct.prototype,"innerRole",void 0);k([H({type:String})],Ct.prototype,"corner",void 0);k([H({type:Number})],Ct.prototype,"x",void 0);k([H({type:Number})],Ct.prototype,"y",void 0);k([H({type:Boolean})],Ct.prototype,"absolute",void 0);k([H({type:Boolean})],Ct.prototype,"multi",void 0);k([H({type:Boolean})],Ct.prototype,"activatable",void 0);k([H({type:Boolean})],Ct.prototype,"fixed",void 0);k([H({type:Boolean})],Ct.prototype,"forceGroupSelection",void 0);k([H({type:Boolean})],Ct.prototype,"fullwidth",void 0);k([H({type:String})],Ct.prototype,"menuCorner",void 0);k([H({type:Boolean})],Ct.prototype,"stayOpenOnBodyClick",void 0);k([H({type:String}),Be(function(t){this.mdcFoundation&&this.mdcFoundation.setDefaultFocusState(jo[t])})],Ct.prototype,"defaultFocus",void 0);var f4=nt`mwc-list ::slotted([mwc-list-item]:not([twoline])){height:var(--mdc-menu-item-height, 48px)}`;var WC=class extends Ct{};WC.styles=f4;WC=k([tt("mwc-menu")],WC);var zoe=["input","button","textarea","select"],GC=function(t){var e=t.target;if(!!e){var n=(""+e.tagName).toLowerCase();zoe.indexOf(n)===-1&&t.preventDefault()}};function h4(){var t={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""};return t}function KC(t,e){for(var n=new Map,r=0;r<t;r++){var i=e(r).trim();if(!!i){var o=i[0].toLowerCase();n.has(o)||n.set(o,[]),n.get(o).push({text:i.toLowerCase(),index:r})}}return n.forEach(function(a){a.sort(function(l,u){return l.index-u.index})}),n}function hy(t,e){var n=t.nextChar,r=t.focusItemAtIndex,i=t.sortedIndexByFirstChar,o=t.focusedItemIndex,a=t.skipFocus,l=t.isItemAtIndexDisabled;clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout(function(){Koe(e)},_n.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+n;var u;return e.typeaheadBuffer.length===1?u=Woe(i,o,l,e):u=Goe(i,l,e),u!==-1&&!a&&r(u),u}function Woe(t,e,n,r){var i=r.typeaheadBuffer[0],o=t.get(i);if(!o)return-1;if(i===r.currentFirstChar&&o[r.sortedIndexCursor].index===e){r.sortedIndexCursor=(r.sortedIndexCursor+1)%o.length;var a=o[r.sortedIndexCursor].index;if(!n(a))return a}r.currentFirstChar=i;var l=-1,u;for(u=0;u<o.length;u++)if(!n(o[u].index)){l=u;break}for(;u<o.length;u++)if(o[u].index>e&&!n(o[u].index)){l=u;break}return l!==-1?(r.sortedIndexCursor=l,o[r.sortedIndexCursor].index):-1}function Goe(t,e,n){var r=n.typeaheadBuffer[0],i=t.get(r);if(!i)return-1;var o=i[n.sortedIndexCursor];if(o.text.lastIndexOf(n.typeaheadBuffer,0)===0&&!e(o.index))return o.index;for(var a=(n.sortedIndexCursor+1)%i.length,l=-1;a!==n.sortedIndexCursor;){var u=i[a],d=u.text.lastIndexOf(n.typeaheadBuffer,0)===0,f=!e(u.index);if(d&&f){l=a;break}a=(a+1)%i.length}return l!==-1?(n.sortedIndexCursor=l,i[n.sortedIndexCursor].index):-1}function $C(t){return t.typeaheadBuffer.length>0}function Koe(t){t.typeaheadBuffer=""}function p4(t,e){var n=t.event,r=t.isTargetListItem,i=t.focusedItemIndex,o=t.focusItemAtIndex,a=t.sortedIndexByFirstChar,l=t.isItemAtIndexDisabled,u=rt(n)==="ArrowLeft",d=rt(n)==="ArrowUp",f=rt(n)==="ArrowRight",p=rt(n)==="ArrowDown",v=rt(n)==="Home",g=rt(n)==="End",b=rt(n)==="Enter",_=rt(n)==="Spacebar";if(n.ctrlKey||n.metaKey||u||d||f||p||v||g||b)return-1;var E=!_&&n.key.length===1;if(E){GC(n);var x={focusItemAtIndex:o,focusedItemIndex:i,nextChar:n.key.toLowerCase(),sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:l};return hy(x,e)}if(!_)return-1;r&&GC(n);var T=r&&$C(e);if(T){var x={focusItemAtIndex:o,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:a,skipFocus:!1,isItemAtIndexDisabled:l};return hy(x,e)}return-1}var Dh=class extends bn{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(e){this.formElement&&this.formElement.setAttribute("aria-label",e)}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",e=>{this.dispatchEvent(new Event("change",e))})}};re();var m4={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};var v4=function(t){M(e,t);function e(n){var r=t.call(this,C(C({},e.defaultAdapter),n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return m4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(n){var r=e.cssClasses.LABEL_SHAKE;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.float=function(n){var r=e.cssClasses,i=r.LABEL_FLOAT_ABOVE,o=r.LABEL_SHAKE;n?this.adapter.addClass(i):(this.adapter.removeClass(i),this.adapter.removeClass(o))},e.prototype.setRequired=function(n){var r=e.cssClasses.LABEL_REQUIRED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleShakeAnimationEnd_=function(){var n=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(n)},e}(St);var $oe=t=>({addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),getWidth:()=>t.scrollWidth,registerInteractionHandler:(e,n)=>{t.addEventListener(e,n)},deregisterInteractionHandler:(e,n)=>{t.removeEventListener(e,n)}}),g4=new WeakMap,py=Nr(t=>e=>{if(!g4.get(e)){let r=e.committer.element;r.classList.add("mdc-floating-label");let i=$oe(r),o=new v4(i);o.init(),e.setValue(o),g4.set(e,{label:t,foundation:o})}});re();var qs={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};var y4=function(t){M(e,t);function e(n){var r=t.call(this,C(C({},e.defaultAdapter),n))||this;return r.transitionEndHandler_=function(i){return r.handleTransitionEnd(i)},r}return Object.defineProperty(e,"cssClasses",{get:function(){return qs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.activate=function(){this.adapter.removeClass(qs.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(qs.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(n){this.adapter.setStyle("transform-origin",n+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(qs.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(n){var r=this.adapter.hasClass(qs.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter.removeClass(qs.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(qs.LINE_RIPPLE_DEACTIVATING))},e}(St);var Yoe=t=>({addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),hasClass:e=>t.classList.contains(e),setStyle:(e,n)=>t.style.setProperty(e,n),registerEventHandler:(e,n)=>{t.addEventListener(e,n)},deregisterEventHandler:(e,n)=>{t.removeEventListener(e,n)}}),b4=new WeakMap,my=Nr(()=>t=>{if(!b4.get(t)){let n=t.committer.element;n.classList.add("mdc-line-ripple");let r=Yoe(n),i=new y4(r);i.init(),t.setValue(i),b4.set(t,i)}});re();var ht={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",MENU_INVALID:"mdc-select__menu--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},vy={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},zs={LABEL_SCALE:.75,UNSET_INDEX:-1,CLICK_DEBOUNCE_TIMEOUT_MS:330};var Xoe=function(t){M(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,C(C({},e.defaultAdapter),n))||this;return i.disabled=!1,i.isMenuOpen=!1,i.useDefaultValidation=!0,i.customValidity=!0,i.lastSelectedIndex=zs.UNSET_INDEX,i.clickDebounceTimeout=0,i.recentlyClicked=!1,i.leadingIcon=r.leadingIcon,i.helperText=r.helperText,i}return Object.defineProperty(e,"cssClasses",{get:function(){return ht},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return zs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return vy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedIndex:function(){return-1},setSelectedIndex:function(){},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},setLabelRequired:function(){},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},removeSelectAnchorAttr:function(){},addMenuClass:function(){},removeMenuClass:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},isTypeaheadInProgress:function(){return!1},typeaheadMatchItem:function(){return-1}}},enumerable:!1,configurable:!0}),e.prototype.getSelectedIndex=function(){return this.adapter.getSelectedIndex()},e.prototype.setSelectedIndex=function(n,r,i){r===void 0&&(r=!1),i===void 0&&(i=!1),!(n>=this.adapter.getMenuItemCount())&&(n===zs.UNSET_INDEX?this.adapter.setSelectedText(""):this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(n).trim()),this.adapter.setSelectedIndex(n),r&&this.adapter.closeMenu(),!i&&this.lastSelectedIndex!==n&&this.handleChange(),this.lastSelectedIndex=n)},e.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.adapter.getMenuItemValues().indexOf(n);this.setSelectedIndex(i,!1,r)},e.prototype.getValue=function(){var n=this.adapter.getSelectedIndex(),r=this.adapter.getMenuItemValues();return n!==zs.UNSET_INDEX?r[n]:""},e.prototype.getDisabled=function(){return this.disabled},e.prototype.setDisabled=function(n){this.disabled=n,this.disabled?(this.adapter.addClass(ht.DISABLED),this.adapter.closeMenu()):this.adapter.removeClass(ht.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.disabled?this.adapter.removeSelectAnchorAttr("tabindex"):this.adapter.setSelectAnchorAttr("tabindex","0"),this.adapter.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},e.prototype.openMenu=function(){this.adapter.addClass(ht.ACTIVATED),this.adapter.openMenu(),this.isMenuOpen=!0,this.adapter.setSelectAnchorAttr("aria-expanded","true")},e.prototype.setHelperTextContent=function(n){this.helperText&&this.helperText.setContent(n)},e.prototype.layout=function(){if(this.adapter.hasLabel()){var n=this.getValue().length>0,r=this.adapter.hasClass(ht.FOCUSED),i=n||r,o=this.adapter.hasClass(ht.REQUIRED);this.notchOutline(i),this.adapter.floatLabel(i),this.adapter.setLabelRequired(o)}},e.prototype.layoutOptions=function(){var n=this.adapter.getMenuItemValues(),r=n.indexOf(this.getValue());this.setSelectedIndex(r,!1,!0)},e.prototype.handleMenuOpened=function(){if(this.adapter.getMenuItemValues().length!==0){var n=this.getSelectedIndex(),r=n>=0?n:0;this.adapter.focusMenuItemAtIndex(r)}},e.prototype.handleMenuClosing=function(){this.adapter.setSelectAnchorAttr("aria-expanded","false")},e.prototype.handleMenuClosed=function(){this.adapter.removeClass(ht.ACTIVATED),this.isMenuOpen=!1,this.adapter.isSelectAnchorFocused()||this.blur()},e.prototype.handleChange=function(){this.layout(),this.adapter.notifyChange(this.getValue());var n=this.adapter.hasClass(ht.REQUIRED);n&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.handleMenuItemAction=function(n){this.setSelectedIndex(n,!0)},e.prototype.handleFocus=function(){this.adapter.addClass(ht.FOCUSED),this.layout(),this.adapter.activateBottomLine()},e.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},e.prototype.handleClick=function(n){if(!(this.disabled||this.recentlyClicked)){if(this.setClickDebounceTimeout(),this.isMenuOpen){this.adapter.closeMenu();return}this.adapter.setRippleCenter(n),this.openMenu()}},e.prototype.handleKeydown=function(n){if(!(this.isMenuOpen||!this.adapter.hasClass(ht.FOCUSED))){var r=rt(n)===ve.ENTER,i=rt(n)===ve.SPACEBAR,o=rt(n)===ve.ARROW_UP,a=rt(n)===ve.ARROW_DOWN,l=n.ctrlKey||n.metaKey;if(!l&&(!i&&n.key&&n.key.length===1||i&&this.adapter.isTypeaheadInProgress())){var u=i?" ":n.key,d=this.adapter.typeaheadMatchItem(u,this.getSelectedIndex());d>=0&&this.setSelectedIndex(d),n.preventDefault();return}!r&&!i&&!o&&!a||(o&&this.getSelectedIndex()>0?this.setSelectedIndex(this.getSelectedIndex()-1):a&&this.getSelectedIndex()<this.adapter.getMenuItemCount()-1&&this.setSelectedIndex(this.getSelectedIndex()+1),this.openMenu(),n.preventDefault())}},e.prototype.notchOutline=function(n){if(!!this.adapter.hasOutline()){var r=this.adapter.hasClass(ht.FOCUSED);if(n){var i=zs.LABEL_SCALE,o=this.adapter.getLabelWidth()*i;this.adapter.notchOutline(o)}else r||this.adapter.closeOutline()}},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon&&this.leadingIcon.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon&&this.leadingIcon.setContent(n)},e.prototype.setUseDefaultValidation=function(n){this.useDefaultValidation=n},e.prototype.setValid=function(n){this.useDefaultValidation||(this.customValidity=n),this.adapter.setSelectAnchorAttr("aria-invalid",(!n).toString()),n?(this.adapter.removeClass(ht.INVALID),this.adapter.removeMenuClass(ht.MENU_INVALID)):(this.adapter.addClass(ht.INVALID),this.adapter.addMenuClass(ht.MENU_INVALID)),this.syncHelperTextValidity(n)},e.prototype.isValid=function(){return this.useDefaultValidation&&this.adapter.hasClass(ht.REQUIRED)&&!this.adapter.hasClass(ht.DISABLED)?this.getSelectedIndex()!==zs.UNSET_INDEX&&(this.getSelectedIndex()!==0||Boolean(this.getValue())):this.customValidity},e.prototype.setRequired=function(n){n?this.adapter.addClass(ht.REQUIRED):this.adapter.removeClass(ht.REQUIRED),this.adapter.setSelectAnchorAttr("aria-required",n.toString()),this.adapter.setLabelRequired(n)},e.prototype.getRequired=function(){return this.adapter.getSelectAnchorAttr("aria-required")==="true"},e.prototype.init=function(){var n=this.adapter.getAnchorElement();n&&(this.adapter.setMenuAnchorElement(n),this.adapter.setMenuAnchorCorner(an.BOTTOM_START)),this.adapter.setMenuWrapFocus(!1),this.setDisabled(this.adapter.hasClass(ht.DISABLED)),this.syncHelperTextValidity(!this.adapter.hasClass(ht.INVALID)),this.layout(),this.layoutOptions()},e.prototype.blur=function(){this.adapter.removeClass(ht.FOCUSED),this.layout(),this.adapter.deactivateBottomLine();var n=this.adapter.hasClass(ht.REQUIRED);n&&this.useDefaultValidation&&this.setValid(this.isValid())},e.prototype.syncHelperTextValidity=function(n){if(!!this.helperText){this.helperText.setValidity(n);var r=this.helperText.isVisible(),i=this.helperText.getId();r&&i?this.adapter.setSelectAnchorAttr(vy.ARIA_DESCRIBEDBY,i):this.adapter.removeSelectAnchorAttr(vy.ARIA_DESCRIBEDBY)}},e.prototype.setClickDebounceTimeout=function(){var n=this;clearTimeout(this.clickDebounceTimeout),this.clickDebounceTimeout=setTimeout(function(){n.recentlyClicked=!1},zs.CLICK_DEBOUNCE_TIMEOUT_MS),this.recentlyClicked=!0},e}(St);var _4=Xoe;var w4=(t={})=>{let e={};for(let n in t)e[n]=t[n];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},e)},qe=class extends Dh{constructor(){super(...arguments);this.mdcFoundationClass=_4,this.disabled=!1,this.outlined=!1,this.label="",this.outlineOpen=!1,this.outlineWidth=0,this.value="",this.selectedText="",this.icon="",this.menuOpen=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.required=!1,this.naturalMenuWidth=!1,this.isUiValid=!0,this.fixedMenuPosition=!1,this.typeaheadState=h4(),this.sortedIndexByFirstChar=new Map,this.menuElement_=null,this.listeners=[],this.onBodyClickBound=()=>{},this._menuUpdateComplete=null,this.valueSetDirectly=!1,this.validityTransform=null,this._validity=w4()}get items(){return this.menuElement_||(this.menuElement_=this.menuElement),this.menuElement_?this.menuElement_.items:[]}get selected(){let e=this.menuElement;return e?e.selected:null}get index(){let e=this.menuElement;return e?e.index:-1}get shouldRenderHelperText(){return!!this.helper||!!this.validationMessage}get validity(){return this._checkValidity(this.value),this._validity}render(){let e={"mdc-select--disabled":this.disabled,"mdc-select--no-label":!this.label,"mdc-select--filled":!this.outlined,"mdc-select--outlined":this.outlined,"mdc-select--with-leading-icon":!!this.icon,"mdc-select--required":this.required,"mdc-select--invalid":!this.isUiValid},n={"mdc-select__menu--invalid":!this.isUiValid},r=this.shouldRenderHelperText?"helper-text":void 0;return ne`
      <div
          class="mdc-select ${st(e)}">
        <input
            class="formElement"
            .value=${this.value}
            hidden
            ?required=${this.required}>
        <!-- @ts-ignore -->
        <div class="mdc-select__anchor"
            aria-autocomplete="none"
            role="combobox"
            aria-expanded=${this.menuOpen}
            aria-invalid=${!this.isUiValid}
            aria-haspopup="listbox"
            aria-labelledby="label"
            aria-required=${this.required}
            aria-describedby=${zt(r)}
            @click=${this.onClick}
            @focus=${this.onFocus}
            @blur=${this.onBlur}
            @keydown=${this.onKeydown}>
          ${this.renderRipple()}
          ${this.outlined?this.renderOutline():this.renderLabel()}
          ${this.renderLeadingIcon()}
          <span class="mdc-select__selected-text-container">
            <span class="mdc-select__selected-text">${this.selectedText}</span>
          </span>
          <span class="mdc-select__dropdown-icon">
            <svg
                class="mdc-select__dropdown-icon-graphic"
                viewBox="7 10 10 5"
                focusable="false">
              <polygon
                  class="mdc-select__dropdown-icon-inactive"
                  stroke="none"
                  fill-rule="evenodd"
                  points="7 10 12 15 17 10">
              </polygon>
              <polygon
                  class="mdc-select__dropdown-icon-active"
                  stroke="none"
                  fill-rule="evenodd"
                  points="7 15 12 10 17 15">
              </polygon>
            </svg>
          </span>
          ${this.renderLineRipple()}
        </div>
        <mwc-menu
            innerRole="listbox"
            wrapFocus
            class="mdc-select__menu mdc-menu mdc-menu-surface ${st(n)}"
            activatable
            .fullwidth=${this.fixedMenuPosition?!1:!this.naturalMenuWidth}
            .open=${this.menuOpen}
            .anchor=${this.anchorElement}
            .fixed=${this.fixedMenuPosition}
            @selected=${this.onSelected}
            @opened=${this.onOpened}
            @closed=${this.onClosed}
            @items-updated=${this.onItemsUpdated}
            @keydown=${this.handleTypeahead}>
          <slot></slot>
        </mwc-menu>
      </div>
      ${this.renderHelperText()}`}renderRipple(){return this.outlined?Ri:ne`
      <span class="mdc-select__ripple"></span>
    `}renderOutline(){return this.outlined?ne`
      <mwc-notched-outline
          .width=${this.outlineWidth}
          .open=${this.outlineOpen}
          class="mdc-notched-outline">
        ${this.renderLabel()}
      </mwc-notched-outline>`:Ri}renderLabel(){return this.label?ne`
      <span
          .floatingLabelFoundation=${py(this.label)}
          id="label">${this.label}</span>
    `:Ri}renderLeadingIcon(){return this.icon?ne`<mwc-icon class="mdc-select__icon"><div>${this.icon}</div></mwc-icon>`:Ri}renderLineRipple(){return this.outlined?Ri:ne`
      <span .lineRippleFoundation=${my()}></span>
    `}renderHelperText(){if(!this.shouldRenderHelperText)return Ri;let e=this.validationMessage&&!this.isUiValid;return ne`
        <p
          class="mdc-select-helper-text ${st({"mdc-select-helper-text--validation-msg":e})}"
          id="helper-text">${e?this.validationMessage:this.helper}</p>`}createAdapter(){return Object.assign(Object.assign({},oi(this.mdcRoot)),{activateBottomLine:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateBottomLine:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},hasLabel:()=>!!this.label,floatLabel:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.float(e)},getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,setLabelRequired:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.setRequired(e)},hasOutline:()=>this.outlined,notchOutline:e=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=e,this.outlineOpen=!0)},closeOutline:()=>{this.outlineElement&&(this.outlineOpen=!1)},setRippleCenter:e=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(e)},notifyChange:async e=>{if(!this.valueSetDirectly&&e===this.value)return;this.valueSetDirectly=!1,this.value=e,await this.updateComplete;let n=new Event("change",{bubbles:!0});this.dispatchEvent(n)},setSelectedText:e=>this.selectedText=e,isSelectAnchorFocused:()=>{let e=this.anchorElement;return e?e.getRootNode().activeElement===e:!1},getSelectAnchorAttr:e=>{let n=this.anchorElement;return n?n.getAttribute(e):null},setSelectAnchorAttr:(e,n)=>{let r=this.anchorElement;!r||r.setAttribute(e,n)},removeSelectAnchorAttr:e=>{let n=this.anchorElement;!n||n.removeAttribute(e)},openMenu:()=>{this.menuOpen=!0},closeMenu:()=>{this.menuOpen=!1},addMenuClass:()=>{},removeMenuClass:()=>{},getAnchorElement:()=>this.anchorElement,setMenuAnchorElement:()=>{},setMenuAnchorCorner:()=>{let e=this.menuElement;e&&(e.corner="BOTTOM_START")},setMenuWrapFocus:e=>{let n=this.menuElement;n&&(n.wrapFocus=e)},focusMenuItemAtIndex:e=>{let n=this.menuElement;if(!n)return;let r=n.items[e];!r||r.focus()},getMenuItemCount:()=>{let e=this.menuElement;return e?e.items.length:0},getMenuItemValues:()=>{let e=this.menuElement;return e?e.items.map(r=>r.value):[]},getMenuItemTextAtIndex:e=>{let n=this.menuElement;if(!n)return"";let r=n.items[e];return r?r.text:""},getSelectedIndex:()=>this.index,setSelectedIndex:()=>{},isTypeaheadInProgress:()=>$C(this.typeaheadState),typeaheadMatchItem:(e,n)=>{if(!this.menuElement)return-1;let r={focusItemAtIndex:o=>{this.menuElement.focusItemAtIndex(o)},focusedItemIndex:n||this.menuElement.getFocusedItemIndex(),nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:!1,isItemAtIndexDisabled:o=>this.items[o].disabled},i=hy(r,this.typeaheadState);return i!==-1&&this.select(i),i}})}checkValidity(){let e=this._checkValidity(this.value);if(!e){let n=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(n)}return e}reportValidity(){let e=this.checkValidity();return this.isUiValid=e,e}_checkValidity(e){let n=this.formElement.validity,r=w4(n);if(this.validityTransform){let i=this.validityTransform(e,r);r=Object.assign(Object.assign({},r),i)}return this._validity=r,this._validity.valid}setCustomValidity(e){this.validationMessage=e,this.formElement.setCustomValidity(e)}async _getUpdateComplete(){let e=!1;return await this._menuUpdateComplete,super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),e}getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){let e=this.menuElement;if(e&&(this._menuUpdateComplete=e.updateComplete,await this._menuUpdateComplete),super.firstUpdated(),this.mdcFoundation.isValid=()=>!0,this.mdcFoundation.setValid=()=>{},this.mdcFoundation.setDisabled(this.disabled),this.validateOnInitialRender&&this.reportValidity(),!this.selected){!this.items.length&&this.slotElement&&this.slotElement.assignedNodes({flatten:!0}).length&&(await new Promise(r=>requestAnimationFrame(r)),await this.layout());let n=this.items.length&&this.items[0].value==="";if(!this.value&&n){this.select(0);return}this.selectByValue(this.value)}this.sortedIndexByFirstChar=KC(this.items.length,n=>this.items[n].text)}onItemsUpdated(){this.sortedIndexByFirstChar=KC(this.items.length,e=>this.items[e].text)}select(e){let n=this.menuElement;n&&n.select(e)}selectByValue(e){let n=-1;for(let r=0;r<this.items.length;r++)if(this.items[r].value===e){n=r;break}this.valueSetDirectly=!0,this.select(n),this.mdcFoundation.handleChange()}disconnectedCallback(){super.disconnectedCallback();for(let e of this.listeners)e.target.removeEventListener(e.name,e.cb)}focus(){let e=new CustomEvent("focus"),n=this.anchorElement;n&&(n.dispatchEvent(e),n.focus())}blur(){let e=new CustomEvent("blur"),n=this.anchorElement;n&&(n.dispatchEvent(e),n.blur())}onFocus(){this.mdcFoundation&&this.mdcFoundation.handleFocus()}onBlur(){this.mdcFoundation&&this.mdcFoundation.handleBlur();let e=this.menuElement;e&&!e.open&&this.reportValidity()}onClick(e){if(this.mdcFoundation){this.focus();let n=e.target.getBoundingClientRect(),r=0;"touches"in e?r=e.touches[0].clientX:r=e.clientX;let i=r-n.left;this.mdcFoundation.handleClick(i)}}onKeydown(e){let n=rt(e)===ve.ARROW_UP,r=rt(e)===ve.ARROW_DOWN;if(r||n){let i=n&&this.index>0,o=r&&this.index<this.items.length-1;i?this.select(this.index-1):o&&this.select(this.index+1),e.preventDefault(),this.mdcFoundation.openMenu();return}this.mdcFoundation.handleKeydown(e)}handleTypeahead(e){if(!this.menuElement)return;let n=this.menuElement.getFocusedItemIndex(),r=Bu(e.target)?e.target:null,i=r?r.hasAttribute("mwc-list-item"):!1,o={event:e,focusItemAtIndex:a=>{this.menuElement.focusItemAtIndex(a)},focusedItemIndex:n,isTargetListItem:i,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:a=>this.items[a].disabled};p4(o,this.typeaheadState)}async onSelected(e){this.mdcFoundation||await this.updateComplete,this.mdcFoundation.handleMenuItemAction(e.detail.index);let n=this.items[e.detail.index];n&&(this.value=n.value)}onOpened(){this.mdcFoundation&&(this.menuOpen=!0,this.mdcFoundation.handleMenuOpened())}onClosed(){this.mdcFoundation&&(this.menuOpen=!1,this.mdcFoundation.handleMenuClosed())}async layout(e=!0){this.mdcFoundation&&this.mdcFoundation.layout(),await this.updateComplete;let n=this.menuElement;n&&n.layout(e);let r=this.labelElement;if(!r){this.outlineOpen=!1;return}let i=!!this.label&&!!this.value;if(r.floatingLabelFoundation.float(i),!this.outlined)return;this.outlineOpen=i,await this.updateComplete;let o=r.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=o)}async layoutOptions(){!this.mdcFoundation||this.mdcFoundation.layoutOptions()}};k([ge(".mdc-select")],qe.prototype,"mdcRoot",void 0);k([ge(".formElement")],qe.prototype,"formElement",void 0);k([ge("slot")],qe.prototype,"slotElement",void 0);k([ge("select")],qe.prototype,"nativeSelectElement",void 0);k([ge("input")],qe.prototype,"nativeInputElement",void 0);k([ge(".mdc-line-ripple")],qe.prototype,"lineRippleElement",void 0);k([ge(".mdc-floating-label")],qe.prototype,"labelElement",void 0);k([ge("mwc-notched-outline")],qe.prototype,"outlineElement",void 0);k([ge(".mdc-menu")],qe.prototype,"menuElement",void 0);k([ge(".mdc-select__anchor")],qe.prototype,"anchorElement",void 0);k([H({type:Boolean,attribute:"disabled",reflect:!0}),Be(function(t){this.mdcFoundation&&this.mdcFoundation.setDisabled(t)})],qe.prototype,"disabled",void 0);k([H({type:Boolean}),Be(function(t,e){e!==void 0&&this.outlined!==e&&this.layout(!1)})],qe.prototype,"outlined",void 0);k([H({type:String}),Be(function(t,e){e!==void 0&&this.label!==e&&this.layout(!1)})],qe.prototype,"label",void 0);k([Re()],qe.prototype,"outlineOpen",void 0);k([Re()],qe.prototype,"outlineWidth",void 0);k([H({type:String}),Be(function(t){if(this.mdcFoundation){let e=this.selected===null&&!!t,n=this.selected&&this.selected.value!==t;(e||n)&&this.selectByValue(t),this.reportValidity()}})],qe.prototype,"value",void 0);k([Re()],qe.prototype,"selectedText",void 0);k([H({type:String})],qe.prototype,"icon",void 0);k([Re()],qe.prototype,"menuOpen",void 0);k([H({type:String})],qe.prototype,"helper",void 0);k([H({type:Boolean})],qe.prototype,"validateOnInitialRender",void 0);k([H({type:String})],qe.prototype,"validationMessage",void 0);k([H({type:Boolean})],qe.prototype,"required",void 0);k([H({type:Boolean})],qe.prototype,"naturalMenuWidth",void 0);k([Re()],qe.prototype,"isUiValid",void 0);k([H({type:Boolean})],qe.prototype,"fixedMenuPosition",void 0);k([Vo({capture:!0})],qe.prototype,"handleTypeahead",null);var E4=nt`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-select{display:inline-flex;position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.87)}.mdc-select.mdc-select--disabled .mdc-select__selected-text{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-select:not(.mdc-select--disabled).mdc-select--focused .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-select.mdc-select--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.54)}.mdc-select:not(.mdc-select--disabled).mdc-select--focused .mdc-select__dropdown-icon{fill:#6200ee;fill:var(--mdc-theme-primary, #6200ee)}.mdc-select.mdc-select--disabled .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled)+.mdc-select-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-select.mdc-select--disabled+.mdc-select-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:rgba(0, 0, 0, 0.54)}.mdc-select.mdc-select--disabled .mdc-select__icon{color:rgba(0, 0, 0, 0.38)}@media screen and (-ms-high-contrast: active){.mdc-select.mdc-select--disabled .mdc-select__selected-text{color:GrayText}.mdc-select.mdc-select--disabled .mdc-select__dropdown-icon{fill:red}.mdc-select.mdc-select--disabled .mdc-floating-label{color:GrayText}.mdc-select.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}.mdc-select.mdc-select--disabled .mdc-notched-outline__leading,.mdc-select.mdc-select--disabled .mdc-notched-outline__notch,.mdc-select.mdc-select--disabled .mdc-notched-outline__trailing{border-color:GrayText}.mdc-select.mdc-select--disabled .mdc-select__icon{color:GrayText}.mdc-select.mdc-select--disabled+.mdc-select-helper-text{color:GrayText}}.mdc-select .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-select .mdc-select__anchor{padding-left:16px;padding-right:0}[dir=rtl] .mdc-select .mdc-select__anchor,.mdc-select .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:16px}.mdc-select.mdc-select--with-leading-icon .mdc-select__anchor{padding-left:0;padding-right:0}[dir=rtl] .mdc-select.mdc-select--with-leading-icon .mdc-select__anchor,.mdc-select.mdc-select--with-leading-icon .mdc-select__anchor[dir=rtl]{padding-left:0;padding-right:0}.mdc-select .mdc-select__icon{width:24px;height:24px;font-size:24px}.mdc-select .mdc-select__dropdown-icon{width:24px;height:24px}.mdc-select .mdc-select__menu .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-select .mdc-select__menu .mdc-deprecated-list-item,.mdc-select .mdc-select__menu .mdc-deprecated-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic{margin-left:0;margin-right:12px}[dir=rtl] .mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic,.mdc-select .mdc-select__menu .mdc-deprecated-list-item__graphic[dir=rtl]{margin-left:12px;margin-right:0}.mdc-select__dropdown-icon{margin-left:12px;margin-right:12px;display:inline-flex;position:relative;align-self:center;align-items:center;justify-content:center;flex-shrink:0;pointer-events:none}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-active,.mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{position:absolute;top:0;left:0}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-graphic{width:41.6666666667%;height:20.8333333333%}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{opacity:1;transition:opacity 75ms linear 75ms}.mdc-select__dropdown-icon .mdc-select__dropdown-icon-active{opacity:0;transition:opacity 75ms linear}[dir=rtl] .mdc-select__dropdown-icon,.mdc-select__dropdown-icon[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select--activated .mdc-select__dropdown-icon .mdc-select__dropdown-icon-inactive{opacity:0;transition:opacity 49.5ms linear}.mdc-select--activated .mdc-select__dropdown-icon .mdc-select__dropdown-icon-active{opacity:1;transition:opacity 100.5ms linear 49.5ms}.mdc-select__anchor{width:200px;min-width:0;flex:1 1 auto;position:relative;box-sizing:border-box;overflow:hidden;outline:none;cursor:pointer}.mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-select__selected-text-container{display:flex;appearance:none;pointer-events:none;box-sizing:border-box;width:auto;min-width:0;flex-grow:1;height:28px;border:none;outline:none;padding:0;background-color:transparent;color:inherit}.mdc-select__selected-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;width:100%;text-align:left}[dir=rtl] .mdc-select__selected-text,.mdc-select__selected-text[dir=rtl]{text-align:right}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--invalid+.mdc-select-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-select__dropdown-icon{fill:#b00020;fill:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-select__dropdown-icon{fill:#b00020;fill:var(--mdc-theme-error, #b00020)}.mdc-select--disabled{cursor:default;pointer-events:none}.mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item{padding-left:12px;padding-right:12px}[dir=rtl] .mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item,.mdc-select--with-leading-icon .mdc-select__menu .mdc-deprecated-list-item[dir=rtl]{padding-left:12px;padding-right:12px}.mdc-select__menu .mdc-deprecated-list .mdc-select__icon{margin-left:0;margin-right:0}[dir=rtl] .mdc-select__menu .mdc-deprecated-list .mdc-select__icon,.mdc-select__menu .mdc-deprecated-list .mdc-select__icon[dir=rtl]{margin-left:0;margin-right:0}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--activated{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-select--filled .mdc-select__anchor{height:56px;display:flex;align-items:baseline}.mdc-select--filled .mdc-select__anchor::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text::before{content:"​"}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.mdc-select--filled.mdc-select--no-label .mdc-select__anchor::before{display:none}.mdc-select--filled .mdc-select__anchor{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-select--filled:not(.mdc-select--disabled) .mdc-select__anchor{background-color:whitesmoke}.mdc-select--filled.mdc-select--disabled .mdc-select__anchor{background-color:#fafafa}.mdc-select--filled:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-select--filled:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-select--filled:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-select--filled.mdc-select--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-select--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-select--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-select--filled .mdc-menu-surface--is-open-below{border-top-left-radius:0px;border-top-right-radius:0px}.mdc-select--filled.mdc-select--focused.mdc-line-ripple::after{transform:scale(1, 2);opacity:1}.mdc-select--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-select--filled .mdc-floating-label,.mdc-select--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{left:48px;right:initial}[dir=rtl] .mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label,.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--invalid:not(.mdc-select--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined{border:none}.mdc-select--outlined .mdc-select__anchor{height:56px}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-56px{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-select--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-select--outlined .mdc-select__anchor{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-select--outlined .mdc-select__anchor,.mdc-select--outlined .mdc-select__anchor[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-select--outlined .mdc-select__anchor,.mdc-select--outlined .mdc-select__anchor[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-select--outlined+.mdc-select-helper-text{margin-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-select--outlined+.mdc-select-helper-text,.mdc-select--outlined+.mdc-select-helper-text[dir=rtl]{margin-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-select--outlined+.mdc-select-helper-text,.mdc-select--outlined+.mdc-select-helper-text[dir=rtl]{margin-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-select--outlined:not(.mdc-select--disabled) .mdc-select__anchor{background-color:transparent}.mdc-select--outlined.mdc-select--disabled .mdc-select__anchor{background-color:transparent}.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:2px}.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-select--outlined .mdc-select__anchor{display:flex;align-items:baseline;overflow:visible}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined 250ms 1}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-select--outlined .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-select--outlined .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined .mdc-select__anchor .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-select--outlined .mdc-select__anchor .mdc-select__selected-text::before{content:"​"}.mdc-select--outlined .mdc-select__anchor .mdc-select__selected-text-container{height:100%;display:inline-flex;align-items:center}.mdc-select--outlined .mdc-select__anchor::before{display:none}.mdc-select--outlined .mdc-select__selected-text-container{display:flex;border:none;z-index:1;background-color:transparent}.mdc-select--outlined .mdc-select__icon{z-index:2}.mdc-select--outlined .mdc-floating-label{line-height:1.15rem;left:4px;right:initial}[dir=rtl] .mdc-select--outlined .mdc-floating-label,.mdc-select--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-select--outlined.mdc-select--focused .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled):not(.mdc-select--focused) .mdc-select__anchor:hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:2px}.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-select--outlined.mdc-select--invalid:not(.mdc-select--disabled).mdc-select--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--float-above{font-size:.75rem}.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-select--outlined.mdc-select--with-leading-icon.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-select--outlined.mdc-select--with-leading-icon .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-select--outlined.mdc-select--with-leading-icon .mdc-floating-label--shake,.mdc-select--outlined.mdc-select--with-leading-icon[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px 250ms 1}@keyframes mdc-floating-label-shake-float-above-select-outlined-leading-icon-56px-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-select--outlined.mdc-select--with-leading-icon .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 96px)}.mdc-select--outlined .mdc-menu-surface{margin-bottom:8px}.mdc-select--outlined.mdc-select--no-label .mdc-menu-surface,.mdc-select--outlined .mdc-menu-surface--is-open-below{margin-bottom:0}.mdc-select__anchor{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-select__anchor .mdc-select__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-select__anchor .mdc-select__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-select__anchor.mdc-ripple-upgraded--unbounded .mdc-select__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-select__anchor.mdc-ripple-upgraded--foreground-activation .mdc-select__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-select__anchor.mdc-ripple-upgraded--foreground-deactivation .mdc-select__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-select__anchor.mdc-ripple-upgraded .mdc-select__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-select__anchor .mdc-select__ripple::before,.mdc-select__anchor .mdc-select__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-select__anchor:hover .mdc-select__ripple::before,.mdc-select__anchor.mdc-ripple-surface--hover .mdc-select__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__anchor.mdc-ripple-upgraded--background-focused .mdc-select__ripple::before,.mdc-select__anchor:not(.mdc-ripple-upgraded):focus .mdc-select__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__anchor .mdc-select__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple::after{transition:opacity 150ms linear}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected .mdc-list-item__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, var(--mdc-theme-on-surface, #000))}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-select__menu .mdc-deprecated-list .mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-select-helper-text{margin:0;margin-left:16px;margin-right:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal}[dir=rtl] .mdc-select-helper-text,.mdc-select-helper-text[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-select-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-select-helper-text--validation-msg{opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-select--invalid+.mdc-select-helper-text--validation-msg,.mdc-select-helper-text--validation-msg-persistent{opacity:1}.mdc-select--with-leading-icon .mdc-select__icon{display:inline-block;box-sizing:border-box;border:none;text-decoration:none;cursor:pointer;user-select:none;flex-shrink:0;align-self:center;background-color:transparent;fill:currentColor}.mdc-select--with-leading-icon .mdc-select__icon{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-select--with-leading-icon .mdc-select__icon,.mdc-select--with-leading-icon .mdc-select__icon[dir=rtl]{margin-left:12px;margin-right:12px}.mdc-select__icon:not([tabindex]),.mdc-select__icon[tabindex="-1"]{cursor:default;pointer-events:none}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-block;vertical-align:top;outline:none}.mdc-select{width:100%}[hidden]{display:none}.mdc-select__icon{z-index:2}.mdc-select--with-leading-icon{--mdc-list-item-graphic-margin: calc( 48px - var(--mdc-list-item-graphic-size, 24px) - var(--mdc-list-side-padding, 16px) )}.mdc-select .mdc-select__anchor .mdc-select__selected-text{overflow:hidden}.mdc-select .mdc-select__anchor *{display:inline-flex}.mdc-select .mdc-select__anchor .mdc-floating-label{display:inline-block}mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-outlined-idle-border-color, rgba(0, 0, 0, 0.38) );--mdc-notched-outline-notch-offset: 1px}:host(:not([disabled]):hover) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-outlined-hover-border-color, rgba(0, 0, 0, 0.87) )}:host(:not([disabled])) .mdc-select:not(.mdc-select--disabled) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.87);color:var(--mdc-select-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-select:not(.mdc-select--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42);border-bottom-color:var(--mdc-select-idle-line-color, rgba(0, 0, 0, 0.42))}:host(:not([disabled])) .mdc-select:not(.mdc-select--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87);border-bottom-color:var(--mdc-select-hover-line-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-select:not(.mdc-select--outlined):not(.mdc-select--disabled) .mdc-select__anchor{background-color:whitesmoke;background-color:var(--mdc-select-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-select.mdc-select--invalid .mdc-select__dropdown-icon{fill:var(--mdc-select-error-dropdown-icon-color, var(--mdc-select-error-color, var(--mdc-theme-error, #b00020)))}:host(:not([disabled])) .mdc-select.mdc-select--invalid .mdc-floating-label,:host(:not([disabled])) .mdc-select.mdc-select--invalid .mdc-floating-label::after{color:var(--mdc-select-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-select.mdc-select--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-select-error-color, var(--mdc-theme-error, #b00020))}.mdc-select__menu--invalid{--mdc-theme-primary: var(--mdc-select-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label::after{color:rgba(0, 0, 0, 0.6);color:var(--mdc-select-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.54);fill:var(--mdc-select-dropdown-icon-color, rgba(0, 0, 0, 0.54))}:host(:not([disabled])) .mdc-select.mdc-select--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px;--mdc-notched-outline-notch-offset: 2px}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)) )}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) .mdc-select__dropdown-icon{fill:rgba(98,0,238,.87);fill:var(--mdc-select-focused-dropdown-icon-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)))}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-select.mdc-select--focused:not(.mdc-select--invalid) .mdc-floating-label::after{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-select-helper-text:not(.mdc-select-helper-text--validation-msg){color:var(--mdc-select-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-select:not(.mdc-select--outlined).mdc-select--disabled .mdc-select__anchor{background-color:#fafafa;background-color:var(--mdc-select-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-select.mdc-select--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-select-outlined-disabled-border-color, rgba(0, 0, 0, 0.06) )}:host([disabled]) .mdc-select .mdc-select__dropdown-icon{fill:rgba(0, 0, 0, 0.38);fill:var(--mdc-select-disabled-dropdown-icon-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label,:host([disabled]) .mdc-select:not(.mdc-select--invalid):not(.mdc-select--focused) .mdc-floating-label::after{color:rgba(0, 0, 0, 0.38);color:var(--mdc-select-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-select-helper-text{color:rgba(0, 0, 0, 0.38);color:var(--mdc-select-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-select__selected-text{color:rgba(0, 0, 0, 0.38);color:var(--mdc-select-disabled-ink-color, rgba(0, 0, 0, 0.38))}`;var YC=class extends qe{};YC.styles=E4;YC=k([tt("mwc-select")],YC);re();re();re();var gy={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},x4={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},XC={LABEL_SCALE:.75},S4=["pattern","min","max","required","step","minlength","maxlength"],T4=["color","date","datetime-local","month","range","time","week"];var C4=["mousedown","touchstart"],I4=["click","keydown"],Qoe=function(t){M(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,C(C({},e.defaultAdapter),n))||this;return i.isFocused_=!1,i.receivedUserInput_=!1,i.isValid_=!0,i.useNativeValidation_=!0,i.validateOnValueChange_=!0,i.helperText_=r.helperText,i.characterCounter_=r.characterCounter,i.leadingIcon_=r.leadingIcon,i.trailingIcon_=r.trailingIcon,i.inputFocusHandler_=function(){return i.activateFocus()},i.inputBlurHandler_=function(){return i.deactivateFocus()},i.inputInputHandler_=function(){return i.handleInput()},i.setPointerXOffset_=function(o){return i.setTransformOrigin(o)},i.textFieldInteractionHandler_=function(){return i.handleTextFieldInteraction()},i.validationAttributeChangeHandler_=function(o){return i.handleValidationAttributeChange(o)},i}return Object.defineProperty(e,"cssClasses",{get:function(){return x4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return gy},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return XC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat_",{get:function(){var n=this.getNativeInput_().type;return T4.indexOf(n)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var n=this;this.adapter.hasLabel()&&this.getNativeInput_().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler_():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating_(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler_),C4.forEach(function(r){n.adapter.registerInputInteractionHandler(r,n.setPointerXOffset_)}),I4.forEach(function(r){n.adapter.registerTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.validationObserver_=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},e.prototype.destroy=function(){var n=this;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler_),C4.forEach(function(r){n.adapter.deregisterInputInteractionHandler(r,n.setPointerXOffset_)}),I4.forEach(function(r){n.adapter.deregisterTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver_)},e.prototype.handleTextFieldInteraction=function(){var n=this.adapter.getNativeInput();n&&n.disabled||(this.receivedUserInput_=!0)},e.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(i){return S4.indexOf(i)>-1?(r.styleValidity_(!0),r.adapter.setLabelRequired(r.getNativeInput_().required),!0):!1}),n.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},e.prototype.notchOutline=function(n){if(!(!this.adapter.hasOutline()||!this.adapter.hasLabel()))if(n){var r=this.adapter.getLabelWidth()*XC.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.helperText_&&(this.helperText_.isPersistent()||!this.helperText_.isValidation()||!this.isValid_)&&this.helperText_.showToScreenReader()},e.prototype.setTransformOrigin=function(n){if(!(this.isDisabled()||this.adapter.hasOutline())){var r=n.touches,i=r?r[0]:n,o=i.target.getBoundingClientRect(),a=i.clientX-o.left;this.adapter.setLineRippleTransformOrigin(a)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter.deactivateLineRipple();var n=this.isValid();this.styleValidity_(n),this.styleFocused_(this.isFocused_),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},e.prototype.getValue=function(){return this.getNativeInput_().value},e.prototype.setValue=function(n){if(this.getValue()!==n&&(this.getNativeInput_().value=n),this.setCharacterCounter_(n.length),this.validateOnValueChange_){var r=this.isValid();this.styleValidity_(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.validateOnValueChange_&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},e.prototype.setValid=function(n){this.isValid_=n,this.styleValidity_(n);var r=!n&&!this.isFocused_&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},e.prototype.setValidateOnValueChange=function(n){this.validateOnValueChange_=n},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange_},e.prototype.setUseNativeValidation=function(n){this.useNativeValidation_=n},e.prototype.isDisabled=function(){return this.getNativeInput_().disabled},e.prototype.setDisabled=function(n){this.getNativeInput_().disabled=n,this.styleDisabled_(n)},e.prototype.setHelperTextContent=function(n){this.helperText_&&this.helperText_.setContent(n)},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon_&&this.leadingIcon_.setContent(n)},e.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(n)},e.prototype.setTrailingIconContent=function(n){this.trailingIcon_&&this.trailingIcon_.setContent(n)},e.prototype.setCharacterCounter_=function(n){if(!!this.characterCounter_){var r=this.getNativeInput_().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(n,r)}},e.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},e.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},e.prototype.styleValidity_=function(n){var r=e.cssClasses.INVALID;if(n?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText_){this.helperText_.setValidity(n);var i=this.helperText_.isValidation();if(!i)return;var o=this.helperText_.isVisible(),a=this.helperText_.getId();o&&a?this.adapter.setInputAttr(gy.ARIA_DESCRIBEDBY,a):this.adapter.removeInputAttr(gy.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused_=function(n){var r=e.cssClasses.FOCUSED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.styleDisabled_=function(n){var r=e.cssClasses,i=r.DISABLED,o=r.INVALID;n?(this.adapter.addClass(i),this.adapter.removeClass(o)):this.adapter.removeClass(i),this.leadingIcon_&&this.leadingIcon_.setDisabled(n),this.trailingIcon_&&this.trailingIcon_.setDisabled(n)},e.prototype.styleFloating_=function(n){var r=e.cssClasses.LABEL_FLOATING;n?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.getNativeInput_=function(){var n=this.adapter?this.adapter.getNativeInput():null;return n||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(St);var A4=Qoe;var R4=Nr(t=>e=>{let n;if(e instanceof Fu||e instanceof ao)throw new Error("The `live` directive is not allowed on text or event bindings");if(e instanceof Lu)k4(e.strings),n=e.element.hasAttribute(e.name),e.value=n;else{let{element:r,name:i,strings:o}=e.committer;if(k4(o),e instanceof Bo){if(n=r[i],n===t)return}else e instanceof ii&&(n=r.getAttribute(i));if(n===String(t))return}e.setValue(t)}),k4=t=>{if(t.length!==2||t[0]!==""||t[1]!=="")throw new Error("`live` bindings can only contain a single expression")};var Joe=["touchstart","touchmove","scroll","mousewheel"],D4=(t={})=>{let e={};for(let n in t)e[n]=t[n];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},e)},_e=class extends Dh{constructor(){super(...arguments);this.mdcFoundationClass=A4,this.value="",this.type="text",this.placeholder="",this.label="",this.icon="",this.iconTrailing="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.min="",this.max="",this.step=null,this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.name="",this.readOnly=!1,this.autocapitalize="",this.outlineOpen=!1,this.outlineWidth=0,this.isUiValid=!0,this.focused=!1,this._validity=D4(),this._outlineUpdateComplete=null,this.validityTransform=null}get validity(){return this._checkValidity(this.value),this._validity}get willValidate(){return this.formElement.willValidate}get selectionStart(){return this.formElement.selectionStart}get selectionEnd(){return this.formElement.selectionEnd}focus(){let e=new CustomEvent("focus");this.formElement.dispatchEvent(e),this.formElement.focus()}blur(){let e=new CustomEvent("blur");this.formElement.dispatchEvent(e),this.formElement.blur()}select(){this.formElement.select()}setSelectionRange(e,n,r){this.formElement.setSelectionRange(e,n,r)}update(e){e.has("autoValidate")&&this.mdcFoundation&&this.mdcFoundation.setValidateOnValueChange(this.autoValidate),e.has("value")&&typeof this.value!="string"&&(this.value=`${this.value}`),super.update(e)}render(){let e=this.charCounter&&this.maxLength!==-1,n=!!this.helper||!!this.validationMessage||e,r={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--with-leading-icon":this.icon,"mdc-text-field--with-trailing-icon":this.iconTrailing,"mdc-text-field--end-aligned":this.endAligned};return ne`
      <label class="mdc-text-field ${st(r)}">
        ${this.renderRipple()}
        ${this.outlined?this.renderOutline():this.renderLabel()}
        ${this.renderLeadingIcon()}
        ${this.renderPrefix()}
        ${this.renderInput(n)}
        ${this.renderSuffix()}
        ${this.renderTrailingIcon()}
        ${this.renderLineRipple()}
      </label>
      ${this.renderHelperText(n,e)}
    `}updated(e){e.has("value")&&e.get("value")!==void 0&&(this.mdcFoundation.setValue(this.value),this.autoValidate&&this.reportValidity())}renderRipple(){return this.outlined?"":ne`
      <span class="mdc-text-field__ripple"></span>
    `}renderOutline(){return this.outlined?ne`
      <mwc-notched-outline
          .width=${this.outlineWidth}
          .open=${this.outlineOpen}
          class="mdc-notched-outline">
        ${this.renderLabel()}
      </mwc-notched-outline>`:""}renderLabel(){return this.label?ne`
      <span
          .floatingLabelFoundation=${py(this.label)}
          id="label">${this.label}</span>
    `:""}renderLeadingIcon(){return this.icon?this.renderIcon(this.icon):""}renderTrailingIcon(){return this.iconTrailing?this.renderIcon(this.iconTrailing,!0):""}renderIcon(e,n=!1){return ne`<i class="material-icons mdc-text-field__icon ${st({"mdc-text-field__icon--leading":!n,"mdc-text-field__icon--trailing":n})}">${e}</i>`}renderPrefix(){return this.prefix?this.renderAffix(this.prefix):""}renderSuffix(){return this.suffix?this.renderAffix(this.suffix,!0):""}renderAffix(e,n=!1){return ne`<span class="mdc-text-field__affix ${st({"mdc-text-field__affix--prefix":!n,"mdc-text-field__affix--suffix":n})}">
        ${e}</span>`}renderInput(e){let n=this.minLength===-1?void 0:this.minLength,r=this.maxLength===-1?void 0:this.maxLength,i=this.autocapitalize?this.autocapitalize:void 0,o=this.validationMessage&&!this.isUiValid,a=e?"helper-text":void 0,l=this.focused||this.helperPersistent||o?"helper-text":void 0,u=o?"helper-text":void 0;return ne`
      <input
          aria-labelledby="label"
          aria-controls="${zt(a)}"
          aria-describedby="${zt(l)}"
          aria-errortext="${zt(u)}"
          class="mdc-text-field__input"
          type="${this.type}"
          .value="${R4(this.value)}"
          ?disabled="${this.disabled}"
          placeholder="${this.placeholder}"
          ?required="${this.required}"
          ?readonly="${this.readOnly}"
          minlength="${zt(n)}"
          maxlength="${zt(r)}"
          pattern="${zt(this.pattern?this.pattern:void 0)}"
          min="${zt(this.min===""?void 0:this.min)}"
          max="${zt(this.max===""?void 0:this.max)}"
          step="${zt(this.step===null?void 0:this.step)}"
          size="${zt(this.size===null?void 0:this.size)}"
          name="${zt(this.name===""?void 0:this.name)}"
          inputmode="${zt(this.inputMode)}"
          autocapitalize="${zt(i)}"
          @input="${this.handleInputChange}"
          @focus="${this.onInputFocus}"
          @blur="${this.onInputBlur}">`}renderLineRipple(){return this.outlined?"":ne`
      <span .lineRippleFoundation=${my()}></span>
    `}renderHelperText(e,n){let r=this.validationMessage&&!this.isUiValid,i={"mdc-text-field-helper-text--persistent":this.helperPersistent,"mdc-text-field-helper-text--validation-msg":r},o=this.focused||this.helperPersistent||r?void 0:"true",a=r?this.validationMessage:this.helper;return e?ne`
      <div class="mdc-text-field-helper-line">
        <div id="helper-text"
             aria-hidden="${zt(o)}"
             class="mdc-text-field-helper-text ${st(i)}"
             >${a}</div>
        ${this.renderCharCounter(n)}
      </div>`:""}renderCharCounter(e){let n=Math.min(this.value.length,this.maxLength);return e?ne`
      <span class="mdc-text-field-character-counter"
            >${n} / ${this.maxLength}</span>`:""}onInputFocus(){this.focused=!0}onInputBlur(){this.focused=!1,this.reportValidity()}checkValidity(){let e=this._checkValidity(this.value);if(!e){let n=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(n)}return e}reportValidity(){let e=this.checkValidity();return this.mdcFoundation.setValid(e),this.isUiValid=e,e}_checkValidity(e){let n=this.formElement.validity,r=D4(n);if(this.validityTransform){let i=this.validityTransform(e,r);r=Object.assign(Object.assign({},r),i),this.mdcFoundation.setUseNativeValidation(!1)}else this.mdcFoundation.setUseNativeValidation(!0);return this._validity=r,this._validity.valid}setCustomValidity(e){this.validationMessage=e,this.formElement.setCustomValidity(e)}handleInputChange(){this.value=this.formElement.value}createFoundation(){this.mdcFoundation!==void 0&&this.mdcFoundation.destroy(),this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init()}createAdapter(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods())}getRootAdapterMethods(){return Object.assign({registerTextFieldInteractionHandler:(e,n)=>this.addEventListener(e,n),deregisterTextFieldInteractionHandler:(e,n)=>this.removeEventListener(e,n),registerValidationAttributeChangeHandler:e=>{let n=o=>o.map(a=>a.attributeName).filter(a=>a),r=new MutationObserver(o=>{e(n(o))}),i={attributes:!0};return r.observe(this.formElement,i),r},deregisterValidationAttributeChangeHandler:e=>e.disconnect()},oi(this.mdcRoot))}getInputAdapterMethods(){return{getNativeInput:()=>this.formElement,setInputAttr:()=>{},removeInputAttr:()=>{},isFocused:()=>this.shadowRoot?this.shadowRoot.activeElement===this.formElement:!1,registerInputInteractionHandler:(e,n)=>this.formElement.addEventListener(e,n,{passive:e in Joe}),deregisterInputInteractionHandler:(e,n)=>this.formElement.removeEventListener(e,n)}}getLabelAdapterMethods(){return{floatLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.float(e),getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,hasLabel:()=>Boolean(this.labelElement),shakeLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.shake(e),setLabelRequired:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.setRequired(e)}}}getLineRippleAdapterMethods(){return{activateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},setLineRippleTransformOrigin:e=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(e)}}}async _getUpdateComplete(){let e=!1;return super._getUpdateComplete?await super._getUpdateComplete():e=await super.getUpdateComplete(),await this._outlineUpdateComplete,e}async getUpdateComplete(){return this._getUpdateComplete()}async firstUpdated(){let e=this.outlineElement;e&&(this._outlineUpdateComplete=e.updateComplete,await this._outlineUpdateComplete),super.firstUpdated(),this.mdcFoundation.setValidateOnValueChange(this.autoValidate),this.validateOnInitialRender&&this.reportValidity()}getOutlineAdapterMethods(){return{closeOutline:()=>this.outlineElement&&(this.outlineOpen=!1),hasOutline:()=>Boolean(this.outlineElement),notchOutline:e=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=e,this.outlineOpen=!0)}}}async layout(){await this.updateComplete;let e=this.labelElement;if(!e){this.outlineOpen=!1;return}let n=!!this.label&&!!this.value;if(e.floatingLabelFoundation.float(n),!this.outlined)return;this.outlineOpen=n,await this.updateComplete;let r=e.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=r)}};k([ge(".mdc-text-field")],_e.prototype,"mdcRoot",void 0);k([ge("input")],_e.prototype,"formElement",void 0);k([ge(".mdc-floating-label")],_e.prototype,"labelElement",void 0);k([ge(".mdc-line-ripple")],_e.prototype,"lineRippleElement",void 0);k([ge("mwc-notched-outline")],_e.prototype,"outlineElement",void 0);k([ge(".mdc-notched-outline__notch")],_e.prototype,"notchElement",void 0);k([H({type:String})],_e.prototype,"value",void 0);k([H({type:String})],_e.prototype,"type",void 0);k([H({type:String})],_e.prototype,"placeholder",void 0);k([H({type:String}),Be(function(t,e){e!==void 0&&this.label!==e&&this.layout()})],_e.prototype,"label",void 0);k([H({type:String})],_e.prototype,"icon",void 0);k([H({type:String})],_e.prototype,"iconTrailing",void 0);k([H({type:Boolean,reflect:!0})],_e.prototype,"disabled",void 0);k([H({type:Boolean})],_e.prototype,"required",void 0);k([H({type:Number})],_e.prototype,"minLength",void 0);k([H({type:Number})],_e.prototype,"maxLength",void 0);k([H({type:Boolean,reflect:!0}),Be(function(t,e){e!==void 0&&this.outlined!==e&&this.layout()})],_e.prototype,"outlined",void 0);k([H({type:String})],_e.prototype,"helper",void 0);k([H({type:Boolean})],_e.prototype,"validateOnInitialRender",void 0);k([H({type:String})],_e.prototype,"validationMessage",void 0);k([H({type:Boolean})],_e.prototype,"autoValidate",void 0);k([H({type:String})],_e.prototype,"pattern",void 0);k([H({type:String})],_e.prototype,"min",void 0);k([H({type:String})],_e.prototype,"max",void 0);k([H({type:Number})],_e.prototype,"step",void 0);k([H({type:Number})],_e.prototype,"size",void 0);k([H({type:Boolean})],_e.prototype,"helperPersistent",void 0);k([H({type:Boolean})],_e.prototype,"charCounter",void 0);k([H({type:Boolean})],_e.prototype,"endAligned",void 0);k([H({type:String})],_e.prototype,"prefix",void 0);k([H({type:String})],_e.prototype,"suffix",void 0);k([H({type:String})],_e.prototype,"name",void 0);k([H({type:String})],_e.prototype,"inputMode",void 0);k([H({type:Boolean})],_e.prototype,"readOnly",void 0);k([H({type:String})],_e.prototype,"autocapitalize",void 0);k([Re()],_e.prototype,"outlineOpen",void 0);k([Re()],_e.prototype,"outlineWidth",void 0);k([Re()],_e.prototype,"isUiValid",void 0);k([Re()],_e.prototype,"focused",void 0);k([Vo({passive:!0})],_e.prototype,"handleInputChange",null);var N4=nt`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-text-field--filled .mdc-text-field__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0, 0, 0, 0.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-text-field--filled:hover .mdc-text-field__ripple::before,.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:whitesmoke}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px;line-height:1.5rem}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0, 0, 0, 0.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{padding:12px;margin-left:0px;margin-right:0px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:0px;margin-right:0px}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-flex;flex-direction:column;outline:none}.mdc-text-field{width:100%}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42);border-bottom-color:var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42))}.mdc-text-field:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87);border-bottom-color:var(--mdc-text-field-hover-line-color, rgba(0, 0, 0, 0.87))}.mdc-text-field.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06);border-bottom-color:var(--mdc-text-field-disabled-line-color, rgba(0, 0, 0, 0.06))}.mdc-text-field.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-idle-border-color, rgba(0, 0, 0, 0.38) )}:host(:not([disabled]):hover) :not(.mdc-text-field--invalid):not(.mdc-text-field--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-hover-border-color, rgba(0, 0, 0, 0.87) )}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-error-color, var(--mdc-theme-error, #b00020) )}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-character-counter,:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid .mdc-text-field__icon{color:var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)) )}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input{color:var(--mdc-text-field-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg),:host(:not([disabled])) .mdc-text-field-helper-line:not(.mdc-text-field--invalid) .mdc-text-field-character-counter{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-text-field.mdc-text-field--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var( --mdc-text-field-outlined-disabled-border-color, rgba(0, 0, 0, 0.06) )}:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field .mdc-text-field__input,:host([disabled]) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-helper-text,:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-character-counter{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}`;var QC=class extends _e{};QC.styles=N4;QC=k([tt("mwc-textfield")],QC);var qo=class extends Ve{constructor(){super(...arguments);this.serverApi=null;this.docObject=null;this.title=null;this.size=20;this.showDelete=!1;this.getForm=()=>{let e=[];for(let[n,r]of Object.entries(this.docObject?this.docObject.accessibleFields():[]))e.push({label:r.label,data:r});return e};this.deleteForm=()=>{this.serverApi&&this.docObject&&this.docObject.remove(this.serverApi)}}render(){return Z`
      <div>
        <div class="form-header">
          ${this.title?Z`<h2>${this.title}</h2>`:Z``}
          ${this.showDelete&&this.serverApi&&this.docObject?Z`
            <div class="button-collection-wrapper">
              <div class="button-collection">
                <div class="button-wrapper">
                  <mwc-icon-button class="delete-icon" icon="delete_forever" @click="${this.deleteForm}"></mwc-icon-button>
                </div>
              </div>
            </div>
          `:Z``}
        </div>
        <div class="form">
          ${this.docObject?this.getForm().map(e=>e.data.type&&e.data.type!=="select"?Z`
                <mwc-textfield
                  @change="${n=>{let i=n.composedPath()[0];e.data.value=i.value,this.docObject.updateField(this.serverApi,e.label,e.data)}}"
                  size="${this.size}"
                  label="${e.data.label}"
                  value="${e.data.value}"
                  type="${e.data.type}"
                  icon="${e.data.type==="date"?"event":""}"
                  >
                </mwc-textfield>
            `:Z`<span></span>`):Z``}
        </div>
      </div>
    `}};qo.styles=vt`
    :host {
      margin: auto;
    }
    :host .form {
      margin: auto;
      display: flex;
      flex-wrap: wrap;
      width: 100%;
    }
    h1, h2, h3, h4 {
      margin: auto 15px;
    }
    mwc-textfield {
      margin: 5px;
      flex-grow: 1;
    }
    span {
      width: 100%;
    }
    .form-header {
      display: flex;
    }
    .delete-icon {
      color: red;
    }
    .button-collection-wrapper {
      margin: auto;
      flex-grow: 1;
    }

    .button-collection {
      margin: auto;
      float: right;
    }

    .button-wrapper {
      float: right;
      margin: 5px;
    }
  `,J([de({type:Object})],qo.prototype,"serverApi",2),J([de({type:Object})],qo.prototype,"docObject",2),J([de({type:String})],qo.prototype,"title",2),J([de({type:Number})],qo.prototype,"size",2),J([de({type:Boolean})],qo.prototype,"showDelete",2),qo=J([Ze("form-wrapper")],qo);var Sl=class extends Ve{constructor(){super(...arguments);this.serverApi=null;this.targetForm=null;this.fieldValue={label:null,value:null,type:null,positionIndex:0};this.closePopup=()=>{let e=new CustomEvent("closepopup",{detail:{message:"Closing Popup"},bubbles:!0,composed:!0});this.dispatchEvent(e)};this.fieldTypes=[["text","Text"],["number","Number"],["email","Email"],["datetime-local","Date & Time"],["time","Time"]];this.submitField=e=>{if(this.fieldValue.type,this.fieldValue.label&&this.fieldValue.value){let n=0;for(let r of Object.entries(this.targetForm))n++;this.fieldValue.positionIndex=n,this.targetForm.updateField(this.serverApi,this.fieldValue.label,this.fieldValue),this.closePopup()}}}render(){return Z`
    <div id="new-field-popup">
      <div id="pop-up-window">
        <div class="button-collection-wrapper">
          <h2>Insert New Field</h2>
          <div class="button-collection">
            <div class="button-wrapper">
              <mwc-icon-button class="delete-icon" icon="close" @click="${this.closePopup}"></mwc-icon-button>
            </div>
          </div>
        </div>
        <div id="popup-fields">
          <mwc-select label="Field Type"
            @selected="${e=>{this.fieldValue.type=e.path[9].value.toString()}}"
          >
            ${this.fieldTypes.map(e=>Z`<mwc-list-item value="${e[0]}">${e[1]}</mwc-list-item>`)}
          </mwc-select>
        </div>
        <div id="popup-fields">
          <mwc-textfield
            label="Field Label"
            value=""
            type="text"
            @change="${e=>{this.fieldValue.label=e.path[0].value}}"
            >
          </mwc-textfield>
          <mwc-textfield
            label="Field Value"
            value=""
            type="text"
            @change="${e=>{this.fieldValue.value=e.path[0].value}}"
            >
          </mwc-textfield>
        </div>
        <div id="popup-fields">
        <div class="button-collection-wrapper">\
          <div class="button-collection">
            <div class="button-wrapper">
              <mwc-button outlined
                label="Submit"
                @click="${this.submitField}"
                >
              </mwc-button>
            </div>
          </div>
        </div>
      </div>
    </div>
    `}};Sl.styles=vt`
    :host {
    }

    h1, h2, h3, h4 {
      margin-left: 15px;
    }

    .button-collection-wrapper {
      margin: auto;
      flex-grow: 1;
      display: flex;
      width: 100%;
    }

    .button-collection {
      margin: auto;
      float: right;
      flex-grow: 1;
    }

    .button-wrapper {
      float: right;
      margin: 5px;
    }

    #new-field-popup {
      position: fixed;
      display: flex;
      z-index: 20;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }

    #pop-up-window {
      display: flex;
      flex-direction: column;
      margin: auto;
      background-color: rgb(225, 226, 225);
      padding: 5px;
      border: black 1px solid;
    }

    #popup-fields {
      margin: 10px;
    }

    #popup-fields > mwc-textfield, #popup-fields > mwc-select {
      margin-right: 10px;
    }
    `,J([de({type:Object})],Sl.prototype,"serverApi",2),J([de({type:Object})],Sl.prototype,"targetForm",2),J([en()],Sl.prototype,"fieldValue",2),Sl=J([Ze("new-field-popup")],Sl);re();var ae,Zoe,Nh,O4,P4,M4,yy={},JC=[],ese=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ws(t,e){for(var n in e)t[n]=e[n];return t}function L4(t){var e=t.parentNode;e&&e.removeChild(t)}function Di(t,e,n){var r,i,o,a=arguments,l={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:l[o]=e[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(n!=null&&(l.children=n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return by(t,l,r,i,null)}function by(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ae.__v};return ae.vnode!=null&&ae.vnode(o),o}function _y(){return{current:null}}function co(t){return t.children}function pr(t,e){this.props=t,this.context=e}function Oh(t,e){if(e==null)return t.__?Oh(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Oh(t):null}function F4(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return F4(t)}}function ZC(t){(!t.__d&&(t.__d=!0)&&Nh.push(t)&&!wy.__r++||P4!==ae.debounceRendering)&&((P4=ae.debounceRendering)||O4)(wy)}function wy(){for(var t;wy.__r=Nh.length;)t=Nh.sort(function(e,n){return e.__v.__b-n.__v.__b}),Nh=[],t.some(function(e){var n,r,i,o,a,l;e.__d&&(a=(o=(n=e).__v).__e,(l=n.__P)&&(r=[],(i=Ws({},o)).__v=o.__v+1,eI(l,o,i,n.__n,l.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??Oh(o),o.__h),z4(r,o),o.__e!=a&&F4(o)))})}function U4(t,e,n,r,i,o,a,l,u,d){var f,p,v,g,b,_,E,x=r&&r.__k||JC,T=x.length;for(n.__k=[],f=0;f<e.length;f++)if((g=n.__k[f]=(g=e[f])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?by(null,g,null,null,g):Array.isArray(g)?by(co,{children:g},null,null,null):g.__b>0?by(g.type,g.props,g.key,null,g.__v):g)!=null){if(g.__=n,g.__b=n.__b+1,(v=x[f])===null||v&&g.key==v.key&&g.type===v.type)x[f]=void 0;else for(p=0;p<T;p++){if((v=x[p])&&g.key==v.key&&g.type===v.type){x[p]=void 0;break}v=null}eI(t,g,v=v||yy,i,o,a,l,u,d),b=g.__e,(p=g.ref)&&v.ref!=p&&(E||(E=[]),v.ref&&E.push(v.ref,null,g),E.push(p,g.__c||b,g)),b!=null?(_==null&&(_=b),typeof g.type=="function"&&g.__k!=null&&g.__k===v.__k?g.__d=u=B4(g,u,t):u=V4(t,g,v,x,b,u),d||n.type!=="option"?typeof n.type=="function"&&(n.__d=u):t.value=""):u&&v.__e==u&&u.parentNode!=t&&(u=Oh(v))}for(n.__e=_,f=T;f--;)x[f]!=null&&(typeof n.type=="function"&&x[f].__e!=null&&x[f].__e==n.__d&&(n.__d=Oh(r,f+1)),G4(x[f],x[f]));if(E)for(f=0;f<E.length;f++)W4(E[f],E[++f],E[++f])}function B4(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?B4(i,e,n):V4(n,i,i,t.__k,i.__e,e));return e}function Ph(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Ph(n,e)}):e.push(t)),e}function V4(t,e,n,r,i,o){var a,l,u;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<r.length;u+=2)if(l==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function tse(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||Ey(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||Ey(t,o,e[o],n[o],r)}function H4(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||ese.test(e)?n:n+"px"}function Ey(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||H4(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||H4(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?q4:j4,o):t.removeEventListener(e,o?q4:j4,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function j4(t){this.l[t.type+!1](ae.event?ae.event(t):t)}function q4(t){this.l[t.type+!0](ae.event?ae.event(t):t)}function eI(t,e,n,r,i,o,a,l,u){var d,f,p,v,g,b,_,E,x,T,R,P=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,o=[l]),(d=ae.__b)&&d(e);try{e:if(typeof P=="function"){if(E=e.props,x=(d=P.contextType)&&r[d.__c],T=d?x?x.props.value:d.__:r,n.__c?_=(f=e.__c=n.__c).__=f.__E:("prototype"in P&&P.prototype.render?e.__c=f=new P(E,T):(e.__c=f=new pr(E,T),f.constructor=P,f.render=rse),x&&x.sub(f),f.props=E,f.state||(f.state={}),f.context=T,f.__n=r,p=f.__d=!0,f.__h=[]),f.__s==null&&(f.__s=f.state),P.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Ws({},f.__s)),Ws(f.__s,P.getDerivedStateFromProps(E,f.__s))),v=f.props,g=f.state,p)P.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(P.getDerivedStateFromProps==null&&E!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(E,T),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(E,f.__s,T)===!1||e.__v===n.__v){f.props=E,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(L){L&&(L.__=e)}),f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(E,f.__s,T),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,g,b)})}f.context=T,f.props=E,f.state=f.__s,(d=ae.__r)&&d(e),f.__d=!1,f.__v=e,f.__P=t,d=f.render(f.props,f.state,f.context),f.state=f.__s,f.getChildContext!=null&&(r=Ws(Ws({},r),f.getChildContext())),p||f.getSnapshotBeforeUpdate==null||(b=f.getSnapshotBeforeUpdate(v,g)),R=d!=null&&d.type===co&&d.key==null?d.props.children:d,U4(t,Array.isArray(R)?R:[R],e,n,r,i,o,a,l,u),f.base=e.__e,e.__h=null,f.__h.length&&a.push(f),_&&(f.__E=f.__=null),f.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=nse(n.__e,e,n,r,i,o,a,u);(d=ae.diffed)&&d(e)}catch(L){e.__v=null,(u||o!=null)&&(e.__e=l,e.__h=!!u,o[o.indexOf(l)]=null),ae.__e(L,e,n)}}function z4(t,e){ae.__c&&ae.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){ae.__e(r,n.__v)}})}function nse(t,e,n,r,i,o,a,l){var u,d,f,p,v=n.props,g=e.props,b=e.type,_=0;if(b==="svg"&&(i=!0),o!=null){for(;_<o.length;_++)if((u=o[_])&&(u===t||(b?u.localName==b:u.nodeType==3))){t=u,o[_]=null;break}}if(t==null){if(b===null)return document.createTextNode(g);t=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,g.is&&g),o=null,l=!1}if(b===null)v===g||l&&t.data===g||(t.data=g);else{if(o=o&&JC.slice.call(t.childNodes),d=(v=n.props||yy).dangerouslySetInnerHTML,f=g.dangerouslySetInnerHTML,!l){if(o!=null)for(v={},p=0;p<t.attributes.length;p++)v[t.attributes[p].name]=t.attributes[p].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(tse(t,g,v,i,l),f)e.__k=[];else if(_=e.props.children,U4(t,Array.isArray(_)?_:[_],e,n,r,i&&b!=="foreignObject",o,a,t.firstChild,l),o!=null)for(_=o.length;_--;)o[_]!=null&&L4(o[_]);l||("value"in g&&(_=g.value)!==void 0&&(_!==t.value||b==="progress"&&!_)&&Ey(t,"value",_,v.value,!1),"checked"in g&&(_=g.checked)!==void 0&&_!==t.checked&&Ey(t,"checked",_,v.checked,!1))}return t}function W4(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){ae.__e(r,n)}}function G4(t,e,n){var r,i,o;if(ae.unmount&&ae.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||W4(r,null,e)),n||typeof t.type=="function"||(n=(i=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){ae.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&G4(r[o],e,n);i!=null&&L4(i)}function rse(t,e,n){return this.constructor(t,n)}function Tl(t,e,n){var r,i,o;ae.__&&ae.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],eI(e,t=(!r&&n||e).__k=Di(co,null,[t]),i||yy,yy,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?JC.slice.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),z4(o,t)}function xy(t,e){var n={__c:e="__cC"+M4++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(ZC)},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ae={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t},__v:0},Zoe=function(t){return t!=null&&t.constructor===void 0},pr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ws({},this.state),typeof t=="function"&&(t=t(Ws({},n),this.props)),t&&Ws(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),ZC(this))},pr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ZC(this))},pr.prototype.render=co,Nh=[],O4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wy.__r=0,M4=0;var ise,Cl,K4;var tI=[],$4=ae.__b,Y4=ae.__r,X4=ae.diffed,Q4=ae.__c,J4=ae.unmount;function ose(){tI.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(Sy),t.__H.__h.forEach(nI),t.__H.__h=[]}catch(e){t.__H.__h=[],ae.__e(e,t.__v)}}),tI=[]}ae.__b=function(t){Cl=null,$4&&$4(t)},ae.__r=function(t){Y4&&Y4(t),ise=0;var e=(Cl=t.__c).__H;e&&(e.__h.forEach(Sy),e.__h.forEach(nI),e.__h=[])},ae.diffed=function(t){X4&&X4(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(tI.push(e)!==1&&K4===ae.requestAnimationFrame||((K4=ae.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Z4&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Z4&&(r=requestAnimationFrame(i))})(ose)),Cl=void 0},ae.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Sy),n.__h=n.__h.filter(function(r){return!r.__||nI(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ae.__e(r,n.__v)}}),Q4&&Q4(t,e)},ae.unmount=function(t){J4&&J4(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(Sy)}catch(n){ae.__e(n,e.__v)}};var Z4=typeof requestAnimationFrame=="function";function Sy(t){var e=Cl;typeof t.__c=="function"&&t.__c(),Cl=e}function nI(t){var e=Cl;t.__c=t.__(),Cl=e}function sse(t,e){for(var n in e)t[n]=e[n];return t}function e3(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function t3(t){this.props=t}(t3.prototype=new pr).isPureReactComponent=!0,t3.prototype.shouldComponentUpdate=function(t,e){return e3(this.props,t)||e3(this.state,e)};var n3=ae.__b;ae.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),n3&&n3(t)};var CEe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var ase=ae.__e;ae.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}ase(t,e,n)};var r3=ae.unmount;function rI(){this.__u=0,this.t=null,this.__b=null}function i3(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Ty(){this.u=null,this.o=null}ae.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),r3&&r3(t)},(rI.prototype=new pr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=i3(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__e){var d=r.state.__e;r.__v.__k[0]=function p(v,g,b){return v&&(v.__v=null,v.__k=v.__k&&v.__k.map(function(_){return p(_,g,b)}),v.__c&&v.__c.__P===g&&(v.__e&&b.insertBefore(v.__e,v.__d),v.__c.__e=!0,v.__c.__P=b)),v}(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__e:r.__b=null});f=r.t.pop();)f.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},rI.prototype.componentWillUnmount=function(){this.t=[]},rI.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,l,u){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(d){typeof d.__c=="function"&&d.__c()}),a.__c.__H=null),(a=sse({},a)).__c!=null&&(a.__c.__P===u&&(a.__c.__P=l),a.__c=null),a.__k=a.__k&&a.__k.map(function(d){return o(d,l,u)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&Di(co,null,t.fallback);return i&&(i.__h=null),[Di(co,null,e.__e?null:t.children),i]};var o3=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function lse(t){return this.getChildContext=function(){return t.context},t.children}function cse(t){var e=this,n=t.i;e.componentWillUnmount=function(){Tl(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Tl(Di(lse,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function s3(t,e){return Di(cse,{__v:t,i:e})}(Ty.prototype=new pr).__e=function(t){var e=this,n=i3(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),o3(e,t,r)):i()};n?n(o):o()}},Ty.prototype.render=function(t){this.u=null,this.o=new Map;var e=Ph(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Ty.prototype.componentDidUpdate=Ty.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){o3(t,n,e)})};var use=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,dse=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,fse=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};pr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(pr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var a3=ae.event;function hse(){}function pse(){return this.cancelBubble}function mse(){return this.defaultPrevented}ae.event=function(t){return a3&&(t=a3(t)),t.persist=hse,t.isPropagationStopped=pse,t.isDefaultPrevented=mse,t.nativeEvent=t};var vse,l3={configurable:!0,get:function(){return this.class}},c3=ae.vnode;ae.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!fse(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():dse.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Ph(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Ph(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(l3.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",l3)),t.$$typeof=use,c3&&c3(t)};var u3=ae.__r;ae.__r=function(t){u3&&u3(t),vse=t.__c};var IEe=typeof performance=="object"&&typeof performance.now=="function"?performance.now.bind(performance):function(){return Date.now()};var d3=typeof globalThis!="undefined"?globalThis:window;d3.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):d3.FullCalendarVDom={Component:pr,createElement:Di,render:Tl,createRef:_y,Fragment:co,createContext:bse,createPortal:s3,flushToDom:gse,unmountComponentAtNode:_se};function gse(){var t=ae.debounceRendering,e=[];function n(r){e.push(r)}for(ae.debounceRendering=n,Tl(Di(yse,{}),document.createElement("div"));e.length;)e.shift()();ae.debounceRendering=t}var yse=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return Di("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(pr);function bse(t){var e=xy(t),n=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,o=n.apply(this,arguments);if(i){var a=[];this.shouldComponentUpdate=function(l){r.props.value!==l.value&&a.forEach(function(u){u.context=l.value,u.forceUpdate()})},this.sub=function(l){a.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),u&&u.call(l)}}}return o},e}function _se(t){Tl(null,t)}re();re();if(typeof FullCalendarVDom=="undefined")throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var Cy=FullCalendarVDom.Component,A=FullCalendarVDom.createElement,f3=FullCalendarVDom.render,It=FullCalendarVDom.createRef,Pt=FullCalendarVDom.Fragment,iI=FullCalendarVDom.createContext,h3=FullCalendarVDom.createPortal,oI=FullCalendarVDom.flushToDom,p3=FullCalendarVDom.unmountComponentAtNode;var zu=function(){function t(e,n){this.context=e,this.internalEventSource=n}return t.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},t.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(t.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),t}();function Iy(t){t.parentNode&&t.parentNode.removeChild(t)}function En(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(sI(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function sI(t,e){var n=t.matches||t.matchesSelector||t.msMatchesSelector;return n.call(t,e)}function wse(t,e){for(var n=t instanceof HTMLElement?[t]:t,r=[],i=0;i<n.length;i+=1)for(var o=n[i].querySelectorAll(e),a=0;a<o.length;a+=1)r.push(o[a]);return r}var Ese=/(top|left|right|bottom|width|height)$/i;function Wu(t,e){for(var n in e)aI(t,n,e[n])}function aI(t,e,n){n==null?t.style[e]="":typeof n=="number"&&Ese.test(e)?t.style[e]=n+"px":t.style[e]=n}function xse(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}function Ay(t){t.preventDefault()}function m3(t,e){return function(n){var r=En(n.target,t);r&&e.call(r,n,r)}}function v3(t,e,n,r){var i=m3(n,r);return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function Sse(t,e,n,r){var i;return v3(t,"mouseover",e,function(o,a){if(a!==i){i=a,n(o,a);var l=function(u){i=null,r(u,a),a.removeEventListener("mouseleave",l)};a.addEventListener("mouseleave",l)}})}var g3=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function y3(t,e){var n=function(r){e(r),g3.forEach(function(i){t.removeEventListener(i,n)})};g3.forEach(function(r){t.addEventListener(r,n)})}var b3=0;function Gu(){return b3+=1,String(b3)}function Mh(){document.body.classList.add("fc-not-allowed")}function Lh(){document.body.classList.remove("fc-not-allowed")}function _3(t){t.classList.add("fc-unselectable"),t.addEventListener("selectstart",Ay)}function w3(t){t.classList.remove("fc-unselectable"),t.removeEventListener("selectstart",Ay)}function E3(t){t.addEventListener("contextmenu",Ay)}function x3(t){t.removeEventListener("contextmenu",Ay)}function Tse(t){var e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Cse(t,e,n){var r,i;for(r=0;r<n.length;r+=1)if(i=Ise(t,e,n[r]),i)return i;return 0}function Ise(t,e,n){return n.func?n.func(t,e):Ase(t[n.field],e[n.field])*(n.order||1)}function Ase(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Ku(t,e){var n=String(t);return"000".substr(0,e-n.length)+n}function S3(t,e){return t-e}function Ry(t){return t%1==0}function Rse(t){var e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var kse=["sun","mon","tue","wed","thu","fri","sat"];function lI(t,e){var n=Ks(t);return n[2]+=e*7,mr(n)}function Pn(t,e){var n=Ks(t);return n[2]+=e,mr(n)}function Il(t,e){var n=Ks(t);return n[6]+=e,mr(n)}function T3(t,e){return Gs(t,e)/7}function Gs(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Dse(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Nse(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Ose(t,e){return(e.valueOf()-t.valueOf())/1e3}function Pse(t,e){var n=Xe(t),r=Xe(e);return{years:0,months:0,days:Math.round(Gs(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function Mse(t,e){var n=ky(t,e);return n!==null&&n%7==0?n/7:null}function ky(t,e){return $s(t)===$s(e)?Math.round(Gs(t,e)):null}function Xe(t){return mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Lse(t){return mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Fse(t){return mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Use(t){return mr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Bse(t,e,n){var r=t.getUTCFullYear(),i=cI(t,r,e,n);if(i<1)return cI(t,r-1,e,n);var o=cI(t,r+1,e,n);return o>=1?Math.min(i,o):i}function cI(t,e,n,r){var i=mr([e,0,1+Vse(e,n,r)]),o=Xe(t),a=Math.round(Gs(i,o));return Math.floor(a/7)+1}function Vse(t,e,n){var r=7+e-n,i=(7+mr([t,0,r]).getUTCDay()-e)%7;return-i+r-1}function C3(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function I3(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ks(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function mr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC.apply(Date,t))}function A3(t){return!isNaN(t.valueOf())}function $s(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Fh(t,e,n,r){return{instanceId:Gu(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}var Dy=Object.prototype.hasOwnProperty;function uI(t,e){var n={};if(e)for(var r in e){for(var i=[],o=t.length-1;o>=0;o-=1){var a=t[o][r];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){n[r]=a;break}}i.length&&(n[r]=uI(i))}for(var o=t.length-1;o>=0;o-=1){var l=t[o];for(var u in l)u in n||(n[u]=l[u])}return n}function Al(t,e){var n={};for(var r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Ni(t,e){var n={};for(var r in t)n[r]=e(t[r],r);return n}function R3(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];e[i]=!0}return e}function dI(t){var e=[];for(var n in t)e.push(t[n]);return e}function uo(t,e){if(t===e)return!0;for(var n in t)if(Dy.call(t,n)&&!(n in e))return!1;for(var n in e)if(Dy.call(e,n)&&t[n]!==e[n])return!1;return!0}function k3(t,e){var n=[];for(var r in t)Dy.call(t,r)&&(r in e||n.push(r));for(var r in e)Dy.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function D3(t,e,n){if(n===void 0&&(n={}),t===e)return!0;for(var r in e)if(!(r in t&&Hse(t[r],e[r],n[r])))return!1;for(var r in t)if(!(r in e))return!1;return!0}function Hse(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function jse(t,e,n,r){e===void 0&&(e=0),r===void 0&&(r=1);var i=[];n==null&&(n=Object.keys(t).length);for(var o=e;o<n;o+=r){var a=t[o];a!==void 0&&i.push(a)}return i}function qse(t,e,n,r){for(var i=0;i<r.length;i+=1){var o=r[i].parse(t,n);if(o){var a=t.allDay;return a==null&&(a=e,a==null&&(a=o.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}function $u(t,e,n){var r=n.dateEnv,i=n.pluginHooks,o=n.options,a=t.defs,l=t.instances;l=Al(l,function(E){return!a[E.defId].recurringDef});for(var u in a){var d=a[u];if(d.recurringDef){var f=d.recurringDef.duration;f||(f=d.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);for(var p=zse(d,f,e,r,i.recurringTypes),v=0,g=p;v<g.length;v++){var b=g[v],_=Fh(u,{start:b,end:r.add(b,f)});l[_.instanceId]=_}}}return{defs:a,instances:l}}function zse(t,e,n,r,i){var o=i[t.recurringDef.typeId],a=o.expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(a=a.map(Xe)),a}var N3=["years","months","days","milliseconds"],Wse=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ce(t,e){var n;return typeof t=="string"?Gse(t):typeof t=="object"&&t?O3(t):typeof t=="number"?O3((n={},n[e||"milliseconds"]=t,n)):null}function Gse(t){var e=Wse.exec(t);if(e){var n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function O3(t){var e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Kse(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Ny(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function $se(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function P3(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Yse(t){return Yu(t)/365}function Xse(t){return Yu(t)/30}function Yu(t){return si(t)/864e5}function si(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Oy(t,e){for(var n=null,r=0;r<N3.length;r+=1){var i=N3[r];if(e[i]){var o=t[i]/e[i];if(!Ry(o)||n!==null&&n!==o)return null;n=o}else if(t[i])return null}return n}function fI(t){var e=t.milliseconds;if(e){if(e%1e3!=0)return{unit:"millisecond",value:e};if(e%(1e3*60)!=0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!=0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7==0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function hI(t,e,n){n===void 0&&(n=!1);var r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",mI(e,!0)))),r}function pI(t){return t.toISOString().replace(/T.*$/,"")}function M3(t){return Ku(t.getUTCHours(),2)+":"+Ku(t.getUTCMinutes(),2)+":"+Ku(t.getUTCSeconds(),2)}function mI(t,e){e===void 0&&(e=!1);var n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=Math.round(r%60);return e?n+Ku(i,2)+":"+Ku(o,2):"GMT"+n+i+(o?":"+Ku(o,2):"")}function Rl(t,e,n){if(t===e)return!0;var r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}function ce(t,e,n){var r,i;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!r)i=t.apply(this,o);else if(!Rl(r,o)){n&&n(i);var l=t.apply(this,o);(!e||!e(l,i))&&(i=l)}return r=o,i}}function Py(t,e,n){var r=this,i,o;return function(a){if(!i)o=t.call(r,a);else if(!uo(i,a)){n&&n(o);var l=t.call(r,a);(!e||!e(l,o))&&(o=l)}return i=a,o}}var L3={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},My={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ly=/\s*([ap])\.?m\.?/i,Qse=/,/g,Jse=/\s+/g,Zse=/\u200e/g,eae=/UTC|GMT/,tae=function(){function t(e){var n={},r={},i=0;for(var o in e)o in L3?(r[o]=e[o],i=Math.max(L3[o],i)):(n[o]=e[o],o in My&&(i=Math.max(My[o],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=ce(F3)}return t.prototype.format=function(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)},t.prototype.formatRange=function(e,n,r,i){var o=this,a=o.standardDateProps,l=o.extendedSettings,u=aae(e.marker,n.marker,r.calendarSystem);if(!u)return this.format(e,r);var d=u;d>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(d=1);var f=this.format(e,r),p=this.format(n,r);if(f===p)return f;var v=lae(a,d),g=F3(v,l,r),b=g(e),_=g(n),E=cae(f,b,p,_),x=l.separator||i||r.defaultSeparator||"";return E?E.before+b+x+_+E.after:f+x+p},t.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},t}();function F3(t,e,n){var r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?function(i){return mI(i.timeZoneOffset)}:r===0&&e.week?function(i){return sae(n.computeWeekNumber(i.marker),n.weekText,n.locale,e.week)}:nae(t,e,n)}function nae(t,e,n){t=C({},t),e=C({},e),rae(t,e),t.timeZone="UTC";var r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){var o=C({},t);delete o.minute,i=new Intl.DateTimeFormat(n.locale.codes,o)}return function(a){var l=a.marker,u;i&&!l.getUTCMinutes()?u=i:u=r;var d=u.format(l);return iae(d,a,t,e,n)}}function rae(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function iae(t,e,n,r,i){return t=t.replace(Zse,""),n.timeZoneName==="short"&&(t=oae(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":mI(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(Qse,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Ly,"").trim():r.meridiem==="narrow"?t=t.replace(Ly,function(o,a){return a.toLocaleLowerCase()}):r.meridiem==="short"?t=t.replace(Ly,function(o,a){return a.toLocaleLowerCase()+"m"}):r.meridiem==="lowercase"&&(t=t.replace(Ly,function(o){return o.toLocaleLowerCase()})),t=t.replace(Jse," "),t=t.trim(),t}function oae(t,e){var n=!1;return t=t.replace(eae,function(){return n=!0,e}),n||(t+=" "+e),t}function sae(t,e,n,r){var i=[];return r==="narrow"?i.push(e):r==="short"&&i.push(e," "),i.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function aae(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:$s(t)!==$s(e)?1:0}function lae(t,e){var n={};for(var r in t)(!(r in My)||My[r]<=e)&&(n[r]=t[r]);return n}function cae(t,e,n,r){for(var i=0;i<t.length;){var o=t.indexOf(e,i);if(o===-1)break;var a=t.substr(0,o);i=o+e.length;for(var l=t.substr(i),u=0;u<n.length;){var d=n.indexOf(r,u);if(d===-1)break;var f=n.substr(0,d);u=d+r.length;var p=n.substr(u);if(a===f&&l===p)return{before:a,after:l}}}return null}function U3(t,e){var n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Fy(t,e,n,r){var i=U3(t,n.calendarSystem),o=e?U3(e,n.calendarSystem):null;return{date:i,start:i,end:o,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var uae=function(){function t(e){this.cmdStr=e}return t.prototype.format=function(e,n,r){return n.cmdFormatter(this.cmdStr,Fy(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return r.cmdFormatter(this.cmdStr,Fy(e,n,r,i))},t}(),dae=function(){function t(e){this.func=e}return t.prototype.format=function(e,n,r){return this.func(Fy(e,null,n,r))},t.prototype.formatRange=function(e,n,r,i){return this.func(Fy(e,n,r,i))},t}();function Mt(t){return typeof t=="object"&&t?new tae(t):typeof t=="string"?new uae(t):typeof t=="function"?new dae(t):null}var B3={navLinkDayClick:B,navLinkWeekClick:B,duration:Ce,bootstrapFontAwesome:B,buttonIcons:B,customButtons:B,defaultAllDayEventDuration:Ce,defaultTimedEventDuration:Ce,nextDayThreshold:Ce,scrollTime:Ce,scrollTimeReset:Boolean,slotMinTime:Ce,slotMaxTime:Ce,dayPopoverFormat:Mt,slotDuration:Ce,snapDuration:Ce,headerToolbar:B,footerToolbar:B,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Mt,dayHeaderClassNames:B,dayHeaderContent:B,dayHeaderDidMount:B,dayHeaderWillUnmount:B,dayCellClassNames:B,dayCellContent:B,dayCellDidMount:B,dayCellWillUnmount:B,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:B,weekNumbers:Boolean,weekNumberClassNames:B,weekNumberContent:B,weekNumberDidMount:B,weekNumberWillUnmount:B,editable:Boolean,viewClassNames:B,viewDidMount:B,viewWillUnmount:B,nowIndicator:Boolean,nowIndicatorClassNames:B,nowIndicatorContent:B,nowIndicatorDidMount:B,nowIndicatorWillUnmount:B,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:B,locale:B,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:B,eventOrder:Tse,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:B,contentHeight:B,direction:String,weekNumberFormat:Mt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,progressiveEventRendering:Boolean,businessHours:B,initialDate:B,now:B,eventDataTransform:B,stickyHeaderDates:B,stickyFooterScrollbar:B,viewHeight:B,defaultAllDay:Boolean,eventSourceFailure:B,eventSourceSuccess:B,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:B,eventConstraint:B,eventAllow:B,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:B,eventContent:B,eventDidMount:B,eventWillUnmount:B,selectConstraint:B,selectOverlap:B,selectAllow:B,droppable:Boolean,unselectCancel:String,slotLabelFormat:B,slotLaneClassNames:B,slotLaneContent:B,slotLaneDidMount:B,slotLaneWillUnmount:B,slotLabelClassNames:B,slotLabelContent:B,slotLabelDidMount:B,slotLabelWillUnmount:B,dayMaxEvents:B,dayMaxEventRows:B,dayMinWidth:Number,slotLabelInterval:Ce,allDayText:String,allDayClassNames:B,allDayContent:B,allDayDidMount:B,allDayWillUnmount:B,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Mt,rerenderDelay:Number,moreLinkText:B,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:B,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ce,hiddenDays:B,monthMode:Boolean,fixedWeekCount:Boolean,validRange:B,visibleRange:B,titleFormat:B,noEventsText:String,moreLinkClick:B,moreLinkClassNames:B,moreLinkContent:B,moreLinkDidMount:B,moreLinkWillUnmount:B},kl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},V3={datesSet:B,eventsSet:B,eventAdd:B,eventChange:B,eventRemove:B,windowResize:B,eventClick:B,eventMouseEnter:B,eventMouseLeave:B,select:B,unselect:B,loading:B,_unmount:B,_beforeprint:B,_afterprint:B,_noEventDrop:B,_noEventResize:B,_resize:B,_scrollRequest:B},H3={buttonText:B,views:B,plugins:B,initialEvents:B,events:B,eventSources:B},vI={headerToolbar:Uy,footerToolbar:Uy,buttonText:Uy,buttonIcons:Uy};function Uy(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?uo(t,e):t===e}var fae={type:String,component:B,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:B,usesMinMaxTime:Boolean,classNames:B,content:B,didMount:B,willUnmount:B};function gI(t){return uI(t,vI)}function By(t,e){var n={},r={};for(var i in e)i in t&&(n[i]=e[i](t[i]));for(var i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function B(t){return t}function Vy(t,e,n,r){for(var i=xn(),o=_I(n),a=0,l=t;a<l.length;a++){var u=l[a],d=z3(u,e,n,r,o);d&&Xu(d,i)}return i}function Xu(t,e){return e===void 0&&(e=xn()),e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Hy(t,e){var n=t.instances[e];if(n){var r=t.defs[n.defId],i=jy(t,function(o){return hae(r,o)});return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return xn()}function hae(t,e){return Boolean(t.groupId&&t.groupId===e.groupId)}function xn(){return{defs:{},instances:{}}}function yI(t,e){return{defs:C(C({},t.defs),e.defs),instances:C(C({},t.instances),e.instances)}}function jy(t,e){var n=Al(t.defs,e),r=Al(t.instances,function(i){return n[i.defId]});return{defs:n,instances:r}}function pae(t,e){var n=t.defs,r=t.instances,i={},o={};for(var a in n)e.defs[a]||(i[a]=n[a]);for(var l in r)!e.instances[l]&&i[r[l].defId]&&(o[l]=r[l]);return{defs:i,instances:o}}function mae(t,e){return Array.isArray(t)?Vy(t,null,e,!0):typeof t=="object"&&t?Vy([t],null,e,!0):t!=null?String(t):null}function bI(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var qy={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:B,overlap:B,allow:B,className:bI,classNames:bI,color:String,backgroundColor:String,borderColor:String,textColor:String},vae={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function zy(t,e){var n=mae(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function j3(t){return t.reduce(gae,vae)}function gae(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var Wy={id:String,groupId:String,title:String,url:String},q3={start:B,end:B,date:B,allDay:Boolean},yae=C(C(C({},Wy),q3),{extendedProps:B});function z3(t,e,n,r,i){i===void 0&&(i=_I(n));var o=Gy(t,n,i),a=o.refined,l=o.extra,u=_ae(e,n),d=qse(a,u,n.dateEnv,n.pluginHooks.recurringTypes);if(d){var f=Uh(a,l,e?e.sourceId:"",d.allDay,Boolean(d.duration),n);return f.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:f,instance:null}}var p=bae(a,u,n,r);if(p){var f=Uh(a,l,e?e.sourceId:"",p.allDay,p.hasEnd,n),v=Fh(f.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return{def:f,instance:v}}return null}function Gy(t,e,n){return n===void 0&&(n=_I(e)),By(t,n)}function _I(t){return C(C(C({},qy),yae),t.pluginHooks.eventRefiners)}function Uh(t,e,n,r,i,o){for(var a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:Gu(),sourceId:n,allDay:r,hasEnd:i,ui:zy(t,o),extendedProps:C(C({},t.extendedProps||{}),e)},l=0,u=o.pluginHooks.eventDefMemberAdders;l<u.length;l++){var d=u[l];C(a,d(t))}return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function bae(t,e,n,r){var i=t.allDay,o,a=null,l=!1,u,d=null,f=t.start!=null?t.start:t.date;if(o=n.dateEnv.createMarkerMeta(f),o)a=o.marker;else if(!r)return null;return t.end!=null&&(u=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!o||o.isTimeUnspecified)&&(!u||u.isTimeUnspecified)),i&&a&&(a=Xe(a)),u&&(d=u.marker,i&&(d=Xe(d)),a&&d<=a&&(d=null)),d?l=!0:r||(l=n.options.forceEventDuration||!1,d=n.dateEnv.add(a,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:l,range:{start:a,end:d},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:u?u.forcedTzo:null}}function _ae(t,e){var n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function W3(t){var e=Math.floor(Gs(t.start,t.end))||1,n=Xe(t.start),r=Pn(n,e);return{start:n,end:r}}function G3(t,e){e===void 0&&(e=Ce(0));var n=null,r=null;if(t.end){r=Xe(t.end);var i=t.end.valueOf()-r.valueOf();i&&i>=si(e)&&(r=Pn(r,1))}return t.start&&(n=Xe(t.start),r&&r<=n&&(r=Pn(n,1))),{start:n,end:r}}function Dl(t,e,n,r){return r==="year"?Ce(n.diffWholeYears(t,e),"year"):r==="month"?Ce(n.diffWholeMonths(t,e),"month"):Pse(t,e)}function wae(t,e){var n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function K3(t,e){var n=[],r=e.start,i,o;for(t.sort(Eae),i=0;i<t.length;i+=1)o=t[i],o.start>r&&n.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&n.push({start:r,end:e.end}),n}function Eae(t,e){return t.start.valueOf()-e.start.valueOf()}function Ys(t,e){var n=t.start,r=t.end,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function xae(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function wI(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Bh(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function fo(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Sae(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function $3(t,e,n,r){var i={},o={},a={},l=[],u=[],d=Ky(t.defs,e);for(var f in t.defs){var p=t.defs[f],v=d[p.defId];v.display==="inverse-background"&&(p.groupId?(i[p.groupId]=[],a[p.groupId]||(a[p.groupId]=p)):o[f]=[])}for(var g in t.instances){var b=t.instances[g],p=t.defs[b.defId],v=d[p.defId],_=b.range,E=!p.allDay&&r?G3(_,r):_,x=Ys(E,n);x&&(v.display==="inverse-background"?p.groupId?i[p.groupId].push(x):o[b.defId].push(x):v.display!=="none"&&(v.display==="background"?l:u).push({def:p,ui:v,instance:b,range:x,isStart:E.start&&E.start.valueOf()===x.start.valueOf(),isEnd:E.end&&E.end.valueOf()===x.end.valueOf()}))}for(var T in i)for(var R=i[T],P=K3(R,n),L=0,F=P;L<F.length;L++){var G=F[L],p=a[T],v=d[p.defId];l.push({def:p,ui:v,instance:null,range:G,isStart:!1,isEnd:!1})}for(var f in o)for(var R=o[f],P=K3(R,n),Y=0,$=P;Y<$.length;Y++){var G=$[Y];l.push({def:t.defs[f],ui:d[f],instance:null,range:G,isStart:!1,isEnd:!1})}return{bg:l,fg:u}}function Y3(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function X3(t,e){t.fcSeg=e}function Nl(t){return t.fcSeg||t.parentNode.fcSeg||null}function Ky(t,e){return Ni(t,function(n){return Q3(n,e)})}function Q3(t,e){var n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),j3(n)}function $y(t,e){var n=t.map(Tae);return n.sort(function(r,i){return Cse(r,i,e)}),n.map(function(r){return r._seg})}function Tae(t){var e=t.eventRange,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return C(C(C({},n.extendedProps),n),{id:n.publicId,start:i,end:o,duration:o-i,allDay:Number(n.allDay),_seg:t})}function Cae(t,e){for(var n=e.pluginHooks,r=n.isDraggableTransformers,i=t.eventRange,o=i.def,a=i.ui,l=a.startEditable,u=0,d=r;u<d.length;u++){var f=d[u];l=f(l,o,a,e)}return l}function Iae(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Aae(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function EI(t,e,n,r,i,o,a){var l=n.dateEnv,u=n.options,d=u.displayEventTime,f=u.displayEventEnd,p=t.eventRange.def,v=t.eventRange.instance;d==null&&(d=r!==!1),f==null&&(f=i!==!1);var g=v.range.start,b=v.range.end,_=o||t.start||t.eventRange.range.start,E=a||t.end||t.eventRange.range.end,x=Xe(g).valueOf()===Xe(_).valueOf(),T=Xe(Il(b,-1)).valueOf()===Xe(Il(E,-1)).valueOf();return d&&!p.allDay&&(x||T)?(_=x?g:_,E=T?b:E,f&&p.hasEnd?l.formatRange(_,E,e,{forcedStartTzo:o?null:v.forcedStartTzo,forcedEndTzo:a?null:v.forcedEndTzo}):l.format(_,e,{forcedTzo:o?null:v.forcedStartTzo})):""}function ho(t,e,n){var r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&fo(e,r.start)}}function Rae(t){var e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Yy(t){return t.instance?t.instance.instanceId:t.def.defId+":"+t.range.start.toISOString()}var kae={start:B,end:B,allDay:Boolean};function Dae(t,e,n){var r=Nae(t,e),i=r.range;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function Nae(t,e){var n=By(t,kae),r=n.refined,i=n.extra,o=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,l=r.allDay;return l==null&&(l=o&&o.isTimeUnspecified&&(!a||a.isTimeUnspecified)),C({range:{start:o?o.marker:null,end:a?a.marker:null},allDay:l},i)}function J3(t,e){return xae(t.range,e.range)&&t.allDay===e.allDay&&Oae(t,e)}function Oae(t,e){for(var n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(var n in t)if(!(n in e))return!1;return!0}function Pae(t,e){return C(C({},ej(t.range,e,t.allDay)),{allDay:t.allDay})}function Z3(t,e,n){return C(C({},ej(t,e,n)),{timeZone:e.timeZone})}function ej(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function Mae(t,e,n){var r=Gy({editable:!1},n),i=Uh(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Q3(i,e),instance:Fh(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function xI(t,e,n){n.emitter.trigger("select",C(C({},SI(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Lae(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function SI(t,e){for(var n={},r=0,i=e.pluginHooks.dateSpanTransforms;r<i.length;r++){var o=i[r];C(n,o(t,e))}return C(n,Pae(t,e.dateEnv)),n}function Xy(t,e,n){var r=n.dateEnv,i=n.options,o=e;return t?(o=Xe(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function Qy(t,e,n,r){var i=Ky(t.defs,e),o=xn();for(var a in t.defs){var l=t.defs[a];o.defs[a]=Fae(l,i[a],n,r)}for(var u in t.instances){var d=t.instances[u],l=o.defs[d.defId];o.instances[u]=Uae(d,l,i[d.defId],n,r)}return o}function Fae(t,e,n,r){var i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);var o=C(C(C({},t),i),{ui:C(C({},t.ui),i.ui)});n.extendedProps&&(o.extendedProps=C(C({},o.extendedProps),n.extendedProps));for(var a=0,l=r.pluginHooks.eventDefMutationAppliers;a<l.length;a++){var u=l[a];u(o,n,r)}return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function Uae(t,e,n,r,i){var o=i.dateEnv,a=r.standardProps&&r.standardProps.allDay===!0,l=r.standardProps&&r.standardProps.hasEnd===!1,u=C({},t);return a&&(u.range=W3(u.range)),r.datesDelta&&n.startEditable&&(u.range={start:o.add(u.range.start,r.datesDelta),end:o.add(u.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(u.range={start:o.add(u.range.start,r.startDelta),end:u.range.end}),r.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:o.add(u.range.end,r.endDelta)}),l&&(u.range={start:u.range.start,end:Xy(e.allDay,u.range.start,i)}),e.allDay&&(u.range={start:Xe(u.range.start),end:Xe(u.range.end)}),u.range.end<u.range.start&&(u.range.end=Xy(e.allDay,u.range.start,i)),u}var Bae=function(){function t(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}return Object.defineProperty(t.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),t.prototype.getOption=function(e){return this.getCurrentData().options[e]},t}(),Vae={id:String,defaultAllDay:Boolean,url:String,format:String,events:B,eventDataTransform:B,success:B,failure:B};function tj(t,e,n){n===void 0&&(n=nj(e));var r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){var i=By(r,n),o=i.refined,a=i.extra,l=Hae(o,e);if(l)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:o.defaultAllDay,eventDataTransform:o.eventDataTransform,success:o.success,failure:o.failure,publicId:o.id||"",sourceId:Gu(),sourceDefId:l.sourceDefId,meta:l.meta,ui:zy(o,e),extendedProps:a}}return null}function nj(t){return C(C(C({},qy),Vae),t.pluginHooks.eventSourceRefiners)}function Hae(t,e){for(var n=e.pluginHooks.eventSourceDefs,r=n.length-1;r>=0;r-=1){var i=n[r],o=i.parseMeta(t);if(o)return{sourceDefId:r,meta:o}}return null}function jae(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function qae(t,e){var n=t.initialDate;return n!=null?e.createMarker(n):Vh(t.now,e)}function Vh(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}var rj=function(){function t(){}return t.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},t.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(t.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),t.prototype.batchRendering=function(e){e()},t.prototype.updateSize=function(){this.trigger("_resize",!0)},t.prototype.setOption=function(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})},t.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},t.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},t.prototype.on=function(e,n){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn("Unknown listener name '"+e+"'")},t.prototype.off=function(e,n){this.currentDataManager.emitter.off(e,n)},t.prototype.trigger=function(e){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(n=this.currentDataManager.emitter).trigger.apply(n,wt([e],r))},t.prototype.changeView=function(e,n){var r=this;this.batchRendering(function(){if(r.unselect(),n)if(n.start&&n.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{var i=r.getCurrentData().dateEnv;r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})},t.prototype.zoomTo=function(e,n){var r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},t.prototype.getUnitViewSpec=function(e){var n=this.getCurrentData(),r=n.viewSpecs,i=n.toolbarConfig,o=[].concat(i.viewsWithButtons),a,l;for(var u in r)o.push(u);for(a=0;a<o.length;a+=1)if(l=r[o[a]],l&&l.singleUnit===e)return l;return null},t.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},t.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},t.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},t.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},t.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Vh(e.calendarOptions.now,e.dateEnv)})},t.prototype.gotoDate=function(e){var n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})},t.prototype.incrementDate=function(e){var n=this.getCurrentData(),r=Ce(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))},t.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},t.prototype.formatDate=function(e,n){var r=this.getCurrentData().dateEnv;return r.format(r.createMarker(e),Mt(n))},t.prototype.formatRange=function(e,n,r){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(n),Mt(r),r)},t.prototype.formatIso=function(e,n){var r=this.getCurrentData().dateEnv;return r.formatIso(r.createMarker(e),{omitTime:n})},t.prototype.select=function(e,n){var r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};var i=this.getCurrentData(),o=Dae(r,i.dateEnv,Ce({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),xI(o,null,i))},t.prototype.unselect=function(e){var n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Lae(e,n))},t.prototype.addEvent=function(e,n){if(e instanceof bt){var r=e._def,i=e._instance,o=this.getCurrentData();return o.eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Xu({def:r,instance:i})}),this.triggerEventAdd(e)),e}var a=this.getCurrentData(),l;if(n instanceof zu)l=n.internalEventSource;else if(typeof n=="boolean")n&&(l=dI(a.eventSources)[0]);else if(n!=null){var u=this.getEventSourceById(n);if(!u)return console.warn('Could not find an event source with ID "'+n+'"'),null;l=u.internalEventSource}var d=z3(e,l,a,!1);if(d){var f=new bt(a,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Xu(d)}),this.triggerEventAdd(f),f}return null},t.prototype.triggerEventAdd=function(e){var n=this,r=this.getCurrentData().emitter;r.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){n.dispatch({type:"REMOVE_EVENTS",eventStore:ij(e)})}})},t.prototype.getEventById=function(e){var n=this.getCurrentData(),r=n.eventStore,i=r.defs,o=r.instances;e=String(e);for(var a in i){var l=i[a];if(l.publicId===e){if(l.recurringDef)return new bt(n,l,null);for(var u in o){var d=o[u];if(d.defId===l.defId)return new bt(n,l,d)}}}return null},t.prototype.getEvents=function(){var e=this.getCurrentData();return Xs(e.eventStore,e)},t.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},t.prototype.getEventSources=function(){var e=this.getCurrentData(),n=e.eventSources,r=[];for(var i in n)r.push(new zu(e,n[i]));return r},t.prototype.getEventSourceById=function(e){var n=this.getCurrentData(),r=n.eventSources;e=String(e);for(var i in r)if(r[i].publicId===e)return new zu(n,r[i]);return null},t.prototype.addEventSource=function(e){var n=this.getCurrentData();if(e instanceof zu)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var r=tj(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new zu(n,r)):null},t.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},t.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},t.prototype.scrollToTime=function(e){var n=Ce(e);n&&this.trigger("_scrollRequest",{time:n})},t}(),bt=function(){function t(e,n,r){this._context=e,this._def=n,this._instance=r||null}return t.prototype.setProp=function(e,n){var r,i;if(e in q3)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Wy[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Wy)n=Wy[e](n),this.mutate({standardProps:(r={},r[e]=n,r)});else if(e in qy){var o=qy[e](n);e==="color"?o={backgroundColor:n,borderColor:n}:e==="editable"?o={startEditable:n,durationEditable:n}:o=(i={},i[e]=n,i),this.mutate({standardProps:{ui:o}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},t.prototype.setExtendedProp=function(e,n){var r;this.mutate({extendedProps:(r={},r[e]=n,r)})},t.prototype.setStart=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i=r.createMarker(e);if(i&&this._instance){var o=this._instance.range,a=Dl(o.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}},t.prototype.setEnd=function(e,n){n===void 0&&(n={});var r=this._context.dateEnv,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){var o=Dl(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},t.prototype.setDates=function(e,n,r){r===void 0&&(r={});var i=this._context.dateEnv,o={allDay:r.allDay},a=i.createMarker(e),l;if(!!a&&!(n!=null&&(l=i.createMarker(n),!l))&&this._instance){var u=this._instance.range;r.allDay===!0&&(u=W3(u));var d=Dl(u.start,a,i,r.granularity);if(l){var f=Dl(u.end,l,i,r.granularity);Kse(d,f)?this.mutate({datesDelta:d,standardProps:o}):this.mutate({startDelta:d,endDelta:f,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:d,standardProps:o})}},t.prototype.moveStart=function(e){var n=Ce(e);n&&this.mutate({startDelta:n})},t.prototype.moveEnd=function(e){var n=Ce(e);n&&this.mutate({endDelta:n})},t.prototype.moveDates=function(e){var n=Ce(e);n&&this.mutate({datesDelta:n})},t.prototype.setAllDay=function(e,n){n===void 0&&(n={});var r={allDay:e},i=n.maintainDuration;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})},t.prototype.formatRange=function(e){var n=this._context.dateEnv,r=this._instance,i=Mt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})},t.prototype.mutate=function(e){var n=this._instance;if(n){var r=this._def,i=this._context,o=i.getCurrentData().eventStore,a=Hy(o,n.instanceId),l={"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};a=Qy(a,l,e,i);var u=new t(i,r,n);this._def=a.defs[r.defId],this._instance=a.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:u,event:this,relatedEvents:Xs(a,i,n),revert:function(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}},t.prototype.remove=function(){var e=this._context,n=ij(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})},Object.defineProperty(t.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new zu(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),t.prototype.toPlainObject=function(e){e===void 0&&(e={});var n=this._def,r=n.ui,i=this,o=i.startStr,a=i.endStr,l={};return n.title&&(l.title=n.title),o&&(l.start=o),a&&(l.end=a),n.publicId&&(l.id=n.publicId),n.groupId&&(l.groupId=n.groupId),n.url&&(l.url=n.url),r.display&&r.display!=="auto"&&(l.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?C(l,n.extendedProps):l.extendedProps=n.extendedProps),l},t.prototype.toJSON=function(){return this.toPlainObject()},t}();function ij(t){var e,n,r=t._def,i=t._instance;return{defs:(e={},e[r.defId]=r,e),instances:i?(n={},n[i.instanceId]=i,n):{}}}function Xs(t,e,n){var r=t.defs,i=t.instances,o=[],a=n?n.instanceId:"";for(var l in i){var u=i[l],d=r[u.defId];u.instanceId!==a&&o.push(new bt(e,d,u))}return o}var oj={};function zae(t,e){oj[t]=e}function Wae(t){return new oj[t]}var Gae=function(){function t(){}return t.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},t.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},t.prototype.getMarkerDay=function(e){return e.getUTCDate()},t.prototype.arrayToMarker=function(e){return mr(e)},t.prototype.markerToArray=function(e){return Ks(e)},t}();zae("gregory",Gae);var Kae=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function $ae(t){var e=Kae.exec(t);if(e){var n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number("0."+e[12])*1e3:0));if(A3(n)){var r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var Yae=function(){function t(e){var n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=Boolean(!r||this.namedTimeZoneImpl),this.calendarSystem=Wae(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return t.prototype.createMarker=function(e){var n=this.createMarkerMeta(e);return n===null?null:n.marker},t.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):mr(C3(new Date))},t.prototype.createMarkerMeta=function(e){if(typeof e=="string")return this.parse(e);var n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=mr(e)),n===null||!A3(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}},t.prototype.parse=function(e){var n=$ae(e);if(n===null)return null;var r=n.marker,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}},t.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},t.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},t.prototype.add=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.subtract=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)},t.prototype.addYears=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.addMonths=function(e,n){var r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)},t.prototype.diffWholeYears=function(e,n){var r=this.calendarSystem;return $s(e)===$s(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null},t.prototype.diffWholeMonths=function(e,n){var r=this.calendarSystem;return $s(e)===$s(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null},t.prototype.greatestWholeUnit=function(e,n){var r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=Mse(e,n),r!==null?{unit:"week",value:r}:(r=ky(e,n),r!==null?{unit:"day",value:r}:(r=Dse(e,n),Ry(r)?{unit:"hour",value:r}:(r=Nse(e,n),Ry(r)?{unit:"minute",value:r}:(r=Ose(e,n),Ry(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))},t.prototype.countDurationsBetween=function(e,n,r){var i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/Yse(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/Xse(r):r.days&&(i=ky(e,n),i!==null)?i/Yu(r):(n.valueOf()-e.valueOf())/si(r)},t.prototype.startOf=function(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Xe(e):n==="hour"?Lse(e):n==="minute"?Fse(e):n==="second"?Use(e):null},t.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},t.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},t.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},t.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Bse(e,this.weekDow,this.weekDoy)},t.prototype.format=function(e,n,r){return r===void 0&&(r={}),n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)},t.prototype.formatRange=function(e,n,r,i){return i===void 0&&(i={}),i.isEndExclusive&&(n=Il(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)},t.prototype.formatIso=function(e,n){n===void 0&&(n={});var r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),hI(e,r,n.omitTime)},t.prototype.timestampToMarker=function(e){return this.timeZone==="local"?mr(C3(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):mr(this.namedTimeZoneImpl.timestampToArray(e))},t.prototype.offsetForMarker=function(e){return this.timeZone==="local"?-I3(Ks(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ks(e)):null},t.prototype.toDate=function(e,n){return this.timeZone==="local"?I3(Ks(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ks(e))*1e3*60):new Date(e.valueOf()-(n||0))},t}(),Xae=[],TI={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"};function Qae(t){for(var e=t.length>0?t[0].code:"en",n=Xae.concat(t),r={en:TI},i=0,o=n;i<o.length;i++){var a=o[i];r[a.code]=a}return{map:r,defaultCode:e}}function sj(t,e){return typeof t=="object"&&!Array.isArray(t)?aj(t.code,[t.code],t):Jae(t,e)}function Jae(t,e){var n=[].concat(t||[]),r=Zae(n,e)||TI;return aj(t,n,r)}function Zae(t,e){for(var n=0;n<t.length;n+=1)for(var r=t[n].toLocaleLowerCase().split("-"),i=r.length;i>0;i-=1){var o=r.slice(0,i).join("-");if(e[o])return e[o]}return null}function aj(t,e,n){var r=uI([TI,n],["buttonText"]);delete r.code;var i=r.week;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}var ele={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function tle(t,e){return Vy(nle(t),null,e)}function nle(t){var e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(function(n){return n.daysOfWeek}):typeof t=="object"&&t?e=[t]:e=[],e=e.map(function(n){return C(C({},ele),n)}),e}function lj(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function CI(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function cj(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function uj(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function dj(t,e){return{left:t.left-e.left,top:t.top-e.top}}var II;function fj(){return II==null&&(II=rle()),II}function rle(){if(typeof document=="undefined")return!0;var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);var e=t.querySelector("div"),n=e.offsetHeight>0;return document.body.removeChild(t),n}var AI=xn(),hj=function(){function t(){this.getKeysForEventDefs=ce(this._getKeysForEventDefs),this.splitDateSelection=ce(this._splitDateSpan),this.splitEventStore=ce(this._splitEventStore),this.splitIndividualUi=ce(this._splitIndividualUi),this.splitEventDrag=ce(this._splitInteraction),this.splitEventResize=ce(this._splitInteraction),this.eventUiBuilders={}}return t.prototype.splitProps=function(e){var n=this,r=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,i),l=this.splitEventStore(e.eventStore,i),u=this.splitEventDrag(e.eventDrag),d=this.splitEventResize(e.eventResize),f={};this.eventUiBuilders=Ni(r,function(_,E){return n.eventUiBuilders[E]||ce(ile)});for(var p in r){var v=r[p],g=l[p]||AI,b=this.eventUiBuilders[p];f[p]={businessHours:v.businessHours||e.businessHours,dateSelection:o[p]||null,eventStore:g,eventUiBases:b(e.eventUiBases[""],v.ui,a[p]),eventSelection:g.instances[e.eventSelection]?e.eventSelection:"",eventDrag:u[p]||null,eventResize:d[p]||null}}return f},t.prototype._splitDateSpan=function(e){var n={};if(e)for(var r=this.getKeysForDateSpan(e),i=0,o=r;i<o.length;i++){var a=o[i];n[a]=e}return n},t.prototype._getKeysForEventDefs=function(e){var n=this;return Ni(e.defs,function(r){return n.getKeysForEventDef(r)})},t.prototype._splitEventStore=function(e,n){var r=e.defs,i=e.instances,o={};for(var a in r)for(var l=0,u=n[a];l<u.length;l++){var d=u[l];o[d]||(o[d]=xn()),o[d].defs[a]=r[a]}for(var f in i)for(var p=i[f],v=0,g=n[p.defId];v<g.length;v++){var d=g[v];o[d]&&(o[d].instances[f]=p)}return o},t.prototype._splitIndividualUi=function(e,n){var r={};for(var i in e)if(i)for(var o=0,a=n[i];o<a.length;o++){var l=a[o];r[l]||(r[l]={}),r[l][i]=e[i]}return r},t.prototype._splitInteraction=function(e){var n={};if(e){var r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,i),a=function(u){n[u]||(n[u]={affectedEvents:r[u]||AI,mutatedEvents:o[u]||AI,isEvent:e.isEvent})};for(var l in r)a(l);for(var l in o)a(l)}return n},t}();function ile(t,e,n){var r=[];t&&r.push(t),e&&r.push(e);var i={"":j3(r)};return n&&C(i,n),i}function pj(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:Boolean(r&&!fo(r.activeRange,t)),isOther:Boolean(r&&!fo(r.currentRange,t)),isToday:Boolean(e&&fo(e,t)),isPast:Boolean(n?t<n:e?t<e.start:!1),isFuture:Boolean(n?t>n:e?t>=e.end:!1)}}function RI(t,e){var n=["fc-day","fc-day-"+kse[t.dow]];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}function Qu(t,e){return e===void 0&&(e="day"),JSON.stringify({date:pI(t),type:e})}var kI=null;function ole(){return kI===null&&(kI=sle()),kI}function sle(){var t=document.createElement("div");Wu(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);var e=t.firstChild,n=e.getBoundingClientRect().left>t.getBoundingClientRect().left;return Iy(t),n}var DI;function ale(){return DI||(DI=lle()),DI}function lle(){var t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);var e=mj(t);return document.body.removeChild(t),e}function mj(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function cle(t,e){e===void 0&&(e=!1);var n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=mj(t),u=l.y-r-i,d=l.x-o-a,f={borderLeft:r,borderRight:i,borderTop:o,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return ole()&&n.direction==="rtl"?f.scrollbarLeft=u:f.scrollbarRight=u,e&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}function vj(t,e,n){e===void 0&&(e=!1);var r=n?t.getBoundingClientRect():Jy(t),i=cle(t,e),o={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(o.left+=i.paddingLeft,o.right-=i.paddingRight,o.top+=i.paddingTop,o.bottom-=i.paddingBottom),o}function Jy(t){var e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function ule(t){for(var e=NI(t),n=t.getBoundingClientRect(),r=0,i=e;r<i.length;r++){var o=i[r],a=CI(n,o.getBoundingClientRect());if(a)n=a;else return null}return n}function NI(t){for(var e=[];t instanceof HTMLElement;){var n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}function dle(t,e,n){var r=!1,i=function(){r||(r=!0,e.apply(this,arguments))},o=function(){r||(r=!0,n&&n.apply(this,arguments))},a=t(i,o);a&&typeof a.then=="function"&&a.then(i,o)}var Hh=function(){function t(){this.handlers={},this.thisContext=null}return t.prototype.setThisContext=function(e){this.thisContext=e},t.prototype.setOptions=function(e){this.options=e},t.prototype.on=function(e,n){fle(this.handlers,e,n)},t.prototype.off=function(e,n){hle(this.handlers,e,n)},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=this.handlers[e]||[],o=this.options&&this.options[e],a=[].concat(o||[],i),l=0,u=a;l<u.length;l++){var d=u[l];d.apply(this.thisContext,n)}},t.prototype.hasHandlers=function(e){return this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e]},t}();function fle(t,e,n){(t[e]||(t[e]=[])).push(n)}function hle(t,e,n){n?t[e]&&(t[e]=t[e].filter(function(r){return r!==n})):delete t[e]}var Ol=function(){function t(e,n,r,i){this.els=n;var o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}return t.prototype.buildElHorizontals=function(e){for(var n=[],r=[],i=0,o=this.els;i<o.length;i++){var a=o[i],l=a.getBoundingClientRect();n.push(l.left-e),r.push(l.right-e)}this.lefts=n,this.rights=r},t.prototype.buildElVerticals=function(e){for(var n=[],r=[],i=0,o=this.els;i<o.length;i++){var a=o[i],l=a.getBoundingClientRect();n.push(l.top-e),r.push(l.bottom-e)}this.tops=n,this.bottoms=r},t.prototype.leftToIndex=function(e){var n=this,r=n.lefts,i=n.rights,o=r.length,a;for(a=0;a<o;a+=1)if(e>=r[a]&&e<i[a])return a},t.prototype.topToIndex=function(e){var n=this,r=n.tops,i=n.bottoms,o=r.length,a;for(a=0;a<o;a+=1)if(e>=r[a]&&e<i[a])return a},t.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},t.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},t}(),Zy=function(){function t(){}return t.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},t.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},t.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},t.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},t.prototype.canScrollUp=function(){return this.getScrollTop()>0},t.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},t.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},t.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},t}(),gj=function(t){M(e,t);function e(n){var r=t.call(this)||this;return r.el=n,r}return e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(n){this.el.scrollTop=n},e.prototype.setScrollLeft=function(n){this.el.scrollLeft=n},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e}(Zy),yj=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollTop=function(){return window.pageYOffset},e.prototype.getScrollLeft=function(){return window.pageXOffset},e.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)},e.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)},e.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},e.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},e.prototype.getClientHeight=function(){return document.documentElement.clientHeight},e.prototype.getClientWidth=function(){return document.documentElement.clientWidth},e}(Zy),jh=function(){function t(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return t.prototype.setIconOverride=function(e){var n,r;if(typeof e=="object"&&e){n=C({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(e){var n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e},t.prototype.getClass=function(e){return this.classes[e]||""},t.prototype.getIconClass=function(e,n){var r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?this.baseIconClass+" "+r:""},t.prototype.getCustomButtonIconClass=function(e){var n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?this.baseIconClass+" "+this.applyIconOverridePrefix(n):""},t}();jh.prototype.classes={};jh.prototype.iconClasses={};jh.prototype.baseIconClass="";jh.prototype.iconOverridePrefix="";var ple=function(){function t(e,n,r,i){var o=this;this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=function(a){o.queuedRequest=C({},o.queuedRequest||{},a),o.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return t.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},t.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},t.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},t.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},t}(),po=iI({});function mle(t,e,n,r,i,o,a,l,u,d,f,p,v){return{dateEnv:i,options:n,pluginHooks:a,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:n.direction==="rtl",addResizeHandler:function(g){d.on("_resize",g)},removeResizeHandler:function(g){d.off("_resize",g)},createScrollResponder:function(g){return new ple(g,d,Ce(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:v}}var eb=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.shouldComponentUpdate=function(n,r){return this.debug&&console.log(k3(n,this.props),k3(r,this.state)),!D3(this.props,n,this.propEquality)||!D3(this.state,r,this.stateEquality)},e.addPropsEquality=vle,e.addStateEquality=gle,e.contextType=po,e}(Cy);eb.prototype.propEquality={};eb.prototype.stateEquality={};var Pe=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.contextType=po,e}(eb);function vle(t){var e=Object.create(this.prototype.propEquality);C(e,t),this.prototype.propEquality=e}function gle(t){var e=Object.create(this.prototype.stateEquality);C(e,t),this.prototype.stateEquality=e}function Mr(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var Oi=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.uid=Gu(),n}return e.prototype.prepareHits=function(){},e.prototype.queryHit=function(n,r,i,o){return null},e.prototype.isValidSegDownEl=function(n){return!this.props.eventDrag&&!this.props.eventResize&&!En(n,".fc-event-mirror")},e.prototype.isValidDateDownEl=function(n){return!En(n,".fc-event:not(.fc-bg-event)")&&!En(n,".fc-more-link")&&!En(n,"a[data-navlink]")&&!En(n,".fc-popover")},e}(Pe);function ai(t){return{id:Gu(),deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,contentTypeHandlers:t.contentTypeHandlers||{},listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function yle(t,e){var n={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(var a=0,l=o;a<l.length;a++){var u=l[a];n[u.id]||(n[u.id]=!0,i(u.deps),r=_le(r,u))}}return t&&i(t),i(e),r}function ble(){var t=[],e=[],n;return function(r,i){return(!n||!Rl(r,t)||!Rl(i,e))&&(n=yle(r,i)),t=r,e=i,n}}function _le(t,e){return{reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:C(C({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:C(C({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:C(C({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:C(C({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:C(C({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,contentTypeHandlers:C(C({},t.contentTypeHandlers),e.contentTypeHandlers),listenerRefiners:C(C({},t.listenerRefiners),e.listenerRefiners),optionRefiners:C(C({},t.optionRefiners),e.optionRefiners),propSetHandlers:C(C({},t.propSetHandlers),e.propSetHandlers)}}var Qs=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(jh);Qs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Qs.prototype.baseIconClass="fc-icon";Qs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Qs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Qs.prototype.iconOverrideOption="buttonIcons";Qs.prototype.iconOverrideCustomButtonOption="icon";Qs.prototype.iconOverridePrefix="fc-icon-";function wle(t,e){var n={},r;for(r in t)OI(r,n,t,e);for(r in e)OI(r,n,t,e);return n}function OI(t,e,n,r){if(e[t])return e[t];var i=Ele(t,e,n,r);return i&&(e[t]=i),i}function Ele(t,e,n,r){var i=n[t],o=r[t],a=function(f){return i&&i[f]!==null?i[f]:o&&o[f]!==null?o[f]:null},l=a("component"),u=a("superType"),d=null;if(u){if(u===t)throw new Error("Can't have a custom view type that references itself");d=OI(u,e,n,r)}return!l&&d&&(l=d.component),l?{type:t,component:l,defaults:C(C({},d?d.defaults:{}),i?i.rawOptions:{}),overrides:C(C({},d?d.overrides:{}),o?o.rawOptions:{})}:null}var Pi=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=It(),n.handleRootEl=function(r){Mr(n.rootElRef,r),n.props.elRef&&Mr(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.hookProps;return A(MI,{hookProps:i,didMount:r.didMount,willUnmount:r.willUnmount,elRef:this.handleRootEl},function(o){return A(bj,{hookProps:i,content:r.content,defaultContent:r.defaultContent,backupElRef:n.rootElRef},function(a,l){return r.children(o,wj(r.classNames,i),a,l)})})},e}(Pe),PI=iI(0);function bj(t){return A(PI.Consumer,null,function(e){return A(xle,C({renderId:e},t))})}var xle=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.innerElRef=It(),n}return e.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},e.prototype.componentDidMount=function(){this.updateCustomContent()},e.prototype.componentDidUpdate=function(){this.updateCustomContent()},e.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},e.prototype.renderInnerContent=function(){var n=this.context.pluginHooks.contentTypeHandlers,r=this,i=r.props,o=r.customContentInfo,a=i.content,l=Ej(a,i.hookProps),u=null;if(l===void 0&&(l=Ej(i.defaultContent,i.hookProps)),l!==void 0){if(o)o.contentVal=l[o.contentKey];else if(typeof l=="object"){for(var d in n)if(l[d]!==void 0){var f=n[d]();o=this.customContentInfo=C({contentKey:d,contentVal:l[d]},f);break}}o?u=[]:u=l}return u},e.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},e}(Pe),MI=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&Mr(n.props.elRef,r)},n}return e.prototype.render=function(){return this.props.children(this.handleRootEl)},e.prototype.componentDidMount=function(){var n=this.props.didMount;n&&n(C(C({},this.props.hookProps),{el:this.rootEl}))},e.prototype.componentWillUnmount=function(){var n=this.props.willUnmount;n&&n(C(C({},this.props.hookProps),{el:this.rootEl}))},e}(Pe);function _j(){var t,e,n=[];return function(r,i){return(!e||!uo(e,i)||r!==t)&&(t=r,e=i,n=wj(r,i)),n}}function wj(t,e){return typeof t=="function"&&(t=t(e)),bI(t)}function Ej(t,e){return typeof t=="function"?t(e,A):t}var Pl=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.normalizeClassNames=_j(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a={view:i.viewApi},l=this.normalizeClassNames(o.viewClassNames,a);return A(MI,{hookProps:a,didMount:o.viewDidMount,willUnmount:o.viewWillUnmount,elRef:r.elRef},function(u){return r.children(u,["fc-"+r.viewSpec.type+"-view","fc-view"].concat(l))})},e}(Pe);function xj(t){return Ni(t,Sle)}function Sle(t){var e=typeof t=="function"?{component:t}:t,n=e.component;return e.content&&(n=Tle(e)),{superType:e.type,component:n,rawOptions:e}}function Tle(t){return function(e){return A(po.Consumer,null,function(n){return A(Pl,{viewSpec:n.viewSpec},function(r,i){var o=C(C({},e),{nextDayThreshold:n.options.nextDayThreshold});return A(Pi,{hookProps:o,classNames:t.classNames,content:t.content,didMount:t.didMount,willUnmount:t.willUnmount,elRef:r},function(a,l,u,d){return A("div",{className:i.concat(l).join(" "),ref:a},d)})})})}}function Cle(t,e,n,r){var i=xj(t),o=xj(e.views),a=wle(i,o);return Ni(a,function(l){return Ile(l,o,e,n,r)})}function Ile(t,e,n,r,i){var o=t.overrides.duration||t.defaults.duration||r.duration||n.duration,a=null,l="",u="",d={};if(o&&(a=Ale(o),a)){var f=fI(a);l=f.unit,f.value===1&&(u=l,d=e[l]?e[l].rawOptions:{})}var p=function(v){var g=v.buttonText||{},b=t.defaults.buttonTextKey;return b!=null&&g[b]!=null?g[b]:g[t.type]!=null?g[t.type]:g[u]!=null?g[u]:null};return{type:t.type,component:t.component,duration:a,durationUnit:l,singleUnit:u,optionDefaults:t.defaults,optionOverrides:C(C({},d),t.overrides),buttonTextOverride:p(r)||p(n)||t.overrides.buttonText,buttonTextDefault:p(i)||t.defaults.buttonText||p(kl)||t.type}}var Sj={};function Ale(t){var e=JSON.stringify(t),n=Sj[e];return n===void 0&&(n=Ce(t),Sj[e]=n),n}var LI=function(){function t(e){this.props=e,this.nowDate=Vh(e.nowInput,e.dateEnv),this.initHiddenDays()}return t.prototype.buildPrev=function(e,n,r){var i=this.props.dateEnv,o=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)},t.prototype.buildNext=function(e,n,r){var i=this.props.dateEnv,o=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)},t.prototype.build=function(e,n,r){r===void 0&&(r=!0);var i=this.props,o,a,l,u,d,f;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=Sae(e,o)),a=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(a.unit),u=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,l),u=this.trimHiddenDays(u),d=u,i.showNonCurrentDates||(d=Ys(d,a.range)),d=this.adjustActiveRange(d),d=Ys(d,o),f=wI(a.range,o),{validRange:o,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:l,activeRange:d,renderRange:u,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:f,dateIncrement:this.buildDateIncrement(a.duration)}},t.prototype.buildValidRange=function(){var e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}},t.prototype.buildCurrentRangeInfo=function(e,n){var r=this.props,i=null,o=null,a=null,l;return r.duration?(i=r.duration,o=r.durationUnit,a=this.buildRangeFromDuration(e,n,i,o)):(l=this.props.dayCount)?(o="day",a=this.buildRangeFromDayCount(e,n,l)):(a=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),o=fI(i).unit,a=this.buildRangeFromDuration(e,n,i,o)),{duration:i,unit:o,range:a}},t.prototype.getFallbackDuration=function(){return Ce({day:1})},t.prototype.adjustActiveRange=function(e){var n=this.props,r=n.dateEnv,i=n.usesMinMaxTime,o=n.slotMinTime,a=n.slotMaxTime,l=e.start,u=e.end;return i&&(Yu(o)<0&&(l=Xe(l),l=r.add(l,o)),Yu(a)>1&&(u=Xe(u),u=Pn(u,-1),u=r.add(u,a))),{start:l,end:u}},t.prototype.buildRangeFromDuration=function(e,n,r,i){var o=this.props,a=o.dateEnv,l=o.dateAlignment,u,d,f;if(!l){var p=this.props.dateIncrement;p&&si(p)<si(r)?l=fI(p).unit:l=i}Yu(r)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,n),u=Xe(u));function v(){u=a.startOf(e,l),d=a.add(u,r),f={start:u,end:d}}return v(),this.trimHiddenDays(f)||(e=this.skipHiddenDays(e,n),v()),f},t.prototype.buildRangeFromDayCount=function(e,n,r){var i=this.props,o=i.dateEnv,a=i.dateAlignment,l=0,u=e,d;a&&(u=o.startOf(u,a)),u=Xe(u),u=this.skipHiddenDays(u,n),d=u;do d=Pn(d,1),this.isHiddenDay(d)||(l+=1);while(l<r);return{start:u,end:d}},t.prototype.buildCustomVisibleRange=function(e){var n=this.props,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,o=this.refineRange(i);return o&&(o.start==null||o.end==null)?null:o},t.prototype.buildRenderRange=function(e,n,r){return e},t.prototype.buildDateIncrement=function(e){var n=this.props.dateIncrement,r;return n||((r=this.props.dateAlignment)?Ce(1,r):e||Ce({days:1}))},t.prototype.refineRange=function(e){if(e){var n=wae(e,this.props.dateEnv);return n&&(n=G3(n)),n}return null},t.prototype.initHiddenDays=function(){var e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},t.prototype.trimHiddenDays=function(e){var n=e.start,r=e.end;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null},t.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},t.prototype.skipHiddenDays=function(e,n,r){for(n===void 0&&(n=1),r===void 0&&(r=!1);this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Pn(e,n);return e},t}();function Rle(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function kle(t,e){var n;switch(e.type){case"SET_OPTION":return C(C({},t),(n={},n[e.optionName]=e.rawOptionValue,n));default:return t}}function Dle(t,e,n,r){var i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":if(!t.activeRange||!fo(t.currentRange,e.dateMarker))return r.build(e.dateMarker);break;case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Nle(t,e,n){var r=e?e.activeRange:null;return Cj({},Ble(t,n),r,n)}function Ole(t,e,n,r){var i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Cj(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Mle(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Ij(t,i,r):t;case"FETCH_EVENT_SOURCES":return FI(t,e.sourceIds?R3(e.sourceIds):Aj(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Ule(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Ple(t,e,n){var r=e?e.activeRange:null;return FI(t,Aj(t,n),r,!0,n)}function Tj(t){for(var e in t)if(t[e].isFetching)return!0;return!1}function Cj(t,e,n,r){for(var i={},o=0,a=e;o<a.length;o++){var l=a[o];i[l.sourceId]=l}return n&&(i=Ij(i,n,r)),C(C({},t),i)}function Mle(t,e){return Al(t,function(n){return n.sourceId!==e})}function Ij(t,e,n){return FI(t,Al(t,function(r){return Lle(r,e,n)}),e,!1,n)}function Lle(t,e,n){return Rj(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function FI(t,e,n,r,i){var o={};for(var a in t){var l=t[a];e[a]?o[a]=Fle(l,n,r,i):o[a]=l}return o}function Fle(t,e,n,r){var i=r.options,o=r.calendarApi,a=r.pluginHooks.eventSourceDefs[t.sourceDefId],l=Gu();return a.fetch({eventSource:t,range:e,isRefetch:n,context:r},function(u){var d=u.rawEvents;i.eventSourceSuccess&&(d=i.eventSourceSuccess.call(o,d,u.xhr)||d),t.success&&(d=t.success.call(o,d,u.xhr)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:d})},function(u){console.warn(u.message,u),i.eventSourceFailure&&i.eventSourceFailure.call(o,u),t.failure&&t.failure(u),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:u})}),C(C({},t),{isFetching:!0,latestFetchId:l})}function Ule(t,e,n,r){var i,o=t[e];return o&&n===o.latestFetchId?C(C({},t),(i={},i[e]=C(C({},o),{isFetching:!1,fetchRange:r}),i)):t}function Aj(t,e){return Al(t,function(n){return Rj(n,e)})}function Ble(t,e){var n=nj(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(var o=0,a=r;o<a.length;o++){var l=a[o],u=tj(l,e,n);u&&i.push(u)}return i}function Rj(t,e){var n=e.pluginHooks.eventSourceDefs;return!n[t.sourceDefId].ignoreRange}function Vle(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Hle(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"ADD_EVENTS":return qle(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return yI(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?$u(t,r.activeRange,i):t;case"REMOVE_EVENTS":return pae(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Dj(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return jy(t,function(o){return!o.sourceId});case"REMOVE_ALL_EVENTS":return xn();default:return t}}function Hle(t,e,n,r,i,o){if(e&&n===e.latestFetchId){var a=Vy(jle(i,e,o),e,o);return r&&(a=$u(a,r,o)),yI(Dj(t,e.sourceId),a)}return t}function jle(t,e,n){var r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=kj(t,i)),r&&(t=kj(t,r)),t}function kj(t,e){var n;if(!e)n=t;else{n=[];for(var r=0,i=t;r<i.length;r++){var o=i[r],a=e(o);a?n.push(a):a==null&&n.push(o)}}return n}function qle(t,e,n,r){return n&&(e=$u(e,n,r)),yI(t,e)}function zle(t,e,n){var r=t.defs,i=Ni(t.instances,function(o){var a=r[o.defId];return a.allDay||a.recurringDef?o:C(C({},o),{range:{start:n.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:n.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:o.forcedEndTzo})});return{defs:r,instances:i}}function Dj(t,e){return jy(t,function(n){return n.sourceId!==e})}function Wle(t,e){return{defs:t.defs,instances:Al(t.instances,function(n){return!e[n.instanceId]})}}function Gle(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Kle(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function $le(t,e){var n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Yle(t,e){var n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Xle(t,e,n,r,i){var o=[],a=t.headerToolbar?Nj(t.headerToolbar,t,e,n,r,i,o):null,l=t.footerToolbar?Nj(t.footerToolbar,t,e,n,r,i,o):null;return{headerToolbar:a,footerToolbar:l,viewsWithButtons:o}}function Nj(t,e,n,r,i,o,a){return Ni(t,function(l){return Qle(l,e,n,r,i,o,a)})}function Qle(t,e,n,r,i,o,a){var l=e.direction==="rtl",u=e.customButtons||{},d=n.buttonText||{},f=e.buttonText||{},p=t?t.split(" "):[];return p.map(function(v){return v.split(",").map(function(g){if(g==="title")return{buttonName:g};var b,_,E,x,T;return(b=u[g])?(E=function(R){b.click&&b.click.call(R.target,R,R.target)},(x=r.getCustomButtonIconClass(b))||(x=r.getIconClass(g,l))||(T=b.text)):(_=i[g])?(a.push(g),E=function(){o.changeView(g)},(T=_.buttonTextOverride)||(x=r.getIconClass(g,l))||(T=_.buttonTextDefault)):o[g]&&(E=function(){o[g]()},(T=d[g])||(x=r.getIconClass(g,l))||(T=f[g])),{buttonName:g,buttonClick:E,buttonIcon:x,buttonText:T}})})}var Jle={ignoreRange:!0,parseMeta:function(t){return Array.isArray(t.events)?t.events:null},fetch:function(t,e){e({rawEvents:t.eventSource.meta})}},Zle=ai({eventSourceDefs:[Jle]}),ece={parseMeta:function(t){return typeof t.events=="function"?t.events:null},fetch:function(t,e,n){var r=t.context.dateEnv,i=t.eventSource.meta;dle(i.bind(null,Z3(t.range,r)),function(o){e({rawEvents:o})},n)}},tce=ai({eventSourceDefs:[ece]});function nce(t,e,n,r,i){t=t.toUpperCase();var o=null;t==="GET"?e=rce(e,n):o=Oj(n);var a=new XMLHttpRequest;a.open(t,e,!0),t!=="GET"&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(a.status>=200&&a.status<400){var l=!1,u=void 0;try{u=JSON.parse(a.responseText),l=!0}catch(d){}l?r(u,a):i("Failure parsing JSON",a)}else i("Request failed",a)},a.onerror=function(){i("Request failed",a)},a.send(o)}function rce(t,e){return t+(t.indexOf("?")===-1?"?":"&")+Oj(e)}function Oj(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var ice={method:String,extraParams:B,startParam:String,endParam:String,timeZoneParam:String},oce={parseMeta:function(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch:function(t,e,n){var r=t.eventSource.meta,i=ace(r,t.range,t.context);nce(r.method,r.url,i,function(o,a){e({rawEvents:o,xhr:a})},function(o,a){n({message:o,xhr:a})})}},sce=ai({eventSourceRefiners:ice,eventSourceDefs:[oce]});function ace(t,e,n){var r=n.dateEnv,i=n.options,o,a,l,u,d={};return o=t.startParam,o==null&&(o=i.startParam),a=t.endParam,a==null&&(a=i.endParam),l=t.timeZoneParam,l==null&&(l=i.timeZoneParam),typeof t.extraParams=="function"?u=t.extraParams():u=t.extraParams||{},C(d,u),d[o]=r.formatIso(e.start),d[a]=r.formatIso(e.end),r.timeZone!=="local"&&(d[l]=r.timeZone),d}var lce={daysOfWeek:B,startTime:Ce,endTime:Ce,duration:Ce,startRecur:B,endRecur:B},cce={parse:function(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){var n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r=void 0;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=$se(t.endTime,t.startTime)),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:r,typeData:n}}return null},expand:function(t,e,n){var r=Ys(e,{start:t.startRecur,end:t.endRecur});return r?dce(t.daysOfWeek,t.startTime,r,n):[]}},uce=ai({recurringTypes:[cce],eventRefiners:lce});function dce(t,e,n,r){for(var i=t?R3(t):null,o=Xe(n.start),a=n.end,l=[];o<a;){var u=void 0;(!i||i[o.getUTCDay()])&&(e?u=r.add(o,e):u=o,l.push(u)),o=Pn(o,1)}return l}var fce=ai({optionChangeHandlers:{events:function(t,e){Pj([t],e)},eventSources:Pj}});function Pj(t,e){for(var n=dI(e.getCurrentData().eventSources),r=[],i=0,o=t;i<o.length;i++){for(var a=o[i],l=!1,u=0;u<n.length;u+=1)if(n[u]._raw===a){n.splice(u,1),l=!0;break}l||r.push(a)}for(var d=0,f=n;d<f.length;d++){var p=f[d];e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p.sourceId})}for(var v=0,g=r;v<g.length;v++){var b=g[v];e.calendarApi.addEventSource(b)}}function hce(t,e){e.emitter.trigger("datesSet",C(C({},Z3(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function pce(t,e){var n=e.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Xs(t,e))}var mce=[Zle,tce,sce,uce,fce,ai({isLoadingFuncs:[function(t){return Tj(t.eventSources)}],contentTypeHandlers:{html:function(){return{render:vce}},domNodes:function(){return{render:gce}}},propSetHandlers:{dateProfile:hce,eventStore:pce}})];function vce(t,e){t.innerHTML=e}function gce(t,e){var n=Array.prototype.slice.call(t.childNodes),r=Array.prototype.slice.call(e);if(!Rl(n,r)){for(var i=0,o=r;i<o.length;i++){var a=o[i];t.appendChild(a)}n.forEach(Iy)}}var tb=function(){function t(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return t.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},t.prototype.pause=function(e){e===void 0&&(e="");var n=this.pauseDepths;n[e]=(n[e]||0)+1,this.clearTimeout()},t.prototype.resume=function(e,n){e===void 0&&(e="");var r=this.pauseDepths;if(e in r){if(n)delete r[e];else{r[e]-=1;var i=r[e];i<=0&&delete r[e]}this.tryDrain()}},t.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},t.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},t.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},t.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},t.prototype.drained=function(){this.drainedOption&&this.drainedOption()},t}(),yce=function(){function t(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new tb(this.drain.bind(this))}return t.prototype.request=function(e,n){this.queue.push(e),this.delayedRunner.request(n)},t.prototype.pause=function(e){this.delayedRunner.pause(e)},t.prototype.resume=function(e,n){this.delayedRunner.resume(e,n)},t.prototype.drain=function(){for(var e=this.queue;e.length;){for(var n=[],r=void 0;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}},t.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},t.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},t}();function bce(t,e,n){var r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Mt(e.titleFormat||_ce(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function _ce(t){var e=t.currentRangeUnit;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};var n=ky(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var UI=function(){function t(e){var n=this;this.computeOptionsData=ce(this._computeOptionsData),this.computeCurrentViewData=ce(this._computeCurrentViewData),this.organizeRawLocales=ce(Qae),this.buildLocale=ce(sj),this.buildPluginHooks=ble(),this.buildDateEnv=ce(wce),this.buildTheme=ce(Ece),this.parseToolbars=ce(Xle),this.buildViewSpecs=ce(Cle),this.buildDateProfileGenerator=Py(xce),this.buildViewApi=ce(Sce),this.buildViewUiProps=Py(Ice),this.buildEventUiBySource=ce(Tce,uo),this.buildEventUiBases=ce(Cce),this.parseContextBusinessHours=Py(Ace),this.buildTitle=ce(bce),this.emitter=new Hh,this.actionRunner=new yce(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return n.data},this.dispatch=function(R){n.actionRunner.request(R)},this.props=e,this.actionRunner.pause();var r={},i=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),o=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(o,i,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);var l=qae(i.calendarOptions,i.dateEnv),u=a.dateProfileGenerator.build(l);fo(u.activeRange,l)||(l=u.currentRange.start);for(var d={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},f=0,p=i.pluginHooks.contextInit;f<p.length;f++){var v=p[f];v(d)}for(var g=Nle(i.calendarOptions,u,d),b={dynamicOptionOverrides:r,currentViewType:o,currentDate:l,dateProfile:u,businessHours:this.parseContextBusinessHours(d),eventSources:g,eventUiBases:{},eventStore:xn(),renderableEventStore:xn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},_=C(C({},d),b),E=0,x=i.pluginHooks.reducers;E<x.length;E++){var T=x[E];C(b,T(null,null,_))}BI(b,d)&&this.emitter.trigger("loading",!0),this.state=b,this.updateData(),this.actionRunner.resume()}return t.prototype.resetOptions=function(e,n){var r=this.props;r.optionOverrides=n?C(C({},r.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},t.prototype._handleAction=function(e){var n=this,r=n.props,i=n.state,o=n.emitter,a=kle(i.dynamicOptionOverrides,e),l=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),u=Rle(i.currentViewType,e),d=this.computeCurrentViewData(u,l,r.optionOverrides,a);r.calendarApi.currentDataManager=this,o.setThisContext(r.calendarApi),o.setOptions(d.options);var f={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:o,getCurrentData:this.getCurrentData},p=i.currentDate,v=i.dateProfile;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(v=d.dateProfileGenerator.build(p)),p=jae(p,e),v=Dle(v,e,p,d.dateProfileGenerator),fo(v.currentRange,p)||(p=v.currentRange.start);for(var g=Ole(i.eventSources,e,v,f),b=Vle(i.eventStore,e,g,v,f),_=Tj(g),E=_&&!d.options.progressiveEventRendering&&i.renderableEventStore||b,x=this.buildViewUiProps(f),T=x.eventUiSingleBase,R=x.selectionConfig,P=this.buildEventUiBySource(g),L=this.buildEventUiBases(E.defs,T,P),F={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:v,eventSources:g,eventStore:b,renderableEventStore:E,selectionConfig:R,eventUiBases:L,businessHours:this.parseContextBusinessHours(f),dateSelection:Gle(i.dateSelection,e),eventSelection:Kle(i.eventSelection,e),eventDrag:$le(i.eventDrag,e),eventResize:Yle(i.eventResize,e)},G=C(C({},f),F),Y=0,$=l.pluginHooks.reducers;Y<$.length;Y++){var ze=$[Y];C(F,ze(i,e,G))}var O=BI(i,f),Zn=BI(F,f);!O&&Zn?o.trigger("loading",!0):O&&!Zn&&o.trigger("loading",!1),this.state=F,r.onAction&&r.onAction(e)},t.prototype.updateData=function(){var e=this,n=e.props,r=e.state,i=this.data,o=this.computeOptionsData(n.optionOverrides,r.dynamicOptionOverrides,n.calendarApi),a=this.computeCurrentViewData(r.currentViewType,o,n.optionOverrides,r.dynamicOptionOverrides),l=this.data=C(C(C({viewTitle:this.buildTitle(r.dateProfile,a.options,o.dateEnv),calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o),a),r),u=o.pluginHooks.optionChangeHandlers,d=i&&i.calendarOptions,f=o.calendarOptions;if(d&&d!==f){d.timeZone!==f.timeZone&&(r.eventSources=l.eventSources=Ple(l.eventSources,r.dateProfile,l),r.eventStore=l.eventStore=zle(l.eventStore,i.dateEnv,l.dateEnv));for(var p in u)d[p]!==f[p]&&u[p](f[p],l)}n.onData&&n.onData(l)},t.prototype._computeOptionsData=function(e,n,r){var i=this.processRawCalendarOptions(e,n),o=i.refinedOptions,a=i.pluginHooks,l=i.localeDefaults,u=i.availableLocaleData,d=i.extra;Mj(d);var f=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,a,u,o.defaultRangeSeparator),p=this.buildViewSpecs(a.views,e,n,l),v=this.buildTheme(o,a),g=this.parseToolbars(o,e,v,p,r);return{calendarOptions:o,pluginHooks:a,dateEnv:f,viewSpecs:p,theme:v,toolbarConfig:g,localeDefaults:l,availableRawLocales:u.map}},t.prototype.processRawCalendarOptions=function(e,n){var r=gI([kl,e,n]),i=r.locales,o=r.locale,a=this.organizeRawLocales(i),l=a.map,u=this.buildLocale(o||a.defaultCode,l).options,d=this.buildPluginHooks(e.plugins||[],mce),f=this.currentCalendarOptionsRefiners=C(C(C(C(C({},B3),V3),H3),d.listenerRefiners),d.optionRefiners),p={},v=gI([kl,u,e,n]),g={},b=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,E=!1;for(var x in v)x!=="plugins"&&(v[x]===b[x]||vI[x]&&x in b&&vI[x](b[x],v[x])?g[x]=_[x]:f[x]?(g[x]=f[x](v[x]),E=!0):p[x]=b[x]);return E&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=g),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:a,localeDefaults:u,extra:p}},t.prototype._computeCurrentViewData=function(e,n,r,i){var o=n.viewSpecs[e];if(!o)throw new Error('viewType "'+e+`" is not available. Please make sure you've loaded all neccessary plugins`);var a=this.processRawViewOptions(o,n.pluginHooks,n.localeDefaults,r,i),l=a.refinedOptions,u=a.extra;Mj(u);var d=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,monthMode:l.monthMode,fixedWeekCount:l.fixedWeekCount}),f=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:o,options:l,dateProfileGenerator:d,viewApi:f}},t.prototype.processRawViewOptions=function(e,n,r,i,o){var a=gI([kl,e.optionDefaults,r,i,e.optionOverrides,o]),l=C(C(C(C(C(C({},B3),V3),H3),fae),n.listenerRefiners),n.optionRefiners),u={},d=this.currentViewOptionsInput,f=this.currentViewOptionsRefined,p=!1,v={};for(var g in a)a[g]===d[g]?u[g]=f[g]:(a[g]===this.currentCalendarOptionsInput[g]?g in this.currentCalendarOptionsRefined&&(u[g]=this.currentCalendarOptionsRefined[g]):l[g]?u[g]=l[g](a[g]):v[g]=a[g],p=!0);return p&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=u),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:v}},t}();function wce(t,e,n,r,i,o,a,l){var u=sj(e||a.defaultCode,a.map);return new Yae({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:u,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:l})}function Ece(t,e){var n=e.themeClasses[t.themeSystem]||Qs;return new n(t)}function xce(t){var e=t.dateProfileGeneratorClass||LI;return new e(t)}function Sce(t,e,n){return new Bae(t,e,n)}function Tce(t){return Ni(t,function(e){return e.ui})}function Cce(t,e,n){var r={"":e};for(var i in t){var o=t[i];o.sourceId&&n[o.sourceId]&&(r[i]=n[o.sourceId])}return r}function Ice(t){var e=t.options;return{eventUiSingleBase:zy({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:zy({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function BI(t,e){for(var n=0,r=e.pluginHooks.isLoadingFuncs;n<r.length;n++){var i=r[n];if(i(t))return!0}return!1}function Ace(t){return tle(t.options.businessHours,t)}function Mj(t,e){for(var n in t)console.warn("Unknown option '"+n+"'"+(e?" for view '"+e+"'":""))}var VEe=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;return r.handleData=function(i){r.dataManager?r.setState(i):r.state=i},r.dataManager=new UI({optionOverrides:n.optionOverrides,calendarApi:n.calendarApi,onData:r.handleData}),r}return e.prototype.render=function(){return this.props.children(this.state)},e.prototype.componentDidUpdate=function(n){var r=this.props.optionOverrides;r!==n.optionOverrides&&this.dataManager.resetOptions(r)},e}(Cy);var HEe=function(){function t(e){this.timeZoneName=e}return t}(),nb=function(){function t(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return t.prototype.addSegs=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.insertEntry({segInput:o,spanStart:o.spanStart,spanEnd:o.spanEnd,thickness:o.thickness},n)}return n},t.prototype.insertEntry=function(e,n){var r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)},t.prototype.isInsertionValid=function(e,n){return(this.maxCoord===-1||e.levelCoord+n.thickness<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)},t.prototype.handleInvalidInsertion=function(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)},t.prototype.splitEntry=function(e,n,r){var i=0,o=[];return e.spanStart<n.spanStart&&(i+=this.insertEntry(C(C({},e),{spanStart:e.spanStart,spanEnd:n.spanStart}),o)),n.spanEnd<e.spanEnd&&(i+=this.insertEntry(C(C({},e),{spanStart:n.spanEnd,spanEnd:e.spanEnd}),o)),i?(r.push.apply(r,wt([C(C({},e),{spanStart:Math.max(n.spanStart,e.spanStart),spanEnd:Math.min(n.spanEnd,e.spanEnd)})],o)),i):(r.push(e),0)},t.prototype.insertEntryAt=function(e,n){var r=n.nextLevel;!r||this.levelCoords[r-1]<n.levelCoord?(HI(this.levelCoords,r,n.levelCoord),HI(this.entriesByLevel,r,[e])):HI(this.entriesByLevel[r-1],n.lateralEnd,e),this.stackCnts[zo(e)]=n.stackCnt},t.prototype.findInsertion=function(e){var n=this,r=n.levelCoords,i=n.entriesByLevel,o=n.stackCnts,a=n.strictOrder,l=r.length,u,d,f=0,p=0,v=0,g=null;for(u=0;u<l&&(d=r[u],!(!a&&d>=v+e.thickness));u+=1){var b=i[u],_=void 0,E=jI(b,e.spanStart,VI);for(f=E[0]+E[1],p=f;(_=b[p])&&_.spanStart<e.spanEnd;)(a||v<d+_.thickness&&v+e.thickness>d)&&(g=_,v=d+_.thickness),p+=1}return{levelCoord:v,nextLevel:u,lateralStart:f,lateralEnd:p,touchingEntry:g,stackCnt:g?o[zo(g)]+1:0}},t.prototype.toRects=function(){for(var e=this,n=e.entriesByLevel,r=e.levelCoords,i=n.length,o=[],a=0;a<i;a+=1)for(var l=n[a],u=r[a],d=0,f=l;d<f.length;d++){var p=f[d];o.push(C(C({},p),{levelCoord:u}))}return o},t}();function VI(t){return t.spanEnd}function zo(t){return t.segInput.index+":"+t.spanStart}function Lj(t){for(var e=[],n=0,r=t;n<r.length;n++){for(var i=r[n],o=[],a={spanStart:i.spanStart,spanEnd:i.spanEnd,entries:[i]},l=0,u=e;l<u.length;l++){var d=u[l];d.spanStart<a.spanEnd&&d.spanEnd>a.spanStart?a={spanStart:Math.min(d.spanStart,a.spanStart),spanEnd:Math.max(d.spanEnd,a.spanEnd),entries:d.entries.concat(a.entries)}:o.push(d)}o.push(a),e=o}return e}function HI(t,e,n){t.splice(e,0,n)}function jI(t,e,n){var r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){var o=Math.floor(r+(i-r)/2),a=n(t[o]);if(e<a)i=o;else if(e>a)r=o+1;else return[o,1]}return[r,0]}var Ml=function(){function t(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return t.prototype.destroy=function(){},t}();function Rce(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function rb(t){var e;return e={},e[t.component.uid]=t,e}var qh={},qI=function(){function t(e,n){this.emitter=new Hh}return t.prototype.destroy=function(){},t.prototype.setMirrorIsVisible=function(e){},t.prototype.setMirrorNeedsRevert=function(e){},t.prototype.setAutoScrollEnabled=function(e){},t}(),zh={},kce={startTime:Ce,duration:Ce,create:Boolean,sourceId:String};function ib(t){var e=By(t,kce),n=e.refined,r=e.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:n.create!=null?n.create:!0,sourceId:n.sourceId,leftoverProps:r}}var Dce=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=this.props.widgetGroups.map(function(i){return n.renderWidgetGroup(i)});return A.apply(void 0,wt(["div",{className:"fc-toolbar-chunk"}],r))},e.prototype.renderWidgetGroup=function(n){for(var r=this.props,i=this.context.theme,o=[],a=!0,l=0,u=n;l<u.length;l++){var d=u[l],f=d.buttonName,p=d.buttonClick,v=d.buttonText,g=d.buttonIcon;if(f==="title")a=!1,o.push(A("h2",{className:"fc-toolbar-title"},r.title));else{var b=g?{"aria-label":f}:{},_=["fc-"+f+"-button",i.getClass("button")];f===r.activeButton&&_.push(i.getClass("buttonActive"));var E=!r.isTodayEnabled&&f==="today"||!r.isPrevEnabled&&f==="prev"||!r.isNextEnabled&&f==="next";o.push(A("button",C({disabled:E,className:_.join(" "),onClick:p,type:"button"},b),v||(g?A("span",{className:g}):"")))}}if(o.length>1){var x=a&&i.getClass("buttonGroup")||"";return A.apply(void 0,wt(["div",{className:x}],o))}return o[0]},e}(Pe),Fj=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=n.model,i=n.extraClassName,o=!1,a,l,u=r.center;r.left?(o=!0,a=r.left):a=r.start,r.right?(o=!0,l=r.right):l=r.end;var d=[i||"","fc-toolbar",o?"fc-toolbar-ltr":""];return A("div",{className:d.join(" ")},this.renderSection("start",a||[]),this.renderSection("center",u||[]),this.renderSection("end",l||[]))},e.prototype.renderSection=function(n,r){var i=this.props;return A(Dce,{key:n,widgetGroups:r,title:i.title,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled})},e}(Pe),Nce=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={availableWidth:null},n.handleEl=function(r){n.el=r,Mr(n.props.elRef,r),n.updateAvailableWidth()},n.handleResize=function(){n.updateAvailableWidth()},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=r.aspectRatio,a=["fc-view-harness",o||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",u="";return o?i.availableWidth!==null?l=i.availableWidth/o:u=1/o*100+"%":l=r.height||"",A("div",{ref:this.handleEl,onClick:r.onClick,className:a.join(" "),style:{height:l,paddingBottom:u}},r.children)},e.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},e.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},e}(Pe),Oce=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;return r.handleSegClick=function(i,o){var a=r.component,l=a.context,u=Nl(o);if(u&&a.isValidSegDownEl(i.target)){var d=En(i.target,".fc-event-forced-url"),f=d?d.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:o,event:new bt(a.context,u.eventRange.def,u.eventRange.instance),jsEvent:i,view:l.viewApi}),f&&!i.defaultPrevented&&(window.location.href=f)}},r.destroy=v3(n.el,"click",".fc-event",r.handleSegClick),r}return e}(Ml),Pce=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;return r.handleEventElRemove=function(i){i===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(i,o){Nl(o)&&(r.currentSegEl=o,r.triggerEvent("eventMouseEnter",i,o))},r.handleSegLeave=function(i,o){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",i,o))},r.removeHoverListeners=Sse(n.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return e.prototype.destroy=function(){this.removeHoverListeners()},e.prototype.triggerEvent=function(n,r,i){var o=this.component,a=o.context,l=Nl(i);(!r||o.isValidSegDownEl(r.target))&&a.emitter.trigger(n,{el:i,event:new bt(a,l.eventRange.def,l.eventRange.instance),jsEvent:r,view:a.viewApi})},e}(Ml),Uj=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildViewContext=ce(mle),n.buildViewPropTransformers=ce(Lce),n.buildToolbarProps=ce(Mce),n.handleNavLinkClick=m3("a[data-navlink]",n._handleNavLinkClick.bind(n)),n.headerRef=It(),n.footerRef=It(),n.interactionsStore={},n.registerInteractiveComponent=function(r,i){var o=Rce(r,i),a=[Oce,Pce],l=a.concat(n.props.pluginHooks.componentInteractions),u=l.map(function(d){return new d(o)});n.interactionsStore[r.uid]=u,qh[r.uid]=o},n.unregisterInteractiveComponent=function(r){for(var i=0,o=n.interactionsStore[r.uid];i<o.length;i++){var a=o[i];a.destroy()}delete n.interactionsStore[r.uid],delete qh[r.uid]},n.resizeRunner=new tb(function(){n.props.emitter.trigger("_resize",!0),n.props.emitter.trigger("windowResize",{view:n.props.viewApi})}),n.handleWindowResize=function(r){var i=n.props.options;i.handleWindowResize&&r.target===window&&n.resizeRunner.request(i.windowResizeDelay)},n}return e.prototype.render=function(){var n=this.props,r=n.toolbarConfig,i=n.options,o=this.buildToolbarProps(n.viewSpec,n.dateProfile,n.dateProfileGenerator,n.currentDate,Vh(n.options.now,n.dateEnv),n.viewTitle),a=!1,l="",u;n.isHeightAuto||n.forPrint?l="":i.height!=null?a=!0:i.contentHeight!=null?l=i.contentHeight:u=Math.max(i.aspectRatio,.5);var d=this.buildViewContext(n.viewSpec,n.viewApi,n.options,n.dateProfileGenerator,n.dateEnv,n.theme,n.pluginHooks,n.dispatch,n.getCurrentData,n.emitter,n.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent);return A(po.Provider,{value:d},r.headerToolbar&&A(Fj,C({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.headerToolbar},o)),A(Nce,{liquid:a,height:l,aspectRatio:u,onClick:this.handleNavLinkClick},this.renderView(n),this.buildAppendContent()),r.footerToolbar&&A(Fj,C({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footerToolbar},o)))},e.prototype.componentDidMount=function(){var n=this.props;this.calendarInteractions=n.pluginHooks.calendarInteractions.map(function(o){return new o(n)}),window.addEventListener("resize",this.handleWindowResize);var r=n.pluginHooks.propSetHandlers;for(var i in r)r[i](n[i],n)},e.prototype.componentDidUpdate=function(n){var r=this.props,i=r.pluginHooks.propSetHandlers;for(var o in i)r[o]!==n[o]&&i[o](r[o],r)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var n=0,r=this.calendarInteractions;n<r.length;n++){var i=r[n];i.destroy()}this.props.emitter.trigger("_unmount")},e.prototype._handleNavLinkClick=function(n,r){var i=this.props,o=i.dateEnv,a=i.options,l=i.calendarApi,u=r.getAttribute("data-navlink");u=u?JSON.parse(u):{};var d=o.createMarker(u.date),f=u.type,p=f==="day"?a.navLinkDayClick:f==="week"?a.navLinkWeekClick:null;typeof p=="function"?p.call(l,o.toDate(d),n):(typeof p=="string"&&(f=p),l.zoomTo(d,f))},e.prototype.buildAppendContent=function(){var n=this.props,r=n.pluginHooks.viewContainerAppends.map(function(i){return i(n)});return A.apply(void 0,wt([Pt,{}],r))},e.prototype.renderView=function(n){for(var r=n.pluginHooks,i=n.viewSpec,o={dateProfile:n.dateProfile,businessHours:n.businessHours,eventStore:n.renderableEventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,isHeightAuto:n.isHeightAuto,forPrint:n.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers),l=0,u=a;l<u.length;l++){var d=u[l];C(o,d.transform(o,n))}var f=i.component;return A(f,C({},o))},e}(eb);function Mce(t,e,n,r,i,o){var a=n.build(i,void 0,!1),l=n.buildPrev(e,r,!1),u=n.buildNext(e,r,!1);return{title:o,activeButton:t.type,isTodayEnabled:a.isValid&&!fo(e.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:u.isValid}}function Lce(t){return t.map(function(e){return new e})}var Bj=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={forPrint:!1},n.handleBeforePrint=function(){n.setState({forPrint:!0})},n.handleAfterPrint=function(){n.setState({forPrint:!1})},n}return e.prototype.render=function(){var n=this.props,r=n.options,i=this.state.forPrint,o=i||r.height==="auto"||r.contentHeight==="auto",a=!o&&r.height!=null?r.height:"",l=["fc",i?"fc-media-print":"fc-media-screen","fc-direction-"+r.direction,n.theme.getClass("root")];return fj()||l.push("fc-liquid-hack"),n.children(l,a,o,i)},e.prototype.componentDidMount=function(){var n=this.props.emitter;n.on("_beforeprint",this.handleBeforePrint),n.on("_afterprint",this.handleAfterPrint)},e.prototype.componentWillUnmount=function(){var n=this.props.emitter;n.off("_beforeprint",this.handleBeforePrint),n.off("_afterprint",this.handleAfterPrint)},e}(Pe);function Fce(t,e){return!t||e>10?Mt({weekday:"short"}):e>1?Mt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Mt({weekday:"long"})}var Vj="fc-col-header-cell";function Hj(t){return t.text}var Uce=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.context,r=n.dateEnv,i=n.options,o=n.theme,a=n.viewApi,l=this.props,u=l.date,d=l.dateProfile,f=pj(u,l.todayRange,null,d),p=[Vj].concat(RI(f,o)),v=r.format(u,l.dayHeaderFormat),g=i.navLinks&&!f.isDisabled&&l.colCnt>1?{"data-navlink":Qu(u),tabIndex:0}:{},b=C(C(C({date:r.toDate(u),view:a},l.extraHookProps),{text:v}),f);return A(Pi,{hookProps:b,classNames:i.dayHeaderClassNames,content:i.dayHeaderContent,defaultContent:Hj,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},function(_,E,x,T){return A("th",C({ref:_,className:p.concat(E).join(" "),"data-date":f.isDisabled?void 0:pI(u),colSpan:l.colSpan},l.extraDataAttrs),A("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&A("a",C({ref:x,className:["fc-col-header-cell-cushion",l.isSticky?"fc-sticky":""].join(" ")},g),T)))})},e}(Pe),Bce=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context,i=r.dateEnv,o=r.theme,a=r.viewApi,l=r.options,u=Pn(new Date(2592e5),n.dow),d={dow:n.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=[Vj].concat(RI(d,o),n.extraClassNames||[]),p=i.format(u,n.dayHeaderFormat),v=C(C(C(C({date:u},d),{view:a}),n.extraHookProps),{text:p});return A(Pi,{hookProps:v,classNames:l.dayHeaderClassNames,content:l.dayHeaderContent,defaultContent:Hj,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},function(g,b,_,E){return A("th",C({ref:g,className:f.concat(b).join(" "),colSpan:n.colSpan},n.extraDataAttrs),A("div",{className:"fc-scrollgrid-sync-inner"},A("a",{className:["fc-col-header-cell-cushion",n.isSticky?"fc-sticky":""].join(" "),ref:_},E)))})},e}(Pe),Ju=function(t){M(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.initialNowDate=Vh(r.options.now,r.dateEnv),i.initialNowQueriedMs=new Date().valueOf(),i.state=i.computeTiming().currentState,i}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return r.children(i.nowDate,i.todayRange)},e.prototype.componentDidMount=function(){this.setTimeout()},e.prototype.componentDidUpdate=function(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},e.prototype.componentWillUnmount=function(){this.clearTimeout()},e.prototype.computeTiming=function(){var n=this,r=n.props,i=n.context,o=Il(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),a=i.dateEnv.startOf(o,r.unit),l=i.dateEnv.add(a,Ce(1,r.unit)),u=l.valueOf()-o.valueOf();return u=Math.min(1e3*60*60*24,u),{currentState:{nowDate:a,todayRange:jj(a)},nextState:{nowDate:l,todayRange:jj(l)},waitMs:u}},e.prototype.setTimeout=function(){var n=this,r=this.computeTiming(),i=r.nextState,o=r.waitMs;this.timeoutId=setTimeout(function(){n.setState(i,function(){n.setTimeout()})},o)},e.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e.contextType=po,e}(Cy);function jj(t){var e=Xe(t),n=Pn(e,1);return{start:e,end:n}}var ob=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.createDayHeaderFormatter=ce(Vce),n}return e.prototype.render=function(){var n=this.context,r=this.props,i=r.dates,o=r.dateProfile,a=r.datesRepDistinctDays,l=r.renderIntro,u=this.createDayHeaderFormatter(n.options.dayHeaderFormat,a,i.length);return A(Ju,{unit:"day"},function(d,f){return A("tr",null,l&&l("day"),i.map(function(p){return a?A(Uce,{key:p.toISOString(),date:p,dateProfile:o,todayRange:f,colCnt:i.length,dayHeaderFormat:u}):A(Bce,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:u})}))})},e}(Pe);function Vce(t,e,n){return t||Fce(e,n)}var sb=function(){function t(e,n){for(var r=e.start,i=e.end,o=[],a=[],l=-1;r<i;)n.isHiddenDay(r)?o.push(l+.5):(l+=1,o.push(l),a.push(r)),r=Pn(r,1);this.dates=a,this.indices=o,this.cnt=a.length}return t.prototype.sliceRange=function(e){var n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Pn(e.end,-1)),i=Math.max(0,n),o=Math.min(this.cnt-1,r);return i=Math.ceil(i),o=Math.floor(o),i<=o?{firstIndex:i,lastIndex:o,isStart:n===i,isEnd:r===o}:null},t.prototype.getDateDayIndex=function(e){var n=this.indices,r=Math.floor(Gs(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]},t}(),ab=function(){function t(e,n){var r=e.dates,i,o,a;if(n){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);a=Math.ceil(r.length/i)}else a=1,i=r.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return t.prototype.buildCells=function(){for(var e=[],n=0;n<this.rowCnt;n+=1){for(var r=[],i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e},t.prototype.buildCell=function(e,n){var r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}},t.prototype.buildHeaderDates=function(){for(var e=[],n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e},t.prototype.sliceRange=function(e){var n=this.colCnt,r=this.daySeries.sliceRange(e),i=[];if(r)for(var o=r.firstIndex,a=r.lastIndex,l=o;l<=a;){var u=Math.floor(l/n),d=Math.min((u+1)*n,a+1);i.push({row:u,firstCol:l%n,lastCol:(d-1)%n,isStart:r.isStart&&l===o,isEnd:r.isEnd&&d-1===a}),l=d}return i},t}(),lb=function(){function t(){this.sliceBusinessHours=ce(this._sliceBusinessHours),this.sliceDateSelection=ce(this._sliceDateSpan),this.sliceEventStore=ce(this._sliceEventStore),this.sliceEventDrag=ce(this._sliceInteraction),this.sliceEventResize=ce(this._sliceInteraction),this.forceDayIfListItem=!1}return t.prototype.sliceProps=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var l=e.eventUiBases,u=this.sliceEventStore.apply(this,wt([e.eventStore,l,n,r],o));return{dateSelectionSegs:this.sliceDateSelection.apply(this,wt([e.dateSelection,l,i],o)),businessHourSegs:this.sliceBusinessHours.apply(this,wt([e.businessHours,n,r,i],o)),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag.apply(this,wt([e.eventDrag,l,n,r],o)),eventResize:this.sliceEventResize.apply(this,wt([e.eventResize,l,n,r],o)),eventSelection:e.eventSelection}},t.prototype.sliceNowDate=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this._sliceDateSpan.apply(this,wt([{range:{start:e,end:Il(e,1)},allDay:!1},{},n],r))},t.prototype._sliceBusinessHours=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return e?this._sliceEventStore.apply(this,wt([$u(e,zI(n,Boolean(r)),i),{},n,r],o)).bg:[]},t.prototype._sliceEventStore=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(e){var l=$3(e,n,zI(r,Boolean(i)),i);return{bg:this.sliceEventRanges(l.bg,o),fg:this.sliceEventRanges(l.fg,o)}}return{bg:[],fg:[]}},t.prototype._sliceInteraction=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];if(!e)return null;var l=$3(e.mutatedEvents,n,zI(r,Boolean(i)),i);return{segs:this.sliceEventRanges(l.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},t.prototype._sliceDateSpan=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];if(!e)return[];for(var a=Mae(e,n,r),l=this.sliceRange.apply(this,wt([e.range],i)),u=0,d=l;u<d.length;u++){var f=d[u];f.eventRange=a}return l},t.prototype.sliceEventRanges=function(e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];r.push.apply(r,this.sliceEventRange(a,n))}return r},t.prototype.sliceEventRange=function(e,n){var r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Pn(r.start,1)});for(var i=this.sliceRange.apply(this,wt([r],n)),o=0,a=i;o<a.length;o++){var l=a[o];l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd}return i},t}();function zI(t,e){var n=t.activeRange;return e?n:{start:Il(n.start,t.slotMinTime.milliseconds),end:Il(n.end,t.slotMaxTime.milliseconds-864e5)}}function cb(t,e,n){var r=t.mutatedEvents.instances;for(var i in r)if(!Bh(e.validRange,r[i].range))return!1;return zj({eventDrag:t},n)}function qj(t,e,n){return Bh(e.validRange,t.range)?zj({dateSelection:t},n):!1}function zj(t,e){var n=e.getCurrentData(),r=C({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Hce)(r,e)}function Hce(t,e,n,r){return n===void 0&&(n={}),!(t.eventDrag&&!jce(t,e,n,r)||t.dateSelection&&!qce(t,e,n,r))}function jce(t,e,n,r){var i=e.getCurrentData(),o=t.eventDrag,a=o.mutatedEvents,l=a.defs,u=a.instances,d=Ky(l,o.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(d=Ni(d,r));var f=Wle(t.eventStore,o.affectedEvents.instances),p=f.defs,v=f.instances,g=Ky(p,t.eventUiBases);for(var b in u){var _=u[b],E=_.range,x=d[_.defId],T=l[_.defId];if(!Wj(x.constraints,E,f,t.businessHours,e))return!1;var R=e.options.eventOverlap,P=typeof R=="function"?R:null;for(var L in v){var F=v[L];if(wI(E,F.range)){var G=g[F.defId].overlap;if(G===!1&&o.isEvent||x.overlap===!1||P&&!P(new bt(e,p[F.defId],F),new bt(e,T,_)))return!1}}for(var Y=i.eventStore,$=0,ze=x.allows;$<ze.length;$++){var O=ze[$],Zn=C(C({},n),{range:_.range,allDay:T.allDay}),Jt=Y.defs[T.defId],Ll=Y.instances[b],Zs=void 0;if(Jt?Zs=new bt(e,Jt,Ll):Zs=new bt(e,T),!O(SI(Zn,e),Zs))return!1}}return!0}function qce(t,e,n,r){var i=t.eventStore,o=i.defs,a=i.instances,l=t.dateSelection,u=l.range,d=e.getCurrentData().selectionConfig;if(r&&(d=r(d)),!Wj(d.constraints,u,i,t.businessHours,e))return!1;var f=e.options.selectOverlap,p=typeof f=="function"?f:null;for(var v in a){var g=a[v];if(wI(u,g.range)&&(d.overlap===!1||p&&!p(new bt(e,o[g.defId],g),null)))return!1}for(var b=0,_=d.allows;b<_.length;b++){var E=_[b],x=C(C({},n),l);if(!E(SI(x,e),null))return!1}return!0}function Wj(t,e,n,r,i){for(var o=0,a=t;o<a.length;o++){var l=a[o];if(!Wce(zce(l,e,n,r,i),e))return!1}return!0}function zce(t,e,n,r,i){return t==="businessHours"?WI($u(r,e,i)):typeof t=="string"?WI(jy(n,function(o){return o.groupId===t})):typeof t=="object"&&t?WI($u(t,e,i)):[]}function WI(t){var e=t.instances,n=[];for(var r in e)n.push(e[r].range);return n}function Wce(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(Bh(i,e))return!0}return!1}var ub=/^(visible|hidden)$/,Gce=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleEl=function(r){n.el=r,Mr(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this.props,r=n.liquid,i=n.liquidIsAbsolute,o=r&&i,a=["fc-scroller"];return r&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),A("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:n.overflowX,overflowY:n.overflowY,left:o&&-(n.overcomeLeft||0)||"",right:o&&-(n.overcomeRight||0)||"",bottom:o&&-(n.overcomeBottom||0)||"",marginLeft:!o&&-(n.overcomeLeft||0)||"",marginRight:!o&&-(n.overcomeRight||0)||"",marginBottom:!o&&-(n.overcomeBottom||0)||"",maxHeight:n.maxHeight||""}},n.children)},e.prototype.needsXScrolling=function(){if(ub.test(this.props.overflowX))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),i=n.children,o=0;o<i.length;o+=1){var a=i[o];if(a.getBoundingClientRect().width>r)return!0}return!1},e.prototype.needsYScrolling=function(){if(ub.test(this.props.overflowY))return!1;for(var n=this.el,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),i=n.children,o=0;o<i.length;o+=1){var a=i[o];if(a.getBoundingClientRect().height>r)return!0}return!1},e.prototype.getXScrollbarWidth=function(){return ub.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},e.prototype.getYScrollbarWidth=function(){return ub.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},e}(Pe),Mi=function(){function t(e){var n=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(r,i){var o=n,a=o.depths,l=o.currentMap,u=!1,d=!1;r!==null?(u=i in l,l[i]=r,a[i]=(a[i]||0)+1,d=!0):(a[i]-=1,a[i]||(delete l[i],delete n.callbackMap[i],u=!0)),n.masterCallback&&(u&&n.masterCallback(null,String(i)),d&&n.masterCallback(r,String(i)))}}return t.prototype.createRef=function(e){var n=this,r=this.callbackMap[e];return r||(r=this.callbackMap[e]=function(i){n.handleValue(i,String(e))}),r},t.prototype.collect=function(e,n,r){return jse(this.currentMap,e,n,r)},t.prototype.getAll=function(){return dI(this.currentMap)},t}();function Kce(t){for(var e=wse(t,".fc-scrollgrid-shrink"),n=0,r=0,i=e;r<i.length;r++){var o=i[r];n=Math.max(n,Rse(o))}return Math.ceil(n)}function Gj(t,e){return t.liquid&&e.liquid}function $ce(t,e){return e.maxHeight!=null||Gj(t,e)}function Yce(t,e,n){var r=n.expandRows,i=typeof e.content=="function"?e.content(n):A("table",{className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,A("tbody",{},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent));return i}function Xce(t,e){return Rl(t,e,uo)}function Qce(t,e){for(var n=[],r=0,i=t;r<i.length;r++)for(var o=i[r],a=o.span||1,l=0;l<a;l+=1)n.push(A("col",{style:{width:o.width==="shrink"?Jce(e):o.width||"",minWidth:o.minWidth||""}}));return A.apply(void 0,wt(["colgroup",{}],n))}function Jce(t){return t??4}function Zce(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.width==="shrink")return!0}return!1}function eue(t,e){var n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function tue(t,e){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+t.type,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Wh(t){return A("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Zu(t){var e=t.stickyHeaderDates;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function db(t){var e=t.stickyFooterScrollbar;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var Gh=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processCols=ce(function(r){return r},Xce),n.renderMicroColGroup=ce(Qce),n.scrollerRefs=new Mi,n.scrollerElRefs=new Mi(n._handleScrollerEl.bind(n)),n.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},n.handleSizing=function(){n.setState(C({shrinkWidth:n.computeShrinkWidth()},n.computeScrollerDims()))},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state,o=n.context,a=r.sections||[],l=this.processCols(r.cols),u=this.renderMicroColGroup(l,i.shrinkWidth),d=eue(r.liquid,o);r.collapsibleWidth&&d.push("fc-scrollgrid-collapsible");for(var f=a.length,p=0,v,g=[],b=[],_=[];p<f&&(v=a[p]).type==="header";)g.push(this.renderSection(v,u)),p+=1;for(;p<f&&(v=a[p]).type==="body";)b.push(this.renderSection(v,u)),p+=1;for(;p<f&&(v=a[p]).type==="footer";)_.push(this.renderSection(v,u)),p+=1;var E=!fj();return A("table",{className:d.join(" "),style:{height:r.height}},Boolean(!E&&g.length)&&A.apply(void 0,wt(["thead",{}],g)),Boolean(!E&&b.length)&&A.apply(void 0,wt(["tbody",{}],b)),Boolean(!E&&_.length)&&A.apply(void 0,wt(["tfoot",{}],_)),E&&A.apply(void 0,wt(["tbody",{}],g,b,_)))},e.prototype.renderSection=function(n,r){return"outerContent"in n?A(Pt,{key:n.key},n.outerContent):A("tr",{key:n.key,className:tue(n,this.props.liquid).join(" ")},this.renderChunkTd(n,r,n.chunk))},e.prototype.renderChunkTd=function(n,r,i){if("outerContent"in i)return i.outerContent;var o=this.props,a=this.state,l=a.forceYScrollbars,u=a.scrollerClientWidths,d=a.scrollerClientHeights,f=$ce(o,n),p=Gj(o,n),v=o.liquid?l?"scroll":f?"auto":"hidden":"visible",g=n.key,b=Yce(n,i,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&u[g]!==void 0?u[g]:null,clientHeight:d[g]!==void 0?d[g]:null,expandRows:n.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}});return A("td",{ref:i.elRef},A("div",{className:"fc-scroller-harness"+(p?" fc-scroller-harness-liquid":"")},A(Gce,{ref:this.scrollerRefs.createRef(g),elRef:this.scrollerElRefs.createRef(g),overflowY:v,overflowX:o.liquid?"hidden":"visible",maxHeight:n.maxHeight,liquid:p,liquidIsAbsolute:!0},b)))},e.prototype._handleScrollerEl=function(n,r){var i=nue(this.props.sections,r);i&&Mr(i.chunk.scrollerElRef,n)},e.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},e.prototype.componentDidUpdate=function(){this.handleSizing()},e.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},e.prototype.computeShrinkWidth=function(){return Zce(this.props.cols)?Kce(this.scrollerElRefs.getAll()):0},e.prototype.computeScrollerDims=function(){var n=ale(),r=this,i=r.scrollerRefs,o=r.scrollerElRefs,a=!1,l={},u={};for(var d in i.currentMap){var f=i.currentMap[d];if(f&&f.needsYScrolling()){a=!0;break}}for(var p=0,v=this.props.sections;p<v.length;p++){var g=v[p],d=g.key,b=o.currentMap[d];if(b){var _=b.parentNode;l[d]=Math.floor(_.getBoundingClientRect().width-(a?n.y:0)),u[d]=Math.floor(_.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:u}},e}(Pe);Gh.addStateEquality({scrollerClientWidths:uo,scrollerClientHeights:uo});function nue(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.key===e)return i}return null}var fb=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.elRef=It(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=r.seg,l=a.eventRange,u=l.ui,d={event:new bt(i,l.def,l.instance),view:i.viewApi,timeText:r.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!r.disableDragging&&Cae(a,i),isStartResizable:!r.disableResizing&&Iae(a,i),isEndResizable:!r.disableResizing&&Aae(a),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)},f=Rae(d).concat(u.classNames);return A(Pi,{hookProps:d,classNames:o.eventClassNames,content:o.eventContent,defaultContent:r.defaultContent,didMount:o.eventDidMount,willUnmount:o.eventWillUnmount,elRef:this.elRef},function(p,v,g,b){return r.children(p,f.concat(v),g,b,d)})},e.prototype.componentDidMount=function(){X3(this.elRef.current,this.props.seg)},e.prototype.componentDidUpdate=function(n){var r=this.props.seg;r!==n.seg&&X3(this.elRef.current,r)},e}(Pe),hb=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=r.seg,a=i.options.eventTimeFormat||r.defaultTimeFormat,l=EI(o,a,i,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return A(fb,{seg:o,timeText:l,disableDragging:r.disableDragging,disableResizing:r.disableResizing,defaultContent:r.defaultContent||rue,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(u,d,f,p,v){return A("a",C({className:r.extraClassNames.concat(d).join(" "),style:{borderColor:v.borderColor,backgroundColor:v.backgroundColor},ref:u},iue(o)),A("div",{className:"fc-event-main",ref:f,style:{color:v.textColor}},p),v.isStartResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-start"}),v.isEndResizable&&A("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},e}(Pe);function rue(t){return A("div",{className:"fc-event-main-frame"},t.timeText&&A("div",{className:"fc-event-time"},t.timeText),A("div",{className:"fc-event-title-container"},A("div",{className:"fc-event-title fc-sticky"},t.event.title||A(Pt,null,"\xA0"))))}function iue(t){var e=t.eventRange.def.url;return e?{href:e}:{}}var pb=function(t){return A(po.Consumer,null,function(e){var n=e.options,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return A(Pi,{hookProps:r,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)})},oue=Mt({day:"numeric"}),Kh=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=Kj({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv});return A(bj,{hookProps:a,content:o.dayCellContent,defaultContent:r.defaultContent},r.children)},e}(Pe);function Kj(t){var e=t.date,n=t.dateEnv,r=pj(e,t.todayRange,null,t.dateProfile);return C(C(C({date:n.toDate(e),view:t.viewApi},r),{dayNumberText:t.showDayNumber?n.format(e,oue):""}),t.extraProps)}var $h=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refineHookProps=Py(Kj),n.normalizeClassNames=_j(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=this.refineHookProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:i.viewApi,dateEnv:i.dateEnv}),l=RI(a,i.theme).concat(a.isDisabled?[]:this.normalizeClassNames(o.dayCellClassNames,a)),u=a.isDisabled?{}:{"data-date":pI(r.date)};return A(MI,{hookProps:a,didMount:o.dayCellDidMount,willUnmount:o.dayCellWillUnmount,elRef:r.elRef},function(d){return r.children(d,l,u,a.isDisabled)})},e}(Pe);function mb(t){return A("div",{className:"fc-"+t})}var vb=function(t){return A(fb,{defaultContent:sue,seg:t.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},function(e,n,r,i,o){return A("div",{ref:e,className:["fc-bg-event"].concat(n).join(" "),style:{backgroundColor:o.backgroundColor}},i)})};function sue(t){var e=t.event.title;return e&&A("div",{className:"fc-event-title"},t.event.title)}var gb=function(t){return A(po.Consumer,null,function(e){var n=e.dateEnv,r=e.options,i=t.date,o=r.weekNumberFormat||t.defaultFormat,a=n.computeWeekNumber(i),l=n.format(i,o),u={num:a,text:l,date:i};return A(Pi,{hookProps:u,classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:aue,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)})};function aue(t){return t.text}var GI=10,lue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,n.props.elRef&&Mr(n.props.elRef,r)},n.handleDocumentMousedown=function(r){var i=xse(r);n.rootEl.contains(i)||n.handleCloseClick()},n.handleCloseClick=function(){var r=n.props.onClose;r&&r()},n}return e.prototype.render=function(){var n=this.context.theme,r=this.props,i=["fc-popover",n.getClass("popover")].concat(r.extraClassNames||[]);return h3(A("div",C({className:i.join(" ")},r.extraAttrs,{ref:this.handleRootEl}),A("div",{className:"fc-popover-header "+n.getClass("popoverHeader")},A("span",{className:"fc-popover-title"},r.title),A("span",{className:"fc-popover-close "+n.getIconClass("close"),onClick:this.handleCloseClick})),A("div",{className:"fc-popover-body "+n.getClass("popoverContent")},r.children)),r.parentEl)},e.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),this.updateSize()},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown)},e.prototype.updateSize=function(){var n=this.context.isRtl,r=this.props,i=r.alignmentEl,o=r.alignGridTop,a=this.rootEl,l=ule(i);if(l){var u=a.getBoundingClientRect(),d=o?En(i,".fc-scrollgrid").getBoundingClientRect().top:l.top,f=n?l.right-u.width:l.left;d=Math.max(d,GI),f=Math.min(f,document.documentElement.clientWidth-GI-u.width),f=Math.max(f,GI);var p=a.offsetParent.getBoundingClientRect();Wu(a,{top:d-p.top,left:f-p.left})}},e}(Pe),cue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,useEventCenter:!1}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this.context,r=n.options,i=n.dateEnv,o=this.props,a=o.startDate,l=o.todayRange,u=o.dateProfile,d=i.format(a,r.dayPopoverFormat);return A($h,{date:a,dateProfile:u,todayRange:l,elRef:this.handleRootEl},function(f,p,v){return A(lue,{elRef:f,title:d,extraClassNames:["fc-more-popover"].concat(p),extraAttrs:v,parentEl:o.parentEl,alignmentEl:o.alignmentEl,alignGridTop:o.alignGridTop,onClose:o.onClose},A(Kh,{date:a,dateProfile:u,todayRange:l},function(g,b){return b&&A("div",{className:"fc-more-popover-misc",ref:g},b)}),o.children)})},e.prototype.queryHit=function(n,r,i,o){var a=this,l=a.rootEl,u=a.props;return n>=0&&n<i&&r>=0&&r<o?{dateProfile:u.dateProfile,dateSpan:C({allDay:!0,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:i,bottom:o},layer:1}:null},e}(Oi),yb=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.linkElRef=It(),n.state={isPopoverOpen:!1},n.handleClick=function(r){var i=n,o=i.props,a=i.context,l=a.options.moreLinkClick,u=$j(o).start;function d(f){var p=f.eventRange,v=p.def,g=p.instance,b=p.range;return{event:new bt(a,v,g),start:a.dateEnv.toDate(b.start),end:a.dateEnv.toDate(b.end),isStart:f.isStart,isEnd:f.isEnd}}typeof l=="function"&&(l=l({date:u,allDay:Boolean(o.allDayDate),allSegs:o.allSegs.map(d),hiddenSegs:o.hiddenSegs.map(d),jsEvent:r,view:a.viewApi})),!l||l==="popover"?n.setState({isPopoverOpen:!0}):typeof l=="string"&&a.calendarApi.zoomTo(u,l)},n.handlePopoverClose=function(){n.setState({isPopoverOpen:!1})},n}return e.prototype.render=function(){var n=this,r=this.props;return A(po.Consumer,null,function(i){var o=i.viewApi,a=i.options,l=i.calendarApi,u=a.moreLinkText,d=r.moreCnt,f=$j(r),p={num:d,shortText:"+"+d,text:typeof u=="function"?u.call(l,d):"+"+d+" "+u,view:o};return A(Pt,null,Boolean(r.moreCnt)&&A(Pi,{elRef:n.linkElRef,hookProps:p,classNames:a.moreLinkClassNames,content:a.moreLinkContent,defaultContent:r.defaultContent||uue,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},function(v,g,b,_){return r.children(v,["fc-more-link"].concat(g),b,_,n.handleClick)}),n.state.isPopoverOpen&&A(cue,{startDate:f.start,endDate:f.end,dateProfile:r.dateProfile,todayRange:r.todayRange,extraDateSpan:r.extraDateSpan,parentEl:n.parentEl,alignmentEl:r.alignmentElRef.current,alignGridTop:r.alignGridTop,onClose:n.handlePopoverClose},r.popoverContent()))})},e.prototype.componentDidMount=function(){this.updateParentEl()},e.prototype.componentDidUpdate=function(){this.updateParentEl()},e.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=En(this.linkElRef.current,".fc-view-harness"))},e}(Pe);function uue(t){return t.text}function $j(t){if(t.allDayDate)return{start:t.allDayDate,end:Pn(t.allDayDate,1)};var e=t.hiddenSegs;return{start:KI(e),end:fue(e)}}function KI(t){return t.reduce(due).eventRange.range.start}function due(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function fue(t){return t.reduce(hue).eventRange.range.end}function hue(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var Yj=function(t){M(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(o){switch(o.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(o){i.currentData=o,i.renderRunner.request(o.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var o=i.currentData;f3(A(Bj,{options:o.calendarOptions,theme:o.theme,emitter:o.emitter},function(a,l,u,d){return i.setClassNames(a),i.setHeight(l),A(PI.Provider,{value:i.customContentRenderId},A(Uj,C({isHeightAuto:u,forPrint:d},o)))}),i.el)}else i.isRendered&&(i.isRendered=!1,p3(i.el),i.setClassNames([]),i.setHeight(""));oI()},i.el=n,i.renderRunner=new tb(i.handleRenderRequest),new UI({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.isRendering;n?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),n&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){t.prototype.updateSize.call(this),oI()},e.prototype.batchRendering=function(n){this.renderRunner.pause("batchRendering"),n(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(n,r){this.currentDataManager.resetOptions(n,r)},e.prototype.setClassNames=function(n){if(!Rl(n,this.currentClassNames)){for(var r=this.el.classList,i=0,o=this.currentClassNames;i<o.length;i++){var a=o[i];r.remove(a)}for(var l=0,u=n;l<u.length;l++){var a=u[l];r.add(a)}this.currentClassNames=n}},e.prototype.setHeight=function(n){aI(this.el,"height",n)},e}(rj);re();var pue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.headerElRef=It(),n}return e.prototype.renderSimpleLayout=function(n,r){var i=this,o=i.props,a=i.context,l=[],u=Zu(a.options);return n&&l.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),A(Pl,{viewSpec:a.viewSpec},function(d,f){return A("div",{ref:d,className:["fc-daygrid"].concat(f).join(" ")},A(Gh,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[],sections:l}))})},e.prototype.renderHScrollLayout=function(n,r,i,o){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var l=this,u=l.props,d=l.context,f=!u.forPrint&&Zu(d.options),p=!u.forPrint&&db(d.options),v=[];return n&&v.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),v.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),p&&v.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Wh}]}),A(Pl,{viewSpec:d.viewSpec},function(g,b){return A("div",{ref:g,className:["fc-daygrid"].concat(b).join(" ")},A(a,{liquid:!u.isHeightAuto&&!u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:i,minWidth:o}]}],sections:v}))})},e}(Oi);function bb(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];n[a.row].push(a)}return n}function _b(t,e){for(var n=[],r=0;r<e;r+=1)n[r]=[];for(var i=0,o=t;i<o.length;i++){var a=o[i];n[a.firstCol].push(a)}return n}function Xj(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];n[a.row].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var mue=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props,r=this.context.options.navLinks?{"data-navlink":Qu(n.date),tabIndex:0}:{};return A(Kh,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,defaultContent:vue},function(i,o){return(o||n.forceDayTop)&&A("div",{className:"fc-daygrid-day-top",ref:i},A("a",C({className:"fc-daygrid-day-number"},r),o||A(Pt,null,"\xA0")))})},e}(Pe);function vue(t){return t.dayNumberText}var Qj=Mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Jj(t){var e=t.eventRange.ui.display;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var Zj=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return A(hb,C({},n,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Qj,defaultDisplayEventEnd:n.defaultDisplayEventEnd,disableResizing:!n.seg.eventRange.def.allDay}))},e}(Pe),eq=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options.eventTimeFormat||Qj,a=EI(r.seg,o,i,!0,r.defaultDisplayEventEnd);return A(fb,{seg:r.seg,timeText:a,defaultContent:gue,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(l,u,d,f){return A("a",C({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(u).join(" "),ref:l},yue(r.seg)),f)})},e}(Pe);function gue(t){return A(Pt,null,A("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&A("div",{className:"fc-event-time"},t.timeText),A("div",{className:"fc-event-title"},t.event.title||A(Pt,null,"\xA0")))}function yue(t){var e=t.eventRange.def.url;return e?{href:e}:{}}var bue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.compileSegs=ce(_ue),n}return e.prototype.render=function(){var n=this.props,r=this.compileSegs(n.singlePlacements),i=r.allSegs,o=r.invisibleSegs;return A(yb,{dateProfile:n.dateProfile,todayRange:n.todayRange,allDayDate:n.allDayDate,moreCnt:n.moreCnt,allSegs:i,hiddenSegs:o,alignmentElRef:n.alignmentElRef,alignGridTop:n.alignGridTop,extraDateSpan:n.extraDateSpan,popoverContent:function(){var a=(n.eventDrag?n.eventDrag.affectedInstances:null)||(n.eventResize?n.eventResize.affectedInstances:null)||{};return A(Pt,null,i.map(function(l){var u=l.eventRange.instance.instanceId;return A("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:a[u]?"hidden":""}},Jj(l)?A(eq,C({seg:l,isDragging:!1,isSelected:u===n.eventSelection,defaultDisplayEventEnd:!1},ho(l,n.todayRange))):A(Zj,C({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===n.eventSelection,defaultDisplayEventEnd:!1},ho(l,n.todayRange))))}))}},function(a,l,u,d,f){return A("a",{ref:a,className:["fc-daygrid-more-link"].concat(l).join(" "),onClick:f},d)})},e}(Pe);function _ue(t){for(var e=[],n=[],r=0,i=t;r<i.length;r++){var o=i[r];e.push(o.seg),o.isVisible||n.push(o.seg)}return{allSegs:e,invisibleSegs:n}}var wue=Mt({week:"narrow"}),Eue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=It(),n.handleRootEl=function(r){Mr(n.rootElRef,r),Mr(n.props.elRef,r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=n.rootElRef,a=i.options,l=r.date,u=r.dateProfile,d=a.navLinks?{"data-navlink":Qu(l,"week"),tabIndex:0}:{};return A($h,{date:l,dateProfile:u,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},function(f,p,v,g){return A("td",C({ref:f,className:["fc-daygrid-day"].concat(p,r.extraClassNames||[]).join(" ")},v,r.extraDataAttrs),A("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&A(gb,{date:l,defaultFormat:wue},function(b,_,E,x){return A("a",C({ref:b,className:["fc-daygrid-week-number"].concat(_).join(" ")},d),x)}),!g&&A(mue,{date:l,dateProfile:u,showDayNumber:r.showDayNumber,forceDayTop:r.forceDayTop,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),A("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,A("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},A(bue,{allDayDate:l,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:o,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),A("div",{className:"fc-daygrid-day-bg"},r.bgContent)))})},e}(Oi);function xue(t,e,n,r,i,o,a){var l=new Cue;l.allowReslicing=!0,l.strictOrder=r,e===!0||n===!0?(l.maxCoord=o,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);for(var u=[],d=[],f=0;f<t.length;f+=1){var p=t[f],v=p.eventRange.instance.instanceId,g=i[v];g!=null?u.push({index:f,spanStart:p.firstCol,spanEnd:p.lastCol+1,thickness:g}):d.push(p)}for(var b=l.addSegs(u),_=l.toRects(),E=Sue(_,t,a),x=E.singleColPlacements,T=E.multiColPlacements,R=E.leftoverMargins,P=[],L=[],F=0,G=d;F<G.length;F++){var p=G[F];T[p.firstCol].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var Y=p.firstCol;Y<=p.lastCol;Y+=1)x[Y].push({seg:Yh(p,Y,Y+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var Y=0;Y<a.length;Y+=1)P.push(0);for(var $=0,ze=b;$<ze.length;$++){var O=ze[$],p=t[O.segInput.index];T[O.spanStart].push({seg:p,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var Y=O.spanStart;Y<O.spanEnd;Y+=1)P[Y]+=1,x[Y].push({seg:Yh(p,Y,Y+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var Y=0;Y<a.length;Y+=1)L.push(R[Y]);return{singleColPlacements:x,multiColPlacements:T,moreCnts:P,moreMarginTops:L}}function Sue(t,e,n){for(var r=Tue(t,n.length),i=[],o=[],a=[],l=0;l<n.length;l+=1){for(var u=r[l],d=[],f=0,p=0,v=0,g=u;v<g.length;v++){var b=g[v],_=e[b.segInput.index];d.push({seg:Yh(_,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:0,marginTop:b.levelCoord-f}),f=b.levelCoord+b.thickness}var E=[];f=0,p=0;for(var x=0,T=u;x<T.length;x++){var b=T[x],_=e[b.segInput.index],R=b.spanEnd-b.spanStart>1,P=b.spanStart===l;p+=b.levelCoord-f,f=b.levelCoord+b.thickness,R?(p+=b.thickness,P&&E.push({seg:Yh(_,b.spanStart,b.spanEnd,n),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):P&&(E.push({seg:Yh(_,b.spanStart,b.spanEnd,n),isVisible:!0,isAbsolute:!1,absoluteTop:0,marginTop:p}),p=0)}i.push(d),o.push(E),a.push(p)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:a}}function Tue(t,e){for(var n=[],r=0;r<e;r+=1)n.push([]);for(var i=0,o=t;i<o.length;i++)for(var a=o[i],r=a.spanStart;r<a.spanEnd;r+=1)n[r].push(a);return n}function Yh(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;var i=t.eventRange,o=i.range,a=Ys(o,{start:r[e].date,end:Pn(r[n-1].date,1)});return C(C({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:C(C({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:t.isStart&&a.start.valueOf()===o.start.valueOf(),isEnd:t.isEnd&&a.end.valueOf()===o.end.valueOf()})}var Cue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hiddenConsumes=!1,n.forceHidden={},n}return e.prototype.addSegs=function(n){for(var r=this,i=t.prototype.addSegs.call(this,n),o=this.entriesByLevel,a=function(u){return!r.forceHidden[zo(u)]},l=0;l<o.length;l+=1)o[l]=o[l].filter(a);return i},e.prototype.handleInvalidInsertion=function(n,r,i){var o=this,a=o.entriesByLevel,l=o.forceHidden,u=n.nextLevel-1;if(this.hiddenConsumes&&u>=0)for(var d=n.lateralStart;d<n.lateralEnd;d+=1){var f=a[u][d];if(this.allowReslicing){var p=C(C({},f),{spanStart:Math.max(f.spanStart,r.spanStart),spanEnd:Math.min(f.spanEnd,r.spanEnd)}),v=zo(p);l[v]||(l[v]=!0,a[u][d]=p,this.splitEntry(f,r,i))}else{var v=zo(f);l[v]||(l[v]=!0,i.push(f))}}return t.prototype.handleInvalidInsertion.call(this,n,r,i)},e}(nb),tq=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cellElRefs=new Mi,n.frameElRefs=new Mi,n.fgElRefs=new Mi,n.segHarnessRefs=new Mi,n.rootElRef=It(),n.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.state,a=r.context,l=a.options,u=i.cells.length,d=_b(i.businessHourSegs,u),f=_b(i.bgEventSegs,u),p=_b(this.getHighlightSegs(),u),v=_b(this.getMirrorSegs(),u),g=xue($y(i.fgEventSegs,l.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,l.eventOrderStrict,o.eventInstanceHeights,o.maxContentHeight,i.cells),b=g.singleColPlacements,_=g.multiColPlacements,E=g.moreCnts,x=g.moreMarginTops,T=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return A("tr",{ref:this.rootElRef},i.renderIntro&&i.renderIntro(),i.cells.map(function(R,P){var L=n.renderFgSegs(P,i.forPrint?b[P]:_[P],i.todayRange,T),F=n.renderFgSegs(P,Iue(v[P],_),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return A(Eue,{key:R.key,elRef:n.cellElRefs.createRef(R.key),innerElRef:n.frameElRefs.createRef(R.key),dateProfile:i.dateProfile,date:R.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&P===0,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:R.extraHookProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:E[P],moreMarginTop:x[P],singlePlacements:b[P],fgContentElRef:n.fgElRefs.createRef(R.key),fgContent:A(Pt,null,A(Pt,null,L),A(Pt,null,F)),bgContent:A(Pt,null,n.renderFillSegs(p[P],"highlight"),n.renderFillSegs(d[P],"non-business"),n.renderFillSegs(f[P],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(n,r){var i=this.props;this.updateSizing(!uo(n,i))},e.prototype.getHighlightSegs=function(){var n=this.props;return n.eventDrag&&n.eventDrag.segs.length?n.eventDrag.segs:n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:n.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var n=this.props;return n.eventResize&&n.eventResize.segs.length?n.eventResize.segs:[]},e.prototype.renderFgSegs=function(n,r,i,o,a,l,u){var d=this.context,f=this.props.eventSelection,p=this.state.framePositions,v=this.props.cells.length===1,g=a||l||u,b=[];if(p)for(var _=0,E=r;_<E.length;_++){var x=E[_],T=x.seg,R=T.eventRange.instance.instanceId,P=R+":"+n,L=x.isVisible&&!o[R],F=x.isAbsolute,G="",Y="";F&&(d.isRtl?(Y=0,G=p.lefts[T.lastCol]-p.lefts[T.firstCol]):(G=0,Y=p.rights[T.firstCol]-p.rights[T.lastCol])),b.push(A("div",{className:"fc-daygrid-event-harness"+(F?" fc-daygrid-event-harness-abs":""),key:P,ref:g?null:this.segHarnessRefs.createRef(P),style:{visibility:L?"":"hidden",marginTop:F?"":x.marginTop,top:F?x.absoluteTop:"",left:G,right:Y}},Jj(T)?A(eq,C({seg:T,isDragging:a,isSelected:R===f,defaultDisplayEventEnd:v},ho(T,i))):A(Zj,C({seg:T,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:R===f,defaultDisplayEventEnd:v},ho(T,i)))))}return b},e.prototype.renderFillSegs=function(n,r){var i=this.context.isRtl,o=this.props.todayRange,a=this.state.framePositions,l=[];if(a)for(var u=0,d=n;u<d.length;u++){var f=d[u],p=i?{right:0,left:a.lefts[f.lastCol]-a.lefts[f.firstCol]}:{left:0,right:a.rights[f.firstCol]-a.rights[f.lastCol]};l.push(A("div",{key:Yy(f.eventRange),className:"fc-daygrid-bg-harness",style:p},r==="bg-event"?A(vb,C({seg:f},ho(f,o))):mb(r)))}return A.apply(void 0,wt([Pt,{}],l))},e.prototype.updateSizing=function(n){var r=this,i=r.props,o=r.frameElRefs;if(!i.forPrint&&i.clientWidth!==null){if(n){var a=i.cells.map(function(d){return o.currentMap[d.key]});if(a.length){var l=this.rootElRef.current;this.setState({framePositions:new Ol(l,a,!0,!1)})}}var u=i.dayMaxEvents===!0||i.dayMaxEventRows===!0;this.setState({eventInstanceHeights:this.queryEventInstanceHeights(),maxContentHeight:u?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var n=this.segHarnessRefs.currentMap,r={};for(var i in n){var o=Math.round(n[i].getBoundingClientRect().height),a=i.split(":")[0];r[a]=Math.max(r[a]||0,o)}return r},e.prototype.computeMaxContentHeight=function(){var n=this.props.cells[0].key,r=this.cellElRefs.currentMap[n],i=this.fgElRefs.currentMap[n];return r.getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var n=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return n[r.key]})},e}(Oi);tq.addStateEquality({eventInstanceHeights:uo});function Iue(t,e){if(!t.length)return[];var n=Aue(e);return t.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}})}function Aue(t){for(var e={},n=0,r=t;n<r.length;n++)for(var i=r[n],o=0,a=i;o<a.length;o++){var l=a[o];e[l.seg.eventRange.instance.instanceId]=l.absoluteTop}return t}var Rue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitBusinessHourSegs=ce(bb),n.splitBgEventSegs=ce(bb),n.splitFgEventSegs=ce(bb),n.splitDateSelectionSegs=ce(bb),n.splitEventDrag=ce(Xj),n.splitEventResize=ce(Xj),n.rowRefs=new Mi,n.handleRootEl=function(r){n.rootEl=r,r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n}return e.prototype.render=function(){var n=this,r=this.props,i=r.dateProfile,o=r.dayMaxEventRows,a=r.dayMaxEvents,l=r.expandRows,u=r.cells.length,d=this.splitBusinessHourSegs(r.businessHourSegs,u),f=this.splitBgEventSegs(r.bgEventSegs,u),p=this.splitFgEventSegs(r.fgEventSegs,u),v=this.splitDateSelectionSegs(r.dateSelectionSegs,u),g=this.splitEventDrag(r.eventDrag,u),b=this.splitEventResize(r.eventResize,u),_=a===!0||o===!0;_&&!l&&(_=!1,o=null,a=null);var E=["fc-daygrid-body",_?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"];return A("div",{className:E.join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},A(Ju,{unit:"day"},function(x,T){return A(Pt,null,A("table",{className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:l?r.clientHeight:""}},r.colGroupNode,A("tbody",null,r.cells.map(function(R,P){return A(tq,{ref:n.rowRefs.createRef(P),key:R.length?R[0].date.toISOString():P,showDayNumbers:u>1,showWeekNumbers:r.showWeekNumbers,todayRange:T,dateProfile:i,cells:R,renderIntro:r.renderRowIntro,businessHourSegs:d[P],eventSelection:r.eventSelection,bgEventSegs:f[P].filter(kue),fgEventSegs:p[P],dateSelectionSegs:v[P],eventDrag:g[P],eventResize:b[P],dayMaxEvents:a,dayMaxEventRows:o,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new Ol(this.rootEl,this.rowRefs.collect().map(function(n){return n.getCellEls()[0]}),!1,!0),this.colPositions=new Ol(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(n,r){var i=this,o=i.colPositions,a=i.rowPositions,l=o.leftToIndex(n),u=a.topToIndex(r);if(u!=null&&l!=null){var d=this.props.cells[u][l];return{dateProfile:this.props.dateProfile,dateSpan:C({range:this.getCellRange(u,l),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(u,l),rect:{left:o.lefts[l],right:o.rights[l],top:a.tops[u],bottom:a.bottoms[u]},layer:0}}return null},e.prototype.getCellEl=function(n,r){return this.rowRefs.currentMap[n].getCellEls()[r]},e.prototype.getCellRange=function(n,r){var i=this.props.cells[n][r].date,o=Pn(i,1);return{start:i,end:o}},e}(Oi);function kue(t){return t.eventRange.def.allDay}var Due=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.forceDayIfListItem=!0,n}return e.prototype.sliceRange=function(n,r){return r.sliceRange(n)},e}(lb),$I=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.slicer=new Due,n.tableRef=It(),n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return A(Rue,C({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,i,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(Oi),Nue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayTableModel=ce(Oue),n.headerRef=It(),n.tableRef=It(),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,o=r.dateProfileGenerator,a=this.props,l=this.buildDayTableModel(a.dateProfile,o),u=i.dayHeaders&&A(ob,{ref:this.headerRef,dateProfile:a.dateProfile,dates:l.headerDates,datesRepDistinctDays:l.rowCnt===1}),d=function(f){return A($I,{ref:n.tableRef,dateProfile:a.dateProfile,dayTableModel:l,businessHours:a.businessHours,dateSelection:a.dateSelection,eventStore:a.eventStore,eventUiBases:a.eventUiBases,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:f.tableColGroupNode,tableMinWidth:f.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!a.isHeightAuto,headerAlignElRef:n.headerElRef,clientWidth:f.clientWidth,clientHeight:f.clientHeight,forPrint:a.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(u,d,l.colCnt,i.dayMinWidth):this.renderSimpleLayout(u,d)},e}(pue);function Oue(t,e){var n=new sb(t.renderRange,e);return new ab(n,/year|month|week/.test(t.currentRangeUnit))}var Pue=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.buildRenderRange=function(n,r,i){var o=this.props.dateEnv,a=t.prototype.buildRenderRange.call(this,n,r,i),l=a.start,u=a.end,d;if(/^(year|month)$/.test(r)&&(l=o.startOfWeek(l),d=o.startOfWeek(u),d.valueOf()!==u.valueOf()&&(u=lI(d,1))),this.props.monthMode&&this.props.fixedWeekCount){var f=Math.ceil(T3(l,u));u=lI(u,6-f)}return{start:l,end:u}},e}(LI),Mue=ai({initialView:"dayGridMonth",views:{dayGrid:{component:Nue,dateProfileGeneratorClass:Pue},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),nq=Mue;re();var Lue=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},e.prototype.getKeysForDateSpan=function(n){return n.allDay?["allDay"]:["timed"]},e.prototype.getKeysForEventDef=function(n){return n.allDay?Y3(n)?["timed","allDay"]:["allDay"]:["timed"]},e}(hj),Fue=Mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function rq(t){var e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return A(po.Consumer,null,function(n){if(!t.isLabeled)return A("td",{className:e.join(" "),"data-time":t.isoTimeStr});var r=n.dateEnv,i=n.options,o=n.viewApi,a=i.slotLabelFormat==null?Fue:Array.isArray(i.slotLabelFormat)?Mt(i.slotLabelFormat[0]):Mt(i.slotLabelFormat),l={level:0,time:t.time,date:r.toDate(t.date),view:o,text:r.format(t.date,a)};return A(Pi,{hookProps:l,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:Uue,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},function(u,d,f,p){return A("td",{ref:u,className:e.concat(d).join(" "),"data-time":t.isoTimeStr},A("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},A("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:f},p)))})})}function Uue(t){return t.text}var Bue=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return this.props.slatMetas.map(function(n){return A("tr",{key:n.key},A(rq,C({},n)))})},e}(Pe),Vue=Mt({week:"short"}),Hue=5,jue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.allDaySplitter=new Lue,n.headerElRef=It(),n.rootElRef=It(),n.scrollerElRef=It(),n.state={slatCoords:null},n.handleScrollTopRequest=function(r){var i=n.scrollerElRef.current;i&&(i.scrollTop=r)},n.renderHeadAxis=function(r,i){i===void 0&&(i="");var o=n.context.options,a=n.props.dateProfile,l=a.renderRange,u=Gs(l.start,l.end),d=o.navLinks&&u===1?{"data-navlink":Qu(l.start,"week"),tabIndex:0}:{};return o.weekNumbers&&r==="day"?A(gb,{date:l.start,defaultFormat:Vue},function(f,p,v,g){return A("th",{ref:f,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(p).join(" ")},A("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:i}},A("a",C({ref:v,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},d),g)))}):A("th",{className:"fc-timegrid-axis"},A("div",{className:"fc-timegrid-axis-frame",style:{height:i}}))},n.renderTableRowAxis=function(r){var i=n.context,o=i.options,a=i.viewApi,l={text:o.allDayText,view:a};return A(Pi,{hookProps:l,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:que,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},function(u,d,f,p){return A("td",{ref:u,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(d).join(" ")},A("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(r==null?" fc-timegrid-axis-frame-liquid":""),style:{height:r}},A("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:f},p)))})},n.handleSlatCoords=function(r){n.setState({slatCoords:r})},n}return e.prototype.renderSimpleLayout=function(n,r,i){var o=this,a=o.context,l=o.props,u=[],d=Zu(a.options);return n&&u.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}}),r&&(u.push({type:"body",key:"all-day",chunk:{content:r}}),u.push({type:"body",key:"all-day-divider",outerContent:A("tr",{className:"fc-scrollgrid-section"},A("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),u.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(a.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),A(Pl,{viewSpec:a.viewSpec,elRef:this.rootElRef},function(f,p){return A("div",{className:["fc-timegrid"].concat(p).join(" "),ref:f},A(Gh,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:u}))})},e.prototype.renderHScrollLayout=function(n,r,i,o,a,l,u){var d=this,f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var p=this,v=p.context,g=p.props,b=!g.forPrint&&Zu(v.options),_=!g.forPrint&&db(v.options),E=[];n&&E.push({type:"header",key:"header",isSticky:b,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(T){return A("tr",null,d.renderHeadAxis("day",T.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:n}]}),r&&(E.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(T){return A("tr",null,d.renderTableRowAxis(T.rowSyncHeights[0]))}},{key:"cols",content:r}]}),E.push({key:"all-day-divider",type:"body",outerContent:A("tr",{className:"fc-scrollgrid-section"},A("td",{colSpan:2,className:"fc-timegrid-divider "+v.theme.getClass("tableCellShaded")}))}));var x=v.options.nowIndicator;return E.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(v.options.expandRows),chunks:[{key:"axis",content:function(T){return A("div",{className:"fc-timegrid-axis-chunk"},A("table",{style:{height:T.expandRows?T.clientHeight:""}},T.tableColGroupNode,A("tbody",null,A(Bue,{slatMetas:l}))),A("div",{className:"fc-timegrid-now-indicator-container"},A(Ju,{unit:x?"minute":"day"},function(R){var P=x&&u&&u.safeComputeTop(R);return typeof P=="number"?A(pb,{isAxis:!0,date:R},function(L,F,G,Y){return A("div",{ref:L,className:["fc-timegrid-now-indicator-arrow"].concat(F).join(" "),style:{top:P}},Y)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),_&&E.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Wh},{key:"cols",content:Wh}]}),A(Pl,{viewSpec:v.viewSpec,elRef:this.rootElRef},function(T,R){return A("div",{className:["fc-timegrid"].concat(R).join(" "),ref:T},A(f,{liquid:!g.isHeightAuto&&!g.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:a}]}],sections:E}))})},e.prototype.getAllDayMaxEventProps=function(){var n=this.context.options,r=n.dayMaxEvents,i=n.dayMaxEventRows;return(r===!0||i===!0)&&(r=void 0,i=Hue),{dayMaxEvents:r,dayMaxEventRows:i}},e}(Oi);function que(t){return t.text}var zue=function(){function t(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}return t.prototype.safeComputeTop=function(e){var n=this.dateProfile;if(fo(n.currentRange,e)){var r=Xe(e),i=e.valueOf()-r.valueOf();if(i>=si(n.slotMinTime)&&i<si(n.slotMaxTime))return this.computeTimeTop(Ce(i))}return null},t.prototype.computeDateTop=function(e,n){return n||(n=Xe(e)),this.computeTimeTop(Ce(e.valueOf()-n.valueOf()))},t.prototype.computeTimeTop=function(e){var n=this,r=n.positions,i=n.dateProfile,o=r.els.length,a=(e.milliseconds-si(i.slotMinTime))/si(this.slotDuration),l,u;return a=Math.max(0,a),a=Math.min(o,a),l=Math.floor(a),l=Math.min(l,o-1),u=a-l,r.tops[l]+r.getHeight(l)*u},t}(),Wue=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this,r=n.props,i=n.context,o=i.options,a=r.slatElRefs;return A("tbody",null,r.slatMetas.map(function(l,u){var d={time:l.time,date:i.dateEnv.toDate(l.date),view:i.viewApi},f=["fc-timegrid-slot","fc-timegrid-slot-lane",l.isLabeled?"":"fc-timegrid-slot-minor"];return A("tr",{key:l.key,ref:a.createRef(l.key)},r.axis&&A(rq,C({},l)),A(Pi,{hookProps:d,classNames:o.slotLaneClassNames,content:o.slotLaneContent,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount},function(p,v,g,b){return A("td",{ref:p,className:f.concat(v).join(" "),"data-time":l.isoTimeStr},b)}))}))},e}(Pe),Gue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=It(),n.slatElRefs=new Mi,n}return e.prototype.render=function(){var n=this,r=n.props,i=n.context;return A("div",{className:"fc-timegrid-slots",ref:this.rootElRef},A("table",{className:i.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},r.tableColGroupNode,A(Wue,{slatElRefs:this.slatElRefs,axis:r.axis,slatMetas:r.slatMetas})))},e.prototype.componentDidMount=function(){this.updateSizing()},e.prototype.componentDidUpdate=function(){this.updateSizing()},e.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},e.prototype.updateSizing=function(){var n=this,r=n.context,i=n.props;if(i.onCoords&&i.clientWidth!==null){var o=this.rootElRef.current;o.offsetHeight&&i.onCoords(new zue(new Ol(this.rootElRef.current,Kue(this.slatElRefs.currentMap,i.slatMetas),!1,!0),this.props.dateProfile,r.options.slotDuration))}},e}(Pe);function Kue(t,e){return e.map(function(n){return t[n.key]})}function Xh(t,e){var n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function iq(t,e){var n=[];if(t){for(var r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var i=0,o=t.segs;i<o.length;i++){var a=o[i];n[a.col].segs.push(a)}}else for(var r=0;r<e;r+=1)n[r]=null;return n}var $ue=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.rootElRef=It(),n}return e.prototype.render=function(){var n=this,r=this.props;return A(yb,{allDayDate:null,moreCnt:r.hiddenSegs.length,allSegs:r.hiddenSegs,hiddenSegs:r.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:Yue,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,todayRange:r.todayRange,popoverContent:function(){return lq(r.hiddenSegs,r)}},function(i,o,a,l,u){return A("a",{ref:function(d){Mr(i,d),Mr(n.rootElRef,d)},className:["fc-timegrid-more-link"].concat(o).join(" "),style:{top:r.top,bottom:r.bottom},onClick:u},A("div",{ref:a,className:"fc-timegrid-more-link-inner fc-sticky"},l))})},e}(Pe);function Yue(t){return t.shortText}function oq(t,e,n){var r=new nb;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);var i=r.addSegs(t),o=Lj(i),a=Xue(r);a=ede(a,1);var l=tde(a);return{segRects:l,hiddenGroups:o}}function Xue(t){var e=t.entriesByLevel,n=YI(function(r,i){return r+":"+i},function(r,i){var o=Zue(t,r,i),a=sq(o,n),l=e[r][i];return[C(C({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return sq(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function sq(t,e){if(!t)return[[],0];for(var n=t.level,r=t.lateralStart,i=t.lateralEnd,o=r,a=[];o<i;)a.push(e(n,o)),o+=1;return a.sort(Que),[a.map(Jue),a[0][1]]}function Que(t,e){return e[1]-t[1]}function Jue(t){return t[0]}function Zue(t,e,n){for(var r=t.levelCoords,i=t.entriesByLevel,o=i[e][n],a=r[e]+o.thickness,l=r.length,u=e;u<l&&r[u]<a;u+=1);for(;u<l;u+=1){for(var d=i[u],f=void 0,p=jI(d,o.spanStart,VI),v=p[0]+p[1],g=v;(f=d[g])&&f.spanStart<o.spanEnd;)g+=1;if(v<g)return{level:u,lateralStart:v,lateralEnd:g}}return null}function ede(t,e){var n=YI(function(r,i,o){return zo(r)},function(r,i,o){var a=r.nextLevelNodes,l=r.thickness,u=l+o,d=l/u,f,p=[];if(!a.length)f=e;else for(var v=0,g=a;v<g.length;v++){var b=g[v];if(f===void 0){var _=n(b,i,u);f=_[0],p.push(_[1])}else{var _=n(b,f,0);p.push(_[1])}}var E=(f-i)*d;return[f-E,C(C({},r),{thickness:E,nextLevelNodes:p})]});return t.map(function(r){return n(r,0,0)[1]})}function tde(t){var e=[],n=YI(function(i,o,a){return zo(i)},function(i,o,a){var l=C(C({},i),{levelCoord:o,stackDepth:a,stackForward:0});return e.push(l),l.stackForward=r(i.nextLevelNodes,o+i.thickness,a+1)+1});function r(i,o,a){for(var l=0,u=0,d=i;u<d.length;u++){var f=d[u];l=Math.max(n(f,o,a),l)}return l}return r(t,0,0),e}function YI(t,e){var n={};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t.apply(void 0,r);return o in n?n[o]:n[o]=e.apply(void 0,r)}}var nde=Mt({hour:"numeric",minute:"2-digit",meridiem:!1}),aq=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&n.push("fc-timegrid-event-short"),A(hb,C({},this.props,{defaultTimeFormat:nde,extraClassNames:n}))},e}(Pe),rde=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props;return A(Kh,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps},function(r,i){return i&&A("div",{className:"fc-timegrid-col-misc",ref:r},i)})},e}(Pe),ide=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortEventSegs=ce($y),n.computeFgSegPlacements=ce(oq),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options.selectMirror,l=i.eventDrag&&i.eventDrag.segs||i.eventResize&&i.eventResize.segs||a&&i.dateSelectionSegs||[],u=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{},d=this.sortEventSegs(i.fgEventSegs,o.options.eventOrder);return A($h,{elRef:i.elRef,date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps},function(f,p,v){return A("td",C({ref:f,className:["fc-timegrid-col"].concat(p,i.extraClassNames||[]).join(" ")},v,i.extraDataAttrs),A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-col-bg"},n.renderFillSegs(i.businessHourSegs,"non-business"),n.renderFillSegs(i.bgEventSegs,"bg-event"),n.renderFillSegs(i.dateSelectionSegs,"highlight")),A("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(d,u)),A("div",{className:"fc-timegrid-col-events"},n.renderFgSegs(l,{},Boolean(i.eventDrag),Boolean(i.eventResize),Boolean(a))),A("div",{className:"fc-timegrid-now-indicator-container"},n.renderNowIndicator(i.nowIndicatorSegs)),A(rde,{date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraHookProps:i.extraHookProps})))})},e.prototype.renderFgSegs=function(n,r,i,o,a){var l=this.props;return l.forPrint?lq(n,l):l.slatCoords?this.renderPositionedFgSegs(n,r,i,o,a):null},e.prototype.renderPositionedFgSegs=function(n,r,i,o,a){var l=this,u=this.context.options,d=u.eventMaxStack,f=u.eventShortHeight,p=u.eventOrderStrict,v=this.props,g=v.eventSelection,b=v.todayRange,_=v.nowDate,E=i||o||a,x=this.buildSegInputs(n),T=E?oq(x):this.computeFgSegPlacements(x,p,d),R=T.segRects,P=T.hiddenGroups;return A(Pt,null,this.renderHiddenGroups(P,n),R.map(function(L){var F=n[L.segInput.index],G=F.eventRange.instance.instanceId,Y=C(C({},l.computeSegTopBottomCss(L.segInput)),E?{left:0,right:0}:l.computeSegLeftRightCss(L));return A("div",{className:"fc-timegrid-event-harness"+(L.stackForward>0?" fc-timegrid-event-harness-inset":""),key:G,style:C({visibility:r[G]?"hidden":""},Y)},A(aq,C({seg:F,isDragging:i,isResizing:o,isDateSelecting:a,isSelected:G===g,isShort:L.spanEnd-L.spanStart<f},ho(F,b,_))))}))},e.prototype.renderHiddenGroups=function(n,r){var i=this,o=this.props,a=o.extraDateSpan,l=o.dateProfile,u=o.todayRange,d=o.nowDate,f=o.eventSelection,p=o.eventDrag,v=o.eventResize;return A(Pt,null,n.map(function(g){var b=i.computeSegTopBottomCss(g),_=ode(g.entries,r);return A($ue,{key:hI(KI(_)),hiddenSegs:_,top:b.top,bottom:b.bottom,extraDateSpan:a,dateProfile:l,todayRange:u,nowDate:d,eventSelection:f,eventDrag:p,eventResize:v})}))},e.prototype.buildSegInputs=function(n){for(var r=this.props,i=r.date,o=r.slatCoords,a=this.context.options.eventMinHeight,l=[],u=0;u<n.length;u+=1){var d=n[u],f=o.computeDateTop(d.start,i),p=Math.max(f+(a||0),o.computeDateTop(d.end,i));l.push({index:u,spanStart:Math.round(f),spanEnd:Math.round(p),thickness:1})}return l},e.prototype.renderFillSegs=function(n,r){var i=this,o=this.props;if(!o.slatCoords)return null;var a=this.buildSegInputs(n),l=a.map(function(u){var d=n[u.index];return A("div",{key:Yy(d.eventRange),className:"fc-timegrid-bg-harness",style:i.computeSegTopBottomCss(u)},r==="bg-event"?A(vb,C({seg:d},ho(d,o.todayRange,o.nowDate))):mb(r))});return A(Pt,null,l)},e.prototype.renderNowIndicator=function(n){var r=this.props,i=r.slatCoords,o=r.date;return i?n.map(function(a,l){return A(pb,{isAxis:!1,date:o,key:l},function(u,d,f,p){return A("div",{ref:u,className:["fc-timegrid-now-indicator-line"].concat(d).join(" "),style:{top:i.computeDateTop(a.start,o)}},p)})}):null},e.prototype.computeSegTopBottomCss=function(n){return{top:n.spanStart,bottom:-n.spanEnd}},e.prototype.computeSegLeftRightCss=function(n){var r=this.context,i=r.isRtl,o=r.options,a=o.slotEventOverlap,l=n.levelCoord,u=n.levelCoord+n.thickness,d,f;a&&(u=Math.min(1,l+(u-l)*2)),i?(d=1-u,f=l):(d=l,f=1-u);var p={zIndex:n.stackDepth+1,left:d*100+"%",right:f*100+"%"};return a&&!n.stackForward&&(p[i?"marginLeft":"marginRight"]=10*2),p},e}(Pe);function lq(t,e){var n=e.todayRange,r=e.nowDate,i=e.eventSelection,o=e.eventDrag,a=e.eventResize,l=(o?o.affectedInstances:null)||(a?a.affectedInstances:null)||{};return A(Pt,null,t.map(function(u){var d=u.eventRange.instance.instanceId;return A("div",{key:d,style:{visibility:l[d]?"hidden":""}},A(aq,C({seg:u,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===i,isShort:!1},ho(u,n,r))))}))}function ode(t,e){return t.map(function(n){return e[n.segInput.index]})}var sde=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.splitFgEventSegs=ce(Xh),n.splitBgEventSegs=ce(Xh),n.splitBusinessHourSegs=ce(Xh),n.splitNowIndicatorSegs=ce(Xh),n.splitDateSelectionSegs=ce(Xh),n.splitEventDrag=ce(iq),n.splitEventResize=ce(iq),n.rootElRef=It(),n.cellElRefs=new Mi,n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=o.options.nowIndicator&&i.slatCoords&&i.slatCoords.safeComputeTop(i.nowDate),l=i.cells.length,u=this.splitFgEventSegs(i.fgEventSegs,l),d=this.splitBgEventSegs(i.bgEventSegs,l),f=this.splitBusinessHourSegs(i.businessHourSegs,l),p=this.splitNowIndicatorSegs(i.nowIndicatorSegs,l),v=this.splitDateSelectionSegs(i.dateSelectionSegs,l),g=this.splitEventDrag(i.eventDrag,l),b=this.splitEventResize(i.eventResize,l);return A("div",{className:"fc-timegrid-cols",ref:this.rootElRef},A("table",{style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,A("tbody",null,A("tr",null,i.axis&&A("td",{className:"fc-timegrid-col fc-timegrid-axis"},A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-now-indicator-container"},typeof a=="number"&&A(pb,{isAxis:!0,date:i.nowDate},function(_,E,x,T){return A("div",{ref:_,className:["fc-timegrid-now-indicator-arrow"].concat(E).join(" "),style:{top:a}},T)})))),i.cells.map(function(_,E){return A(ide,{key:_.key,elRef:n.cellElRefs.createRef(_.key),dateProfile:i.dateProfile,date:_.date,nowDate:i.nowDate,todayRange:i.todayRange,extraHookProps:_.extraHookProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,fgEventSegs:u[E],bgEventSegs:d[E],businessHourSegs:f[E],nowIndicatorSegs:p[E],dateSelectionSegs:v[E],eventDrag:g[E],eventResize:b[E],slatCoords:i.slatCoords,eventSelection:i.eventSelection,forPrint:i.forPrint})})))))},e.prototype.componentDidMount=function(){this.updateCoords()},e.prototype.componentDidUpdate=function(){this.updateCoords()},e.prototype.updateCoords=function(){var n=this.props;n.onColCoords&&n.clientWidth!==null&&n.onColCoords(new Ol(this.rootElRef.current,ade(this.cellElRefs.currentMap,n.cells),!0,!1))},e}(Pe);function ade(t,e){return e.map(function(n){return t[n.key]})}var lde=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.processSlotOptions=ce(cde),n.state={slatCoords:null},n.handleRootEl=function(r){r?n.context.registerInteractiveComponent(n,{el:r,isHitComboAllowed:n.props.isHitComboAllowed}):n.context.unregisterInteractiveComponent(n)},n.handleScrollRequest=function(r){var i=n.props.onScrollTopRequest,o=n.state.slatCoords;if(i&&o){if(r.time){var a=o.computeTimeTop(r.time);a=Math.ceil(a),a&&(a+=1),i(a)}return!0}return!1},n.handleColCoords=function(r){n.colCoords=r},n.handleSlatCoords=function(r){n.setState({slatCoords:r}),n.props.onSlatCoords&&n.props.onSlatCoords(r)},n}return e.prototype.render=function(){var n=this,r=n.props,i=n.state;return A("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},A(Gue,{axis:r.axis,dateProfile:r.dateProfile,slatMetas:r.slatMetas,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,tableColGroupNode:r.axis?r.tableColGroupNode:null,onCoords:this.handleSlatCoords}),A(sde,{cells:r.cells,axis:r.axis,dateProfile:r.dateProfile,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange,nowDate:r.nowDate,nowIndicatorSegs:r.nowIndicatorSegs,clientWidth:r.clientWidth,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,slatCoords:i.slatCoords,onColCoords:this.handleColCoords,forPrint:r.forPrint}))},e.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},e.prototype.componentDidUpdate=function(n){this.scrollResponder.update(n.dateProfile!==this.props.dateProfile)},e.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},e.prototype.queryHit=function(n,r){var i=this.context,o=i.dateEnv,a=i.options,l=this.colCoords,u=this.props.dateProfile,d=this.state.slatCoords,f=this.processSlotOptions(this.props.slotDuration,a.snapDuration),p=f.snapDuration,v=f.snapsPerSlot,g=l.leftToIndex(n),b=d.positions.topToIndex(r);if(g!=null&&b!=null){var _=this.props.cells[g],E=d.positions.tops[b],x=d.positions.getHeight(b),T=(r-E)/x,R=Math.floor(T*v),P=b*v+R,L=this.props.cells[g].date,F=Ny(u.slotMinTime,P3(p,P)),G=o.add(L,F),Y=o.add(G,p);return{dateProfile:u,dateSpan:C({range:{start:G,end:Y},allDay:!1},_.extraDateSpan),dayEl:l.els[g],rect:{left:l.lefts[g],right:l.rights[g],top:E,bottom:E+x},layer:0}}return null},e}(Oi);function cde(t,e){var n=e||t,r=Oy(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}var ude=function(t){M(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sliceRange=function(n,r){for(var i=[],o=0;o<r.length;o+=1){var a=Ys(n,r[o]);a&&i.push({start:a.start,end:a.end,isStart:a.start.valueOf()===n.start.valueOf(),isEnd:a.end.valueOf()===n.end.valueOf(),col:o})}return i},e}(lb),dde=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildDayRanges=ce(fde),n.slicer=new ude,n.timeColsRef=It(),n}return e.prototype.render=function(){var n=this,r=this,i=r.props,o=r.context,a=i.dateProfile,l=i.dayTableModel,u=o.options.nowIndicator,d=this.buildDayRanges(l,a,o.dateEnv);return A(Ju,{unit:u?"minute":"day"},function(f,p){return A(lde,C({ref:n.timeColsRef},n.slicer.sliceProps(i,a,null,o,d),{forPrint:i.forPrint,axis:i.axis,dateProfile:a,slatMetas:i.slatMetas,slotDuration:i.slotDuration,cells:l.cells[0],tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,clientWidth:i.clientWidth,clientHeight:i.clientHeight,expandRows:i.expandRows,nowDate:f,nowIndicatorSegs:u&&n.slicer.sliceNowDate(f,o,d),todayRange:p,onScrollTopRequest:i.onScrollTopRequest,onSlatCoords:i.onSlatCoords}))})},e}(Oi);function fde(t,e,n){for(var r=[],i=0,o=t.headerDates;i<o.length;i++){var a=o[i];r.push({start:n.add(a,e.slotMinTime),end:n.add(a,e.slotMaxTime)})}return r}var cq=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function hde(t,e,n,r,i){for(var o=new Date(0),a=t,l=Ce(0),u=n||pde(r),d=[];si(a)<si(e);){var f=i.add(o,a),p=Oy(l,u)!==null;d.push({date:f,time:a,key:f.toISOString(),isoTimeStr:M3(f),isLabeled:p}),a=Ny(a,r),l=Ny(l,r)}return d}function pde(t){var e,n,r;for(e=cq.length-1;e>=0;e-=1)if(n=Ce(cq[e]),r=Oy(n,t),r!==null&&r>1)return n;return t}var mde=function(t){M(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.buildTimeColsModel=ce(vde),n.buildSlatMetas=ce(hde),n}return e.prototype.render=function(){var n=this,r=this.context,i=r.options,o=r.dateEnv,a=r.dateProfileGenerator,l=this.props,u=l.dateProfile,d=this.buildTimeColsModel(u,a),f=this.allDaySplitter.splitProps(l),p=this.buildSlatMetas(u.slotMinTime,u.slotMaxTime,i.slotLabelInterval,i.slotDuration,o),v=i.dayMinWidth,g=!v,b=v,_=i.dayHeaders&&A(ob,{dates:d.headerDates,dateProfile:u,datesRepDistinctDays:!0,renderIntro:g?this.renderHeadAxis:null}),E=i.allDaySlot!==!1&&function(T){return A($I,C({},f.allDay,{dateProfile:u,dayTableModel:d,nextDayThreshold:i.nextDayThreshold,tableMinWidth:T.tableMinWidth,colGroupNode:T.tableColGroupNode,renderRowIntro:g?n.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:n.headerElRef,clientWidth:T.clientWidth,clientHeight:T.clientHeight,forPrint:l.forPrint},n.getAllDayMaxEventProps()))},x=function(T){return A(dde,C({},f.timed,{dayTableModel:d,dateProfile:u,axis:g,slotDuration:i.slotDuration,slatMetas:p,forPrint:l.forPrint,tableColGroupNode:T.tableColGroupNode,tableMinWidth:T.tableMinWidth,clientWidth:T.clientWidth,clientHeight:T.clientHeight,onSlatCoords:n.handleSlatCoords,expandRows:T.expandRows,onScrollTopRequest:n.handleScrollTopRequest}))};return b?this.renderHScrollLayout(_,E,x,d.colCnt,v,p,this.state.slatCoords):this.renderSimpleLayout(_,E,x)},e}(jue);function vde(t,e){var n=new sb(t.renderRange,e);return new ab(n,!1)}var gde={allDaySlot:Boolean},yde=ai({initialView:"timeGridWeek",optionRefiners:gde,views:{timeGrid:{component:mde,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),uq=yde;re();zh.touchMouseIgnoreWait=500;var XI=0,wb=0,QI=!1,JI=function(){function t(e){var n=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!n.shouldIgnoreMouse()&&bde(r)&&n.tryStart(r)){var i=n.createEventFromMouse(r,!0);n.emitter.trigger("pointerdown",i),n.initScrollWatch(i),n.shouldIgnoreMove||document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp)}},this.handleMouseMove=function(r){var i=n.createEventFromMouse(r);n.recordCoords(i),n.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),n.emitter.trigger("pointerup",n.createEventFromMouse(r)),n.cleanup()},this.handleTouchStart=function(r){if(n.tryStart(r)){n.isTouchDragging=!0;var i=n.createEventFromTouch(r,!0);n.emitter.trigger("pointerdown",i),n.initScrollWatch(i);var o=r.target;n.shouldIgnoreMove||o.addEventListener("touchmove",n.handleTouchMove),o.addEventListener("touchend",n.handleTouchEnd),o.addEventListener("touchcancel",n.handleTouchEnd),window.addEventListener("scroll",n.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=n.createEventFromTouch(r);n.recordCoords(i),n.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(n.isDragging){var i=r.target;i.removeEventListener("touchmove",n.handleTouchMove),i.removeEventListener("touchend",n.handleTouchEnd),i.removeEventListener("touchcancel",n.handleTouchEnd),window.removeEventListener("scroll",n.handleTouchScroll,!0),n.emitter.trigger("pointerup",n.createEventFromTouch(r)),n.cleanup(),n.isTouchDragging=!1,_de()}},this.handleTouchScroll=function(){n.wasTouchScroll=!0},this.handleScroll=function(r){if(!n.shouldIgnoreMove){var i=window.pageXOffset-n.prevScrollX+n.prevPageX,o=window.pageYOffset-n.prevScrollY+n.prevPageY;n.emitter.trigger("pointermove",{origEvent:r,isTouch:n.isTouchDragging,subjectEl:n.subjectEl,pageX:i,pageY:o,deltaX:i-n.origPageX,deltaY:o-n.origPageY})}},this.containerEl=e,this.emitter=new Hh,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),wde()}return t.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ede()},t.prototype.tryStart=function(e){var n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||En(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1},t.prototype.cleanup=function(){QI=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},t.prototype.querySubjectEl=function(e){return this.selector?En(e.target,this.selector):this.containerEl},t.prototype.shouldIgnoreMouse=function(){return XI||this.isTouchDragging},t.prototype.cancelTouchScroll=function(){this.isDragging&&(QI=!0)},t.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},t.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},t.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},t.prototype.createEventFromMouse=function(e,n){var r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},t.prototype.createEventFromTouch=function(e,n){var r=e.touches,i,o,a=0,l=0;return r&&r.length?(i=r[0].pageX,o=r[0].pageY):(i=e.pageX,o=e.pageY),n?(this.origPageX=i,this.origPageY=o):(a=i-this.origPageX,l=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:a,deltaY:l}},t}();function bde(t){return t.button===0&&!t.ctrlKey}function _de(){XI+=1,setTimeout(function(){XI-=1},zh.touchMouseIgnoreWait)}function wde(){wb+=1,wb===1&&window.addEventListener("touchmove",dq,{passive:!1})}function Ede(){wb-=1,wb||window.removeEventListener("touchmove",dq,{passive:!1})}function dq(t){QI&&t.preventDefault()}var xde=function(){function t(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return t.prototype.start=function(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},t.prototype.handleMove=function(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()},t.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},t.prototype.stop=function(e,n){var r=this,i=function(){r.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},t.prototype.doRevertAnimation=function(e,n){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Wu(r,{left:i.left,top:i.top}),y3(r,function(){r.style.transition="",e()})},t.prototype.cleanup=function(){this.mirrorEl&&(Iy(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},t.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Wu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},t.prototype.getMirrorEl=function(){var e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.classList.add("fc-unselectable"),n.classList.add("fc-event-dragging"),Wu(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n},t}(),fq=function(t){M(e,t);function e(n,r){var i=t.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=n,i.doesListening=r,i.scrollTop=i.origScrollTop=n.getScrollTop(),i.scrollLeft=i.origScrollLeft=n.getScrollLeft(),i.scrollWidth=n.getScrollWidth(),i.scrollHeight=n.getScrollHeight(),i.clientWidth=n.getClientWidth(),i.clientHeight=n.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(n){this.scrollController.setScrollTop(n),this.doesListening||(this.scrollTop=Math.max(Math.min(n,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(n){this.scrollController.setScrollLeft(n),this.doesListening||(this.scrollLeft=Math.max(Math.min(n,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(Zy),hq=function(t){M(e,t);function e(n,r){return t.call(this,new gj(n),r)||this}return e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return vj(this.scrollController.el)},e}(fq),Sde=function(t){M(e,t);function e(n){return t.call(this,new yj,n)||this}return e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(fq),pq=typeof performance=="function"?performance.now:Date.now,Tde=function(){function t(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var n=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(n){var r=pq();e.handleSide(n,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return t.prototype.start=function(e,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))},t.prototype.handleMove=function(e,n){if(this.isEnabled){var r=e-window.pageXOffset,i=n-window.pageYOffset,o=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(pq()))}},t.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];r.destroy()}this.scrollCaches=null}},t.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},t.prototype.handleSide=function(e,n){var r=e.scrollCache,i=this.edgeThreshold,o=i-e.distance,a=o*o/(i*i)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+a*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+a*l);break}},t.prototype.computeBestEdge=function(e,n){for(var r=this.edgeThreshold,i=null,o=0,a=this.scrollCaches;o<a.length;o++){var l=a[o],u=l.clientRect,d=e-u.left,f=u.right-e,p=n-u.top,v=u.bottom-n;d>=0&&f>=0&&p>=0&&v>=0&&(p<=r&&this.everMovedUp&&l.canScrollUp()&&(!i||i.distance>p)&&(i={scrollCache:l,name:"top",distance:p}),v<=r&&this.everMovedDown&&l.canScrollDown()&&(!i||i.distance>v)&&(i={scrollCache:l,name:"bottom",distance:v}),d<=r&&this.everMovedLeft&&l.canScrollLeft()&&(!i||i.distance>d)&&(i={scrollCache:l,name:"left",distance:d}),f<=r&&this.everMovedRight&&l.canScrollRight()&&(!i||i.distance>f)&&(i={scrollCache:l,name:"right",distance:f}))}return i},t.prototype.buildCaches=function(){return this.queryScrollEls().map(function(e){return e===window?new Sde(!1):new hq(e,!1)})},t.prototype.queryScrollEls=function(){for(var e=[],n=0,r=this.scrollQuery;n<r.length;n++){var i=r[n];typeof i=="object"?e.push(i):e.push.apply(e,Array.prototype.slice.call(document.querySelectorAll(i)))}return e},t}(),ed=function(t){M(e,t);function e(n,r){var i=t.call(this,n)||this;i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(a){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,_3(document.body),E3(document.body),a.isTouch||a.origEvent.preventDefault(),i.emitter.trigger("pointerdown",a),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(a.subjectEl,a.pageX,a.pageY),i.startDelay(a),i.minDistance||i.handleDistanceSurpassed(a)))},i.onPointerMove=function(a){if(i.isInteracting){if(i.emitter.trigger("pointermove",a),!i.isDistanceSurpassed){var l=i.minDistance,u=void 0,d=a.deltaX,f=a.deltaY;u=d*d+f*f,u>=l*l&&i.handleDistanceSurpassed(a)}i.isDragging&&(a.origEvent.type!=="scroll"&&(i.mirror.handleMove(a.pageX,a.pageY),i.autoScroller.handleMove(a.pageX,a.pageY)),i.emitter.trigger("dragmove",a))}},i.onPointerUp=function(a){i.isInteracting&&(i.isInteracting=!1,w3(document.body),x3(document.body),i.emitter.trigger("pointerup",a),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(a)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var o=i.pointer=new JI(n);return o.emitter.on("pointerdown",i.onPointerDown),o.emitter.on("pointermove",i.onPointerMove),o.emitter.on("pointerup",i.onPointerUp),r&&(o.selector=r),i.mirror=new xde,i.autoScroller=new Tde,i}return e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(n){var r=this;typeof this.delay=="number"?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(n)},this.delay):this.handleDelayEnd(n)},e.prototype.handleDelayEnd=function(n){this.isDelayEnded=!0,this.tryStartDrag(n)},e.prototype.handleDistanceSurpassed=function(n){this.isDistanceSurpassed=!0,this.tryStartDrag(n)},e.prototype.tryStartDrag=function(n){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(n.pageX,n.pageY),this.emitter.trigger("dragstart",n),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(n){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,n))},e.prototype.stopDrag=function(n){this.isDragging=!1,this.emitter.trigger("dragend",n)},e.prototype.setIgnoreMove=function(n){this.pointer.shouldIgnoreMove=n},e.prototype.setMirrorIsVisible=function(n){this.mirror.setIsVisible(n)},e.prototype.setMirrorNeedsRevert=function(n){this.mirrorNeedsRevert=n},e.prototype.setAutoScrollEnabled=function(n){this.autoScroller.isEnabled=n},e}(qI),Cde=function(){function t(e){this.origRect=Jy(e),this.scrollCaches=NI(e).map(function(n){return new hq(n,!0)})}return t.prototype.destroy=function(){for(var e=0,n=this.scrollCaches;e<n.length;e++){var r=n[e];r.destroy()}},t.prototype.computeLeft=function(){for(var e=this.origRect.left,n=0,r=this.scrollCaches;n<r.length;n++){var i=r[n];e+=i.origScrollLeft-i.getScrollLeft()}return e},t.prototype.computeTop=function(){for(var e=this.origRect.top,n=0,r=this.scrollCaches;n<r.length;n++){var i=r[n];e+=i.origScrollTop-i.getScrollTop()}return e},t.prototype.isWithinClipping=function(e,n){for(var r={left:e,top:n},i=0,o=this.scrollCaches;i<o.length;i++){var a=o[i];if(!Ide(a.getEventTarget())&&!lj(r,a.clientRect))return!1}return!0},t}();function Ide(t){var e=t.tagName;return e==="HTML"||e==="BODY"}var Qh=function(){function t(e,n){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var o=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(o.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):o.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Hh}return t.prototype.processFirstCoord=function(e){var n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,o;i!==document&&(o=Jy(i),r=cj(r,o));var a=this.initialHit=this.queryHitForOffset(r.left,r.top);if(a){if(this.useSubjectCenter&&o){var l=CI(o,a.rect);l&&(r=uj(l))}this.coordAdjust=dj(r,n)}else this.coordAdjust={left:0,top:0}},t.prototype.handleMove=function(e,n){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Eb(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},t.prototype.prepareHits=function(){this.offsetTrackers=Ni(this.droppableStore,function(e){return e.component.prepareHits(),new Cde(e.el)})},t.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var n in e)e[n].destroy();this.offsetTrackers={}},t.prototype.queryHitForOffset=function(e,n){var r=this,i=r.droppableStore,o=r.offsetTrackers,a=null;for(var l in i){var u=i[l].component,d=o[l];if(d&&d.isWithinClipping(e,n)){var f=d.computeLeft(),p=d.computeTop(),v=e-f,g=n-p,b=d.origRect,_=b.right-b.left,E=b.bottom-b.top;if(v>=0&&v<_&&g>=0&&g<E){var x=u.queryHit(v,g,_,E);x&&Bh(x.dateProfile.activeRange,x.dateSpan.range)&&(!a||x.layer>a.layer)&&(x.componentId=l,x.context=u.context,x.rect.left+=f,x.rect.right+=f,x.rect.top+=p,x.rect.bottom+=p,a=x)}}}return a},t}();function Eb(t,e){return!t&&!e?!0:Boolean(t)!==Boolean(e)?!1:J3(t.dateSpan,e.dateSpan)}function ZI(t,e){for(var n={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++){var o=i[r];C(n,o(t,e))}return C(n,Ade(t,e.dateEnv)),n}function Ade(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}var Rde=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;r.handlePointerDown=function(o){var a=r.dragging,l=o.origEvent.target;a.setIgnoreMove(!r.component.isValidDateDownEl(l))},r.handleDragEnd=function(o){var a=r.component,l=r.dragging.pointer;if(!l.wasTouchScroll){var u=r.hitDragging,d=u.initialHit,f=u.finalHit;if(d&&f&&Eb(d,f)){var p=a.context,v=C(C({},ZI(d.dateSpan,p)),{dayEl:d.dayEl,jsEvent:o.origEvent,view:p.viewApi||p.calendarApi.view});p.emitter.trigger("dateClick",v)}}},r.dragging=new ed(n.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new Qh(r.dragging,rb(n));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e}(Ml),kde=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;r.dragSelection=null,r.handlePointerDown=function(u){var d=r,f=d.component,p=d.dragging,v=f.context.options,g=v.selectable&&f.isValidDateDownEl(u.origEvent.target);p.setIgnoreMove(!g),p.delay=u.isTouch?Dde(f):null},r.handleDragStart=function(u){r.component.context.calendarApi.unselect(u)},r.handleHitUpdate=function(u,d){var f=r.component.context,p=null,v=!1;if(u){var g=r.hitDragging.initialHit,b=u.componentId===g.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(g,u);b||(p=Nde(g,u,f.pluginHooks.dateSelectionTransformers)),(!p||!qj(p,u.dateProfile,f))&&(v=!0,p=null)}p?f.dispatch({type:"SELECT_DATES",selection:p}):d||f.dispatch({type:"UNSELECT_DATES"}),v?Mh():Lh(),d||(r.dragSelection=p)},r.handlePointerUp=function(u){r.dragSelection&&(xI(r.dragSelection,u,r.component.context),r.dragSelection=null)};var i=n.component,o=i.context.options,a=r.dragging=new ed(n.el);a.touchScrollAllowed=!1,a.minDistance=o.selectMinDistance||0,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new Qh(r.dragging,rb(n));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),r}return e.prototype.destroy=function(){this.dragging.destroy()},e}(Ml);function Dde(t){var e=t.context.options,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Nde(t,e,n){var r=t.dateSpan,i=e.dateSpan,o=[r.range.start,r.range.end,i.range.start,i.range.end];o.sort(S3);for(var a={},l=0,u=n;l<u.length;l++){var d=u[l],f=d(t,e);if(f===!1)return null;f&&C(a,f)}return a.range={start:o[0],end:o[3]},a.allDay=r.allDay,a}var mq=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(u){var d=u.origEvent.target,f=r,p=f.component,v=f.dragging,g=v.mirror,b=p.context.options,_=p.context;r.subjectEl=u.subjectEl;var E=r.subjectSeg=Nl(u.subjectEl),x=r.eventRange=E.eventRange,T=x.instance.instanceId;r.relevantEvents=Hy(_.getCurrentData().eventStore,T),v.minDistance=u.isTouch?0:b.eventDragMinDistance,v.delay=u.isTouch&&T!==p.props.eventSelection?Pde(p):null,b.fixedMirrorParent?g.parentNode=b.fixedMirrorParent:g.parentNode=En(d,".fc"),g.revertDuration=b.dragRevertDuration;var R=p.isValidSegDownEl(d)&&!En(d,".fc-event-resizer");v.setIgnoreMove(!R),r.isDragging=R&&u.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(u){var d=r.component.context,f=r.eventRange,p=f.instance.instanceId;u.isTouch?p!==r.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):d.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(d.calendarApi.unselect(u),d.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new bt(d,f.def,f.instance),jsEvent:u.origEvent,view:d.viewApi}))},r.handleHitUpdate=function(u,d){if(!!r.isDragging){var f=r.relevantEvents,p=r.hitDragging.initialHit,v=r.component.context,g=null,b=null,_=null,E=!1,x={affectedEvents:f,mutatedEvents:xn(),isEvent:!0};if(u){g=u.context;var T=g.options;v===g||T.editable&&T.droppable?(b=Ode(p,u,g.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(_=Qy(f,g.getCurrentData().eventUiBases,b,g),x.mutatedEvents=_,cb(x,u.dateProfile,g)||(E=!0,b=null,_=null,x.mutatedEvents=xn()))):g=null}r.displayDrag(g,x),E?Mh():Lh(),d||(v===g&&Eb(p,u)&&(b=null),r.dragging.setMirrorNeedsRevert(!b),r.dragging.setMirrorIsVisible(!u||!document.querySelector(".fc-event-mirror")),r.receivingContext=g,r.validMutation=b,r.mutatedRelevantEvents=_)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(u){if(r.isDragging){var d=r.component.context,f=d.viewApi,p=r,v=p.receivingContext,g=p.validMutation,b=r.eventRange.def,_=r.eventRange.instance,E=new bt(d,b,_),x=r.relevantEvents,T=r.mutatedRelevantEvents,R=r.hitDragging.finalHit;if(r.clearDrag(),d.emitter.trigger("eventDragStop",{el:r.subjectEl,event:E,jsEvent:u.origEvent,view:f}),g){if(v===d){var P=new bt(d,T.defs[b.defId],_?T.instances[_.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:T});for(var L={oldEvent:E,event:P,relatedEvents:Xs(T,d,_),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:x})}},F={},G=0,Y=d.getCurrentData().pluginHooks.eventDropTransformers;G<Y.length;G++){var $=Y[G];C(F,$(g,d))}d.emitter.trigger("eventDrop",C(C(C({},L),F),{el:u.subjectEl,delta:g.datesDelta,jsEvent:u.origEvent,view:f})),d.emitter.trigger("eventChange",L)}else if(v){var ze={event:E,relatedEvents:Xs(x,d,_),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:x})}};d.emitter.trigger("eventLeave",C(C({},ze),{draggedEl:u.subjectEl,view:f})),d.dispatch({type:"REMOVE_EVENTS",eventStore:x}),d.emitter.trigger("eventRemove",ze);var O=T.defs[b.defId],Zn=T.instances[_.instanceId],Jt=new bt(v,O,Zn);v.dispatch({type:"MERGE_EVENTS",eventStore:T});var Ll={event:Jt,relatedEvents:Xs(T,v,Zn),revert:function(){v.dispatch({type:"REMOVE_EVENTS",eventStore:T})}};v.emitter.trigger("eventAdd",Ll),u.isTouch&&v.dispatch({type:"SELECT_EVENT",eventInstanceId:_.instanceId}),v.emitter.trigger("drop",C(C({},ZI(R.dateSpan,v)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:R.context.viewApi})),v.emitter.trigger("eventReceive",C(C({},Ll),{draggedEl:u.subjectEl,view:R.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}r.cleanup()};var i=r.component,o=i.context.options,a=r.dragging=new ed(n.el);a.pointer.selector=e.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.dragScroll;var l=r.hitDragging=new Qh(r.dragging,qh);return l.useSubjectCenter=n.useEventCenter,l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),l.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(n,r){var i=this.component.context,o=this.receivingContext;o&&o!==n&&(o===i?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:xn(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),n&&n.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var n=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),n!==r&&n.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(Ml);function Ode(t,e,n){var r=t.dateSpan,i=e.dateSpan,o=r.range.start,a=i.range.start,l={};r.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(o=Xe(o)));var u=Dl(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);for(var d={datesDelta:u,standardProps:l},f=0,p=n;f<p.length;f++){var v=p[f];v(d,t,e)}return d}function Pde(t){var e=t.context.options,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}var Mde=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(l){var u=r.component,d=r.querySegEl(l),f=Nl(d),p=r.eventRange=f.eventRange;r.dragging.minDistance=u.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&r.component.props.eventSelection!==p.instance.instanceId)},r.handleDragStart=function(l){var u=r.component.context,d=r.eventRange;r.relevantEvents=Hy(u.getCurrentData().eventStore,r.eventRange.instance.instanceId);var f=r.querySegEl(l);r.draggingSegEl=f,r.draggingSeg=Nl(f),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:f,event:new bt(u,d.def,d.instance),jsEvent:l.origEvent,view:u.viewApi})},r.handleHitUpdate=function(l,u,d){var f=r.component.context,p=r.relevantEvents,v=r.hitDragging.initialHit,g=r.eventRange.instance,b=null,_=null,E=!1,x={affectedEvents:p,mutatedEvents:xn(),isEvent:!0};if(l){var T=l.componentId===v.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(v,l);T||(b=Lde(v,l,d.subjectEl.classList.contains("fc-event-resizer-start"),g.range))}b&&(_=Qy(p,f.getCurrentData().eventUiBases,b,f),x.mutatedEvents=_,cb(x,l.dateProfile,f)||(E=!0,b=null,_=null,x.mutatedEvents=null)),_?f.dispatch({type:"SET_EVENT_RESIZE",state:x}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),E?Mh():Lh(),u||(b&&Eb(v,l)&&(b=null),r.validMutation=b,r.mutatedRelevantEvents=_)},r.handleDragEnd=function(l){var u=r.component.context,d=r.eventRange.def,f=r.eventRange.instance,p=new bt(u,d,f),v=r.relevantEvents,g=r.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:p,jsEvent:l.origEvent,view:u.viewApi}),r.validMutation){var b=new bt(u,g.defs[d.defId],f?g.instances[f.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:g});var _={oldEvent:p,event:b,relatedEvents:Xs(g,u,f),revert:function(){u.dispatch({type:"MERGE_EVENTS",eventStore:v})}};u.emitter.trigger("eventResize",C(C({},_),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||Ce(0),endDelta:r.validMutation.endDelta||Ce(0),jsEvent:l.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",_)}else u.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=n.component,o=r.dragging=new ed(n.el);o.pointer.selector=".fc-event-resizer",o.touchScrollAllowed=!1,o.autoScroller.isEnabled=i.context.options.dragScroll;var a=r.hitDragging=new Qh(r.dragging,rb(n));return a.emitter.on("pointerdown",r.handlePointerDown),a.emitter.on("dragstart",r.handleDragStart),a.emitter.on("hitupdate",r.handleHitUpdate),a.emitter.on("dragend",r.handleDragEnd),r}return e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(n){return En(n.subjectEl,".fc-event")},e}(Ml);function Lde(t,e,n,r){var i=t.context.dateEnv,o=t.dateSpan.range.start,a=e.dateSpan.range.start,l=Dl(o,a,i,t.largeUnit);if(n){if(i.add(r.start,l)<r.end)return{startDelta:l}}else if(i.add(r.end,l)>r.start)return{endDelta:l};return null}var Fde=function(){function t(e){var n=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(n.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var o=n.context.options.unselectCancel,a=i.origEvent.target;n.matchesCancel=!!En(a,o),n.matchesEvent=!!En(a,mq.SELECTOR)},this.onDocumentPointerUp=function(i){var o=n.context,a=n.documentPointer,l=o.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!n.isRecentPointerDateSelect){var u=o.options.unselectAuto;u&&(!u||!n.matchesCancel)&&o.calendarApi.unselect(i)}l.eventSelection&&!n.matchesEvent&&o.dispatch({type:"UNSELECT_EVENT"})}n.isRecentPointerDateSelect=!1};var r=this.documentPointer=new JI(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return t.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},t}(),Ude={fixedMirrorParent:B},Bde={dateClick:B,eventDragStart:B,eventDragStop:B,eventDrop:B,eventResizeStart:B,eventResizeStop:B,eventResize:B,drop:B,eventReceive:B,eventLeave:B},vq=function(){function t(e,n){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(o){r.dragMeta=r.buildDragMeta(o.subjectEl)},this.handleHitUpdate=function(o,a,l){var u=r.hitDragging.dragging,d=null,f=null,p=!1,v={affectedEvents:xn(),mutatedEvents:xn(),isEvent:r.dragMeta.create};o&&(d=o.context,r.canDropElOnCalendar(l.subjectEl,d)&&(f=Vde(o.dateSpan,r.dragMeta,d),v.mutatedEvents=Xu(f),p=!cb(v,o.dateProfile,d),p&&(v.mutatedEvents=xn(),f=null))),r.displayDrag(d,v),u.setMirrorIsVisible(a||!f||!document.querySelector(".fc-event-mirror")),p?Mh():Lh(),a||(u.setMirrorNeedsRevert(!f),r.receivingContext=d,r.droppableEvent=f)},this.handleDragEnd=function(o){var a=r,l=a.receivingContext,u=a.droppableEvent;if(r.clearDrag(),l&&u){var d=r.hitDragging.finalHit,f=d.context.viewApi,p=r.dragMeta;if(l.emitter.trigger("drop",C(C({},ZI(d.dateSpan,l)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:f})),p.create){var v=Xu(u);l.dispatch({type:"MERGE_EVENTS",eventStore:v}),o.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u.instance.instanceId}),l.emitter.trigger("eventReceive",{event:new bt(l,u.def,u.instance),relatedEvents:[],revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:v})},draggedEl:o.subjectEl,view:f})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new Qh(e,qh);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=n}return t.prototype.buildDragMeta=function(e){return typeof this.suppliedDragMeta=="object"?ib(this.suppliedDragMeta):typeof this.suppliedDragMeta=="function"?ib(this.suppliedDragMeta(e)):Hde(e)},t.prototype.displayDrag=function(e,n){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})},t.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.canDropElOnCalendar=function(e,n){var r=n.options.dropAccept;return typeof r=="function"?r.call(n.calendarApi,e):typeof r=="string"&&r?Boolean(sI(e,r)):!0},t}();function Vde(t,e,n){for(var r=C({},e.leftoverProps),i=0,o=n.pluginHooks.externalDefTransforms;i<o.length;i++){var a=o[i];C(r,a(t,e))}var l=Gy(r,n),u=l.refined,d=l.extra,f=Uh(u,d,e.sourceId,t.allDay,n.options.forceEventDuration||Boolean(e.duration),n),p=t.range.start;t.allDay&&e.startTime&&(p=n.dateEnv.add(p,e.startTime));var v=e.duration?n.dateEnv.add(p,e.duration):Xy(t.allDay,p,n),g=Fh(f.defId,{start:p,end:v});return{def:f,instance:g}}function Hde(t){var e=jde(t,"event"),n=e?JSON.parse(e):{create:!1};return ib(n)}zh.dataAttrPrefix="";function jde(t,e){var n=zh.dataAttrPrefix,r=(n?n+"-":"")+e;return t.getAttribute("data-"+r)||""}var uxe=function(){function t(e,n){var r=this;n===void 0&&(n={}),this.handlePointerDown=function(o){var a=r.dragging,l=r.settings,u=l.minDistance,d=l.longPressDelay;a.minDistance=u??(o.isTouch?0:kl.eventDragMinDistance),a.delay=o.isTouch?d??kl.longPressDelay:0},this.handleDragStart=function(o){o.isTouch&&r.dragging.delay&&o.subjectEl.classList.contains("fc-event")&&r.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=n;var i=this.dragging=new ed(e);i.touchScrollAllowed=!1,n.itemSelector!=null&&(i.pointer.selector=n.itemSelector),n.appendTo!=null&&(i.mirror.parentNode=n.appendTo),i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),new vq(i,n.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),qde=function(t){M(e,t);function e(n){var r=t.call(this,n)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(o){r.emitter.trigger("pointerdown",o),r.shouldIgnoreMove||r.emitter.trigger("dragstart",o)},r.handlePointerMove=function(o){r.shouldIgnoreMove||r.emitter.trigger("dragmove",o)},r.handlePointerUp=function(o){r.emitter.trigger("pointerup",o),r.shouldIgnoreMove||r.emitter.trigger("dragend",o)};var i=r.pointer=new JI(n);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}return e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(n){this.shouldIgnoreMove=n},e.prototype.setMirrorIsVisible=function(n){if(n)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}},e}(qI),dxe=function(){function t(e,n){var r=document;e===document||e instanceof Element?(r=e,n=n||{}):n=e||{};var i=this.dragging=new qde(r);typeof n.itemSelector=="string"?i.pointer.selector=n.itemSelector:r===document&&(i.pointer.selector="[data-event]"),typeof n.mirrorSelector=="string"&&(i.mirrorSelector=n.mirrorSelector),new vq(i,n.eventData)}return t.prototype.destroy=function(){this.dragging.destroy()},t}(),zde=ai({componentInteractions:[Rde,kde,mq,Mde],calendarInteractions:[Fde],elementDraggingImpl:ed,optionRefiners:Ude,listenerRefiners:Bde}),gq=zde;var yq=vt`
  :host {
    height: 100%;
    width: 100%;
  }
  #calendar, #timeline {
    margin: 15px;
  }
  .fc-event .fc-event-main {
    position: relative;
    z-index: 2;
    min-height: 10px;
  }
`;var bq=t=>{let e=t.replace(" ","").trim();return e.charAt(0).toLowerCase()+e.slice(1)},_q=t=>{let e=t.replace(/([A-Z])/g," $1").trim();return e.charAt(0).toUpperCase()+e.slice(1)};var Jh=class{constructor(){this.identifierLabel="Inquiries";this.collectionKey="";this.id="";this.mainFields={};this.init=(e,n)=>{console.log("Creating new "+this.identifierLabel),console.log(this),this.id===""?(console.log("pushing doc to database"),e.createDoc(this.collectionKey,this,r=>{n&&n(r)})):n&&n(this.id)};this.accessField=(e,n,r,i)=>({label:e,value:n,type:r,positionIndex:i});this.accessibleFields=()=>{let e=[];for(let[n,r]of Object.entries(this))r.positionIndex&&e.push(this.accessField(_q(n),r.value,r.type,r.positionIndex));return e};this.updateField=(e,n,r)=>{console.log("updating Field "+n+" for "+this.collectionKey),this.id!==""&&e.setFieldValue(this.collectionKey,this.id,bq(n),r)};this.remove=e=>{if(this.id!==""){if(window.confirm("Are You Sure You Would Like to Remove "+this.identifierLabel+`? 
 This cannot be undone!`))return e.removeDoc(this.collectionKey,this.id),!0}else throw new Error("Cannot remove "+this.identifierLabel+" as it has not been initialized yet.")}}mergeModel(e){if(e)for(let[n,r]of Object.entries(e))n!=="serverApi"&&(this[n]=r)}};var td={lead:{resourceId:"lead",order:1,label:"Lead",color:"yellow",textColor:"black",borderColor:"black"},notInterested:{resourceId:"notInterested",order:2,label:"Not Interested",color:"red",textColor:"black",borderColor:"black"},proposalSent:{resourceId:"proposalSent",order:3,label:"Proposal Sent",color:"blue",textColor:"blue",borderColor:"black"},awaitingModeration:{resourceId:"awaitingModeration",order:4,label:"Avaiting Moderation",color:"purple",textColor:"blue",borderColor:"black"},hasScheduledShoot:{resourceId:"hasScheduledShoot",order:5,label:"Photo Shoot Scheduled",color:"purple",textColor:"white",borderColor:"black"},photographed:{resourceId:"photographed",order:6,label:"Photographed",color:"blue",textColor:"white",borderColor:"black"},inDevelopment:{resourceId:"booked",order:3,label:"Booked",color:"green",textColor:"white",borderColor:"black"}},eA=class extends Jh{constructor(){super(...arguments);this.identifierLabel="Inquir";this.collectionKey="inquiries";this.parentClientId="";this.id="";this.businessName=this.accessField("Business Name","New Business","text",1);this.location=this.accessField("Locations","","text",2);this.status=this.accessField("Status",{type:"StatusEnums",value:td.lead},"select",3);this.dateReceived=this.accessField("Date Recieved","","date",4);this.lastContact=this.accessField("Last Contact","","date",5);this.proposalDate=this.accessField("Proposal Date","","date",6);this.source=this.accessField("Source","","text",7)}},tA=eA;var xb=class{constructor(e,n,r,i,o){let a=l=>window.alert("!! Event  constructor "+l+" !!");if(e)return{id:e,title:n||a("needs a valid title"),start:r||a("needs a valid startDate"),end:i||a("needs a valid stop Date"),resourceId:td[o].resourceId,color:td[o].color,textColor:td[o].textColor,borderColor:"black"}}};xb.resources=()=>{let e=[];for(let[n,r]of Object.entries(td))e.push({id:r.resourceId,title:r.label,eventColor:r.color,eventTextColor:r.textColor,eventBorderColor:r.borderColor?r.borderColor:"black",tOrder:r.order?r.order:""});return e};var Wo=class extends Ve{constructor(){super(...arguments);this.serverApi=null;this.inquiries=null;this.scrollToTime=null;this.events=null;this.calendar=null;this.handleDateSelect=e=>{console.log(e),e.view.calendar.unselect()};this.handleEventChange=e=>{if(e.oldEvent&&e.event){let n=e.event.id,r=e.oldEvent,i=e.event,o=r.startStr.split("T"),a=i.startStr.split("T"),l=r.endStr.split("T"),u=i.endStr.split("T");console.log([r,i,a]),a[0]!==o[0]&&this.serverApi.setFieldValue("inquiries",n,"eventDate",a[0]),a[1]!==o[1]&&this.serverApi.setFieldValue("inquiries",n,"startTime",a[0]),u[1]!==l[1]&&this.serverApi.setFieldValue("inquiries",n,"stopTime",a[0])}};this.generateCalendarEvents=()=>{console.log("attempting to load events"),console.log(this.inquiries);let e=[];if(this.inquiries){for(let n=0;n<this.inquiries.length;n++){let r=this.inquiries[n];if(r){let i=r.eventDate+"T"+r.startTime+":00",o=r.eventDate+"T"+r.stopTime+":00";e.push(new xb(r.id,r.eventTitle,i,o,this.inquiries[n].eventStatus))}}e[0]?this.events=e:this.events=null}this.events&&this.events[0]};this.selectEvent=e=>{console.log(e);let n=new CustomEvent("inquiry-selected",{detail:{data:e.event.id,message:"Event Selected"},bubbles:!0,composed:!0});this.dispatchEvent(n)};this.renderEventContent=e=>{function n(d){return d<10?d="0"+d:d>12&&(d=d-12),d}let r=e.event.start,i=e.event.end,o=n(r.getHours()),a=n(r.getMinutes()),l=o+":"+a,u="";if(i){let d=n(i.getHours()),f=n(i.getMinutes());u="-"+d+":"+f}return Z`<i className="cal-popup-disp-item">{eventInfo.event.title}</i>`};this.getCalendar=()=>{console.log("grabbing calendar"),this.calendar=new Yj(this.renderRoot.querySelector("#calendar"),{schedulerLicenseKey:"GPL-My-Project-Is-Open-Source",initialView:"dayGridMonth",plugins:[nq,uq,gq],headerToolbar:{left:"title",center:"",right:"today prev next"},height:"64%",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:this.events,eventDisplay:"list",select:this.handleDateSelect,eventClick:this.selectEvent,eventChange:this.handleEventChange,eventContent:this.renderEventContent})}}firstUpdated(){console.log("first update"),this.getCalendar()}updated(){this.calendar?this.calendar.render():this.getCalendar(),setTimeout(()=>{this.calendar&&this.calendar.updateSize()},2e3)}shouldUpdate(e){return e.forEach((n,r)=>{console.log(`${r} changed. oldValue: ${n}`),r=="inquiries"&&(this.generateCalendarEvents(),this.getCalendar(),setTimeout(()=>{console.log("attempting to rerender"),this.calendar.render()},500))}),!0}render(){return this.generateCalendarEvents(),Z`
            <link href="https://www.unpkg.com/@fullcalendar/common@5.7.0/main.css" rel="stylesheet">
            <div id="calendar"></div>
        `}};Wo.styles=yq,J([de()],Wo.prototype,"serverApi",2),J([de({type:Array})],Wo.prototype,"inquiries",2),J([de()],Wo.prototype,"scrollToTime",2),J([en()],Wo.prototype,"events",2),J([en()],Wo.prototype,"calendar",2),Wo=J([Ze("events-calendar")],Wo);var nA=class extends Jh{constructor(){super(...arguments);this.identifierLabel="Client";this.collectionKey="clients";this.id="";this.name=this.accessField("Name","New Client","text",1);this.email=this.accessField("Email","","email",2);this.phone=this.accessField("Phone","","tel",3)}},rA=nA;var vr=class extends Ve{constructor(){super(...arguments);this.serverApi=null;this.clients=null;this.inquiries=null;this.targetClient=null;this.client=null;this.targetInquiry=null;this.inquiry=null;this.slowMode=!1;this.showClientNewFieldPopup=!1;this.showInquiryNewFieldPopup=!1;this.selectClient=e=>{this.targetClient=e,this.requestUpdate()};this.selectInquiry=e=>{this.targetInquiry=e,this.requestUpdate()};this.createNewClient=()=>{console.log("testing"),new rA().init(this.serverApi,e=>console.log(e))};this.createNewInquiry=()=>{let e=new tA;e.parentClientId=this.client.id,e.init(this.serverApi,n=>console.log(n))};this.getClient=()=>{if(this.clients){let e=new rA;console.log(e),console.log("merging");let n=this.targetClient?this.clients.filter(r=>r.id===this.targetClient)[0]:this.clients[0];if(n)return e.mergeModel(n),e.init(this.serverApi),this.targetClient=e.id,this.client=e,e}else throw new Error("Clients have not been loaded yet.")};this.getInquiry=()=>{if(this.client&&this.inquiries){let e=new tA,n=this.targetInquiry?this.inquiries.filter(r=>r.id===this.targetInquiry)[0]:this.inquiries[0];if(n)return e.mergeModel(n),e.init(this.serverApi),this.targetInquiry=e.id,this.inquiry=e,e}else throw new Error("Inquiries have not been loaded yet.")};this.updateDB=e=>{let n=e.detail.data,r=n.collectionKey,i=n.docKey,o=n.value,a=n.fieldKey;console.log([r,i,a,o]),this.serverApi.setFieldValue(r,i,a,o)};this.updated=()=>{if(this.clients)if(!this.client||this.client.id!==this.targetClient)this.getClient();else{let e=this.clients.filter(n=>n.id===this.client.id)[0];for(let[n,r]of Object.entries(e))if(e[n]!==this.client[n]){this.client.mergeModel(e);break}}if(this.clients&&this.inquiries)if(!this.inquiry||this.inquiry.id!==this.targetInquiry)this.getInquiry();else{let e=!1,n=this.clients.filter(r=>r.id===this.client.id)[0];for(let[r,i]of Object.entries(n))if(n[r]!==this.inquiry[r]){this.client.mergeModel(n);break}}}}render(){return this.clients&&this.inquiries?Z`
        <mwc-drawer slot="content">
          <mwc-list>
            
            <!-- Client Creation Button -->
            <mwc-list-item class="list-button add" graphic="icon" @click="${this.createNewClient}" selected activated>
              <span>New Client</span>
              <mwc-icon slot="graphic" class="inverted">add</mwc-icon>
            </mwc-list-item>
            <li class="bottom-space" divider role="separator"></li>

            <!-- Map all Clients as list items -->
            ${this.clients.map(e=>Z`
              ${this.client&&this.client.id===e.id?Z`
                <mwc-list-item class="client-list-item" graphic="avatar" twoline @click="${()=>{this.selectClient(e.id)}}" selected activated>
                  <span>${e.name.value}</span>
                  <span slot="secondary">${e.email.value}</span>
                  <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
                </mwc-list-item>
              `:Z`
                <mwc-list-item class="client-list-item" graphic="avatar" twoline @click="${()=>{this.selectClient(e.id)}}">
                  <span>${e.name.value}</span>
                  <span slot="secondary">${e.email.value}</span>
                  <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
                </mwc-list-item>
              `}
                
                <!-- if Active Client, Map related inquiries as list items -->
                ${this.client&&this.client.id===e.id?Z`
                  <mwc-list class="nested">
                    <mwc-list-item class="inquiry-list-item list-button add" graphic="icon" @click="${this.createNewInquiry}" selected activated>
                      <span>New Inquiry</span>
                      <mwc-icon slot="graphic" class="inverted">add</mwc-icon>
                    </mwc-list-item>

                    <!-- Map all Inquiries related to Client as list items -->
                    ${this.inquiries.filter(n=>n.parentClientId===this.client.id).map(n=>Z`
                      ${this.inquiry&&this.inquiry.id===n.id?Z`
                          <mwc-list-item class="inquiry-list-item" graphic="icon" @click="${()=>{this.selectInquiry(n.id)}}" selected activated>
                            ${n.businessName.value}
                            <mwc-icon slot="graphic" class="inverted">subdirectory_arrow_right</mwc-icon>
                          </mwc-list-item>`:Z`
                          <mwc-list-item class="inquiry-list-item" graphic="icon" @click="${()=>{this.selectInquiry(n.id)}}">
                            ${n.businessName.value}
                            <mwc-icon slot="graphic" class="inverted">subdirectory_arrow_right</mwc-icon>
                          </mwc-list-item>`}
                    `)}
                    
                    <li class="bottom-space" divider role="separator"></li>
                  </mwc-list>
                `:null}
            `)}
          </mwc-list>
          ${this.client?Z`
            ${this.showClientNewFieldPopup?Z`
              <new-field-popup
                .serverApi="${this.serverApi}"
                .targetForm="${this.client}"
                @closepopup="${()=>{this.showClientNewFieldPopup=!1,setTimeout(()=>this.requestUpdate(),1e3)}}"
              ></new-field-popup>
            `:Z``}
            <div slot="appContent" style="display:flex; height: 100%;">
                  <content-item id="client-info">
                    <div class="title-bar indented">
                      <h1>${this.client.name}</h1>
                      <div class="button-collection-wrapper">
                        <div class="button-collection">
                          <div class="button-wrapper">
                            <mwc-icon-button class="delete-icon" icon="delete_forever" @click="${()=>this.client.remove(this.serverApi)}"></mwc-icon-button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="rounded">

                    <!-- Main Client Info -->
                    <div id="client-header">
                      <div id="client-portrait">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"/>
                      </div>
                      <div class="client-editable">
                        <form-wrapper
                          @value-changed="${this.updateDB}"
                          .serverApi="${this.serverApi}"
                          .docObject="${this.client}"
                          .size="${20}"
                        >
                        </form-wrapper>
                        <div class="button-collection-wrapper">
                          <div class="button-collection">
                            <div class="button-wrapper">
                              <mwc-button class="form-button" label="Add Field" @click="${()=>{this.showClientNewFieldPopup=!0,console.log(this.showClientNewFieldPopup)}}"></mwc-button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <hr class="rounded">
                    ${this.inquiry?Z`
                      ${this.showInquiryNewFieldPopup?Z`
                        <new-field-popup
                          .serverApi="${this.serverApi}"
                          .targetForm="${this.inquiry}"
                          @closepopup="${()=>{this.showInquiryNewFieldPopup=!1,setTimeout(()=>this.requestUpdate(),1e3)}}"
                        ></new-field-popup>
                      `:Z``}

                      <!-- Inquiry Info -->
                      <div id="inquiry-info">
                        ${this.inquiry.id===this.targetInquiry&&this.inquiry.parentClientId===this.client.id?Z`
                            <!-- show form if inquiry selected -->
                            <form-wrapper
                              @value-changed="${this.updateDB}"
                              .serverApi="${this.serverApi}"
                              .docObject="${this.inquiry}"
                              .showDelete="${!0}"
                              .size="${20}" 
                              .title="${"Inquiry Info"}"
                            >
                            </form-wrapper>
                            <div class="button-collection-wrapper">
                              <div class="button-collection">
                                <div class="button-wrapper">
                                  <mwc-button class="form-button" label="Add Field" @click="${()=>{this.showInquiryNewFieldPopup=!0,console.log(this.showInquiryNewFieldPopup)}}"></mwc-button>
                                </div>
                              </div>
                            </div>
                          `:Z``}
                    </div>
                    `:Z``}


                    <hr class="rounded">
                    
                    <div id="coorespondence">
                      <form-wrapper 
                          .size="${20}" 
                          .title="${"Coorespondence"}"
                        >
                        </form-wrapper>
                    </div>
                  </content-item>
                <content-item id="calendar">
  <!--                 <events-calendar
                    .inquiries= "${this.inquiries}"
                  >
                  </events-calendar> -->
                </content-item>
            </div>
          `:Z``}
        </mwc-drawer>
      `:Z`Loading...`}};vr.styles=t4,J([de({type:Object})],vr.prototype,"serverApi",2),J([de({type:Array})],vr.prototype,"clients",2),J([de({type:Array})],vr.prototype,"inquiries",2),J([en()],vr.prototype,"targetClient",2),J([en()],vr.prototype,"client",2),J([en()],vr.prototype,"targetInquiry",2),J([en()],vr.prototype,"inquiry",2),J([en()],vr.prototype,"slowMode",2),J([en()],vr.prototype,"showClientNewFieldPopup",2),J([en()],vr.prototype,"showInquiryNewFieldPopup",2),vr=J([Ze("clients-index")],vr);var mo=class extends Ve{constructor(){super(...arguments);this.open=!0;this.selectedPage="clients-display";this.clients=null;this.inquiries=null;this.firstUpdated=()=>{this.subscribeToServer()};this.subscribeToServer=()=>{this.serverApi.subscribeToServer(),this.serverApi.socket.on("dbInquiries",(e,n)=>{console.log("recieving inquiries"),e.inquiries!==this.inquiries&&(this.inquiries=e.inquiries),e.inquiries?n({status:"recieved"}):n({status:"failed"})}),this.serverApi.socket.on("dbClients",(e,n)=>{console.log("recieving clients"),console.log(e),e.clients!==this.clients&&(this.clients=e.clients),console.log(this.clients),e.clients?n({status:"recieved"}):n({status:"failed"})})};this.createPage=(e,n,r)=>({label:e,target:n,active:n===this.selectedPage,render:r});this.pages=()=>[this.createPage("Clients","clients-display",Z`
      <clients-index slot="content" .serverApi="${this.serverApi}" .clients="${this.clients}" .inquiries="${this.inquiries}"></clients-index>
    `),this.createPage("Calendar","calendar-page",Z`
    `),this.createPage("Ongoing","out-for-sign-page",Z`
    `),this.createPage("Bookings","bookings-page",Z`
    `),this.createPage("My Account","business-home",Z`
    `)];this.openDrawer=()=>{this.open=!this.open}}render(){return Z`
      <page-display>
        <mwc-drawer id="main-content-wrapper" slot="content" type="dismissible" ?open="${this.open}">
          <mwc-list-item twoline graphic="large" noninteractive>
            <span>${this.user.displayName}</span>
            <span slot="secondary">${this.user.email}</span>
            <mwc-icon slot="graphic" class="inverted">account_circle</mwc-icon>
          </mwc-list-item>  
          <mwc-list activatable>
            ${this.pages().map(e=>this.selectedPage==e.target?Z`
                  <li divider role="separator"></li>
                  <mwc-list-item twoline @click="${()=>{this.selectedPage=e.target.toString(),this.openDrawer}}" selected activated>${e.label}
                  </mwc-list-item>
                `:Z`
                  <mwc-list-item twoline @click="${()=>{this.selectedPage=e.target.toString(),this.openDrawer}}">${e.label}</mwc-list-item>
                `)}
          </mwc-list>
          <div id="appContent" slot="appContent">
              <mwc-top-app-bar>
                <mwc-icon-button slot="navigationIcon" @click="${this.openDrawer}">
                  <svg viewBox="0 0 100 80" width="40" height="40"><rect width="100" height="20"></rect><rect y="30" width="100" height="20"></rect><rect y="60" width="100" height="20"></rect></svg>
                </mwc-icon-button>
                  <div slot="title">Easy Events for Business</div>
              </mwc-top-app-bar>
              ${this.pages().filter(e=>e.target===this.selectedPage)[0].render}
          </div>
        </mwc-drawer>
      </page-display>
    `}};mo.styles=vt`
    :host {
      --mdc-drawer-width: 200px;
    }
    #main-content-wrapper {
      position: fixed;
      bottom: 0;
      right:0;
    }
    #appContent {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
  `,J([de({type:Boolean})],mo.prototype,"open",2),J([de({type:Object})],mo.prototype,"serverApi",2),J([de({type:String})],mo.prototype,"selectedPage",2),J([de({type:Object})],mo.prototype,"user",2),J([en()],mo.prototype,"clients",2),J([en()],mo.prototype,"inquiries",2),mo=J([Ze("business-index")],mo);var nd=class extends Ve{render(){return this.isLoggedIn===!0?Z`
        <business-index
          .serverApi = "${this.serverApi}"
          .user="${this.user}"
        >
        </business-index>
      `:Z`
        <auth-index
          .serverApi = "${this.serverApi}"
        ></auth-index>
      `}};J([de({type:Boolean})],nd.prototype,"isLoggedIn",2),J([de({type:Object})],nd.prototype,"user",2),J([de({type:Object})],nd.prototype,"serverApi",2),nd=J([Ze("page-router")],nd);var wq,Js=class extends Ve{constructor(){super(...arguments);this.loadedFirebase=null;this.serverApi=null;this.isLoggedIn=!1;this.userId=null;this.user=null;this.isDebug=!1;this.startServerApi=()=>{wq=(0,wh.default)();let e=HB(wq);this.loadedFirebase||e.getConfig(n=>{Q.apps.length?this.loadedFirebase=Q.app():this.loadedFirebase=Q.initializeApp(n)}),this.serverApi=e};this.restartServerApi=()=>{this.serverApi&&(this.serverApi.socket.close(),this.serverApi=null),this.startServerApi()};this.testSessionAuth=()=>{this.serverApi?this.serverApi.getApiKey(e=>{let n=JSON.parse(window.sessionStorage.getItem(`firebase:authUser:${e}:[DEFAULT]`));n?(this.user=n,this.userId=n.uid,this.serverApi.setUserId(n.uid),this.isLoggedIn=!0):this.isLoggedIn=!1}):this.restartServerApi()};this.firstUpdated=()=>{this.testSessionAuth()};this.test=!1}render(){return Z`
      <page-router
        @login-change="${this.testSessionAuth}"
        ?isloggedin = "${this.isLoggedIn||this.isDebug}"
        .user = "${this.user}"
        .serverApi = "${this.serverApi}"
      ></page-router>
    `}};J([de()],Js.prototype,"loadedFirebase",2),J([de()],Js.prototype,"serverApi",2),J([de({type:Boolean})],Js.prototype,"isLoggedIn",2),J([de()],Js.prototype,"userId",2),J([en()],Js.prototype,"user",2),Js=J([Ze("easy-events")],Js);})();
/*!
FullCalendar v5.7.0
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2020 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
/**
@license
Copyright 2021 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
//# sourceMappingURL=easy-events.js.map
